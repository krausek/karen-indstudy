<!doctype html>
<!-- The following comment is called a MOTW comment and is necessary for the TiddlyIE Internet Explorer extension -->
<!-- saved from url=(0021)http://tiddlywiki.com -->
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />		<!-- Force IE standards mode for Intranet and HTA - should be the first meta -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="application-name" content="TiddlyWiki" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.1.10" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="format-detection" content="telephone=no" />
<meta name="copyright" content="TiddlyWiki created by Jeremy Ruston, (jeremy [at] jermolene [dot] com)

Copyright © Jeremy Ruston 2004-2007
Copyright © UnaMesa Association 2007-2016

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

Redistributions in binary form must reproduce the above copyright notice, this
list of conditions and the following disclaimer in the documentation and/or other
materials provided with the distribution.

Neither the name of the UnaMesa Association nor the names of its contributors may be
used to endorse or promote products derived from this software without specific
prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS' AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.
" />
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<title>Folksonomy affordances of utilizing a hypertext platform to create a tag-rich photo repository — Karen Krause-Munson | IDT 599: Thesis/Project | Spring 2016</title>
<!--~~ This is a Tiddlywiki file. The points of interest in the file are marked with this pattern ~~--><!--~~ Raw markup ~~-->

</head>
<body class="tc-body">
<!--~~ Static styles ~~-->
<div id="styleArea">
<style data-tiddler-title="$:/boot/boot.css" data-tiddler-type="text/css" type="text/css">/*
Basic styles used before we boot up the parsing engine
*/

/*
Error message and password prompt
*/

.tc-password-wrapper, .tc-error-form {
    font-family: sans-serif;
  z-index: 20000;
  position: fixed;
  text-align: center;
  width: 200px;
  top: 4em;
    left: 50%;
    margin-left: -144px; /* - width/2 - paddingHorz/2 - border */
  padding: 16px 16px 16px 16px;
  border-radius: 8px;
}

.tc-error-form {
  color: #fff;
  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.5);
  background-color: rgb(255, 75, 75);
  border: 8px solid rgb(255, 0, 0);
  width: 480px;
    margin-left: -244px; /* - width/2 - paddingHorz/2 - border */
}

.tc-error-form div {
  padding-bottom: 1em;
}

.tc-error-prompt {
  color: #000;
  text-shadow: none;
}

.tc-password-wrapper {
  color: #000;
  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
  background-color: rgb(197, 235, 183);
  border: 8px solid rgb(164, 197, 152);
}

.tc-password-wrapper form {
  text-align: left;
}

.tc-password-wrapper h1 {
  font-size: 16px;
  line-height: 20px;
  padding-bottom: 16px;
}

.tc-password-wrapper input {
  width: 100%;
}
</style>
</div>
<!--~~ Static content for Google and browsers without JavaScript ~~-->
<noscript>
<div id="splashArea">

<p>This <a class="tc-tiddlylink-external" href="http://tiddlywiki.com" target="_blank">TiddlyWiki</a> contains the following tiddlers:</p><p><ul>

<li>$:/config/DefaultSidebarTab</li>

<li>$:/config/Navigation/openLinkFromInsideRiver</li>

<li>$:/config/Navigation/openLinkFromOutsideRiver</li>

<li>$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/close-all</li>

<li>$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/home</li>

<li>$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/tag-manager</li>

<li>$:/config/Toolbar/Text</li>

<li>$:/core</li>

<li>$:/DefaultTiddlers</li>

<li>$:/Import</li>

<li>$:/isEncrypted</li>

<li>$:/plugins/felixhayashi/hotzone</li>

<li>$:/plugins/felixhayashi/tiddlymap</li>

<li>$:/plugins/felixhayashi/tiddlymap/graph/nodeTypes/tmap:neighbour</li>

<li>$:/plugins/felixhayashi/tiddlymap/graph/views/Default/filter/edges</li>

<li>$:/plugins/felixhayashi/tiddlymap/graph/views/Default/filter/nodes</li>

<li>$:/plugins/felixhayashi/tiddlymap/graph/views/Default/map</li>

<li>$:/plugins/felixhayashi/tiddlymap/graph/views/Live View/filter/edges</li>

<li>$:/plugins/felixhayashi/tiddlymap/misc/meta</li>

<li>$:/plugins/felixhayashi/topstoryview</li>

<li>$:/plugins/felixhayashi/vis</li>

<li>$:/SiteSubtitle</li>

<li>$:/SiteTitle</li>

<li>$:/state/showeditpreview</li>

<li>$:/state/tab--1963855381</li>

<li>$:/state/tab--2112689675</li>

<li>$:/state/tab--959111941</li>

<li>$:/state/tab-1749438307</li>

<li>$:/state/tab/moresidebar-401116514</li>

<li>$:/state/tab/sidebar--1835078512</li>

<li>$:/state/tabs/controlpanel/toolbars-1345989671</li>

<li>$:/state/toc/Contents-Abstract-209360082</li>

<li>$:/state/toc/Contents-Literature Review-209360082</li>

<li>$:/state/toc/Contents-Reference-209360082</li>

<li>$:/state/toc/Thesis-Abstract-952405645</li>

<li>$:/state/toc/Thesis-Approach-952405645</li>

<li>$:/state/toc/Thesis-Bibliography-952405645</li>

<li>$:/state/toc/TOC-Abstract-1679107817</li>

<li>$:/state/toc/TOC-Approach  phase 1-1679107817</li>

<li>$:/state/toc/TOC-Conclusion-1679107817</li>

<li>$:/state/toc/TOC-Literature Review-1679107817</li>

<li>$:/state/toc/TOC-Reference-1679107817</li>

<li>$:/state/toc/TOC-References-1679107817</li>

<li>$:/state/toc/TOC-Themes-1679107817</li>

<li>$:/state/toc/TOC-Understandings-1679107817</li>

<li>$:/StoryList</li>

<li>$:/temp/focussedTiddler</li>

<li>$:/temp/info-plugin</li>

<li>$:/temp/RenameTags/replace</li>

<li>$:/temp/RenameTags/search</li>

<li>$:/temp/search</li>

<li>$:/temp/tmap/currentTiddler</li>

<li>$:/themes/tiddlywiki/snowwhite</li>

<li>$:/themes/tiddlywiki/vanilla</li>

<li>$:/view</li>

<li>About TiddlySpace</li>

<li>Abstract</li>

<li>Additional tags created</li>

<li>Approach</li>

<li>Approach Phase 1</li>

<li>Approach Phase 2</li>

<li>Approach Phase 3</li>

<li>argument of narrative project vs database project</li>

<li>asas$:/plugins/felixhayashi/tiddlymap</li>

<li>Cai2014Exploring</li>

<li>Cantador2011Categorising</li>

<li>Conclusion</li>

<li>Contents</li>

<li>deFigueiredo et all's view of image retrieval</li>

<li>deFigueiredo et all's view of tag recommendation</li>

<li>deFigueiredo2015ContextContent</li>

<li>Defining Folksonomies</li>

<li>Defining Folksonomy</li>

<li>Draft of 'Literature Review'</li>

<li>Draft of 'Tag Recommendation'</li>

<li>Elements within a folksonomy</li>

<li>Explanation</li>

<li>Fall 2015 - Intro to Project</li>

<li>Fall 2015 - Questions to Consider</li>

<li>Folksonomy</li>

<li>folksonomy</li>

<li>Folksonomy Database Structure</li>

<li>Gruber2008CollectiveKnowledge</li>

<li>Have fun with</li>

<li>Hirsu2015TagWriting</li>

<li>How Users Tag</li>

<li>Hypertext</li>

<li>Image Retrieval</li>

<li>images...more images</li>

<li>Introduction</li>

<li>Kim et all's view of image retrieval</li>

<li>Kim2012FolksonomySearch</li>

<li>Lee2010MAP</li>

<li>Lee2010Tag Image</li>

<li>Lee2010TagRefinement</li>

<li>Ley2015HumanCategorization</li>

<li>Literature Review</li>

<li>Mika2007OntologiesAreUs</li>

<li>Nelson1987LiteraryMachines</li>

<li>Nocera et all's view of tag recommendation</li>

<li>Nocera2011SocialFolksonomy</li>

<li>Parent and child tags</li>

<li>Qian et all's view of image retrieval</li>

<li>Qian et all's view of tag recommendation</li>

<li>Qian2013Vocabularies</li>

<li>questions</li>

<li>Reference</li>

<li>RenameTags</li>

<li>Reviewing this thesis</li>

<li>Ruston2016TiddlyWiki</li>

<li>Signature - Title Page</li>

<li>Snyder2004NewMedia</li>

<li>Spring 2016 - Integrating PopUp Tagger</li>

<li>Spring 2016 - Slight change of focus</li>

<li>Strohmaier2012TaggingMotivation</li>

<li>Tag Recommendation</li>

<li>Tag Types</li>

<li>tagging</li>

<li>Tagging</li>

<li>template</li>

<li>The Project Space</li>

<li>Themes</li>

<li>Thesis</li>

<li>Thesis Statement &amp; Questions</li>

<li>Thesis Template</li>

<li>thoughts</li>

<li>thoughts from readings combined</li>

<li>TiddlyMap!!</li>

<li>TiddlyWiki</li>

<li>Tiddlywiki</li>

<li>Tiddlywiki's evolution</li>

<li>TOC</li>

<li>tocEntry</li>

<li>TW5</li>

<li>Types of tags</li>

<li>Understandings</li>

<li>university setting and tagging experiment</li>

<li>Untitled</li>

<li>Utica Community Members</li>

<li>Utilizing TiddlyWiki as the project platform</li>

<li>VanLaere2013Georeferencing</li>

<li>Video of my final presentation</li>

<li>Web 2.0 Influences</li>

<li>Welcome!</li>

<li>What is hypertext?</li>

<li>What tags were included at the start?</li>

<li>Why GitHub?</li>

<li>Why more than one webpage?</li>

<li>Why Users Tag</li>

<li>Wikipedia: Folksonomy</li>

<li>Wikipedia: Web 2.0</li>

<li>Winter break 2016</li>

<li>Wu2015ItemRecomendation</li>

<li>Wu2015ItemRecommendation</li>

<li>Xie et all's view of image retrieval</li>

<li>Xie2016IncorporatingSentiment</li>

<li>Zhang2013SocialImageTagging</li>

<li>Zheng2011RecommenderSystem</li>

</ul>
</p>



</div>
</noscript>
<!--~~ Ordinary tiddlers ~~-->

<div id="storeArea" style="display:none;">
<div created="20160321184840096" modified="20160321184840096" title="$:/config/DefaultSidebarTab">
<pre>Contents</pre>
</div>
<div title="$:/config/Navigation/openLinkFromInsideRiver">
<pre>above</pre>
</div>
<div title="$:/config/Navigation/openLinkFromOutsideRiver">
<pre>top</pre>
</div>
<div created="20160218075717366" modified="20160218075717366" title="$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/close-all">
<pre>show</pre>
</div>
<div created="20160218075715951" modified="20160218075715951" title="$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/home">
<pre>show</pre>
</div>
<div created="20160218075724214" modified="20160218075724214" title="$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/tag-manager">
<pre>show</pre>
</div>
<div created="20160218075615167" modified="20160326164716078" title="$:/config/Toolbar/Text">
<pre>yes</pre>
</div>
<div author="JeremyRuston" core-version="&gt;=5.0.0" dependents="" description="TiddlyWiki5 core" list="readme" plugin-priority="0" plugin-type="plugin" title="$:/core" type="application/json" version="5.1.10">
<pre>{
    &quot;tiddlers&quot;: {
        &quot;$:/Acknowledgements&quot;: {
            &quot;title&quot;: &quot;$:/Acknowledgements&quot;,
            &quot;type&quot;: &quot;text/vnd.tiddlywiki&quot;,
            &quot;text&quot;: &quot;TiddlyWiki incorporates code from these fine OpenSource projects:\n\n* [[The Stanford Javascript Crypto Library|http://bitwiseshiftleft.github.io/sjcl/]]\n* [[The Jasmine JavaScript Test Framework|http://pivotal.github.io/jasmine/]]\n* [[Normalize.css by Nicolas Gallagher|http://necolas.github.io/normalize.css/]]\n\nAnd media from these projects:\n\n* World flag icons from [[Wikipedia|http://commons.wikimedia.org/wiki/Category:SVG_flags_by_country]]\n&quot;
        },
        &quot;$:/core/copyright.txt&quot;: {
            &quot;title&quot;: &quot;$:/core/copyright.txt&quot;,
            &quot;type&quot;: &quot;text/plain&quot;,
            &quot;text&quot;: &quot;TiddlyWiki created by Jeremy Ruston, (jeremy [at] jermolene [dot] com)\n\nCopyright © Jeremy Ruston 2004-2007\nCopyright © UnaMesa Association 2007-2016\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\nRedistributions of source code must retain the above copyright notice, this\nlist of conditions and the following disclaimer.\n\nRedistributions in binary form must reproduce the above copyright notice, this\nlist of conditions and the following disclaimer in the documentation and/or other\nmaterials provided with the distribution.\n\nNeither the name of the UnaMesa Association nor the names of its contributors may be\nused to endorse or promote products derived from this software without specific\nprior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS' AND ANY\nEXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\nOF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT\nSHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,\nINCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED\nTO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR\nBUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\nCONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN\nANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH\nDAMAGE.\n&quot;
        },
        &quot;$:/core/icon&quot;: {
            &quot;title&quot;: &quot;$:/core/icon&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;&lt;path d=\&quot;M64 0l54.56 32v64L64 128 9.44 96V32L64 0zm21.127 95.408c-3.578-.103-5.15-.094-6.974-3.152l-1.42.042c-1.653-.075-.964-.04-2.067-.097-1.844-.07-1.548-1.86-1.873-2.8-.52-3.202.687-6.43.65-9.632-.014-1.14-1.593-5.17-2.157-6.61-1.768.34-3.546.406-5.34.497-4.134-.01-8.24-.527-12.317-1.183-.8 3.35-3.16 8.036-1.21 11.44 2.37 3.52 4.03 4.495 6.61 4.707 2.572.212 3.16 3.18 2.53 4.242-.55.73-1.52.864-2.346 1.04l-1.65.08c-1.296-.046-2.455-.404-3.61-.955-1.93-1.097-3.925-3.383-5.406-5.024.345.658.55 1.938.24 2.53-.878 1.27-4.665 1.26-6.4.47-1.97-.89-6.73-7.162-7.468-11.86 1.96-3.78 4.812-7.07 6.255-11.186-3.146-2.05-4.83-5.384-4.61-9.16l.08-.44c-3.097.59-1.49.37-4.82.628-10.608-.032-19.935-7.37-14.68-18.774.34-.673.664-1.287 1.243-.994.466.237.4 1.18.166 2.227-3.005 13.627 11.67 13.732 20.69 11.21.89-.25 2.67-1.936 3.905-2.495 2.016-.91 4.205-1.282 6.376-1.55 5.4-.63 11.893 2.276 15.19 2.37 3.3.096 7.99-.805 10.87-.615 2.09.098 4.143.483 6.16 1.03 1.306-6.49 1.4-11.27 4.492-12.38 1.814.293 3.213 2.818 4.25 4.167 2.112-.086 4.12.46 6.115 1.066 3.61-.522 6.642-2.593 9.833-4.203-3.234 2.69-3.673 7.075-3.303 11.127.138 2.103-.444 4.386-1.164 6.54-1.348 3.507-3.95 7.204-6.97 7.014-1.14-.036-1.805-.695-2.653-1.4-.164 1.427-.81 2.7-1.434 3.96-1.44 2.797-5.203 4.03-8.687 7.016-3.484 2.985 1.114 13.65 2.23 15.594 1.114 1.94 4.226 2.652 3.02 4.406-.37.58-.936.785-1.54 1.01l-.82.11zm-40.097-8.85l.553.14c.694-.27 2.09.15 2.83.353-1.363-1.31-3.417-3.24-4.897-4.46-.485-1.47-.278-2.96-.174-4.46l.02-.123c-.582 1.205-1.322 2.376-1.72 3.645-.465 1.71 2.07 3.557 3.052 4.615l.336.3z\&quot; fill-rule=\&quot;evenodd\&quot;/&gt;&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/advanced-search-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/advanced-search-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-advanced-search-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M74.5651535,87.9848361 C66.9581537,93.0488876 57.8237115,96 48,96 C21.490332,96 0,74.509668 0,48 C0,21.490332 21.490332,0 48,0 C74.509668,0 96,21.490332 96,48 C96,57.8541369 93.0305793,67.0147285 87.9377231,74.6357895 L122.284919,108.982985 C125.978897,112.676963 125.973757,118.65366 122.284271,122.343146 C118.593975,126.033442 112.613238,126.032921 108.92411,122.343793 L74.5651535,87.9848361 Z M48,80 C65.673112,80 80,65.673112 80,48 C80,30.326888 65.673112,16 48,16 C30.326888,16 16,30.326888 16,48 C16,65.673112 30.326888,80 48,80 Z\&quot;&gt;&lt;/path&gt;\n        &lt;circle cx=\&quot;48\&quot; cy=\&quot;48\&quot; r=\&quot;8\&quot;&gt;&lt;/circle&gt;\n        &lt;circle cx=\&quot;28\&quot; cy=\&quot;48\&quot; r=\&quot;8\&quot;&gt;&lt;/circle&gt;\n        &lt;circle cx=\&quot;68\&quot; cy=\&quot;48\&quot; r=\&quot;8\&quot;&gt;&lt;/circle&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/blank&quot;: {
            &quot;title&quot;: &quot;$:/core/images/blank&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-blank tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/cancel-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/cancel-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-cancel-button tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;\n\t&lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n\t    &lt;path d=\&quot;M64,76.3137085 L47.0294734,93.2842351 C43.9038742,96.4098343 38.8399231,96.4084656 35.7157288,93.2842712 C32.5978915,90.166434 32.5915506,85.0947409 35.7157649,81.9705266 L52.6862915,65 L35.7157649,48.0294734 C32.5901657,44.9038742 32.5915344,39.8399231 35.7157288,36.7157288 C38.833566,33.5978915 43.9052591,33.5915506 47.0294734,36.7157649 L64,53.6862915 L80.9705266,36.7157649 C84.0961258,33.5901657 89.1600769,33.5915344 92.2842712,36.7157288 C95.4021085,39.833566 95.4084494,44.9052591 92.2842351,48.0294734 L75.3137085,65 L92.2842351,81.9705266 C95.4098343,85.0961258 95.4084656,90.1600769 92.2842712,93.2842712 C89.166434,96.4021085 84.0947409,96.4084494 80.9705266,93.2842351 L64,76.3137085 Z M64,129 C99.346224,129 128,100.346224 128,65 C128,29.653776 99.346224,1 64,1 C28.653776,1 1.13686838e-13,29.653776 1.13686838e-13,65 C1.13686838e-13,100.346224 28.653776,129 64,129 Z M64,113 C90.509668,113 112,91.509668 112,65 C112,38.490332 90.509668,17 64,17 C37.490332,17 16,38.490332 16,65 C16,91.509668 37.490332,113 64,113 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/chevron-down&quot;: {
            &quot;title&quot;: &quot;$:/core/images/chevron-down&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-chevron-down tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n\t&lt;g fill-rule=\&quot;evenodd\&quot; transform=\&quot;translate(64.000000, 40.500000) rotate(-270.000000) translate(-64.000000, -40.500000) translate(-22.500000, -26.500000)\&quot;&gt;\n        &lt;path d=\&quot;M112.743107,112.12741 C111.310627,113.561013 109.331747,114.449239 107.145951,114.449239 L27.9777917,114.449239 C23.6126002,114.449239 20.0618714,110.904826 20.0618714,106.532572 C20.0618714,102.169214 23.6059497,98.6159054 27.9777917,98.6159054 L99.2285381,98.6159054 L99.2285381,27.365159 C99.2285381,22.9999675 102.77295,19.4492387 107.145205,19.4492387 C111.508562,19.4492387 115.061871,22.993317 115.061871,27.365159 L115.061871,106.533318 C115.061871,108.71579 114.175869,110.694669 112.743378,112.127981 Z\&quot; transform=\&quot;translate(67.561871, 66.949239) rotate(-45.000000) translate(-67.561871, -66.949239) \&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M151.35638,112.12741 C149.923899,113.561013 147.94502,114.449239 145.759224,114.449239 L66.5910645,114.449239 C62.225873,114.449239 58.6751442,110.904826 58.6751442,106.532572 C58.6751442,102.169214 62.2192225,98.6159054 66.5910645,98.6159054 L137.841811,98.6159054 L137.841811,27.365159 C137.841811,22.9999675 141.386223,19.4492387 145.758478,19.4492387 C150.121835,19.4492387 153.675144,22.993317 153.675144,27.365159 L153.675144,106.533318 C153.675144,108.71579 152.789142,110.694669 151.356651,112.127981 Z\&quot; transform=\&quot;translate(106.175144, 66.949239) rotate(-45.000000) translate(-106.175144, -66.949239) \&quot;&gt;&lt;/path&gt;\n\t&lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/chevron-left&quot;: {
            &quot;title&quot;: &quot;$:/core/images/chevron-left&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-chevron-left tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot; version=\&quot;1.1\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot; transform=\&quot;translate(92.500000, 64.000000) rotate(-180.000000) translate(-92.500000, -64.000000) translate(6.000000, -3.000000)\&quot;&gt;\n        &lt;path d=\&quot;M112.743107,112.12741 C111.310627,113.561013 109.331747,114.449239 107.145951,114.449239 L27.9777917,114.449239 C23.6126002,114.449239 20.0618714,110.904826 20.0618714,106.532572 C20.0618714,102.169214 23.6059497,98.6159054 27.9777917,98.6159054 L99.2285381,98.6159054 L99.2285381,27.365159 C99.2285381,22.9999675 102.77295,19.4492387 107.145205,19.4492387 C111.508562,19.4492387 115.061871,22.993317 115.061871,27.365159 L115.061871,106.533318 C115.061871,108.71579 114.175869,110.694669 112.743378,112.127981 Z\&quot; transform=\&quot;translate(67.561871, 66.949239) rotate(-45.000000) translate(-67.561871, -66.949239) \&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M151.35638,112.12741 C149.923899,113.561013 147.94502,114.449239 145.759224,114.449239 L66.5910645,114.449239 C62.225873,114.449239 58.6751442,110.904826 58.6751442,106.532572 C58.6751442,102.169214 62.2192225,98.6159054 66.5910645,98.6159054 L137.841811,98.6159054 L137.841811,27.365159 C137.841811,22.9999675 141.386223,19.4492387 145.758478,19.4492387 C150.121835,19.4492387 153.675144,22.993317 153.675144,27.365159 L153.675144,106.533318 C153.675144,108.71579 152.789142,110.694669 151.356651,112.127981 Z\&quot; transform=\&quot;translate(106.175144, 66.949239) rotate(-45.000000) translate(-106.175144, -66.949239) \&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/chevron-right&quot;: {
            &quot;title&quot;: &quot;$:/core/images/chevron-right&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-chevron-right tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot; transform=\&quot;translate(-48.000000, -3.000000)\&quot;&gt;\n        &lt;path d=\&quot;M112.743107,112.12741 C111.310627,113.561013 109.331747,114.449239 107.145951,114.449239 L27.9777917,114.449239 C23.6126002,114.449239 20.0618714,110.904826 20.0618714,106.532572 C20.0618714,102.169214 23.6059497,98.6159054 27.9777917,98.6159054 L99.2285381,98.6159054 L99.2285381,27.365159 C99.2285381,22.9999675 102.77295,19.4492387 107.145205,19.4492387 C111.508562,19.4492387 115.061871,22.993317 115.061871,27.365159 L115.061871,106.533318 C115.061871,108.71579 114.175869,110.694669 112.743378,112.127981 Z\&quot; transform=\&quot;translate(67.561871, 66.949239) rotate(-45.000000) translate(-67.561871, -66.949239) \&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M151.35638,112.12741 C149.923899,113.561013 147.94502,114.449239 145.759224,114.449239 L66.5910645,114.449239 C62.225873,114.449239 58.6751442,110.904826 58.6751442,106.532572 C58.6751442,102.169214 62.2192225,98.6159054 66.5910645,98.6159054 L137.841811,98.6159054 L137.841811,27.365159 C137.841811,22.9999675 141.386223,19.4492387 145.758478,19.4492387 C150.121835,19.4492387 153.675144,22.993317 153.675144,27.365159 L153.675144,106.533318 C153.675144,108.71579 152.789142,110.694669 151.356651,112.127981 Z\&quot; transform=\&quot;translate(106.175144, 66.949239) rotate(-45.000000) translate(-106.175144, -66.949239) \&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/chevron-up&quot;: {
            &quot;title&quot;: &quot;$:/core/images/chevron-up&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-chevron-up tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n\t&lt;g fill-rule=\&quot;evenodd\&quot; transform=\&quot;translate(64.000000, 89.500000) rotate(-90.000000) translate(-64.000000, -89.500000) translate(-22.500000, 22.500000)\&quot;&gt;\n        &lt;path d=\&quot;M112.743107,112.12741 C111.310627,113.561013 109.331747,114.449239 107.145951,114.449239 L27.9777917,114.449239 C23.6126002,114.449239 20.0618714,110.904826 20.0618714,106.532572 C20.0618714,102.169214 23.6059497,98.6159054 27.9777917,98.6159054 L99.2285381,98.6159054 L99.2285381,27.365159 C99.2285381,22.9999675 102.77295,19.4492387 107.145205,19.4492387 C111.508562,19.4492387 115.061871,22.993317 115.061871,27.365159 L115.061871,106.533318 C115.061871,108.71579 114.175869,110.694669 112.743378,112.127981 Z\&quot; transform=\&quot;translate(67.561871, 66.949239) rotate(-45.000000) translate(-67.561871, -66.949239) \&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M151.35638,112.12741 C149.923899,113.561013 147.94502,114.449239 145.759224,114.449239 L66.5910645,114.449239 C62.225873,114.449239 58.6751442,110.904826 58.6751442,106.532572 C58.6751442,102.169214 62.2192225,98.6159054 66.5910645,98.6159054 L137.841811,98.6159054 L137.841811,27.365159 C137.841811,22.9999675 141.386223,19.4492387 145.758478,19.4492387 C150.121835,19.4492387 153.675144,22.993317 153.675144,27.365159 L153.675144,106.533318 C153.675144,108.71579 152.789142,110.694669 151.356651,112.127981 Z\&quot; transform=\&quot;translate(106.175144, 66.949239) rotate(-45.000000) translate(-106.175144, -66.949239) \&quot;&gt;&lt;/path&gt;\n\t&lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/clone-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/clone-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-clone-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M32.2650915,96 L32.2650915,120.002359 C32.2650915,124.419334 35.8432884,128 40.2627323,128 L120.002359,128 C124.419334,128 128,124.421803 128,120.002359 L128,40.2627323 C128,35.8457573 124.421803,32.2650915 120.002359,32.2650915 L96,32.2650915 L96,48 L108.858899,48 C110.519357,48 111.853018,49.3405131 111.853018,50.9941198 L111.853018,108.858899 C111.853018,110.519357 110.512505,111.853018 108.858899,111.853018 L50.9941198,111.853018 C49.333661,111.853018 48,110.512505 48,108.858899 L48,96 L32.2650915,96 Z\&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M40,56 L32.0070969,56 C27.5881712,56 24,52.418278 24,48 C24,43.5907123 27.5848994,40 32.0070969,40 L40,40 L40,32.0070969 C40,27.5881712 43.581722,24 48,24 C52.4092877,24 56,27.5848994 56,32.0070969 L56,40 L63.9929031,40 C68.4118288,40 72,43.581722 72,48 C72,52.4092877 68.4151006,56 63.9929031,56 L56,56 L56,63.9929031 C56,68.4118288 52.418278,72 48,72 C43.5907123,72 40,68.4151006 40,63.9929031 L40,56 Z M7.9992458,0 C3.58138434,0 0,3.5881049 0,7.9992458 L0,88.0007542 C0,92.4186157 3.5881049,96 7.9992458,96 L88.0007542,96 C92.4186157,96 96,92.4118951 96,88.0007542 L96,7.9992458 C96,3.58138434 92.4118951,0 88.0007542,0 L7.9992458,0 Z M19.0010118,16 C17.3435988,16 16,17.336731 16,19.0010118 L16,76.9989882 C16,78.6564012 17.336731,80 19.0010118,80 L76.9989882,80 C78.6564012,80 80,78.663269 80,76.9989882 L80,19.0010118 C80,17.3435988 78.663269,16 76.9989882,16 L19.0010118,16 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/close-all-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/close-all-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-close-all-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot; transform=\&quot;translate(-23.000000, -23.000000)\&quot;&gt;\n        &lt;path d=\&quot;M43,131 L22.9976794,131 C18.5827987,131 15,127.418278 15,123 C15,118.590712 18.5806831,115 22.9976794,115 L43,115 L43,94.9976794 C43,90.5827987 46.581722,87 51,87 C55.4092877,87 59,90.5806831 59,94.9976794 L59,115 L79.0023206,115 C83.4172013,115 87,118.581722 87,123 C87,127.409288 83.4193169,131 79.0023206,131 L59,131 L59,151.002321 C59,155.417201 55.418278,159 51,159 C46.5907123,159 43,155.419317 43,151.002321 L43,131 Z\&quot; transform=\&quot;translate(51.000000, 123.000000) rotate(-45.000000) translate(-51.000000, -123.000000) \&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M43,59 L22.9976794,59 C18.5827987,59 15,55.418278 15,51 C15,46.5907123 18.5806831,43 22.9976794,43 L43,43 L43,22.9976794 C43,18.5827987 46.581722,15 51,15 C55.4092877,15 59,18.5806831 59,22.9976794 L59,43 L79.0023206,43 C83.4172013,43 87,46.581722 87,51 C87,55.4092877 83.4193169,59 79.0023206,59 L59,59 L59,79.0023206 C59,83.4172013 55.418278,87 51,87 C46.5907123,87 43,83.4193169 43,79.0023206 L43,59 Z\&quot; transform=\&quot;translate(51.000000, 51.000000) rotate(-45.000000) translate(-51.000000, -51.000000) \&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M115,59 L94.9976794,59 C90.5827987,59 87,55.418278 87,51 C87,46.5907123 90.5806831,43 94.9976794,43 L115,43 L115,22.9976794 C115,18.5827987 118.581722,15 123,15 C127.409288,15 131,18.5806831 131,22.9976794 L131,43 L151.002321,43 C155.417201,43 159,46.581722 159,51 C159,55.4092877 155.419317,59 151.002321,59 L131,59 L131,79.0023206 C131,83.4172013 127.418278,87 123,87 C118.590712,87 115,83.4193169 115,79.0023206 L115,59 Z\&quot; transform=\&quot;translate(123.000000, 51.000000) rotate(-45.000000) translate(-123.000000, -51.000000) \&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M115,131 L94.9976794,131 C90.5827987,131 87,127.418278 87,123 C87,118.590712 90.5806831,115 94.9976794,115 L115,115 L115,94.9976794 C115,90.5827987 118.581722,87 123,87 C127.409288,87 131,90.5806831 131,94.9976794 L131,115 L151.002321,115 C155.417201,115 159,118.581722 159,123 C159,127.409288 155.419317,131 151.002321,131 L131,131 L131,151.002321 C131,155.417201 127.418278,159 123,159 C118.590712,159 115,155.419317 115,151.002321 L115,131 Z\&quot; transform=\&quot;translate(123.000000, 123.000000) rotate(-45.000000) translate(-123.000000, -123.000000) \&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/close-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/close-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-close-button tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M65.0864256,75.4091629 L14.9727349,125.522854 C11.8515951,128.643993 6.78104858,128.64922 3.65685425,125.525026 C0.539017023,122.407189 0.5336324,117.334539 3.65902635,114.209145 L53.7727171,64.0954544 L3.65902635,13.9817637 C0.537886594,10.8606239 0.532659916,5.79007744 3.65685425,2.6658831 C6.77469148,-0.451954124 11.8473409,-0.457338747 14.9727349,2.66805521 L65.0864256,52.7817459 L115.200116,2.66805521 C118.321256,-0.453084553 123.391803,-0.458311231 126.515997,2.6658831 C129.633834,5.78372033 129.639219,10.8563698 126.513825,13.9817637 L76.4001341,64.0954544 L126.513825,114.209145 C129.634965,117.330285 129.640191,122.400831 126.515997,125.525026 C123.39816,128.642863 118.32551,128.648248 115.200116,125.522854 L65.0864256,75.4091629 L65.0864256,75.4091629 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/core/images/close-others-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/close-others-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-close-others-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M64,128 C99.346224,128 128,99.346224 128,64 C128,28.653776 99.346224,0 64,0 C28.653776,0 0,28.653776 0,64 C0,99.346224 28.653776,128 64,128 Z M64,112 C90.509668,112 112,90.509668 112,64 C112,37.490332 90.509668,16 64,16 C37.490332,16 16,37.490332 16,64 C16,90.509668 37.490332,112 64,112 Z M64,96 C81.673112,96 96,81.673112 96,64 C96,46.326888 81.673112,32 64,32 C46.326888,32 32,46.326888 32,64 C32,81.673112 46.326888,96 64,96 Z M64,80 C72.836556,80 80,72.836556 80,64 C80,55.163444 72.836556,48 64,48 C55.163444,48 48,55.163444 48,64 C48,72.836556 55.163444,80 64,80 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/delete-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/delete-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-delete-button tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot; transform=\&quot;translate(12.000000, 0.000000)\&quot;&gt;\n        &lt;rect x=\&quot;0\&quot; y=\&quot;11\&quot; width=\&quot;105\&quot; height=\&quot;16\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;rect x=\&quot;28\&quot; y=\&quot;0\&quot; width=\&quot;48\&quot; height=\&quot;16\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;rect x=\&quot;8\&quot; y=\&quot;16\&quot; width=\&quot;16\&quot; height=\&quot;112\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;rect x=\&quot;8\&quot; y=\&quot;112\&quot; width=\&quot;88\&quot; height=\&quot;16\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;rect x=\&quot;80\&quot; y=\&quot;16\&quot; width=\&quot;16\&quot; height=\&quot;112\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;rect x=\&quot;56\&quot; y=\&quot;16\&quot; width=\&quot;16\&quot; height=\&quot;112\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;rect x=\&quot;32\&quot; y=\&quot;16\&quot; width=\&quot;16\&quot; height=\&quot;112\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/done-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/done-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-done-button tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M3.52445141,76.8322939 C2.07397484,75.3828178 1.17514421,73.3795385 1.17514421,71.1666288 L1.17514421,23.1836596 C1.17514421,18.7531992 4.75686621,15.1751442 9.17514421,15.1751442 C13.5844319,15.1751442 17.1751442,18.7606787 17.1751442,23.1836596 L17.1751442,63.1751442 L119.173716,63.1751442 C123.590457,63.1751442 127.175144,66.7568662 127.175144,71.1751442 C127.175144,75.5844319 123.592783,79.1751442 119.173716,79.1751442 L9.17657227,79.1751442 C6.96796403,79.1751442 4.9674142,78.279521 3.51911285,76.8315312 Z\&quot; id=\&quot;Rectangle-285\&quot; transform=\&quot;translate(64.175144, 47.175144) rotate(-45.000000) translate(-64.175144, -47.175144) \&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/down-arrow&quot;: {
            &quot;title&quot;: &quot;$:/core/images/down-arrow&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-down-arrow tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;\n    &lt;path d=\&quot;M109.35638,81.3533152 C107.923899,82.7869182 105.94502,83.6751442 103.759224,83.6751442 L24.5910645,83.6751442 C20.225873,83.6751442 16.6751442,80.1307318 16.6751442,75.7584775 C16.6751442,71.3951199 20.2192225,67.8418109 24.5910645,67.8418109 L95.8418109,67.8418109 L95.8418109,-3.40893546 C95.8418109,-7.77412698 99.3862233,-11.3248558 103.758478,-11.3248558 C108.121835,-11.3248558 111.675144,-7.78077754 111.675144,-3.40893546 L111.675144,75.7592239 C111.675144,77.9416955 110.789142,79.9205745 109.356651,81.3538862 Z\&quot; transform=\&quot;translate(64.175144, 36.175144) rotate(45.000000) translate(-64.175144, -36.175144) \&quot;&gt;&lt;/path&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/download-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/download-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-download-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;&lt;g fill-rule=\&quot;evenodd\&quot;&gt;&lt;path class=\&quot;tc-image-download-button-ring\&quot; d=\&quot;M64,128 C99.346224,128 128,99.346224 128,64 C128,28.653776 99.346224,0 64,0 C28.653776,0 0,28.653776 0,64 C0,99.346224 28.653776,128 64,128 Z M64,112 C90.509668,112 112,90.509668 112,64 C112,37.490332 90.509668,16 64,16 C37.490332,16 16,37.490332 16,64 C16,90.509668 37.490332,112 64,112 Z\&quot;/&gt;&lt;path d=\&quot;M34.3496823,66.4308767 L61.2415823,93.634668 C63.0411536,95.4551107 65.9588502,95.4551107 67.7584215,93.634668 L94.6503215,66.4308767 C96.4498928,64.610434 96.4498928,61.6588981 94.6503215,59.8384554 C93.7861334,58.9642445 92.6140473,58.4731195 91.3919019,58.4731195 L82.9324098,58.4731195 C80.3874318,58.4731195 78.3243078,56.3860674 78.3243078,53.8115729 L78.3243078,38.6615466 C78.3243078,36.0870521 76.2611837,34 73.7162058,34 L55.283798,34 C52.7388201,34 50.675696,36.0870521 50.675696,38.6615466 L50.675696,38.6615466 L50.675696,53.8115729 C50.675696,56.3860674 48.612572,58.4731195 46.0675941,58.4731195 L37.608102,58.4731195 C35.063124,58.4731195 33,60.5601716 33,63.134666 C33,64.3709859 33.4854943,65.5566658 34.3496823,66.4308767 L34.3496823,66.4308767 Z\&quot;/&gt;&lt;/g&gt;&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/edit-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/edit-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-edit-button tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M116.870058,45.3431458 L108.870058,45.3431458 L108.870058,45.3431458 L108.870058,61.3431458 L116.870058,61.3431458 L116.870058,45.3431458 Z M124.870058,45.3431458 L127.649881,45.3431458 C132.066101,45.3431458 135.656854,48.9248678 135.656854,53.3431458 C135.656854,57.7524334 132.07201,61.3431458 127.649881,61.3431458 L124.870058,61.3431458 L124.870058,45.3431458 Z M100.870058,45.3431458 L15.6638275,45.3431458 C15.5064377,45.3431458 15.3501085,45.3476943 15.1949638,45.3566664 L15.1949638,45.3566664 C15.0628002,45.3477039 14.928279,45.3431458 14.7913977,45.3431458 C6.68160973,45.3431458 -8.34314575,53.3431458 -8.34314575,53.3431458 C-8.34314575,53.3431458 6.85614548,61.3431458 14.7913977,61.3431458 C14.9266533,61.3431458 15.0596543,61.3384973 15.190398,61.3293588 C15.3470529,61.3385075 15.5049057,61.3431458 15.6638275,61.3431458 L100.870058,61.3431458 L100.870058,45.3431458 L100.870058,45.3431458 Z\&quot; transform=\&quot;translate(63.656854, 53.343146) rotate(-45.000000) translate(-63.656854, -53.343146) \&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M35.1714596,124.189544 C41.9594858,123.613403 49.068777,121.917633 58.85987,118.842282 C60.6854386,118.268877 62.4306907,117.705515 65.1957709,116.802278 C81.1962861,111.575575 87.0734839,109.994907 93.9414474,109.655721 C102.29855,109.242993 107.795169,111.785371 111.520478,118.355045 C112.610163,120.276732 115.051363,120.951203 116.97305,119.861518 C118.894737,118.771832 119.569207,116.330633 118.479522,114.408946 C113.146151,105.003414 104.734907,101.112919 93.5468356,101.66546 C85.6716631,102.054388 79.4899908,103.716944 62.7116783,109.197722 C59.9734132,110.092199 58.2519873,110.64787 56.4625698,111.20992 C37.002649,117.322218 25.6914684,118.282267 16.8654804,112.957098 C14.9739614,111.815848 12.5154166,112.424061 11.3741667,114.31558 C10.2329168,116.207099 10.84113,118.665644 12.7326489,119.806894 C19.0655164,123.627836 26.4866335,124.926678 35.1714596,124.189544 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/export-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/export-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-export-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M8.00348646,127.999999 C8.00464867,128 8.00581094,128 8.00697327,128 L119.993027,128 C122.205254,128 124.207939,127.101378 125.657096,125.651198 L125.656838,125.65759 C127.104563,124.210109 128,122.21009 128,119.999949 L128,56.0000511 C128,51.5817449 124.409288,48 120,48 C115.581722,48 112,51.5797863 112,56.0000511 L112,112 L16,112 L16,56.0000511 C16,51.5817449 12.4092877,48 8,48 C3.581722,48 7.10542736e-15,51.5797863 7.10542736e-15,56.0000511 L7.10542736e-15,119.999949 C7.10542736e-15,124.418255 3.59071231,128 8,128 C8.00116233,128 8.0023246,128 8.00348681,127.999999 Z M56.6235633,27.3113724 L47.6580188,36.2769169 C44.5333664,39.4015692 39.4634864,39.4061295 36.339292,36.2819351 C33.2214548,33.1640979 33.2173444,28.0901742 36.3443103,24.9632084 L58.9616908,2.34582788 C60.5248533,0.782665335 62.5748436,0.000361191261 64.624516,2.38225238e-14 L64.6193616,0.00151809229 C66.6695374,0.000796251595 68.7211167,0.781508799 70.2854358,2.34582788 L92.9028163,24.9632084 C96.0274686,28.0878607 96.0320289,33.1577408 92.9078345,36.2819351 C89.7899973,39.3997724 84.7160736,39.4038827 81.5891078,36.2769169 L72.6235633,27.3113724 L72.6235633,88.5669606 C72.6235633,92.9781015 69.0418413,96.5662064 64.6235633,96.5662064 C60.2142756,96.5662064 56.6235633,92.984822 56.6235633,88.5669606 L56.6235633,27.3113724 L56.6235633,27.3113724 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/file&quot;: {
            &quot;title&quot;: &quot;$:/core/images/file&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-file tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;nonzero\&quot;&gt;\n        &lt;path d=\&quot;M111.96811,30.5 L112,30.5 L112,119.999079 C112,124.417866 108.419113,128 104.000754,128 L23.9992458,128 C19.5813843,128 16,124.417687 16,119.999079 L16,8.00092105 C16,3.58213437 19.5808867,0 23.9992458,0 L81,0 L81,0.0201838424 C83.1589869,-0.071534047 85.3482153,0.707077645 86.9982489,2.35711116 L109.625176,24.9840387 C111.151676,26.510538 111.932942,28.4998414 111.96811,30.5 L111.96811,30.5 Z M81,8 L24,8 L24,120 L104,120 L104,30.5 L89.0003461,30.5 C84.5818769,30.5 81,26.9216269 81,22.4996539 L81,8 Z\&quot;&gt;&lt;/path&gt;\n        &lt;rect x=\&quot;32\&quot; y=\&quot;36\&quot; width=\&quot;64\&quot; height=\&quot;8\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;rect x=\&quot;32\&quot; y=\&quot;52\&quot; width=\&quot;64\&quot; height=\&quot;8\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;rect x=\&quot;32\&quot; y=\&quot;68\&quot; width=\&quot;64\&quot; height=\&quot;8\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;rect x=\&quot;32\&quot; y=\&quot;84\&quot; width=\&quot;64\&quot; height=\&quot;8\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;rect x=\&quot;32\&quot; y=\&quot;100\&quot; width=\&quot;64\&quot; height=\&quot;8\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;rect x=\&quot;32\&quot; y=\&quot;20\&quot; width=\&quot;40\&quot; height=\&quot;8\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/fold-all-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/fold-all-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-fold-all tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;rect x=\&quot;0\&quot; y=\&quot;0\&quot; width=\&quot;128\&quot; height=\&quot;16\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;rect x=\&quot;0\&quot; y=\&quot;64\&quot; width=\&quot;128\&quot; height=\&quot;16\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;path d=\&quot;M64.0292774,58.6235628 C61.9791013,58.6242848 59.9275217,57.8435723 58.3632024,56.279253 L35.7458219,33.6618725 C32.6211696,30.5372202 32.6166093,25.4673401 35.7408036,22.3431458 C38.8586409,19.2253085 43.9325646,19.2211982 47.0595304,22.348164 L64.0250749,39.3137085 L80.9906194,22.348164 C84.1152717,19.2235117 89.1851518,19.2189514 92.3093461,22.3431458 C95.4271834,25.460983 95.4312937,30.5349067 92.3043279,33.6618725 L69.6869474,56.279253 C68.1237851,57.8424153 66.0737951,58.6247195 64.0241231,58.6250809 Z\&quot; transform=\&quot;translate(64.024316, 39.313708) scale(1, -1) translate(-64.024316, -39.313708) \&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M64.0292774,123.621227 C61.9791013,123.621949 59.9275217,122.841236 58.3632024,121.276917 L35.7458219,98.6595365 C32.6211696,95.5348842 32.6166093,90.4650041 35.7408036,87.3408098 C38.8586409,84.2229725 43.9325646,84.2188622 47.0595304,87.345828 L64.0250749,104.311373 L80.9906194,87.345828 C84.1152717,84.2211757 89.1851518,84.2166154 92.3093461,87.3408098 C95.4271834,90.458647 95.4312937,95.5325707 92.3043279,98.6595365 L69.6869474,121.276917 C68.1237851,122.840079 66.0737951,123.622383 64.0241231,123.622745 Z\&quot; transform=\&quot;translate(64.024316, 104.311372) scale(1, -1) translate(-64.024316, -104.311372) \&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/fold-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/fold-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-fold tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;rect x=\&quot;0\&quot; y=\&quot;0\&quot; width=\&quot;128\&quot; height=\&quot;16\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;path d=\&quot;M64.0292774,63.6235628 C61.9791013,63.6242848 59.9275217,62.8435723 58.3632024,61.279253 L35.7458219,38.6618725 C32.6211696,35.5372202 32.6166093,30.4673401 35.7408036,27.3431458 C38.8586409,24.2253085 43.9325646,24.2211982 47.0595304,27.348164 L64.0250749,44.3137085 L80.9906194,27.348164 C84.1152717,24.2235117 89.1851518,24.2189514 92.3093461,27.3431458 C95.4271834,30.460983 95.4312937,35.5349067 92.3043279,38.6618725 L69.6869474,61.279253 C68.1237851,62.8424153 66.0737951,63.6247195 64.0241231,63.6250809 Z\&quot; transform=\&quot;translate(64.024316, 44.313708) scale(1, -1) translate(-64.024316, -44.313708) \&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M64.0049614,105.998482 C61.9547853,105.999204 59.9032057,105.218491 58.3388864,103.654172 L35.7215059,81.0367916 C32.5968535,77.9121393 32.5922933,72.8422592 35.7164876,69.7180649 C38.8343248,66.6002276 43.9082485,66.5961173 47.0352144,69.7230831 L64.0007589,86.6886276 L80.9663034,69.7230831 C84.0909557,66.5984308 89.1608358,66.5938705 92.2850301,69.7180649 C95.4028673,72.8359021 95.4069777,77.9098258 92.2800119,81.0367916 L69.6626314,103.654172 C68.099469,105.217334 66.0494791,105.999639 63.999807,106 Z\&quot; transform=\&quot;translate(64.000000, 86.688628) scale(1, -1) translate(-64.000000, -86.688628) \&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/fold-others-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/fold-others-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-fold-others tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;rect x=\&quot;0\&quot; y=\&quot;56.0314331\&quot; width=\&quot;128\&quot; height=\&quot;16\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;path d=\&quot;M101.657101,104.948818 C100.207918,103.498614 98.2051847,102.599976 95.9929031,102.599976 L72,102.599976 L72,78.6070725 C72,76.3964271 71.1036108,74.3936927 69.6545293,72.9441002 L69.6571005,72.9488183 C68.2079177,71.4986143 66.2051847,70.5999756 63.9929031,70.5999756 L32.0070969,70.5999756 C27.5881712,70.5999756 24,74.1816976 24,78.5999756 C24,83.0092633 27.5848994,86.5999756 32.0070969,86.5999756 L56,86.5999756 L56,110.592879 C56,112.803524 56.8963895,114.806259 58.3454713,116.255852 L58.3429,116.251133 C59.7920828,117.701337 61.7948156,118.599976 64.0070969,118.599976 L88,118.599976 L88,142.592879 C88,147.011804 91.581722,150.599976 96,150.599976 C100.409288,150.599976 104,147.015076 104,142.592879 L104,110.607072 C104,108.396427 103.103611,106.393693 101.654529,104.9441 Z\&quot; transform=\&quot;translate(64.000000, 110.599976) rotate(-45.000000) translate(-64.000000, -110.599976) \&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M101.725643,11.7488671 C100.27646,10.2986632 98.2737272,9.40002441 96.0614456,9.40002441 L72.0685425,9.40002441 L72.0685425,-14.5928787 C72.0685425,-16.8035241 71.1721533,-18.8062584 69.7230718,-20.255851 L69.725643,-20.2511329 C68.2764602,-21.7013368 66.2737272,-22.5999756 64.0614456,-22.5999756 L32.0756394,-22.5999756 C27.6567137,-22.5999756 24.0685425,-19.0182536 24.0685425,-14.5999756 C24.0685425,-10.1906879 27.6534419,-6.59997559 32.0756394,-6.59997559 L56.0685425,-6.59997559 L56.0685425,17.3929275 C56.0685425,19.6035732 56.964932,21.6063078 58.4140138,23.0559004 L58.4114425,23.0511823 C59.8606253,24.5013859 61.8633581,25.4000244 64.0756394,25.4000244 L88.0685425,25.4000244 L88.0685425,49.3929275 C88.0685425,53.8118532 91.6502645,57.4000244 96.0685425,57.4000244 C100.47783,57.4000244 104.068542,53.815125 104.068542,49.3929275 L104.068542,17.4071213 C104.068542,15.1964759 103.172153,13.1937416 101.723072,11.744149 Z\&quot; transform=\&quot;translate(64.068542, 17.400024) scale(1, -1) rotate(-45.000000) translate(-64.068542, -17.400024) \&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/folder&quot;: {
            &quot;title&quot;: &quot;$:/core/images/folder&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-folder tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M55.6943257,128.000004 L7.99859666,128.000004 C3.5810937,128.000004 0,124.413822 0,119.996384 L0,48.0036243 C0,43.5833471 3.58387508,40.0000044 7.99859666,40.0000044 L16,40.0000044 L16,31.9999914 C16,27.5817181 19.5783731,24 24.0003461,24 L55.9996539,24 C60.4181231,24 64,27.5800761 64,31.9999914 L64,40.0000044 L104.001403,40.0000044 C108.418906,40.0000044 112,43.5861868 112,48.0036243 L112,59.8298353 L104,59.7475921 L104,51.9994189 C104,49.7887607 102.207895,48.0000044 99.9972215,48.0000044 L56,48.0000044 L56,36.0000255 C56,33.7898932 54.2072328,32 51.9957423,32 L28.0042577,32 C25.7890275,32 24,33.7908724 24,36.0000255 L24,48.0000044 L12.0027785,48.0000044 C9.78987688,48.0000044 8,49.7906032 8,51.9994189 L8,116.00059 C8,118.211248 9.79210499,120.000004 12.0027785,120.000004 L58.7630167,120.000004 L55.6943257,128.000004 L55.6943257,128.000004 Z\&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M23.8728955,55.5 L119.875702,55.5 C124.293205,55.5 126.87957,59.5532655 125.650111,64.5630007 L112.305967,118.936999 C111.077582,123.942356 106.497904,128 102.083183,128 L6.08037597,128 C1.66287302,128 -0.923492342,123.946735 0.305967145,118.936999 L13.650111,64.5630007 C14.878496,59.5576436 19.4581739,55.5 23.8728955,55.5 L23.8728955,55.5 L23.8728955,55.5 Z M25.6530124,64 L113.647455,64 C115.858129,64 117.151473,66.0930612 116.538306,68.6662267 L105.417772,115.333773 C104.803671,117.910859 102.515967,120 100.303066,120 L12.3086228,120 C10.0979492,120 8.8046054,117.906939 9.41777189,115.333773 L20.5383062,68.6662267 C21.1524069,66.0891409 23.4401107,64 25.6530124,64 L25.6530124,64 L25.6530124,64 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/full-screen-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/full-screen-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-full-screen-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g&gt;\n        &lt;g&gt;\n            &lt;path d=\&quot;M5.29777586e-31,8 C1.59060409e-15,3.581722 3.581722,0 8,0 L40,0 C44.418278,0 48,3.581722 48,8 C48,12.418278 44.418278,16 40,16 L16,16 L16,40 C16,44.418278 12.418278,48 8,48 C3.581722,48 -3.55271368e-15,44.418278 0,40 L3.55271368e-15,8 Z\&quot;&gt;&lt;/path&gt;\n        &lt;/g&gt;\n        &lt;g transform=\&quot;translate(104.000000, 104.000000) rotate(-180.000000) translate(-104.000000, -104.000000) translate(80.000000, 80.000000)\&quot;&gt;\n            &lt;path d=\&quot;M5.29777586e-31,8 C1.59060409e-15,3.581722 3.581722,0 8,0 L40,0 C44.418278,0 48,3.581722 48,8 C48,12.418278 44.418278,16 40,16 L16,16 L16,40 C16,44.418278 12.418278,48 8,48 C3.581722,48 -3.55271368e-15,44.418278 0,40 L3.55271368e-15,8 Z\&quot;&gt;&lt;/path&gt;\n        &lt;/g&gt;\n        &lt;g transform=\&quot;translate(24.000000, 104.000000) rotate(-90.000000) translate(-24.000000, -104.000000) translate(0.000000, 80.000000)\&quot;&gt;\n            &lt;path d=\&quot;M5.29777586e-31,8 C1.59060409e-15,3.581722 3.581722,0 8,0 L40,0 C44.418278,0 48,3.581722 48,8 C48,12.418278 44.418278,16 40,16 L16,16 L16,40 C16,44.418278 12.418278,48 8,48 C3.581722,48 -3.55271368e-15,44.418278 0,40 L3.55271368e-15,8 Z\&quot;&gt;&lt;/path&gt;\n        &lt;/g&gt;\n        &lt;g transform=\&quot;translate(104.000000, 24.000000) rotate(90.000000) translate(-104.000000, -24.000000) translate(80.000000, 0.000000)\&quot;&gt;\n            &lt;path d=\&quot;M5.29777586e-31,8 C1.59060409e-15,3.581722 3.581722,0 8,0 L40,0 C44.418278,0 48,3.581722 48,8 C48,12.418278 44.418278,16 40,16 L16,16 L16,40 C16,44.418278 12.418278,48 8,48 C3.581722,48 -3.55271368e-15,44.418278 0,40 L3.55271368e-15,8 Z\&quot;&gt;&lt;/path&gt;\n        &lt;/g&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/github&quot;: {
            &quot;title&quot;: &quot;$:/core/images/github&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-github tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n        &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n            &lt;path d=\&quot;M63.9383506,1.60695328 C28.6017227,1.60695328 -0.055756057,30.2970814 -0.055756057,65.6906208 C-0.055756057,94.003092 18.2804728,118.019715 43.7123154,126.493393 C46.9143781,127.083482 48.0812647,125.104717 48.0812647,123.405261 C48.0812647,121.886765 48.02626,117.85449 47.9948287,112.508284 C30.1929317,116.379268 26.4368926,103.916587 26.4368926,103.916587 C23.5255693,96.5129372 19.3294921,94.5420399 19.3294921,94.5420399 C13.5186324,90.5687739 19.7695302,90.6474524 19.7695302,90.6474524 C26.1933001,91.099854 29.5721638,97.2525155 29.5721638,97.2525155 C35.2808718,107.044059 44.5531024,104.215566 48.1991321,102.575118 C48.7806109,98.4366275 50.4346826,95.612068 52.2616263,94.0109598 C38.0507543,92.3941159 23.1091047,86.8944862 23.1091047,62.3389152 C23.1091047,55.3443933 25.6039634,49.6205298 29.6978889,45.1437211 C29.0378318,43.5229433 26.8415704,37.0044266 30.3265147,28.1845627 C30.3265147,28.1845627 35.6973364,26.4615028 47.9241083,34.7542205 C53.027764,33.330139 58.5046663,32.6220321 63.9462084,32.5944947 C69.3838216,32.6220321 74.856795,33.330139 79.9683085,34.7542205 C92.1872225,26.4615028 97.5501864,28.1845627 97.5501864,28.1845627 C101.042989,37.0044266 98.8467271,43.5229433 98.190599,45.1437211 C102.292382,49.6205298 104.767596,55.3443933 104.767596,62.3389152 C104.767596,86.9574291 89.8023734,92.3744463 75.5482834,93.9598188 C77.8427675,95.9385839 79.8897303,99.8489072 79.8897303,105.828476 C79.8897303,114.392635 79.8111521,121.304544 79.8111521,123.405261 C79.8111521,125.120453 80.966252,127.114954 84.2115327,126.489459 C109.623731,117.996111 127.944244,93.9952241 127.944244,65.6906208 C127.944244,30.2970814 99.2867652,1.60695328 63.9383506,1.60695328\&quot;&gt;&lt;/path&gt;\n        &lt;/g&gt;\n    &lt;/svg&gt;\n&quot;
        },
        &quot;$:/core/images/globe&quot;: {
            &quot;title&quot;: &quot;$:/core/images/globe&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-globe tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M72.8111354,37.1275855 C72.8111354,37.9789875 72.8111354,38.8303894 72.8111354,39.6817913 C72.8111354,41.8784743 73.7885604,46.5631866 72.8111354,48.5143758 C71.3445471,51.4420595 68.1617327,52.0543531 66.4170946,54.3812641 C65.2352215,55.9575873 61.7987417,64.9821523 62.7262858,67.3005778 C66.6959269,77.2228204 74.26087,70.4881886 80.6887657,76.594328 C81.5527211,77.415037 83.5758191,78.8666631 83.985137,79.8899578 C87.2742852,88.1128283 76.4086873,94.8989524 87.7419325,106.189751 C88.9872885,107.430443 91.555495,102.372895 91.8205061,101.575869 C92.6726866,99.0129203 98.5458765,96.1267309 100.908882,94.5234439 C102.928056,93.1534443 105.782168,91.8557166 107.236936,89.7775886 C109.507391,86.5342557 108.717505,82.2640435 110.334606,79.0328716 C112.473794,74.7585014 114.163418,69.3979002 116.332726,65.0674086 C120.230862,57.2857361 121.054075,67.1596684 121.400359,67.5059523 C121.757734,67.8633269 122.411167,67.5059523 122.916571,67.5059523 C123.011132,67.5059523 124.364019,67.6048489 124.432783,67.5059523 C125.0832,66.5705216 123.390209,49.5852316 123.114531,48.2089091 C121.710578,41.1996597 116.17083,32.4278331 111.249523,27.7092761 C104.975994,21.6942076 104.160516,11.5121686 92.9912146,12.7547535 C92.7872931,12.7774397 87.906794,22.9027026 85.2136766,26.2672064 C81.486311,30.9237934 82.7434931,22.1144904 78.6876623,22.1144904 C78.6065806,22.1144904 77.5045497,22.0107615 77.4353971,22.1144904 C76.8488637,22.9942905 75.9952305,26.0101404 75.1288269,26.5311533 C74.8635477,26.6906793 73.4071369,26.2924966 73.2826811,26.5311533 C71.0401728,30.8313939 81.5394677,28.7427264 79.075427,34.482926 C76.7225098,39.9642538 72.747373,32.4860199 72.747373,43.0434079\&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M44.4668556,7.01044608 C54.151517,13.1403033 45.1489715,19.2084878 47.1611905,23.2253896 C48.8157833,26.5283781 51.4021933,28.6198851 48.8753629,33.038878 C46.8123257,36.6467763 42.0052989,37.0050492 39.251679,39.7621111 C36.2115749,42.8060154 33.7884281,48.7028116 32.4624592,52.6732691 C30.8452419,57.5158356 47.0088721,59.5388126 44.5246867,63.6811917 C43.1386839,65.9923513 37.7785192,65.1466282 36.0880227,63.8791519 C34.9234453,63.0059918 32.4946425,63.3331166 31.6713597,62.0997342 C29.0575851,58.1839669 29.4107339,54.0758543 28.0457962,49.9707786 C27.1076833,47.1493864 21.732611,47.8501656 20.2022714,49.3776393 C19.6790362,49.8998948 19.8723378,51.1703278 19.8723378,51.8829111 C19.8723378,57.1682405 26.9914913,55.1986414 26.9914913,58.3421973 C26.9914913,72.9792302 30.9191897,64.8771867 38.1313873,69.6793121 C48.1678018,76.3618966 45.9763926,76.981595 53.0777543,84.0829567 C56.7511941,87.7563965 60.8192437,87.7689005 62.503478,93.3767069 C64.1046972,98.7081071 53.1759798,98.7157031 50.786754,100.825053 C49.663965,101.816317 47.9736094,104.970571 46.5680513,105.439676 C44.7757187,106.037867 43.334221,105.93607 41.6242359,107.219093 C39.1967302,109.040481 37.7241465,112.151588 37.6034934,112.030935 C35.4555278,109.88297 34.0848666,96.5511248 33.7147244,93.7726273 C33.1258872,89.3524817 28.1241923,88.2337027 26.7275443,84.7420826 C25.1572737,80.8164061 28.2518481,75.223612 25.599097,70.9819941 C19.0797019,60.557804 13.7775712,56.4811506 10.2493953,44.6896152 C9.3074899,41.5416683 13.5912267,38.1609942 15.1264825,35.8570308 C17.0029359,33.0410312 17.7876232,30.0028946 19.8723378,27.2224065 C22.146793,24.1888519 40.8551166,9.46076832 43.8574051,8.63490613 L44.4668556,7.01044608 Z\&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M64,126 C98.2416545,126 126,98.2416545 126,64 C126,29.7583455 98.2416545,2 64,2 C29.7583455,2 2,29.7583455 2,64 C2,98.2416545 29.7583455,126 64,126 Z M64,120 C94.927946,120 120,94.927946 120,64 C120,33.072054 94.927946,8 64,8 C33.072054,8 8,33.072054 8,64 C8,94.927946 33.072054,120 64,120 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/help&quot;: {
            &quot;title&quot;: &quot;$:/core/images/help&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-help tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M36.0548906,111.44117 C30.8157418,115.837088 20.8865444,118.803477 9.5,118.803477 C7.86465619,118.803477 6.25937294,118.742289 4.69372699,118.624467 C12.612543,115.984876 18.7559465,110.02454 21.0611049,102.609942 C8.74739781,92.845129 1.04940554,78.9359851 1.04940554,63.5 C1.04940554,33.9527659 29.2554663,10 64.0494055,10 C98.8433448,10 127.049406,33.9527659 127.049406,63.5 C127.049406,93.0472341 98.8433448,117 64.0494055,117 C53.9936953,117 44.48824,114.999337 36.0548906,111.44117 L36.0548906,111.44117 Z M71.4042554,77.5980086 C71.406883,77.2865764 71.4095079,76.9382011 71.4119569,76.5610548 C71.4199751,75.3262169 71.4242825,74.0811293 71.422912,72.9158546 C71.4215244,71.736154 71.4143321,70.709635 71.4001396,69.8743525 C71.4078362,68.5173028 71.9951951,67.7870427 75.1273009,65.6385471 C75.2388969,65.5619968 76.2124091,64.8981068 76.5126553,64.6910879 C79.6062455,62.5580654 81.5345849,60.9050204 83.2750652,58.5038955 C85.6146327,55.2762841 86.8327108,51.426982 86.8327108,46.8554323 C86.8327108,33.5625756 76.972994,24.9029551 65.3778484,24.9029551 C54.2752771,24.9029551 42.8794554,34.5115163 41.3121702,47.1975534 C40.9043016,50.4989536 43.2499725,53.50591 46.5513726,53.9137786 C49.8527728,54.3216471 52.8597292,51.9759763 53.2675978,48.6745761 C54.0739246,42.1479456 60.2395837,36.9492759 65.3778484,36.9492759 C70.6427674,36.9492759 74.78639,40.5885487 74.78639,46.8554323 C74.78639,50.4892974 73.6853224,52.008304 69.6746221,54.7736715 C69.4052605,54.9593956 68.448509,55.6118556 68.3131127,55.7047319 C65.6309785,57.5445655 64.0858213,58.803255 62.6123358,60.6352315 C60.5044618,63.2559399 59.3714208,66.3518252 59.3547527,69.9487679 C59.3684999,70.8407274 59.3752803,71.8084521 59.3765995,72.9300232 C59.3779294,74.0607297 59.3737237,75.2764258 59.36589,76.482835 C59.3634936,76.8518793 59.3609272,77.1924914 59.3583633,77.4963784 C59.3568319,77.6778944 59.3556368,77.8074256 59.3549845,77.8730928 C59.3219814,81.1994287 61.9917551,83.9227111 65.318091,83.9557142 C68.644427,83.9887173 71.3677093,81.3189435 71.4007124,77.9926076 C71.4014444,77.9187458 71.402672,77.7856841 71.4042554,77.5980086 Z M65.3778489,102.097045 C69.5359735,102.097045 72.9067994,98.7262189 72.9067994,94.5680944 C72.9067994,90.4099698 69.5359735,87.0391439 65.3778489,87.0391439 C61.2197243,87.0391439 57.8488984,90.4099698 57.8488984,94.5680944 C57.8488984,98.7262189 61.2197243,102.097045 65.3778489,102.097045 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/home-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/home-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-home-button tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M112.9847,119.501583 C112.99485,119.336814 113,119.170705 113,119.003406 L113,67.56802 C116.137461,70.5156358 121.076014,70.4518569 124.133985,67.3938855 C127.25818,64.2696912 127.260618,59.2068102 124.131541,56.0777326 L70.3963143,2.34250601 C68.8331348,0.779326498 66.7828947,-0.000743167069 64.7337457,1.61675364e-05 C62.691312,-0.00409949529 60.6426632,0.777559815 59.077717,2.34250601 L33,28.420223 L33,28.420223 L33,8.00697327 C33,3.58484404 29.4092877,0 25,0 C20.581722,0 17,3.59075293 17,8.00697327 L17,44.420223 L5.3424904,56.0777326 C2.21694607,59.2032769 2.22220878,64.2760483 5.34004601,67.3938855 C8.46424034,70.5180798 13.5271213,70.5205187 16.6561989,67.3914411 L17,67.04764 L17,119.993027 C17,119.994189 17.0000002,119.995351 17.0000007,119.996514 C17.0000002,119.997675 17,119.998838 17,120 C17,124.418278 20.5881049,128 24.9992458,128 L105.000754,128 C109.418616,128 113,124.409288 113,120 C113,119.832611 112.99485,119.666422 112.9847,119.501583 Z M97,112 L97,51.5736087 L97,51.5736087 L64.7370156,19.3106244 L33,51.04764 L33,112 L97,112 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/import-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/import-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-import-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M105.449437,94.2138951 C105.449437,94.2138951 110.049457,94.1897106 110.049457,99.4026111 C110.049457,104.615512 105.163246,104.615511 105.163246,104.615511 L45.0075072,105.157833 C45.0075072,105.157833 0.367531803,106.289842 0.367532368,66.6449212 C0.367532934,27.0000003 45.0428249,27.0000003 45.0428249,27.0000003 L105.532495,27.0000003 C105.532495,27.0000003 138.996741,25.6734987 138.996741,55.1771866 C138.996741,84.6808745 105.727102,82.8457535 105.727102,82.8457535 L56.1735087,82.8457535 C56.1735087,82.8457535 22.6899229,85.1500223 22.6899229,66.0913753 C22.6899229,47.0327282 56.1735087,49.3383013 56.1735087,49.3383013 L105.727102,49.3383013 C105.727102,49.3383013 111.245209,49.3383024 111.245209,54.8231115 C111.245209,60.3079206 105.727102,60.5074524 105.727102,60.5074524 L56.1735087,60.5074524 C56.1735087,60.5074524 37.48913,60.5074528 37.48913,66.6449195 C37.48913,72.7823862 56.1735087,71.6766023 56.1735087,71.6766023 L105.727102,71.6766029 C105.727102,71.6766029 127.835546,73.1411469 127.835546,55.1771866 C127.835546,35.5304025 105.727102,38.3035317 105.727102,38.3035317 L45.0428249,38.3035317 C45.0428249,38.3035317 11.5287276,38.3035313 11.5287276,66.6449208 C11.5287276,94.9863103 45.0428244,93.9579678 45.0428244,93.9579678 L105.449437,94.2138951 Z\&quot; transform=\&quot;translate(69.367532, 66.000000) rotate(-45.000000) translate(-69.367532, -66.000000) \&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/info-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/info-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-info-button tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;g transform=\&quot;translate(0.049406, 0.000000)\&quot;&gt;\n            &lt;path d=\&quot;M64,128 C99.346224,128 128,99.346224 128,64 C128,28.653776 99.346224,0 64,0 C28.653776,0 0,28.653776 0,64 C0,99.346224 28.653776,128 64,128 Z M64,112 C90.509668,112 112,90.509668 112,64 C112,37.490332 90.509668,16 64,16 C37.490332,16 16,37.490332 16,64 C16,90.509668 37.490332,112 64,112 Z\&quot;&gt;&lt;/path&gt;\n            &lt;circle cx=\&quot;64\&quot; cy=\&quot;32\&quot; r=\&quot;8\&quot;&gt;&lt;/circle&gt;\n            &lt;rect x=\&quot;56\&quot; y=\&quot;48\&quot; width=\&quot;16\&quot; height=\&quot;56\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;/g&gt;\n    &lt;/g&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/left-arrow&quot;: {
            &quot;created&quot;: &quot;20150315234410875&quot;,
            &quot;modified&quot;: &quot;20150315235324760&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;title&quot;: &quot;$:/core/images/left-arrow&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-left-arrow tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;path transform=\&quot;rotate(135, 63.8945, 64.1752)\&quot; d=\&quot;m109.07576,109.35336c-1.43248,1.43361 -3.41136,2.32182 -5.59717,2.32182l-79.16816,0c-4.36519,0 -7.91592,-3.5444 -7.91592,-7.91666c0,-4.36337 3.54408,-7.91667 7.91592,-7.91667l71.25075,0l0,-71.25075c0,-4.3652 3.54442,-7.91592 7.91667,-7.91592c4.36336,0 7.91667,3.54408 7.91667,7.91592l0,79.16815c0,2.1825 -0.88602,4.16136 -2.3185,5.59467l-0.00027,-0.00056z\&quot;/&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/core/images/locked-padlock&quot;: {
            &quot;title&quot;: &quot;$:/core/images/locked-padlock&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-locked-padlock tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M96.4723753,64 L105,64 L105,96.0097716 C105,113.673909 90.6736461,128 73.001193,128 L55.998807,128 C38.3179793,128 24,113.677487 24,96.0097716 L24,64 L32.0000269,64 C32.0028554,48.2766389 32.3030338,16.2688026 64.1594984,16.2688041 C95.9543927,16.2688056 96.4648869,48.325931 96.4723753,64 Z M80.5749059,64 L48.4413579,64 C48.4426205,47.71306 48.5829272,31.9999996 64.1595001,31.9999996 C79.8437473,31.9999996 81.1369461,48.1359182 80.5749059,64 Z M67.7315279,92.3641717 C70.8232551,91.0923621 73,88.0503841 73,84.5 C73,79.8055796 69.1944204,76 64.5,76 C59.8055796,76 56,79.8055796 56,84.5 C56,87.947435 58.0523387,90.9155206 61.0018621,92.2491029 L55.9067479,115.020857 L72.8008958,115.020857 L67.7315279,92.3641717 L67.7315279,92.3641717 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/mail&quot;: {
            &quot;title&quot;: &quot;$:/core/images/mail&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-mail tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M122.826782,104.894066 C121.945525,105.22777 120.990324,105.41043 119.993027,105.41043 L8.00697327,105.41043 C7.19458381,105.41043 6.41045219,105.289614 5.67161357,105.064967 L5.67161357,105.064967 L39.8346483,70.9019325 L60.6765759,91.7438601 C61.6118278,92.679112 62.8865166,93.0560851 64.0946097,92.8783815 C65.2975108,93.0473238 66.5641085,92.6696979 67.4899463,91.7438601 L88.5941459,70.6396605 C88.6693095,70.7292352 88.7490098,70.8162939 88.8332479,70.9005321 L122.826782,104.894066 Z M127.903244,98.6568194 C127.966933,98.2506602 128,97.8343714 128,97.4103789 L128,33.410481 C128,32.7414504 127.917877,32.0916738 127.763157,31.4706493 L94.2292399,65.0045665 C94.3188145,65.0797417 94.4058701,65.1594458 94.4901021,65.2436778 L127.903244,98.6568194 Z M0.205060636,99.2178117 C0.0709009529,98.6370366 0,98.0320192 0,97.4103789 L0,33.410481 C0,32.694007 0.0944223363,31.9995312 0.27147538,31.3387595 L0.27147538,31.3387595 L34.1777941,65.2450783 L0.205060636,99.2178117 L0.205060636,99.2178117 Z M5.92934613,25.6829218 C6.59211333,25.5051988 7.28862283,25.4104299 8.00697327,25.4104299 L119.993027,25.4104299 C120.759109,25.4104299 121.500064,25.5178649 122.201605,25.7184927 L122.201605,25.7184927 L64.0832611,83.8368368 L5.92934613,25.6829218 L5.92934613,25.6829218 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/menu-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/menu-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-menu-button tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;\n    &lt;rect x=\&quot;0\&quot; y=\&quot;16\&quot; width=\&quot;128\&quot; height=\&quot;16\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n    &lt;rect x=\&quot;0\&quot; y=\&quot;56\&quot; width=\&quot;128\&quot; height=\&quot;16\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n    &lt;rect x=\&quot;0\&quot; y=\&quot;96\&quot; width=\&quot;128\&quot; height=\&quot;16\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/new-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/new-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-new-button tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M56,72 L8.00697327,72 C3.59075293,72 0,68.418278 0,64 C0,59.5907123 3.58484404,56 8.00697327,56 L56,56 L56,8.00697327 C56,3.59075293 59.581722,0 64,0 C68.4092877,0 72,3.58484404 72,8.00697327 L72,56 L119.993027,56 C124.409247,56 128,59.581722 128,64 C128,68.4092877 124.415156,72 119.993027,72 L72,72 L72,119.993027 C72,124.409247 68.418278,128 64,128 C59.5907123,128 56,124.415156 56,119.993027 L56,72 L56,72 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/new-here-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/new-here-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-new-here-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n    \t&lt;g transform=\&quot;translate(52.233611, 64.389922) rotate(75.000000) translate(-52.233611, -64.389922) translate(-7.734417, 3.702450)\&quot;&gt;\n\t        &lt;path d=\&quot;M18.9270186,45.959338 L18.9080585,49.6521741 C18.8884833,53.4648378 21.0574548,58.7482162 23.7526408,61.4434022 L78.5671839,116.257945 C81.2617332,118.952495 85.6348701,118.950391 88.3334363,116.251825 L115.863237,88.7220241 C118.555265,86.0299959 118.564544,81.6509578 115.869358,78.9557717 L61.0548144,24.1412286 C58.3602652,21.4466794 53.0787224,19.2788426 49.2595808,19.3006519 L25.9781737,19.4336012 C22.1633003,19.4553862 19.0471195,22.5673232 19.0275223,26.3842526 L18.9871663,34.2443819 C19.0818862,34.255617 19.1779758,34.2665345 19.2754441,34.2771502 C22.6891275,34.6489512 27.0485594,34.2348566 31.513244,33.2285542 C31.7789418,32.8671684 32.075337,32.5211298 32.4024112,32.1940556 C34.8567584,29.7397084 38.3789778,29.0128681 41.4406288,30.0213822 C41.5958829,29.9543375 41.7503946,29.8866669 41.9041198,29.8183808 L42.1110981,30.2733467 C43.1114373,30.6972371 44.0473796,31.3160521 44.8614145,32.1300869 C48.2842088,35.5528813 48.2555691,41.130967 44.7974459,44.5890903 C41.4339531,47.952583 36.0649346,48.0717177 32.6241879,44.9262969 C27.8170558,45.8919233 23.0726921,46.2881596 18.9270186,45.959338 Z\&quot;&gt;&lt;/path&gt;\n\t        &lt;path d=\&quot;M45.4903462,38.8768094 C36.7300141,42.6833154 26.099618,44.7997354 18.1909048,43.9383587 C7.2512621,42.7468685 1.50150083,35.8404432 4.66865776,24.7010202 C7.51507386,14.6896965 15.4908218,6.92103848 24.3842626,4.38423012 C34.1310219,1.60401701 42.4070208,6.15882777 42.4070209,16.3101169 L34.5379395,16.310117 C34.5379394,11.9285862 31.728784,10.3825286 26.5666962,11.8549876 C20.2597508,13.6540114 14.3453742,19.4148216 12.2444303,26.8041943 C10.4963869,32.9523565 12.6250796,35.5092726 19.0530263,36.2093718 C25.5557042,36.9176104 35.0513021,34.9907189 42.7038419,31.5913902 L42.7421786,31.6756595 C44.3874154,31.5384763 47.8846101,37.3706354 45.9274416,38.6772897 L45.9302799,38.6835285 C45.9166992,38.6895612 45.9031139,38.6955897 45.8895238,38.7016142 C45.8389288,38.7327898 45.7849056,38.7611034 45.7273406,38.7863919 C45.6506459,38.8200841 45.571574,38.8501593 45.4903462,38.8768094 Z\&quot;&gt;&lt;/path&gt;\n        &lt;/g&gt;\n        &lt;rect x=\&quot;96\&quot; y=\&quot;80\&quot; width=\&quot;16\&quot; height=\&quot;48\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;rect x=\&quot;80\&quot; y=\&quot;96\&quot; width=\&quot;48\&quot; height=\&quot;16\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n    &lt;/g&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/new-journal-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/new-journal-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-new-journal-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M102.545455,112.818182 L102.545455,124.636364 L102.545455,124.636364 L102.545455,124.636364 C102.545455,125.941761 103.630828,127 104.969697,127 L111.030303,127 C112.369172,127 113.454545,125.941761 113.454545,124.636364 L113.454545,112.818182 L125.575758,112.818182 C126.914626,112.818182 128,111.759982 128,110.454545 L128,104.545455 C128,103.240018 126.914626,102.181818 125.575758,102.181818 L113.454545,102.181818 L113.454545,90.3636364 C113.454545,89.0582 112.369172,88 111.030303,88 L104.969697,88 L104.969697,88 C103.630828,88 102.545455,89.0582 102.545455,90.3636364 L102.545455,102.181818 L90.4242424,102.181818 L90.4242424,102.181818 C89.0853705,102.181818 88,103.240018 88,104.545455 L88,110.454545 L88,110.454545 L88,110.454545 C88,111.759982 89.0853705,112.818182 90.4242424,112.818182 L102.545455,112.818182 Z\&quot;&gt;&lt;/path&gt;\n        &lt;g transform=\&quot;translate(59.816987, 64.316987) rotate(30.000000) translate(-59.816987, -64.316987) translate(20.316987, 12.816987)\&quot;&gt;\n            &lt;g transform=\&quot;translate(0.000000, 0.000000)\&quot;&gt;\n                &lt;path d=\&quot;M9.99631148,0 C4.4755011,0 -2.27373675e-13,4.48070044 -2.27373675e-13,9.99759461 L-2.27373675e-13,91.6128884 C-2.27373675e-13,97.1344074 4.46966773,101.610483 9.99631148,101.610483 L68.9318917,101.610483 C74.4527021,101.610483 78.9282032,97.1297826 78.9282032,91.6128884 L78.9282032,9.99759461 C78.9282032,4.47607557 74.4585355,0 68.9318917,0 L9.99631148,0 Z M20.8885263,26 C24.2022348,26 26.8885263,23.3137085 26.8885263,20 C26.8885263,16.6862915 24.2022348,14 20.8885263,14 C17.5748178,14 14.8885263,16.6862915 14.8885263,20 C14.8885263,23.3137085 17.5748178,26 20.8885263,26 Z M57.3033321,25.6783342 C60.6170406,25.6783342 63.3033321,22.9920427 63.3033321,19.6783342 C63.3033321,16.3646258 60.6170406,13.6783342 57.3033321,13.6783342 C53.9896236,13.6783342 51.3033321,16.3646258 51.3033321,19.6783342 C51.3033321,22.9920427 53.9896236,25.6783342 57.3033321,25.6783342 Z\&quot;&gt;&lt;/path&gt;\n                &lt;text font-family=\&quot;Helvetica\&quot; font-size=\&quot;47.1724138\&quot; font-weight=\&quot;bold\&quot; fill=\&quot;#FFFFFF\&quot;&gt;\n                    &lt;tspan x=\&quot;42\&quot; y=\&quot;77.4847912\&quot; text-anchor=\&quot;middle\&quot;&gt;&lt;&lt;now \&quot;DD\&quot;&gt;&gt;&lt;/tspan&gt;\n                &lt;/text&gt;\n            &lt;/g&gt;\n        &lt;/g&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/open-window&quot;: {
            &quot;title&quot;: &quot;$:/core/images/open-window&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-open-window tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M16,112 L104.993898,112 C108.863261,112 112,115.590712 112,120 C112,124.418278 108.858091,128 104.993898,128 L7.00610161,128 C3.13673853,128 0,124.409288 0,120 C0,119.998364 4.30952878e-07,119.996727 1.29273572e-06,119.995091 C4.89579306e-07,119.993456 0,119.99182 0,119.990183 L0,24.0098166 C0,19.586117 3.59071231,16 8,16 C12.418278,16 16,19.5838751 16,24.0098166 L16,112 Z\&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M96,43.1959595 L96,56 C96,60.418278 99.581722,64 104,64 C108.418278,64 112,60.418278 112,56 L112,24 C112,19.5907123 108.415101,16 103.992903,16 L72.0070969,16 C67.5881712,16 64,19.581722 64,24 C64,28.4092877 67.5848994,32 72.0070969,32 L84.5685425,32 L48.2698369,68.2987056 C45.1421332,71.4264093 45.1434327,76.4904296 48.267627,79.614624 C51.3854642,82.7324612 56.4581306,82.7378289 59.5835454,79.6124141 L96,43.1959595 Z M32,7.9992458 C32,3.58138434 35.5881049,0 39.9992458,0 L120.000754,0 C124.418616,0 128,3.5881049 128,7.9992458 L128,88.0007542 C128,92.4186157 124.411895,96 120.000754,96 L39.9992458,96 C35.5813843,96 32,92.4118951 32,88.0007542 L32,7.9992458 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/options-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/options-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-options-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M110.48779,76.0002544 C109.354214,80.4045063 107.611262,84.5641217 105.354171,88.3838625 L105.354171,88.3838625 L112.07833,95.1080219 C115.20107,98.2307613 115.210098,103.299824 112.089164,106.420759 L106.420504,112.089418 C103.301049,115.208874 98.2346851,115.205502 95.1077675,112.078585 L88.3836082,105.354425 C84.5638673,107.611516 80.4042519,109.354468 76,110.488045 L76,110.488045 L76,119.993281 C76,124.409501 72.4220153,128.000254 68.0083475,128.000254 L59.9916525,128.000254 C55.5800761,128.000254 52,124.41541 52,119.993281 L52,110.488045 C47.5957481,109.354468 43.4361327,107.611516 39.6163918,105.354425 L32.8922325,112.078585 C29.7694931,115.201324 24.7004301,115.210353 21.5794957,112.089418 L15.9108363,106.420759 C12.7913807,103.301303 12.7947522,98.2349395 15.9216697,95.1080219 L22.6458291,88.3838625 C20.3887383,84.5641217 18.6457859,80.4045063 17.5122098,76.0002544 L8.00697327,76.0002544 C3.59075293,76.0002544 2.19088375e-16,72.4222697 4.89347582e-16,68.0086019 L9.80228577e-16,59.9919069 C1.25035972e-15,55.5803305 3.58484404,52.0002544 8.00697327,52.0002544 L17.5122098,52.0002544 C18.6457859,47.5960025 20.3887383,43.4363871 22.6458291,39.6166462 L15.9216697,32.8924868 C12.7989304,29.7697475 12.7899019,24.7006845 15.9108363,21.5797501 L21.5794957,15.9110907 C24.6989513,12.7916351 29.7653149,12.7950065 32.8922325,15.9219241 L39.6163918,22.6460835 C43.4361327,20.3889927 47.5957481,18.6460403 52,17.5124642 L52,8.00722764 C52,3.5910073 55.5779847,0.000254375069 59.9916525,0.000254375069 L68.0083475,0.000254375069 C72.4199239,0.000254375069 76,3.58509841 76,8.00722764 L76,17.5124642 C80.4042519,18.6460403 84.5638673,20.3889927 88.3836082,22.6460835 L95.1077675,15.9219241 C98.2305069,12.7991848 103.29957,12.7901562 106.420504,15.9110907 L112.089164,21.5797501 C115.208619,24.6992057 115.205248,29.7655693 112.07833,32.8924868 L105.354171,39.6166462 L105.354171,39.6166462 C107.611262,43.4363871 109.354214,47.5960025 110.48779,52.0002544 L119.993027,52.0002544 C124.409247,52.0002544 128,55.5782391 128,59.9919069 L128,68.0086019 C128,72.4201783 124.415156,76.0002544 119.993027,76.0002544 L110.48779,76.0002544 L110.48779,76.0002544 Z M64,96.0002544 C81.673112,96.0002544 96,81.6733664 96,64.0002544 C96,46.3271424 81.673112,32.0002544 64,32.0002544 C46.326888,32.0002544 32,46.3271424 32,64.0002544 C32,81.6733664 46.326888,96.0002544 64,96.0002544 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/palette&quot;: {
            &quot;title&quot;: &quot;$:/core/images/palette&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-palette tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M80.2470434,39.1821571 C75.0645698,38.2680897 69.6261555,37.7814854 64.0193999,37.7814854 C28.6624616,37.7814854 0,57.1324214 0,81.0030106 C0,90.644534 4.67604329,99.5487133 12.5805659,106.738252 C23.5031767,91.1899067 26.3405471,72.3946229 36.8885698,63.5622337 C52.0716764,50.8486559 63.4268694,55.7343343 63.4268694,55.7343343 L80.2470434,39.1821571 Z M106.781666,48.8370714 C119.830962,56.749628 128.0388,68.229191 128.0388,81.0030106 C128.0388,90.3534932 128.557501,98.4142085 116.165191,106.082518 C105.367708,112.763955 112.341384,99.546808 104.321443,95.1851533 C96.3015017,90.8234987 84.3749007,96.492742 86.1084305,103.091059 C89.3087234,115.272303 105.529892,114.54645 92.4224435,119.748569 C79.3149955,124.950687 74.2201582,124.224536 64.0193999,124.224536 C56.1979176,124.224536 48.7040365,123.277578 41.7755684,121.544216 C51.620343,117.347916 69.6563669,109.006202 75.129737,102.088562 C82.7876655,92.4099199 87.3713218,80.0000002 83.3235694,72.4837191 C83.1303943,72.1250117 94.5392656,60.81569 106.781666,48.8370714 Z M1.13430476,123.866563 C0.914084026,123.867944 0.693884185,123.868637 0.473712455,123.868637 C33.9526848,108.928928 22.6351223,59.642592 59.2924543,59.6425917 C59.6085574,61.0606542 59.9358353,62.5865065 60.3541977,64.1372318 C34.4465025,59.9707319 36.7873124,112.168427 1.13429588,123.866563 L1.13430476,123.866563 Z M1.84669213,123.859694 C40.7185279,123.354338 79.9985412,101.513051 79.9985401,79.0466836 C70.7284906,79.0466835 65.9257264,75.5670082 63.1833375,71.1051511 C46.585768,64.1019718 32.81846,116.819636 1.84665952,123.859695 L1.84669213,123.859694 Z M67.1980193,59.8524981 C62.748213,63.9666823 72.0838429,76.2846822 78.5155805,71.1700593 C89.8331416,59.8524993 112.468264,37.2173758 123.785825,25.8998146 C135.103386,14.5822535 123.785825,3.26469247 112.468264,14.5822535 C101.150703,25.8998144 78.9500931,48.9868127 67.1980193,59.8524981 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/permalink-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/permalink-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-permalink-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M80.4834582,48 L73.0956761,80 L73.0956761,80 L47.5165418,80 L54.9043239,48 L80.4834582,48 Z M84.1773493,32 L89.8007299,7.64246248 C90.7941633,3.33942958 95.0918297,0.64641956 99.3968675,1.64031585 C103.693145,2.63218977 106.385414,6.93288901 105.390651,11.2416793 L100.598215,32 L104.000754,32 C108.411895,32 112,35.581722 112,40 C112,44.4092877 108.418616,48 104.000754,48 L96.9043239,48 L89.5165418,80 L104.000754,80 C108.411895,80 112,83.581722 112,88 C112,92.4092877 108.418616,96 104.000754,96 L85.8226507,96 L80.1992701,120.357538 C79.2058367,124.66057 74.9081703,127.35358 70.6031325,126.359684 C66.3068546,125.36781 63.6145865,121.067111 64.6093491,116.758321 L69.401785,96 L43.8226507,96 L38.1992701,120.357538 C37.2058367,124.66057 32.9081703,127.35358 28.6031325,126.359684 C24.3068546,125.36781 21.6145865,121.067111 22.6093491,116.758321 L27.401785,96 L23.9992458,96 C19.5881049,96 16,92.418278 16,88 C16,83.5907123 19.5813843,80 23.9992458,80 L31.0956761,80 L38.4834582,48 L23.9992458,48 C19.5881049,48 16,44.418278 16,40 C16,35.5907123 19.5813843,32 23.9992458,32 L42.1773493,32 L47.8007299,7.64246248 C48.7941633,3.33942958 53.0918297,0.64641956 57.3968675,1.64031585 C61.6931454,2.63218977 64.3854135,6.93288901 63.3906509,11.2416793 L58.598215,32 L84.1773493,32 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/permaview-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/permaview-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-permaview-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M81.4834582,48 L79.6365127,56 L79.6365127,56 L74.0573784,56 L75.9043239,48 L81.4834582,48 Z M85.1773493,32 L90.8007299,7.64246248 C91.7941633,3.33942958 96.0918297,0.64641956 100.396867,1.64031585 C104.693145,2.63218977 107.385414,6.93288901 106.390651,11.2416793 L101.598215,32 L104.000754,32 C108.411895,32 112,35.581722 112,40 C112,44.4092877 108.418616,48 104.000754,48 L97.9043239,48 L96.0573784,56 L104.000754,56 C108.411895,56 112,59.581722 112,64 C112,68.4092877 108.418616,72 104.000754,72 L92.3634873,72 L90.5165418,80 L104.000754,80 C108.411895,80 112,83.581722 112,88 C112,92.4092877 108.418616,96 104.000754,96 L86.8226507,96 L81.1992701,120.357538 C80.2058367,124.66057 75.9081703,127.35358 71.6031325,126.359684 C67.3068546,125.36781 64.6145865,121.067111 65.6093491,116.758321 L70.401785,96 L64.8226507,96 L59.1992701,120.357538 C58.2058367,124.66057 53.9081703,127.35358 49.6031325,126.359684 C45.3068546,125.36781 42.6145865,121.067111 43.6093491,116.758321 L48.401785,96 L42.8226507,96 L37.1992701,120.357538 C36.2058367,124.66057 31.9081703,127.35358 27.6031325,126.359684 C23.3068546,125.36781 20.6145865,121.067111 21.6093491,116.758321 L26.401785,96 L23.9992458,96 C19.5881049,96 16,92.418278 16,88 C16,83.5907123 19.5813843,80 23.9992458,80 L30.0956761,80 L31.9426216,72 L23.9992458,72 C19.5881049,72 16,68.418278 16,64 C16,59.5907123 19.5813843,56 23.9992458,56 L35.6365127,56 L37.4834582,48 L23.9992458,48 C19.5881049,48 16,44.418278 16,40 C16,35.5907123 19.5813843,32 23.9992458,32 L41.1773493,32 L46.8007299,7.64246248 C47.7941633,3.33942958 52.0918297,0.64641956 56.3968675,1.64031585 C60.6931454,2.63218977 63.3854135,6.93288901 62.3906509,11.2416793 L57.598215,32 L63.1773493,32 L68.8007299,7.64246248 C69.7941633,3.33942958 74.0918297,0.64641956 78.3968675,1.64031585 C82.6931454,2.63218977 85.3854135,6.93288901 84.3906509,11.2416793 L79.598215,32 L85.1773493,32 Z M53.9043239,48 L52.0573784,56 L57.6365127,56 L59.4834582,48 L53.9043239,48 Z M75.9426216,72 L74.0956761,80 L74.0956761,80 L68.5165418,80 L70.3634873,72 L75.9426216,72 L75.9426216,72 Z M48.3634873,72 L46.5165418,80 L52.0956761,80 L53.9426216,72 L48.3634873,72 L48.3634873,72 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/plugin-generic-language&quot;: {
            &quot;title&quot;: &quot;$:/core/images/plugin-generic-language&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M61.2072232,68.1369825 C56.8829239,70.9319564 54.2082892,74.793177 54.2082892,79.0581634 C54.2082892,86.9638335 63.3980995,93.4821994 75.2498076,94.3940006 C77.412197,98.2964184 83.8475284,101.178858 91.5684735,101.403106 C86.4420125,100.27851 82.4506393,97.6624107 80.9477167,94.3948272 C92.8046245,93.4861461 102,86.9662269 102,79.0581634 C102,70.5281905 91.3014611,63.6132813 78.1041446,63.6132813 C71.5054863,63.6132813 65.5315225,65.3420086 61.2072232,68.1369825 Z M74.001066,53.9793443 C69.6767667,56.7743182 63.7028029,58.5030456 57.1041446,58.5030456 C54.4851745,58.5030456 51.9646095,58.2307276 49.6065315,57.7275105 C46.2945155,59.9778212 41.2235699,61.4171743 35.5395922,61.4171743 C35.4545771,61.4171743 35.3696991,61.4168523 35.2849622,61.4162104 C39.404008,60.5235193 42.7961717,58.6691298 44.7630507,56.286533 C37.8379411,53.5817651 33.2082892,48.669413 33.2082892,43.0581634 C33.2082892,34.5281905 43.9068281,27.6132812 57.1041446,27.6132812 C70.3014611,27.6132812 81,34.5281905 81,43.0581634 C81,47.3231498 78.3253653,51.1843704 74.001066,53.9793443 Z M64,0 L118.5596,32 L118.5596,96 L64,128 L9.44039956,96 L9.44039956,32 L64,0 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/plugin-generic-plugin&quot;: {
            &quot;title&quot;: &quot;$:/core/images/plugin-generic-plugin&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M40.3972881,76.4456988 L40.3972881,95.3404069 L54.5170166,95.3404069 L54.5170166,95.3404069 C54.5165526,95.3385183 54.516089,95.3366295 54.515626,95.3347404 C54.6093153,95.3385061 54.7034848,95.3404069 54.7980982,95.3404069 C58.6157051,95.3404069 61.710487,92.245625 61.710487,88.4280181 C61.710487,86.6197822 61.01617,84.9737128 59.8795929,83.7418666 L59.8795929,83.7418666 C59.8949905,83.7341665 59.9104102,83.7265043 59.925852,83.7188798 C58.8840576,82.5086663 58.2542926,80.9336277 58.2542926,79.2114996 C58.2542926,75.3938927 61.3490745,72.2991108 65.1666814,72.2991108 C68.9842884,72.2991108 72.0790703,75.3938927 72.0790703,79.2114996 C72.0790703,81.1954221 71.2432806,82.9841354 69.9045961,84.2447446 L69.9045961,84.2447446 C69.9333407,84.2629251 69.9619885,84.281245 69.9905383,84.2997032 L69.9905383,84.2997032 C69.1314315,85.4516923 68.6228758,86.8804654 68.6228758,88.4280181 C68.6228758,91.8584969 71.1218232,94.7053153 74.3986526,95.2474079 C74.3913315,95.2784624 74.3838688,95.3094624 74.3762652,95.3404069 L95.6963988,95.3404069 L95.6963988,75.5678578 L95.6963988,75.5678578 C95.6466539,75.5808558 95.5967614,75.5934886 95.5467242,75.6057531 C95.5504899,75.5120637 95.5523907,75.4178943 95.5523907,75.3232809 C95.5523907,71.505674 92.4576088,68.4108921 88.6400019,68.4108921 C86.831766,68.4108921 85.1856966,69.105209 83.9538504,70.2417862 L83.9538504,70.2417862 C83.9461503,70.2263886 83.938488,70.2109688 83.9308636,70.1955271 C82.7206501,71.2373215 81.1456115,71.8670865 79.4234834,71.8670865 C75.6058765,71.8670865 72.5110946,68.7723046 72.5110946,64.9546976 C72.5110946,61.1370907 75.6058765,58.0423088 79.4234834,58.0423088 C81.4074059,58.0423088 83.1961192,58.8780985 84.4567284,60.2167829 L84.4567284,60.2167829 C84.4749089,60.1880383 84.4932288,60.1593906 84.511687,60.1308407 L84.511687,60.1308407 C85.6636761,60.9899475 87.0924492,61.4985032 88.6400019,61.4985032 C92.0704807,61.4985032 94.9172991,58.9995558 95.4593917,55.7227265 C95.538755,55.7414363 95.6177614,55.761071 95.6963988,55.7816184 L95.6963988,40.0412962 L74.3762652,40.0412962 L74.3762652,40.0412962 C74.3838688,40.0103516 74.3913315,39.9793517 74.3986526,39.9482971 L74.3986526,39.9482971 C71.1218232,39.4062046 68.6228758,36.5593862 68.6228758,33.1289073 C68.6228758,31.5813547 69.1314315,30.1525815 69.9905383,29.0005925 C69.9619885,28.9821342 69.9333407,28.9638143 69.9045961,28.9456339 C71.2432806,27.6850247 72.0790703,25.8963113 72.0790703,23.9123888 C72.0790703,20.0947819 68.9842884,17 65.1666814,17 C61.3490745,17 58.2542926,20.0947819 58.2542926,23.9123888 C58.2542926,25.6345169 58.8840576,27.2095556 59.925852,28.419769 L59.925852,28.419769 C59.9104102,28.4273935 59.8949905,28.4350558 59.8795929,28.4427558 C61.01617,29.674602 61.710487,31.3206715 61.710487,33.1289073 C61.710487,36.9465143 58.6157051,40.0412962 54.7980982,40.0412962 C54.7034848,40.0412962 54.6093153,40.0393953 54.515626,40.0356296 L54.515626,40.0356296 C54.516089,40.0375187 54.5165526,40.0394075 54.5170166,40.0412962 L40.3972881,40.0412962 L40.3972881,52.887664 L40.3972881,52.887664 C40.4916889,53.3430132 40.5412962,53.8147625 40.5412962,54.2980982 C40.5412962,58.1157051 37.4465143,61.210487 33.6289073,61.210487 C32.0813547,61.210487 30.6525815,60.7019313 29.5005925,59.8428245 C29.4821342,59.8713744 29.4638143,59.9000221 29.4456339,59.9287667 C28.1850247,58.5900823 26.3963113,57.7542926 24.4123888,57.7542926 C20.5947819,57.7542926 17.5,60.8490745 17.5,64.6666814 C17.5,68.4842884 20.5947819,71.5790703 24.4123888,71.5790703 C26.134517,71.5790703 27.7095556,70.9493053 28.919769,69.9075109 L28.919769,69.9075109 C28.9273935,69.9229526 28.9350558,69.9383724 28.9427558,69.95377 C30.174602,68.8171928 31.8206715,68.1228758 33.6289073,68.1228758 C37.4465143,68.1228758 40.5412962,71.2176578 40.5412962,75.0352647 C40.5412962,75.5186004 40.4916889,75.9903496 40.3972881,76.4456988 Z M64,0 L118.5596,32 L118.5596,96 L64,128 L9.44039956,96 L9.44039956,32 L64,0 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/plugin-generic-theme&quot;: {
            &quot;title&quot;: &quot;$:/core/images/plugin-generic-theme&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M29.4078519,91.4716406 L51.4693474,69.4101451 L51.4646675,69.4054652 C50.5969502,68.5377479 50.5929779,67.1348725 51.4693474,66.2585029 C52.3396494,65.3882009 53.7499654,65.3874786 54.6163097,66.2538229 L64.0805963,75.7181095 C64.9483136,76.5858268 64.9522859,77.9887022 64.0759163,78.8650718 C63.2056143,79.7353737 61.7952984,79.736096 60.9289541,78.8697517 L60.9242741,78.8650718 L60.9242741,78.8650718 L38.8627786,100.926567 C36.2518727,103.537473 32.0187578,103.537473 29.4078519,100.926567 C26.796946,98.3156614 26.796946,94.0825465 29.4078519,91.4716406 Z M60.8017407,66.3810363 C58.3659178,63.6765806 56.3370667,61.2899536 54.9851735,59.5123615 C48.1295381,50.4979488 44.671561,55.2444054 40.7586738,59.5123614 C36.8457866,63.7803174 41.789473,67.2384487 38.0759896,70.2532832 C34.3625062,73.2681177 34.5917646,74.3131575 28.3243876,68.7977024 C22.0570105,63.2822473 21.6235306,61.7636888 24.5005999,58.6166112 C27.3776691,55.4695337 29.7823103,60.4247912 35.6595047,54.8320442 C41.5366991,49.2392972 36.5996215,44.2825646 36.5996215,44.2825646 C36.5996215,44.2825646 48.8365511,19.267683 65.1880231,21.1152173 C81.5394952,22.9627517 59.0022276,18.7228947 53.3962199,38.3410355 C50.9960082,46.7405407 53.8429162,44.7613399 58.3941742,48.3090467 C59.7875202,49.3951602 64.4244828,52.7100463 70.1884353,56.9943417 L90.8648751,36.3179019 L92.4795866,31.5515482 L100.319802,26.8629752 L103.471444,30.0146174 L98.782871,37.8548326 L94.0165173,39.4695441 L73.7934912,59.6925702 C86.4558549,69.2403631 102.104532,81.8392557 102.104532,86.4016913 C102.104533,93.6189834 99.0337832,97.9277545 92.5695848,95.5655717 C87.8765989,93.8506351 73.8015497,80.3744087 63.8173444,69.668717 L60.9242741,72.5617873 L57.7726319,69.4101451 L60.8017407,66.3810363 L60.8017407,66.3810363 Z M63.9533761,1.42108547e-13 L118.512977,32 L118.512977,96 L63.9533761,128 L9.39377563,96 L9.39377563,32 L63.9533761,1.42108547e-13 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/refresh-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/refresh-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-refresh-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M106.369002,39.4325143 C116.529932,60.3119371 112.939592,86.1974934 95.5979797,103.539105 C73.7286194,125.408466 38.2713806,125.408466 16.4020203,103.539105 C-5.46734008,81.6697449 -5.46734008,46.2125061 16.4020203,24.3431458 C19.5262146,21.2189514 24.5915344,21.2189514 27.7157288,24.3431458 C30.8399231,27.4673401 30.8399231,32.5326599 27.7157288,35.6568542 C12.0947571,51.2778259 12.0947571,76.6044251 27.7157288,92.2253967 C43.3367004,107.846368 68.6632996,107.846368 84.2842712,92.2253967 C97.71993,78.7897379 99.5995262,58.1740623 89.9230597,42.729491 L83.4844861,54.9932839 C81.4307001,58.9052072 76.5945372,60.4115251 72.682614,58.3577391 C68.7706907,56.3039532 67.2643728,51.4677903 69.3181587,47.555867 L84.4354914,18.7613158 C86.4966389,14.8353707 91.3577499,13.3347805 95.273202,15.415792 L124.145886,30.7612457 C128.047354,32.8348248 129.52915,37.6785572 127.455571,41.5800249 C125.381992,45.4814927 120.53826,46.9632892 116.636792,44.8897102 L106.369002,39.4325143 Z M98.1470904,27.0648707 C97.9798954,26.8741582 97.811187,26.6843098 97.6409651,26.4953413 L98.6018187,26.1987327 L98.1470904,27.0648707 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/right-arrow&quot;: {
            &quot;title&quot;: &quot;$:/core/images/right-arrow&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-right-arrow tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;path d=\&quot;M80.3563798,109.353315 C78.9238993,110.786918 76.9450203,111.675144 74.7592239,111.675144 L-4.40893546,111.675144 C-8.77412698,111.675144 -12.3248558,108.130732 -12.3248558,103.758478 C-12.3248558,99.3951199 -8.78077754,95.8418109 -4.40893546,95.8418109 L66.8418109,95.8418109 L66.8418109,24.5910645 C66.8418109,20.225873 70.3862233,16.6751442 74.7584775,16.6751442 C79.1218352,16.6751442 82.6751442,20.2192225 82.6751442,24.5910645 L82.6751442,103.759224 C82.6751442,105.941695 81.7891419,107.920575 80.3566508,109.353886 Z\&quot; transform=\&quot;translate(35.175144, 64.175144) rotate(-45.000000) translate(-35.175144, -64.175144) \&quot;&gt;&lt;/path&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/save-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/save-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-save-button tc-image-button\&quot; viewBox=\&quot;0 0 128 128\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M120.78304,34.329058 C125.424287,43.1924006 128.049406,53.2778608 128.049406,63.9764502 C128.049406,99.3226742 99.3956295,127.97645 64.0494055,127.97645 C28.7031816,127.97645 0.0494055385,99.3226742 0.0494055385,63.9764502 C0.0494055385,28.6302262 28.7031816,-0.0235498012 64.0494055,-0.0235498012 C82.8568763,-0.0235498012 99.769563,8.08898558 111.479045,21.0056358 L114.159581,18.3250998 C117.289194,15.1954866 122.356036,15.1939641 125.480231,18.3181584 C128.598068,21.4359957 128.601317,26.5107804 125.473289,29.6388083 L120.78304,34.329058 Z M108.72451,46.3875877 C110.870571,51.8341374 112.049406,57.767628 112.049406,63.9764502 C112.049406,90.4861182 90.5590735,111.97645 64.0494055,111.97645 C37.5397375,111.97645 16.0494055,90.4861182 16.0494055,63.9764502 C16.0494055,37.4667822 37.5397375,15.9764502 64.0494055,15.9764502 C78.438886,15.9764502 91.3495036,22.308215 100.147097,32.3375836 L58.9411255,73.5435552 L41.975581,56.5780107 C38.8486152,53.4510448 33.7746915,53.4551552 30.6568542,56.5729924 C27.5326599,59.6971868 27.5372202,64.7670668 30.6618725,67.8917192 L53.279253,90.5090997 C54.8435723,92.073419 56.8951519,92.8541315 58.9380216,92.8558261 C60.987971,92.8559239 63.0389578,92.0731398 64.6049211,90.5071765 L108.72451,46.3875877 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/spiral&quot;: {
            &quot;title&quot;: &quot;$:/core/images/spiral&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-spiral tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;nonzero\&quot;&gt;\n        &lt;path d=\&quot;M64.534 68.348c3.39 0 6.097-2.62 6.476-5.968l-4.755-.538 4.75.583c.377-3.07-1.194-6.054-3.89-7.78-2.757-1.773-6.34-2.01-9.566-.7-3.46 1.403-6.14 4.392-7.35 8.148l-.01.026c-1.3 4.08-.72 8.64 1.58 12.52 2.5 4.2 6.77 7.2 11.76 8.27 5.37 1.15 11.11-.05 15.83-3.31 5.04-3.51 8.46-9.02 9.45-15.3 1.05-6.7-.72-13.63-4.92-19.19l.02.02c-4.42-5.93-11.2-9.82-18.78-10.78-7.96-1.01-16.13 1.31-22.59 6.43-6.81 5.39-11.18 13.41-12.11 22.26-.98 9.27 1.87 18.65 7.93 26.02 6.32 7.69 15.6 12.56 25.74 13.48 10.54.96 21.15-2.42 29.45-9.4l.01-.01c8.58-7.25 13.94-17.78 14.86-29.21.94-11.84-2.96-23.69-10.86-32.9-8.19-9.5-19.95-15.36-32.69-16.27-13.16-.94-26.24 3.49-36.34 12.34l.01-.01c-10.41 9.08-16.78 22.1-17.68 36.15-.93 14.44 4.03 28.77 13.79 39.78 10.03 11.32 24.28 18.2 39.6 19.09 15.73.92 31.31-4.56 43.24-15.234 12.23-10.954 19.61-26.44 20.5-43.074.14-2.64-1.89-4.89-4.52-5.03-2.64-.14-4.89 1.88-5.03 4.52-.75 14.1-7 27.2-17.33 36.45-10.03 8.98-23.11 13.58-36.3 12.81-12.79-.75-24.67-6.48-33-15.89-8.07-9.11-12.17-20.94-11.41-32.827.74-11.52 5.942-22.15 14.43-29.54l.01-.01c8.18-7.17 18.74-10.75 29.35-9.998 10.21.726 19.6 5.41 26.11 12.96 6.24 7.273 9.32 16.61 8.573 25.894-.718 8.9-4.88 17.064-11.504 22.66l.01-.007c-6.36 5.342-14.44 7.92-22.425 7.19-7.604-.68-14.52-4.314-19.21-10.027-4.44-5.4-6.517-12.23-5.806-18.94.67-6.3 3.76-11.977 8.54-15.766 4.46-3.54 10.05-5.128 15.44-4.44 5.03.63 9.46 3.18 12.32 7.01l.02.024c2.65 3.5 3.75 7.814 3.1 11.92-.59 3.71-2.58 6.925-5.45 8.924-2.56 1.767-5.61 2.403-8.38 1.81-2.42-.516-4.42-1.92-5.53-3.79-.93-1.56-1.15-3.3-.69-4.75l-4.56-1.446L59.325 65c.36-1.12 1.068-1.905 1.84-2.22.25-.103.48-.14.668-.13.06.006.11.015.14.025.01 0 .01 0-.01-.01-.02-.015-.054-.045-.094-.088-.06-.064-.12-.145-.17-.244-.15-.29-.23-.678-.18-1.11l-.005.04c.15-1.332 1.38-2.523 3.035-2.523-2.65 0-4.79 2.144-4.79 4.787s2.14 4.785 4.78 4.785z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/star-filled&quot;: {
            &quot;title&quot;: &quot;$:/core/images/star-filled&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-star-filled tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;nonzero\&quot;&gt;\n        &lt;path d=\&quot;M61.8361286,96.8228569 L99.1627704,124.110219 C101.883827,126.099427 105.541968,123.420868 104.505636,120.198072 L90.2895569,75.9887263 L89.0292911,79.8977279 L126.314504,52.5528988 C129.032541,50.5595011 127.635256,46.2255025 124.273711,46.2229134 L78.1610486,46.1873965 L81.4604673,48.6032923 L67.1773543,4.41589688 C66.1361365,1.19470104 61.6144265,1.19470104 60.5732087,4.41589688 L46.2900957,48.6032923 L49.5895144,46.1873965 L3.47685231,46.2229134 C0.115307373,46.2255025 -1.28197785,50.5595011 1.43605908,52.5528988 L38.7212719,79.8977279 L37.4610061,75.9887263 L23.2449266,120.198072 C22.2085954,123.420868 25.8667356,126.099427 28.5877926,124.110219 L65.9144344,96.8228569 L61.8361286,96.8228569 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/storyview-classic&quot;: {
            &quot;title&quot;: &quot;$:/core/images/storyview-classic&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-storyview-classic tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M8.00697327,0 C3.58484404,0 0,3.59075293 0,8.00697327 L0,119.993027 C0,124.415156 3.59075293,128 8.00697327,128 L119.993027,128 C124.415156,128 128,124.409247 128,119.993027 L128,8.00697327 C128,3.58484404 124.409247,0 119.993027,0 L8.00697327,0 L8.00697327,0 Z M23.9992458,16 C19.5813843,16 16,19.5776607 16,23.9924054 L16,40.0075946 C16,44.4216782 19.5881049,48 23.9992458,48 L104.000754,48 C108.418616,48 112,44.4223393 112,40.0075946 L112,23.9924054 C112,19.5783218 108.411895,16 104.000754,16 L23.9992458,16 L23.9992458,16 Z M23.9992458,64 C19.5813843,64 16,67.5907123 16,72 C16,76.418278 19.5881049,80 23.9992458,80 L104.000754,80 C108.418616,80 112,76.4092877 112,72 C112,67.581722 108.411895,64 104.000754,64 L23.9992458,64 L23.9992458,64 Z M23.9992458,96 C19.5813843,96 16,99.5907123 16,104 C16,108.418278 19.5881049,112 23.9992458,112 L104.000754,112 C108.418616,112 112,108.409288 112,104 C112,99.581722 108.411895,96 104.000754,96 L23.9992458,96 L23.9992458,96 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/storyview-pop&quot;: {
            &quot;title&quot;: &quot;$:/core/images/storyview-pop&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-storyview-pop tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M8.00697327,0 C3.58484404,0 0,3.59075293 0,8.00697327 L0,119.993027 C0,124.415156 3.59075293,128 8.00697327,128 L119.993027,128 C124.415156,128 128,124.409247 128,119.993027 L128,8.00697327 C128,3.58484404 124.409247,0 119.993027,0 L8.00697327,0 L8.00697327,0 Z M23.9992458,16 C19.5813843,16 16,19.5776607 16,23.9924054 L16,40.0075946 C16,44.4216782 19.5881049,48 23.9992458,48 L104.000754,48 C108.418616,48 112,44.4223393 112,40.0075946 L112,23.9924054 C112,19.5783218 108.411895,16 104.000754,16 L23.9992458,16 L23.9992458,16 Z M16.0098166,56 C11.586117,56 8,59.5776607 8,63.9924054 L8,80.0075946 C8,84.4216782 11.5838751,88 16.0098166,88 L111.990183,88 C116.413883,88 120,84.4223393 120,80.0075946 L120,63.9924054 C120,59.5783218 116.416125,56 111.990183,56 L16.0098166,56 L16.0098166,56 Z M23.9992458,96 C19.5813843,96 16,99.5907123 16,104 C16,108.418278 19.5881049,112 23.9992458,112 L104.000754,112 C108.418616,112 112,108.409288 112,104 C112,99.581722 108.411895,96 104.000754,96 L23.9992458,96 L23.9992458,96 Z M23.9992458,64 C19.5813843,64 16,67.5907123 16,72 C16,76.418278 19.5881049,80 23.9992458,80 L104.000754,80 C108.418616,80 112,76.4092877 112,72 C112,67.581722 108.411895,64 104.000754,64 L23.9992458,64 L23.9992458,64 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/storyview-zoomin&quot;: {
            &quot;title&quot;: &quot;$:/core/images/storyview-zoomin&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-storyview-zoomin tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M8.00697327,0 C3.58484404,0 0,3.59075293 0,8.00697327 L0,119.993027 C0,124.415156 3.59075293,128 8.00697327,128 L119.993027,128 C124.415156,128 128,124.409247 128,119.993027 L128,8.00697327 C128,3.58484404 124.409247,0 119.993027,0 L8.00697327,0 L8.00697327,0 Z M23.9992458,16 C19.5813843,16 16,19.578055 16,24.0085154 L16,71.9914846 C16,76.4144655 19.5881049,80 23.9992458,80 L104.000754,80 C108.418616,80 112,76.421945 112,71.9914846 L112,24.0085154 C112,19.5855345 108.411895,16 104.000754,16 L23.9992458,16 L23.9992458,16 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/tag-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/tag-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-tag-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M18.1643182,47.6600756 L18.1677196,51.7651887 C18.1708869,55.5878829 20.3581578,60.8623899 23.0531352,63.5573673 L84.9021823,125.406414 C87.5996731,128.103905 91.971139,128.096834 94.6717387,125.396234 L125.766905,94.3010679 C128.473612,91.5943612 128.472063,87.2264889 125.777085,84.5315115 L63.9280381,22.6824644 C61.2305472,19.9849735 55.9517395,17.801995 52.1318769,17.8010313 L25.0560441,17.7942007 C21.2311475,17.7932358 18.1421354,20.8872832 18.1452985,24.7049463 L18.1535504,34.6641936 C18.2481119,34.6754562 18.3439134,34.6864294 18.4409623,34.6971263 C22.1702157,35.1081705 26.9295004,34.6530132 31.806204,33.5444844 C32.1342781,33.0700515 32.5094815,32.6184036 32.9318197,32.1960654 C35.6385117,29.4893734 39.5490441,28.718649 42.94592,29.8824694 C43.0432142,29.8394357 43.1402334,29.7961748 43.2369683,29.7526887 L43.3646982,30.0368244 C44.566601,30.5115916 45.6933052,31.2351533 46.6655958,32.2074439 C50.4612154,36.0030635 50.4663097,42.1518845 46.6769742,45.94122 C43.0594074,49.5587868 37.2914155,49.7181264 33.4734256,46.422636 C28.1082519,47.5454734 22.7987486,48.0186448 18.1643182,47.6600756 Z\&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M47.6333528,39.5324628 L47.6562932,39.5834939 C37.9670934,43.9391617 26.0718874,46.3819521 17.260095,45.4107025 C5.27267473,44.0894301 -1.02778744,36.4307276 2.44271359,24.0779512 C5.56175386,12.9761516 14.3014034,4.36129832 24.0466405,1.54817001 C34.7269254,-1.53487574 43.7955833,3.51606438 43.7955834,14.7730751 L35.1728168,14.7730752 C35.1728167,9.91428944 32.0946059,8.19982862 26.4381034,9.83267419 C19.5270911,11.8276553 13.046247,18.2159574 10.7440788,26.4102121 C8.82861123,33.2280582 11.161186,36.0634845 18.2047888,36.8398415 C25.3302805,37.6252244 35.7353482,35.4884477 44.1208333,31.7188498 L44.1475077,31.7781871 C44.159701,31.7725635 44.1718402,31.7671479 44.1839238,31.7619434 C45.9448098,31.0035157 50.4503245,38.3109156 47.7081571,39.5012767 C47.6834429,39.512005 47.6585061,39.5223987 47.6333528,39.5324628 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/theme-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/theme-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-theme-button tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M55.854113,66.9453198 C54.3299482,65.1432292 53.0133883,63.518995 51.9542746,62.1263761 C40.8899947,47.578055 35.3091807,55.2383404 28.9941893,62.1263758 C22.6791979,69.0144112 30.6577916,74.5954741 24.6646171,79.4611023 C18.6714426,84.3267304 19.0414417,86.0133155 8.92654943,77.1119468 C-1.18834284,68.2105781 -1.88793412,65.7597832 2.7553553,60.6807286 C7.39864472,55.601674 11.2794845,63.5989423 20.7646627,54.5728325 C30.2498409,45.5467226 22.2819131,37.5470737 22.2819131,37.5470737 C22.2819131,37.5470737 42.0310399,-2.82433362 68.4206088,0.157393922 C94.8101776,3.13912147 58.4373806,-3.70356506 49.3898693,27.958066 C45.5161782,41.5139906 50.1107906,38.3197672 57.4560458,44.0453955 C59.1625767,45.3756367 63.8839488,48.777453 70.127165,53.3625321 C63.9980513,59.2416709 58.9704753,64.0315459 55.854113,66.9453198 Z M67.4952439,79.8919946 C83.5082212,96.9282402 105.237121,117.617674 112.611591,120.312493 C123.044132,124.12481 128.000001,117.170903 128,105.522947 C127.999999,98.3705516 104.170675,78.980486 84.0760493,63.7529565 C76.6683337,70.9090328 70.7000957,76.7055226 67.4952439,79.8919946 Z\&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M58.2852966,138.232794 L58.2852966,88.3943645 C56.318874,88.3923153 54.7254089,86.7952906 54.7254089,84.8344788 C54.7254089,82.8684071 56.3175932,81.2745911 58.2890859,81.2745911 L79.6408336,81.2745911 C81.608998,81.2745911 83.2045105,82.8724076 83.2045105,84.8344788 C83.2045105,86.7992907 81.614366,88.3923238 79.6446228,88.3943645 L79.6446228,88.3943646 L79.6446228,138.232794 C79.6446228,144.131009 74.8631748,148.912457 68.9649597,148.912457 C63.0667446,148.912457 58.2852966,144.131009 58.2852966,138.232794 Z M65.405072,-14.8423767 L72.5248474,-14.8423767 L76.0847351,-0.690681892 L72.5248474,6.51694947 L72.5248474,81.2745911 L65.405072,81.2745911 L65.405072,6.51694947 L61.8451843,-0.690681892 L65.405072,-14.8423767 Z\&quot; transform=\&quot;translate(68.964960, 67.035040) rotate(45.000000) translate(-68.964960, -67.035040) \&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/tip&quot;: {
            &quot;title&quot;: &quot;$:/core/images/tip&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-tip tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M64,128.241818 C99.346224,128.241818 128,99.5880417 128,64.2418177 C128,28.8955937 99.346224,0.241817675 64,0.241817675 C28.653776,0.241817675 0,28.8955937 0,64.2418177 C0,99.5880417 28.653776,128.241818 64,128.241818 Z M75.9358659,91.4531941 C75.3115438,95.581915 70.2059206,98.8016748 64,98.8016748 C57.7940794,98.8016748 52.6884562,95.581915 52.0641341,91.4531941 C54.3299053,94.0502127 58.8248941,95.8192805 64,95.8192805 C69.1751059,95.8192805 73.6700947,94.0502127 75.9358659,91.4531941 L75.9358659,91.4531941 Z M75.9358659,95.9453413 C75.3115438,100.074062 70.2059206,103.293822 64,103.293822 C57.7940794,103.293822 52.6884562,100.074062 52.0641341,95.9453413 C54.3299053,98.5423599 58.8248941,100.311428 64,100.311428 C69.1751059,100.311428 73.6700947,98.5423599 75.9358659,95.9453413 L75.9358659,95.9453413 Z M75.9358659,100.40119 C75.3115438,104.529911 70.2059206,107.74967 64,107.74967 C57.7940794,107.74967 52.6884562,104.529911 52.0641341,100.40119 C54.3299053,102.998208 58.8248941,104.767276 64,104.767276 C69.1751059,104.767276 73.6700947,102.998208 75.9358659,100.40119 L75.9358659,100.40119 Z M75.9358659,104.893337 C75.3115438,109.022058 70.2059206,112.241818 64,112.241818 C57.7940794,112.241818 52.6884562,109.022058 52.0641341,104.893337 C54.3299053,107.490356 58.8248941,109.259423 64,109.259423 C69.1751059,109.259423 73.6700947,107.490356 75.9358659,104.893337 L75.9358659,104.893337 Z M64.3010456,24.2418177 C75.9193117,24.2418188 88.0000013,32.0619847 88,48.4419659 C87.9999987,64.8219472 75.9193018,71.7540963 75.9193021,83.5755932 C75.9193022,89.4486648 70.0521957,92.8368862 63.9999994,92.8368862 C57.947803,92.8368862 51.9731007,89.8295115 51.9731007,83.5755932 C51.9731007,71.1469799 39.9999998,65.4700602 40,48.4419647 C40.0000002,31.4138691 52.6827796,24.2418166 64.3010456,24.2418177 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/twitter&quot;: {
            &quot;title&quot;: &quot;$:/core/images/twitter&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-twitter tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M41.6263422,115.803477 C27.0279663,115.803477 13.4398394,111.540813 1.99987456,104.234833 C4.02221627,104.472643 6.08004574,104.594302 8.16644978,104.594302 C20.277456,104.594302 31.4238403,100.47763 40.270894,93.5715185 C28.9590538,93.3635501 19.4123842,85.9189246 16.1230832,75.6885328 C17.7011365,75.9892376 19.320669,76.1503787 20.9862896,76.1503787 C23.344152,76.1503787 25.6278127,75.8359011 27.7971751,75.247346 C15.9709927,72.8821073 7.06079851,62.4745062 7.06079851,49.9982394 C7.06079851,49.8898938 7.06079851,49.7820074 7.06264203,49.67458 C10.5482779,51.6032228 14.5339687,52.7615103 18.7717609,52.8951059 C11.8355159,48.277565 7.2714207,40.3958845 7.2714207,31.4624258 C7.2714207,26.7434257 8.54621495,22.3200804 10.7713439,18.5169676 C23.5211299,34.0957738 42.568842,44.3472839 64.0532269,45.4210985 C63.6126256,43.5365285 63.3835682,41.5711584 63.3835682,39.5529928 C63.3835682,25.3326379 74.95811,13.8034766 89.2347917,13.8034766 C96.6697089,13.8034766 103.387958,16.930807 108.103682,21.9353619 C113.991886,20.780288 119.52429,18.6372496 124.518847,15.6866694 C122.588682,21.6993889 118.490075,26.7457211 113.152623,29.9327334 C118.381769,29.3102055 123.363882,27.926045 127.999875,25.8780385 C124.534056,31.0418981 120.151087,35.5772616 115.100763,39.2077561 C115.150538,40.3118708 115.175426,41.4224128 115.175426,42.538923 C115.175426,76.5663154 89.1744164,115.803477 41.6263422,115.803477\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/core/images/unfold-all-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/unfold-all-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-unfold-all tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;rect x=\&quot;0\&quot; y=\&quot;0\&quot; width=\&quot;128\&quot; height=\&quot;16\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;rect x=\&quot;0\&quot; y=\&quot;64\&quot; width=\&quot;128\&quot; height=\&quot;16\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;path d=\&quot;M85.598226,8.34884273 C84.1490432,6.89863875 82.1463102,6 79.9340286,6 L47.9482224,6 C43.5292967,6 39.9411255,9.581722 39.9411255,14 C39.9411255,18.4092877 43.5260249,22 47.9482224,22 L71.9411255,22 L71.9411255,45.9929031 C71.9411255,50.4118288 75.5228475,54 79.9411255,54 C84.3504132,54 87.9411255,50.4151006 87.9411255,45.9929031 L87.9411255,14.0070969 C87.9411255,11.7964515 87.0447363,9.79371715 85.5956548,8.34412458 Z\&quot; transform=\&quot;translate(63.941125, 30.000000) scale(1, -1) rotate(-45.000000) translate(-63.941125, -30.000000) \&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M85.6571005,72.2899682 C84.2079177,70.8397642 82.2051847,69.9411255 79.9929031,69.9411255 L48.0070969,69.9411255 C43.5881712,69.9411255 40,73.5228475 40,77.9411255 C40,82.3504132 43.5848994,85.9411255 48.0070969,85.9411255 L72,85.9411255 L72,109.934029 C72,114.352954 75.581722,117.941125 80,117.941125 C84.4092877,117.941125 88,114.356226 88,109.934029 L88,77.9482224 C88,75.737577 87.1036108,73.7348426 85.6545293,72.2852501 Z\&quot; transform=\&quot;translate(64.000000, 93.941125) scale(1, -1) rotate(-45.000000) translate(-64.000000, -93.941125) \&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/unfold-button&quot;: {
            &quot;title&quot;: &quot;$:/core/images/unfold-button&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-unfold tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;rect x=\&quot;0\&quot; y=\&quot;0\&quot; width=\&quot;128\&quot; height=\&quot;16\&quot; rx=\&quot;8\&quot;&gt;&lt;/rect&gt;\n        &lt;path d=\&quot;M85.598226,11.3488427 C84.1490432,9.89863875 82.1463102,9 79.9340286,9 L47.9482224,9 C43.5292967,9 39.9411255,12.581722 39.9411255,17 C39.9411255,21.4092877 43.5260249,25 47.9482224,25 L71.9411255,25 L71.9411255,48.9929031 C71.9411255,53.4118288 75.5228475,57 79.9411255,57 C84.3504132,57 87.9411255,53.4151006 87.9411255,48.9929031 L87.9411255,17.0070969 C87.9411255,14.7964515 87.0447363,12.7937171 85.5956548,11.3441246 Z\&quot; transform=\&quot;translate(63.941125, 33.000000) scale(1, -1) rotate(-45.000000) translate(-63.941125, -33.000000) \&quot;&gt;&lt;/path&gt;\n        &lt;path d=\&quot;M85.6571005,53.4077172 C84.2079177,51.9575133 82.2051847,51.0588745 79.9929031,51.0588745 L48.0070969,51.0588745 C43.5881712,51.0588745 40,54.6405965 40,59.0588745 C40,63.4681622 43.5848994,67.0588745 48.0070969,67.0588745 L72,67.0588745 L72,91.0517776 C72,95.4707033 75.581722,99.0588745 80,99.0588745 C84.4092877,99.0588745 88,95.4739751 88,91.0517776 L88,59.0659714 C88,56.855326 87.1036108,54.8525917 85.6545293,53.4029991 Z\&quot; transform=\&quot;translate(64.000000, 75.058875) scale(1, -1) rotate(-45.000000) translate(-64.000000, -75.058875) \&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/unlocked-padlock&quot;: {
            &quot;title&quot;: &quot;$:/core/images/unlocked-padlock&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-unlocked-padlock tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M48.6266053,64 L105,64 L105,96.0097716 C105,113.673909 90.6736461,128 73.001193,128 L55.998807,128 C38.3179793,128 24,113.677487 24,96.0097716 L24,64 L30.136303,64 C19.6806213,51.3490406 2.77158986,28.2115132 25.8366966,8.85759246 C50.4723026,-11.8141335 71.6711028,13.2108337 81.613302,25.0594855 C91.5555012,36.9081373 78.9368488,47.4964439 69.1559674,34.9513593 C59.375086,22.4062748 47.9893192,10.8049522 35.9485154,20.9083862 C23.9077117,31.0118202 34.192312,43.2685325 44.7624679,55.8655518 C47.229397,58.805523 48.403443,61.5979188 48.6266053,64 Z M67.7315279,92.3641717 C70.8232551,91.0923621 73,88.0503841 73,84.5 C73,79.8055796 69.1944204,76 64.5,76 C59.8055796,76 56,79.8055796 56,84.5 C56,87.947435 58.0523387,90.9155206 61.0018621,92.2491029 L55.9067479,115.020857 L72.8008958,115.020857 L67.7315279,92.3641717 L67.7315279,92.3641717 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/up-arrow&quot;: {
            &quot;created&quot;: &quot;20150316000544368&quot;,
            &quot;modified&quot;: &quot;20150316000831867&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;title&quot;: &quot;$:/core/images/up-arrow&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-up-arrow tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n&lt;path transform=\&quot;rotate(-135, 63.8945, 64.1752)\&quot; d=\&quot;m109.07576,109.35336c-1.43248,1.43361 -3.41136,2.32182 -5.59717,2.32182l-79.16816,0c-4.36519,0 -7.91592,-3.5444 -7.91592,-7.91666c0,-4.36337 3.54408,-7.91667 7.91592,-7.91667l71.25075,0l0,-71.25074c0,-4.3652 3.54442,-7.91592 7.91667,-7.91592c4.36336,0 7.91667,3.54408 7.91667,7.91592l0,79.16815c0,2.1825 -0.88602,4.16136 -2.3185,5.59467l-0.00027,-0.00056l0.00001,-0.00001z\&quot; /&gt;\n&lt;/svg&gt;\n \n&quot;
        },
        &quot;$:/core/images/video&quot;: {
            &quot;title&quot;: &quot;$:/core/images/video&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-video tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M64,12 C29.0909091,12 8.72727273,14.9166667 5.81818182,17.8333333 C2.90909091,20.75 1.93784382e-15,41.1666667 0,64.5 C1.93784382e-15,87.8333333 2.90909091,108.25 5.81818182,111.166667 C8.72727273,114.083333 29.0909091,117 64,117 C98.9090909,117 119.272727,114.083333 122.181818,111.166667 C125.090909,108.25 128,87.8333333 128,64.5 C128,41.1666667 125.090909,20.75 122.181818,17.8333333 C119.272727,14.9166667 98.9090909,12 64,12 Z M54.9161194,44.6182253 C51.102648,42.0759111 48.0112186,43.7391738 48.0112186,48.3159447 L48.0112186,79.6840553 C48.0112186,84.2685636 51.109784,85.9193316 54.9161194,83.3817747 L77.0838806,68.6032672 C80.897352,66.0609529 80.890216,61.9342897 77.0838806,59.3967328 L54.9161194,44.6182253 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/core/images/warning&quot;: {
            &quot;title&quot;: &quot;$:/core/images/warning&quot;,
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;text&quot;: &quot;&lt;svg class=\&quot;tc-image-warning tc-image-button\&quot; width=\&quot;22pt\&quot; height=\&quot;22pt\&quot; viewBox=\&quot;0 0 128 128\&quot;&gt;\n    &lt;g fill-rule=\&quot;evenodd\&quot;&gt;\n        &lt;path d=\&quot;M57.0717968,11 C60.1509982,5.66666667 67.8490018,5.66666667 70.9282032,11 L126.353829,107 C129.433031,112.333333 125.584029,119 119.425626,119 L8.57437416,119 C2.41597129,119 -1.43303051,112.333333 1.64617093,107 L57.0717968,11 Z M64,37 C59.581722,37 56,40.5820489 56,44.9935776 L56,73.0064224 C56,77.4211534 59.5907123,81 64,81 C68.418278,81 72,77.4179511 72,73.0064224 L72,44.9935776 C72,40.5788466 68.4092877,37 64,37 Z M64,104 C68.418278,104 72,100.418278 72,96 C72,91.581722 68.418278,88 64,88 C59.581722,88 56,91.581722 56,96 C56,100.418278 59.581722,104 64,104 Z\&quot;&gt;&lt;/path&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;&quot;
        },
        &quot;$:/language/Buttons/AdvancedSearch/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/AdvancedSearch/Caption&quot;,
            &quot;text&quot;: &quot;advanced search&quot;
        },
        &quot;$:/language/Buttons/AdvancedSearch/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/AdvancedSearch/Hint&quot;,
            &quot;text&quot;: &quot;Advanced search&quot;
        },
        &quot;$:/language/Buttons/Cancel/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Cancel/Caption&quot;,
            &quot;text&quot;: &quot;cancel&quot;
        },
        &quot;$:/language/Buttons/Cancel/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Cancel/Hint&quot;,
            &quot;text&quot;: &quot;Discard changes to this tiddler&quot;
        },
        &quot;$:/language/Buttons/Clone/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Clone/Caption&quot;,
            &quot;text&quot;: &quot;clone&quot;
        },
        &quot;$:/language/Buttons/Clone/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Clone/Hint&quot;,
            &quot;text&quot;: &quot;Clone this tiddler&quot;
        },
        &quot;$:/language/Buttons/Close/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Close/Caption&quot;,
            &quot;text&quot;: &quot;close&quot;
        },
        &quot;$:/language/Buttons/Close/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Close/Hint&quot;,
            &quot;text&quot;: &quot;Close this tiddler&quot;
        },
        &quot;$:/language/Buttons/CloseAll/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/CloseAll/Caption&quot;,
            &quot;text&quot;: &quot;close all&quot;
        },
        &quot;$:/language/Buttons/CloseAll/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/CloseAll/Hint&quot;,
            &quot;text&quot;: &quot;Close all tiddlers&quot;
        },
        &quot;$:/language/Buttons/CloseOthers/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/CloseOthers/Caption&quot;,
            &quot;text&quot;: &quot;close others&quot;
        },
        &quot;$:/language/Buttons/CloseOthers/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/CloseOthers/Hint&quot;,
            &quot;text&quot;: &quot;Close other tiddlers&quot;
        },
        &quot;$:/language/Buttons/ControlPanel/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/ControlPanel/Caption&quot;,
            &quot;text&quot;: &quot;control panel&quot;
        },
        &quot;$:/language/Buttons/ControlPanel/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/ControlPanel/Hint&quot;,
            &quot;text&quot;: &quot;Open control panel&quot;
        },
        &quot;$:/language/Buttons/Delete/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Delete/Caption&quot;,
            &quot;text&quot;: &quot;delete&quot;
        },
        &quot;$:/language/Buttons/Delete/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Delete/Hint&quot;,
            &quot;text&quot;: &quot;Delete this tiddler&quot;
        },
        &quot;$:/language/Buttons/Edit/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Edit/Caption&quot;,
            &quot;text&quot;: &quot;edit&quot;
        },
        &quot;$:/language/Buttons/Edit/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Edit/Hint&quot;,
            &quot;text&quot;: &quot;Edit this tiddler&quot;
        },
        &quot;$:/language/Buttons/Encryption/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Encryption/Caption&quot;,
            &quot;text&quot;: &quot;encryption&quot;
        },
        &quot;$:/language/Buttons/Encryption/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Encryption/Hint&quot;,
            &quot;text&quot;: &quot;Set or clear a password for saving this wiki&quot;
        },
        &quot;$:/language/Buttons/Encryption/ClearPassword/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Encryption/ClearPassword/Caption&quot;,
            &quot;text&quot;: &quot;clear password&quot;
        },
        &quot;$:/language/Buttons/Encryption/ClearPassword/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Encryption/ClearPassword/Hint&quot;,
            &quot;text&quot;: &quot;Clear the password and save this wiki without encryption&quot;
        },
        &quot;$:/language/Buttons/Encryption/SetPassword/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Encryption/SetPassword/Caption&quot;,
            &quot;text&quot;: &quot;set password&quot;
        },
        &quot;$:/language/Buttons/Encryption/SetPassword/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Encryption/SetPassword/Hint&quot;,
            &quot;text&quot;: &quot;Set a password for saving this wiki with encryption&quot;
        },
        &quot;$:/language/Buttons/ExportPage/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/ExportPage/Caption&quot;,
            &quot;text&quot;: &quot;export all&quot;
        },
        &quot;$:/language/Buttons/ExportPage/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/ExportPage/Hint&quot;,
            &quot;text&quot;: &quot;Export all tiddlers&quot;
        },
        &quot;$:/language/Buttons/ExportTiddler/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/ExportTiddler/Caption&quot;,
            &quot;text&quot;: &quot;export tiddler&quot;
        },
        &quot;$:/language/Buttons/ExportTiddler/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/ExportTiddler/Hint&quot;,
            &quot;text&quot;: &quot;Export tiddler&quot;
        },
        &quot;$:/language/Buttons/ExportTiddlers/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/ExportTiddlers/Caption&quot;,
            &quot;text&quot;: &quot;export tiddlers&quot;
        },
        &quot;$:/language/Buttons/ExportTiddlers/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/ExportTiddlers/Hint&quot;,
            &quot;text&quot;: &quot;Export tiddlers&quot;
        },
        &quot;$:/language/Buttons/Fold/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Fold/Caption&quot;,
            &quot;text&quot;: &quot;fold tiddler&quot;
        },
        &quot;$:/language/Buttons/Fold/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Fold/Hint&quot;,
            &quot;text&quot;: &quot;Fold the body of this tiddler&quot;
        },
        &quot;$:/language/Buttons/Fold/FoldBar/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Fold/FoldBar/Caption&quot;,
            &quot;text&quot;: &quot;fold-bar&quot;
        },
        &quot;$:/language/Buttons/Fold/FoldBar/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Fold/FoldBar/Hint&quot;,
            &quot;text&quot;: &quot;Optional bars to fold and unfold tiddlers&quot;
        },
        &quot;$:/language/Buttons/Unfold/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Unfold/Caption&quot;,
            &quot;text&quot;: &quot;unfold tiddler&quot;
        },
        &quot;$:/language/Buttons/Unfold/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Unfold/Hint&quot;,
            &quot;text&quot;: &quot;Unfold the body of this tiddler&quot;
        },
        &quot;$:/language/Buttons/FoldOthers/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/FoldOthers/Caption&quot;,
            &quot;text&quot;: &quot;fold other tiddlers&quot;
        },
        &quot;$:/language/Buttons/FoldOthers/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/FoldOthers/Hint&quot;,
            &quot;text&quot;: &quot;Fold the bodies of other opened tiddlers&quot;
        },
        &quot;$:/language/Buttons/FoldAll/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/FoldAll/Caption&quot;,
            &quot;text&quot;: &quot;fold all tiddlers&quot;
        },
        &quot;$:/language/Buttons/FoldAll/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/FoldAll/Hint&quot;,
            &quot;text&quot;: &quot;Fold the bodies of all opened tiddlers&quot;
        },
        &quot;$:/language/Buttons/UnfoldAll/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/UnfoldAll/Caption&quot;,
            &quot;text&quot;: &quot;unfold all tiddlers&quot;
        },
        &quot;$:/language/Buttons/UnfoldAll/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/UnfoldAll/Hint&quot;,
            &quot;text&quot;: &quot;Unfold the bodies of all opened tiddlers&quot;
        },
        &quot;$:/language/Buttons/FullScreen/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/FullScreen/Caption&quot;,
            &quot;text&quot;: &quot;full-screen&quot;
        },
        &quot;$:/language/Buttons/FullScreen/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/FullScreen/Hint&quot;,
            &quot;text&quot;: &quot;Enter or leave full-screen mode&quot;
        },
        &quot;$:/language/Buttons/Help/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Help/Caption&quot;,
            &quot;text&quot;: &quot;help&quot;
        },
        &quot;$:/language/Buttons/Help/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Help/Hint&quot;,
            &quot;text&quot;: &quot;Show help panel&quot;
        },
        &quot;$:/language/Buttons/Import/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Import/Caption&quot;,
            &quot;text&quot;: &quot;import&quot;
        },
        &quot;$:/language/Buttons/Import/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Import/Hint&quot;,
            &quot;text&quot;: &quot;Import many types of file including text, image, TiddlyWiki or JSON&quot;
        },
        &quot;$:/language/Buttons/Info/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Info/Caption&quot;,
            &quot;text&quot;: &quot;info&quot;
        },
        &quot;$:/language/Buttons/Info/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Info/Hint&quot;,
            &quot;text&quot;: &quot;Show information for this tiddler&quot;
        },
        &quot;$:/language/Buttons/Home/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Home/Caption&quot;,
            &quot;text&quot;: &quot;home&quot;
        },
        &quot;$:/language/Buttons/Home/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Home/Hint&quot;,
            &quot;text&quot;: &quot;Open the default tiddlers&quot;
        },
        &quot;$:/language/Buttons/Language/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Language/Caption&quot;,
            &quot;text&quot;: &quot;language&quot;
        },
        &quot;$:/language/Buttons/Language/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Language/Hint&quot;,
            &quot;text&quot;: &quot;Choose the user interface language&quot;
        },
        &quot;$:/language/Buttons/More/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/More/Caption&quot;,
            &quot;text&quot;: &quot;more&quot;
        },
        &quot;$:/language/Buttons/More/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/More/Hint&quot;,
            &quot;text&quot;: &quot;More actions&quot;
        },
        &quot;$:/language/Buttons/NewHere/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/NewHere/Caption&quot;,
            &quot;text&quot;: &quot;new here&quot;
        },
        &quot;$:/language/Buttons/NewHere/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/NewHere/Hint&quot;,
            &quot;text&quot;: &quot;Create a new tiddler tagged with this one&quot;
        },
        &quot;$:/language/Buttons/NewJournal/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/NewJournal/Caption&quot;,
            &quot;text&quot;: &quot;new journal&quot;
        },
        &quot;$:/language/Buttons/NewJournal/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/NewJournal/Hint&quot;,
            &quot;text&quot;: &quot;Create a new journal tiddler&quot;
        },
        &quot;$:/language/Buttons/NewJournalHere/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/NewJournalHere/Caption&quot;,
            &quot;text&quot;: &quot;new journal here&quot;
        },
        &quot;$:/language/Buttons/NewJournalHere/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/NewJournalHere/Hint&quot;,
            &quot;text&quot;: &quot;Create a new journal tiddler tagged with this one&quot;
        },
        &quot;$:/language/Buttons/NewTiddler/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/NewTiddler/Caption&quot;,
            &quot;text&quot;: &quot;new tiddler&quot;
        },
        &quot;$:/language/Buttons/NewTiddler/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/NewTiddler/Hint&quot;,
            &quot;text&quot;: &quot;Create a new tiddler&quot;
        },
        &quot;$:/language/Buttons/OpenWindow/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/OpenWindow/Caption&quot;,
            &quot;text&quot;: &quot;open in new window&quot;
        },
        &quot;$:/language/Buttons/OpenWindow/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/OpenWindow/Hint&quot;,
            &quot;text&quot;: &quot;Open tiddler in new window&quot;
        },
        &quot;$:/language/Buttons/Palette/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Palette/Caption&quot;,
            &quot;text&quot;: &quot;palette&quot;
        },
        &quot;$:/language/Buttons/Palette/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Palette/Hint&quot;,
            &quot;text&quot;: &quot;Choose the colour palette&quot;
        },
        &quot;$:/language/Buttons/Permalink/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Permalink/Caption&quot;,
            &quot;text&quot;: &quot;permalink&quot;
        },
        &quot;$:/language/Buttons/Permalink/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Permalink/Hint&quot;,
            &quot;text&quot;: &quot;Set browser address bar to a direct link to this tiddler&quot;
        },
        &quot;$:/language/Buttons/Permaview/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Permaview/Caption&quot;,
            &quot;text&quot;: &quot;permaview&quot;
        },
        &quot;$:/language/Buttons/Permaview/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Permaview/Hint&quot;,
            &quot;text&quot;: &quot;Set browser address bar to a direct link to all the tiddlers in this story&quot;
        },
        &quot;$:/language/Buttons/Refresh/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Refresh/Caption&quot;,
            &quot;text&quot;: &quot;refresh&quot;
        },
        &quot;$:/language/Buttons/Refresh/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Refresh/Hint&quot;,
            &quot;text&quot;: &quot;Perform a full refresh of the wiki&quot;
        },
        &quot;$:/language/Buttons/Save/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Save/Caption&quot;,
            &quot;text&quot;: &quot;ok&quot;
        },
        &quot;$:/language/Buttons/Save/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Save/Hint&quot;,
            &quot;text&quot;: &quot;Confirm changes to this tiddler&quot;
        },
        &quot;$:/language/Buttons/SaveWiki/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/SaveWiki/Caption&quot;,
            &quot;text&quot;: &quot;save changes&quot;
        },
        &quot;$:/language/Buttons/SaveWiki/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/SaveWiki/Hint&quot;,
            &quot;text&quot;: &quot;Save changes&quot;
        },
        &quot;$:/language/Buttons/StoryView/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/StoryView/Caption&quot;,
            &quot;text&quot;: &quot;storyview&quot;
        },
        &quot;$:/language/Buttons/StoryView/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/StoryView/Hint&quot;,
            &quot;text&quot;: &quot;Choose the story visualisation&quot;
        },
        &quot;$:/language/Buttons/HideSideBar/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/HideSideBar/Caption&quot;,
            &quot;text&quot;: &quot;hide sidebar&quot;
        },
        &quot;$:/language/Buttons/HideSideBar/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/HideSideBar/Hint&quot;,
            &quot;text&quot;: &quot;Hide sidebar&quot;
        },
        &quot;$:/language/Buttons/ShowSideBar/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/ShowSideBar/Caption&quot;,
            &quot;text&quot;: &quot;show sidebar&quot;
        },
        &quot;$:/language/Buttons/ShowSideBar/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/ShowSideBar/Hint&quot;,
            &quot;text&quot;: &quot;Show sidebar&quot;
        },
        &quot;$:/language/Buttons/TagManager/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/TagManager/Caption&quot;,
            &quot;text&quot;: &quot;tag manager&quot;
        },
        &quot;$:/language/Buttons/TagManager/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/TagManager/Hint&quot;,
            &quot;text&quot;: &quot;Open tag manager&quot;
        },
        &quot;$:/language/Buttons/Theme/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Theme/Caption&quot;,
            &quot;text&quot;: &quot;theme&quot;
        },
        &quot;$:/language/Buttons/Theme/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/Theme/Hint&quot;,
            &quot;text&quot;: &quot;Choose the display theme&quot;
        },
        &quot;$:/language/ControlPanel/Advanced/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Advanced/Caption&quot;,
            &quot;text&quot;: &quot;Advanced&quot;
        },
        &quot;$:/language/ControlPanel/Advanced/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Advanced/Hint&quot;,
            &quot;text&quot;: &quot;Internal information about this TiddlyWiki&quot;
        },
        &quot;$:/language/ControlPanel/Appearance/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Appearance/Caption&quot;,
            &quot;text&quot;: &quot;Appearance&quot;
        },
        &quot;$:/language/ControlPanel/Appearance/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Appearance/Hint&quot;,
            &quot;text&quot;: &quot;Ways to customise the appearance of your TiddlyWiki.&quot;
        },
        &quot;$:/language/ControlPanel/Basics/AnimDuration/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/AnimDuration/Prompt&quot;,
            &quot;text&quot;: &quot;Animation duration:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/Caption&quot;,
            &quot;text&quot;: &quot;Basics&quot;
        },
        &quot;$:/language/ControlPanel/Basics/DefaultTiddlers/BottomHint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/DefaultTiddlers/BottomHint&quot;,
            &quot;text&quot;: &quot;Use &amp;#91;&amp;#91;double square brackets&amp;#93;&amp;#93; for titles with spaces. Or you can choose to &lt;$button set=\&quot;$:/DefaultTiddlers\&quot; setTo=\&quot;[list[$:/StoryList]]\&quot;&gt;retain story ordering&lt;/$button&gt;&quot;
        },
        &quot;$:/language/ControlPanel/Basics/DefaultTiddlers/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/DefaultTiddlers/Prompt&quot;,
            &quot;text&quot;: &quot;Default tiddlers:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/DefaultTiddlers/TopHint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/DefaultTiddlers/TopHint&quot;,
            &quot;text&quot;: &quot;Choose which tiddlers are displayed at startup:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/Language/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/Language/Prompt&quot;,
            &quot;text&quot;: &quot;Hello! Current language:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/NewJournal/Title/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/NewJournal/Title/Prompt&quot;,
            &quot;text&quot;: &quot;Title of new journal tiddlers&quot;
        },
        &quot;$:/language/ControlPanel/Basics/NewJournal/Tags/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/NewJournal/Tags/Prompt&quot;,
            &quot;text&quot;: &quot;Tags for new journal tiddlers&quot;
        },
        &quot;$:/language/ControlPanel/Basics/OverriddenShadowTiddlers/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/OverriddenShadowTiddlers/Prompt&quot;,
            &quot;text&quot;: &quot;Number of overridden shadow tiddlers:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/ShadowTiddlers/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/ShadowTiddlers/Prompt&quot;,
            &quot;text&quot;: &quot;Number of shadow tiddlers:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/Subtitle/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/Subtitle/Prompt&quot;,
            &quot;text&quot;: &quot;Subtitle:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/SystemTiddlers/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/SystemTiddlers/Prompt&quot;,
            &quot;text&quot;: &quot;Number of system tiddlers:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/Tags/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/Tags/Prompt&quot;,
            &quot;text&quot;: &quot;Number of tags:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/Tiddlers/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/Tiddlers/Prompt&quot;,
            &quot;text&quot;: &quot;Number of tiddlers:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/Title/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/Title/Prompt&quot;,
            &quot;text&quot;: &quot;Title of this ~TiddlyWiki:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/Username/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/Username/Prompt&quot;,
            &quot;text&quot;: &quot;Username for signing edits:&quot;
        },
        &quot;$:/language/ControlPanel/Basics/Version/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Basics/Version/Prompt&quot;,
            &quot;text&quot;: &quot;~TiddlyWiki version:&quot;
        },
        &quot;$:/language/ControlPanel/EditorTypes/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/EditorTypes/Caption&quot;,
            &quot;text&quot;: &quot;Editor Types&quot;
        },
        &quot;$:/language/ControlPanel/EditorTypes/Editor/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/EditorTypes/Editor/Caption&quot;,
            &quot;text&quot;: &quot;Editor&quot;
        },
        &quot;$:/language/ControlPanel/EditorTypes/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/EditorTypes/Hint&quot;,
            &quot;text&quot;: &quot;These tiddlers determine which editor is used to edit specific tiddler types.&quot;
        },
        &quot;$:/language/ControlPanel/EditorTypes/Type/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/EditorTypes/Type/Caption&quot;,
            &quot;text&quot;: &quot;Type&quot;
        },
        &quot;$:/language/ControlPanel/Info/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Info/Caption&quot;,
            &quot;text&quot;: &quot;Info&quot;
        },
        &quot;$:/language/ControlPanel/Info/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Info/Hint&quot;,
            &quot;text&quot;: &quot;Information about this TiddlyWiki&quot;
        },
        &quot;$:/language/ControlPanel/LoadedModules/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/LoadedModules/Caption&quot;,
            &quot;text&quot;: &quot;Loaded Modules&quot;
        },
        &quot;$:/language/ControlPanel/LoadedModules/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/LoadedModules/Hint&quot;,
            &quot;text&quot;: &quot;These are the currently loaded tiddler modules linked to their source tiddlers. Any italicised modules lack a source tiddler, typically because they were setup during the boot process.&quot;
        },
        &quot;$:/language/ControlPanel/Palette/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Palette/Caption&quot;,
            &quot;text&quot;: &quot;Palette&quot;
        },
        &quot;$:/language/ControlPanel/Palette/Editor/Clone/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Palette/Editor/Clone/Caption&quot;,
            &quot;text&quot;: &quot;clone&quot;
        },
        &quot;$:/language/ControlPanel/Palette/Editor/Clone/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Palette/Editor/Clone/Prompt&quot;,
            &quot;text&quot;: &quot;It is recommended that you clone this shadow palette before editing it&quot;
        },
        &quot;$:/language/ControlPanel/Palette/Editor/Prompt/Modified&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Palette/Editor/Prompt/Modified&quot;,
            &quot;text&quot;: &quot;This shadow palette has been modified&quot;
        },
        &quot;$:/language/ControlPanel/Palette/Editor/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Palette/Editor/Prompt&quot;,
            &quot;text&quot;: &quot;Editing&quot;
        },
        &quot;$:/language/ControlPanel/Palette/Editor/Reset/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Palette/Editor/Reset/Caption&quot;,
            &quot;text&quot;: &quot;reset&quot;
        },
        &quot;$:/language/ControlPanel/Palette/HideEditor/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Palette/HideEditor/Caption&quot;,
            &quot;text&quot;: &quot;hide editor&quot;
        },
        &quot;$:/language/ControlPanel/Palette/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Palette/Prompt&quot;,
            &quot;text&quot;: &quot;Current palette:&quot;
        },
        &quot;$:/language/ControlPanel/Palette/ShowEditor/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Palette/ShowEditor/Caption&quot;,
            &quot;text&quot;: &quot;show editor&quot;
        },
        &quot;$:/language/ControlPanel/Parsing/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Parsing/Caption&quot;,
            &quot;text&quot;: &quot;Parsing&quot;
        },
        &quot;$:/language/ControlPanel/Parsing/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Parsing/Hint&quot;,
            &quot;text&quot;: &quot;Here you can globally disable individual wiki parser rules. Take care as disabling some parser rules can prevent ~TiddlyWiki functioning correctly (you can restore normal operation with [[safe mode|http://tiddlywiki.com/#SafeMode]] )&quot;
        },
        &quot;$:/language/ControlPanel/Parsing/Block/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Parsing/Block/Caption&quot;,
            &quot;text&quot;: &quot;Block Parse Rules&quot;
        },
        &quot;$:/language/ControlPanel/Parsing/Inline/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Parsing/Inline/Caption&quot;,
            &quot;text&quot;: &quot;Inline Parse Rules&quot;
        },
        &quot;$:/language/ControlPanel/Parsing/Pragma/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Parsing/Pragma/Caption&quot;,
            &quot;text&quot;: &quot;Pragma Parse Rules&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Add/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Add/Hint&quot;,
            &quot;text&quot;: &quot;Install plugins from the official library&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Add/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Add/Caption&quot;,
            &quot;text&quot;: &quot;Get more plugins&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Caption&quot;,
            &quot;text&quot;: &quot;Plugins&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Disable/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Disable/Caption&quot;,
            &quot;text&quot;: &quot;disable&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Disable/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Disable/Hint&quot;,
            &quot;text&quot;: &quot;Disable this plugin when reloading page&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Disabled/Status&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Disabled/Status&quot;,
            &quot;text&quot;: &quot;(disabled)&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Empty/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Empty/Hint&quot;,
            &quot;text&quot;: &quot;None&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Enable/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Enable/Caption&quot;,
            &quot;text&quot;: &quot;enable&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Enable/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Enable/Hint&quot;,
            &quot;text&quot;: &quot;Enable this plugin when reloading page&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Install&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Install&quot;,
            &quot;text&quot;: &quot;install&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Installed/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Installed/Hint&quot;,
            &quot;text&quot;: &quot;Currently installed plugins:&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Languages/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Languages/Caption&quot;,
            &quot;text&quot;: &quot;Languages&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Languages/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Languages/Hint&quot;,
            &quot;text&quot;: &quot;Language pack plugins&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/OpenPluginLibrary&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/OpenPluginLibrary&quot;,
            &quot;text&quot;: &quot;open plugin library&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Plugins/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Plugins/Caption&quot;,
            &quot;text&quot;: &quot;Plugins&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Plugins/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Plugins/Hint&quot;,
            &quot;text&quot;: &quot;Plugins&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Reinstall&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Reinstall&quot;,
            &quot;text&quot;: &quot;reinstall&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Themes/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Themes/Caption&quot;,
            &quot;text&quot;: &quot;Themes&quot;
        },
        &quot;$:/language/ControlPanel/Plugins/Themes/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Plugins/Themes/Hint&quot;,
            &quot;text&quot;: &quot;Theme plugins&quot;
        },
        &quot;$:/language/ControlPanel/Saving/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/Caption&quot;,
            &quot;text&quot;: &quot;Saving&quot;
        },
        &quot;$:/language/ControlPanel/Saving/Heading&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/Heading&quot;,
            &quot;text&quot;: &quot;Saving&quot;
        },
        &quot;$:/language/ControlPanel/Saving/TiddlySpot/Advanced/Heading&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/TiddlySpot/Advanced/Heading&quot;,
            &quot;text&quot;: &quot;Advanced Settings&quot;
        },
        &quot;$:/language/ControlPanel/Saving/TiddlySpot/BackupDir&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/TiddlySpot/BackupDir&quot;,
            &quot;text&quot;: &quot;Backup Directory&quot;
        },
        &quot;$:/language/ControlPanel/Saving/TiddlySpot/Backups&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/TiddlySpot/Backups&quot;,
            &quot;text&quot;: &quot;Backups&quot;
        },
        &quot;$:/language/ControlPanel/Saving/TiddlySpot/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/TiddlySpot/Description&quot;,
            &quot;text&quot;: &quot;These settings are only used when saving to http://tiddlyspot.com or a compatible remote server&quot;
        },
        &quot;$:/language/ControlPanel/Saving/TiddlySpot/Filename&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/TiddlySpot/Filename&quot;,
            &quot;text&quot;: &quot;Upload Filename&quot;
        },
        &quot;$:/language/ControlPanel/Saving/TiddlySpot/Heading&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/TiddlySpot/Heading&quot;,
            &quot;text&quot;: &quot;~TiddlySpot&quot;
        },
        &quot;$:/language/ControlPanel/Saving/TiddlySpot/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/TiddlySpot/Hint&quot;,
            &quot;text&quot;: &quot;//The server URL defaults to `http://&lt;wikiname&gt;.tiddlyspot.com/store.cgi` and can be changed to use a custom server address, e.g. `http://example.com/store.php`.//&quot;
        },
        &quot;$:/language/ControlPanel/Saving/TiddlySpot/Password&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/TiddlySpot/Password&quot;,
            &quot;text&quot;: &quot;Password&quot;
        },
        &quot;$:/language/ControlPanel/Saving/TiddlySpot/ServerURL&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/TiddlySpot/ServerURL&quot;,
            &quot;text&quot;: &quot;Server URL&quot;
        },
        &quot;$:/language/ControlPanel/Saving/TiddlySpot/UploadDir&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/TiddlySpot/UploadDir&quot;,
            &quot;text&quot;: &quot;Upload Directory&quot;
        },
        &quot;$:/language/ControlPanel/Saving/TiddlySpot/UserName&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Saving/TiddlySpot/UserName&quot;,
            &quot;text&quot;: &quot;Wiki Name&quot;
        },
        &quot;$:/language/ControlPanel/Settings/AutoSave/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/AutoSave/Caption&quot;,
            &quot;text&quot;: &quot;Autosave&quot;
        },
        &quot;$:/language/ControlPanel/Settings/AutoSave/Disabled/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/AutoSave/Disabled/Description&quot;,
            &quot;text&quot;: &quot;Do not save changes automatically&quot;
        },
        &quot;$:/language/ControlPanel/Settings/AutoSave/Enabled/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/AutoSave/Enabled/Description&quot;,
            &quot;text&quot;: &quot;Save changes automatically&quot;
        },
        &quot;$:/language/ControlPanel/Settings/AutoSave/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/AutoSave/Hint&quot;,
            &quot;text&quot;: &quot;Automatically save changes during editing&quot;
        },
        &quot;$:/language/ControlPanel/Settings/CamelCase/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/CamelCase/Caption&quot;,
            &quot;text&quot;: &quot;Camel Case Wiki Links&quot;
        },
        &quot;$:/language/ControlPanel/Settings/CamelCase/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/CamelCase/Hint&quot;,
            &quot;text&quot;: &quot;You can globally disable automatic linking of ~CamelCase phrases. Requires reload to take effect&quot;
        },
        &quot;$:/language/ControlPanel/Settings/CamelCase/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/CamelCase/Description&quot;,
            &quot;text&quot;: &quot;Enable automatic ~CamelCase linking&quot;
        },
        &quot;$:/language/ControlPanel/Settings/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/Caption&quot;,
            &quot;text&quot;: &quot;Settings&quot;
        },
        &quot;$:/language/ControlPanel/Settings/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/Hint&quot;,
            &quot;text&quot;: &quot;These settings let you customise the behaviour of TiddlyWiki.&quot;
        },
        &quot;$:/language/ControlPanel/Settings/NavigationAddressBar/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/NavigationAddressBar/Caption&quot;,
            &quot;text&quot;: &quot;Navigation Address Bar&quot;
        },
        &quot;$:/language/ControlPanel/Settings/NavigationAddressBar/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/NavigationAddressBar/Hint&quot;,
            &quot;text&quot;: &quot;Behaviour of the browser address bar when navigating to a tiddler:&quot;
        },
        &quot;$:/language/ControlPanel/Settings/NavigationAddressBar/No/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/NavigationAddressBar/No/Description&quot;,
            &quot;text&quot;: &quot;Do not update the address bar&quot;
        },
        &quot;$:/language/ControlPanel/Settings/NavigationAddressBar/Permalink/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/NavigationAddressBar/Permalink/Description&quot;,
            &quot;text&quot;: &quot;Include the target tiddler&quot;
        },
        &quot;$:/language/ControlPanel/Settings/NavigationAddressBar/Permaview/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/NavigationAddressBar/Permaview/Description&quot;,
            &quot;text&quot;: &quot;Include the target tiddler and the current story sequence&quot;
        },
        &quot;$:/language/ControlPanel/Settings/NavigationHistory/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/NavigationHistory/Caption&quot;,
            &quot;text&quot;: &quot;Navigation History&quot;
        },
        &quot;$:/language/ControlPanel/Settings/NavigationHistory/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/NavigationHistory/Hint&quot;,
            &quot;text&quot;: &quot;Update browser history when navigating to a tiddler:&quot;
        },
        &quot;$:/language/ControlPanel/Settings/NavigationHistory/No/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/NavigationHistory/No/Description&quot;,
            &quot;text&quot;: &quot;Do not update history&quot;
        },
        &quot;$:/language/ControlPanel/Settings/NavigationHistory/Yes/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/NavigationHistory/Yes/Description&quot;,
            &quot;text&quot;: &quot;Update history&quot;
        },
        &quot;$:/language/ControlPanel/Settings/PerformanceInstrumentation/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/PerformanceInstrumentation/Caption&quot;,
            &quot;text&quot;: &quot;Performance Instrumentation&quot;
        },
        &quot;$:/language/ControlPanel/Settings/PerformanceInstrumentation/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/PerformanceInstrumentation/Hint&quot;,
            &quot;text&quot;: &quot;Displays performance statistics in the browser developer console. Requires reload to take effect&quot;
        },
        &quot;$:/language/ControlPanel/Settings/PerformanceInstrumentation/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/PerformanceInstrumentation/Description&quot;,
            &quot;text&quot;: &quot;Enable performance instrumentation&quot;
        },
        &quot;$:/language/ControlPanel/Settings/ToolbarButtonStyle/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/ToolbarButtonStyle/Caption&quot;,
            &quot;text&quot;: &quot;Toolbar Button Style&quot;
        },
        &quot;$:/language/ControlPanel/Settings/ToolbarButtonStyle/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/ToolbarButtonStyle/Hint&quot;,
            &quot;text&quot;: &quot;Choose the style for toolbar buttons:&quot;
        },
        &quot;$:/language/ControlPanel/Settings/ToolbarButtonStyle/Styles/Borderless&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/ToolbarButtonStyle/Styles/Borderless&quot;,
            &quot;text&quot;: &quot;Borderless&quot;
        },
        &quot;$:/language/ControlPanel/Settings/ToolbarButtonStyle/Styles/Boxed&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/ToolbarButtonStyle/Styles/Boxed&quot;,
            &quot;text&quot;: &quot;Boxed&quot;
        },
        &quot;$:/language/ControlPanel/Settings/ToolbarButtonStyle/Styles/Rounded&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/ToolbarButtonStyle/Styles/Rounded&quot;,
            &quot;text&quot;: &quot;Rounded&quot;
        },
        &quot;$:/language/ControlPanel/Settings/ToolbarButtons/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/ToolbarButtons/Caption&quot;,
            &quot;text&quot;: &quot;Toolbar Buttons&quot;
        },
        &quot;$:/language/ControlPanel/Settings/ToolbarButtons/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/ToolbarButtons/Hint&quot;,
            &quot;text&quot;: &quot;Default toolbar button appearance:&quot;
        },
        &quot;$:/language/ControlPanel/Settings/ToolbarButtons/Icons/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/ToolbarButtons/Icons/Description&quot;,
            &quot;text&quot;: &quot;Include icon&quot;
        },
        &quot;$:/language/ControlPanel/Settings/ToolbarButtons/Text/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/ToolbarButtons/Text/Description&quot;,
            &quot;text&quot;: &quot;Include text&quot;
        },
        &quot;$:/language/ControlPanel/Settings/DefaultSidebarTab/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/DefaultSidebarTab/Caption&quot;,
            &quot;text&quot;: &quot;Default Sidebar Tab&quot;
        },
        &quot;$:/language/ControlPanel/Settings/DefaultSidebarTab/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/DefaultSidebarTab/Hint&quot;,
            &quot;text&quot;: &quot;Specify which sidebar tab is displayed by default&quot;
        },
        &quot;$:/language/ControlPanel/Settings/LinkToBehaviour/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/LinkToBehaviour/Caption&quot;,
            &quot;text&quot;: &quot;Tiddler Opening Behaviour&quot;
        },
        &quot;$:/language/ControlPanel/Settings/LinkToBehaviour/InsideRiver/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/LinkToBehaviour/InsideRiver/Hint&quot;,
            &quot;text&quot;: &quot;Navigation from //within// the story river&quot;
        },
        &quot;$:/language/ControlPanel/Settings/LinkToBehaviour/OutsideRiver/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/LinkToBehaviour/OutsideRiver/Hint&quot;,
            &quot;text&quot;: &quot;Navigation from //outside// the story river&quot;
        },
        &quot;$:/language/ControlPanel/Settings/LinkToBehaviour/OpenAbove&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/LinkToBehaviour/OpenAbove&quot;,
            &quot;text&quot;: &quot;Open above the current tiddler&quot;
        },
        &quot;$:/language/ControlPanel/Settings/LinkToBehaviour/OpenBelow&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/LinkToBehaviour/OpenBelow&quot;,
            &quot;text&quot;: &quot;Open below the current tiddler&quot;
        },
        &quot;$:/language/ControlPanel/Settings/LinkToBehaviour/OpenAtTop&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/LinkToBehaviour/OpenAtTop&quot;,
            &quot;text&quot;: &quot;Open at the top of the story river&quot;
        },
        &quot;$:/language/ControlPanel/Settings/LinkToBehaviour/OpenAtBottom&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/LinkToBehaviour/OpenAtBottom&quot;,
            &quot;text&quot;: &quot;Open at the bottom of the story river&quot;
        },
        &quot;$:/language/ControlPanel/Settings/TitleLinks/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/TitleLinks/Caption&quot;,
            &quot;text&quot;: &quot;Tiddler Titles&quot;
        },
        &quot;$:/language/ControlPanel/Settings/TitleLinks/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/TitleLinks/Hint&quot;,
            &quot;text&quot;: &quot;Optionally display tiddler titles as links&quot;
        },
        &quot;$:/language/ControlPanel/Settings/TitleLinks/No/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/TitleLinks/No/Description&quot;,
            &quot;text&quot;: &quot;Do not display tiddler titles as links&quot;
        },
        &quot;$:/language/ControlPanel/Settings/TitleLinks/Yes/Description&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Settings/TitleLinks/Yes/Description&quot;,
            &quot;text&quot;: &quot;Display tiddler titles as links&quot;
        },
        &quot;$:/language/ControlPanel/StoryView/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/StoryView/Caption&quot;,
            &quot;text&quot;: &quot;Story View&quot;
        },
        &quot;$:/language/ControlPanel/StoryView/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/StoryView/Prompt&quot;,
            &quot;text&quot;: &quot;Current view:&quot;
        },
        &quot;$:/language/ControlPanel/Theme/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Theme/Caption&quot;,
            &quot;text&quot;: &quot;Theme&quot;
        },
        &quot;$:/language/ControlPanel/Theme/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Theme/Prompt&quot;,
            &quot;text&quot;: &quot;Current theme:&quot;
        },
        &quot;$:/language/ControlPanel/TiddlerFields/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/TiddlerFields/Caption&quot;,
            &quot;text&quot;: &quot;Tiddler Fields&quot;
        },
        &quot;$:/language/ControlPanel/TiddlerFields/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/TiddlerFields/Hint&quot;,
            &quot;text&quot;: &quot;This is the full set of TiddlerFields in use in this wiki (including system tiddlers but excluding shadow tiddlers).&quot;
        },
        &quot;$:/language/ControlPanel/Toolbars/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Toolbars/Caption&quot;,
            &quot;text&quot;: &quot;Toolbars&quot;
        },
        &quot;$:/language/ControlPanel/Toolbars/EditToolbar/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Toolbars/EditToolbar/Caption&quot;,
            &quot;text&quot;: &quot;Edit Toolbar&quot;
        },
        &quot;$:/language/ControlPanel/Toolbars/EditToolbar/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Toolbars/EditToolbar/Hint&quot;,
            &quot;text&quot;: &quot;Choose which buttons are displayed for tiddlers in edit mode&quot;
        },
        &quot;$:/language/ControlPanel/Toolbars/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Toolbars/Hint&quot;,
            &quot;text&quot;: &quot;Select which toolbar buttons are displayed&quot;
        },
        &quot;$:/language/ControlPanel/Toolbars/PageControls/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Toolbars/PageControls/Caption&quot;,
            &quot;text&quot;: &quot;Page Toolbar&quot;
        },
        &quot;$:/language/ControlPanel/Toolbars/PageControls/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Toolbars/PageControls/Hint&quot;,
            &quot;text&quot;: &quot;Choose which buttons are displayed on the main page toolbar&quot;
        },
        &quot;$:/language/ControlPanel/Toolbars/ViewToolbar/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Toolbars/ViewToolbar/Caption&quot;,
            &quot;text&quot;: &quot;View Toolbar&quot;
        },
        &quot;$:/language/ControlPanel/Toolbars/ViewToolbar/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Toolbars/ViewToolbar/Hint&quot;,
            &quot;text&quot;: &quot;Choose which buttons are displayed for tiddlers in view mode&quot;
        },
        &quot;$:/language/ControlPanel/Tools/Download/Full/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ControlPanel/Tools/Download/Full/Caption&quot;,
            &quot;text&quot;: &quot;Download full wiki&quot;
        },
        &quot;$:/language/Date/DaySuffix/1&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/1&quot;,
            &quot;text&quot;: &quot;st&quot;
        },
        &quot;$:/language/Date/DaySuffix/2&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/2&quot;,
            &quot;text&quot;: &quot;nd&quot;
        },
        &quot;$:/language/Date/DaySuffix/3&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/3&quot;,
            &quot;text&quot;: &quot;rd&quot;
        },
        &quot;$:/language/Date/DaySuffix/4&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/4&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/5&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/5&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/6&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/6&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/7&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/7&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/8&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/8&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/9&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/9&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/10&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/10&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/11&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/11&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/12&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/12&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/13&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/13&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/14&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/14&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/15&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/15&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/16&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/16&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/17&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/17&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/18&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/18&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/19&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/19&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/20&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/20&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/21&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/21&quot;,
            &quot;text&quot;: &quot;st&quot;
        },
        &quot;$:/language/Date/DaySuffix/22&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/22&quot;,
            &quot;text&quot;: &quot;nd&quot;
        },
        &quot;$:/language/Date/DaySuffix/23&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/23&quot;,
            &quot;text&quot;: &quot;rd&quot;
        },
        &quot;$:/language/Date/DaySuffix/24&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/24&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/25&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/25&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/26&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/26&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/27&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/27&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/28&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/28&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/29&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/29&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/30&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/30&quot;,
            &quot;text&quot;: &quot;th&quot;
        },
        &quot;$:/language/Date/DaySuffix/31&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/DaySuffix/31&quot;,
            &quot;text&quot;: &quot;st&quot;
        },
        &quot;$:/language/Date/Long/Day/0&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Day/0&quot;,
            &quot;text&quot;: &quot;Sunday&quot;
        },
        &quot;$:/language/Date/Long/Day/1&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Day/1&quot;,
            &quot;text&quot;: &quot;Monday&quot;
        },
        &quot;$:/language/Date/Long/Day/2&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Day/2&quot;,
            &quot;text&quot;: &quot;Tuesday&quot;
        },
        &quot;$:/language/Date/Long/Day/3&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Day/3&quot;,
            &quot;text&quot;: &quot;Wednesday&quot;
        },
        &quot;$:/language/Date/Long/Day/4&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Day/4&quot;,
            &quot;text&quot;: &quot;Thursday&quot;
        },
        &quot;$:/language/Date/Long/Day/5&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Day/5&quot;,
            &quot;text&quot;: &quot;Friday&quot;
        },
        &quot;$:/language/Date/Long/Day/6&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Day/6&quot;,
            &quot;text&quot;: &quot;Saturday&quot;
        },
        &quot;$:/language/Date/Long/Month/1&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/1&quot;,
            &quot;text&quot;: &quot;January&quot;
        },
        &quot;$:/language/Date/Long/Month/2&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/2&quot;,
            &quot;text&quot;: &quot;February&quot;
        },
        &quot;$:/language/Date/Long/Month/3&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/3&quot;,
            &quot;text&quot;: &quot;March&quot;
        },
        &quot;$:/language/Date/Long/Month/4&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/4&quot;,
            &quot;text&quot;: &quot;April&quot;
        },
        &quot;$:/language/Date/Long/Month/5&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/5&quot;,
            &quot;text&quot;: &quot;May&quot;
        },
        &quot;$:/language/Date/Long/Month/6&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/6&quot;,
            &quot;text&quot;: &quot;June&quot;
        },
        &quot;$:/language/Date/Long/Month/7&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/7&quot;,
            &quot;text&quot;: &quot;July&quot;
        },
        &quot;$:/language/Date/Long/Month/8&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/8&quot;,
            &quot;text&quot;: &quot;August&quot;
        },
        &quot;$:/language/Date/Long/Month/9&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/9&quot;,
            &quot;text&quot;: &quot;September&quot;
        },
        &quot;$:/language/Date/Long/Month/10&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/10&quot;,
            &quot;text&quot;: &quot;October&quot;
        },
        &quot;$:/language/Date/Long/Month/11&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/11&quot;,
            &quot;text&quot;: &quot;November&quot;
        },
        &quot;$:/language/Date/Long/Month/12&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Long/Month/12&quot;,
            &quot;text&quot;: &quot;December&quot;
        },
        &quot;$:/language/Date/Period/am&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Period/am&quot;,
            &quot;text&quot;: &quot;am&quot;
        },
        &quot;$:/language/Date/Period/pm&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Period/pm&quot;,
            &quot;text&quot;: &quot;pm&quot;
        },
        &quot;$:/language/Date/Short/Day/0&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Day/0&quot;,
            &quot;text&quot;: &quot;Sun&quot;
        },
        &quot;$:/language/Date/Short/Day/1&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Day/1&quot;,
            &quot;text&quot;: &quot;Mon&quot;
        },
        &quot;$:/language/Date/Short/Day/2&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Day/2&quot;,
            &quot;text&quot;: &quot;Tue&quot;
        },
        &quot;$:/language/Date/Short/Day/3&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Day/3&quot;,
            &quot;text&quot;: &quot;Wed&quot;
        },
        &quot;$:/language/Date/Short/Day/4&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Day/4&quot;,
            &quot;text&quot;: &quot;Thu&quot;
        },
        &quot;$:/language/Date/Short/Day/5&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Day/5&quot;,
            &quot;text&quot;: &quot;Fri&quot;
        },
        &quot;$:/language/Date/Short/Day/6&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Day/6&quot;,
            &quot;text&quot;: &quot;Sat&quot;
        },
        &quot;$:/language/Date/Short/Month/1&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/1&quot;,
            &quot;text&quot;: &quot;Jan&quot;
        },
        &quot;$:/language/Date/Short/Month/2&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/2&quot;,
            &quot;text&quot;: &quot;Feb&quot;
        },
        &quot;$:/language/Date/Short/Month/3&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/3&quot;,
            &quot;text&quot;: &quot;Mar&quot;
        },
        &quot;$:/language/Date/Short/Month/4&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/4&quot;,
            &quot;text&quot;: &quot;Apr&quot;
        },
        &quot;$:/language/Date/Short/Month/5&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/5&quot;,
            &quot;text&quot;: &quot;May&quot;
        },
        &quot;$:/language/Date/Short/Month/6&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/6&quot;,
            &quot;text&quot;: &quot;Jun&quot;
        },
        &quot;$:/language/Date/Short/Month/7&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/7&quot;,
            &quot;text&quot;: &quot;Jul&quot;
        },
        &quot;$:/language/Date/Short/Month/8&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/8&quot;,
            &quot;text&quot;: &quot;Aug&quot;
        },
        &quot;$:/language/Date/Short/Month/9&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/9&quot;,
            &quot;text&quot;: &quot;Sep&quot;
        },
        &quot;$:/language/Date/Short/Month/10&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/10&quot;,
            &quot;text&quot;: &quot;Oct&quot;
        },
        &quot;$:/language/Date/Short/Month/11&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/11&quot;,
            &quot;text&quot;: &quot;Nov&quot;
        },
        &quot;$:/language/Date/Short/Month/12&quot;: {
            &quot;title&quot;: &quot;$:/language/Date/Short/Month/12&quot;,
            &quot;text&quot;: &quot;Dec&quot;
        },
        &quot;$:/language/RelativeDate/Future/Days&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Future/Days&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; days from now&quot;
        },
        &quot;$:/language/RelativeDate/Future/Hours&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Future/Hours&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; hours from now&quot;
        },
        &quot;$:/language/RelativeDate/Future/Minutes&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Future/Minutes&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; minutes from now&quot;
        },
        &quot;$:/language/RelativeDate/Future/Months&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Future/Months&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; months from now&quot;
        },
        &quot;$:/language/RelativeDate/Future/Second&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Future/Second&quot;,
            &quot;text&quot;: &quot;1 second from now&quot;
        },
        &quot;$:/language/RelativeDate/Future/Seconds&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Future/Seconds&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; seconds from now&quot;
        },
        &quot;$:/language/RelativeDate/Future/Years&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Future/Years&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; years from now&quot;
        },
        &quot;$:/language/RelativeDate/Past/Days&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Past/Days&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; days ago&quot;
        },
        &quot;$:/language/RelativeDate/Past/Hours&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Past/Hours&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; hours ago&quot;
        },
        &quot;$:/language/RelativeDate/Past/Minutes&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Past/Minutes&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; minutes ago&quot;
        },
        &quot;$:/language/RelativeDate/Past/Months&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Past/Months&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; months ago&quot;
        },
        &quot;$:/language/RelativeDate/Past/Second&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Past/Second&quot;,
            &quot;text&quot;: &quot;1 second ago&quot;
        },
        &quot;$:/language/RelativeDate/Past/Seconds&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Past/Seconds&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; seconds ago&quot;
        },
        &quot;$:/language/RelativeDate/Past/Years&quot;: {
            &quot;title&quot;: &quot;$:/language/RelativeDate/Past/Years&quot;,
            &quot;text&quot;: &quot;&lt;&lt;period&gt;&gt; years ago&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/animation&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/animation&quot;,
            &quot;text&quot;: &quot;Animations that may be used with the RevealWidget.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/command&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/command&quot;,
            &quot;text&quot;: &quot;Commands that can be executed under Node.js.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/config&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/config&quot;,
            &quot;text&quot;: &quot;Data to be inserted into `$tw.config`.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/filteroperator&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/filteroperator&quot;,
            &quot;text&quot;: &quot;Individual filter operator methods.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/global&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/global&quot;,
            &quot;text&quot;: &quot;Global data to be inserted into `$tw`.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/isfilteroperator&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/isfilteroperator&quot;,
            &quot;text&quot;: &quot;Operands for the ''is'' filter operator.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/macro&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/macro&quot;,
            &quot;text&quot;: &quot;JavaScript macro definitions.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/parser&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/parser&quot;,
            &quot;text&quot;: &quot;Parsers for different content types.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/saver&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/saver&quot;,
            &quot;text&quot;: &quot;Savers handle different methods for saving files from the browser.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/startup&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/startup&quot;,
            &quot;text&quot;: &quot;Startup functions.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/storyview&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/storyview&quot;,
            &quot;text&quot;: &quot;Story views customise the animation and behaviour of list widgets.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/tiddlerdeserializer&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/tiddlerdeserializer&quot;,
            &quot;text&quot;: &quot;Converts different content types into tiddlers.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/tiddlerfield&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/tiddlerfield&quot;,
            &quot;text&quot;: &quot;Defines the behaviour of an individual tiddler field.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/tiddlermethod&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/tiddlermethod&quot;,
            &quot;text&quot;: &quot;Adds methods to the `$tw.Tiddler` prototype.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/upgrader&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/upgrader&quot;,
            &quot;text&quot;: &quot;Applies upgrade processing to tiddlers during an upgrade/import.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/utils&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/utils&quot;,
            &quot;text&quot;: &quot;Adds methods to `$tw.utils`.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/utils-node&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/utils-node&quot;,
            &quot;text&quot;: &quot;Adds Node.js-specific methods to `$tw.utils`.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/widget&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/widget&quot;,
            &quot;text&quot;: &quot;Widgets encapsulate DOM rendering and refreshing.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/wikimethod&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/wikimethod&quot;,
            &quot;text&quot;: &quot;Adds methods to `$tw.Wiki`.&quot;
        },
        &quot;$:/language/Docs/ModuleTypes/wikirule&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/ModuleTypes/wikirule&quot;,
            &quot;text&quot;: &quot;Individual parser rules for the main WikiText parser.&quot;
        },
        &quot;$:/language/Docs/PaletteColours/alert-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/alert-background&quot;,
            &quot;text&quot;: &quot;Alert background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/alert-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/alert-border&quot;,
            &quot;text&quot;: &quot;Alert border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/alert-highlight&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/alert-highlight&quot;,
            &quot;text&quot;: &quot;Alert highlight&quot;
        },
        &quot;$:/language/Docs/PaletteColours/alert-muted-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/alert-muted-foreground&quot;,
            &quot;text&quot;: &quot;Alert muted foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/background&quot;,
            &quot;text&quot;: &quot;General background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/blockquote-bar&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/blockquote-bar&quot;,
            &quot;text&quot;: &quot;Blockquote bar&quot;
        },
        &quot;$:/language/Docs/PaletteColours/button-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/button-background&quot;,
            &quot;text&quot;: &quot;Default button background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/button-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/button-border&quot;,
            &quot;text&quot;: &quot;Default button border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/button-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/button-foreground&quot;,
            &quot;text&quot;: &quot;Default button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/dirty-indicator&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/dirty-indicator&quot;,
            &quot;text&quot;: &quot;Unsaved changes indicator&quot;
        },
        &quot;$:/language/Docs/PaletteColours/code-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/code-background&quot;,
            &quot;text&quot;: &quot;Code background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/code-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/code-border&quot;,
            &quot;text&quot;: &quot;Code border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/code-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/code-foreground&quot;,
            &quot;text&quot;: &quot;Code foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/download-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/download-background&quot;,
            &quot;text&quot;: &quot;Download button background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/download-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/download-foreground&quot;,
            &quot;text&quot;: &quot;Download button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/dragger-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/dragger-background&quot;,
            &quot;text&quot;: &quot;Dragger background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/dragger-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/dragger-foreground&quot;,
            &quot;text&quot;: &quot;Dragger foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/dropdown-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/dropdown-background&quot;,
            &quot;text&quot;: &quot;Dropdown background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/dropdown-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/dropdown-border&quot;,
            &quot;text&quot;: &quot;Dropdown border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/dropdown-tab-background-selected&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/dropdown-tab-background-selected&quot;,
            &quot;text&quot;: &quot;Dropdown tab background for selected tabs&quot;
        },
        &quot;$:/language/Docs/PaletteColours/dropdown-tab-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/dropdown-tab-background&quot;,
            &quot;text&quot;: &quot;Dropdown tab background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/dropzone-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/dropzone-background&quot;,
            &quot;text&quot;: &quot;Dropzone background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/external-link-background-hover&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/external-link-background-hover&quot;,
            &quot;text&quot;: &quot;External link background hover&quot;
        },
        &quot;$:/language/Docs/PaletteColours/external-link-background-visited&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/external-link-background-visited&quot;,
            &quot;text&quot;: &quot;External link background visited&quot;
        },
        &quot;$:/language/Docs/PaletteColours/external-link-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/external-link-background&quot;,
            &quot;text&quot;: &quot;External link background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/external-link-foreground-hover&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/external-link-foreground-hover&quot;,
            &quot;text&quot;: &quot;External link foreground hover&quot;
        },
        &quot;$:/language/Docs/PaletteColours/external-link-foreground-visited&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/external-link-foreground-visited&quot;,
            &quot;text&quot;: &quot;External link foreground visited&quot;
        },
        &quot;$:/language/Docs/PaletteColours/external-link-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/external-link-foreground&quot;,
            &quot;text&quot;: &quot;External link foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/foreground&quot;,
            &quot;text&quot;: &quot;General foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/message-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/message-background&quot;,
            &quot;text&quot;: &quot;Message box background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/message-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/message-border&quot;,
            &quot;text&quot;: &quot;Message box border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/message-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/message-foreground&quot;,
            &quot;text&quot;: &quot;Message box foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/modal-backdrop&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/modal-backdrop&quot;,
            &quot;text&quot;: &quot;Modal backdrop&quot;
        },
        &quot;$:/language/Docs/PaletteColours/modal-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/modal-background&quot;,
            &quot;text&quot;: &quot;Modal background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/modal-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/modal-border&quot;,
            &quot;text&quot;: &quot;Modal border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/modal-footer-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/modal-footer-background&quot;,
            &quot;text&quot;: &quot;Modal footer background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/modal-footer-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/modal-footer-border&quot;,
            &quot;text&quot;: &quot;Modal footer border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/modal-header-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/modal-header-border&quot;,
            &quot;text&quot;: &quot;Modal header border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/muted-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/muted-foreground&quot;,
            &quot;text&quot;: &quot;General muted foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/notification-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/notification-background&quot;,
            &quot;text&quot;: &quot;Notification background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/notification-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/notification-border&quot;,
            &quot;text&quot;: &quot;Notification border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/page-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/page-background&quot;,
            &quot;text&quot;: &quot;Page background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/pre-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/pre-background&quot;,
            &quot;text&quot;: &quot;Preformatted code background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/pre-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/pre-border&quot;,
            &quot;text&quot;: &quot;Preformatted code border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/primary&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/primary&quot;,
            &quot;text&quot;: &quot;General primary&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-button-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-button-foreground&quot;,
            &quot;text&quot;: &quot;Sidebar button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-controls-foreground-hover&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-controls-foreground-hover&quot;,
            &quot;text&quot;: &quot;Sidebar controls foreground hover&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-controls-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-controls-foreground&quot;,
            &quot;text&quot;: &quot;Sidebar controls foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-foreground-shadow&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-foreground-shadow&quot;,
            &quot;text&quot;: &quot;Sidebar foreground shadow&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-foreground&quot;,
            &quot;text&quot;: &quot;Sidebar foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-muted-foreground-hover&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-muted-foreground-hover&quot;,
            &quot;text&quot;: &quot;Sidebar muted foreground hover&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-muted-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-muted-foreground&quot;,
            &quot;text&quot;: &quot;Sidebar muted foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-tab-background-selected&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-tab-background-selected&quot;,
            &quot;text&quot;: &quot;Sidebar tab background for selected tabs&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-tab-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-tab-background&quot;,
            &quot;text&quot;: &quot;Sidebar tab background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-tab-border-selected&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-tab-border-selected&quot;,
            &quot;text&quot;: &quot;Sidebar tab border for selected tabs&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-tab-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-tab-border&quot;,
            &quot;text&quot;: &quot;Sidebar tab border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-tab-divider&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-tab-divider&quot;,
            &quot;text&quot;: &quot;Sidebar tab divider&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-tab-foreground-selected&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-tab-foreground-selected&quot;,
            &quot;text&quot;: &quot;Sidebar tab foreground for selected tabs&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-tab-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-tab-foreground&quot;,
            &quot;text&quot;: &quot;Sidebar tab foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-tiddler-link-foreground-hover&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-tiddler-link-foreground-hover&quot;,
            &quot;text&quot;: &quot;Sidebar tiddler link foreground hover&quot;
        },
        &quot;$:/language/Docs/PaletteColours/sidebar-tiddler-link-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/sidebar-tiddler-link-foreground&quot;,
            &quot;text&quot;: &quot;Sidebar tiddler link foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/site-title-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/site-title-foreground&quot;,
            &quot;text&quot;: &quot;Site title foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/static-alert-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/static-alert-foreground&quot;,
            &quot;text&quot;: &quot;Static alert foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tab-background-selected&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tab-background-selected&quot;,
            &quot;text&quot;: &quot;Tab background for selected tabs&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tab-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tab-background&quot;,
            &quot;text&quot;: &quot;Tab background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tab-border-selected&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tab-border-selected&quot;,
            &quot;text&quot;: &quot;Tab border for selected tabs&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tab-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tab-border&quot;,
            &quot;text&quot;: &quot;Tab border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tab-divider&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tab-divider&quot;,
            &quot;text&quot;: &quot;Tab divider&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tab-foreground-selected&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tab-foreground-selected&quot;,
            &quot;text&quot;: &quot;Tab foreground for selected tabs&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tab-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tab-foreground&quot;,
            &quot;text&quot;: &quot;Tab foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/table-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/table-border&quot;,
            &quot;text&quot;: &quot;Table border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/table-footer-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/table-footer-background&quot;,
            &quot;text&quot;: &quot;Table footer background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/table-header-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/table-header-background&quot;,
            &quot;text&quot;: &quot;Table header background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tag-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tag-background&quot;,
            &quot;text&quot;: &quot;Tag background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tag-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tag-foreground&quot;,
            &quot;text&quot;: &quot;Tag foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-background&quot;,
            &quot;text&quot;: &quot;Tiddler background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-border&quot;,
            &quot;text&quot;: &quot;Tiddler border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-controls-foreground-hover&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-controls-foreground-hover&quot;,
            &quot;text&quot;: &quot;Tiddler controls foreground hover&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-controls-foreground-selected&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-controls-foreground-selected&quot;,
            &quot;text&quot;: &quot;Tiddler controls foreground for selected controls&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-controls-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-controls-foreground&quot;,
            &quot;text&quot;: &quot;Tiddler controls foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-editor-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-editor-background&quot;,
            &quot;text&quot;: &quot;Tiddler editor background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-editor-border-image&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-editor-border-image&quot;,
            &quot;text&quot;: &quot;Tiddler editor border image&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-editor-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-editor-border&quot;,
            &quot;text&quot;: &quot;Tiddler editor border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-editor-fields-even&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-editor-fields-even&quot;,
            &quot;text&quot;: &quot;Tiddler editor background for even fields&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-editor-fields-odd&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-editor-fields-odd&quot;,
            &quot;text&quot;: &quot;Tiddler editor background for odd fields&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-info-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-info-background&quot;,
            &quot;text&quot;: &quot;Tiddler info panel background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-info-border&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-info-border&quot;,
            &quot;text&quot;: &quot;Tiddler info panel border&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-info-tab-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-info-tab-background&quot;,
            &quot;text&quot;: &quot;Tiddler info panel tab background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-link-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-link-background&quot;,
            &quot;text&quot;: &quot;Tiddler link background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-link-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-link-foreground&quot;,
            &quot;text&quot;: &quot;Tiddler link foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-subtitle-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-subtitle-foreground&quot;,
            &quot;text&quot;: &quot;Tiddler subtitle foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/tiddler-title-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/tiddler-title-foreground&quot;,
            &quot;text&quot;: &quot;Tiddler title foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/toolbar-new-button&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/toolbar-new-button&quot;,
            &quot;text&quot;: &quot;Toolbar 'new tiddler' button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/toolbar-options-button&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/toolbar-options-button&quot;,
            &quot;text&quot;: &quot;Toolbar 'options' button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/toolbar-save-button&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/toolbar-save-button&quot;,
            &quot;text&quot;: &quot;Toolbar 'save' button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/toolbar-info-button&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/toolbar-info-button&quot;,
            &quot;text&quot;: &quot;Toolbar 'info' button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/toolbar-edit-button&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/toolbar-edit-button&quot;,
            &quot;text&quot;: &quot;Toolbar 'edit' button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/toolbar-close-button&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/toolbar-close-button&quot;,
            &quot;text&quot;: &quot;Toolbar 'close' button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/toolbar-delete-button&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/toolbar-delete-button&quot;,
            &quot;text&quot;: &quot;Toolbar 'delete' button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/toolbar-cancel-button&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/toolbar-cancel-button&quot;,
            &quot;text&quot;: &quot;Toolbar 'cancel' button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/toolbar-done-button&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/toolbar-done-button&quot;,
            &quot;text&quot;: &quot;Toolbar 'done' button foreground&quot;
        },
        &quot;$:/language/Docs/PaletteColours/untagged-background&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/untagged-background&quot;,
            &quot;text&quot;: &quot;Untagged pill background&quot;
        },
        &quot;$:/language/Docs/PaletteColours/very-muted-foreground&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/PaletteColours/very-muted-foreground&quot;,
            &quot;text&quot;: &quot;Very muted foreground&quot;
        },
        &quot;$:/language/EditTemplate/Body/External/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Body/External/Hint&quot;,
            &quot;text&quot;: &quot;This is an external tiddler stored outside of the main TiddlyWiki file. You can edit the tags and fields but cannot directly edit the content itself&quot;
        },
        &quot;$:/language/EditTemplate/Body/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Body/Hint&quot;,
            &quot;text&quot;: &quot;Use [[wiki text|http://tiddlywiki.com/static/WikiText.html]] to add formatting, images, and dynamic features&quot;
        },
        &quot;$:/language/EditTemplate/Body/Placeholder&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Body/Placeholder&quot;,
            &quot;text&quot;: &quot;Type the text for this tiddler&quot;
        },
        &quot;$:/language/EditTemplate/Body/Preview/Button/Hide&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Body/Preview/Button/Hide&quot;,
            &quot;text&quot;: &quot;hide preview&quot;
        },
        &quot;$:/language/EditTemplate/Body/Preview/Button/Show&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Body/Preview/Button/Show&quot;,
            &quot;text&quot;: &quot;show preview&quot;
        },
        &quot;$:/language/EditTemplate/Field/Remove/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Field/Remove/Caption&quot;,
            &quot;text&quot;: &quot;remove field&quot;
        },
        &quot;$:/language/EditTemplate/Field/Remove/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Field/Remove/Hint&quot;,
            &quot;text&quot;: &quot;Remove field&quot;
        },
        &quot;$:/language/EditTemplate/Fields/Add/Button&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Fields/Add/Button&quot;,
            &quot;text&quot;: &quot;add&quot;
        },
        &quot;$:/language/EditTemplate/Fields/Add/Name/Placeholder&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Fields/Add/Name/Placeholder&quot;,
            &quot;text&quot;: &quot;field name&quot;
        },
        &quot;$:/language/EditTemplate/Fields/Add/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Fields/Add/Prompt&quot;,
            &quot;text&quot;: &quot;Add a new field:&quot;
        },
        &quot;$:/language/EditTemplate/Fields/Add/Value/Placeholder&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Fields/Add/Value/Placeholder&quot;,
            &quot;text&quot;: &quot;field value&quot;
        },
        &quot;$:/language/EditTemplate/Fields/Add/Dropdown/System&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Fields/Add/Dropdown/System&quot;,
            &quot;text&quot;: &quot;System fields&quot;
        },
        &quot;$:/language/EditTemplate/Fields/Add/Dropdown/User&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Fields/Add/Dropdown/User&quot;,
            &quot;text&quot;: &quot;User fields&quot;
        },
        &quot;$:/language/EditTemplate/Shadow/Warning&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Shadow/Warning&quot;,
            &quot;text&quot;: &quot;This is a shadow tiddler. Any changes you make will override the default version from the plugin &lt;&lt;pluginLink&gt;&gt;&quot;
        },
        &quot;$:/language/EditTemplate/Shadow/OverriddenWarning&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Shadow/OverriddenWarning&quot;,
            &quot;text&quot;: &quot;This is a modified shadow tiddler. You can revert to the default version in the plugin &lt;&lt;pluginLink&gt;&gt; by deleting this tiddler&quot;
        },
        &quot;$:/language/EditTemplate/Tags/Add/Button&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Tags/Add/Button&quot;,
            &quot;text&quot;: &quot;add&quot;
        },
        &quot;$:/language/EditTemplate/Tags/Add/Placeholder&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Tags/Add/Placeholder&quot;,
            &quot;text&quot;: &quot;tag name&quot;
        },
        &quot;$:/language/EditTemplate/Tags/Dropdown/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Tags/Dropdown/Caption&quot;,
            &quot;text&quot;: &quot;tag list&quot;
        },
        &quot;$:/language/EditTemplate/Tags/Dropdown/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Tags/Dropdown/Hint&quot;,
            &quot;text&quot;: &quot;Show tag list&quot;
        },
        &quot;$:/language/EditTemplate/Type/Dropdown/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Type/Dropdown/Caption&quot;,
            &quot;text&quot;: &quot;content type list&quot;
        },
        &quot;$:/language/EditTemplate/Type/Dropdown/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Type/Dropdown/Hint&quot;,
            &quot;text&quot;: &quot;Show content type list&quot;
        },
        &quot;$:/language/EditTemplate/Type/Delete/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Type/Delete/Caption&quot;,
            &quot;text&quot;: &quot;delete content type&quot;
        },
        &quot;$:/language/EditTemplate/Type/Delete/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Type/Delete/Hint&quot;,
            &quot;text&quot;: &quot;Delete content type&quot;
        },
        &quot;$:/language/EditTemplate/Type/Placeholder&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Type/Placeholder&quot;,
            &quot;text&quot;: &quot;content type&quot;
        },
        &quot;$:/language/EditTemplate/Type/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/EditTemplate/Type/Prompt&quot;,
            &quot;text&quot;: &quot;Type:&quot;
        },
        &quot;$:/language/Exporters/StaticRiver&quot;: {
            &quot;title&quot;: &quot;$:/language/Exporters/StaticRiver&quot;,
            &quot;text&quot;: &quot;Static HTML&quot;
        },
        &quot;$:/language/Exporters/JsonFile&quot;: {
            &quot;title&quot;: &quot;$:/language/Exporters/JsonFile&quot;,
            &quot;text&quot;: &quot;JSON file&quot;
        },
        &quot;$:/language/Exporters/CsvFile&quot;: {
            &quot;title&quot;: &quot;$:/language/Exporters/CsvFile&quot;,
            &quot;text&quot;: &quot;CSV file&quot;
        },
        &quot;$:/language/Exporters/TidFile&quot;: {
            &quot;title&quot;: &quot;$:/language/Exporters/TidFile&quot;,
            &quot;text&quot;: &quot;\&quot;.tid\&quot; file&quot;
        },
        &quot;$:/language/Docs/Fields/_canonical_uri&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/_canonical_uri&quot;,
            &quot;text&quot;: &quot;The full URI of an external image tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/bag&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/bag&quot;,
            &quot;text&quot;: &quot;The name of the bag from which a tiddler came&quot;
        },
        &quot;$:/language/Docs/Fields/caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/caption&quot;,
            &quot;text&quot;: &quot;The text to be displayed on a tab or button&quot;
        },
        &quot;$:/language/Docs/Fields/color&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/color&quot;,
            &quot;text&quot;: &quot;The CSS color value associated with a tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/component&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/component&quot;,
            &quot;text&quot;: &quot;The name of the component responsible for an [[alert tiddler|AlertMechanism]]&quot;
        },
        &quot;$:/language/Docs/Fields/current-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/current-tiddler&quot;,
            &quot;text&quot;: &quot;Used to cache the top tiddler in a [[history list|HistoryMechanism]]&quot;
        },
        &quot;$:/language/Docs/Fields/created&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/created&quot;,
            &quot;text&quot;: &quot;The date a tiddler was created&quot;
        },
        &quot;$:/language/Docs/Fields/creator&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/creator&quot;,
            &quot;text&quot;: &quot;The name of the person who created a tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/dependents&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/dependents&quot;,
            &quot;text&quot;: &quot;For a plugin, lists the dependent plugin titles&quot;
        },
        &quot;$:/language/Docs/Fields/description&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/description&quot;,
            &quot;text&quot;: &quot;The descriptive text for a plugin, or a modal dialogue&quot;
        },
        &quot;$:/language/Docs/Fields/draft.of&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/draft.of&quot;,
            &quot;text&quot;: &quot;For draft tiddlers, contains the title of the tiddler of which this is a draft&quot;
        },
        &quot;$:/language/Docs/Fields/draft.title&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/draft.title&quot;,
            &quot;text&quot;: &quot;For draft tiddlers, contains the proposed new title of the tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/footer&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/footer&quot;,
            &quot;text&quot;: &quot;The footer text for a wizard&quot;
        },
        &quot;$:/language/Docs/Fields/hack-to-give-us-something-to-compare-against&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/hack-to-give-us-something-to-compare-against&quot;,
            &quot;text&quot;: &quot;A temporary storage field used in [[$:/core/templates/static.content]]&quot;
        },
        &quot;$:/language/Docs/Fields/icon&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/icon&quot;,
            &quot;text&quot;: &quot;The title of the tiddler containing the icon associated with a tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/library&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/library&quot;,
            &quot;text&quot;: &quot;If set to \&quot;yes\&quot; indicates that a tiddler should be saved as a JavaScript library&quot;
        },
        &quot;$:/language/Docs/Fields/list&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/list&quot;,
            &quot;text&quot;: &quot;An ordered list of tiddler titles associated with a tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/list-before&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/list-before&quot;,
            &quot;text&quot;: &quot;If set, the title of a tiddler before which this tiddler should be added to the ordered list of tiddler titles, or at the start of the list if this field is present but empty&quot;
        },
        &quot;$:/language/Docs/Fields/list-after&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/list-after&quot;,
            &quot;text&quot;: &quot;If set, the title of the tiddler after which this tiddler should be added to the ordered list of tiddler titles&quot;
        },
        &quot;$:/language/Docs/Fields/modified&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/modified&quot;,
            &quot;text&quot;: &quot;The date and time at which a tiddler was last modified&quot;
        },
        &quot;$:/language/Docs/Fields/modifier&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/modifier&quot;,
            &quot;text&quot;: &quot;The tiddler title associated with the person who last modified a tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/name&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/name&quot;,
            &quot;text&quot;: &quot;The human readable name associated with a plugin tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/plugin-priority&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/plugin-priority&quot;,
            &quot;text&quot;: &quot;A numerical value indicating the priority of a plugin tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/plugin-type&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/plugin-type&quot;,
            &quot;text&quot;: &quot;The type of plugin in a plugin tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/revision&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/revision&quot;,
            &quot;text&quot;: &quot;The revision of the tiddler held at the server&quot;
        },
        &quot;$:/language/Docs/Fields/released&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/released&quot;,
            &quot;text&quot;: &quot;Date of a TiddlyWiki release&quot;
        },
        &quot;$:/language/Docs/Fields/source&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/source&quot;,
            &quot;text&quot;: &quot;The source URL associated with a tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/subtitle&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/subtitle&quot;,
            &quot;text&quot;: &quot;The subtitle text for a wizard&quot;
        },
        &quot;$:/language/Docs/Fields/tags&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/tags&quot;,
            &quot;text&quot;: &quot;A list of tags associated with a tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/text&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/text&quot;,
            &quot;text&quot;: &quot;The body text of a tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/title&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/title&quot;,
            &quot;text&quot;: &quot;The unique name of a tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/type&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/type&quot;,
            &quot;text&quot;: &quot;The content type of a tiddler&quot;
        },
        &quot;$:/language/Docs/Fields/version&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Fields/version&quot;,
            &quot;text&quot;: &quot;Version information for a plugin&quot;
        },
        &quot;$:/language/Filters/AllTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/AllTiddlers&quot;,
            &quot;text&quot;: &quot;All tiddlers except system tiddlers&quot;
        },
        &quot;$:/language/Filters/RecentSystemTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/RecentSystemTiddlers&quot;,
            &quot;text&quot;: &quot;Recently modified tiddlers, including system tiddlers&quot;
        },
        &quot;$:/language/Filters/RecentTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/RecentTiddlers&quot;,
            &quot;text&quot;: &quot;Recently modified tiddlers&quot;
        },
        &quot;$:/language/Filters/AllTags&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/AllTags&quot;,
            &quot;text&quot;: &quot;All tags except system tags&quot;
        },
        &quot;$:/language/Filters/Missing&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/Missing&quot;,
            &quot;text&quot;: &quot;Missing tiddlers&quot;
        },
        &quot;$:/language/Filters/Drafts&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/Drafts&quot;,
            &quot;text&quot;: &quot;Draft tiddlers&quot;
        },
        &quot;$:/language/Filters/Orphans&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/Orphans&quot;,
            &quot;text&quot;: &quot;Orphan tiddlers&quot;
        },
        &quot;$:/language/Filters/SystemTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/SystemTiddlers&quot;,
            &quot;text&quot;: &quot;System tiddlers&quot;
        },
        &quot;$:/language/Filters/ShadowTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/ShadowTiddlers&quot;,
            &quot;text&quot;: &quot;Shadow tiddlers&quot;
        },
        &quot;$:/language/Filters/OverriddenShadowTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/OverriddenShadowTiddlers&quot;,
            &quot;text&quot;: &quot;Overridden shadow tiddlers&quot;
        },
        &quot;$:/language/Filters/SystemTags&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/SystemTags&quot;,
            &quot;text&quot;: &quot;System tags&quot;
        },
        &quot;$:/language/Filters/TypedTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/language/Filters/TypedTiddlers&quot;,
            &quot;text&quot;: &quot;Non wiki-text tiddlers&quot;
        },
        &quot;GettingStarted&quot;: {
            &quot;title&quot;: &quot;GettingStarted&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Basics/\nWelcome to ~TiddlyWiki and the ~TiddlyWiki community\n\nBefore you start storing important information in ~TiddlyWiki it is important to make sure that you can reliably save changes. See http://tiddlywiki.com/#GettingStarted for details\n\n!! Set up this ~TiddlyWiki\n\n&lt;div class=\&quot;tc-control-panel\&quot;&gt;\n\n|&lt;$link to=\&quot;$:/SiteTitle\&quot;&gt;&lt;&lt;lingo Title/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\&quot;$:/SiteTitle\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;$link to=\&quot;$:/SiteSubtitle\&quot;&gt;&lt;&lt;lingo Subtitle/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\&quot;$:/SiteSubtitle\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;$link to=\&quot;$:/DefaultTiddlers\&quot;&gt;&lt;&lt;lingo DefaultTiddlers/Prompt&gt;&gt;&lt;/$link&gt; |&lt;&lt;lingo DefaultTiddlers/TopHint&gt;&gt;&lt;br&gt; &lt;$edit-text tag=\&quot;textarea\&quot; tiddler=\&quot;$:/DefaultTiddlers\&quot;/&gt;&lt;br&gt;//&lt;&lt;lingo DefaultTiddlers/BottomHint&gt;&gt;// |\n&lt;/div&gt;\n\nSee the [[control panel|$:/ControlPanel]] for more options.\n&quot;
        },
        &quot;$:/language/Help/build&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/build&quot;,
            &quot;description&quot;: &quot;Automatically run configured commands&quot;,
            &quot;text&quot;: &quot;Build the specified build targets for the current wiki. If no build targets are specified then all available targets will be built.\n\n```\n--build &lt;target&gt; [&lt;target&gt; ...]\n```\n\nBuild targets are defined in the `tiddlywiki.info` file of a wiki folder.\n\n&quot;
        },
        &quot;$:/language/Help/clearpassword&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/clearpassword&quot;,
            &quot;description&quot;: &quot;Clear a password for subsequent crypto operations&quot;,
            &quot;text&quot;: &quot;Clear the password for subsequent crypto operations\n\n```\n--clearpassword\n```\n&quot;
        },
        &quot;$:/language/Help/default&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/default&quot;,
            &quot;text&quot;: &quot;\\define commandTitle()\n$:/language/Help/$(command)$\n\\end\n```\nusage: tiddlywiki [&lt;wikifolder&gt;] [--&lt;command&gt; [&lt;args&gt;...]...]\n```\n\nAvailable commands:\n\n&lt;ul&gt;\n&lt;$list filter=\&quot;[commands[]sort[title]]\&quot; variable=\&quot;command\&quot;&gt;\n&lt;li&gt;&lt;$link to=&lt;&lt;commandTitle&gt;&gt;&gt;&lt;$macrocall $name=\&quot;command\&quot; $type=\&quot;text/plain\&quot; $output=\&quot;text/plain\&quot;/&gt;&lt;/$link&gt;: &lt;$transclude tiddler=&lt;&lt;commandTitle&gt;&gt; field=\&quot;description\&quot;/&gt;&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n\nTo get detailed help on a command:\n\n```\ntiddlywiki --help &lt;command&gt;\n```\n&quot;
        },
        &quot;$:/language/Help/editions&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/editions&quot;,
            &quot;description&quot;: &quot;Lists the available editions of TiddlyWiki&quot;,
            &quot;text&quot;: &quot;Lists the names and descriptions of the available editions. You can create a new wiki of a specified edition with the `--init` command.\n\n```\n--editions\n```\n&quot;
        },
        &quot;$:/language/Help/help&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/help&quot;,
            &quot;description&quot;: &quot;Display help for TiddlyWiki commands&quot;,
            &quot;text&quot;: &quot;Displays help text for a command:\n\n```\n--help [&lt;command&gt;]\n```\n\nIf the command name is omitted then a list of available commands is displayed.\n&quot;
        },
        &quot;$:/language/Help/init&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/init&quot;,
            &quot;description&quot;: &quot;Initialise a new wiki folder&quot;,
            &quot;text&quot;: &quot;Initialise an empty [[WikiFolder|WikiFolders]] with a copy of the specified edition.\n\n```\n--init &lt;edition&gt; [&lt;edition&gt; ...]\n```\n\nFor example:\n\n```\ntiddlywiki ./MyWikiFolder --init empty\n```\n\nNote:\n\n* The wiki folder directory will be created if necessary\n* The \&quot;edition\&quot; defaults to ''empty''\n* The init command will fail if the wiki folder is not empty\n* The init command removes any `includeWikis` definitions in the edition's `tiddlywiki.info` file\n* When multiple editions are specified, editions initialised later will overwrite any files shared with earlier editions (so, the final `tiddlywiki.info` file will be copied from the last edition)\n* `--editions` returns a list of available editions\n&quot;
        },
        &quot;$:/language/Help/load&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/load&quot;,
            &quot;description&quot;: &quot;Load tiddlers from a file&quot;,
            &quot;text&quot;: &quot;Load tiddlers from 2.x.x TiddlyWiki files (`.html`), `.tiddler`, `.tid`, `.json` or other files\n\n```\n--load &lt;filepath&gt;\n```\n\nTo load tiddlers from an encrypted TiddlyWiki file you should first specify the password with the PasswordCommand. For example:\n\n```\ntiddlywiki ./MyWiki --password pa55w0rd --load my_encrypted_wiki.html\n```\n\nNote that TiddlyWiki will not load an older version of an already loaded plugin.\n&quot;
        },
        &quot;$:/language/Help/makelibrary&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/makelibrary&quot;,
            &quot;description&quot;: &quot;Construct library plugin required by upgrade process&quot;,
            &quot;text&quot;: &quot;Constructs the `$:/UpgradeLibrary` tiddler for the upgrade process.\n\nThe upgrade library is formatted as an ordinary plugin tiddler with the plugin type `library`. It contains a copy of each of the plugins, themes and language packs available within the TiddlyWiki5 repository.\n\nThis command is intended for internal use; it is only relevant to users constructing a custom upgrade procedure.\n\n```\n--makelibrary &lt;title&gt;\n```\n\nThe title argument defaults to `$:/UpgradeLibrary`.\n&quot;
        },
        &quot;$:/language/Help/notfound&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/notfound&quot;,
            &quot;text&quot;: &quot;No such help item&quot;
        },
        &quot;$:/language/Help/output&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/output&quot;,
            &quot;description&quot;: &quot;Set the base output directory for subsequent commands&quot;,
            &quot;text&quot;: &quot;Sets the base output directory for subsequent commands. The default output directory is the `output` subdirectory of the edition directory.\n\n```\n--output &lt;pathname&gt;\n```\n\nIf the specified pathname is relative then it is resolved relative to the current working directory. For example `--output .` sets the output directory to the current working directory.\n\n&quot;
        },
        &quot;$:/language/Help/password&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/password&quot;,
            &quot;description&quot;: &quot;Set a password for subsequent crypto operations&quot;,
            &quot;text&quot;: &quot;Set a password for subsequent crypto operations\n\n```\n--password &lt;password&gt;\n```\n\n''Note'': This should not be used for serving TiddlyWiki with password protection. Instead, see the password option under the [[ServerCommand]].\n&quot;
        },
        &quot;$:/language/Help/rendertiddler&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/rendertiddler&quot;,
            &quot;description&quot;: &quot;Render an individual tiddler as a specified ContentType&quot;,
            &quot;text&quot;: &quot;Render an individual tiddler as a specified ContentType, defaulting to `text/html` and save it to the specified filename. Optionally a template can be specified, in which case the template tiddler is rendered with the \&quot;currentTiddler\&quot; variable set to the tiddler that is being rendered (the first parameter value).\n\n```\n--rendertiddler &lt;title&gt; &lt;filename&gt; [&lt;type&gt;] [&lt;template&gt;]\n```\n\nBy default, the filename is resolved relative to the `output` subdirectory of the edition directory. The `--output` command can be used to direct output to a different directory.\n\nAny missing directories in the path to the filename are automatically created.\n&quot;
        },
        &quot;$:/language/Help/rendertiddlers&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/rendertiddlers&quot;,
            &quot;description&quot;: &quot;Render tiddlers matching a filter to a specified ContentType&quot;,
            &quot;text&quot;: &quot;Render a set of tiddlers matching a filter to separate files of a specified ContentType (defaults to `text/html`) and extension (defaults to `.html`).\n\n```\n--rendertiddlers &lt;filter&gt; &lt;template&gt; &lt;pathname&gt; [&lt;type&gt;] [&lt;extension&gt;] [\&quot;noclean\&quot;]\n```\n\nFor example:\n\n```\n--rendertiddlers [!is[system]] $:/core/templates/static.tiddler.html ./static text/plain\n```\n\nBy default, the pathname is resolved relative to the `output` subdirectory of the edition directory. The `--output` command can be used to direct output to a different directory.\n\nAny files in the target directory are deleted unless the ''noclean'' flag is specified. The target directory is recursively created if it is missing.\n&quot;
        },
        &quot;$:/language/Help/savetiddler&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/savetiddler&quot;,
            &quot;description&quot;: &quot;Saves a raw tiddler to a file&quot;,
            &quot;text&quot;: &quot;Saves an individual tiddler in its raw text or binary format to the specified filename.\n\n```\n--savetiddler &lt;title&gt; &lt;filename&gt;\n```\n\nBy default, the filename is resolved relative to the `output` subdirectory of the edition directory. The `--output` command can be used to direct output to a different directory.\n\nAny missing directories in the path to the filename are automatically created.\n&quot;
        },
        &quot;$:/language/Help/savetiddlers&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/savetiddlers&quot;,
            &quot;description&quot;: &quot;Saves a group of raw tiddlers to a directory&quot;,
            &quot;text&quot;: &quot;Saves a group of tiddlers in their raw text or binary format to the specified directory.\n\n```\n--savetiddlers &lt;filter&gt; &lt;pathname&gt; [\&quot;noclean\&quot;]\n```\n\nBy default, the pathname is resolved relative to the `output` subdirectory of the edition directory. The `--output` command can be used to direct output to a different directory.\n\nThe output directory is cleared of existing files before saving the specified files. The deletion can be disabled by specifying the ''noclean'' flag.\n\nAny missing directories in the pathname are automatically created.\n&quot;
        },
        &quot;$:/language/Help/server&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/server&quot;,
            &quot;description&quot;: &quot;Provides an HTTP server interface to TiddlyWiki&quot;,
            &quot;text&quot;: &quot;The server built in to TiddlyWiki5 is very simple. Although compatible with TiddlyWeb it doesn't support many of the features needed for robust Internet-facing usage.\n\nAt the root, it serves a rendering of a specified tiddler. Away from the root, it serves individual tiddlers encoded in JSON, and supports the basic HTTP operations for `GET`, `PUT` and `DELETE`.\n\n```\n--server &lt;port&gt; &lt;roottiddler&gt; &lt;rendertype&gt; &lt;servetype&gt; &lt;username&gt; &lt;password&gt; &lt;host&gt; &lt;pathprefix&gt;\n```\n\nThe parameters are:\n\n* ''port'' - port number to serve from (defaults to \&quot;8080\&quot;)\n* ''roottiddler'' - the tiddler to serve at the root (defaults to \&quot;$:/core/save/all\&quot;)\n* ''rendertype'' - the content type to which the root tiddler should be rendered (defaults to \&quot;text/plain\&quot;)\n* ''servetype'' - the content type with which the root tiddler should be served (defaults to \&quot;text/html\&quot;)\n* ''username'' - the default username for signing edits\n* ''password'' - optional password for basic authentication\n* ''host'' - optional hostname to serve from (defaults to \&quot;127.0.0.1\&quot; aka \&quot;localhost\&quot;)\n* ''pathprefix'' - optional prefix for paths\n\nIf the password parameter is specified then the browser will prompt the user for the username and password. Note that the password is transmitted in plain text so this implementation isn't suitable for general use.\n\nFor example:\n\n```\n--server 8080 $:/core/save/all text/plain text/html MyUserName passw0rd\n```\n\nThe username and password can be specified as empty strings if you need to set the hostname or pathprefix and don't want to require a password:\n\n```\n--server 8080 $:/core/save/all text/plain text/html \&quot;\&quot; \&quot;\&quot; 192.168.0.245\n```\n\nTo run multiple TiddlyWiki servers at the same time you'll need to put each one on a different port.\n&quot;
        },
        &quot;$:/language/Help/setfield&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/setfield&quot;,
            &quot;description&quot;: &quot;Prepares external tiddlers for use&quot;,
            &quot;text&quot;: &quot;//Note that this command is experimental and may change or be replaced before being finalised//\n\nSets the specified field of a group of tiddlers to the result of wikifying a template tiddler with the `currentTiddler` variable set to the tiddler.\n\n```\n--setfield &lt;filter&gt; &lt;fieldname&gt; &lt;templatetitle&gt; &lt;rendertype&gt;\n```\n\nThe parameters are:\n\n* ''filter'' - filter identifying the tiddlers to be affected\n* ''fieldname'' - the field to modify (defaults to \&quot;text\&quot;)\n* ''templatetitle'' - the tiddler to wikify into the specified field. If blank or missing then the specified field is deleted\n* ''rendertype'' - the text type to render (defaults to \&quot;text/plain\&quot;; \&quot;text/html\&quot; can be used to include HTML tags)\n&quot;
        },
        &quot;$:/language/Help/unpackplugin&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/unpackplugin&quot;,
            &quot;description&quot;: &quot;Unpack the payload tiddlers from a plugin&quot;,
            &quot;text&quot;: &quot;Extract the payload tiddlers from a plugin, creating them as ordinary tiddlers:\n\n```\n--unpackplugin &lt;title&gt;\n```\n&quot;
        },
        &quot;$:/language/Help/verbose&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/verbose&quot;,
            &quot;description&quot;: &quot;Triggers verbose output mode&quot;,
            &quot;text&quot;: &quot;Triggers verbose output, useful for debugging\n\n```\n--verbose\n```\n&quot;
        },
        &quot;$:/language/Help/version&quot;: {
            &quot;title&quot;: &quot;$:/language/Help/version&quot;,
            &quot;description&quot;: &quot;Displays the version number of TiddlyWiki&quot;,
            &quot;text&quot;: &quot;Displays the version number of TiddlyWiki.\n\n```\n--version\n```\n&quot;
        },
        &quot;$:/language/Import/Imported&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Imported&quot;,
            &quot;text&quot;: &quot;The following tiddlers were imported:&quot;
        },
        &quot;$:/language/Import/Listing/Cancel/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Listing/Cancel/Caption&quot;,
            &quot;text&quot;: &quot;Cancel&quot;
        },
        &quot;$:/language/Import/Listing/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Listing/Hint&quot;,
            &quot;text&quot;: &quot;These tiddlers are ready to import:&quot;
        },
        &quot;$:/language/Import/Listing/Import/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Listing/Import/Caption&quot;,
            &quot;text&quot;: &quot;Import&quot;
        },
        &quot;$:/language/Import/Listing/Select/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Listing/Select/Caption&quot;,
            &quot;text&quot;: &quot;Select&quot;
        },
        &quot;$:/language/Import/Listing/Status/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Listing/Status/Caption&quot;,
            &quot;text&quot;: &quot;Status&quot;
        },
        &quot;$:/language/Import/Listing/Title/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Listing/Title/Caption&quot;,
            &quot;text&quot;: &quot;Title&quot;
        },
        &quot;$:/language/Import/Upgrader/Plugins/Suppressed/Incompatible&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Upgrader/Plugins/Suppressed/Incompatible&quot;,
            &quot;text&quot;: &quot;Blocked incompatible or obsolete plugin&quot;
        },
        &quot;$:/language/Import/Upgrader/Plugins/Suppressed/Version&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Upgrader/Plugins/Suppressed/Version&quot;,
            &quot;text&quot;: &quot;Blocked plugin (due to incoming &lt;&lt;incoming&gt;&gt; being older than existing &lt;&lt;existing&gt;&gt;)&quot;
        },
        &quot;$:/language/Import/Upgrader/Plugins/Upgraded&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Upgrader/Plugins/Upgraded&quot;,
            &quot;text&quot;: &quot;Upgraded plugin from &lt;&lt;incoming&gt;&gt; to &lt;&lt;upgraded&gt;&gt;&quot;
        },
        &quot;$:/language/Import/Upgrader/State/Suppressed&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Upgrader/State/Suppressed&quot;,
            &quot;text&quot;: &quot;Blocked temporary state tiddler&quot;
        },
        &quot;$:/language/Import/Upgrader/System/Suppressed&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Upgrader/System/Suppressed&quot;,
            &quot;text&quot;: &quot;Blocked system tiddler&quot;
        },
        &quot;$:/language/Import/Upgrader/ThemeTweaks/Created&quot;: {
            &quot;title&quot;: &quot;$:/language/Import/Upgrader/ThemeTweaks/Created&quot;,
            &quot;text&quot;: &quot;Migrated theme tweak from &lt;$text text=&lt;&lt;from&gt;&gt;/&gt;&quot;
        },
        &quot;$:/language/AboveStory/ClassicPlugin/Warning&quot;: {
            &quot;title&quot;: &quot;$:/language/AboveStory/ClassicPlugin/Warning&quot;,
            &quot;text&quot;: &quot;It looks like you are trying to load a plugin designed for ~TiddlyWiki Classic. Please note that [[these plugins do not work with TiddlyWiki version 5.x.x|http://tiddlywiki.com/#TiddlyWikiClassic]]. ~TiddlyWiki Classic plugins detected:&quot;
        },
        &quot;$:/language/BinaryWarning/Prompt&quot;: {
            &quot;title&quot;: &quot;$:/language/BinaryWarning/Prompt&quot;,
            &quot;text&quot;: &quot;This tiddler contains binary data&quot;
        },
        &quot;$:/language/ClassicWarning/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/ClassicWarning/Hint&quot;,
            &quot;text&quot;: &quot;This tiddler is written in TiddlyWiki Classic wiki text format, which is not fully compatible with TiddlyWiki version 5. See http://tiddlywiki.com/static/Upgrading.html for more details.&quot;
        },
        &quot;$:/language/ClassicWarning/Upgrade/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/ClassicWarning/Upgrade/Caption&quot;,
            &quot;text&quot;: &quot;upgrade&quot;
        },
        &quot;$:/language/CloseAll/Button&quot;: {
            &quot;title&quot;: &quot;$:/language/CloseAll/Button&quot;,
            &quot;text&quot;: &quot;close all&quot;
        },
        &quot;$:/language/ConfirmCancelTiddler&quot;: {
            &quot;title&quot;: &quot;$:/language/ConfirmCancelTiddler&quot;,
            &quot;text&quot;: &quot;Do you wish to discard changes to the tiddler \&quot;&lt;$text text=&lt;&lt;title&gt;&gt;/&gt;\&quot;?&quot;
        },
        &quot;$:/language/ConfirmDeleteTiddler&quot;: {
            &quot;title&quot;: &quot;$:/language/ConfirmDeleteTiddler&quot;,
            &quot;text&quot;: &quot;Do you wish to delete the tiddler \&quot;&lt;$text text=&lt;&lt;title&gt;&gt;/&gt;\&quot;?&quot;
        },
        &quot;$:/language/ConfirmOverwriteTiddler&quot;: {
            &quot;title&quot;: &quot;$:/language/ConfirmOverwriteTiddler&quot;,
            &quot;text&quot;: &quot;Do you wish to overwrite the tiddler \&quot;&lt;$text text=&lt;&lt;title&gt;&gt;/&gt;\&quot;?&quot;
        },
        &quot;$:/language/ConfirmEditShadowTiddler&quot;: {
            &quot;title&quot;: &quot;$:/language/ConfirmEditShadowTiddler&quot;,
            &quot;text&quot;: &quot;You are about to edit a ShadowTiddler. Any changes will override the default system making future upgrades non-trivial. Are you sure you want to edit \&quot;&lt;$text text=&lt;&lt;title&gt;&gt;/&gt;\&quot;?&quot;
        },
        &quot;$:/language/DefaultNewTiddlerTitle&quot;: {
            &quot;title&quot;: &quot;$:/language/DefaultNewTiddlerTitle&quot;,
            &quot;text&quot;: &quot;New Tiddler&quot;
        },
        &quot;$:/language/DropMessage&quot;: {
            &quot;title&quot;: &quot;$:/language/DropMessage&quot;,
            &quot;text&quot;: &quot;Drop here (or use the 'Escape' key to cancel)&quot;
        },
        &quot;$:/language/Encryption/Cancel&quot;: {
            &quot;title&quot;: &quot;$:/language/Encryption/Cancel&quot;,
            &quot;text&quot;: &quot;Cancel&quot;
        },
        &quot;$:/language/Encryption/ConfirmClearPassword&quot;: {
            &quot;title&quot;: &quot;$:/language/Encryption/ConfirmClearPassword&quot;,
            &quot;text&quot;: &quot;Do you wish to clear the password? This will remove the encryption applied when saving this wiki&quot;
        },
        &quot;$:/language/Encryption/PromptSetPassword&quot;: {
            &quot;title&quot;: &quot;$:/language/Encryption/PromptSetPassword&quot;,
            &quot;text&quot;: &quot;Set a new password for this TiddlyWiki&quot;
        },
        &quot;$:/language/Encryption/Username&quot;: {
            &quot;title&quot;: &quot;$:/language/Encryption/Username&quot;,
            &quot;text&quot;: &quot;Username&quot;
        },
        &quot;$:/language/Encryption/Password&quot;: {
            &quot;title&quot;: &quot;$:/language/Encryption/Password&quot;,
            &quot;text&quot;: &quot;Password&quot;
        },
        &quot;$:/language/Encryption/RepeatPassword&quot;: {
            &quot;title&quot;: &quot;$:/language/Encryption/RepeatPassword&quot;,
            &quot;text&quot;: &quot;Repeat password&quot;
        },
        &quot;$:/language/Encryption/PasswordNoMatch&quot;: {
            &quot;title&quot;: &quot;$:/language/Encryption/PasswordNoMatch&quot;,
            &quot;text&quot;: &quot;Passwords do not match&quot;
        },
        &quot;$:/language/Encryption/SetPassword&quot;: {
            &quot;title&quot;: &quot;$:/language/Encryption/SetPassword&quot;,
            &quot;text&quot;: &quot;Set password&quot;
        },
        &quot;$:/language/InternalJavaScriptError/Title&quot;: {
            &quot;title&quot;: &quot;$:/language/InternalJavaScriptError/Title&quot;,
            &quot;text&quot;: &quot;Internal JavaScript Error&quot;
        },
        &quot;$:/language/InternalJavaScriptError/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/InternalJavaScriptError/Hint&quot;,
            &quot;text&quot;: &quot;Well, this is embarrassing. It is recommended that you restart TiddlyWiki by refreshing your browser&quot;
        },
        &quot;$:/language/InvalidFieldName&quot;: {
            &quot;title&quot;: &quot;$:/language/InvalidFieldName&quot;,
            &quot;text&quot;: &quot;Illegal characters in field name \&quot;&lt;$text text=&lt;&lt;fieldName&gt;&gt;/&gt;\&quot;. Fields can only contain lowercase letters, digits and the characters underscore (`_`), hyphen (`-`) and period (`.`)&quot;
        },
        &quot;$:/language/LazyLoadingWarning&quot;: {
            &quot;title&quot;: &quot;$:/language/LazyLoadingWarning&quot;,
            &quot;text&quot;: &quot;&lt;p&gt;Loading external text from ''&lt;$text text={{!!_canonical_uri}}/&gt;''&lt;/p&gt;&lt;p&gt;If this message doesn't disappear you may be using a browser that doesn't support external text in this configuration. See http://tiddlywiki.com/#ExternalText&lt;/p&gt;&quot;
        },
        &quot;$:/language/MissingTiddler/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/MissingTiddler/Hint&quot;,
            &quot;text&quot;: &quot;Missing tiddler \&quot;&lt;$text text=&lt;&lt;currentTiddler&gt;&gt;/&gt;\&quot; - click {{$:/core/images/edit-button}} to create&quot;
        },
        &quot;$:/language/OfficialPluginLibrary&quot;: {
            &quot;title&quot;: &quot;$:/language/OfficialPluginLibrary&quot;,
            &quot;text&quot;: &quot;Official ~TiddlyWiki Plugin Library&quot;
        },
        &quot;$:/language/OfficialPluginLibrary/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/OfficialPluginLibrary/Hint&quot;,
            &quot;text&quot;: &quot;The official ~TiddlyWiki plugin library at tiddlywiki.com. Plugins, themes and language packs are maintained by the core team.&quot;
        },
        &quot;$:/language/PluginReloadWarning&quot;: {
            &quot;title&quot;: &quot;$:/language/PluginReloadWarning&quot;,
            &quot;text&quot;: &quot;Please save {{$:/core/ui/Buttons/save-wiki}} and reload {{$:/core/ui/Buttons/refresh}} to allow changes to plugins to take effect&quot;
        },
        &quot;$:/language/RecentChanges/DateFormat&quot;: {
            &quot;title&quot;: &quot;$:/language/RecentChanges/DateFormat&quot;,
            &quot;text&quot;: &quot;DDth MMM YYYY&quot;
        },
        &quot;$:/language/SystemTiddler/Tooltip&quot;: {
            &quot;title&quot;: &quot;$:/language/SystemTiddler/Tooltip&quot;,
            &quot;text&quot;: &quot;This is a system tiddler&quot;
        },
        &quot;$:/language/TagManager/Colour/Heading&quot;: {
            &quot;title&quot;: &quot;$:/language/TagManager/Colour/Heading&quot;,
            &quot;text&quot;: &quot;Colour&quot;
        },
        &quot;$:/language/TagManager/Count/Heading&quot;: {
            &quot;title&quot;: &quot;$:/language/TagManager/Count/Heading&quot;,
            &quot;text&quot;: &quot;Count&quot;
        },
        &quot;$:/language/TagManager/Icon/Heading&quot;: {
            &quot;title&quot;: &quot;$:/language/TagManager/Icon/Heading&quot;,
            &quot;text&quot;: &quot;Icon&quot;
        },
        &quot;$:/language/TagManager/Info/Heading&quot;: {
            &quot;title&quot;: &quot;$:/language/TagManager/Info/Heading&quot;,
            &quot;text&quot;: &quot;Info&quot;
        },
        &quot;$:/language/TagManager/Tag/Heading&quot;: {
            &quot;title&quot;: &quot;$:/language/TagManager/Tag/Heading&quot;,
            &quot;text&quot;: &quot;Tag&quot;
        },
        &quot;$:/language/Tiddler/DateFormat&quot;: {
            &quot;title&quot;: &quot;$:/language/Tiddler/DateFormat&quot;,
            &quot;text&quot;: &quot;DDth MMM YYYY at hh12:0mmam&quot;
        },
        &quot;$:/language/UnsavedChangesWarning&quot;: {
            &quot;title&quot;: &quot;$:/language/UnsavedChangesWarning&quot;,
            &quot;text&quot;: &quot;You have unsaved changes in TiddlyWiki&quot;
        },
        &quot;$:/language/Modals/Download&quot;: {
            &quot;title&quot;: &quot;$:/language/Modals/Download&quot;,
            &quot;type&quot;: &quot;text/vnd.tiddlywiki&quot;,
            &quot;subtitle&quot;: &quot;Download changes&quot;,
            &quot;footer&quot;: &quot;&lt;$button message=\&quot;tm-close-tiddler\&quot;&gt;Close&lt;/$button&gt;&quot;,
            &quot;help&quot;: &quot;http://tiddlywiki.com/static/DownloadingChanges.html&quot;,
            &quot;text&quot;: &quot;Your browser only supports manual saving.\n\nTo save your modified wiki, right click on the download link below and select \&quot;Download file\&quot; or \&quot;Save file\&quot;, and then choose the folder and filename.\n\n//You can marginally speed things up by clicking the link with the control key (Windows) or the options/alt key (Mac OS X). You will not be prompted for the folder or filename, but your browser is likely to give it an unrecognisable name -- you may need to rename the file to include an `.html` extension before you can do anything useful with it.//\n\nOn smartphones that do not allow files to be downloaded you can instead bookmark the link, and then sync your bookmarks to a desktop computer from where the wiki can be saved normally.\n&quot;
        },
        &quot;$:/language/Modals/SaveInstructions&quot;: {
            &quot;title&quot;: &quot;$:/language/Modals/SaveInstructions&quot;,
            &quot;type&quot;: &quot;text/vnd.tiddlywiki&quot;,
            &quot;subtitle&quot;: &quot;Save your work&quot;,
            &quot;footer&quot;: &quot;&lt;$button message=\&quot;tm-close-tiddler\&quot;&gt;Close&lt;/$button&gt;&quot;,
            &quot;help&quot;: &quot;http://tiddlywiki.com/static/SavingChanges.html&quot;,
            &quot;text&quot;: &quot;Your changes to this wiki need to be saved as a ~TiddlyWiki HTML file.\n\n!!! Desktop browsers\n\n# Select ''Save As'' from the ''File'' menu\n# Choose a filename and location\n#* Some browsers also require you to explicitly specify the file saving format as ''Webpage, HTML only'' or similar\n# Close this tab\n\n!!! Smartphone browsers\n\n# Create a bookmark to this page\n#* If you've got iCloud or Google Sync set up then the bookmark will automatically sync to your desktop where you can open it and save it as above\n# Close this tab\n\n//If you open the bookmark again in Mobile Safari you will see this message again. If you want to go ahead and use the file, just click the ''close'' button below//\n&quot;
        },
        &quot;$:/config/NewJournal/Title&quot;: {
            &quot;title&quot;: &quot;$:/config/NewJournal/Title&quot;,
            &quot;text&quot;: &quot;DDth MMM YYYY&quot;
        },
        &quot;$:/config/NewJournal/Tags&quot;: {
            &quot;title&quot;: &quot;$:/config/NewJournal/Tags&quot;,
            &quot;text&quot;: &quot;Journal&quot;
        },
        &quot;$:/language/Notifications/Save/Done&quot;: {
            &quot;title&quot;: &quot;$:/language/Notifications/Save/Done&quot;,
            &quot;text&quot;: &quot;Saved wiki&quot;
        },
        &quot;$:/language/Notifications/Save/Starting&quot;: {
            &quot;title&quot;: &quot;$:/language/Notifications/Save/Starting&quot;,
            &quot;text&quot;: &quot;Starting to save wiki&quot;
        },
        &quot;$:/language/Search/DefaultResults/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/DefaultResults/Caption&quot;,
            &quot;text&quot;: &quot;List&quot;
        },
        &quot;$:/language/Search/Filter/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Filter/Caption&quot;,
            &quot;text&quot;: &quot;Filter&quot;
        },
        &quot;$:/language/Search/Filter/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Filter/Hint&quot;,
            &quot;text&quot;: &quot;Search via a [[filter expression|http://tiddlywiki.com/static/Filters.html]]&quot;
        },
        &quot;$:/language/Search/Filter/Matches&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Filter/Matches&quot;,
            &quot;text&quot;: &quot;//&lt;small&gt;&lt;&lt;resultCount&gt;&gt; matches&lt;/small&gt;//&quot;
        },
        &quot;$:/language/Search/Matches&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Matches&quot;,
            &quot;text&quot;: &quot;//&lt;small&gt;&lt;&lt;resultCount&gt;&gt; matches&lt;/small&gt;//&quot;
        },
        &quot;$:/language/Search/Matches/All&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Matches/All&quot;,
            &quot;text&quot;: &quot;All matches:&quot;
        },
        &quot;$:/language/Search/Matches/Title&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Matches/Title&quot;,
            &quot;text&quot;: &quot;Title matches:&quot;
        },
        &quot;$:/language/Search/Search&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Search&quot;,
            &quot;text&quot;: &quot;Search&quot;
        },
        &quot;$:/language/Search/Shadows/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Shadows/Caption&quot;,
            &quot;text&quot;: &quot;Shadows&quot;
        },
        &quot;$:/language/Search/Shadows/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Shadows/Hint&quot;,
            &quot;text&quot;: &quot;Search for shadow tiddlers&quot;
        },
        &quot;$:/language/Search/Shadows/Matches&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Shadows/Matches&quot;,
            &quot;text&quot;: &quot;//&lt;small&gt;&lt;&lt;resultCount&gt;&gt; matches&lt;/small&gt;//&quot;
        },
        &quot;$:/language/Search/Standard/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Standard/Caption&quot;,
            &quot;text&quot;: &quot;Standard&quot;
        },
        &quot;$:/language/Search/Standard/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Standard/Hint&quot;,
            &quot;text&quot;: &quot;Search for standard tiddlers&quot;
        },
        &quot;$:/language/Search/Standard/Matches&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/Standard/Matches&quot;,
            &quot;text&quot;: &quot;//&lt;small&gt;&lt;&lt;resultCount&gt;&gt; matches&lt;/small&gt;//&quot;
        },
        &quot;$:/language/Search/System/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/System/Caption&quot;,
            &quot;text&quot;: &quot;System&quot;
        },
        &quot;$:/language/Search/System/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/System/Hint&quot;,
            &quot;text&quot;: &quot;Search for system tiddlers&quot;
        },
        &quot;$:/language/Search/System/Matches&quot;: {
            &quot;title&quot;: &quot;$:/language/Search/System/Matches&quot;,
            &quot;text&quot;: &quot;//&lt;small&gt;&lt;&lt;resultCount&gt;&gt; matches&lt;/small&gt;//&quot;
        },
        &quot;$:/language/SideBar/All/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/All/Caption&quot;,
            &quot;text&quot;: &quot;All&quot;
        },
        &quot;$:/language/SideBar/Contents/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/Contents/Caption&quot;,
            &quot;text&quot;: &quot;Contents&quot;
        },
        &quot;$:/language/SideBar/Drafts/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/Drafts/Caption&quot;,
            &quot;text&quot;: &quot;Drafts&quot;
        },
        &quot;$:/language/SideBar/Missing/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/Missing/Caption&quot;,
            &quot;text&quot;: &quot;Missing&quot;
        },
        &quot;$:/language/SideBar/More/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/More/Caption&quot;,
            &quot;text&quot;: &quot;More&quot;
        },
        &quot;$:/language/SideBar/Open/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/Open/Caption&quot;,
            &quot;text&quot;: &quot;Open&quot;
        },
        &quot;$:/language/SideBar/Orphans/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/Orphans/Caption&quot;,
            &quot;text&quot;: &quot;Orphans&quot;
        },
        &quot;$:/language/SideBar/Recent/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/Recent/Caption&quot;,
            &quot;text&quot;: &quot;Recent&quot;
        },
        &quot;$:/language/SideBar/Shadows/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/Shadows/Caption&quot;,
            &quot;text&quot;: &quot;Shadows&quot;
        },
        &quot;$:/language/SideBar/System/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/System/Caption&quot;,
            &quot;text&quot;: &quot;System&quot;
        },
        &quot;$:/language/SideBar/Tags/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/Tags/Caption&quot;,
            &quot;text&quot;: &quot;Tags&quot;
        },
        &quot;$:/language/SideBar/Tags/Untagged/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/Tags/Untagged/Caption&quot;,
            &quot;text&quot;: &quot;untagged&quot;
        },
        &quot;$:/language/SideBar/Tools/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/Tools/Caption&quot;,
            &quot;text&quot;: &quot;Tools&quot;
        },
        &quot;$:/language/SideBar/Types/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/SideBar/Types/Caption&quot;,
            &quot;text&quot;: &quot;Types&quot;
        },
        &quot;$:/SiteSubtitle&quot;: {
            &quot;title&quot;: &quot;$:/SiteSubtitle&quot;,
            &quot;text&quot;: &quot;a non-linear personal web notebook&quot;
        },
        &quot;$:/SiteTitle&quot;: {
            &quot;title&quot;: &quot;$:/SiteTitle&quot;,
            &quot;text&quot;: &quot;My ~TiddlyWiki&quot;
        },
        &quot;$:/language/TiddlerInfo/Advanced/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Advanced/Caption&quot;,
            &quot;text&quot;: &quot;Advanced&quot;
        },
        &quot;$:/language/TiddlerInfo/Advanced/PluginInfo/Empty/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Advanced/PluginInfo/Empty/Hint&quot;,
            &quot;text&quot;: &quot;none&quot;
        },
        &quot;$:/language/TiddlerInfo/Advanced/PluginInfo/Heading&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Advanced/PluginInfo/Heading&quot;,
            &quot;text&quot;: &quot;Plugin Details&quot;
        },
        &quot;$:/language/TiddlerInfo/Advanced/PluginInfo/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Advanced/PluginInfo/Hint&quot;,
            &quot;text&quot;: &quot;This plugin contains the following shadow tiddlers:&quot;
        },
        &quot;$:/language/TiddlerInfo/Advanced/ShadowInfo/Heading&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Advanced/ShadowInfo/Heading&quot;,
            &quot;text&quot;: &quot;Shadow Status&quot;
        },
        &quot;$:/language/TiddlerInfo/Advanced/ShadowInfo/NotShadow/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Advanced/ShadowInfo/NotShadow/Hint&quot;,
            &quot;text&quot;: &quot;The tiddler &lt;$link to=&lt;&lt;infoTiddler&gt;&gt;&gt;&lt;$text text=&lt;&lt;infoTiddler&gt;&gt;/&gt;&lt;/$link&gt; is not a shadow tiddler&quot;
        },
        &quot;$:/language/TiddlerInfo/Advanced/ShadowInfo/Shadow/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Advanced/ShadowInfo/Shadow/Hint&quot;,
            &quot;text&quot;: &quot;The tiddler &lt;$link to=&lt;&lt;infoTiddler&gt;&gt;&gt;&lt;$text text=&lt;&lt;infoTiddler&gt;&gt;/&gt;&lt;/$link&gt; is a shadow tiddler&quot;
        },
        &quot;$:/language/TiddlerInfo/Advanced/ShadowInfo/Shadow/Source&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Advanced/ShadowInfo/Shadow/Source&quot;,
            &quot;text&quot;: &quot;It is defined in the plugin &lt;$link to=&lt;&lt;pluginTiddler&gt;&gt;&gt;&lt;$text text=&lt;&lt;pluginTiddler&gt;&gt;/&gt;&lt;/$link&gt;&quot;
        },
        &quot;$:/language/TiddlerInfo/Advanced/ShadowInfo/OverriddenShadow/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Advanced/ShadowInfo/OverriddenShadow/Hint&quot;,
            &quot;text&quot;: &quot;It is overridden by an ordinary tiddler&quot;
        },
        &quot;$:/language/TiddlerInfo/Fields/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Fields/Caption&quot;,
            &quot;text&quot;: &quot;Fields&quot;
        },
        &quot;$:/language/TiddlerInfo/List/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/List/Caption&quot;,
            &quot;text&quot;: &quot;List&quot;
        },
        &quot;$:/language/TiddlerInfo/List/Empty&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/List/Empty&quot;,
            &quot;text&quot;: &quot;This tiddler does not have a list&quot;
        },
        &quot;$:/language/TiddlerInfo/Listed/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Listed/Caption&quot;,
            &quot;text&quot;: &quot;Listed&quot;
        },
        &quot;$:/language/TiddlerInfo/Listed/Empty&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Listed/Empty&quot;,
            &quot;text&quot;: &quot;This tiddler is not listed by any others&quot;
        },
        &quot;$:/language/TiddlerInfo/References/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/References/Caption&quot;,
            &quot;text&quot;: &quot;References&quot;
        },
        &quot;$:/language/TiddlerInfo/References/Empty&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/References/Empty&quot;,
            &quot;text&quot;: &quot;No tiddlers link to this one&quot;
        },
        &quot;$:/language/TiddlerInfo/Tagging/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Tagging/Caption&quot;,
            &quot;text&quot;: &quot;Tagging&quot;
        },
        &quot;$:/language/TiddlerInfo/Tagging/Empty&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Tagging/Empty&quot;,
            &quot;text&quot;: &quot;No tiddlers are tagged with this one&quot;
        },
        &quot;$:/language/TiddlerInfo/Tools/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/TiddlerInfo/Tools/Caption&quot;,
            &quot;text&quot;: &quot;Tools&quot;
        },
        &quot;$:/language/Docs/Types/application/javascript&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/application/javascript&quot;,
            &quot;description&quot;: &quot;JavaScript code&quot;,
            &quot;name&quot;: &quot;application/javascript&quot;,
            &quot;group&quot;: &quot;Developer&quot;
        },
        &quot;$:/language/Docs/Types/application/json&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/application/json&quot;,
            &quot;description&quot;: &quot;JSON data&quot;,
            &quot;name&quot;: &quot;application/json&quot;,
            &quot;group&quot;: &quot;Developer&quot;
        },
        &quot;$:/language/Docs/Types/application/x-tiddler-dictionary&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/application/x-tiddler-dictionary&quot;,
            &quot;description&quot;: &quot;Data dictionary&quot;,
            &quot;name&quot;: &quot;application/x-tiddler-dictionary&quot;,
            &quot;group&quot;: &quot;Developer&quot;
        },
        &quot;$:/language/Docs/Types/image/gif&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/image/gif&quot;,
            &quot;description&quot;: &quot;GIF image&quot;,
            &quot;name&quot;: &quot;image/gif&quot;,
            &quot;group&quot;: &quot;Image&quot;
        },
        &quot;$:/language/Docs/Types/image/jpeg&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/image/jpeg&quot;,
            &quot;description&quot;: &quot;JPEG image&quot;,
            &quot;name&quot;: &quot;image/jpeg&quot;,
            &quot;group&quot;: &quot;Image&quot;
        },
        &quot;$:/language/Docs/Types/image/png&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/image/png&quot;,
            &quot;description&quot;: &quot;PNG image&quot;,
            &quot;name&quot;: &quot;image/png&quot;,
            &quot;group&quot;: &quot;Image&quot;
        },
        &quot;$:/language/Docs/Types/image/svg+xml&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/image/svg+xml&quot;,
            &quot;description&quot;: &quot;Structured Vector Graphics image&quot;,
            &quot;name&quot;: &quot;image/svg+xml&quot;,
            &quot;group&quot;: &quot;Image&quot;
        },
        &quot;$:/language/Docs/Types/image/x-icon&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/image/x-icon&quot;,
            &quot;description&quot;: &quot;ICO format icon file&quot;,
            &quot;name&quot;: &quot;image/x-icon&quot;,
            &quot;group&quot;: &quot;Image&quot;
        },
        &quot;$:/language/Docs/Types/text/css&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/text/css&quot;,
            &quot;description&quot;: &quot;Static stylesheet&quot;,
            &quot;name&quot;: &quot;text/css&quot;,
            &quot;group&quot;: &quot;Developer&quot;
        },
        &quot;$:/language/Docs/Types/text/html&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/text/html&quot;,
            &quot;description&quot;: &quot;HTML markup&quot;,
            &quot;name&quot;: &quot;text/html&quot;,
            &quot;group&quot;: &quot;Text&quot;
        },
        &quot;$:/language/Docs/Types/text/plain&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/text/plain&quot;,
            &quot;description&quot;: &quot;Plain text&quot;,
            &quot;name&quot;: &quot;text/plain&quot;,
            &quot;group&quot;: &quot;Text&quot;
        },
        &quot;$:/language/Docs/Types/text/vnd.tiddlywiki&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/text/vnd.tiddlywiki&quot;,
            &quot;description&quot;: &quot;TiddlyWiki 5&quot;,
            &quot;name&quot;: &quot;text/vnd.tiddlywiki&quot;,
            &quot;group&quot;: &quot;Text&quot;
        },
        &quot;$:/language/Docs/Types/text/x-tiddlywiki&quot;: {
            &quot;title&quot;: &quot;$:/language/Docs/Types/text/x-tiddlywiki&quot;,
            &quot;description&quot;: &quot;TiddlyWiki Classic&quot;,
            &quot;name&quot;: &quot;text/x-tiddlywiki&quot;,
            &quot;group&quot;: &quot;Text&quot;
        },
        &quot;$:/languages/en-GB/icon&quot;: {
            &quot;title&quot;: &quot;$:/languages/en-GB/icon&quot;,
            &quot;type&quot;: &quot;image/svg+xml&quot;,
            &quot;text&quot;: &quot;&lt;svg xmlns=\&quot;http://www.w3.org/2000/svg\&quot; viewBox=\&quot;0 0 60 30\&quot; width=\&quot;1200\&quot; height=\&quot;600\&quot;&gt;\n&lt;clipPath id=\&quot;t\&quot;&gt;\n\t&lt;path d=\&quot;M30,15 h30 v15 z v15 h-30 z h-30 v-15 z v-15 h30 z\&quot;/&gt;\n&lt;/clipPath&gt;\n&lt;path d=\&quot;M0,0 v30 h60 v-30 z\&quot; fill=\&quot;#00247d\&quot;/&gt;\n&lt;path d=\&quot;M0,0 L60,30 M60,0 L0,30\&quot; stroke=\&quot;#fff\&quot; stroke-width=\&quot;6\&quot;/&gt;\n&lt;path d=\&quot;M0,0 L60,30 M60,0 L0,30\&quot; clip-path=\&quot;url(#t)\&quot; stroke=\&quot;#cf142b\&quot; stroke-width=\&quot;4\&quot;/&gt;\n&lt;path d=\&quot;M30,0 v30 M0,15 h60\&quot; stroke=\&quot;#fff\&quot; stroke-width=\&quot;10\&quot;/&gt;\n&lt;path d=\&quot;M30,0 v30 M0,15 h60\&quot; stroke=\&quot;#cf142b\&quot; stroke-width=\&quot;6\&quot;/&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/languages/en-GB&quot;: {
            &quot;title&quot;: &quot;$:/languages/en-GB&quot;,
            &quot;name&quot;: &quot;en-GB&quot;,
            &quot;description&quot;: &quot;English (British)&quot;,
            &quot;author&quot;: &quot;JeremyRuston&quot;,
            &quot;core-version&quot;: &quot;&gt;=5.0.0\&quot;&quot;,
            &quot;text&quot;: &quot;Stub pseudo-plugin for the default language&quot;
        },
        &quot;$:/core/modules/commander.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commander.js\ntype: application/javascript\nmodule-type: global\n\nThe $tw.Commander class is a command interpreter\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nParse a sequence of commands\n\tcommandTokens: an array of command string tokens\n\twiki: reference to the wiki store object\n\tstreams: {output:, error:}, each of which has a write(string) method\n\tcallback: a callback invoked as callback(err) where err is null if there was no error\n*/\nvar Commander = function(commandTokens,callback,wiki,streams) {\n\tvar path = require(\&quot;path\&quot;);\n\tthis.commandTokens = commandTokens;\n\tthis.nextToken = 0;\n\tthis.callback = callback;\n\tthis.wiki = wiki;\n\tthis.streams = streams;\n\tthis.outputPath = path.resolve($tw.boot.wikiPath,$tw.config.wikiOutputSubDir);\n};\n\n/*\nAdd a string of tokens to the command queue\n*/\nCommander.prototype.addCommandTokens = function(commandTokens) {\n\tvar params = commandTokens.slice(0);\n\tparams.unshift(0);\n\tparams.unshift(this.nextToken);\n\tArray.prototype.splice.apply(this.commandTokens,params);\n};\n\n/*\nExecute the sequence of commands and invoke a callback on completion\n*/\nCommander.prototype.execute = function() {\n\tthis.executeNextCommand();\n};\n\n/*\nExecute the next command in the sequence\n*/\nCommander.prototype.executeNextCommand = function() {\n\tvar self = this;\n\t// Invoke the callback if there are no more commands\n\tif(this.nextToken &gt;= this.commandTokens.length) {\n\t\tthis.callback(null);\n\t} else {\n\t\t// Get and check the command token\n\t\tvar commandName = this.commandTokens[this.nextToken++];\n\t\tif(commandName.substr(0,2) !== \&quot;--\&quot;) {\n\t\t\tthis.callback(\&quot;Missing command: \&quot; + commandName);\n\t\t} else {\n\t\t\tcommandName = commandName.substr(2); // Trim off the --\n\t\t\t// Accumulate the parameters to the command\n\t\t\tvar params = [];\n\t\t\twhile(this.nextToken &lt; this.commandTokens.length &amp;&amp; \n\t\t\t\tthis.commandTokens[this.nextToken].substr(0,2) !== \&quot;--\&quot;) {\n\t\t\t\tparams.push(this.commandTokens[this.nextToken++]);\n\t\t\t}\n\t\t\t// Get the command info\n\t\t\tvar command = $tw.commands[commandName],\n\t\t\t\tc,err;\n\t\t\tif(!command) {\n\t\t\t\tthis.callback(\&quot;Unknown command: \&quot; + commandName);\n\t\t\t} else {\n\t\t\t\tif(this.verbose) {\n\t\t\t\t\tthis.streams.output.write(\&quot;Executing command: \&quot; + commandName + \&quot; \&quot; + params.join(\&quot; \&quot;) + \&quot;\\n\&quot;);\n\t\t\t\t}\n\t\t\t\tif(command.info.synchronous) {\n\t\t\t\t\t// Synchronous command\n\t\t\t\t\tc = new command.Command(params,this);\n\t\t\t\t\terr = c.execute();\n\t\t\t\t\tif(err) {\n\t\t\t\t\t\tthis.callback(err);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.executeNextCommand();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Asynchronous command\n\t\t\t\t\tc = new command.Command(params,this,function(err) {\n\t\t\t\t\t\tif(err) {\n\t\t\t\t\t\t\tself.callback(err);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.executeNextCommand();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\terr = c.execute();\n\t\t\t\t\tif(err) {\n\t\t\t\t\t\tthis.callback(err);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\nCommander.initCommands = function(moduleType) {\n\tmoduleType = moduleType || \&quot;command\&quot;;\n\t$tw.commands = {};\n\t$tw.modules.forEachModuleOfType(moduleType,function(title,module) {\n\t\tvar c = $tw.commands[module.info.name] = {};\n\t\t// Add the methods defined by the module\n\t\tfor(var f in module) {\n\t\t\tif($tw.utils.hop(module,f)) {\n\t\t\t\tc[f] = module[f];\n\t\t\t}\n\t\t}\n\t});\n};\n\nexports.Commander = Commander;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commander.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;global&quot;
        },
        &quot;$:/core/modules/commands/build.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/build.js\ntype: application/javascript\nmodule-type: command\n\nCommand to build a build target\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;build\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\t// Get the build targets defined in the wiki\n\tvar buildTargets = $tw.boot.wikiInfo.build;\n\tif(!buildTargets) {\n\t\treturn \&quot;No build targets defined\&quot;;\n\t}\n\t// Loop through each of the specified targets\n\tvar targets;\n\tif(this.params.length &gt; 0) {\n\t\ttargets = this.params;\n\t} else {\n\t\ttargets = Object.keys(buildTargets);\n\t}\n\tfor(var targetIndex=0; targetIndex&lt;targets.length; targetIndex++) {\n\t\tvar target = targets[targetIndex],\n\t\t\tcommands = buildTargets[target];\n\t\tif(!commands) {\n\t\t\treturn \&quot;Build target '\&quot; + target + \&quot;' not found\&quot;;\n\t\t}\n\t\t// Add the commands to the queue\n\t\tthis.commander.addCommandTokens(commands);\n\t}\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/build.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/clearpassword.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/clearpassword.js\ntype: application/javascript\nmodule-type: command\n\nClear password for crypto operations\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;clearpassword\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\t$tw.crypto.setPassword(null);\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/clearpassword.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/editions.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/editions.js\ntype: application/javascript\nmodule-type: command\n\nCommand to list the available editions\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;editions\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\tvar self = this;\n\t// Output the list\n\tthis.commander.streams.output.write(\&quot;Available editions:\\n\\n\&quot;);\n\tvar editionInfo = $tw.utils.getEditionInfo();\n\t$tw.utils.each(editionInfo,function(info,name) {\n\t\tself.commander.streams.output.write(\&quot;    \&quot; + name + \&quot;: \&quot; + info.description + \&quot;\\n\&quot;);\n\t});\n\tthis.commander.streams.output.write(\&quot;\\n\&quot;);\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/editions.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/help.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/help.js\ntype: application/javascript\nmodule-type: command\n\nHelp command\n\n\\*/\n(function(){\n\n/*jshint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;help\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\tvar subhelp = this.params[0] || \&quot;default\&quot;,\n\t\thelpBase = \&quot;$:/language/Help/\&quot;,\n\t\ttext;\n\tif(!this.commander.wiki.getTiddler(helpBase + subhelp)) {\n\t\tsubhelp = \&quot;notfound\&quot;;\n\t}\n\t// Wikify the help as formatted text (ie block elements generate newlines)\n\ttext = this.commander.wiki.renderTiddler(\&quot;text/plain-formatted\&quot;,helpBase + subhelp);\n\t// Remove any leading linebreaks\n\ttext = text.replace(/^(\\r?\\n)*/g,\&quot;\&quot;);\n\tthis.commander.streams.output.write(text);\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/help.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/init.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/init.js\ntype: application/javascript\nmodule-type: command\n\nCommand to initialise an empty wiki folder\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;init\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\tvar fs = require(\&quot;fs\&quot;),\n\t\tpath = require(\&quot;path\&quot;);\n\t// Check that we don't already have a valid wiki folder\n\tif($tw.boot.wikiTiddlersPath || ($tw.utils.isDirectory($tw.boot.wikiPath) &amp;&amp; !$tw.utils.isDirectoryEmpty($tw.boot.wikiPath))) {\n\t\treturn \&quot;Wiki folder is not empty\&quot;;\n\t}\n\t// Loop through each of the specified editions\n\tvar editions = this.params.length &gt; 0 ? this.params : [\&quot;empty\&quot;];\n\tfor(var editionIndex=0; editionIndex&lt;editions.length; editionIndex++) {\n\t\tvar editionName = editions[editionIndex];\n\t\t// Check the edition exists\n\t\tvar editionPath = $tw.findLibraryItem(editionName,$tw.getLibraryItemSearchPaths($tw.config.editionsPath,$tw.config.editionsEnvVar));\n\t\tif(!$tw.utils.isDirectory(editionPath)) {\n\t\t\treturn \&quot;Edition '\&quot; + editionName + \&quot;' not found\&quot;;\n\t\t}\n\t\t// Copy the edition content\n\t\tvar err = $tw.utils.copyDirectory(editionPath,$tw.boot.wikiPath);\n\t\tif(!err) {\n\t\t\tthis.commander.streams.output.write(\&quot;Copied edition '\&quot; + editionName + \&quot;' to \&quot; + $tw.boot.wikiPath + \&quot;\\n\&quot;);\n\t\t} else {\n\t\t\treturn err;\n\t\t}\n\t}\n\t// Tweak the tiddlywiki.info to remove any included wikis\n\tvar packagePath = $tw.boot.wikiPath + \&quot;/tiddlywiki.info\&quot;,\n\t\tpackageJson = JSON.parse(fs.readFileSync(packagePath));\n\tdelete packageJson.includeWikis;\n\tfs.writeFileSync(packagePath,JSON.stringify(packageJson,null,$tw.config.preferences.jsonSpaces));\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/init.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/load.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/load.js\ntype: application/javascript\nmodule-type: command\n\nCommand to load tiddlers from a file\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;load\&quot;,\n\tsynchronous: false\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tvar self = this,\n\t\tfs = require(\&quot;fs\&quot;),\n\t\tpath = require(\&quot;path\&quot;);\n\tif(this.params.length &lt; 1) {\n\t\treturn \&quot;Missing filename\&quot;;\n\t}\n\tvar ext = path.extname(self.params[0]);\n\tfs.readFile(this.params[0],$tw.utils.getTypeEncoding(ext),function(err,data) {\n\t\tif (err) {\n\t\t\tself.callback(err);\n\t\t} else {\n\t\t\tvar fields = {title: self.params[0]},\n\t\t\t\ttype = path.extname(self.params[0]);\n\t\t\tvar tiddlers = self.commander.wiki.deserializeTiddlers(type,data,fields);\n\t\t\tif(!tiddlers) {\n\t\t\t\tself.callback(\&quot;No tiddlers found in file \\\&quot;\&quot; + self.params[0] + \&quot;\\\&quot;\&quot;);\n\t\t\t} else {\n\t\t\t\tfor(var t=0; t&lt;tiddlers.length; t++) {\n\t\t\t\t\tself.commander.wiki.importTiddler(new $tw.Tiddler(tiddlers[t]));\n\t\t\t\t}\n\t\t\t\tself.callback(null);\t\n\t\t\t}\n\t\t}\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/load.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/makelibrary.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/makelibrary.js\ntype: application/javascript\nmodule-type: command\n\nCommand to pack all of the plugins in the library into a plugin tiddler of type \&quot;library\&quot;\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;makelibrary\&quot;,\n\tsynchronous: true\n};\n\nvar UPGRADE_LIBRARY_TITLE = \&quot;$:/UpgradeLibrary\&quot;;\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tvar wiki = this.commander.wiki,\n\t\tfs = require(\&quot;fs\&quot;),\n\t\tpath = require(\&quot;path\&quot;),\n\t\tupgradeLibraryTitle = this.params[0] || UPGRADE_LIBRARY_TITLE,\n\t\ttiddlers = {};\n\t// Collect up the library plugins\n\tvar collectPlugins = function(folder) {\n\t\t\tvar pluginFolders = fs.readdirSync(folder);\n\t\t\tfor(var p=0; p&lt;pluginFolders.length; p++) {\n\t\t\t\tif(!$tw.boot.excludeRegExp.test(pluginFolders[p])) {\n\t\t\t\t\tpluginFields = $tw.loadPluginFolder(path.resolve(folder,\&quot;./\&quot; + pluginFolders[p]));\n\t\t\t\t\tif(pluginFields &amp;&amp; pluginFields.title) {\n\t\t\t\t\t\ttiddlers[pluginFields.title] = pluginFields;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcollectPublisherPlugins = function(folder) {\n\t\t\tvar publisherFolders = fs.readdirSync(folder);\n\t\t\tfor(var t=0; t&lt;publisherFolders.length; t++) {\n\t\t\t\tif(!$tw.boot.excludeRegExp.test(publisherFolders[t])) {\n\t\t\t\t\tcollectPlugins(path.resolve(folder,\&quot;./\&quot; + publisherFolders[t]));\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\tcollectPublisherPlugins(path.resolve($tw.boot.corePath,$tw.config.pluginsPath));\n\tcollectPublisherPlugins(path.resolve($tw.boot.corePath,$tw.config.themesPath));\n\tcollectPlugins(path.resolve($tw.boot.corePath,$tw.config.languagesPath));\n\t// Save the upgrade library tiddler\n\tvar pluginFields = {\n\t\ttitle: upgradeLibraryTitle,\n\t\ttype: \&quot;application/json\&quot;,\n\t\t\&quot;plugin-type\&quot;: \&quot;library\&quot;,\n\t\t\&quot;text\&quot;: JSON.stringify({tiddlers: tiddlers},null,$tw.config.preferences.jsonSpaces)\n\t};\n\twiki.addTiddler(new $tw.Tiddler(pluginFields));\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/makelibrary.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/output.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/output.js\ntype: application/javascript\nmodule-type: command\n\nCommand to set the default output location (defaults to current working directory)\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;output\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tvar fs = require(\&quot;fs\&quot;),\n\t\tpath = require(\&quot;path\&quot;);\n\tif(this.params.length &lt; 1) {\n\t\treturn \&quot;Missing output path\&quot;;\n\t}\n\tthis.commander.outputPath = path.resolve(process.cwd(),this.params[0]);\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/output.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/password.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/password.js\ntype: application/javascript\nmodule-type: command\n\nSave password for crypto operations\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;password\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 1) {\n\t\treturn \&quot;Missing password\&quot;;\n\t}\n\t$tw.crypto.setPassword(this.params[0]);\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/password.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/rendertiddler.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/rendertiddler.js\ntype: application/javascript\nmodule-type: command\n\nCommand to render a tiddler and save it to a file\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;rendertiddler\&quot;,\n\tsynchronous: false\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 2) {\n\t\treturn \&quot;Missing filename\&quot;;\n\t}\n\tvar self = this,\n\t\tfs = require(\&quot;fs\&quot;),\n\t\tpath = require(\&quot;path\&quot;),\n\t\ttitle = this.params[0],\n\t\tfilename = path.resolve(this.commander.outputPath,this.params[1]),\n\t\ttype = this.params[2] || \&quot;text/html\&quot;,\n\t\ttemplate = this.params[3],\n\t\tvariables = {};\n\t$tw.utils.createFileDirectories(filename);\n\tif(template) {\n\t\tvariables.currentTiddler = title;\n\t\ttitle = template;\n\t}\n\tfs.writeFile(filename,this.commander.wiki.renderTiddler(type,title,{variables: variables}),\&quot;utf8\&quot;,function(err) {\n\t\tself.callback(err);\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/rendertiddler.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/rendertiddlers.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/rendertiddlers.js\ntype: application/javascript\nmodule-type: command\n\nCommand to render several tiddlers to a folder of files\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;);\n\nexports.info = {\n\tname: \&quot;rendertiddlers\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 2) {\n\t\treturn \&quot;Missing filename\&quot;;\n\t}\n\tvar self = this,\n\t\tfs = require(\&quot;fs\&quot;),\n\t\tpath = require(\&quot;path\&quot;),\n\t\twiki = this.commander.wiki,\n\t\tfilter = this.params[0],\n\t\ttemplate = this.params[1],\n\t\toutputPath = this.commander.outputPath,\n\t\tpathname = path.resolve(outputPath,this.params[2]),\t\t\n\t\ttype = this.params[3] || \&quot;text/html\&quot;,\n\t\textension = this.params[4] || \&quot;.html\&quot;,\n\t\tdeleteDirectory = (this.params[5] || \&quot;\&quot;).toLowerCase() !== \&quot;noclean\&quot;,\n\t\ttiddlers = wiki.filterTiddlers(filter);\n\tif(deleteDirectory) {\n\t\t$tw.utils.deleteDirectory(pathname);\n\t}\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar parser = wiki.parseTiddler(template),\n\t\t\twidgetNode = wiki.makeWidget(parser,{variables: {currentTiddler: title}}),\n\t\t\tcontainer = $tw.fakeDocument.createElement(\&quot;div\&quot;);\n\t\twidgetNode.render(container,null);\n\t\tvar text = type === \&quot;text/html\&quot; ? container.innerHTML : container.textContent,\n\t\t\texportPath = null;\n\t\tif($tw.utils.hop($tw.macros,\&quot;tv-get-export-path\&quot;)) {\n\t\t\tvar macroPath = $tw.macros[\&quot;tv-get-export-path\&quot;].run.apply(self,[title]);\n\t\t\tif(macroPath) {\n\t\t\t\texportPath = path.resolve(outputPath,macroPath + extension);\n\t\t\t}\n\t\t}\n\t\tvar finalPath = exportPath || path.resolve(pathname,encodeURIComponent(title) + extension);\n\t\t$tw.utils.createFileDirectories(finalPath);\n\t\tfs.writeFileSync(finalPath,text,\&quot;utf8\&quot;);\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/rendertiddlers.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/savelibrarytiddlers.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/savelibrarytiddlers.js\ntype: application/javascript\nmodule-type: command\n\nCommand to save the subtiddlers of a bundle tiddler as a series of JSON files\n\n--savelibrarytiddlers &lt;tiddler&gt; &lt;pathname&gt; &lt;skinnylisting&gt;\n\nThe tiddler identifies the bundle tiddler that contains the subtiddlers.\n\nThe pathname specifies the pathname to the folder in which the JSON files should be saved. The filename is the URL encoded title of the subtiddler.\n\nThe skinnylisting specifies the title of the tiddler to which a JSON catalogue of the subtiddlers will be saved. The JSON file contains the same data as the bundle tiddler but with the `text` field removed.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;savelibrarytiddlers\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 2) {\n\t\treturn \&quot;Missing filename\&quot;;\n\t}\n\tvar self = this,\n\t\tfs = require(\&quot;fs\&quot;),\n\t\tpath = require(\&quot;path\&quot;),\n\t\tcontainerTitle = this.params[0],\n\t\tfilter = this.params[1],\n\t\tbasepath = this.params[2],\n\t\tskinnyListTitle = this.params[3];\n\t// Get the container tiddler as data\n\tvar containerData = self.commander.wiki.getTiddlerDataCached(containerTitle,undefined);\n\tif(!containerData) {\n\t\treturn \&quot;'\&quot; + containerTitle + \&quot;' is not a tiddler bundle\&quot;;\n\t}\n\t// Filter the list of plugins\n\tvar pluginList = [];\n\t$tw.utils.each(containerData.tiddlers,function(tiddler,title) {\n\t\tpluginList.push(title);\n\t});\n\tvar filteredPluginList;\n\tif(filter) {\n\t\tfilteredPluginList = self.commander.wiki.filterTiddlers(filter,null,self.commander.wiki.makeTiddlerIterator(pluginList));\n\t} else {\n\t\tfilteredPluginList = pluginList;\n\t}\n\t// Iterate through the plugins\n\tvar skinnyList = [];\n\t$tw.utils.each(filteredPluginList,function(title) {\n\t\tvar tiddler = containerData.tiddlers[title];\n\t\t// Save each JSON file and collect the skinny data\n\t\tvar pathname = path.resolve(self.commander.outputPath,basepath + encodeURIComponent(title) + \&quot;.json\&quot;);\n\t\t$tw.utils.createFileDirectories(pathname);\n\t\tfs.writeFileSync(pathname,JSON.stringify(tiddler,null,$tw.config.preferences.jsonSpaces),\&quot;utf8\&quot;);\n\t\t// Collect the skinny list data\n\t\tvar pluginTiddlers = JSON.parse(tiddler.text),\n\t\t\treadmeContent = (pluginTiddlers.tiddlers[title + \&quot;/readme\&quot;] || {}).text,\n\t\t\ticonTiddler = pluginTiddlers.tiddlers[title + \&quot;/icon\&quot;] || {},\n\t\t\ticonType = iconTiddler.type,\n\t\t\ticonText = iconTiddler.text,\n\t\t\ticonContent;\n\t\tif(iconType &amp;&amp; iconText) {\n\t\t\ticonContent = $tw.utils.makeDataUri(iconText,iconType);\n\t\t}\n\t\tskinnyList.push($tw.utils.extend({},tiddler,{text: undefined, readme: readmeContent, icon: iconContent}));\n\t});\n\t// Save the catalogue tiddler\n\tif(skinnyListTitle) {\n\t\tself.commander.wiki.setTiddlerData(skinnyListTitle,skinnyList);\n\t}\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/savelibrarytiddlers.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/savetiddler.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/savetiddler.js\ntype: application/javascript\nmodule-type: command\n\nCommand to save the content of a tiddler to a file\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;savetiddler\&quot;,\n\tsynchronous: false\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 2) {\n\t\treturn \&quot;Missing filename\&quot;;\n\t}\n\tvar self = this,\n\t\tfs = require(\&quot;fs\&quot;),\n\t\tpath = require(\&quot;path\&quot;),\n\t\ttitle = this.params[0],\n\t\tfilename = path.resolve(this.commander.outputPath,this.params[1]),\n\t\ttiddler = this.commander.wiki.getTiddler(title),\n\t\ttype = tiddler.fields.type || \&quot;text/vnd.tiddlywiki\&quot;,\n\t\tcontentTypeInfo = $tw.config.contentTypeInfo[type] || {encoding: \&quot;utf8\&quot;};\n\t$tw.utils.createFileDirectories(filename);\n\tfs.writeFile(filename,tiddler.fields.text,contentTypeInfo.encoding,function(err) {\n\t\tself.callback(err);\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/savetiddler.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/savetiddlers.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/savetiddlers.js\ntype: application/javascript\nmodule-type: command\n\nCommand to save several tiddlers to a folder of files\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;);\n\nexports.info = {\n\tname: \&quot;savetiddlers\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 1) {\n\t\treturn \&quot;Missing filename\&quot;;\n\t}\n\tvar self = this,\n\t\tfs = require(\&quot;fs\&quot;),\n\t\tpath = require(\&quot;path\&quot;),\n\t\twiki = this.commander.wiki,\n\t\tfilter = this.params[0],\n\t\tpathname = path.resolve(this.commander.outputPath,this.params[1]),\n\t\tdeleteDirectory = (this.params[2] || \&quot;\&quot;).toLowerCase() !== \&quot;noclean\&quot;,\n\t\ttiddlers = wiki.filterTiddlers(filter);\n\tif(deleteDirectory) {\n\t\t$tw.utils.deleteDirectory(pathname);\n\t}\n\t$tw.utils.createDirectory(pathname);\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar tiddler = self.commander.wiki.getTiddler(title),\n\t\t\ttype = tiddler.fields.type || \&quot;text/vnd.tiddlywiki\&quot;,\n\t\t\tcontentTypeInfo = $tw.config.contentTypeInfo[type] || {encoding: \&quot;utf8\&quot;},\n\t\t\tfilename = path.resolve(pathname,encodeURIComponent(title));\n\t\tfs.writeFileSync(filename,tiddler.fields.text,contentTypeInfo.encoding);\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/savetiddlers.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/server.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/server.js\ntype: application/javascript\nmodule-type: command\n\nServe tiddlers over http\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nif($tw.node) {\n\tvar util = require(\&quot;util\&quot;),\n\t\tfs = require(\&quot;fs\&quot;),\n\t\turl = require(\&quot;url\&quot;),\n\t\tpath = require(\&quot;path\&quot;),\n\t\thttp = require(\&quot;http\&quot;);\n}\n\nexports.info = {\n\tname: \&quot;server\&quot;,\n\tsynchronous: true\n};\n\n/*\nA simple HTTP server with regexp-based routes\n*/\nfunction SimpleServer(options) {\n\tthis.routes = options.routes || [];\n\tthis.wiki = options.wiki;\n\tthis.variables = options.variables || {};\n}\n\nSimpleServer.prototype.set = function(obj) {\n\tvar self = this;\n\t$tw.utils.each(obj,function(value,name) {\n\t\tself.variables[name] = value;\n\t});\n};\n\nSimpleServer.prototype.get = function(name) {\n\treturn this.variables[name];\n};\n\nSimpleServer.prototype.addRoute = function(route) {\n\tthis.routes.push(route);\n};\n\nSimpleServer.prototype.findMatchingRoute = function(request,state) {\n\tvar pathprefix = this.get(\&quot;pathprefix\&quot;) || \&quot;\&quot;;\n\tfor(var t=0; t&lt;this.routes.length; t++) {\n\t\tvar potentialRoute = this.routes[t],\n\t\t\tpathRegExp = potentialRoute.path,\n\t\t\tpathname = state.urlInfo.pathname,\n\t\t\tmatch;\n\t\tif(pathprefix) {\n\t\t\tif(pathname.substr(0,pathprefix.length) === pathprefix) {\n\t\t\t\tpathname = pathname.substr(pathprefix.length);\n\t\t\t\tmatch = potentialRoute.path.exec(pathname);\n\t\t\t} else {\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t} else {\n\t\t\tmatch = potentialRoute.path.exec(pathname);\n\t\t}\n\t\tif(match &amp;&amp; request.method === potentialRoute.method) {\n\t\t\tstate.params = [];\n\t\t\tfor(var p=1; p&lt;match.length; p++) {\n\t\t\t\tstate.params.push(match[p]);\n\t\t\t}\n\t\t\treturn potentialRoute;\n\t\t}\n\t}\n\treturn null;\n};\n\nSimpleServer.prototype.checkCredentials = function(request,incomingUsername,incomingPassword) {\n\tvar header = request.headers.authorization || \&quot;\&quot;,\n\t\ttoken = header.split(/\\s+/).pop() || \&quot;\&quot;,\n\t\tauth = $tw.utils.base64Decode(token),\n\t\tparts = auth.split(/:/),\n\t\tusername = parts[0],\n\t\tpassword = parts[1];\n\tif(incomingUsername === username &amp;&amp; incomingPassword === password) {\n\t\treturn \&quot;ALLOWED\&quot;;\n\t} else {\n\t\treturn \&quot;DENIED\&quot;;\n\t}\n};\n\nSimpleServer.prototype.listen = function(port,host) {\n\tvar self = this;\n\thttp.createServer(function(request,response) {\n\t\t// Compose the state object\n\t\tvar state = {};\n\t\tstate.wiki = self.wiki;\n\t\tstate.server = self;\n\t\tstate.urlInfo = url.parse(request.url);\n\t\t// Find the route that matches this path\n\t\tvar route = self.findMatchingRoute(request,state);\n\t\t// Check for the username and password if we've got one\n\t\tvar username = self.get(\&quot;username\&quot;),\n\t\t\tpassword = self.get(\&quot;password\&quot;);\n\t\tif(username &amp;&amp; password) {\n\t\t\t// Check they match\n\t\t\tif(self.checkCredentials(request,username,password) !== \&quot;ALLOWED\&quot;) {\n\t\t\t\tvar servername = state.wiki.getTiddlerText(\&quot;$:/SiteTitle\&quot;) || \&quot;TiddlyWiki5\&quot;;\n\t\t\t\tresponse.writeHead(401,\&quot;Authentication required\&quot;,{\n\t\t\t\t\t\&quot;WWW-Authenticate\&quot;: 'Basic realm=\&quot;Please provide your username and password to login to ' + servername + '\&quot;'\n\t\t\t\t});\n\t\t\t\tresponse.end();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t// Return a 404 if we didn't find a route\n\t\tif(!route) {\n\t\t\tresponse.writeHead(404);\n\t\t\tresponse.end();\n\t\t\treturn;\n\t\t}\n\t\t// Set the encoding for the incoming request\n\t\t// TODO: Presumably this would need tweaking if we supported PUTting binary tiddlers\n\t\trequest.setEncoding(\&quot;utf8\&quot;);\n\t\t// Dispatch the appropriate method\n\t\tswitch(request.method) {\n\t\t\tcase \&quot;GET\&quot;: // Intentional fall-through\n\t\t\tcase \&quot;DELETE\&quot;:\n\t\t\t\troute.handler(request,response,state);\n\t\t\t\tbreak;\n\t\t\tcase \&quot;PUT\&quot;:\n\t\t\t\tvar data = \&quot;\&quot;;\n\t\t\t\trequest.on(\&quot;data\&quot;,function(chunk) {\n\t\t\t\t\tdata += chunk.toString();\n\t\t\t\t});\n\t\t\t\trequest.on(\&quot;end\&quot;,function() {\n\t\t\t\t\tstate.data = data;\n\t\t\t\t\troute.handler(request,response,state);\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t}\n\t}).listen(port,host);\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n\t// Set up server\n\tthis.server = new SimpleServer({\n\t\twiki: this.commander.wiki\n\t});\n\t// Add route handlers\n\tthis.server.addRoute({\n\t\tmethod: \&quot;PUT\&quot;,\n\t\tpath: /^\\/recipes\\/default\\/tiddlers\\/(.+)$/,\n\t\thandler: function(request,response,state) {\n\t\t\tvar title = decodeURIComponent(state.params[0]),\n\t\t\t\tfields = JSON.parse(state.data);\n\t\t\t// Pull up any subfields in the `fields` object\n\t\t\tif(fields.fields) {\n\t\t\t\t$tw.utils.each(fields.fields,function(field,name) {\n\t\t\t\t\tfields[name] = field;\n\t\t\t\t});\n\t\t\t\tdelete fields.fields;\n\t\t\t}\n\t\t\t// Remove any revision field\n\t\t\tif(fields.revision) {\n\t\t\t\tdelete fields.revision;\n\t\t\t}\n\t\t\tstate.wiki.addTiddler(new $tw.Tiddler(state.wiki.getCreationFields(),fields,{title: title},state.wiki.getModificationFields()));\n\t\t\tvar changeCount = state.wiki.getChangeCount(title).toString();\n\t\t\tresponse.writeHead(204, \&quot;OK\&quot;,{\n\t\t\t\tEtag: \&quot;\\\&quot;default/\&quot; + encodeURIComponent(title) + \&quot;/\&quot; + changeCount + \&quot;:\\\&quot;\&quot;,\n\t\t\t\t\&quot;Content-Type\&quot;: \&quot;text/plain\&quot;\n\t\t\t});\n\t\t\tresponse.end();\n\t\t}\n\t});\n\tthis.server.addRoute({\n\t\tmethod: \&quot;DELETE\&quot;,\n\t\tpath: /^\\/bags\\/default\\/tiddlers\\/(.+)$/,\n\t\thandler: function(request,response,state) {\n\t\t\tvar title = decodeURIComponent(state.params[0]);\n\t\t\tstate.wiki.deleteTiddler(title);\n\t\t\tresponse.writeHead(204, \&quot;OK\&quot;, {\n\t\t\t\t\&quot;Content-Type\&quot;: \&quot;text/plain\&quot;\n\t\t\t});\n\t\t\tresponse.end();\n\t\t}\n\t});\n\tthis.server.addRoute({\n\t\tmethod: \&quot;GET\&quot;,\n\t\tpath: /^\\/$/,\n\t\thandler: function(request,response,state) {\n\t\t\tresponse.writeHead(200, {\&quot;Content-Type\&quot;: state.server.get(\&quot;serveType\&quot;)});\n\t\t\tvar text = state.wiki.renderTiddler(state.server.get(\&quot;renderType\&quot;),state.server.get(\&quot;rootTiddler\&quot;));\n\t\t\tresponse.end(text,\&quot;utf8\&quot;);\n\t\t}\n\t});\n\tthis.server.addRoute({\n\t\tmethod: \&quot;GET\&quot;,\n\t\tpath: /^\\/status$/,\n\t\thandler: function(request,response,state) {\n\t\t\tresponse.writeHead(200, {\&quot;Content-Type\&quot;: \&quot;application/json\&quot;});\n\t\t\tvar text = JSON.stringify({\n\t\t\t\tusername: state.server.get(\&quot;username\&quot;),\n\t\t\t\tspace: {\n\t\t\t\t\trecipe: \&quot;default\&quot;\n\t\t\t\t},\n\t\t\t\ttiddlywiki_version: $tw.version\n\t\t\t});\n\t\t\tresponse.end(text,\&quot;utf8\&quot;);\n\t\t}\n\t});\n\tthis.server.addRoute({\n\t\tmethod: \&quot;GET\&quot;,\n\t\tpath: /^\\/favicon.ico$/,\n\t\thandler: function(request,response,state) {\n\t\t\tresponse.writeHead(200, {\&quot;Content-Type\&quot;: \&quot;image/x-icon\&quot;});\n\t\t\tvar buffer = state.wiki.getTiddlerText(\&quot;$:/favicon.ico\&quot;,\&quot;\&quot;);\n\t\t\tresponse.end(buffer,\&quot;base64\&quot;);\n\t\t}\n\t});\n\tthis.server.addRoute({\n\t\tmethod: \&quot;GET\&quot;,\n\t\tpath: /^\\/recipes\\/default\\/tiddlers.json$/,\n\t\thandler: function(request,response,state) {\n\t\t\tresponse.writeHead(200, {\&quot;Content-Type\&quot;: \&quot;application/json\&quot;});\n\t\t\tvar tiddlers = [];\n\t\t\tstate.wiki.forEachTiddler({sortField: \&quot;title\&quot;},function(title,tiddler) {\n\t\t\t\tvar tiddlerFields = {};\n\t\t\t\t$tw.utils.each(tiddler.fields,function(field,name) {\n\t\t\t\t\tif(name !== \&quot;text\&quot;) {\n\t\t\t\t\t\ttiddlerFields[name] = tiddler.getFieldString(name);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\ttiddlerFields.revision = state.wiki.getChangeCount(title);\n\t\t\t\ttiddlerFields.type = tiddlerFields.type || \&quot;text/vnd.tiddlywiki\&quot;;\n\t\t\t\ttiddlers.push(tiddlerFields);\n\t\t\t});\n\t\t\tvar text = JSON.stringify(tiddlers);\n\t\t\tresponse.end(text,\&quot;utf8\&quot;);\n\t\t}\n\t});\n\tthis.server.addRoute({\n\t\tmethod: \&quot;GET\&quot;,\n\t\tpath: /^\\/recipes\\/default\\/tiddlers\\/(.+)$/,\n\t\thandler: function(request,response,state) {\n\t\t\tvar title = decodeURIComponent(state.params[0]),\n\t\t\t\ttiddler = state.wiki.getTiddler(title),\n\t\t\t\ttiddlerFields = {},\n\t\t\t\tknownFields = [\n\t\t\t\t\t\&quot;bag\&quot;, \&quot;created\&quot;, \&quot;creator\&quot;, \&quot;modified\&quot;, \&quot;modifier\&quot;, \&quot;permissions\&quot;, \&quot;recipe\&quot;, \&quot;revision\&quot;, \&quot;tags\&quot;, \&quot;text\&quot;, \&quot;title\&quot;, \&quot;type\&quot;, \&quot;uri\&quot;\n\t\t\t\t];\n\t\t\tif(tiddler) {\n\t\t\t\t$tw.utils.each(tiddler.fields,function(field,name) {\n\t\t\t\t\tvar value = tiddler.getFieldString(name);\n\t\t\t\t\tif(knownFields.indexOf(name) !== -1) {\n\t\t\t\t\t\ttiddlerFields[name] = value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttiddlerFields.fields = tiddlerFields.fields || {};\n\t\t\t\t\t\ttiddlerFields.fields[name] = value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\ttiddlerFields.revision = state.wiki.getChangeCount(title);\n\t\t\t\ttiddlerFields.type = tiddlerFields.type || \&quot;text/vnd.tiddlywiki\&quot;;\n\t\t\t\tresponse.writeHead(200, {\&quot;Content-Type\&quot;: \&quot;application/json\&quot;});\n\t\t\t\tresponse.end(JSON.stringify(tiddlerFields),\&quot;utf8\&quot;);\n\t\t\t} else {\n\t\t\t\tresponse.writeHead(404);\n\t\t\t\tresponse.end();\n\t\t\t}\n\t\t}\n\t});\n};\n\nCommand.prototype.execute = function() {\n\tif(!$tw.boot.wikiTiddlersPath) {\n\t\t$tw.utils.warning(\&quot;Warning: Wiki folder '\&quot; + $tw.boot.wikiPath + \&quot;' does not exist or is missing a tiddlywiki.info file\&quot;);\n\t}\n\tvar port = this.params[0] || \&quot;8080\&quot;,\n\t\trootTiddler = this.params[1] || \&quot;$:/core/save/all\&quot;,\n\t\trenderType = this.params[2] || \&quot;text/plain\&quot;,\n\t\tserveType = this.params[3] || \&quot;text/html\&quot;,\n\t\tusername = this.params[4],\n\t\tpassword = this.params[5],\n\t\thost = this.params[6] || \&quot;127.0.0.1\&quot;,\n\t\tpathprefix = this.params[7];\n\tthis.server.set({\n\t\trootTiddler: rootTiddler,\n\t\trenderType: renderType,\n\t\tserveType: serveType,\n\t\tusername: username,\n\t\tpassword: password,\n\t\tpathprefix: pathprefix\n\t});\n\tthis.server.listen(port,host);\n\tconsole.log(\&quot;Serving on \&quot; + host + \&quot;:\&quot; + port);\n\tconsole.log(\&quot;(press ctrl-C to exit)\&quot;);\n\t// Warn if required plugins are missing\n\tif(!$tw.wiki.getTiddler(\&quot;$:/plugins/tiddlywiki/tiddlyweb\&quot;) || !$tw.wiki.getTiddler(\&quot;$:/plugins/tiddlywiki/filesystem\&quot;)) {\n\t\t$tw.utils.warning(\&quot;Warning: Plugins required for client-server operation (\\\&quot;tiddlywiki/filesystem\\\&quot; and \\\&quot;tiddlywiki/tiddlyweb\\\&quot;) are missing from tiddlywiki.info file\&quot;);\n\t}\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/server.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/setfield.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/setfield.js\ntype: application/javascript\nmodule-type: command\n\nCommand to modify selected tiddlers to set a field to the text of a template tiddler that has been wikified with the selected tiddler as the current tiddler.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;);\n\nexports.info = {\n\tname: \&quot;setfield\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 4) {\n\t\treturn \&quot;Missing parameters\&quot;;\n\t}\n\tvar self = this,\n\t\twiki = this.commander.wiki,\n\t\tfilter = this.params[0],\n\t\tfieldname = this.params[1] || \&quot;text\&quot;,\n\t\ttemplatetitle = this.params[2],\n\t\trendertype = this.params[3] || \&quot;text/plain\&quot;,\n\t\ttiddlers = wiki.filterTiddlers(filter);\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar parser = wiki.parseTiddler(templatetitle),\n\t\t\tnewFields = {},\n\t\t\ttiddler = wiki.getTiddler(title);\n\t\tif(parser) {\n\t\t\tvar widgetNode = wiki.makeWidget(parser,{variables: {currentTiddler: title}});\n\t\t\tvar container = $tw.fakeDocument.createElement(\&quot;div\&quot;);\n\t\t\twidgetNode.render(container,null);\n\t\t\tnewFields[fieldname] = rendertype === \&quot;text/html\&quot; ? container.innerHTML : container.textContent;\n\t\t} else {\n\t\t\tnewFields[fieldname] = undefined;\n\t\t}\n\t\twiki.addTiddler(new $tw.Tiddler(tiddler,newFields));\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/setfield.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/unpackplugin.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/unpackplugin.js\ntype: application/javascript\nmodule-type: command\n\nCommand to extract the shadow tiddlers from within a plugin\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;unpackplugin\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander,callback) {\n\tthis.params = params;\n\tthis.commander = commander;\n\tthis.callback = callback;\n};\n\nCommand.prototype.execute = function() {\n\tif(this.params.length &lt; 1) {\n\t\treturn \&quot;Missing plugin name\&quot;;\n\t}\n\tvar self = this,\n\t\ttitle = this.params[0],\n\t\tpluginData = this.commander.wiki.getTiddlerDataCached(title);\n\tif(!pluginData) {\n\t\treturn \&quot;Plugin '\&quot; + title + \&quot;' not found\&quot;;\n\t}\n\t$tw.utils.each(pluginData.tiddlers,function(tiddler) {\n\t\tself.commander.wiki.addTiddler(new $tw.Tiddler(tiddler));\n\t});\n\treturn null;\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/unpackplugin.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/verbose.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/verbose.js\ntype: application/javascript\nmodule-type: command\n\nVerbose command\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;verbose\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\tthis.commander.verbose = true;\n\t// Output the boot message log\n\tthis.commander.streams.output.write(\&quot;Boot log:\\n  \&quot; + $tw.boot.logMessages.join(\&quot;\\n  \&quot;) + \&quot;\\n\&quot;);\n\treturn null; // No error\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/verbose.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/commands/version.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/commands/version.js\ntype: application/javascript\nmodule-type: command\n\nVersion command\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.info = {\n\tname: \&quot;version\&quot;,\n\tsynchronous: true\n};\n\nvar Command = function(params,commander) {\n\tthis.params = params;\n\tthis.commander = commander;\n};\n\nCommand.prototype.execute = function() {\n\tthis.commander.streams.output.write($tw.version + \&quot;\\n\&quot;);\n\treturn null; // No error\n};\n\nexports.Command = Command;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/commands/version.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;command&quot;
        },
        &quot;$:/core/modules/config.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/config.js\ntype: application/javascript\nmodule-type: config\n\nCore configuration constants\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.preferences = {};\n\nexports.preferences.notificationDuration = 3 * 1000;\nexports.preferences.jsonSpaces = 4;\n\nexports.textPrimitives = {\n\tupperLetter: \&quot;[A-Z\\u00c0-\\u00d6\\u00d8-\\u00de\\u0150\\u0170]\&quot;,\n\tlowerLetter: \&quot;[a-z\\u00df-\\u00f6\\u00f8-\\u00ff\\u0151\\u0171]\&quot;,\n\tanyLetter:   \&quot;[A-Za-z0-9\\u00c0-\\u00d6\\u00d8-\\u00de\\u00df-\\u00f6\\u00f8-\\u00ff\\u0150\\u0170\\u0151\\u0171]\&quot;,\n\tblockPrefixLetters:\t\&quot;[A-Za-z0-9-_\\u00c0-\\u00d6\\u00d8-\\u00de\\u00df-\\u00f6\\u00f8-\\u00ff\\u0150\\u0170\\u0151\\u0171]\&quot;\n};\n\nexports.textPrimitives.unWikiLink = \&quot;~\&quot;;\nexports.textPrimitives.wikiLink = exports.textPrimitives.upperLetter + \&quot;+\&quot; +\n\texports.textPrimitives.lowerLetter + \&quot;+\&quot; +\n\texports.textPrimitives.upperLetter +\n\texports.textPrimitives.anyLetter + \&quot;*\&quot;;\n\nexports.htmlEntities = {quot:34, amp:38, apos:39, lt:60, gt:62, nbsp:160, iexcl:161, cent:162, pound:163, curren:164, yen:165, brvbar:166, sect:167, uml:168, copy:169, ordf:170, laquo:171, not:172, shy:173, reg:174, macr:175, deg:176, plusmn:177, sup2:178, sup3:179, acute:180, micro:181, para:182, middot:183, cedil:184, sup1:185, ordm:186, raquo:187, frac14:188, frac12:189, frac34:190, iquest:191, Agrave:192, Aacute:193, Acirc:194, Atilde:195, Auml:196, Aring:197, AElig:198, Ccedil:199, Egrave:200, Eacute:201, Ecirc:202, Euml:203, Igrave:204, Iacute:205, Icirc:206, Iuml:207, ETH:208, Ntilde:209, Ograve:210, Oacute:211, Ocirc:212, Otilde:213, Ouml:214, times:215, Oslash:216, Ugrave:217, Uacute:218, Ucirc:219, Uuml:220, Yacute:221, THORN:222, szlig:223, agrave:224, aacute:225, acirc:226, atilde:227, auml:228, aring:229, aelig:230, ccedil:231, egrave:232, eacute:233, ecirc:234, euml:235, igrave:236, iacute:237, icirc:238, iuml:239, eth:240, ntilde:241, ograve:242, oacute:243, ocirc:244, otilde:245, ouml:246, divide:247, oslash:248, ugrave:249, uacute:250, ucirc:251, uuml:252, yacute:253, thorn:254, yuml:255, OElig:338, oelig:339, Scaron:352, scaron:353, Yuml:376, fnof:402, circ:710, tilde:732, Alpha:913, Beta:914, Gamma:915, Delta:916, Epsilon:917, Zeta:918, Eta:919, Theta:920, Iota:921, Kappa:922, Lambda:923, Mu:924, Nu:925, Xi:926, Omicron:927, Pi:928, Rho:929, Sigma:931, Tau:932, Upsilon:933, Phi:934, Chi:935, Psi:936, Omega:937, alpha:945, beta:946, gamma:947, delta:948, epsilon:949, zeta:950, eta:951, theta:952, iota:953, kappa:954, lambda:955, mu:956, nu:957, xi:958, omicron:959, pi:960, rho:961, sigmaf:962, sigma:963, tau:964, upsilon:965, phi:966, chi:967, psi:968, omega:969, thetasym:977, upsih:978, piv:982, ensp:8194, emsp:8195, thinsp:8201, zwnj:8204, zwj:8205, lrm:8206, rlm:8207, ndash:8211, mdash:8212, lsquo:8216, rsquo:8217, sbquo:8218, ldquo:8220, rdquo:8221, bdquo:8222, dagger:8224, Dagger:8225, bull:8226, hellip:8230, permil:8240, prime:8242, Prime:8243, lsaquo:8249, rsaquo:8250, oline:8254, frasl:8260, euro:8364, image:8465, weierp:8472, real:8476, trade:8482, alefsym:8501, larr:8592, uarr:8593, rarr:8594, darr:8595, harr:8596, crarr:8629, lArr:8656, uArr:8657, rArr:8658, dArr:8659, hArr:8660, forall:8704, part:8706, exist:8707, empty:8709, nabla:8711, isin:8712, notin:8713, ni:8715, prod:8719, sum:8721, minus:8722, lowast:8727, radic:8730, prop:8733, infin:8734, ang:8736, and:8743, or:8744, cap:8745, cup:8746, int:8747, there4:8756, sim:8764, cong:8773, asymp:8776, ne:8800, equiv:8801, le:8804, ge:8805, sub:8834, sup:8835, nsub:8836, sube:8838, supe:8839, oplus:8853, otimes:8855, perp:8869, sdot:8901, lceil:8968, rceil:8969, lfloor:8970, rfloor:8971, lang:9001, rang:9002, loz:9674, spades:9824, clubs:9827, hearts:9829, diams:9830 };\n\nexports.htmlVoidElements = \&quot;area,base,br,col,command,embed,hr,img,input,keygen,link,meta,param,source,track,wbr\&quot;.split(\&quot;,\&quot;);\n\nexports.htmlBlockElements = \&quot;address,article,aside,audio,blockquote,canvas,dd,div,dl,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,hr,li,noscript,ol,output,p,pre,section,table,tfoot,ul,video\&quot;.split(\&quot;,\&quot;);\n\nexports.htmlUnsafeElements = \&quot;script\&quot;.split(\&quot;,\&quot;);\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/config.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;config&quot;
        },
        &quot;$:/core/modules/deserializers.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/deserializers.js\ntype: application/javascript\nmodule-type: tiddlerdeserializer\n\nFunctions to deserialise tiddlers from a block of text\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nUtility function to parse an old-style tiddler DIV in a *.tid file. It looks like this:\n\n&lt;div title=\&quot;Title\&quot; creator=\&quot;JoeBloggs\&quot; modifier=\&quot;JoeBloggs\&quot; created=\&quot;201102111106\&quot; modified=\&quot;201102111310\&quot; tags=\&quot;myTag [[my long tag]]\&quot;&gt;\n&lt;pre&gt;The text of the tiddler (without the expected HTML encoding).\n&lt;/pre&gt;\n&lt;/div&gt;\n\nNote that the field attributes are HTML encoded, but that the body of the &lt;PRE&gt; tag is not encoded.\n\nWhen these tiddler DIVs are encountered within a TiddlyWiki HTML file then the body is encoded in the usual way.\n*/\nvar parseTiddlerDiv = function(text /* [,fields] */) {\n\t// Slot together the default results\n\tvar result = {};\n\tif(arguments.length &gt; 1) {\n\t\tfor(var f=1; f&lt;arguments.length; f++) {\n\t\t\tvar fields = arguments[f];\n\t\t\tfor(var t in fields) {\n\t\t\t\tresult[t] = fields[t];\t\t\n\t\t\t}\n\t\t}\n\t}\n\t// Parse the DIV body\n\tvar startRegExp = /^\\s*&lt;div\\s+([^&gt;]*)&gt;(\\s*&lt;pre&gt;)?/gi,\n\t\tendRegExp,\n\t\tmatch = startRegExp.exec(text);\n\tif(match) {\n\t\t// Old-style DIVs don't have the &lt;pre&gt; tag\n\t\tif(match[2]) {\n\t\t\tendRegExp = /&lt;\\/pre&gt;\\s*&lt;\\/div&gt;\\s*$/gi;\n\t\t} else {\n\t\t\tendRegExp = /&lt;\\/div&gt;\\s*$/gi;\n\t\t}\n\t\tvar endMatch = endRegExp.exec(text);\n\t\tif(endMatch) {\n\t\t\t// Extract the text\n\t\t\tresult.text = text.substring(match.index + match[0].length,endMatch.index);\n\t\t\t// Process the attributes\n\t\t\tvar attrRegExp = /\\s*([^=\\s]+)\\s*=\\s*(?:\&quot;([^\&quot;]*)\&quot;|'([^']*)')/gi,\n\t\t\t\tattrMatch;\n\t\t\tdo {\n\t\t\t\tattrMatch = attrRegExp.exec(match[1]);\n\t\t\t\tif(attrMatch) {\n\t\t\t\t\tvar name = attrMatch[1];\n\t\t\t\t\tvar value = attrMatch[2] !== undefined ? attrMatch[2] : attrMatch[3];\n\t\t\t\t\tresult[name] = value;\n\t\t\t\t}\n\t\t\t} while(attrMatch);\n\t\t\treturn result;\n\t\t}\n\t}\n\treturn undefined;\n};\n\nexports[\&quot;application/x-tiddler-html-div\&quot;] = function(text,fields) {\n\treturn [parseTiddlerDiv(text,fields)];\n};\n\nexports[\&quot;application/json\&quot;] = function(text,fields) {\n\tvar incoming = JSON.parse(text),\n\t\tresults = [];\n\tif($tw.utils.isArray(incoming)) {\n\t\tfor(var t=0; t&lt;incoming.length; t++) {\n\t\t\tvar incomingFields = incoming[t],\n\t\t\t\tfields = {};\n\t\t\tfor(var f in incomingFields) {\n\t\t\t\tif(typeof incomingFields[f] === \&quot;string\&quot;) {\n\t\t\t\t\tfields[f] = incomingFields[f];\n\t\t\t\t}\n\t\t\t}\n\t\t\tresults.push(fields);\n\t\t}\n\t}\n\treturn results;\n};\n\n/*\nParse an HTML file into tiddlers. There are three possibilities:\n# A TiddlyWiki classic HTML file containing `text/x-tiddlywiki` tiddlers\n# A TiddlyWiki5 HTML file containing `text/vnd.tiddlywiki` tiddlers\n# An ordinary HTML file\n*/\nexports[\&quot;text/html\&quot;] = function(text,fields) {\n\t// Check if we've got a store area\n\tvar storeAreaMarkerRegExp = /&lt;div id=[\&quot;']?storeArea['\&quot;]?( style=[\&quot;']?display:none;[\&quot;']?)?&gt;/gi,\n\t\tmatch = storeAreaMarkerRegExp.exec(text);\n\tif(match) {\n\t\t// If so, it's either a classic TiddlyWiki file or an unencrypted TW5 file\n\t\t// First read the normal tiddlers\n\t\tvar results = deserializeTiddlyWikiFile(text,storeAreaMarkerRegExp.lastIndex,!!match[1],fields);\n\t\t// Then any system tiddlers\n\t\tvar systemAreaMarkerRegExp = /&lt;div id=[\&quot;']?systemArea['\&quot;]?( style=[\&quot;']?display:none;[\&quot;']?)?&gt;/gi,\n\t\t\tsysMatch = systemAreaMarkerRegExp.exec(text);\n\t\tif(sysMatch) {\n\t\t\tresults.push.apply(results,deserializeTiddlyWikiFile(text,systemAreaMarkerRegExp.lastIndex,!!sysMatch[1],fields));\n\t\t}\n\t\treturn results;\n\t} else {\n\t\t// Check whether we've got an encrypted file\n\t\tvar encryptedStoreArea = $tw.utils.extractEncryptedStoreArea(text);\n\t\tif(encryptedStoreArea) {\n\t\t\t// If so, attempt to decrypt it using the current password\n\t\t\treturn $tw.utils.decryptStoreArea(encryptedStoreArea);\n\t\t} else {\n\t\t\t// It's not a TiddlyWiki so we'll return the entire HTML file as a tiddler\n\t\t\treturn deserializeHtmlFile(text,fields);\n\t\t}\n\t}\n};\n\nfunction deserializeHtmlFile(text,fields) {\n\tvar result = {};\n\t$tw.utils.each(fields,function(value,name) {\n\t\tresult[name] = value;\n\t});\n\tresult.text = text;\n\tresult.type = \&quot;text/html\&quot;;\n\treturn [result];\n}\n\nfunction deserializeTiddlyWikiFile(text,storeAreaEnd,isTiddlyWiki5,fields) {\n\tvar results = [],\n\t\tendOfDivRegExp = /(&lt;\\/div&gt;\\s*)/gi,\n\t\tstartPos = storeAreaEnd,\n\t\tdefaultType = isTiddlyWiki5 ? undefined : \&quot;text/x-tiddlywiki\&quot;;\n\tendOfDivRegExp.lastIndex = startPos;\n\tvar match = endOfDivRegExp.exec(text);\n\twhile(match) {\n\t\tvar endPos = endOfDivRegExp.lastIndex,\n\t\t\ttiddlerFields = parseTiddlerDiv(text.substring(startPos,endPos),fields,{type: defaultType});\n\t\tif(!tiddlerFields) {\n\t\t\tbreak;\n\t\t}\n\t\t$tw.utils.each(tiddlerFields,function(value,name) {\n\t\t\tif(typeof value === \&quot;string\&quot;) {\n\t\t\t\ttiddlerFields[name] = $tw.utils.htmlDecode(value);\n\t\t\t}\n\t\t});\n\t\tif(tiddlerFields.text !== null) {\n\t\t\tresults.push(tiddlerFields);\n\t\t}\n\t\tstartPos = endPos;\n\t\tmatch = endOfDivRegExp.exec(text);\n\t}\n\treturn results;\n}\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/deserializers.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;tiddlerdeserializer&quot;
        },
        &quot;$:/core/modules/filters/addprefix.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/addprefix.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for adding a prefix to each title in the list. This is\nespecially useful in contexts where only a filter expression is allowed\nand macro substitution isn't available.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.addprefix = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(operator.operand + title);\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/addprefix.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/addsuffix.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/addsuffix.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for adding a suffix to each title in the list. This is\nespecially useful in contexts where only a filter expression is allowed\nand macro substitution isn't available.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.addsuffix = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title + operator.operand);\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/addsuffix.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/after.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/after.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning the tiddler from the current list that is after the tiddler named in the operand.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.after = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\tvar index = results.indexOf(operator.operand);\n\tif(index === -1 || index &gt; (results.length - 2)) {\n\t\treturn [];\n\t} else {\n\t\treturn [results[index + 1]];\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/after.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/all/current.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/all/current.js\ntype: application/javascript\nmodule-type: allfilteroperator\n\nFilter function for [all[current]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.current = function(source,prefix,options) {\n\tvar currTiddlerTitle = options.widget &amp;&amp; options.widget.getVariable(\&quot;currentTiddler\&quot;);\n\tif(currTiddlerTitle) {\n\t\treturn [currTiddlerTitle];\n\t} else {\n\t\treturn [];\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/all/current.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;allfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/all/missing.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/all/missing.js\ntype: application/javascript\nmodule-type: allfilteroperator\n\nFilter function for [all[missing]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.missing = function(source,prefix,options) {\n\treturn options.wiki.getMissingTitles();\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/all/missing.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;allfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/all/orphans.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/all/orphans.js\ntype: application/javascript\nmodule-type: allfilteroperator\n\nFilter function for [all[orphans]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.orphans = function(source,prefix,options) {\n\treturn options.wiki.getOrphanTitles();\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/all/orphans.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;allfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/all/shadows.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/all/shadows.js\ntype: application/javascript\nmodule-type: allfilteroperator\n\nFilter function for [all[shadows]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.shadows = function(source,prefix,options) {\n\treturn options.wiki.allShadowTitles();\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/all/shadows.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;allfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/all/tiddlers.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/all/tiddlers.js\ntype: application/javascript\nmodule-type: allfilteroperator\n\nFilter function for [all[tiddlers]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.tiddlers = function(source,prefix,options) {\n\treturn options.wiki.allTitles();\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/all/tiddlers.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;allfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/all.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/all.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for selecting tiddlers\n\n[all[shadows+tiddlers]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar allFilterOperators;\n\nfunction getAllFilterOperators() {\n\tif(!allFilterOperators) {\n\t\tallFilterOperators = {};\n\t\t$tw.modules.applyMethods(\&quot;allfilteroperator\&quot;,allFilterOperators);\n\t}\n\treturn allFilterOperators;\n}\n\n/*\nExport our filter function\n*/\nexports.all = function(source,operator,options) {\n\t// Get our suboperators\n\tvar allFilterOperators = getAllFilterOperators();\n\t// Cycle through the suboperators accumulating their results\n\tvar results = [],\n\t\tsubops = operator.operand.split(\&quot;+\&quot;);\n\t// Check for common optimisations\n\tif(subops.length === 1 &amp;&amp; subops[0] === \&quot;\&quot;) {\n\t\treturn source;\n\t} else if(subops.length === 1 &amp;&amp; subops[0] === \&quot;tiddlers\&quot;) {\n\t\treturn options.wiki.each;\n\t} else if(subops.length === 1 &amp;&amp; subops[0] === \&quot;shadows\&quot;) {\n\t\treturn options.wiki.eachShadow;\n\t} else if(subops.length === 2 &amp;&amp; subops[0] === \&quot;tiddlers\&quot; &amp;&amp; subops[1] === \&quot;shadows\&quot;) {\n\t\treturn options.wiki.eachTiddlerPlusShadows;\n\t} else if(subops.length === 2 &amp;&amp; subops[0] === \&quot;shadows\&quot; &amp;&amp; subops[1] === \&quot;tiddlers\&quot;) {\n\t\treturn options.wiki.eachShadowPlusTiddlers;\n\t}\n\t// Do it the hard way\n\tfor(var t=0; t&lt;subops.length; t++) {\n\t\tvar subop = allFilterOperators[subops[t]];\n\t\tif(subop) {\n\t\t\t$tw.utils.pushTop(results,subop(source,operator.prefix,options));\n\t\t}\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/all.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/backlinks.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/backlinks.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning all the backlinks from a tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.backlinks = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\t$tw.utils.pushTop(results,options.wiki.getTiddlerBacklinks(title));\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/backlinks.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/before.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/before.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning the tiddler from the current list that is before the tiddler named in the operand.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.before = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\tvar index = results.indexOf(operator.operand);\n\tif(index &lt;= 0) {\n\t\treturn [];\n\t} else {\n\t\treturn [results[index - 1]];\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/before.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/commands.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/commands.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the names of the commands available in this wiki\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.commands = function(source,operator,options) {\n\tvar results = [];\n\t$tw.utils.each($tw.commands,function(commandInfo,name) {\n\t\tresults.push(name);\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/commands.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/days.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/days.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator that selects tiddlers with a specified date field within a specified date interval.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.days = function(source,operator,options) {\n\tvar results = [],\n\t\tfieldName = operator.suffix || \&quot;modified\&quot;,\n\t\tdayInterval = (parseInt(operator.operand,10)||0),\n\t\tdayIntervalSign = $tw.utils.sign(dayInterval),\n\t\ttargetTimeStamp = (new Date()).setHours(0,0,0,0) + 1000*60*60*24*dayInterval,\n\t\tisWithinDays = function(dateField) {\n\t\t\tvar sign = $tw.utils.sign(targetTimeStamp - (new Date(dateField)).setHours(0,0,0,0));\n\t\t\treturn sign === 0 || sign === dayIntervalSign;\n\t\t};\n\n\tif(operator.prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; tiddler.fields[fieldName]) {\n\t\t\t\tif(!isWithinDays($tw.utils.parseDate(tiddler.fields[fieldName]))) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; tiddler.fields[fieldName]) {\n\t\t\t\tif(isWithinDays($tw.utils.parseDate(tiddler.fields[fieldName]))) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/days.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/each.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/each.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator that selects one tiddler for each unique value of the specified field.\nWith suffix \&quot;list\&quot;, selects all tiddlers that are values in a specified list field.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.each = function(source,operator,options) {\n\tvar results =[] ,\n\t\tvalue,values = {},\n\t\tfield = operator.operand || \&quot;title\&quot;;\n\tif(operator.suffix !== \&quot;list-item\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler) {\n\t\t\t\tvalue = (field === \&quot;title\&quot;) ? title : tiddler.getFieldString(field);\n\t\t\t\tif(!$tw.utils.hop(values,value)) {\n\t\t\t\t\tvalues[value] = true;\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler) {\n\t\t\t\t$tw.utils.each(\n\t\t\t\t\toptions.wiki.getTiddlerList(title,field),\n\t\t\t\t\tfunction(value) {\n\t\t\t\t\t\tif(!$tw.utils.hop(values,value)) {\n\t\t\t\t\t\t\tvalues[value] = true;\n\t\t\t\t\t\t\tresults.push(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/each.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/eachday.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/eachday.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator that selects one tiddler for each unique day covered by the specified date field\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.eachday = function(source,operator,options) {\n\tvar results = [],\n\t\tvalues = [],\n\t\tfieldName = operator.operand || \&quot;modified\&quot;;\n\t// Function to convert a date/time to a date integer\n\tvar toDate = function(value) {\n\t\tvalue = (new Date(value)).setHours(0,0,0,0);\n\t\treturn value+0;\n\t};\n\tsource(function(tiddler,title) {\n\t\tif(tiddler &amp;&amp; tiddler.fields[fieldName]) {\n\t\t\tvar value = toDate($tw.utils.parseDate(tiddler.fields[fieldName]));\n\t\t\tif(values.indexOf(value) === -1) {\n\t\t\t\tvalues.push(value);\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/eachday.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/editiondescription.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/editiondescription.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the descriptions of the specified edition names\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.editiondescription = function(source,operator,options) {\n\tvar results = [],\n\t\teditionInfo = $tw.utils.getEditionInfo();\n\tif(editionInfo) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif($tw.utils.hop(editionInfo,title)) {\n\t\t\t\tresults.push(editionInfo[title].description || \&quot;\&quot;);\t\t\t\t\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/editiondescription.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/editions.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/editions.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the names of the available editions in this wiki\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.editions = function(source,operator,options) {\n\tvar results = [],\n\t\teditionInfo = $tw.utils.getEditionInfo();\n\tif(editionInfo) {\n\t\t$tw.utils.each(editionInfo,function(info,name) {\n\t\t\tresults.push(name);\n\t\t});\n\t}\n\tresults.sort();\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/editions.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/field.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/field.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for comparing fields for equality\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.field = function(source,operator,options) {\n\tvar results = [],\n\t\tfieldname = (operator.suffix || operator.operator || \&quot;title\&quot;).toLowerCase();\n\tif(operator.prefix === \&quot;!\&quot;) {\n\t\tif(operator.regexp) {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(tiddler) {\n\t\t\t\t\tvar text = tiddler.getFieldString(fieldname);\n\t\t\t\t\tif(text !== null &amp;&amp; !operator.regexp.exec(text)) {\n\t\t\t\t\t\tresults.push(title);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(tiddler) {\n\t\t\t\t\tvar text = tiddler.getFieldString(fieldname);\n\t\t\t\t\tif(text !== null &amp;&amp; text !== operator.operand) {\n\t\t\t\t\t\tresults.push(title);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t} else {\n\t\tif(operator.regexp) {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(tiddler) {\n\t\t\t\t\tvar text = tiddler.getFieldString(fieldname);\n\t\t\t\t\tif(text !== null &amp;&amp; !!operator.regexp.exec(text)) {\n\t\t\t\t\t\tresults.push(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tsource(function(tiddler,title) {\n\t\t\t\tif(tiddler) {\n\t\t\t\t\tvar text = tiddler.getFieldString(fieldname);\n\t\t\t\t\tif(text !== null &amp;&amp; text === operator.operand) {\n\t\t\t\t\t\tresults.push(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/field.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/fields.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/fields.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the names of the fields on the selected tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.fields = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tif(tiddler) {\n\t\t\tfor(var fieldName in tiddler.fields) {\n\t\t\t\t$tw.utils.pushTop(results,fieldName);\n\t\t\t}\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/fields.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/get.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/get.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for replacing tiddler titles by the value of the field specified in the operand.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.get = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tif(tiddler) {\n\t\t\tvar value = tiddler.getFieldString(operator.operand);\n\t\t\tif(value) {\n\t\t\t\tresults.push(value);\n\t\t\t}\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/get.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/getindex.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/getindex.js\ntype: application/javascript\nmodule-type: filteroperator\n\nreturns the value at a given index of datatiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.getindex = function(source,operator,options) {\n\tvar data,title,results = [];\n\tif(operator.operand){\n\t\tsource(function(tiddler,title) {\n\t\t\ttitle = tiddler ? tiddler.fields.title : title;\n\t\t\tdata = options.wiki.extractTiddlerDataItem(tiddler,operator.operand);\n\t\t\tif(data) {\n\t\t\t\tresults.push(data);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/getindex.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/has.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/has.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for checking if a tiddler has the specified field\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.has = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!tiddler || (tiddler &amp;&amp; (!$tw.utils.hop(tiddler.fields,operator.operand) || tiddler.fields[operator.operand] === \&quot;\&quot;))) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; $tw.utils.hop(tiddler.fields,operator.operand) &amp;&amp; tiddler.fields[operator.operand] !== \&quot;\&quot;) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/has.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/haschanged.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/haschanged.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returns tiddlers from the list that have a non-zero changecount.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.haschanged = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.getChangeCount(title) === 0) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.getChangeCount(title) &gt; 0) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/haschanged.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/indexes.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/indexes.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the indexes of a data tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.indexes = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tvar data = options.wiki.getTiddlerDataCached(title);\n\t\tif(data) {\n\t\t\t$tw.utils.pushTop(results,Object.keys(data));\n\t\t}\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/indexes.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/is/current.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/is/current.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[current]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.current = function(source,prefix,options) {\n\tvar results = [],\n\t\tcurrTiddlerTitle = options.widget &amp;&amp; options.widget.getVariable(\&quot;currentTiddler\&quot;);\n\tif(prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title !== currTiddlerTitle) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title === currTiddlerTitle) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/is/current.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;isfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/is/image.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/is/image.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[image]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.image = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!options.wiki.isImageTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.isImageTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/is/image.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;isfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/is/missing.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/is/missing.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[missing]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.missing = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.tiddlerExists(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!options.wiki.tiddlerExists(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/is/missing.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;isfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/is/orphan.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/is/orphan.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[orphan]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.orphan = function(source,prefix,options) {\n\tvar results = [],\n\t\torphanTitles = options.wiki.getOrphanTitles();\n\tif(prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(orphanTitles.indexOf(title) === -1) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(orphanTitles.indexOf(title) !== -1) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/is/orphan.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;isfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/is/shadow.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/is/shadow.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[shadow]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.shadow = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!options.wiki.isShadowTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.isShadowTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/is/shadow.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;isfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/is/system.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/is/system.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[system]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.system = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!options.wiki.isSystemTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.isSystemTiddler(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/is/system.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;isfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/is/tag.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/is/tag.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[tag]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.tag = function(source,prefix,options) {\n\tvar results = [],\n\t\ttagMap = options.wiki.getTagMap();\n\tif(prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!$tw.utils.hop(tagMap,title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif($tw.utils.hop(tagMap,title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/is/tag.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;isfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/is/tiddler.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/is/tiddler.js\ntype: application/javascript\nmodule-type: isfilteroperator\n\nFilter function for [is[tiddler]]\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.tiddler = function(source,prefix,options) {\n\tvar results = [];\n\tif(prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!options.wiki.tiddlerExists(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(options.wiki.tiddlerExists(title)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/is/tiddler.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;isfilteroperator&quot;
        },
        &quot;$:/core/modules/filters/is.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/is.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for checking tiddler properties\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar isFilterOperators;\n\nfunction getIsFilterOperators() {\n\tif(!isFilterOperators) {\n\t\tisFilterOperators = {};\n\t\t$tw.modules.applyMethods(\&quot;isfilteroperator\&quot;,isFilterOperators);\n\t}\n\treturn isFilterOperators;\n}\n\n/*\nExport our filter function\n*/\nexports.is = function(source,operator,options) {\n\t// Dispatch to the correct isfilteroperator\n\tvar isFilterOperators = getIsFilterOperators();\n\tvar isFilterOperator = isFilterOperators[operator.operand];\n\tif(isFilterOperator) {\n\t\treturn isFilterOperator(source,operator.prefix,options);\n\t} else {\n\t\treturn [\&quot;Filter Error: Unknown operand for the 'is' filter operator\&quot;];\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/is.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/limit.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/limit.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for chopping the results to a specified maximum number of entries\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.limit = function(source,operator,options) {\n\tvar results = [];\n\t// Convert to an array\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\t// Slice the array if necessary\n\tvar limit = Math.min(results.length,parseInt(operator.operand,10));\n\tif(operator.prefix === \&quot;!\&quot;) {\n\t\tresults = results.slice(-limit);\n\t} else {\n\t\tresults = results.slice(0,limit);\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/limit.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/links.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/links.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning all the links from a tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.links = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\t$tw.utils.pushTop(results,options.wiki.getTiddlerLinks(title));\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/links.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/list.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/list.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning the tiddlers whose title is listed in the operand tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.list = function(source,operator,options) {\n\tvar results = [],\n\t\ttr = $tw.utils.parseTextReference(operator.operand),\n\t\tcurrTiddlerTitle = options.widget &amp;&amp; options.widget.getVariable(\&quot;currentTiddler\&quot;),\n\t\tlist = options.wiki.getTiddlerList(tr.title || currTiddlerTitle,tr.field,tr.index);\n\tif(operator.prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(list.indexOf(title) === -1) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tresults = list;\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/list.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/listed.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/listed.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning all tiddlers that have the selected tiddlers in a list\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.listed = function(source,operator,options) {\n\tvar field = operator.operand || \&quot;list\&quot;,\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\t$tw.utils.pushTop(results,options.wiki.findListingsOfTiddler(title,field));\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/listed.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/listops.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/listops.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operators for manipulating the current selection list\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nReverse list\n*/\nexports.reverse = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.unshift(title);\n\t});\n\treturn results;\n};\n\n/*\nFirst entry/entries in list\n*/\nexports.first = function(source,operator,options) {\n\tvar count = parseInt(operator.operand) || 1,\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results.slice(0,count);\n};\n\n/*\nLast entry/entries in list\n*/\nexports.last = function(source,operator,options) {\n\tvar count = parseInt(operator.operand) || 1,\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results.slice(-count);\n};\n\n/*\nAll but the first entry/entries of the list\n*/\nexports.rest = function(source,operator,options) {\n\tvar count = parseInt(operator.operand) || 1,\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results.slice(count);\n};\nexports.butfirst = exports.rest;\nexports.bf = exports.rest;\n\n/*\nAll but the last entry/entries of the list\n*/\nexports.butlast = function(source,operator,options) {\n\tvar count = parseInt(operator.operand) || 1,\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results.slice(0,-count);\n};\nexports.bl = exports.butlast;\n\n/*\nThe nth member of the list\n*/\nexports.nth = function(source,operator,options) {\n\tvar count = parseInt(operator.operand) || 1,\n\t\tresults = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results.slice(count - 1,count);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/listops.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/modules.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/modules.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the titles of the modules of a given type in this wiki\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.modules = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\t$tw.utils.each($tw.modules.types[title],function(moduleInfo,moduleName) {\n\t\t\tresults.push(moduleName);\n\t\t});\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/modules.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/moduletypes.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/moduletypes.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the names of the module types in this wiki\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.moduletypes = function(source,operator,options) {\n\tvar results = [];\n\t$tw.utils.each($tw.modules.types,function(moduleInfo,type) {\n\t\tresults.push(type);\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/moduletypes.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/next.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/next.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning the tiddler whose title occurs next in the list supplied in the operand tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.next = function(source,operator,options) {\n\tvar results = [],\n\t\tlist = options.wiki.getTiddlerList(operator.operand);\n\tsource(function(tiddler,title) {\n\t\tvar match = list.indexOf(title);\n\t\t// increment match and then test if result is in range\n\t\tmatch++;\n\t\tif(match &gt; 0 &amp;&amp; match &lt; list.length) {\n\t\t\tresults.push(list[match]);\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/next.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/plugintiddlers.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/plugintiddlers.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the titles of the shadow tiddlers within a plugin\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.plugintiddlers = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tvar pluginInfo = options.wiki.getPluginInfo(title) || options.wiki.getTiddlerDataCached(title,{tiddlers:[]});\n\t\tif(pluginInfo &amp;&amp; pluginInfo.tiddlers) {\n\t\t\t$tw.utils.each(pluginInfo.tiddlers,function(fields,title) {\n\t\t\t\tresults.push(title);\n\t\t\t});\n\t\t}\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/plugintiddlers.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/prefix.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/prefix.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for checking if a title starts with a prefix\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.prefix = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title.substr(0,operator.operand.length) !== operator.operand) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title.substr(0,operator.operand.length) === operator.operand) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/prefix.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/previous.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/previous.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning the tiddler whose title occurs immediately prior in the list supplied in the operand tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.previous = function(source,operator,options) {\n\tvar results = [],\n\t\tlist = options.wiki.getTiddlerList(operator.operand);\n\tsource(function(tiddler,title) {\n\t\tvar match = list.indexOf(title);\n\t\t// increment match and then test if result is in range\n\t\tmatch--;\n\t\tif(match &gt;= 0) {\n\t\t\tresults.push(list[match]);\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/previous.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/regexp.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/regexp.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for regexp matching\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.regexp = function(source,operator,options) {\n\tvar results = [],\n\t\tfieldname = (operator.suffix || \&quot;title\&quot;).toLowerCase(),\n\t\tregexpString, regexp, flags = \&quot;\&quot;, match,\n\t\tgetFieldString = function(tiddler,title) {\n\t\t\tif(tiddler) {\n\t\t\t\treturn tiddler.getFieldString(fieldname);\n\t\t\t} else if(fieldname === \&quot;title\&quot;) {\n\t\t\t\treturn title;\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t};\n\t// Process flags and construct regexp\n\tregexpString = operator.operand;\n\tmatch = /^\\(\\?([gim]+)\\)/.exec(regexpString);\n\tif(match) {\n\t\tflags = match[1];\n\t\tregexpString = regexpString.substr(match[0].length);\n\t} else {\n\t\tmatch = /\\(\\?([gim]+)\\)$/.exec(regexpString);\n\t\tif(match) {\n\t\t\tflags = match[1];\n\t\t\tregexpString = regexpString.substr(0,regexpString.length - match[0].length);\n\t\t}\n\t}\n\ttry {\n\t\tregexp = new RegExp(regexpString,flags);\n\t} catch(e) {\n\t\treturn [\&quot;\&quot; + e];\n\t}\n\t// Process the incoming tiddlers\n\tif(operator.prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tvar text = getFieldString(tiddler,title);\n\t\t\tif(text !== null) {\n\t\t\t\tif(!regexp.exec(text)) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tvar text = getFieldString(tiddler,title);\n\t\t\tif(text !== null) {\n\t\t\t\tif(!!regexp.exec(text)) {\n\t\t\t\t\tresults.push(title);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/regexp.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/removeprefix.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/removeprefix.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for removing a prefix from each title in the list. Titles that do not start with the prefix are removed.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.removeprefix = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tif(title.substr(0,operator.operand.length) === operator.operand) {\n\t\t\tresults.push(title.substr(operator.operand.length));\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/removeprefix.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/removesuffix.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/removesuffix.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for removing a suffix from each title in the list. Titles that do not end with the suffix are removed.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.removesuffix = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tif(title.substr(-operator.operand.length) === operator.operand) {\n\t\t\tresults.push(title.substr(0,title.length - operator.operand.length));\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/removesuffix.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/sameday.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/sameday.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator that selects tiddlers with a modified date field on the same day as the provided value.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.sameday = function(source,operator,options) {\n\tvar results = [],\n\t\tfieldName = operator.suffix || \&quot;modified\&quot;,\n\t\ttargetDate = (new Date($tw.utils.parseDate(operator.operand))).setHours(0,0,0,0);\n\t// Function to convert a date/time to a date integer\n\tvar isSameDay = function(dateField) {\n\t\t\treturn (new Date(dateField)).setHours(0,0,0,0) === targetDate;\n\t\t};\n\tsource(function(tiddler,title) {\n\t\tif(tiddler &amp;&amp; tiddler.fields[fieldName]) {\n\t\t\tif(isSameDay($tw.utils.parseDate(tiddler.fields[fieldName]))) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/sameday.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/search.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/search.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for searching for the text in the operand tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.search = function(source,operator,options) {\n\tvar invert = operator.prefix === \&quot;!\&quot;;\n\tif(operator.suffix) {\n\t\treturn options.wiki.search(operator.operand,{\n\t\t\tsource: source,\n\t\t\tinvert: invert,\n\t\t\tfield: operator.suffix\n\t\t});\n\t} else {\n\t\treturn options.wiki.search(operator.operand,{\n\t\t\tsource: source,\n\t\t\tinvert: invert\n\t\t});\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/search.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/shadowsource.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/shadowsource.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the source plugins for shadow tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.shadowsource = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tvar source = options.wiki.getShadowSource(title);\n\t\tif(source) {\n\t\t\t$tw.utils.pushTop(results,source);\n\t\t}\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/shadowsource.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/sort.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/sort.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for sorting\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.sort = function(source,operator,options) {\n\tvar results = prepare_results(source);\n\toptions.wiki.sortTiddlers(results,operator.operand || \&quot;title\&quot;,operator.prefix === \&quot;!\&quot;,false,false);\n\treturn results;\n};\n\nexports.nsort = function(source,operator,options) {\n\tvar results = prepare_results(source);\n\toptions.wiki.sortTiddlers(results,operator.operand || \&quot;title\&quot;,operator.prefix === \&quot;!\&quot;,false,true);\n\treturn results;\n};\n\nexports.sortcs = function(source,operator,options) {\n\tvar results = prepare_results(source);\n\toptions.wiki.sortTiddlers(results,operator.operand || \&quot;title\&quot;,operator.prefix === \&quot;!\&quot;,true,false);\n\treturn results;\n};\n\nexports.nsortcs = function(source,operator,options) {\n\tvar results = prepare_results(source);\n\toptions.wiki.sortTiddlers(results,operator.operand || \&quot;title\&quot;,operator.prefix === \&quot;!\&quot;,true,true);\n\treturn results;\n};\n\nvar prepare_results = function (source) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tresults.push(title);\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/sort.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/splitbefore.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/splitbefore.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator that splits each result on the first occurance of the specified separator and returns the unique values.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.splitbefore = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\tvar parts = title.split(operator.operand);\n\t\tif(parts.length === 1) {\n\t\t\t$tw.utils.pushTop(results,parts[0]);\n\t\t} else {\n\t\t\t$tw.utils.pushTop(results,parts[0] + operator.operand);\n\t\t}\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/splitbefore.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/storyviews.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/storyviews.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the names of the story views in this wiki\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.storyviews = function(source,operator,options) {\n\tvar results = [],\n\t\tstoryviews = {};\n\t$tw.modules.applyMethods(\&quot;storyview\&quot;,storyviews);\n\t$tw.utils.each(storyviews,function(info,name) {\n\t\tresults.push(name);\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/storyviews.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/suffix.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/suffix.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for checking if a title ends with a suffix\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.suffix = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title.substr(-operator.operand.length) !== operator.operand) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(title.substr(-operator.operand.length) === operator.operand) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/suffix.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/tag.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/tag.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for checking for the presence of a tag\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.tag = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; !tiddler.hasTag(operator.operand)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; tiddler.hasTag(operator.operand)) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t\tresults = options.wiki.sortByList(results,operator.operand);\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/tag.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/tagging.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/tagging.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning all tiddlers that are tagged with the selected tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.tagging = function(source,operator,options) {\n\tvar results = [];\n\tsource(function(tiddler,title) {\n\t\t$tw.utils.pushTop(results,options.wiki.getTiddlersWithTag(title));\n\t});\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/tagging.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/tags.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/tags.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning all the tags of the selected tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.tags = function(source,operator,options) {\n\tvar tags = {};\n\tsource(function(tiddler,title) {\n\t\tvar t, length;\n\t\tif(tiddler &amp;&amp; tiddler.fields.tags) {\n\t\t\tfor(t=0, length=tiddler.fields.tags.length; t&lt;length; t++) {\n\t\t\t\ttags[tiddler.fields.tags[t]] = true;\n\t\t\t}\n\t\t}\n\t});\n\treturn Object.keys(tags);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/tags.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/title.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/title.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for comparing title fields for equality\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.title = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; tiddler.fields.title !== operator.operand) {\n\t\t\t\tresults.push(title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tresults.push(operator.operand);\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/title.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/untagged.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/untagged.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator returning all the selected tiddlers that are untagged\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.untagged = function(source,operator,options) {\n\tvar results = [];\n\tif(operator.prefix === \&quot;!\&quot;) {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(tiddler &amp;&amp; $tw.utils.isArray(tiddler.fields.tags) &amp;&amp; tiddler.fields.tags.length &gt; 0) {\n\t\t\t\t$tw.utils.pushTop(results,title);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tsource(function(tiddler,title) {\n\t\t\tif(!tiddler || !tiddler.hasField(\&quot;tags\&quot;) || ($tw.utils.isArray(tiddler.fields.tags) &amp;&amp; tiddler.fields.tags.length === 0)) {\n\t\t\t\t$tw.utils.pushTop(results,title);\n\t\t\t}\n\t\t});\n\t}\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/untagged.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/wikiparserrules.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/wikiparserrules.js\ntype: application/javascript\nmodule-type: filteroperator\n\nFilter operator for returning the names of the wiki parser rules in this wiki\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nExport our filter function\n*/\nexports.wikiparserrules = function(source,operator,options) {\n\tvar results = [];\n\t$tw.utils.each($tw.modules.types.wikirule,function(mod) {\n\t\tvar exp = mod.exports;\n\t\tif(exp.types[operator.operand]) {\n\t\t\tresults.push(exp.name);\n\t\t}\n\t});\n\tresults.sort();\n\treturn results;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/wikiparserrules.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters/x-listops.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters/x-listops.js\ntype: application/javascript\nmodule-type: filteroperator\n\nExtended filter operators to manipulate the current list.\n\n\\*/\n(function () {\n\n    /*jslint node: true, browser: true */\n    /*global $tw: false */\n    \&quot;use strict\&quot;;\n\n    /*\n    Fetch titles from the current list\n    */\n    var prepare_results = function (source) {\n    var results = [];\n        source(function (tiddler, title) {\n            results.push(title);\n        });\n        return results;\n    };\n\n    /*\n    Moves a number of items from the tail of the current list before the item named in the operand\n    */\n    exports.putbefore = function (source, operator) {\n        var results = prepare_results(source),\n            index = results.indexOf(operator.operand),\n            count = parseInt(operator.suffix) || 1;\n        return (index === -1) ?\n            results.slice(0, -1) :\n            results.slice(0, index).concat(results.slice(-count)).concat(results.slice(index, -count));\n    };\n\n    /*\n    Moves a number of items from the tail of the current list after the item named in the operand\n    */\n    exports.putafter = function (source, operator) {\n        var results = prepare_results(source),\n            index = results.indexOf(operator.operand),\n            count = parseInt(operator.suffix) || 1;\n        return (index === -1) ?\n            results.slice(0, -1) :\n            results.slice(0, index + 1).concat(results.slice(-count)).concat(results.slice(index + 1, -count));\n    };\n\n    /*\n    Replaces the item named in the operand with a number of items from the tail of the current list\n    */\n    exports.replace = function (source, operator) {\n        var results = prepare_results(source),\n            index = results.indexOf(operator.operand),\n            count = parseInt(operator.suffix) || 1;\n        return (index === -1) ?\n            results.slice(0, -count) :\n            results.slice(0, index).concat(results.slice(-count)).concat(results.slice(index + 1, -count));\n    };\n\n    /*\n    Moves a number of items from the tail of the current list to the head of the list\n    */\n    exports.putfirst = function (source, operator) {\n        var results = prepare_results(source),\n            count = parseInt(operator.suffix) || 1;\n        return results.slice(-count).concat(results.slice(0, -count));\n    };\n\n    /*\n    Moves a number of items from the head of the current list to the tail of the list\n    */\n    exports.putlast = function (source, operator) {\n        var results = prepare_results(source),\n            count = parseInt(operator.suffix) || 1;\n        return results.slice(count).concat(results.slice(0, count));\n    };\n\n    /*\n    Moves the item named in the operand a number of places forward or backward in the list\n    */\n    exports.move = function (source, operator) {\n        var results = prepare_results(source),\n            index = results.indexOf(operator.operand),\n            count = parseInt(operator.suffix) || 1,\n            marker = results.splice(index, 1);\n        return results.slice(0, index + count).concat(marker).concat(results.slice(index + count));\n    };\n\n    /*\n    Returns the items from the current list that are after the item named in the operand\n    */\n    exports.allafter = function (source, operator) {\n        var results = prepare_results(source),\n            index = results.indexOf(operator.operand);\n        return (index === -1 || index &gt; (results.length - 2)) ? [] :\n            (operator.suffix) ? results.slice(index) :\n            results.slice(index + 1);\n    };\n\n    /*\n    Returns the items from the current list that are before the item named in the operand\n    */\n    exports.allbefore = function (source, operator) {\n        var results = prepare_results(source),\n            index = results.indexOf(operator.operand);\n        return (index &lt;= 0) ? [] :\n            (operator.suffix) ? results.slice(0, index + 1) :\n            results.slice(0, index);\n    };\n\n    /*\n    Appends the items listed in the operand array to the tail of the current list\n    */\n    exports.append = function (source, operator) {\n        var append = $tw.utils.parseStringArray(operator.operand, \&quot;true\&quot;),\n            results = prepare_results(source),\n            count = parseInt(operator.suffix) || append.length;\n        return (append.length === 0) ? results :\n            (operator.prefix) ? results.concat(append.slice(-count)) :\n            results.concat(append.slice(0, count));\n    };\n\n    /*\n    Prepends the items listed in the operand array to the head of the current list\n    */\n    exports.prepend = function (source, operator) {\n        var prepend = $tw.utils.parseStringArray(operator.operand, \&quot;true\&quot;),\n            results = prepare_results(source),\n            count = parseInt(operator.suffix) || prepend.length;\n        return (prepend.length === 0) ? results :\n            (operator.prefix) ? prepend.slice(-count).concat(results) :\n            prepend.slice(0, count).concat(results);\n    };\n\n    /*\n    Returns all items from the current list except the items listed in the operand array\n    */\n    exports.remove = function (source, operator) {\n        var array = $tw.utils.parseStringArray(operator.operand, \&quot;true\&quot;),\n            results = prepare_results(source),\n            count = parseInt(operator.suffix) || array.length,\n            p,\n            len,\n            index;\n        len = array.length - 1;\n        for (p = 0; p &lt; count; ++p) {\n            if (operator.prefix) {\n                index = results.indexOf(array[len - p]);\n            } else {\n                index = results.indexOf(array[p]);\n            }\n            if (index !== -1) {\n                results.splice(index, 1);\n            }\n        }\n        return results;\n    };\n\n    /*\n    Returns all items from the current list sorted in the order of the items in the operand array\n    */\n    exports.sortby = function (source, operator) {\n        var results = prepare_results(source);\n        if (!results || results.length &lt; 2) {\n            return results;\n        }\n        var lookup = $tw.utils.parseStringArray(operator.operand, \&quot;true\&quot;);\n        results.sort(function (a, b) {\n            return lookup.indexOf(a) - lookup.indexOf(b);\n        });\n        return results;\n    };\n\n    /*\n    Removes all duplicate items from the current list\n    */\n    exports.unique = function (source, operator) {\n        var results = prepare_results(source);\n        var set = results.reduce(function (a, b) {\n            if (a.indexOf(b) &lt; 0) {\n                a.push(b);\n            }\n            return a;\n        }, []);\n        return set;\n    };\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters/x-listops.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;filteroperator&quot;
        },
        &quot;$:/core/modules/filters.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/filters.js\ntype: application/javascript\nmodule-type: wikimethod\n\nAdds tiddler filtering methods to the $tw.Wiki object.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nParses an operation (i.e. a run) within a filter string\n\toperators: Array of array of operator nodes into which results should be inserted\n\tfilterString: filter string\n\tp: start position within the string\nReturns the new start position, after the parsed operation\n*/\nfunction parseFilterOperation(operators,filterString,p) {\n\tvar operator, operand, bracketPos, curlyBracketPos;\n\t// Skip the starting square bracket\n\tif(filterString.charAt(p++) !== \&quot;[\&quot;) {\n\t\tthrow \&quot;Missing [ in filter expression\&quot;;\n\t}\n\t// Process each operator in turn\n\tdo {\n\t\toperator = {};\n\t\t// Check for an operator prefix\n\t\tif(filterString.charAt(p) === \&quot;!\&quot;) {\n\t\t\toperator.prefix = filterString.charAt(p++);\n\t\t}\n\t\t// Get the operator name\n\t\tvar nextBracketPos = filterString.substring(p).search(/[\\[\\{&lt;\\/]/);\n\t\tif(nextBracketPos === -1) {\n\t\t\tthrow \&quot;Missing [ in filter expression\&quot;;\n\t\t}\n\t\tnextBracketPos += p;\n\t\tvar bracket = filterString.charAt(nextBracketPos);\n\t\toperator.operator = filterString.substring(p,nextBracketPos);\n\t\t\n\t\t// Any suffix?\n\t\tvar colon = operator.operator.indexOf(':');\n\t\tif(colon &gt; -1) {\n\t\t\toperator.suffix = operator.operator.substring(colon + 1);\n\t\t\toperator.operator = operator.operator.substring(0,colon) || \&quot;field\&quot;;\n\t\t}\n\t\t// Empty operator means: title\n\t\telse if(operator.operator === \&quot;\&quot;) {\n\t\t\toperator.operator = \&quot;title\&quot;;\n\t\t}\n\n\t\tp = nextBracketPos + 1;\n\t\tswitch (bracket) {\n\t\t\tcase \&quot;{\&quot;: // Curly brackets\n\t\t\t\toperator.indirect = true;\n\t\t\t\tnextBracketPos = filterString.indexOf(\&quot;}\&quot;,p);\n\t\t\t\tbreak;\n\t\t\tcase \&quot;[\&quot;: // Square brackets\n\t\t\t\tnextBracketPos = filterString.indexOf(\&quot;]\&quot;,p);\n\t\t\t\tbreak;\n\t\t\tcase \&quot;&lt;\&quot;: // Angle brackets\n\t\t\t\toperator.variable = true;\n\t\t\t\tnextBracketPos = filterString.indexOf(\&quot;&gt;\&quot;,p);\n\t\t\t\tbreak;\n\t\t\tcase \&quot;/\&quot;: // regexp brackets\n\t\t\t\tvar rex = /^((?:[^\\\\\\/]*|\\\\.)*)\\/(?:\\(([mygi]+)\\))?/g,\n\t\t\t\t\trexMatch = rex.exec(filterString.substring(p));\n\t\t\t\tif(rexMatch) {\n\t\t\t\t\toperator.regexp = new RegExp(rexMatch[1], rexMatch[2]);\n// DEPRECATION WARNING\nconsole.log(\&quot;WARNING: Filter\&quot;,operator.operator,\&quot;has a deprecated regexp operand\&quot;,operator.regexp);\n\t\t\t\t\tnextBracketPos = p + rex.lastIndex - 1;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthrow \&quot;Unterminated regular expression in filter expression\&quot;;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tif(nextBracketPos === -1) {\n\t\t\tthrow \&quot;Missing closing bracket in filter expression\&quot;;\n\t\t}\n\t\tif(!operator.regexp) {\n\t\t\toperator.operand = filterString.substring(p,nextBracketPos);\n\t\t}\n\t\tp = nextBracketPos + 1;\n\t\t\t\n\t\t// Push this operator\n\t\toperators.push(operator);\n\t} while(filterString.charAt(p) !== \&quot;]\&quot;);\n\t// Skip the ending square bracket\n\tif(filterString.charAt(p++) !== \&quot;]\&quot;) {\n\t\tthrow \&quot;Missing ] in filter expression\&quot;;\n\t}\n\t// Return the parsing position\n\treturn p;\n}\n\n/*\nParse a filter string\n*/\nexports.parseFilter = function(filterString) {\n\tfilterString = filterString || \&quot;\&quot;;\n\tvar results = [], // Array of arrays of operator nodes {operator:,operand:}\n\t\tp = 0, // Current position in the filter string\n\t\tmatch;\n\tvar whitespaceRegExp = /(\\s+)/mg,\n\t\toperandRegExp = /((?:\\+|\\-)?)(?:(\\[)|(?:\&quot;([^\&quot;]*)\&quot;)|(?:'([^']*)')|([^\\s\\[\\]]+))/mg;\n\twhile(p &lt; filterString.length) {\n\t\t// Skip any whitespace\n\t\twhitespaceRegExp.lastIndex = p;\n\t\tmatch = whitespaceRegExp.exec(filterString);\n\t\tif(match &amp;&amp; match.index === p) {\n\t\t\tp = p + match[0].length;\n\t\t}\n\t\t// Match the start of the operation\n\t\tif(p &lt; filterString.length) {\n\t\t\toperandRegExp.lastIndex = p;\n\t\t\tmatch = operandRegExp.exec(filterString);\n\t\t\tif(!match || match.index !== p) {\n\t\t\t\tthrow \&quot;Syntax error in filter expression\&quot;;\n\t\t\t}\n\t\t\tvar operation = {\n\t\t\t\tprefix: \&quot;\&quot;,\n\t\t\t\toperators: []\n\t\t\t};\n\t\t\tif(match[1]) {\n\t\t\t\toperation.prefix = match[1];\n\t\t\t\tp++;\n\t\t\t}\n\t\t\tif(match[2]) { // Opening square bracket\n\t\t\t\tp = parseFilterOperation(operation.operators,filterString,p);\n\t\t\t} else {\n\t\t\t\tp = match.index + match[0].length;\n\t\t\t}\n\t\t\tif(match[3] || match[4] || match[5]) { // Double quoted string, single quoted string or unquoted title\n\t\t\t\toperation.operators.push(\n\t\t\t\t\t{operator: \&quot;title\&quot;, operand: match[3] || match[4] || match[5]}\n\t\t\t\t);\n\t\t\t}\n\t\t\tresults.push(operation);\n\t\t}\n\t}\n\treturn results;\n};\n\nexports.getFilterOperators = function() {\n\tif(!this.filterOperators) {\n\t\t$tw.Wiki.prototype.filterOperators = {};\n\t\t$tw.modules.applyMethods(\&quot;filteroperator\&quot;,this.filterOperators);\n\t}\n\treturn this.filterOperators;\n};\n\nexports.filterTiddlers = function(filterString,widget,source) {\n\tvar fn = this.compileFilter(filterString);\n\treturn fn.call(this,source,widget);\n};\n\n/*\nCompile a filter into a function with the signature fn(source,widget) where:\nsource: an iterator function for the source tiddlers, called source(iterator), where iterator is called as iterator(tiddler,title)\nwidget: an optional widget node for retrieving the current tiddler etc.\n*/\nexports.compileFilter = function(filterString) {\n\tvar filterParseTree;\n\ttry {\n\t\tfilterParseTree = this.parseFilter(filterString);\n\t} catch(e) {\n\t\treturn function(source,widget) {\n\t\t\treturn [\&quot;Filter error: \&quot; + e];\n\t\t};\n\t}\n\t// Get the hashmap of filter operator functions\n\tvar filterOperators = this.getFilterOperators();\n\t// Assemble array of functions, one for each operation\n\tvar operationFunctions = [];\n\t// Step through the operations\n\tvar self = this;\n\t$tw.utils.each(filterParseTree,function(operation) {\n\t\t// Create a function for the chain of operators in the operation\n\t\tvar operationSubFunction = function(source,widget) {\n\t\t\tvar accumulator = source,\n\t\t\t\tresults = [],\n\t\t\t\tcurrTiddlerTitle = widget &amp;&amp; widget.getVariable(\&quot;currentTiddler\&quot;);\n\t\t\t$tw.utils.each(operation.operators,function(operator) {\n\t\t\t\tvar operand = operator.operand,\n\t\t\t\t\toperatorFunction;\n\t\t\t\tif(!operator.operator) {\n\t\t\t\t\toperatorFunction = filterOperators.title;\n\t\t\t\t} else if(!filterOperators[operator.operator]) {\n\t\t\t\t\toperatorFunction = filterOperators.field;\n\t\t\t\t} else {\n\t\t\t\t\toperatorFunction = filterOperators[operator.operator];\n\t\t\t\t}\n\t\t\t\tif(operator.indirect) {\n\t\t\t\t\toperand = self.getTextReference(operator.operand,\&quot;\&quot;,currTiddlerTitle);\n\t\t\t\t}\n\t\t\t\tif(operator.variable) {\n\t\t\t\t\toperand = widget.getVariable(operator.operand,{defaultValue: \&quot;\&quot;});\n\t\t\t\t}\n\t\t\t\t// Invoke the appropriate filteroperator module\n\t\t\t\tresults = operatorFunction(accumulator,{\n\t\t\t\t\t\t\toperator: operator.operator,\n\t\t\t\t\t\t\toperand: operand,\n\t\t\t\t\t\t\tprefix: operator.prefix,\n\t\t\t\t\t\t\tsuffix: operator.suffix,\n\t\t\t\t\t\t\tregexp: operator.regexp\n\t\t\t\t\t\t},{\n\t\t\t\t\t\t\twiki: self,\n\t\t\t\t\t\t\twidget: widget\n\t\t\t\t\t\t});\n\t\t\t\tif($tw.utils.isArray(results)) {\n\t\t\t\t\taccumulator = self.makeTiddlerIterator(results);\n\t\t\t\t} else {\n\t\t\t\t\taccumulator = results;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif($tw.utils.isArray(results)) {\n\t\t\t\treturn results;\n\t\t\t} else {\n\t\t\t\tvar resultArray = [];\n\t\t\t\tresults(function(tiddler,title) {\n\t\t\t\t\tresultArray.push(title);\n\t\t\t\t});\n\t\t\t\treturn resultArray;\n\t\t\t}\n\t\t};\n\t\t// Wrap the operator functions in a wrapper function that depends on the prefix\n\t\toperationFunctions.push((function() {\n\t\t\tswitch(operation.prefix || \&quot;\&quot;) {\n\t\t\t\tcase \&quot;\&quot;: // No prefix means that the operation is unioned into the result\n\t\t\t\t\treturn function(results,source,widget) {\n\t\t\t\t\t\t$tw.utils.pushTop(results,operationSubFunction(source,widget));\n\t\t\t\t\t};\n\t\t\t\tcase \&quot;-\&quot;: // The results of this operation are removed from the main result\n\t\t\t\t\treturn function(results,source,widget) {\n\t\t\t\t\t\t$tw.utils.removeArrayEntries(results,operationSubFunction(source,widget));\n\t\t\t\t\t};\n\t\t\t\tcase \&quot;+\&quot;: // This operation is applied to the main results so far\n\t\t\t\t\treturn function(results,source,widget) {\n\t\t\t\t\t\t// This replaces all the elements of the array, but keeps the actual array so that references to it are preserved\n\t\t\t\t\t\tsource = self.makeTiddlerIterator(results);\n\t\t\t\t\t\tresults.splice(0,results.length);\n\t\t\t\t\t\t$tw.utils.pushTop(results,operationSubFunction(source,widget));\n\t\t\t\t\t};\n\t\t\t}\n\t\t})());\n\t});\n\t// Return a function that applies the operations to a source iterator of tiddler titles\n\treturn $tw.perf.measure(\&quot;filter\&quot;,function filterFunction(source,widget) {\n\t\tif(!source) {\n\t\t\tsource = self.each;\n\t\t} else if(typeof source === \&quot;object\&quot;) { // Array or hashmap\n\t\t\tsource = self.makeTiddlerIterator(source);\n\t\t}\n\t\tvar results = [];\n\t\t$tw.utils.each(operationFunctions,function(operationFunction) {\n\t\t\toperationFunction(results,source,widget);\n\t\t});\n\t\treturn results;\n\t});\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/filters.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikimethod&quot;
        },
        &quot;$:/core/modules/info/platform.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/info/platform.js\ntype: application/javascript\nmodule-type: info\n\nInitialise basic platform $:/info/ tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.getInfoTiddlerFields = function() {\n\tvar mapBoolean = function(value) {return value ? \&quot;yes\&quot; : \&quot;no\&quot;;},\n\t\tinfoTiddlerFields = [];\n\t// Basics\n\tinfoTiddlerFields.push({title: \&quot;$:/info/browser\&quot;, text: mapBoolean(!!$tw.browser)});\n\tinfoTiddlerFields.push({title: \&quot;$:/info/node\&quot;, text: mapBoolean(!!$tw.node)});\n\treturn infoTiddlerFields;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/info/platform.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;info&quot;
        },
        &quot;$:/core/modules/language.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/language.js\ntype: application/javascript\nmodule-type: global\n\nThe $tw.Language() manages translateable strings\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nCreate an instance of the language manager. Options include:\nwiki: wiki from which to retrieve translation tiddlers\n*/\nfunction Language(options) {\n\toptions = options || \&quot;\&quot;;\n\tthis.wiki = options.wiki || $tw.wiki;\n}\n\n/*\nReturn a wikified translateable string. The title is automatically prefixed with \&quot;$:/language/\&quot;\nOptions include:\nvariables: optional hashmap of variables to supply to the language wikification\n*/\nLanguage.prototype.getString = function(title,options) {\n\toptions = options || {};\n\ttitle = \&quot;$:/language/\&quot; + title;\n\treturn this.wiki.renderTiddler(\&quot;text/plain\&quot;,title,{variables: options.variables});\n};\n\n/*\nReturn a raw, unwikified translateable string. The title is automatically prefixed with \&quot;$:/language/\&quot;\n*/\nLanguage.prototype.getRawString = function(title) {\n\ttitle = \&quot;$:/language/\&quot; + title;\n\treturn this.wiki.getTiddlerText(title);\n};\n\nexports.Language = Language;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/language.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;global&quot;
        },
        &quot;$:/core/modules/macros/changecount.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/macros/changecount.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to return the changecount for the current tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nInformation about this macro\n*/\n\nexports.name = \&quot;changecount\&quot;;\n\nexports.params = [];\n\n/*\nRun the macro\n*/\nexports.run = function() {\n\treturn this.wiki.getChangeCount(this.getVariable(\&quot;currentTiddler\&quot;)) + \&quot;\&quot;;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/macros/changecount.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;macro&quot;
        },
        &quot;$:/core/modules/macros/contrastcolour.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/macros/contrastcolour.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to choose which of two colours has the highest contrast with a base colour\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nInformation about this macro\n*/\n\nexports.name = \&quot;contrastcolour\&quot;;\n\nexports.params = [\n\t{name: \&quot;target\&quot;},\n\t{name: \&quot;fallbackTarget\&quot;},\n\t{name: \&quot;colourA\&quot;},\n\t{name: \&quot;colourB\&quot;}\n];\n\n/*\nRun the macro\n*/\nexports.run = function(target,fallbackTarget,colourA,colourB) {\n\tvar rgbTarget = $tw.utils.parseCSSColor(target) || $tw.utils.parseCSSColor(fallbackTarget);\n\tif(!rgbTarget) {\n\t\treturn colourA;\n\t}\n\tvar rgbColourA = $tw.utils.parseCSSColor(colourA),\n\t\trgbColourB = $tw.utils.parseCSSColor(colourB);\n\tif(rgbColourA &amp;&amp; !rgbColourB) {\n\t\treturn rgbColourA;\n\t}\n\tif(rgbColourB &amp;&amp; !rgbColourA) {\n\t\treturn rgbColourB;\n\t}\n\tif(!rgbColourA &amp;&amp; !rgbColourB) {\n\t\t// If neither colour is readable, return a crude inverse of the target\n\t\treturn [255 - rgbTarget[0],255 - rgbTarget[1],255 - rgbTarget[2],rgbTarget[3]];\n\t}\n\t// Colour brightness formula derived from http://www.w3.org/WAI/ER/WD-AERT/#color-contrast\n\tvar brightnessTarget = rgbTarget[0] * 0.299 + rgbTarget[1] * 0.587 + rgbTarget[2] * 0.114,\n\t\tbrightnessA = rgbColourA[0] * 0.299 + rgbColourA[1] * 0.587 + rgbColourA[2] * 0.114,\n\t\tbrightnessB = rgbColourB[0] * 0.299 + rgbColourB[1] * 0.587 + rgbColourB[2] * 0.114;\n\treturn Math.abs(brightnessTarget - brightnessA) &gt; Math.abs(brightnessTarget - brightnessB) ? colourA : colourB;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/macros/contrastcolour.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;macro&quot;
        },
        &quot;$:/core/modules/macros/csvtiddlers.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/macros/csvtiddlers.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to output tiddlers matching a filter to CSV\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nInformation about this macro\n*/\n\nexports.name = \&quot;csvtiddlers\&quot;;\n\nexports.params = [\n\t{name: \&quot;filter\&quot;},\n\t{name: \&quot;format\&quot;},\n];\n\n/*\nRun the macro\n*/\nexports.run = function(filter,format) {\n\tvar self = this,\n\t\ttiddlers = this.wiki.filterTiddlers(filter),\n\t\ttiddler,\n\t\tfields = [],\n\t\tt,f;\n\t// Collect all the fields\n\tfor(t=0;t&lt;tiddlers.length; t++) {\n\t\ttiddler = this.wiki.getTiddler(tiddlers[t]);\n\t\tfor(f in tiddler.fields) {\n\t\t\tif(fields.indexOf(f) === -1) {\n\t\t\t\tfields.push(f);\n\t\t\t}\n\t\t}\n\t}\n\t// Sort the fields and bring the standard ones to the front\n\tfields.sort();\n\t\&quot;title text modified modifier created creator\&quot;.split(\&quot; \&quot;).reverse().forEach(function(value,index) {\n\t\tvar p = fields.indexOf(value);\n\t\tif(p !== -1) {\n\t\t\tfields.splice(p,1);\n\t\t\tfields.unshift(value)\n\t\t}\n\t});\n\t// Output the column headings\n\tvar output = [], row = [];\n\tfields.forEach(function(value) {\n\t\trow.push(quoteAndEscape(value))\n\t});\n\toutput.push(row.join(\&quot;,\&quot;));\n\t// Output each tiddler\n\tfor(var t=0;t&lt;tiddlers.length; t++) {\n\t\trow = [];\n\t\ttiddler = this.wiki.getTiddler(tiddlers[t]);\n\t\t\tfor(f=0; f&lt;fields.length; f++) {\n\t\t\t\trow.push(quoteAndEscape(tiddler ? tiddler.getFieldString(fields[f]) || \&quot;\&quot; : \&quot;\&quot;));\n\t\t\t}\n\t\toutput.push(row.join(\&quot;,\&quot;));\n\t}\n\treturn output.join(\&quot;\\n\&quot;);\n};\n\nfunction quoteAndEscape(value) {\n\treturn \&quot;\\\&quot;\&quot; + value.replace(/\&quot;/mg,\&quot;\\\&quot;\\\&quot;\&quot;) + \&quot;\\\&quot;\&quot;;\n}\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/macros/csvtiddlers.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;macro&quot;
        },
        &quot;$:/core/modules/macros/dumpvariables.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/macros/dumpvariables.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to dump all active variable values\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nInformation about this macro\n*/\n\nexports.name = \&quot;dumpvariables\&quot;;\n\nexports.params = [\n];\n\n/*\nRun the macro\n*/\nexports.run = function() {\n\tvar output = [\&quot;|!Variable |!Value |\&quot;],\n\t\tvariables = [], variable;\n\tfor(variable in this.variables) {\n\t\tvariables.push(variable);\n\t}\n\tvariables.sort();\n\tfor(var index=0; index&lt;variables.length; index++) {\n\t\tvar variable = variables[index];\n\t\toutput.push(\&quot;|\&quot; + variable + \&quot; |&lt;input size=50 value=&lt;&lt;\&quot; + variable + \&quot;&gt;&gt;/&gt; |\&quot;)\n\t}\n\treturn output.join(\&quot;\\n\&quot;);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/macros/dumpvariables.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;macro&quot;
        },
        &quot;$:/core/modules/macros/jsontiddlers.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/macros/jsontiddlers.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to output tiddlers matching a filter to JSON\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nInformation about this macro\n*/\n\nexports.name = \&quot;jsontiddlers\&quot;;\n\nexports.params = [\n\t{name: \&quot;filter\&quot;}\n];\n\n/*\nRun the macro\n*/\nexports.run = function(filter) {\n\tvar tiddlers = this.wiki.filterTiddlers(filter),\n\t\tdata = [];\n\tfor(var t=0;t&lt;tiddlers.length; t++) {\n\t\tvar tiddler = this.wiki.getTiddler(tiddlers[t]);\n\t\tif(tiddler) {\n\t\t\tvar fields = new Object();\n\t\t\tfor(var field in tiddler.fields) {\n\t\t\t\tfields[field] = tiddler.getFieldString(field);\n\t\t\t}\n\t\t\tdata.push(fields);\n\t\t}\n\t}\n\treturn JSON.stringify(data,null,$tw.config.preferences.jsonSpaces);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/macros/jsontiddlers.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;macro&quot;
        },
        &quot;$:/core/modules/macros/makedatauri.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/macros/makedatauri.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to convert the content of a tiddler to a data URI\n\n&lt;&lt;makedatauri text:\&quot;Text to be converted\&quot; type:\&quot;text/vnd.tiddlywiki\&quot;&gt;&gt;\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nInformation about this macro\n*/\n\nexports.name = \&quot;makedatauri\&quot;;\n\nexports.params = [\n\t{name: \&quot;text\&quot;},\n\t{name: \&quot;type\&quot;}\n];\n\n/*\nRun the macro\n*/\nexports.run = function(text,type) {\n\treturn $tw.utils.makeDataUri(text,type);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/macros/makedatauri.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;macro&quot;
        },
        &quot;$:/core/modules/macros/now.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/macros/now.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to return a formatted version of the current time\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nInformation about this macro\n*/\n\nexports.name = \&quot;now\&quot;;\n\nexports.params = [\n\t{name: \&quot;format\&quot;}\n];\n\n/*\nRun the macro\n*/\nexports.run = function(format) {\n\treturn $tw.utils.formatDateString(new Date(),format || \&quot;0hh:0mm, DDth MMM YYYY\&quot;);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/macros/now.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;macro&quot;
        },
        &quot;$:/core/modules/macros/qualify.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/macros/qualify.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to qualify a state tiddler title according\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nInformation about this macro\n*/\n\nexports.name = \&quot;qualify\&quot;;\n\nexports.params = [\n\t{name: \&quot;title\&quot;}\n];\n\n/*\nRun the macro\n*/\nexports.run = function(title) {\n\treturn title + \&quot;-\&quot; + this.getStateQualifier();\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/macros/qualify.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;macro&quot;
        },
        &quot;$:/core/modules/macros/resolvepath.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/macros/resolvepath.js\ntype: application/javascript\nmodule-type: macro\n\nResolves a relative path for an absolute rootpath.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;resolvepath\&quot;;\n\nexports.params = [\n\t{name: \&quot;source\&quot;},\n\t{name: \&quot;root\&quot;}\n];\n\n/*\nRun the macro\n*/\nexports.run = function(source, root) {\n\treturn $tw.utils.resolvePath(source, root);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/macros/resolvepath.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;macro&quot;
        },
        &quot;$:/core/modules/macros/version.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/macros/version.js\ntype: application/javascript\nmodule-type: macro\n\nMacro to return the TiddlyWiki core version number\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nInformation about this macro\n*/\n\nexports.name = \&quot;version\&quot;;\n\nexports.params = [];\n\n/*\nRun the macro\n*/\nexports.run = function() {\n\treturn $tw.version;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/macros/version.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;macro&quot;
        },
        &quot;$:/core/modules/parsers/audioparser.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/audioparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe audio parser parses an audio tiddler into an embeddable HTML element\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar AudioParser = function(type,text,options) {\n\tvar element = {\n\t\t\ttype: \&quot;element\&quot;,\n\t\t\ttag: \&quot;audio\&quot;,\n\t\t\tattributes: {\n\t\t\t\tcontrols: {type: \&quot;string\&quot;, value: \&quot;controls\&quot;}\n\t\t\t}\n\t\t},\n\t\tsrc;\n\tif(options._canonical_uri) {\n\t\telement.attributes.src = {type: \&quot;string\&quot;, value: options._canonical_uri};\n\t} else if(text) {\n\t\telement.attributes.src = {type: \&quot;string\&quot;, value: \&quot;data:\&quot; + type + \&quot;;base64,\&quot; + text};\n\t}\n\tthis.tree = [element];\n};\n\nexports[\&quot;audio/ogg\&quot;] = AudioParser;\nexports[\&quot;audio/mpeg\&quot;] = AudioParser;\nexports[\&quot;audio/mp3\&quot;] = AudioParser;\nexports[\&quot;audio/mp4\&quot;] = AudioParser;\n\n})();\n\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/audioparser.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;parser&quot;
        },
        &quot;$:/core/modules/parsers/csvparser.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/csvparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe CSV text parser processes CSV files into a table wrapped in a scrollable widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar CsvParser = function(type,text,options) {\n\t// Table framework\n\tthis.tree = [{\n\t\t\&quot;type\&quot;: \&quot;scrollable\&quot;, \&quot;children\&quot;: [{\n\t\t\t\&quot;type\&quot;: \&quot;element\&quot;, \&quot;tag\&quot;: \&quot;table\&quot;, \&quot;children\&quot;: [{\n\t\t\t\t\&quot;type\&quot;: \&quot;element\&quot;, \&quot;tag\&quot;: \&quot;tbody\&quot;, \&quot;children\&quot;: []\n\t\t\t}], \&quot;attributes\&quot;: {\n\t\t\t\t\&quot;class\&quot;: {\&quot;type\&quot;: \&quot;string\&quot;, \&quot;value\&quot;: \&quot;tc-csv-table\&quot;}\n\t\t\t}\n\t\t}]\n\t}];\n\t// Split the text into lines\n\tvar lines = text.split(/\\r?\\n/mg),\n\t\ttag = \&quot;th\&quot;;\n\tfor(var line=0; line&lt;lines.length; line++) {\n\t\tvar lineText = lines[line];\n\t\tif(lineText) {\n\t\t\tvar row = {\n\t\t\t\t\t\&quot;type\&quot;: \&quot;element\&quot;, \&quot;tag\&quot;: \&quot;tr\&quot;, \&quot;children\&quot;: []\n\t\t\t\t};\n\t\t\tvar columns = lineText.split(\&quot;,\&quot;);\n\t\t\tfor(var column=0; column&lt;columns.length; column++) {\n\t\t\t\trow.children.push({\n\t\t\t\t\t\t\&quot;type\&quot;: \&quot;element\&quot;, \&quot;tag\&quot;: tag, \&quot;children\&quot;: [{\n\t\t\t\t\t\t\t\&quot;type\&quot;: \&quot;text\&quot;,\n\t\t\t\t\t\t\t\&quot;text\&quot;: columns[column]\n\t\t\t\t\t\t}]\n\t\t\t\t\t});\n\t\t\t}\n\t\t\ttag = \&quot;td\&quot;;\n\t\t\tthis.tree[0].children[0].children[0].children.push(row);\n\t\t}\n\t}\n};\n\nexports[\&quot;text/csv\&quot;] = CsvParser;\n\n})();\n\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/csvparser.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;parser&quot;
        },
        &quot;$:/core/modules/parsers/htmlparser.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/htmlparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe HTML parser displays text as raw HTML\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar HtmlParser = function(type,text,options) {\n\tvar src;\n\tif(options._canonical_uri) {\n\t\tsrc = options._canonical_uri;\n\t} else if(text) {\n\t\tsrc = \&quot;data:text/html;charset=utf-8,\&quot; + encodeURIComponent(text);\n\t}\n\tthis.tree = [{\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;iframe\&quot;,\n\t\tattributes: {\n\t\t\tsrc: {type: \&quot;string\&quot;, value: src},\n\t\t\tsandbox: {type: \&quot;string\&quot;, value: \&quot;sandbox\&quot;}\n\t\t}\n\t}];\n};\n\nexports[\&quot;text/html\&quot;] = HtmlParser;\n\n})();\n\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/htmlparser.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;parser&quot;
        },
        &quot;$:/core/modules/parsers/imageparser.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/imageparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe image parser parses an image into an embeddable HTML element\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar ImageParser = function(type,text,options) {\n\tvar element = {\n\t\t\ttype: \&quot;element\&quot;,\n\t\t\ttag: \&quot;img\&quot;,\n\t\t\tattributes: {}\n\t\t},\n\t\tsrc;\n\tif(options._canonical_uri) {\n\t\telement.attributes.src = {type: \&quot;string\&quot;, value: options._canonical_uri};\n\t\tif(type === \&quot;application/pdf\&quot; || type === \&quot;.pdf\&quot;) {\n\t\t\telement.tag = \&quot;embed\&quot;;\n\t\t}\n\t} else if(text) {\n\t\tif(type === \&quot;application/pdf\&quot; || type === \&quot;.pdf\&quot;) {\n\t\t\telement.attributes.src = {type: \&quot;string\&quot;, value: \&quot;data:application/pdf;base64,\&quot; + text};\n\t\t\telement.tag = \&quot;embed\&quot;;\n\t\t} else if(type === \&quot;image/svg+xml\&quot; || type === \&quot;.svg\&quot;) {\n\t\t\telement.attributes.src = {type: \&quot;string\&quot;, value: \&quot;data:image/svg+xml,\&quot; + encodeURIComponent(text)};\n\t\t} else {\n\t\t\telement.attributes.src = {type: \&quot;string\&quot;, value: \&quot;data:\&quot; + type + \&quot;;base64,\&quot; + text};\n\t\t}\n\t}\n\tthis.tree = [element];\n};\n\nexports[\&quot;image/svg+xml\&quot;] = ImageParser;\nexports[\&quot;image/jpg\&quot;] = ImageParser;\nexports[\&quot;image/jpeg\&quot;] = ImageParser;\nexports[\&quot;image/png\&quot;] = ImageParser;\nexports[\&quot;image/gif\&quot;] = ImageParser;\nexports[\&quot;application/pdf\&quot;] = ImageParser;\nexports[\&quot;image/x-icon\&quot;] = ImageParser;\n\n})();\n\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/imageparser.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;parser&quot;
        },
        &quot;$:/core/modules/utils/parseutils.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/parseutils.js\ntype: application/javascript\nmodule-type: utils\n\nUtility functions concerned with parsing text into tokens.\n\nMost functions have the following pattern:\n\n* The parameters are:\n** `source`: the source string being parsed\n** `pos`: the current parse position within the string\n** Any further parameters are used to identify the token that is being parsed\n* The return value is:\n** null if the token was not found at the specified position\n** an object representing the token with the following standard fields:\n*** `type`: string indicating the type of the token\n*** `start`: start position of the token in the source string\n*** `end`: end position of the token in the source string\n*** Any further fields required to describe the token\n\nThe exception is `skipWhiteSpace`, which just returns the position after the whitespace.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nLook for a whitespace token. Returns null if not found, otherwise returns {type: \&quot;whitespace\&quot;, start:, end:,}\n*/\nexports.parseWhiteSpace = function(source,pos) {\n\tvar p = pos,c;\n\twhile(true) {\n\t\tc = source.charAt(p);\n\t\tif((c === \&quot; \&quot;) || (c === \&quot;\\f\&quot;) || (c === \&quot;\\n\&quot;) || (c === \&quot;\\r\&quot;) || (c === \&quot;\\t\&quot;) || (c === \&quot;\\v\&quot;) || (c === \&quot;\\u00a0\&quot;)) { // Ignores some obscure unicode spaces\n\t\t\tp++;\n\t\t} else {\n\t\t\tbreak;\n\t\t}\n\t}\n\tif(p === pos) {\n\t\treturn null;\n\t} else {\n\t\treturn {\n\t\t\ttype: \&quot;whitespace\&quot;,\n\t\t\tstart: pos,\n\t\t\tend: p\n\t\t}\n\t}\n};\n\n/*\nConvenience wrapper for parseWhiteSpace. Returns the position after the whitespace\n*/\nexports.skipWhiteSpace = function(source,pos) {\n\tvar c;\n\twhile(true) {\n\t\tc = source.charAt(pos);\n\t\tif((c === \&quot; \&quot;) || (c === \&quot;\\f\&quot;) || (c === \&quot;\\n\&quot;) || (c === \&quot;\\r\&quot;) || (c === \&quot;\\t\&quot;) || (c === \&quot;\\v\&quot;) || (c === \&quot;\\u00a0\&quot;)) { // Ignores some obscure unicode spaces\n\t\t\tpos++;\n\t\t} else {\n\t\t\treturn pos;\n\t\t}\n\t}\n};\n\n/*\nLook for a given string token. Returns null if not found, otherwise returns {type: \&quot;token\&quot;, value:, start:, end:,}\n*/\nexports.parseTokenString = function(source,pos,token) {\n\tvar match = source.indexOf(token,pos) === pos;\n\tif(match) {\n\t\treturn {\n\t\t\ttype: \&quot;token\&quot;,\n\t\t\tvalue: token,\n\t\t\tstart: pos,\n\t\t\tend: pos + token.length\n\t\t};\n\t}\n\treturn null;\n};\n\n/*\nLook for a token matching a regex. Returns null if not found, otherwise returns {type: \&quot;regexp\&quot;, match:, start:, end:,}\n*/\nexports.parseTokenRegExp = function(source,pos,reToken) {\n\tvar node = {\n\t\ttype: \&quot;regexp\&quot;,\n\t\tstart: pos\n\t};\n\treToken.lastIndex = pos;\n\tnode.match = reToken.exec(source);\n\tif(node.match &amp;&amp; node.match.index === pos) {\n\t\tnode.end = pos + node.match[0].length;\n\t\treturn node;\n\t} else {\n\t\treturn null;\n\t}\n};\n\n/*\nLook for a string literal. Returns null if not found, otherwise returns {type: \&quot;string\&quot;, value:, start:, end:,}\n*/\nexports.parseStringLiteral = function(source,pos) {\n\tvar node = {\n\t\ttype: \&quot;string\&quot;,\n\t\tstart: pos\n\t};\n\tvar reString = /(?:\&quot;\&quot;\&quot;([\\s\\S]*?)\&quot;\&quot;\&quot;|\&quot;([^\&quot;]*)\&quot;)|(?:'([^']*)')/g;\n\treString.lastIndex = pos;\n\tvar match = reString.exec(source);\n\tif(match &amp;&amp; match.index === pos) {\n\t\tnode.value = match[1] !== undefined ? match[1] :(\n\t\t\tmatch[2] !== undefined ? match[2] : match[3] \n\t\t\t\t\t);\n\t\tnode.end = pos + match[0].length;\n\t\treturn node;\n\t} else {\n\t\treturn null;\n\t}\n};\n\n/*\nLook for a macro invocation parameter. Returns null if not found, or {type: \&quot;macro-parameter\&quot;, name:, value:, start:, end:}\n*/\nexports.parseMacroParameter = function(source,pos) {\n\tvar node = {\n\t\ttype: \&quot;macro-parameter\&quot;,\n\t\tstart: pos\n\t};\n\t// Define our regexp\n\tvar reMacroParameter = /(?:([A-Za-z0-9\\-_]+)\\s*:)?(?:\\s*(?:\&quot;\&quot;\&quot;([\\s\\S]*?)\&quot;\&quot;\&quot;|\&quot;([^\&quot;]*)\&quot;|'([^']*)'|\\[\\[([^\\]]*)\\]\\]|([^\\s&gt;\&quot;'=]+)))/g;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for the parameter\n\tvar token = $tw.utils.parseTokenRegExp(source,pos,reMacroParameter);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Get the parameter details\n\tnode.value = token.match[2] !== undefined ? token.match[2] : (\n\t\t\t\t\ttoken.match[3] !== undefined ? token.match[3] : (\n\t\t\t\t\t\ttoken.match[4] !== undefined ? token.match[4] : (\n\t\t\t\t\t\t\ttoken.match[5] !== undefined ? token.match[5] : (\n\t\t\t\t\t\t\t\ttoken.match[6] !== undefined ? token.match[6] : (\n\t\t\t\t\t\t\t\t\t\&quot;\&quot;\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\tif(token.match[1]) {\n\t\tnode.name = token.match[1];\n\t}\n\t// Update the end position\n\tnode.end = pos;\n\treturn node;\n};\n\n/*\nLook for a macro invocation. Returns null if not found, or {type: \&quot;macrocall\&quot;, name:, parameters:, start:, end:}\n*/\nexports.parseMacroInvocation = function(source,pos) {\n\tvar node = {\n\t\ttype: \&quot;macrocall\&quot;,\n\t\tstart: pos,\n\t\tparams: []\n\t};\n\t// Define our regexps\n\tvar reMacroName = /([^\\s&gt;\&quot;'=]+)/g;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for a double less than sign\n\tvar token = $tw.utils.parseTokenString(source,pos,\&quot;&lt;&lt;\&quot;);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Get the macro name\n\tvar name = $tw.utils.parseTokenRegExp(source,pos,reMacroName);\n\tif(!name) {\n\t\treturn null;\n\t}\n\tnode.name = name.match[1];\n\tpos = name.end;\n\t// Process parameters\n\tvar parameter = $tw.utils.parseMacroParameter(source,pos);\n\twhile(parameter) {\n\t\tnode.params.push(parameter);\n\t\tpos = parameter.end;\n\t\t// Get the next parameter\n\t\tparameter = $tw.utils.parseMacroParameter(source,pos);\n\t}\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for a double greater than sign\n\ttoken = $tw.utils.parseTokenString(source,pos,\&quot;&gt;&gt;\&quot;);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Update the end position\n\tnode.end = pos;\n\treturn node;\n};\n\n/*\nLook for an HTML attribute definition. Returns null if not found, otherwise returns {type: \&quot;attribute\&quot;, name:, valueType: \&quot;string|indirect|macro\&quot;, value:, start:, end:,}\n*/\nexports.parseAttribute = function(source,pos) {\n\tvar node = {\n\t\tstart: pos\n\t};\n\t// Define our regexps\n\tvar reAttributeName = /([^\\/\\s&gt;\&quot;'=]+)/g,\n\t\treUnquotedAttribute = /([^\\/\\s&lt;&gt;\&quot;'=]+)/g,\n\t\treIndirectValue = /\\{\\{([^\\}]+)\\}\\}/g;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Get the attribute name\n\tvar name = $tw.utils.parseTokenRegExp(source,pos,reAttributeName);\n\tif(!name) {\n\t\treturn null;\n\t}\n\tnode.name = name.match[1];\n\tpos = name.end;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for an equals sign\n\tvar token = $tw.utils.parseTokenString(source,pos,\&quot;=\&quot;);\n\tif(token) {\n\t\tpos = token.end;\n\t\t// Skip whitespace\n\t\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t\t// Look for a string literal\n\t\tvar stringLiteral = $tw.utils.parseStringLiteral(source,pos);\n\t\tif(stringLiteral) {\n\t\t\tpos = stringLiteral.end;\n\t\t\tnode.type = \&quot;string\&quot;;\n\t\t\tnode.value = stringLiteral.value;\n\t\t} else {\n\t\t\t// Look for an indirect value\n\t\t\tvar indirectValue = $tw.utils.parseTokenRegExp(source,pos,reIndirectValue);\n\t\t\tif(indirectValue) {\n\t\t\t\tpos = indirectValue.end;\n\t\t\t\tnode.type = \&quot;indirect\&quot;;\n\t\t\t\tnode.textReference = indirectValue.match[1];\n\t\t\t} else {\n\t\t\t\t// Look for a unquoted value\n\t\t\t\tvar unquotedValue = $tw.utils.parseTokenRegExp(source,pos,reUnquotedAttribute);\n\t\t\t\tif(unquotedValue) {\n\t\t\t\t\tpos = unquotedValue.end;\n\t\t\t\t\tnode.type = \&quot;string\&quot;;\n\t\t\t\t\tnode.value = unquotedValue.match[1];\n\t\t\t\t} else {\n\t\t\t\t\t// Look for a macro invocation value\n\t\t\t\t\tvar macroInvocation = $tw.utils.parseMacroInvocation(source,pos);\n\t\t\t\t\tif(macroInvocation) {\n\t\t\t\t\t\tpos = macroInvocation.end;\n\t\t\t\t\t\tnode.type = \&quot;macro\&quot;;\n\t\t\t\t\t\tnode.value = macroInvocation;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode.type = \&quot;string\&quot;;\n\t\t\t\t\t\tnode.value = \&quot;true\&quot;;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tnode.type = \&quot;string\&quot;;\n\t\tnode.value = \&quot;true\&quot;;\n\t}\n\t// Update the end position\n\tnode.end = pos;\n\treturn node;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/parseutils.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/parsers/textparser.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/textparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe plain text parser processes blocks of source text into a degenerate parse tree consisting of a single text node\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar TextParser = function(type,text,options) {\n\tthis.tree = [{\n\t\ttype: \&quot;codeblock\&quot;,\n\t\tattributes: {\n\t\t\tcode: {type: \&quot;string\&quot;, value: text},\n\t\t\tlanguage: {type: \&quot;string\&quot;, value: type}\n\t\t}\n\t}];\n};\n\nexports[\&quot;text/plain\&quot;] = TextParser;\nexports[\&quot;text/x-tiddlywiki\&quot;] = TextParser;\nexports[\&quot;application/javascript\&quot;] = TextParser;\nexports[\&quot;application/json\&quot;] = TextParser;\nexports[\&quot;text/css\&quot;] = TextParser;\nexports[\&quot;application/x-tiddler-dictionary\&quot;] = TextParser;\n\n})();\n\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/textparser.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;parser&quot;
        },
        &quot;$:/core/modules/parsers/videoparser.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/videoparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe video parser parses a video tiddler into an embeddable HTML element\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar AudioParser = function(type,text,options) {\n\tvar element = {\n\t\t\ttype: \&quot;element\&quot;,\n\t\t\ttag: \&quot;video\&quot;,\n\t\t\tattributes: {\n\t\t\t\tcontrols: {type: \&quot;string\&quot;, value: \&quot;controls\&quot;}\n\t\t\t}\n\t\t},\n\t\tsrc;\n\tif(options._canonical_uri) {\n\t\telement.attributes.src = {type: \&quot;string\&quot;, value: options._canonical_uri};\n\t} else if(text) {\n\t\telement.attributes.src = {type: \&quot;string\&quot;, value: \&quot;data:\&quot; + type + \&quot;;base64,\&quot; + text};\n\t}\n\tthis.tree = [element];\n};\n\nexports[\&quot;video/mp4\&quot;] = AudioParser;\n\n})();\n\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/videoparser.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;parser&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/codeblock.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/codeblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for code blocks. For example:\n\n```\n\t```\n\tThis text will not be //wikified//\n\t```\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;codeblock\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match and get language if defined\n\tthis.matchRegExp = /```([\\w-]*)\\r?\\n/mg;\n};\n\nexports.parse = function() {\n\tvar reEnd = /(\\r?\\n```$)/mg;\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\n\t// Look for the end of the block\n\treEnd.lastIndex = this.parser.pos;\n\tvar match = reEnd.exec(this.parser.source),\n\t\ttext;\n\t// Process the block\n\tif(match) {\n\t\ttext = this.parser.source.substring(this.parser.pos,match.index);\n\t\tthis.parser.pos = match.index + match[0].length;\n\t} else {\n\t\ttext = this.parser.source.substr(this.parser.pos);\n\t\tthis.parser.pos = this.parser.sourceLength;\n\t}\n\t// Return the $codeblock widget\n\treturn [{\n\t\t\ttype: \&quot;codeblock\&quot;,\n\t\t\tattributes: {\n\t\t\t\t\tcode: {type: \&quot;string\&quot;, value: text},\n\t\t\t\t\tlanguage: {type: \&quot;string\&quot;, value: this.match[1]}\n\t\t\t}\n\t}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/codeblock.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/codeinline.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/codeinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for code runs. For example:\n\n```\n\tThis is a `code run`.\n\tThis is another ``code run``\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;codeinline\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /(``?)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\tvar reEnd = new RegExp(this.match[1], \&quot;mg\&quot;);\n\t// Look for the end marker\n\treEnd.lastIndex = this.parser.pos;\n\tvar match = reEnd.exec(this.parser.source),\n\t\ttext;\n\t// Process the text\n\tif(match) {\n\t\ttext = this.parser.source.substring(this.parser.pos,match.index);\n\t\tthis.parser.pos = match.index + match[0].length;\n\t} else {\n\t\ttext = this.parser.source.substr(this.parser.pos);\n\t\tthis.parser.pos = this.parser.sourceLength;\n\t}\n\treturn [{\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;code\&quot;,\n\t\tchildren: [{\n\t\t\ttype: \&quot;text\&quot;,\n\t\t\ttext: text\n\t\t}]\n\t}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/codeinline.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/commentblock.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/commentblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for HTML comments. For example:\n\n```\n&lt;!-- This is a comment --&gt;\n```\n\nNote that the syntax for comments is simplified to an opening \&quot;&lt;!--\&quot; sequence and a closing \&quot;--&gt;\&quot; sequence -- HTML itself implements a more complex format (see http://ostermiller.org/findhtmlcomment.html)\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;commentblock\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\tthis.matchRegExp = /&lt;!--/mg;\n\tthis.endMatchRegExp = /--&gt;/mg;\n};\n\nexports.findNextMatch = function(startPos) {\n\tthis.matchRegExp.lastIndex = startPos;\n\tthis.match = this.matchRegExp.exec(this.parser.source);\n\tif(this.match) {\n\t\tthis.endMatchRegExp.lastIndex = startPos + this.match[0].length;\n\t\tthis.endMatch = this.endMatchRegExp.exec(this.parser.source);\n\t\tif(this.endMatch) {\n\t\t\treturn this.match.index;\n\t\t}\n\t}\n\treturn undefined;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.endMatchRegExp.lastIndex;\n\t// Don't return any elements\n\treturn [];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/commentblock.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/commentinline.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/commentinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for HTML comments. For example:\n\n```\n&lt;!-- This is a comment --&gt;\n```\n\nNote that the syntax for comments is simplified to an opening \&quot;&lt;!--\&quot; sequence and a closing \&quot;--&gt;\&quot; sequence -- HTML itself implements a more complex format (see http://ostermiller.org/findhtmlcomment.html)\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;commentinline\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\tthis.matchRegExp = /&lt;!--/mg;\n\tthis.endMatchRegExp = /--&gt;/mg;\n};\n\nexports.findNextMatch = function(startPos) {\n\tthis.matchRegExp.lastIndex = startPos;\n\tthis.match = this.matchRegExp.exec(this.parser.source);\n\tif(this.match) {\n\t\tthis.endMatchRegExp.lastIndex = startPos + this.match[0].length;\n\t\tthis.endMatch = this.endMatchRegExp.exec(this.parser.source);\n\t\tif(this.endMatch) {\n\t\t\treturn this.match.index;\n\t\t}\n\t}\n\treturn undefined;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.endMatchRegExp.lastIndex;\n\t// Don't return any elements\n\treturn [];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/commentinline.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/dash.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/dash.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for dashes. For example:\n\n```\nThis is an en-dash: --\n\nThis is an em-dash: ---\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;dash\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /-{2,3}(?!-)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\tvar dash = this.match[0].length === 2 ? \&quot;&amp;ndash;\&quot; : \&quot;&amp;mdash;\&quot;;\n\treturn [{\n\t\ttype: \&quot;entity\&quot;,\n\t\tentity: dash\n\t}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/dash.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/bold.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/emphasis/bold.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for emphasis - bold. For example:\n\n```\n\tThis is ''bold'' text\n```\n\nThis wikiparser can be modified using the rules eg:\n\n```\n\\rules except bold \n\\rules only bold \n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;bold\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /''/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\n\t// Parse the run including the terminator\n\tvar tree = this.parser.parseInlineRun(/''/mg,{eatTerminator: true});\n\n\t// Return the classed span\n\treturn [{\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;strong\&quot;,\n\t\tchildren: tree\n\t}];\n};\n\n})();&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/bold.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/italic.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/emphasis/italic.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for emphasis - italic. For example:\n\n```\n\tThis is //italic// text\n```\n\nThis wikiparser can be modified using the rules eg:\n\n```\n\\rules except italic\n\\rules only italic\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;italic\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\/\\//mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\n\t// Parse the run including the terminator\n\tvar tree = this.parser.parseInlineRun(/\\/\\//mg,{eatTerminator: true});\n\n\t// Return the classed span\n\treturn [{\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;em\&quot;,\n\t\tchildren: tree\n\t}];\n};\n\n})();&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/italic.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/strikethrough.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/emphasis/strikethrough.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for emphasis - strikethrough. For example:\n\n```\n\tThis is ~~strikethrough~~ text\n```\n\nThis wikiparser can be modified using the rules eg:\n\n```\n\\rules except strikethrough \n\\rules only strikethrough \n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;strikethrough\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /~~/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\n\t// Parse the run including the terminator\n\tvar tree = this.parser.parseInlineRun(/~~/mg,{eatTerminator: true});\n\n\t// Return the classed span\n\treturn [{\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;strike\&quot;,\n\t\tchildren: tree\n\t}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/strikethrough.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/subscript.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/emphasis/subscript.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for emphasis - subscript. For example:\n\n```\n\tThis is ,,subscript,, text\n```\n\nThis wikiparser can be modified using the rules eg:\n\n```\n\\rules except subscript \n\\rules only subscript \n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;subscript\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /,,/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\n\t// Parse the run including the terminator\n\tvar tree = this.parser.parseInlineRun(/,,/mg,{eatTerminator: true});\n\n\t// Return the classed span\n\treturn [{\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;sub\&quot;,\n\t\tchildren: tree\n\t}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/subscript.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/superscript.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/emphasis/superscript.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for emphasis - superscript. For example:\n\n```\n\tThis is ^^superscript^^ text\n```\n\nThis wikiparser can be modified using the rules eg:\n\n```\n\\rules except superscript \n\\rules only superscript \n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;superscript\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\^\\^/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\n\t// Parse the run including the terminator\n\tvar tree = this.parser.parseInlineRun(/\\^\\^/mg,{eatTerminator: true});\n\n\t// Return the classed span\n\treturn [{\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;sup\&quot;,\n\t\tchildren: tree\n\t}];\n};\n\n})();&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/superscript.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/underscore.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/emphasis/underscore.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for emphasis - underscore. For example:\n\n```\n\tThis is __underscore__ text\n```\n\nThis wikiparser can be modified using the rules eg:\n\n```\n\\rules except underscore \n\\rules only underscore\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;underscore\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /__/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\n\t// Parse the run including the terminator\n\tvar tree = this.parser.parseInlineRun(/__/mg,{eatTerminator: true});\n\n\t// Return the classed span\n\treturn [{\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;u\&quot;,\n\t\tchildren: tree\n\t}];\n};\n\n})();&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/emphasis/underscore.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/entity.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/entity.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for HTML entities. For example:\n\n```\n\tThis is a copyright symbol: &amp;copy;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;entity\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /(&amp;#?[a-zA-Z0-9]{2,8};)/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Get all the details of the match\n\tvar entityString = this.match[1];\n\t// Move past the macro call\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Return the entity\n\treturn [{type: \&quot;entity\&quot;, entity: this.match[0]}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/entity.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/extlink.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/extlink.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for external links. For example:\n\n```\nAn external link: http://www.tiddlywiki.com/\n\nA suppressed external link: ~http://www.tiddlyspace.com/\n```\n\nExternal links can be suppressed by preceding them with `~`.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;extlink\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /~?(?:file|http|https|mailto|ftp|irc|news|data|skype):[^\\s&lt;&gt;{}\\[\\]`|'\&quot;\\\\^~]+(?:\\/|\\b)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Create the link unless it is suppressed\n\tif(this.match[0].substr(0,1) === \&quot;~\&quot;) {\n\t\treturn [{type: \&quot;text\&quot;, text: this.match[0].substr(1)}];\n\t} else {\n\t\treturn [{\n\t\t\ttype: \&quot;element\&quot;,\n\t\t\ttag: \&quot;a\&quot;,\n\t\t\tattributes: {\n\t\t\t\thref: {type: \&quot;string\&quot;, value: this.match[0]},\n\t\t\t\t\&quot;class\&quot;: {type: \&quot;string\&quot;, value: \&quot;tc-tiddlylink-external\&quot;},\n\t\t\t\ttarget: {type: \&quot;string\&quot;, value: \&quot;_blank\&quot;}\n\t\t\t},\n\t\t\tchildren: [{\n\t\t\t\ttype: \&quot;text\&quot;, text: this.match[0]\n\t\t\t}]\n\t\t}];\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/extlink.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/filteredtranscludeblock.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/filteredtranscludeblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for block-level filtered transclusion. For example:\n\n```\n{{{ [tag[docs]] }}}\n{{{ [tag[docs]] |tooltip}}}\n{{{ [tag[docs]] ||TemplateTitle}}}\n{{{ [tag[docs]] |tooltip||TemplateTitle}}}\n{{{ [tag[docs]] }}width:40;height:50;}.class.class\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;filteredtranscludeblock\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\{\\{\\{([^\\|]+?)(?:\\|([^\\|\\{\\}]+))?(?:\\|\\|([^\\|\\{\\}]+))?\\}\\}([^\\}]*)\\}(?:\\.(\\S+))?(?:\\r?\\n|$)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Get the match details\n\tvar filter = this.match[1],\n\t\ttooltip = this.match[2],\n\t\ttemplate = $tw.utils.trim(this.match[3]),\n\t\tstyle = this.match[4],\n\t\tclasses = this.match[5];\n\t// Return the list widget\n\tvar node = {\n\t\ttype: \&quot;list\&quot;,\n\t\tattributes: {\n\t\t\tfilter: {type: \&quot;string\&quot;, value: filter}\n\t\t},\n\t\tisBlock: true\n\t};\n\tif(tooltip) {\n\t\tnode.attributes.tooltip = {type: \&quot;string\&quot;, value: tooltip};\n\t}\n\tif(template) {\n\t\tnode.attributes.template = {type: \&quot;string\&quot;, value: template};\n\t}\n\tif(style) {\n\t\tnode.attributes.style = {type: \&quot;string\&quot;, value: style};\n\t}\n\tif(classes) {\n\t\tnode.attributes.itemClass = {type: \&quot;string\&quot;, value: classes.split(\&quot;.\&quot;).join(\&quot; \&quot;)};\n\t}\n\treturn [node];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/filteredtranscludeblock.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/filteredtranscludeinline.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/filteredtranscludeinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for inline filtered transclusion. For example:\n\n```\n{{{ [tag[docs]] }}}\n{{{ [tag[docs]] |tooltip}}}\n{{{ [tag[docs]] ||TemplateTitle}}}\n{{{ [tag[docs]] |tooltip||TemplateTitle}}}\n{{{ [tag[docs]] }}width:40;height:50;}.class.class\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;filteredtranscludeinline\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\{\\{\\{([^\\|]+?)(?:\\|([^\\|\\{\\}]+))?(?:\\|\\|([^\\|\\{\\}]+))?\\}\\}([^\\}]*)\\}(?:\\.(\\S+))?/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Get the match details\n\tvar filter = this.match[1],\n\t\ttooltip = this.match[2],\n\t\ttemplate = $tw.utils.trim(this.match[3]),\n\t\tstyle = this.match[4],\n\t\tclasses = this.match[5];\n\t// Return the list widget\n\tvar node = {\n\t\ttype: \&quot;list\&quot;,\n\t\tattributes: {\n\t\t\tfilter: {type: \&quot;string\&quot;, value: filter}\n\t\t}\n\t};\n\tif(tooltip) {\n\t\tnode.attributes.tooltip = {type: \&quot;string\&quot;, value: tooltip};\n\t}\n\tif(template) {\n\t\tnode.attributes.template = {type: \&quot;string\&quot;, value: template};\n\t}\n\tif(style) {\n\t\tnode.attributes.style = {type: \&quot;string\&quot;, value: style};\n\t}\n\tif(classes) {\n\t\tnode.attributes.itemClass = {type: \&quot;string\&quot;, value: classes.split(\&quot;.\&quot;).join(\&quot; \&quot;)};\n\t}\n\treturn [node];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/filteredtranscludeinline.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/hardlinebreaks.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/hardlinebreaks.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for marking areas with hard line breaks. For example:\n\n```\n\&quot;\&quot;\&quot;\nThis is some text\nThat is set like\nIt is a Poem\nWhen it is\nClearly\nNot\n\&quot;\&quot;\&quot;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;hardlinebreaks\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\&quot;\&quot;\&quot;(?:\\r?\\n)?/mg;\n};\n\nexports.parse = function() {\n\tvar reEnd = /(\&quot;\&quot;\&quot;)|(\\r?\\n)/mg,\n\t\ttree = [],\n\t\tmatch;\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\tdo {\n\t\t// Parse the run up to the terminator\n\t\ttree.push.apply(tree,this.parser.parseInlineRun(reEnd,{eatTerminator: false}));\n\t\t// Redo the terminator match\n\t\treEnd.lastIndex = this.parser.pos;\n\t\tmatch = reEnd.exec(this.parser.source);\n\t\tif(match) {\n\t\t\tthis.parser.pos = reEnd.lastIndex;\n\t\t\t// Add a line break if the terminator was a line break\n\t\t\tif(match[2]) {\n\t\t\t\ttree.push({type: \&quot;element\&quot;, tag: \&quot;br\&quot;});\n\t\t\t}\n\t\t}\n\t} while(match &amp;&amp; !match[1]);\n\t// Return the nodes\n\treturn tree;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/hardlinebreaks.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/heading.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/heading.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for headings\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;heading\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /(!{1,6})/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Get all the details of the match\n\tvar headingLevel = this.match[1].length;\n\t// Move past the !s\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Parse any classes, whitespace and then the heading itself\n\tvar classes = this.parser.parseClasses();\n\tthis.parser.skipWhitespace({treatNewlinesAsNonWhitespace: true});\n\tvar tree = this.parser.parseInlineRun(/(\\r?\\n)/mg);\n\t// Return the heading\n\treturn [{\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;h\&quot; + headingLevel, \n\t\tattributes: {\n\t\t\t\&quot;class\&quot;: {type: \&quot;string\&quot;, value: classes.join(\&quot; \&quot;)}\n\t\t},\n\t\tchildren: tree\n\t}];\n};\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/heading.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/horizrule.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/horizrule.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for rules. For example:\n\n```\n---\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;horizrule\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /-{3,}\\r?(?:\\n|$)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\treturn [{type: \&quot;element\&quot;, tag: \&quot;hr\&quot;}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/horizrule.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/html.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/html.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki rule for HTML elements and widgets. For example:\n\n{{{\n&lt;aside&gt;\nThis is an HTML5 aside element\n&lt;/aside&gt;\n\n&lt;$slider target=\&quot;MyTiddler\&quot;&gt;\nThis is a widget invocation\n&lt;/$slider&gt;\n\n}}}\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;html\&quot;;\nexports.types = {inline: true, block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n};\n\nexports.findNextMatch = function(startPos) {\n\t// Find the next tag\n\tthis.nextTag = this.findNextTag(this.parser.source,startPos,{\n\t\trequireLineBreak: this.is.block\n\t});\n\treturn this.nextTag ? this.nextTag.start : undefined;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Retrieve the most recent match so that recursive calls don't overwrite it\n\tvar tag = this.nextTag;\n\tthis.nextTag = null;\n\t// Advance the parser position to past the tag\n\tthis.parser.pos = tag.end;\n\t// Check for an immediately following double linebreak\n\tvar hasLineBreak = !tag.isSelfClosing &amp;&amp; !!$tw.utils.parseTokenRegExp(this.parser.source,this.parser.pos,/([^\\S\\n\\r]*\\r?\\n(?:[^\\S\\n\\r]*\\r?\\n|$))/g);\n\t// Set whether we're in block mode\n\ttag.isBlock = this.is.block || hasLineBreak;\n\t// Parse the body if we need to\n\tif(!tag.isSelfClosing &amp;&amp; $tw.config.htmlVoidElements.indexOf(tag.tag) === -1) {\n\t\t\tvar reEndString = \&quot;&lt;/\&quot; + $tw.utils.escapeRegExp(tag.tag) + \&quot;&gt;\&quot;,\n\t\t\t\treEnd = new RegExp(\&quot;(\&quot; + reEndString + \&quot;)\&quot;,\&quot;mg\&quot;);\n\t\tif(hasLineBreak) {\n\t\t\ttag.children = this.parser.parseBlocks(reEndString);\n\t\t} else {\n\t\t\ttag.children = this.parser.parseInlineRun(reEnd);\n\t\t}\n\t\treEnd.lastIndex = this.parser.pos;\n\t\tvar endMatch = reEnd.exec(this.parser.source);\n\t\tif(endMatch &amp;&amp; endMatch.index === this.parser.pos) {\n\t\t\tthis.parser.pos = endMatch.index + endMatch[0].length;\n\t\t}\n\t}\n\t// Return the tag\n\treturn [tag];\n};\n\n/*\nLook for an HTML tag. Returns null if not found, otherwise returns {type: \&quot;element\&quot;, name:, attributes: [], isSelfClosing:, start:, end:,}\n*/\nexports.parseTag = function(source,pos,options) {\n\toptions = options || {};\n\tvar token,\n\t\tnode = {\n\t\t\ttype: \&quot;element\&quot;,\n\t\t\tstart: pos,\n\t\t\tattributes: {}\n\t\t};\n\t// Define our regexps\n\tvar reTagName = /([a-zA-Z0-9\\-\\$]+)/g;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for a less than sign\n\ttoken = $tw.utils.parseTokenString(source,pos,\&quot;&lt;\&quot;);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Get the tag name\n\ttoken = $tw.utils.parseTokenRegExp(source,pos,reTagName);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tnode.tag = token.match[1];\n\tif(node.tag.charAt(0) === \&quot;$\&quot;) {\n\t\tnode.type = node.tag.substr(1);\n\t}\n\tpos = token.end;\n\t// Process attributes\n\tvar attribute = $tw.utils.parseAttribute(source,pos);\n\twhile(attribute) {\n\t\tnode.attributes[attribute.name] = attribute;\n\t\tpos = attribute.end;\n\t\t// Get the next attribute\n\t\tattribute = $tw.utils.parseAttribute(source,pos);\n\t}\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for a closing slash\n\ttoken = $tw.utils.parseTokenString(source,pos,\&quot;/\&quot;);\n\tif(token) {\n\t\tpos = token.end;\n\t\tnode.isSelfClosing = true;\n\t}\n\t// Look for a greater than sign\n\ttoken = $tw.utils.parseTokenString(source,pos,\&quot;&gt;\&quot;);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Check for a required line break\n\tif(options.requireLineBreak) {\n\t\ttoken = $tw.utils.parseTokenRegExp(source,pos,/([^\\S\\n\\r]*\\r?\\n(?:[^\\S\\n\\r]*\\r?\\n|$))/g);\n\t\tif(!token) {\n\t\t\treturn null;\n\t\t}\n\t}\n\t// Update the end position\n\tnode.end = pos;\n\treturn node;\n};\n\nexports.findNextTag = function(source,pos,options) {\n\t// A regexp for finding candidate HTML tags\n\tvar reLookahead = /&lt;([a-zA-Z\\-\\$]+)/g;\n\t// Find the next candidate\n\treLookahead.lastIndex = pos;\n\tvar match = reLookahead.exec(source);\n\twhile(match) {\n\t\t// Try to parse the candidate as a tag\n\t\tvar tag = this.parseTag(source,match.index,options);\n\t\t// Return success\n\t\tif(tag &amp;&amp; this.isLegalTag(tag)) {\n\t\t\treturn tag;\n\t\t}\n\t\t// Look for the next match\n\t\treLookahead.lastIndex = match.index + 1;\n\t\tmatch = reLookahead.exec(source);\n\t}\n\t// Failed\n\treturn null;\n};\n\nexports.isLegalTag = function(tag) {\n\t// Widgets are always OK\n\tif(tag.type !== \&quot;element\&quot;) {\n\t\treturn true;\n\t// If it's an HTML tag that starts with a dash then it's not legal\n\t} else if(tag.tag.charAt(0) === \&quot;-\&quot;) {\n\t\treturn false;\n\t} else {\n\t\t// Otherwise it's OK\n\t\treturn true;\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/html.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/image.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/image.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for embedding images. For example:\n\n```\n[img[http://tiddlywiki.com/fractalveg.jpg]]\n[img width=23 height=24 [http://tiddlywiki.com/fractalveg.jpg]]\n[img width={{!!width}} height={{!!height}} [http://tiddlywiki.com/fractalveg.jpg]]\n[img[Description of image|http://tiddlywiki.com/fractalveg.jpg]]\n[img[TiddlerTitle]]\n[img[Description of image|TiddlerTitle]]\n```\n\nGenerates the `&lt;$image&gt;` widget.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;image\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n};\n\nexports.findNextMatch = function(startPos) {\n\t// Find the next tag\n\tthis.nextImage = this.findNextImage(this.parser.source,startPos);\n\treturn this.nextImage ? this.nextImage.start : undefined;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.nextImage.end;\n\tvar node = {\n\t\ttype: \&quot;image\&quot;,\n\t\tattributes: this.nextImage.attributes\n\t};\n\treturn [node];\n};\n\n/*\nFind the next image from the current position\n*/\nexports.findNextImage = function(source,pos) {\n\t// A regexp for finding candidate HTML tags\n\tvar reLookahead = /(\\[img)/g;\n\t// Find the next candidate\n\treLookahead.lastIndex = pos;\n\tvar match = reLookahead.exec(source);\n\twhile(match) {\n\t\t// Try to parse the candidate as a tag\n\t\tvar tag = this.parseImage(source,match.index);\n\t\t// Return success\n\t\tif(tag) {\n\t\t\treturn tag;\n\t\t}\n\t\t// Look for the next match\n\t\treLookahead.lastIndex = match.index + 1;\n\t\tmatch = reLookahead.exec(source);\n\t}\n\t// Failed\n\treturn null;\n};\n\n/*\nLook for an image at the specified position. Returns null if not found, otherwise returns {type: \&quot;image\&quot;, attributes: [], isSelfClosing:, start:, end:,}\n*/\nexports.parseImage = function(source,pos) {\n\tvar token,\n\t\tnode = {\n\t\t\ttype: \&quot;image\&quot;,\n\t\t\tstart: pos,\n\t\t\tattributes: {}\n\t\t};\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for the `[img`\n\ttoken = $tw.utils.parseTokenString(source,pos,\&quot;[img\&quot;);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Process attributes\n\tif(source.charAt(pos) !== \&quot;[\&quot;) {\n\t\tvar attribute = $tw.utils.parseAttribute(source,pos);\n\t\twhile(attribute) {\n\t\t\tnode.attributes[attribute.name] = attribute;\n\t\t\tpos = attribute.end;\n\t\t\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t\t\tif(source.charAt(pos) !== \&quot;[\&quot;) {\n\t\t\t\t// Get the next attribute\n\t\t\t\tattribute = $tw.utils.parseAttribute(source,pos);\n\t\t\t} else {\n\t\t\t\tattribute = null;\n\t\t\t}\n\t\t}\n\t}\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for the `[` after the attributes\n\ttoken = $tw.utils.parseTokenString(source,pos,\&quot;[\&quot;);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Get the source up to the terminating `]]`\n\ttoken = $tw.utils.parseTokenRegExp(source,pos,/(?:([^|\\]]*?)\\|)?([^\\]]+?)\\]\\]/g);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\tif(token.match[1]) {\n\t\tnode.attributes.tooltip = {type: \&quot;string\&quot;, value: token.match[1].trim()};\n\t}\n\tnode.attributes.source = {type: \&quot;string\&quot;, value: (token.match[2] || \&quot;\&quot;).trim()};\n\t// Update the end position\n\tnode.end = pos;\n\treturn node;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/image.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/list.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/list.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for lists. For example:\n\n```\n* This is an unordered list\n* It has two items\n\n# This is a numbered list\n## With a subitem\n# And a third item\n\n; This is a term that is being defined\n: This is the definition of that term\n```\n\nNote that lists can be nested arbitrarily:\n\n```\n#** One\n#* Two\n#** Three\n#**** Four\n#**# Five\n#**## Six\n## Seven\n### Eight\n## Nine\n```\n\nA CSS class can be applied to a list item as follows:\n\n```\n* List item one\n*.active List item two has the class `active`\n* List item three\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;list\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /([\\*#;:&gt;]+)/mg;\n};\n\nvar listTypes = {\n\t\&quot;*\&quot;: {listTag: \&quot;ul\&quot;, itemTag: \&quot;li\&quot;},\n\t\&quot;#\&quot;: {listTag: \&quot;ol\&quot;, itemTag: \&quot;li\&quot;},\n\t\&quot;;\&quot;: {listTag: \&quot;dl\&quot;, itemTag: \&quot;dt\&quot;},\n\t\&quot;:\&quot;: {listTag: \&quot;dl\&quot;, itemTag: \&quot;dd\&quot;},\n\t\&quot;&gt;\&quot;: {listTag: \&quot;blockquote\&quot;, itemTag: \&quot;p\&quot;}\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Array of parse tree nodes for the previous row of the list\n\tvar listStack = [];\n\t// Cycle through the items in the list\n\twhile(true) {\n\t\t// Match the list marker\n\t\tvar reMatch = /([\\*#;:&gt;]+)/mg;\n\t\treMatch.lastIndex = this.parser.pos;\n\t\tvar match = reMatch.exec(this.parser.source);\n\t\tif(!match || match.index !== this.parser.pos) {\n\t\t\tbreak;\n\t\t}\n\t\t// Check whether the list type of the top level matches\n\t\tvar listInfo = listTypes[match[0].charAt(0)];\n\t\tif(listStack.length &gt; 0 &amp;&amp; listStack[0].tag !== listInfo.listTag) {\n\t\t\tbreak;\n\t\t}\n\t\t// Move past the list marker\n\t\tthis.parser.pos = match.index + match[0].length;\n\t\t// Walk through the list markers for the current row\n\t\tfor(var t=0; t&lt;match[0].length; t++) {\n\t\t\tlistInfo = listTypes[match[0].charAt(t)];\n\t\t\t// Remove any stacked up element if we can't re-use it because the list type doesn't match\n\t\t\tif(listStack.length &gt; t &amp;&amp; listStack[t].tag !== listInfo.listTag) {\n\t\t\t\tlistStack.splice(t,listStack.length - t);\n\t\t\t}\n\t\t\t// Construct the list element or reuse the previous one at this level\n\t\t\tif(listStack.length &lt;= t) {\n\t\t\t\tvar listElement = {type: \&quot;element\&quot;, tag: listInfo.listTag, children: [\n\t\t\t\t\t{type: \&quot;element\&quot;, tag: listInfo.itemTag, children: []}\n\t\t\t\t]};\n\t\t\t\t// Link this list element into the last child item of the parent list item\n\t\t\t\tif(t) {\n\t\t\t\t\tvar prevListItem = listStack[t-1].children[listStack[t-1].children.length-1];\n\t\t\t\t\tprevListItem.children.push(listElement);\n\t\t\t\t}\n\t\t\t\t// Save this element in the stack\n\t\t\t\tlistStack[t] = listElement;\n\t\t\t} else if(t === (match[0].length - 1)) {\n\t\t\t\tlistStack[t].children.push({type: \&quot;element\&quot;, tag: listInfo.itemTag, children: []});\n\t\t\t}\n\t\t}\n\t\tif(listStack.length &gt; match[0].length) {\n\t\t\tlistStack.splice(match[0].length,listStack.length - match[0].length);\n\t\t}\n\t\t// Process the body of the list item into the last list item\n\t\tvar lastListChildren = listStack[listStack.length-1].children,\n\t\t\tlastListItem = lastListChildren[lastListChildren.length-1],\n\t\t\tclasses = this.parser.parseClasses();\n\t\tthis.parser.skipWhitespace({treatNewlinesAsNonWhitespace: true});\n\t\tvar tree = this.parser.parseInlineRun(/(\\r?\\n)/mg);\n\t\tlastListItem.children.push.apply(lastListItem.children,tree);\n\t\tif(classes.length &gt; 0) {\n\t\t\t$tw.utils.addClassToParseTreeNode(lastListItem,classes.join(\&quot; \&quot;));\n\t\t}\n\t\t// Consume any whitespace following the list item\n\t\tthis.parser.skipWhitespace();\n\t}\n\t// Return the root element of the list\n\treturn [listStack[0]];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/list.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/macrocallblock.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/macrocallblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki rule for block macro calls\n\n```\n&lt;&lt;name value value2&gt;&gt;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;macrocallblock\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /&lt;&lt;([^&gt;\\s]+)(?:\\s*)((?:[^&gt;]|(?:&gt;(?!&gt;)))*?)&gt;&gt;(?:\\r?\\n|$)/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Get all the details of the match\n\tvar macroName = this.match[1],\n\t\tparamString = this.match[2];\n\t// Move past the macro call\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\tvar params = [],\n\t\treParam = /\\s*(?:([A-Za-z0-9\\-_]+)\\s*:)?(?:\\s*(?:\&quot;\&quot;\&quot;([\\s\\S]*?)\&quot;\&quot;\&quot;|\&quot;([^\&quot;]*)\&quot;|'([^']*)'|\\[\\[([^\\]]*)\\]\\]|([^\&quot;'\\s]+)))/mg,\n\t\tparamMatch = reParam.exec(paramString);\n\twhile(paramMatch) {\n\t\t// Process this parameter\n\t\tvar paramInfo = {\n\t\t\tvalue: paramMatch[2] || paramMatch[3] || paramMatch[4] || paramMatch[5] || paramMatch[6]\n\t\t};\n\t\tif(paramMatch[1]) {\n\t\t\tparamInfo.name = paramMatch[1];\n\t\t}\n\t\tparams.push(paramInfo);\n\t\t// Find the next match\n\t\tparamMatch = reParam.exec(paramString);\n\t}\n\treturn [{\n\t\ttype: \&quot;macrocall\&quot;,\n\t\tname: macroName,\n\t\tparams: params,\n\t\tisBlock: true\n\t}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/macrocallblock.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/macrocallinline.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/macrocallinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki rule for macro calls\n\n```\n&lt;&lt;name value value2&gt;&gt;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;macrocallinline\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /&lt;&lt;([^\\s&gt;]+)\\s*([\\s\\S]*?)&gt;&gt;/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Get all the details of the match\n\tvar macroName = this.match[1],\n\t\tparamString = this.match[2];\n\t// Move past the macro call\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\tvar params = [],\n\t\treParam = /\\s*(?:([A-Za-z0-9\\-_]+)\\s*:)?(?:\\s*(?:\&quot;\&quot;\&quot;([\\s\\S]*?)\&quot;\&quot;\&quot;|\&quot;([^\&quot;]*)\&quot;|'([^']*)'|\\[\\[([^\\]]*)\\]\\]|([^\&quot;'\\s]+)))/mg,\n\t\tparamMatch = reParam.exec(paramString);\n\twhile(paramMatch) {\n\t\t// Process this parameter\n\t\tvar paramInfo = {\n\t\t\tvalue: paramMatch[2] || paramMatch[3] || paramMatch[4] || paramMatch[5]|| paramMatch[6]\n\t\t};\n\t\tif(paramMatch[1]) {\n\t\t\tparamInfo.name = paramMatch[1];\n\t\t}\n\t\tparams.push(paramInfo);\n\t\t// Find the next match\n\t\tparamMatch = reParam.exec(paramString);\n\t}\n\treturn [{\n\t\ttype: \&quot;macrocall\&quot;,\n\t\tname: macroName,\n\t\tparams: params\n\t}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/macrocallinline.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/macrodef.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/macrodef.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki pragma rule for macro definitions\n\n```\n\\define name(param:defaultvalue,param2:defaultvalue)\ndefinition text, including $param$ markers\n\\end\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;macrodef\&quot;;\nexports.types = {pragma: true};\n\n/*\nInstantiate parse rule\n*/\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /^\\\\define\\s+([^(\\s]+)\\(\\s*([^)]*)\\)(\\s*\\r?\\n)?/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Move past the macro name and parameters\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Parse the parameters\n\tvar paramString = this.match[2],\n\t\tparams = [];\n\tif(paramString !== \&quot;\&quot;) {\n\t\tvar reParam = /\\s*([A-Za-z0-9\\-_]+)(?:\\s*:\\s*(?:\&quot;\&quot;\&quot;([\\s\\S]*?)\&quot;\&quot;\&quot;|\&quot;([^\&quot;]*)\&quot;|'([^']*)'|\\[\\[([^\\]]*)\\]\\]|([^\&quot;'\\s]+)))?/mg,\n\t\t\tparamMatch = reParam.exec(paramString);\n\t\twhile(paramMatch) {\n\t\t\t// Save the parameter details\n\t\t\tvar paramInfo = {name: paramMatch[1]},\n\t\t\t\tdefaultValue = paramMatch[2] || paramMatch[3] || paramMatch[4] || paramMatch[5] || paramMatch[6];\n\t\t\tif(defaultValue) {\n\t\t\t\tparamInfo[\&quot;default\&quot;] = defaultValue;\n\t\t\t}\n\t\t\tparams.push(paramInfo);\n\t\t\t// Look for the next parameter\n\t\t\tparamMatch = reParam.exec(paramString);\n\t\t}\n\t}\n\t// Is this a multiline definition?\n\tvar reEnd;\n\tif(this.match[3]) {\n\t\t// If so, the end of the body is marked with \\end\n\t\treEnd = /(\\r?\\n\\\\end[^\\S\\n\\r]*(?:$|\\r?\\n))/mg;\n\t} else {\n\t\t// Otherwise, the end of the definition is marked by the end of the line\n\t\treEnd = /(\\r?\\n)/mg;\n\t\t// Move past any whitespace\n\t\tthis.parser.pos = $tw.utils.skipWhiteSpace(this.parser.source,this.parser.pos);\n\t}\n\t// Find the end of the definition\n\treEnd.lastIndex = this.parser.pos;\n\tvar text,\n\t\tendMatch = reEnd.exec(this.parser.source);\n\tif(endMatch) {\n\t\ttext = this.parser.source.substring(this.parser.pos,endMatch.index);\n\t\tthis.parser.pos = endMatch.index + endMatch[0].length;\n\t} else {\n\t\t// We didn't find the end of the definition, so we'll make it blank\n\t\ttext = \&quot;\&quot;;\n\t}\n\t// Save the macro definition\n\treturn [{\n\t\ttype: \&quot;set\&quot;,\n\t\tattributes: {\n\t\t\tname: {type: \&quot;string\&quot;, value: this.match[1]},\n\t\t\tvalue: {type: \&quot;string\&quot;, value: text}\n\t\t},\n\t\tchildren: [],\n\t\tparams: params\n\t}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/macrodef.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/prettyextlink.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/prettyextlink.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for external links. For example:\n\n```\n[ext[http://tiddlywiki.com/fractalveg.jpg]]\n[ext[Tooltip|http://tiddlywiki.com/fractalveg.jpg]]\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;prettyextlink\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n};\n\nexports.findNextMatch = function(startPos) {\n\t// Find the next tag\n\tthis.nextLink = this.findNextLink(this.parser.source,startPos);\n\treturn this.nextLink ? this.nextLink.start : undefined;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.nextLink.end;\n\treturn [this.nextLink];\n};\n\n/*\nFind the next link from the current position\n*/\nexports.findNextLink = function(source,pos) {\n\t// A regexp for finding candidate links\n\tvar reLookahead = /(\\[ext\\[)/g;\n\t// Find the next candidate\n\treLookahead.lastIndex = pos;\n\tvar match = reLookahead.exec(source);\n\twhile(match) {\n\t\t// Try to parse the candidate as a link\n\t\tvar link = this.parseLink(source,match.index);\n\t\t// Return success\n\t\tif(link) {\n\t\t\treturn link;\n\t\t}\n\t\t// Look for the next match\n\t\treLookahead.lastIndex = match.index + 1;\n\t\tmatch = reLookahead.exec(source);\n\t}\n\t// Failed\n\treturn null;\n};\n\n/*\nLook for an link at the specified position. Returns null if not found, otherwise returns {type: \&quot;element\&quot;, tag: \&quot;a\&quot;, attributes: [], isSelfClosing:, start:, end:,}\n*/\nexports.parseLink = function(source,pos) {\n\tvar token,\n\t\ttextNode = {\n\t\t\ttype: \&quot;text\&quot;\n\t\t},\n\t\tnode = {\n\t\t\ttype: \&quot;element\&quot;,\n\t\t\ttag: \&quot;a\&quot;,\n\t\t\tstart: pos,\n\t\t\tattributes: {\n\t\t\t\t\&quot;class\&quot;: {type: \&quot;string\&quot;, value: \&quot;tc-tiddlylink-external\&quot;},\n\t\t\t},\n\t\t\tchildren: [textNode]\n\t\t};\n\t// Skip whitespace\n\tpos = $tw.utils.skipWhiteSpace(source,pos);\n\t// Look for the `[ext[`\n\ttoken = $tw.utils.parseTokenString(source,pos,\&quot;[ext[\&quot;);\n\tif(!token) {\n\t\treturn null;\n\t}\n\tpos = token.end;\n\t// Look ahead for the terminating `]]`\n\tvar closePos = source.indexOf(\&quot;]]\&quot;,pos);\n\tif(closePos === -1) {\n\t\treturn null;\n\t}\n\t// Look for a `|` separating the tooltip\n\tvar splitPos = source.indexOf(\&quot;|\&quot;,pos);\n\tif(splitPos === -1 || splitPos &gt; closePos) {\n\t\tsplitPos = null;\n\t}\n\t// Pull out the tooltip and URL\n\tvar tooltip, URL;\n\tif(splitPos) {\n\t\tURL = source.substring(splitPos + 1,closePos).trim();\n\t\ttextNode.text = source.substring(pos,splitPos).trim();\n\t} else {\n\t\tURL = source.substring(pos,closePos).trim();\n\t\ttextNode.text = URL;\n\t}\n\tnode.attributes.href = {type: \&quot;string\&quot;, value: URL};\n\tnode.attributes.target = {type: \&quot;string\&quot;, value: \&quot;_blank\&quot;};\n\t// Update the end position\n\tnode.end = closePos + 2;\n\treturn node;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/prettyextlink.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/prettylink.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/prettylink.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for pretty links. For example:\n\n```\n[[Introduction]]\n\n[[Link description|TiddlerTitle]]\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;prettylink\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\[\\[(.*?)(?:\\|(.*?))?\\]\\]/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Process the link\n\tvar text = this.match[1],\n\t\tlink = this.match[2] || text;\n\tif($tw.utils.isLinkExternal(link)) {\n\t\treturn [{\n\t\t\ttype: \&quot;element\&quot;,\n\t\t\ttag: \&quot;a\&quot;,\n\t\t\tattributes: {\n\t\t\t\thref: {type: \&quot;string\&quot;, value: link},\n\t\t\t\t\&quot;class\&quot;: {type: \&quot;string\&quot;, value: \&quot;tc-tiddlylink-external\&quot;},\n\t\t\t\ttarget: {type: \&quot;string\&quot;, value: \&quot;_blank\&quot;}\n\t\t\t},\n\t\t\tchildren: [{\n\t\t\t\ttype: \&quot;text\&quot;, text: text\n\t\t\t}]\n\t\t}];\n\t} else {\n\t\treturn [{\n\t\t\ttype: \&quot;link\&quot;,\n\t\t\tattributes: {\n\t\t\t\tto: {type: \&quot;string\&quot;, value: link}\n\t\t\t},\n\t\t\tchildren: [{\n\t\t\t\ttype: \&quot;text\&quot;, text: text\n\t\t\t}]\n\t\t}];\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/prettylink.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/quoteblock.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/quoteblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for quote blocks. For example:\n\n```\n\t&lt;&lt;&lt;.optionalClass(es) optional cited from\n\ta quote\n\t&lt;&lt;&lt;\n\t\n\t&lt;&lt;&lt;.optionalClass(es)\n\ta quote\n\t&lt;&lt;&lt; optional cited from\n```\n\nQuotes can be quoted by putting more &lt;s\n\n```\n\t&lt;&lt;&lt;\n\tQuote Level 1\n\t\n\t&lt;&lt;&lt;&lt;\n\tQuoteLevel 2\n\t&lt;&lt;&lt;&lt;\n\t\n\t&lt;&lt;&lt;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;quoteblock\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /(&lt;&lt;&lt;+)/mg;\n};\n\nexports.parse = function() {\n\tvar classes = [\&quot;tc-quote\&quot;];\n\t// Get all the details of the match\n\tvar reEndString = \&quot;^\&quot; + this.match[1] + \&quot;(?!&lt;)\&quot;;\n\t// Move past the &lt;s\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t\n\t// Parse any classes, whitespace and then the optional cite itself\n\tclasses.push.apply(classes, this.parser.parseClasses());\n\tthis.parser.skipWhitespace({treatNewlinesAsNonWhitespace: true});\n\tvar cite = this.parser.parseInlineRun(/(\\r?\\n)/mg);\n\t// before handling the cite, parse the body of the quote\n\tvar tree= this.parser.parseBlocks(reEndString);\n\t// If we got a cite, put it before the text\n\tif(cite.length &gt; 0) {\n\t\ttree.unshift({\n\t\t\ttype: \&quot;element\&quot;,\n\t\t\ttag: \&quot;cite\&quot;,\n\t\t\tchildren: cite\n\t\t});\n\t}\n\t// Parse any optional cite\n\tthis.parser.skipWhitespace({treatNewlinesAsNonWhitespace: true});\n\tcite = this.parser.parseInlineRun(/(\\r?\\n)/mg);\n\t// If we got a cite, push it\n\tif(cite.length &gt; 0) {\n\t\ttree.push({\n\t\t\ttype: \&quot;element\&quot;,\n\t\t\ttag: \&quot;cite\&quot;,\n\t\t\tchildren: cite\n\t\t});\n\t}\n\t// Return the blockquote element\n\treturn [{\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;blockquote\&quot;,\n\t\tattributes: {\n\t\t\tclass: { type: \&quot;string\&quot;, value: classes.join(\&quot; \&quot;) },\n\t\t},\n\t\tchildren: tree\n\t}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/quoteblock.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/rules.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/rules.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki pragma rule for rules specifications\n\n```\n\\rules except ruleone ruletwo rulethree\n\\rules only ruleone ruletwo rulethree\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;rules\&quot;;\nexports.types = {pragma: true};\n\n/*\nInstantiate parse rule\n*/\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /^\\\\rules[^\\S\\n]/mg;\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Move past the pragma invocation\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Parse whitespace delimited tokens terminated by a line break\n\tvar reMatch = /[^\\S\\n]*(\\S+)|(\\r?\\n)/mg,\n\t\ttokens = [];\n\treMatch.lastIndex = this.parser.pos;\n\tvar match = reMatch.exec(this.parser.source);\n\twhile(match &amp;&amp; match.index === this.parser.pos) {\n\t\tthis.parser.pos = reMatch.lastIndex;\n\t\t// Exit if we've got the line break\n\t\tif(match[2]) {\n\t\t\tbreak;\n\t\t}\n\t\t// Process the token\n\t\tif(match[1]) {\n\t\t\ttokens.push(match[1]);\n\t\t}\n\t\t// Match the next token\n\t\tmatch = reMatch.exec(this.parser.source);\n\t}\n\t// Process the tokens\n\tif(tokens.length &gt; 0) {\n\t\tthis.parser.amendRules(tokens[0],tokens.slice(1));\n\t}\n\t// No parse tree nodes to return\n\treturn [];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/rules.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/styleblock.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/styleblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for assigning styles and classes to paragraphs and other blocks. For example:\n\n```\n@@.myClass\n@@background-color:red;\nThis paragraph will have the CSS class `myClass`.\n\n* The `&lt;ul&gt;` around this list will also have the class `myClass`\n* List item 2\n\n@@\n```\n\nNote that classes and styles can be mixed subject to the rule that styles must precede classes. For example\n\n```\n@@.myFirstClass.mySecondClass\n@@width:100px;.myThirdClass\nThis is a paragraph\n@@\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;styleblock\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /@@((?:[^\\.\\r\\n\\s:]+:[^\\r\\n;]+;)+)?(?:\\.([^\\r\\n\\s]+))?\\r?\\n/mg;\n};\n\nexports.parse = function() {\n\tvar reEndString = \&quot;^@@(?:\\\\r?\\\\n)?\&quot;;\n\tvar classes = [], styles = [];\n\tdo {\n\t\t// Get the class and style\n\t\tif(this.match[1]) {\n\t\t\tstyles.push(this.match[1]);\n\t\t}\n\t\tif(this.match[2]) {\n\t\t\tclasses.push(this.match[2].split(\&quot;.\&quot;).join(\&quot; \&quot;));\n\t\t}\n\t\t// Move past the match\n\t\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t\t// Look for another line of classes and styles\n\t\tthis.match = this.matchRegExp.exec(this.parser.source);\n\t} while(this.match &amp;&amp; this.match.index === this.parser.pos);\n\t// Parse the body\n\tvar tree = this.parser.parseBlocks(reEndString);\n\tfor(var t=0; t&lt;tree.length; t++) {\n\t\tif(classes.length &gt; 0) {\n\t\t\t$tw.utils.addClassToParseTreeNode(tree[t],classes.join(\&quot; \&quot;));\n\t\t}\n\t\tif(styles.length &gt; 0) {\n\t\t\t$tw.utils.addAttributeToParseTreeNode(tree[t],\&quot;style\&quot;,styles.join(\&quot;\&quot;));\n\t\t}\n\t}\n\treturn tree;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/styleblock.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/styleinline.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/styleinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for assigning styles and classes to inline runs. For example:\n\n```\n@@.myClass This is some text with a class@@\n@@background-color:red;This is some text with a background colour@@\n@@width:100px;.myClass This is some text with a class and a width@@\n```\n\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;styleinline\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /@@((?:[^\\.\\r\\n\\s:]+:[^\\r\\n;]+;)+)?(\\.(?:[^\\r\\n\\s]+)\\s+)?/mg;\n};\n\nexports.parse = function() {\n\tvar reEnd = /@@/g;\n\t// Get the styles and class\n\tvar stylesString = this.match[1],\n\t\tclassString = this.match[2] ? this.match[2].split(\&quot;.\&quot;).join(\&quot; \&quot;) : undefined;\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Parse the run up to the terminator\n\tvar tree = this.parser.parseInlineRun(reEnd,{eatTerminator: true});\n\t// Return the classed span\n\tvar node = {\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;span\&quot;,\n\t\tattributes: {\n\t\t\t\&quot;class\&quot;: {type: \&quot;string\&quot;, value: \&quot;tc-inline-style\&quot;}\n\t\t},\n\t\tchildren: tree\n\t};\n\tif(classString) {\n\t\t$tw.utils.addClassToParseTreeNode(node,classString);\n\t}\n\tif(stylesString) {\n\t\t$tw.utils.addAttributeToParseTreeNode(node,\&quot;style\&quot;,stylesString);\n\t}\n\treturn [node];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/styleinline.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/syslink.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/syslink.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for system tiddler links.\nCan be suppressed preceding them with `~`.\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;syslink\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /~?\\$:\\/[a-zA-Z0-9/.\\-_]+/mg;\n};\n\nexports.parse = function() {\n\tvar match = this.match[0];\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Create the link unless it is suppressed\n\tif(match.substr(0,1) === \&quot;~\&quot;) {\n\t\treturn [{type: \&quot;text\&quot;, text: match.substr(1)}];\n\t} else {\n\t\treturn [{\n\t\t\ttype: \&quot;link\&quot;,\n\t\t\tattributes: {\n\t\t\t\tto: {type: \&quot;string\&quot;, value: match}\n\t\t\t},\n\t\t\tchildren: [{\n\t\t\t\ttype: \&quot;text\&quot;,\n\t\t\t\ttext: match\n\t\t\t}]\n\t\t}];\n\t}\n};\n\n})();&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/syslink.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/table.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/table.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text block rule for tables.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;table\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /^\\|(?:[^\\n]*)\\|(?:[fhck]?)\\r?(?:\\n|$)/mg;\n};\n\nvar processRow = function(prevColumns) {\n\tvar cellRegExp = /(?:\\|([^\\n\\|]*)\\|)|(\\|[fhck]?\\r?(?:\\n|$))/mg,\n\t\tcellTermRegExp = /((?:\\x20*)\\|)/mg,\n\t\ttree = [],\n\t\tcol = 0,\n\t\tcolSpanCount = 1,\n\t\tprevCell,\n\t\tvAlign;\n\t// Match a single cell\n\tcellRegExp.lastIndex = this.parser.pos;\n\tvar cellMatch = cellRegExp.exec(this.parser.source);\n\twhile(cellMatch &amp;&amp; cellMatch.index === this.parser.pos) {\n\t\tif(cellMatch[1] === \&quot;~\&quot;) {\n\t\t\t// Rowspan\n\t\t\tvar last = prevColumns[col];\n\t\t\tif(last) {\n\t\t\t\tlast.rowSpanCount++;\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(last.element,\&quot;rowspan\&quot;,last.rowSpanCount);\n\t\t\t\tvAlign = $tw.utils.getAttributeValueFromParseTreeNode(last.element,\&quot;valign\&quot;,\&quot;center\&quot;);\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(last.element,\&quot;valign\&quot;,vAlign);\n\t\t\t\tif(colSpanCount &gt; 1) {\n\t\t\t\t\t$tw.utils.addAttributeToParseTreeNode(last.element,\&quot;colspan\&quot;,colSpanCount);\n\t\t\t\t\tcolSpanCount = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Move to just before the `|` terminating the cell\n\t\t\tthis.parser.pos = cellRegExp.lastIndex - 1;\n\t\t} else if(cellMatch[1] === \&quot;&gt;\&quot;) {\n\t\t\t// Colspan\n\t\t\tcolSpanCount++;\n\t\t\t// Move to just before the `|` terminating the cell\n\t\t\tthis.parser.pos = cellRegExp.lastIndex - 1;\n\t\t} else if(cellMatch[1] === \&quot;&lt;\&quot; &amp;&amp; prevCell) {\n\t\t\tcolSpanCount = 1 + $tw.utils.getAttributeValueFromParseTreeNode(prevCell,\&quot;colspan\&quot;,1);\n\t\t\t$tw.utils.addAttributeToParseTreeNode(prevCell,\&quot;colspan\&quot;,colSpanCount);\n\t\t\tcolSpanCount = 1;\n\t\t\t// Move to just before the `|` terminating the cell\n\t\t\tthis.parser.pos = cellRegExp.lastIndex - 1;\n\t\t} else if(cellMatch[2]) {\n\t\t\t// End of row\n\t\t\tif(prevCell &amp;&amp; colSpanCount &gt; 1) {\n\t\t\t\tif(prevCell.attributes &amp;&amp; prevCell.attributes &amp;&amp; prevCell.attributes.colspan) {\n\t\t\t\t\t\tcolSpanCount += prevCell.attributes.colspan.value;\n\t\t\t\t} else {\n\t\t\t\t\tcolSpanCount -= 1;\n\t\t\t\t}\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(prevCell,\&quot;colspan\&quot;,colSpanCount);\n\t\t\t}\n\t\t\tthis.parser.pos = cellRegExp.lastIndex - 1;\n\t\t\tbreak;\n\t\t} else {\n\t\t\t// For ordinary cells, step beyond the opening `|`\n\t\t\tthis.parser.pos++;\n\t\t\t// Look for a space at the start of the cell\n\t\t\tvar spaceLeft = false;\n\t\t\tvAlign = null;\n\t\t\tif(this.parser.source.substr(this.parser.pos).search(/^\\^([^\\^]|\\^\\^)/) === 0) {\n\t\t\t\tvAlign = \&quot;top\&quot;;\n\t\t\t} else if(this.parser.source.substr(this.parser.pos).search(/^,([^,]|,,)/) === 0) {\n\t\t\t\tvAlign = \&quot;bottom\&quot;;\n\t\t\t}\n\t\t\tif(vAlign) {\n\t\t\t\tthis.parser.pos++;\n\t\t\t}\n\t\t\tvar chr = this.parser.source.substr(this.parser.pos,1);\n\t\t\twhile(chr === \&quot; \&quot;) {\n\t\t\t\tspaceLeft = true;\n\t\t\t\tthis.parser.pos++;\n\t\t\t\tchr = this.parser.source.substr(this.parser.pos,1);\n\t\t\t}\n\t\t\t// Check whether this is a heading cell\n\t\t\tvar cell;\n\t\t\tif(chr === \&quot;!\&quot;) {\n\t\t\t\tthis.parser.pos++;\n\t\t\t\tcell = {type: \&quot;element\&quot;, tag: \&quot;th\&quot;, children: []};\n\t\t\t} else {\n\t\t\t\tcell = {type: \&quot;element\&quot;, tag: \&quot;td\&quot;, children: []};\n\t\t\t}\n\t\t\ttree.push(cell);\n\t\t\t// Record information about this cell\n\t\t\tprevCell = cell;\n\t\t\tprevColumns[col] = {rowSpanCount:1,element:cell};\n\t\t\t// Check for a colspan\n\t\t\tif(colSpanCount &gt; 1) {\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(cell,\&quot;colspan\&quot;,colSpanCount);\n\t\t\t\tcolSpanCount = 1;\n\t\t\t}\n\t\t\t// Parse the cell\n\t\t\tcell.children = this.parser.parseInlineRun(cellTermRegExp,{eatTerminator: true});\n\t\t\t// Set the alignment for the cell\n\t\t\tif(vAlign) {\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(cell,\&quot;valign\&quot;,vAlign);\n\t\t\t}\n\t\t\tif(this.parser.source.substr(this.parser.pos - 2,1) === \&quot; \&quot;) { // spaceRight\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(cell,\&quot;align\&quot;,spaceLeft ? \&quot;center\&quot; : \&quot;left\&quot;);\n\t\t\t} else if(spaceLeft) {\n\t\t\t\t$tw.utils.addAttributeToParseTreeNode(cell,\&quot;align\&quot;,\&quot;right\&quot;);\n\t\t\t}\n\t\t\t// Move back to the closing `|`\n\t\t\tthis.parser.pos--;\n\t\t}\n\t\tcol++;\n\t\tcellRegExp.lastIndex = this.parser.pos;\n\t\tcellMatch = cellRegExp.exec(this.parser.source);\n\t}\n\treturn tree;\n};\n\nexports.parse = function() {\n\tvar rowContainerTypes = {\&quot;c\&quot;:\&quot;caption\&quot;, \&quot;h\&quot;:\&quot;thead\&quot;, \&quot;\&quot;:\&quot;tbody\&quot;, \&quot;f\&quot;:\&quot;tfoot\&quot;},\n\t\ttable = {type: \&quot;element\&quot;, tag: \&quot;table\&quot;, children: []},\n\t\trowRegExp = /^\\|([^\\n]*)\\|([fhck]?)\\r?(?:\\n|$)/mg,\n\t\trowTermRegExp = /(\\|(?:[fhck]?)\\r?(?:\\n|$))/mg,\n\t\tprevColumns = [],\n\t\tcurrRowType,\n\t\trowContainer,\n\t\trowCount = 0;\n\t// Match the row\n\trowRegExp.lastIndex = this.parser.pos;\n\tvar rowMatch = rowRegExp.exec(this.parser.source);\n\twhile(rowMatch &amp;&amp; rowMatch.index === this.parser.pos) {\n\t\tvar rowType = rowMatch[2];\n\t\t// Check if it is a class assignment\n\t\tif(rowType === \&quot;k\&quot;) {\n\t\t\t$tw.utils.addClassToParseTreeNode(table,rowMatch[1]);\n\t\t\tthis.parser.pos = rowMatch.index + rowMatch[0].length;\n\t\t} else {\n\t\t\t// Otherwise, create a new row if this one is of a different type\n\t\t\tif(rowType !== currRowType) {\n\t\t\t\trowContainer = {type: \&quot;element\&quot;, tag: rowContainerTypes[rowType], children: []};\n\t\t\t\ttable.children.push(rowContainer);\n\t\t\t\tcurrRowType = rowType;\n\t\t\t}\n\t\t\t// Is this a caption row?\n\t\t\tif(currRowType === \&quot;c\&quot;) {\n\t\t\t\t// If so, move past the opening `|` of the row\n\t\t\t\tthis.parser.pos++;\n\t\t\t\t// Move the caption to the first row if it isn't already\n\t\t\t\tif(table.children.length !== 1) {\n\t\t\t\t\ttable.children.pop(); // Take rowContainer out of the children array\n\t\t\t\t\ttable.children.splice(0,0,rowContainer); // Insert it at the bottom\t\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t// Set the alignment - TODO: figure out why TW did this\n//\t\t\t\trowContainer.attributes.align = rowCount === 0 ? \&quot;top\&quot; : \&quot;bottom\&quot;;\n\t\t\t\t// Parse the caption\n\t\t\t\trowContainer.children = this.parser.parseInlineRun(rowTermRegExp,{eatTerminator: true});\n\t\t\t} else {\n\t\t\t\t// Create the row\n\t\t\t\tvar theRow = {type: \&quot;element\&quot;, tag: \&quot;tr\&quot;, children: []};\n\t\t\t\t$tw.utils.addClassToParseTreeNode(theRow,rowCount%2 ? \&quot;oddRow\&quot; : \&quot;evenRow\&quot;);\n\t\t\t\trowContainer.children.push(theRow);\n\t\t\t\t// Process the row\n\t\t\t\ttheRow.children = processRow.call(this,prevColumns);\n\t\t\t\tthis.parser.pos = rowMatch.index + rowMatch[0].length;\n\t\t\t\t// Increment the row count\n\t\t\t\trowCount++;\n\t\t\t}\n\t\t}\n\t\trowMatch = rowRegExp.exec(this.parser.source);\n\t}\n\treturn [table];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/table.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/transcludeblock.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/transcludeblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for block-level transclusion. For example:\n\n```\n{{MyTiddler}}\n{{MyTiddler||TemplateTitle}}\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;transcludeblock\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\{\\{([^\\{\\}\\|]*)(?:\\|\\|([^\\|\\{\\}]+))?\\}\\}(?:\\r?\\n|$)/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Get the match details\n\tvar template = $tw.utils.trim(this.match[2]),\n\t\ttextRef = $tw.utils.trim(this.match[1]);\n\t// Prepare the transclude widget\n\tvar transcludeNode = {\n\t\t\ttype: \&quot;transclude\&quot;,\n\t\t\tattributes: {},\n\t\t\tisBlock: true\n\t\t};\n\t// Prepare the tiddler widget\n\tvar tr, targetTitle, targetField, targetIndex, tiddlerNode;\n\tif(textRef) {\n\t\ttr = $tw.utils.parseTextReference(textRef);\n\t\ttargetTitle = tr.title;\n\t\ttargetField = tr.field;\n\t\ttargetIndex = tr.index;\n\t\ttiddlerNode = {\n\t\t\ttype: \&quot;tiddler\&quot;,\n\t\t\tattributes: {\n\t\t\t\ttiddler: {type: \&quot;string\&quot;, value: targetTitle}\n\t\t\t},\n\t\t\tisBlock: true,\n\t\t\tchildren: [transcludeNode]\n\t\t};\n\t}\n\tif(template) {\n\t\ttranscludeNode.attributes.tiddler = {type: \&quot;string\&quot;, value: template};\n\t\tif(textRef) {\n\t\t\treturn [tiddlerNode];\n\t\t} else {\n\t\t\treturn [transcludeNode];\n\t\t}\n\t} else {\n\t\tif(textRef) {\n\t\t\ttranscludeNode.attributes.tiddler = {type: \&quot;string\&quot;, value: targetTitle};\n\t\t\tif(targetField) {\n\t\t\t\ttranscludeNode.attributes.field = {type: \&quot;string\&quot;, value: targetField};\n\t\t\t}\n\t\t\tif(targetIndex) {\n\t\t\t\ttranscludeNode.attributes.index = {type: \&quot;string\&quot;, value: targetIndex};\n\t\t\t}\n\t\t\treturn [tiddlerNode];\n\t\t} else {\n\t\t\treturn [transcludeNode];\n\t\t}\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/transcludeblock.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/transcludeinline.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/transcludeinline.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for inline-level transclusion. For example:\n\n```\n{{MyTiddler}}\n{{MyTiddler||TemplateTitle}}\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;transcludeinline\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\{\\{([^\\{\\}\\|]*)(?:\\|\\|([^\\|\\{\\}]+))?\\}\\}/mg;\n};\n\nexports.parse = function() {\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Get the match details\n\tvar template = $tw.utils.trim(this.match[2]),\n\t\ttextRef = $tw.utils.trim(this.match[1]);\n\t// Prepare the transclude widget\n\tvar transcludeNode = {\n\t\t\ttype: \&quot;transclude\&quot;,\n\t\t\tattributes: {}\n\t\t};\n\t// Prepare the tiddler widget\n\tvar tr, targetTitle, targetField, targetIndex, tiddlerNode;\n\tif(textRef) {\n\t\ttr = $tw.utils.parseTextReference(textRef);\n\t\ttargetTitle = tr.title;\n\t\ttargetField = tr.field;\n\t\ttargetIndex = tr.index;\n\t\ttiddlerNode = {\n\t\t\ttype: \&quot;tiddler\&quot;,\n\t\t\tattributes: {\n\t\t\t\ttiddler: {type: \&quot;string\&quot;, value: targetTitle}\n\t\t\t},\n\t\t\tchildren: [transcludeNode]\n\t\t};\n\t}\n\tif(template) {\n\t\ttranscludeNode.attributes.tiddler = {type: \&quot;string\&quot;, value: template};\n\t\tif(textRef) {\n\t\t\treturn [tiddlerNode];\n\t\t} else {\n\t\t\treturn [transcludeNode];\n\t\t}\n\t} else {\n\t\tif(textRef) {\n\t\t\ttranscludeNode.attributes.tiddler = {type: \&quot;string\&quot;, value: targetTitle};\n\t\t\tif(targetField) {\n\t\t\t\ttranscludeNode.attributes.field = {type: \&quot;string\&quot;, value: targetField};\n\t\t\t}\n\t\t\tif(targetIndex) {\n\t\t\t\ttranscludeNode.attributes.index = {type: \&quot;string\&quot;, value: targetIndex};\n\t\t\t}\n\t\t\treturn [tiddlerNode];\n\t\t} else {\n\t\t\treturn [transcludeNode];\n\t\t}\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/transcludeinline.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/typedblock.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/typedblock.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text rule for typed blocks. For example:\n\n```\n$$$.js\nThis will be rendered as JavaScript\n$$$\n\n$$$.svg\n&lt;svg xmlns=\&quot;http://www.w3.org/2000/svg\&quot; width=\&quot;150\&quot; height=\&quot;100\&quot;&gt;\n  &lt;circle cx=\&quot;100\&quot; cy=\&quot;50\&quot; r=\&quot;40\&quot; stroke=\&quot;black\&quot; stroke-width=\&quot;2\&quot; fill=\&quot;red\&quot; /&gt;\n&lt;/svg&gt;\n$$$\n\n$$$text/vnd.tiddlywiki&gt;text/html\nThis will be rendered as an //HTML representation// of WikiText\n$$$\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;);\n\nexports.name = \&quot;typedblock\&quot;;\nexports.types = {block: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = /\\$\\$\\$([^ &gt;\\r\\n]*)(?: *&gt; *([^ \\r\\n]+))?\\r?\\n/mg;\n};\n\nexports.parse = function() {\n\tvar reEnd = /\\r?\\n\\$\\$\\$\\r?(?:\\n|$)/mg;\n\t// Save the type\n\tvar parseType = this.match[1],\n\t\trenderType = this.match[2];\n\t// Move past the match\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// Look for the end of the block\n\treEnd.lastIndex = this.parser.pos;\n\tvar match = reEnd.exec(this.parser.source),\n\t\ttext;\n\t// Process the block\n\tif(match) {\n\t\ttext = this.parser.source.substring(this.parser.pos,match.index);\n\t\tthis.parser.pos = match.index + match[0].length;\n\t} else {\n\t\ttext = this.parser.source.substr(this.parser.pos);\n\t\tthis.parser.pos = this.parser.sourceLength;\n\t}\n\t// Parse the block according to the specified type\n\tvar parser = this.parser.wiki.parseText(parseType,text,{defaultType: \&quot;text/plain\&quot;});\n\t// If there's no render type, just return the parse tree\n\tif(!renderType) {\n\t\treturn parser.tree;\n\t} else {\n\t\t// Otherwise, render to the rendertype and return in a &lt;PRE&gt; tag\n\t\tvar widgetNode = this.parser.wiki.makeWidget(parser),\n\t\t\tcontainer = $tw.fakeDocument.createElement(\&quot;div\&quot;);\n\t\twidgetNode.render(container,null);\n\t\ttext = renderType === \&quot;text/html\&quot; ? container.innerHTML : container.textContent;\n\t\treturn [{\n\t\t\ttype: \&quot;element\&quot;,\n\t\t\ttag: \&quot;pre\&quot;,\n\t\t\tchildren: [{\n\t\t\t\ttype: \&quot;text\&quot;,\n\t\t\t\ttext: text\n\t\t\t}]\n\t\t}];\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/typedblock.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/wikilink.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/wikilink.js\ntype: application/javascript\nmodule-type: wikirule\n\nWiki text inline rule for wiki links. For example:\n\n```\nAWikiLink\nAnotherLink\n~SuppressedLink\n```\n\nPrecede a camel case word with `~` to prevent it from being recognised as a link.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.name = \&quot;wikilink\&quot;;\nexports.types = {inline: true};\n\nexports.init = function(parser) {\n\tthis.parser = parser;\n\t// Regexp to match\n\tthis.matchRegExp = new RegExp($tw.config.textPrimitives.unWikiLink + \&quot;?\&quot; + $tw.config.textPrimitives.wikiLink,\&quot;mg\&quot;);\n};\n\n/*\nParse the most recent match\n*/\nexports.parse = function() {\n\t// Get the details of the match\n\tvar linkText = this.match[0];\n\t// Move past the macro call\n\tthis.parser.pos = this.matchRegExp.lastIndex;\n\t// If the link starts with the unwikilink character then just output it as plain text\n\tif(linkText.substr(0,1) === $tw.config.textPrimitives.unWikiLink) {\n\t\treturn [{type: \&quot;text\&quot;, text: linkText.substr(1)}];\n\t}\n\t// If the link has been preceded with a blocked letter then don't treat it as a link\n\tif(this.match.index &gt; 0) {\n\t\tvar preRegExp = new RegExp($tw.config.textPrimitives.blockPrefixLetters,\&quot;mg\&quot;);\n\t\tpreRegExp.lastIndex = this.match.index-1;\n\t\tvar preMatch = preRegExp.exec(this.parser.source);\n\t\tif(preMatch &amp;&amp; preMatch.index === this.match.index-1) {\n\t\t\treturn [{type: \&quot;text\&quot;, text: linkText}];\n\t\t}\n\t}\n\treturn [{\n\t\ttype: \&quot;link\&quot;,\n\t\tattributes: {\n\t\t\tto: {type: \&quot;string\&quot;, value: linkText}\n\t\t},\n\t\tchildren: [{\n\t\t\ttype: \&quot;text\&quot;,\n\t\t\ttext: linkText\n\t\t}]\n\t}];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/wikilink.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikirule&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/wikiparser.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/wikiparser.js\ntype: application/javascript\nmodule-type: parser\n\nThe wiki text parser processes blocks of source text into a parse tree.\n\nThe parse tree is made up of nested arrays of these JavaScript objects:\n\n\t{type: \&quot;element\&quot;, tag: &lt;string&gt;, attributes: {}, children: []} - an HTML element\n\t{type: \&quot;text\&quot;, text: &lt;string&gt;} - a text node\n\t{type: \&quot;entity\&quot;, value: &lt;string&gt;} - an entity\n\t{type: \&quot;raw\&quot;, html: &lt;string&gt;} - raw HTML\n\nAttributes are stored as hashmaps of the following objects:\n\n\t{type: \&quot;string\&quot;, value: &lt;string&gt;} - literal string\n\t{type: \&quot;indirect\&quot;, textReference: &lt;textReference&gt;} - indirect through a text reference\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar WikiParser = function(type,text,options) {\n\tthis.wiki = options.wiki;\n\tvar self = this;\n\t// Check for an externally linked tiddler\n\tif($tw.browser &amp;&amp; (text || \&quot;\&quot;) === \&quot;\&quot; &amp;&amp; options._canonical_uri) {\n\t\tthis.loadRemoteTiddler(options._canonical_uri);\n\t\ttext = $tw.language.getRawString(\&quot;LazyLoadingWarning\&quot;);\n\t}\n\t// Initialise the classes if we don't have them already\n\tif(!this.pragmaRuleClasses) {\n\t\tWikiParser.prototype.pragmaRuleClasses = $tw.modules.createClassesFromModules(\&quot;wikirule\&quot;,\&quot;pragma\&quot;,$tw.WikiRuleBase);\n\t\tthis.setupRules(WikiParser.prototype.pragmaRuleClasses,\&quot;$:/config/WikiParserRules/Pragmas/\&quot;);\n\t}\n\tif(!this.blockRuleClasses) {\n\t\tWikiParser.prototype.blockRuleClasses = $tw.modules.createClassesFromModules(\&quot;wikirule\&quot;,\&quot;block\&quot;,$tw.WikiRuleBase);\n\t\tthis.setupRules(WikiParser.prototype.blockRuleClasses,\&quot;$:/config/WikiParserRules/Block/\&quot;);\n\t}\n\tif(!this.inlineRuleClasses) {\n\t\tWikiParser.prototype.inlineRuleClasses = $tw.modules.createClassesFromModules(\&quot;wikirule\&quot;,\&quot;inline\&quot;,$tw.WikiRuleBase);\n\t\tthis.setupRules(WikiParser.prototype.inlineRuleClasses,\&quot;$:/config/WikiParserRules/Inline/\&quot;);\n\t}\n\t// Save the parse text\n\tthis.type = type || \&quot;text/vnd.tiddlywiki\&quot;;\n\tthis.source = text || \&quot;\&quot;;\n\tthis.sourceLength = this.source.length;\n\t// Set current parse position\n\tthis.pos = 0;\n\t// Instantiate the pragma parse rules\n\tthis.pragmaRules = this.instantiateRules(this.pragmaRuleClasses,\&quot;pragma\&quot;,0);\n\t// Instantiate the parser block and inline rules\n\tthis.blockRules = this.instantiateRules(this.blockRuleClasses,\&quot;block\&quot;,0);\n\tthis.inlineRules = this.instantiateRules(this.inlineRuleClasses,\&quot;inline\&quot;,0);\n\t// Parse any pragmas\n\tthis.tree = [];\n\tvar topBranch = this.parsePragmas();\n\t// Parse the text into inline runs or blocks\n\tif(options.parseAsInline) {\n\t\ttopBranch.push.apply(topBranch,this.parseInlineRun());\n\t} else {\n\t\ttopBranch.push.apply(topBranch,this.parseBlocks());\n\t}\n\t// Return the parse tree\n};\n\n/*\n*/\nWikiParser.prototype.loadRemoteTiddler = function(url) {\n\tvar self = this;\n\t$tw.utils.httpRequest({\n\t\turl: url,\n\t\ttype: \&quot;GET\&quot;,\n\t\tcallback: function(err,data) {\n\t\t\tif(!err) {\n\t\t\t\tvar tiddlers = self.wiki.deserializeTiddlers(\&quot;.tid\&quot;,data,self.wiki.getCreationFields());\n\t\t\t\t$tw.utils.each(tiddlers,function(tiddler) {\n\t\t\t\t\ttiddler[\&quot;_canonical_uri\&quot;] = url;\n\t\t\t\t});\n\t\t\t\tif(tiddlers) {\n\t\t\t\t\tself.wiki.addTiddlers(tiddlers);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n};\n\n/*\n*/\nWikiParser.prototype.setupRules = function(proto,configPrefix) {\n\tvar self = this;\n\tif(!$tw.safemode) {\n\t\t$tw.utils.each(proto,function(object,name) {\n\t\t\tif(self.wiki.getTiddlerText(configPrefix + name,\&quot;enable\&quot;) !== \&quot;enable\&quot;) {\n\t\t\t\tdelete proto[name];\n\t\t\t}\n\t\t});\n\t}\n};\n\n/*\nInstantiate an array of parse rules\n*/\nWikiParser.prototype.instantiateRules = function(classes,type,startPos) {\n\tvar rulesInfo = [],\n\t\tself = this;\n\t$tw.utils.each(classes,function(RuleClass) {\n\t\t// Instantiate the rule\n\t\tvar rule = new RuleClass(self);\n\t\trule.is = {};\n\t\trule.is[type] = true;\n\t\trule.init(self);\n\t\tvar matchIndex = rule.findNextMatch(startPos);\n\t\tif(matchIndex !== undefined) {\n\t\t\trulesInfo.push({\n\t\t\t\trule: rule,\n\t\t\t\tmatchIndex: matchIndex\n\t\t\t});\n\t\t}\n\t});\n\treturn rulesInfo;\n};\n\n/*\nSkip any whitespace at the current position. Options are:\n\ttreatNewlinesAsNonWhitespace: true if newlines are NOT to be treated as whitespace\n*/\nWikiParser.prototype.skipWhitespace = function(options) {\n\toptions = options || {};\n\tvar whitespaceRegExp = options.treatNewlinesAsNonWhitespace ? /([^\\S\\n]+)/mg : /(\\s+)/mg;\n\twhitespaceRegExp.lastIndex = this.pos;\n\tvar whitespaceMatch = whitespaceRegExp.exec(this.source);\n\tif(whitespaceMatch &amp;&amp; whitespaceMatch.index === this.pos) {\n\t\tthis.pos = whitespaceRegExp.lastIndex;\n\t}\n};\n\n/*\nGet the next match out of an array of parse rule instances\n*/\nWikiParser.prototype.findNextMatch = function(rules,startPos) {\n\t// Find the best matching rule by finding the closest match position\n\tvar matchingRule,\n\t\tmatchingRulePos = this.sourceLength;\n\t// Step through each rule\n\tfor(var t=0; t&lt;rules.length; t++) {\n\t\tvar ruleInfo = rules[t];\n\t\t// Ask the rule to get the next match if we've moved past the current one\n\t\tif(ruleInfo.matchIndex !== undefined  &amp;&amp; ruleInfo.matchIndex &lt; startPos) {\n\t\t\truleInfo.matchIndex = ruleInfo.rule.findNextMatch(startPos);\n\t\t}\n\t\t// Adopt this match if it's closer than the current best match\n\t\tif(ruleInfo.matchIndex !== undefined &amp;&amp; ruleInfo.matchIndex &lt;= matchingRulePos) {\n\t\t\tmatchingRule = ruleInfo;\n\t\t\tmatchingRulePos = ruleInfo.matchIndex;\n\t\t}\n\t}\n\treturn matchingRule;\n};\n\n/*\nParse any pragmas at the beginning of a block of parse text\n*/\nWikiParser.prototype.parsePragmas = function() {\n\tvar currentTreeBranch = this.tree;\n\twhile(true) {\n\t\t// Skip whitespace\n\t\tthis.skipWhitespace();\n\t\t// Check for the end of the text\n\t\tif(this.pos &gt;= this.sourceLength) {\n\t\t\tbreak;\n\t\t}\n\t\t// Check if we've arrived at a pragma rule match\n\t\tvar nextMatch = this.findNextMatch(this.pragmaRules,this.pos);\n\t\t// If not, just exit\n\t\tif(!nextMatch || nextMatch.matchIndex !== this.pos) {\n\t\t\tbreak;\n\t\t}\n\t\t// Process the pragma rule\n\t\tvar subTree = nextMatch.rule.parse();\n\t\tif(subTree.length &gt; 0) {\n\t\t\t// Quick hack; we only cope with a single parse tree node being returned, which is true at the moment\n\t\t\tcurrentTreeBranch.push.apply(currentTreeBranch,subTree);\n\t\t\tsubTree[0].children = [];\n\t\t\tcurrentTreeBranch = subTree[0].children;\n\t\t}\n\t}\n\treturn currentTreeBranch;\n};\n\n/*\nParse a block from the current position\n\tterminatorRegExpString: optional regular expression string that identifies the end of plain paragraphs. Must not include capturing parenthesis\n*/\nWikiParser.prototype.parseBlock = function(terminatorRegExpString) {\n\tvar terminatorRegExp = terminatorRegExpString ? new RegExp(\&quot;(\&quot; + terminatorRegExpString + \&quot;|\\\\r?\\\\n\\\\r?\\\\n)\&quot;,\&quot;mg\&quot;) : /(\\r?\\n\\r?\\n)/mg;\n\tthis.skipWhitespace();\n\tif(this.pos &gt;= this.sourceLength) {\n\t\treturn [];\n\t}\n\t// Look for a block rule that applies at the current position\n\tvar nextMatch = this.findNextMatch(this.blockRules,this.pos);\n\tif(nextMatch &amp;&amp; nextMatch.matchIndex === this.pos) {\n\t\treturn nextMatch.rule.parse();\n\t}\n\t// Treat it as a paragraph if we didn't find a block rule\n\treturn [{type: \&quot;element\&quot;, tag: \&quot;p\&quot;, children: this.parseInlineRun(terminatorRegExp)}];\n};\n\n/*\nParse a series of blocks of text until a terminating regexp is encountered or the end of the text\n\tterminatorRegExpString: terminating regular expression\n*/\nWikiParser.prototype.parseBlocks = function(terminatorRegExpString) {\n\tif(terminatorRegExpString) {\n\t\treturn this.parseBlocksTerminated(terminatorRegExpString);\n\t} else {\n\t\treturn this.parseBlocksUnterminated();\n\t}\n};\n\n/*\nParse a block from the current position to the end of the text\n*/\nWikiParser.prototype.parseBlocksUnterminated = function() {\n\tvar tree = [];\n\twhile(this.pos &lt; this.sourceLength) {\n\t\ttree.push.apply(tree,this.parseBlock());\n\t}\n\treturn tree;\n};\n\n/*\nParse blocks of text until a terminating regexp is encountered\n*/\nWikiParser.prototype.parseBlocksTerminated = function(terminatorRegExpString) {\n\tvar terminatorRegExp = new RegExp(\&quot;(\&quot; + terminatorRegExpString + \&quot;)\&quot;,\&quot;mg\&quot;),\n\t\ttree = [];\n\t// Skip any whitespace\n\tthis.skipWhitespace();\n\t//  Check if we've got the end marker\n\tterminatorRegExp.lastIndex = this.pos;\n\tvar match = terminatorRegExp.exec(this.source);\n\t// Parse the text into blocks\n\twhile(this.pos &lt; this.sourceLength &amp;&amp; !(match &amp;&amp; match.index === this.pos)) {\n\t\tvar blocks = this.parseBlock(terminatorRegExpString);\n\t\ttree.push.apply(tree,blocks);\n\t\t// Skip any whitespace\n\t\tthis.skipWhitespace();\n\t\t//  Check if we've got the end marker\n\t\tterminatorRegExp.lastIndex = this.pos;\n\t\tmatch = terminatorRegExp.exec(this.source);\n\t}\n\tif(match &amp;&amp; match.index === this.pos) {\n\t\tthis.pos = match.index + match[0].length;\n\t}\n\treturn tree;\n};\n\n/*\nParse a run of text at the current position\n\tterminatorRegExp: a regexp at which to stop the run\n\toptions: see below\nOptions available:\n\teatTerminator: move the parse position past any encountered terminator (default false)\n*/\nWikiParser.prototype.parseInlineRun = function(terminatorRegExp,options) {\n\tif(terminatorRegExp) {\n\t\treturn this.parseInlineRunTerminated(terminatorRegExp,options);\n\t} else {\n\t\treturn this.parseInlineRunUnterminated(options);\n\t}\n};\n\nWikiParser.prototype.parseInlineRunUnterminated = function(options) {\n\tvar tree = [];\n\t// Find the next occurrence of an inline rule\n\tvar nextMatch = this.findNextMatch(this.inlineRules,this.pos);\n\t// Loop around the matches until we've reached the end of the text\n\twhile(this.pos &lt; this.sourceLength &amp;&amp; nextMatch) {\n\t\t// Process the text preceding the run rule\n\t\tif(nextMatch.matchIndex &gt; this.pos) {\n\t\t\ttree.push({type: \&quot;text\&quot;, text: this.source.substring(this.pos,nextMatch.matchIndex)});\n\t\t\tthis.pos = nextMatch.matchIndex;\n\t\t}\n\t\t// Process the run rule\n\t\ttree.push.apply(tree,nextMatch.rule.parse());\n\t\t// Look for the next run rule\n\t\tnextMatch = this.findNextMatch(this.inlineRules,this.pos);\n\t}\n\t// Process the remaining text\n\tif(this.pos &lt; this.sourceLength) {\n\t\ttree.push({type: \&quot;text\&quot;, text: this.source.substr(this.pos)});\n\t}\n\tthis.pos = this.sourceLength;\n\treturn tree;\n};\n\nWikiParser.prototype.parseInlineRunTerminated = function(terminatorRegExp,options) {\n\toptions = options || {};\n\tvar tree = [];\n\t// Find the next occurrence of the terminator\n\tterminatorRegExp.lastIndex = this.pos;\n\tvar terminatorMatch = terminatorRegExp.exec(this.source);\n\t// Find the next occurrence of a inlinerule\n\tvar inlineRuleMatch = this.findNextMatch(this.inlineRules,this.pos);\n\t// Loop around until we've reached the end of the text\n\twhile(this.pos &lt; this.sourceLength &amp;&amp; (terminatorMatch || inlineRuleMatch)) {\n\t\t// Return if we've found the terminator, and it precedes any inline rule match\n\t\tif(terminatorMatch) {\n\t\t\tif(!inlineRuleMatch || inlineRuleMatch.matchIndex &gt;= terminatorMatch.index) {\n\t\t\t\tif(terminatorMatch.index &gt; this.pos) {\n\t\t\t\t\ttree.push({type: \&quot;text\&quot;, text: this.source.substring(this.pos,terminatorMatch.index)});\n\t\t\t\t}\n\t\t\t\tthis.pos = terminatorMatch.index;\n\t\t\t\tif(options.eatTerminator) {\n\t\t\t\t\tthis.pos += terminatorMatch[0].length;\n\t\t\t\t}\n\t\t\t\treturn tree;\n\t\t\t}\n\t\t}\n\t\t// Process any inline rule, along with the text preceding it\n\t\tif(inlineRuleMatch) {\n\t\t\t// Preceding text\n\t\t\tif(inlineRuleMatch.matchIndex &gt; this.pos) {\n\t\t\t\ttree.push({type: \&quot;text\&quot;, text: this.source.substring(this.pos,inlineRuleMatch.matchIndex)});\n\t\t\t\tthis.pos = inlineRuleMatch.matchIndex;\n\t\t\t}\n\t\t\t// Process the inline rule\n\t\t\ttree.push.apply(tree,inlineRuleMatch.rule.parse());\n\t\t\t// Look for the next inline rule\n\t\t\tinlineRuleMatch = this.findNextMatch(this.inlineRules,this.pos);\n\t\t\t// Look for the next terminator match\n\t\t\tterminatorRegExp.lastIndex = this.pos;\n\t\t\tterminatorMatch = terminatorRegExp.exec(this.source);\n\t\t}\n\t}\n\t// Process the remaining text\n\tif(this.pos &lt; this.sourceLength) {\n\t\ttree.push({type: \&quot;text\&quot;, text: this.source.substr(this.pos)});\n\t}\n\tthis.pos = this.sourceLength;\n\treturn tree;\n};\n\n/*\nParse zero or more class specifiers `.classname`\n*/\nWikiParser.prototype.parseClasses = function() {\n\tvar classRegExp = /\\.([^\\s\\.]+)/mg,\n\t\tclassNames = [];\n\tclassRegExp.lastIndex = this.pos;\n\tvar match = classRegExp.exec(this.source);\n\twhile(match &amp;&amp; match.index === this.pos) {\n\t\tthis.pos = match.index + match[0].length;\n\t\tclassNames.push(match[1]);\n\t\tmatch = classRegExp.exec(this.source);\n\t}\n\treturn classNames;\n};\n\n/*\nAmend the rules used by this instance of the parser\n\ttype: `only` keeps just the named rules, `except` keeps all but the named rules\n\tnames: array of rule names\n*/\nWikiParser.prototype.amendRules = function(type,names) {\n\tnames = names || [];\n\t// Define the filter function\n\tvar keepFilter;\n\tif(type === \&quot;only\&quot;) {\n\t\tkeepFilter = function(name) {\n\t\t\treturn names.indexOf(name) !== -1;\n\t\t};\n\t} else if(type === \&quot;except\&quot;) {\n\t\tkeepFilter = function(name) {\n\t\t\treturn names.indexOf(name) === -1;\n\t\t};\n\t} else {\n\t\treturn;\n\t}\n\t// Define a function to process each of our rule arrays\n\tvar processRuleArray = function(ruleArray) {\n\t\tfor(var t=ruleArray.length-1; t&gt;=0; t--) {\n\t\t\tif(!keepFilter(ruleArray[t].rule.name)) {\n\t\t\t\truleArray.splice(t,1);\n\t\t\t}\n\t\t}\n\t};\n\t// Process each rule array\n\tprocessRuleArray(this.pragmaRules);\n\tprocessRuleArray(this.blockRules);\n\tprocessRuleArray(this.inlineRules);\n};\n\nexports[\&quot;text/vnd.tiddlywiki\&quot;] = WikiParser;\n\n})();\n\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/wikiparser.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;parser&quot;
        },
        &quot;$:/core/modules/parsers/wikiparser/rules/wikirulebase.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/parsers/wikiparser/rules/wikirulebase.js\ntype: application/javascript\nmodule-type: global\n\nBase class for wiki parser rules\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nThis constructor is always overridden with a blank constructor, and so shouldn't be used\n*/\nvar WikiRuleBase = function() {\n};\n\n/*\nTo be overridden by individual rules\n*/\nWikiRuleBase.prototype.init = function(parser) {\n\tthis.parser = parser;\n};\n\n/*\nDefault implementation of findNextMatch uses RegExp matching\n*/\nWikiRuleBase.prototype.findNextMatch = function(startPos) {\n\tthis.matchRegExp.lastIndex = startPos;\n\tthis.match = this.matchRegExp.exec(this.parser.source);\n\treturn this.match ? this.match.index : undefined;\n};\n\nexports.WikiRuleBase = WikiRuleBase;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/parsers/wikiparser/rules/wikirulebase.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;global&quot;
        },
        &quot;$:/core/modules/pluginswitcher.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/pluginswitcher.js\ntype: application/javascript\nmodule-type: global\n\nManages switching plugins for themes and languages.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\noptions:\nwiki: wiki store to be used\npluginType: type of plugin to be switched\ncontrollerTitle: title of tiddler used to control switching of this resource\ndefaultPlugins: array of default plugins to be used if nominated plugin isn't found\n*/\nfunction PluginSwitcher(options) {\n\tthis.wiki = options.wiki;\n\tthis.pluginType = options.pluginType;\n\tthis.controllerTitle = options.controllerTitle;\n\tthis.defaultPlugins = options.defaultPlugins || [];\n\t// Switch to the current plugin\n\tthis.switchPlugins();\n\t// Listen for changes to the selected plugin\n\tvar self = this;\n\tthis.wiki.addEventListener(\&quot;change\&quot;,function(changes) {\n\t\tif($tw.utils.hop(changes,self.controllerTitle)) {\n\t\t\tself.switchPlugins();\n\t\t}\n\t});\n}\n\nPluginSwitcher.prototype.switchPlugins = function() {\n\t// Get the name of the current theme\n\tvar selectedPluginTitle = this.wiki.getTiddlerText(this.controllerTitle);\n\t// If it doesn't exist, then fallback to one of the default themes\n\tvar index = 0;\n\twhile(!this.wiki.getTiddler(selectedPluginTitle) &amp;&amp; index &lt; this.defaultPlugins.length) {\n\t\tselectedPluginTitle = this.defaultPlugins[index++];\n\t}\n\t// Accumulate the titles of the plugins that we need to load\n\tvar plugins = [],\n\t\tself = this,\n\t\taccumulatePlugin = function(title) {\n\t\t\tvar tiddler = self.wiki.getTiddler(title);\n\t\t\tif(tiddler &amp;&amp; tiddler.isPlugin() &amp;&amp; plugins.indexOf(title) === -1) {\n\t\t\t\tplugins.push(title);\n\t\t\t\tvar pluginInfo = JSON.parse(self.wiki.getTiddlerText(title)),\n\t\t\t\t\tdependents = $tw.utils.parseStringArray(tiddler.fields.dependents || \&quot;\&quot;);\n\t\t\t\t$tw.utils.each(dependents,function(title) {\n\t\t\t\t\taccumulatePlugin(title);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\taccumulatePlugin(selectedPluginTitle);\n\t// Unregister any existing theme tiddlers\n\tvar unregisteredTiddlers = $tw.wiki.unregisterPluginTiddlers(this.pluginType);\n\t// Register any new theme tiddlers\n\tvar registeredTiddlers = $tw.wiki.registerPluginTiddlers(this.pluginType,plugins);\n\t// Unpack the current theme tiddlers\n\t$tw.wiki.unpackPluginTiddlers();\n};\n\nexports.PluginSwitcher = PluginSwitcher;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/pluginswitcher.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;global&quot;
        },
        &quot;$:/core/modules/saver-handler.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/saver-handler.js\ntype: application/javascript\nmodule-type: global\n\nThe saver handler tracks changes to the store and handles saving the entire wiki via saver modules.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nInstantiate the saver handler with the following options:\nwiki: wiki to be synced\ndirtyTracking: true if dirty tracking should be performed\n*/\nfunction SaverHandler(options) {\n\tvar self = this;\n\tthis.wiki = options.wiki;\n\tthis.dirtyTracking = options.dirtyTracking;\n\tthis.pendingAutoSave = false;\n\t// Make a logger\n\tthis.logger = new $tw.utils.Logger(\&quot;saver-handler\&quot;);\n\t// Initialise our savers\n\tif($tw.browser) {\n\t\tthis.initSavers();\n\t}\n\t// Only do dirty tracking if required\n\tif($tw.browser &amp;&amp; this.dirtyTracking) {\n\t\t// Compile the dirty tiddler filter\n\t\tthis.filterFn = this.wiki.compileFilter(this.wiki.getTiddlerText(this.titleSyncFilter));\n\t\t// Count of changes that have not yet been saved\n\t\tthis.numChanges = 0;\n\t\t// Listen out for changes to tiddlers\n\t\tthis.wiki.addEventListener(\&quot;change\&quot;,function(changes) {\n\t\t\t// Filter the changes so that we only count changes to tiddlers that we care about\n\t\t\tvar filteredChanges = self.filterFn.call(self.wiki,function(callback) {\n\t\t\t\t$tw.utils.each(changes,function(change,title) {\n\t\t\t\t\tvar tiddler = self.wiki.getTiddler(title);\n\t\t\t\t\tcallback(tiddler,title);\n\t\t\t\t});\n\t\t\t});\n\t\t\t// Adjust the number of changes\n\t\t\tself.numChanges += filteredChanges.length;\n\t\t\tself.updateDirtyStatus();\n\t\t\t// Do any autosave if one is pending and there's no more change events\n\t\t\tif(self.pendingAutoSave &amp;&amp; self.wiki.getSizeOfTiddlerEventQueue() === 0) {\n\t\t\t\t// Check if we're dirty\n\t\t\t\tif(self.numChanges &gt; 0) {\n\t\t\t\t\tself.saveWiki({\n\t\t\t\t\t\tmethod: \&quot;autosave\&quot;,\n\t\t\t\t\t\tdownloadType: \&quot;text/plain\&quot;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tself.pendingAutoSave = false;\n\t\t\t}\n\t\t});\n\t\t// Listen for the autosave event\n\t\t$tw.rootWidget.addEventListener(\&quot;tm-auto-save-wiki\&quot;,function(event) {\n\t\t\t// Do the autosave unless there are outstanding tiddler change events\n\t\t\tif(self.wiki.getSizeOfTiddlerEventQueue() === 0) {\n\t\t\t\t// Check if we're dirty\n\t\t\t\tif(self.numChanges &gt; 0) {\n\t\t\t\t\tself.saveWiki({\n\t\t\t\t\t\tmethod: \&quot;autosave\&quot;,\n\t\t\t\t\t\tdownloadType: \&quot;text/plain\&quot;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Otherwise put ourselves in the \&quot;pending autosave\&quot; state and wait for the change event before we do the autosave\n\t\t\t\tself.pendingAutoSave = true;\n\t\t\t}\n\t\t});\n\t\t// Set up our beforeunload handler\n\t\t$tw.addUnloadTask(function(event) {\n\t\t\tvar confirmationMessage;\n\t\t\tif(self.isDirty()) {\n\t\t\t\tconfirmationMessage = $tw.language.getString(\&quot;UnsavedChangesWarning\&quot;);\n\t\t\t\tevent.returnValue = confirmationMessage; // Gecko\n\t\t\t}\n\t\t\treturn confirmationMessage;\n\t\t});\n\t}\n\t// Install the save action handlers\n\tif($tw.browser) {\n\t\t$tw.rootWidget.addEventListener(\&quot;tm-save-wiki\&quot;,function(event) {\n\t\t\tself.saveWiki({\n\t\t\t\ttemplate: event.param,\n\t\t\t\tdownloadType: \&quot;text/plain\&quot;,\n\t\t\t\tvariables: event.paramObject\n\t\t\t});\n\t\t});\n\t\t$tw.rootWidget.addEventListener(\&quot;tm-download-file\&quot;,function(event) {\n\t\t\tself.saveWiki({\n\t\t\t\tmethod: \&quot;download\&quot;,\n\t\t\t\ttemplate: event.param,\n\t\t\t\tdownloadType: \&quot;text/plain\&quot;,\n\t\t\t\tvariables: event.paramObject\n\t\t\t});\n\t\t});\n\t}\n}\n\nSaverHandler.prototype.titleSyncFilter = \&quot;$:/config/SaverFilter\&quot;;\nSaverHandler.prototype.titleAutoSave = \&quot;$:/config/AutoSave\&quot;;\nSaverHandler.prototype.titleSavedNotification = \&quot;$:/language/Notifications/Save/Done\&quot;;\n\n/*\nSelect the appropriate saver modules and set them up\n*/\nSaverHandler.prototype.initSavers = function(moduleType) {\n\tmoduleType = moduleType || \&quot;saver\&quot;;\n\t// Instantiate the available savers\n\tthis.savers = [];\n\tvar self = this;\n\t$tw.modules.forEachModuleOfType(moduleType,function(title,module) {\n\t\tif(module.canSave(self)) {\n\t\t\tself.savers.push(module.create(self.wiki));\n\t\t}\n\t});\n\t// Sort the savers into priority order\n\tthis.savers.sort(function(a,b) {\n\t\tif(a.info.priority &lt; b.info.priority) {\n\t\t\treturn -1;\n\t\t} else {\n\t\t\tif(a.info.priority &gt; b.info.priority) {\n\t\t\t\treturn +1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t});\n};\n\n/*\nSave the wiki contents. Options are:\n\tmethod: \&quot;save\&quot;, \&quot;autosave\&quot; or \&quot;download\&quot;\n\ttemplate: the tiddler containing the template to save\n\tdownloadType: the content type for the saved file\n*/\nSaverHandler.prototype.saveWiki = function(options) {\n\toptions = options || {};\n\tvar self = this,\n\t\tmethod = options.method || \&quot;save\&quot;,\n\t\tvariables = options.variables || {},\n\t\ttemplate = options.template || \&quot;$:/core/save/all\&quot;,\n\t\tdownloadType = options.downloadType || \&quot;text/plain\&quot;,\n\t\ttext = this.wiki.renderTiddler(downloadType,template,options),\n\t\tcallback = function(err) {\n\t\t\tif(err) {\n\t\t\t\talert(\&quot;Error while saving:\\n\\n\&quot; + err);\n\t\t\t} else {\n\t\t\t\t// Clear the task queue if we're saving (rather than downloading)\n\t\t\t\tif(method !== \&quot;download\&quot;) {\n\t\t\t\t\tself.numChanges = 0;\n\t\t\t\t\tself.updateDirtyStatus();\n\t\t\t\t}\n\t\t\t\t$tw.notifier.display(self.titleSavedNotification);\n\t\t\t\tif(options.callback) {\n\t\t\t\t\toptions.callback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t// Ignore autosave if disabled\n\tif(method === \&quot;autosave\&quot; &amp;&amp; this.wiki.getTiddlerText(this.titleAutoSave,\&quot;yes\&quot;) !== \&quot;yes\&quot;) {\n\t\treturn false;\n\t}\n\t// Call the highest priority saver that supports this method\n\tfor(var t=this.savers.length-1; t&gt;=0; t--) {\n\t\tvar saver = this.savers[t];\n\t\tif(saver.info.capabilities.indexOf(method) !== -1 &amp;&amp; saver.save(text,method,callback,{variables: {filename: variables.filename}})) {\n\t\t\tthis.logger.log(\&quot;Saving wiki with method\&quot;,method,\&quot;through saver\&quot;,saver.info.name);\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n\n/*\nChecks whether the wiki is dirty (ie the window shouldn't be closed)\n*/\nSaverHandler.prototype.isDirty = function() {\n\treturn this.numChanges &gt; 0;\n};\n\n/*\nUpdate the document body with the class \&quot;tc-dirty\&quot; if the wiki has unsaved/unsynced changes\n*/\nSaverHandler.prototype.updateDirtyStatus = function() {\n\tif($tw.browser) {\n\t\t$tw.utils.toggleClass(document.body,\&quot;tc-dirty\&quot;,this.isDirty());\n\t}\n};\n\nexports.SaverHandler = SaverHandler;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/saver-handler.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;global&quot;
        },
        &quot;$:/core/modules/savers/andtidwiki.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/savers/andtidwiki.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via the AndTidWiki Android app\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false, netscape: false, Components: false */\n\&quot;use strict\&quot;;\n\nvar AndTidWiki = function(wiki) {\n};\n\nAndTidWiki.prototype.save = function(text,method,callback) {\n\t// Get the pathname of this document\n\tvar pathname = decodeURIComponent(document.location.toString().split(\&quot;#\&quot;)[0]);\n\t// Strip the file://\n\tif(pathname.indexOf(\&quot;file://\&quot;) === 0) {\n\t\tpathname = pathname.substr(7);\n\t}\n\t// Strip any query or location part\n\tvar p = pathname.indexOf(\&quot;?\&quot;);\n\tif(p !== -1) {\n\t\tpathname = pathname.substr(0,p);\n\t}\n\tp = pathname.indexOf(\&quot;#\&quot;);\n\tif(p !== -1) {\n\t\tpathname = pathname.substr(0,p);\n\t}\n\t// Save the file\n\twindow.twi.saveFile(pathname,text);\n\t// Call the callback\n\tcallback(null);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nAndTidWiki.prototype.info = {\n\tname: \&quot;andtidwiki\&quot;,\n\tpriority: 1600,\n\tcapabilities: [\&quot;save\&quot;, \&quot;autosave\&quot;]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn !!window.twi &amp;&amp; !!window.twi.saveFile;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new AndTidWiki(wiki);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/savers/andtidwiki.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;saver&quot;
        },
        &quot;$:/core/modules/savers/download.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/savers/download.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via HTML5's download APIs\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar DownloadSaver = function(wiki) {\n};\n\nDownloadSaver.prototype.save = function(text,method,callback,options) {\n\toptions = options || {};\n\t// Get the current filename\n\tvar filename = options.variables.filename;\n\tif(!filename) {\n\t\tvar p = document.location.pathname.lastIndexOf(\&quot;/\&quot;);\n\t\tif(p !== -1) {\n\t\t\tfilename = document.location.pathname.substr(p+1);\n\t\t}\n\t}\n\tif(!filename) {\n\t\tfilename = \&quot;tiddlywiki.html\&quot;;\n\t}\n\t// Set up the link\n\tvar link = document.createElement(\&quot;a\&quot;);\n\tlink.setAttribute(\&quot;target\&quot;,\&quot;_blank\&quot;);\n\tif(Blob !== undefined) {\n\t\tvar blob = new Blob([text], {type: \&quot;text/html\&quot;});\n\t\tlink.setAttribute(\&quot;href\&quot;, URL.createObjectURL(blob));\n\t} else {\n\t\tlink.setAttribute(\&quot;href\&quot;,\&quot;data:text/html,\&quot; + encodeURIComponent(text));\n\t}\n\tlink.setAttribute(\&quot;download\&quot;,filename);\n\tdocument.body.appendChild(link);\n\tlink.click();\n\tdocument.body.removeChild(link);\n\t// Callback that we succeeded\n\tcallback(null);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nDownloadSaver.prototype.info = {\n\tname: \&quot;download\&quot;,\n\tpriority: 100,\n\tcapabilities: [\&quot;save\&quot;, \&quot;download\&quot;]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn document.createElement(\&quot;a\&quot;).download !== undefined;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new DownloadSaver(wiki);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/savers/download.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;saver&quot;
        },
        &quot;$:/core/modules/savers/fsosaver.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/savers/fsosaver.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via MS FileSystemObject ActiveXObject\n\nNote: Since TiddlyWiki's markup contains the MOTW, the FileSystemObject normally won't be available. \nHowever, if the wiki is loaded as an .HTA file (Windows HTML Applications) then the FSO can be used.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar FSOSaver = function(wiki) {\n};\n\nFSOSaver.prototype.save = function(text,method,callback) {\n\t// Get the pathname of this document\n\tvar pathname = unescape(document.location.pathname);\n\t// Test for a Windows path of the form /x:\\blah...\n\tif(/^\\/[A-Z]\\:\\\\[^\\\\]+/i.test(pathname)) {\t// ie: ^/[a-z]:/[^/]+\n\t\t// Remove the leading slash\n\t\tpathname = pathname.substr(1);\n\t} else if(document.location.hostname !== \&quot;\&quot; &amp;&amp; /^\\/\\\\[^\\\\]+\\\\[^\\\\]+/i.test(pathname)) {\t// test for \\\\server\\share\\blah... - ^/[^/]+/[^/]+\n\t\t// Remove the leading slash\n\t\tpathname = pathname.substr(1);\n\t\t// reconstruct UNC path\n\t\tpathname = \&quot;\\\\\\\\\&quot; + document.location.hostname + pathname;\n\t} else {\n\t\treturn false;\n\t}\n\t// Save the file (as UTF-16)\n\tvar fso = new ActiveXObject(\&quot;Scripting.FileSystemObject\&quot;);\n\tvar file = fso.OpenTextFile(pathname,2,-1,-1);\n\tfile.Write(text);\n\tfile.Close();\n\t// Callback that we succeeded\n\tcallback(null);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nFSOSaver.prototype.info = {\n\tname: \&quot;FSOSaver\&quot;,\n\tpriority: 120,\n\tcapabilities: [\&quot;save\&quot;, \&quot;autosave\&quot;]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\ttry {\n\t\treturn (window.location.protocol === \&quot;file:\&quot;) &amp;&amp; !!(new ActiveXObject(\&quot;Scripting.FileSystemObject\&quot;));\n\t} catch(e) { return false; }\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new FSOSaver(wiki);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/savers/fsosaver.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;saver&quot;
        },
        &quot;$:/core/modules/savers/manualdownload.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/savers/manualdownload.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via HTML5's download APIs\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Title of the tiddler containing the download message\nvar downloadInstructionsTitle = \&quot;$:/language/Modals/Download\&quot;;\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar ManualDownloadSaver = function(wiki) {\n};\n\nManualDownloadSaver.prototype.save = function(text,method,callback) {\n\t$tw.modal.display(downloadInstructionsTitle,{\n\t\tdownloadLink: \&quot;data:text/html,\&quot; + encodeURIComponent(text)\n\t});\n\t// Callback that we succeeded\n\tcallback(null);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nManualDownloadSaver.prototype.info = {\n\tname: \&quot;manualdownload\&quot;,\n\tpriority: 0,\n\tcapabilities: [\&quot;save\&quot;, \&quot;download\&quot;]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn true;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new ManualDownloadSaver(wiki);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/savers/manualdownload.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;saver&quot;
        },
        &quot;$:/core/modules/savers/msdownload.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/savers/msdownload.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via window.navigator.msSaveBlob()\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar MsDownloadSaver = function(wiki) {\n};\n\nMsDownloadSaver.prototype.save = function(text,method,callback) {\n\t// Get the current filename\n\tvar filename = \&quot;tiddlywiki.html\&quot;,\n\t\tp = document.location.pathname.lastIndexOf(\&quot;/\&quot;);\n\tif(p !== -1) {\n\t\tfilename = document.location.pathname.substr(p+1);\n\t}\n\t// Set up the link\n\tvar blob = new Blob([text], {type: \&quot;text/html\&quot;});\n\twindow.navigator.msSaveBlob(blob,filename);\n\t// Callback that we succeeded\n\tcallback(null);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nMsDownloadSaver.prototype.info = {\n\tname: \&quot;msdownload\&quot;,\n\tpriority: 110,\n\tcapabilities: [\&quot;save\&quot;, \&quot;download\&quot;]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn !!window.navigator.msSaveBlob;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new MsDownloadSaver(wiki);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/savers/msdownload.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;saver&quot;
        },
        &quot;$:/core/modules/savers/tiddlyfox.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/savers/tiddlyfox.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via the TiddlyFox file extension\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false, netscape: false, Components: false */\n\&quot;use strict\&quot;;\n\nvar TiddlyFoxSaver = function(wiki) {\n};\n\nTiddlyFoxSaver.prototype.save = function(text,method,callback) {\n\tvar messageBox = document.getElementById(\&quot;tiddlyfox-message-box\&quot;);\n\tif(messageBox) {\n\t\t// Get the pathname of this document\n\t\tvar pathname = document.location.toString().split(\&quot;#\&quot;)[0];\n\t\t// Replace file://localhost/ with file:///\n\t\tif(pathname.indexOf(\&quot;file://localhost/\&quot;) === 0) {\n\t\t\tpathname = \&quot;file://\&quot; + pathname.substr(16);\n\t\t}\n\t\t// Windows path file:///x:/blah/blah --&gt; x:\\blah\\blah\n\t\tif(/^file\\:\\/\\/\\/[A-Z]\\:\\//i.test(pathname)) {\n\t\t\t// Remove the leading slash and convert slashes to backslashes\n\t\t\tpathname = pathname.substr(8).replace(/\\//g,\&quot;\\\\\&quot;);\n\t\t// Firefox Windows network path file://///server/share/blah/blah --&gt; //server/share/blah/blah\n\t\t} else if(pathname.indexOf(\&quot;file://///\&quot;) === 0) {\n\t\t\tpathname = \&quot;\\\\\\\\\&quot; + unescape(pathname.substr(10)).replace(/\\//g,\&quot;\\\\\&quot;);\n\t\t// Mac/Unix local path file:///path/path --&gt; /path/path\n\t\t} else if(pathname.indexOf(\&quot;file:///\&quot;) === 0) {\n\t\t\tpathname = unescape(pathname.substr(7));\n\t\t// Mac/Unix local path file:/path/path --&gt; /path/path\n\t\t} else if(pathname.indexOf(\&quot;file:/\&quot;) === 0) {\n\t\t\tpathname = unescape(pathname.substr(5));\n\t\t// Otherwise Windows networth path file://server/share/path/path --&gt; \\\\server\\share\\path\\path\n\t\t} else {\n\t\t\tpathname = \&quot;\\\\\\\\\&quot; + unescape(pathname.substr(7)).replace(new RegExp(\&quot;/\&quot;,\&quot;g\&quot;),\&quot;\\\\\&quot;);\n\t\t}\n\t\t// Create the message element and put it in the message box\n\t\tvar message = document.createElement(\&quot;div\&quot;);\n\t\tmessage.setAttribute(\&quot;data-tiddlyfox-path\&quot;,decodeURIComponent(pathname));\n\t\tmessage.setAttribute(\&quot;data-tiddlyfox-content\&quot;,text);\n\t\tmessageBox.appendChild(message);\n\t\t// Add an event handler for when the file has been saved\n\t\tmessage.addEventListener(\&quot;tiddlyfox-have-saved-file\&quot;,function(event) {\n\t\t\tcallback(null);\n\t\t}, false);\n\t\t// Create and dispatch the custom event to the extension\n\t\tvar event = document.createEvent(\&quot;Events\&quot;);\n\t\tevent.initEvent(\&quot;tiddlyfox-save-file\&quot;,true,false);\n\t\tmessage.dispatchEvent(event);\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\n/*\nInformation about this saver\n*/\nTiddlyFoxSaver.prototype.info = {\n\tname: \&quot;tiddlyfox\&quot;,\n\tpriority: 1500,\n\tcapabilities: [\&quot;save\&quot;, \&quot;autosave\&quot;]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn (window.location.protocol === \&quot;file:\&quot;);\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new TiddlyFoxSaver(wiki);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/savers/tiddlyfox.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;saver&quot;
        },
        &quot;$:/core/modules/savers/tiddlyie.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/savers/tiddlyie.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via Internet Explorer BHO extenion (TiddlyIE)\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar TiddlyIESaver = function(wiki) {\n};\n\nTiddlyIESaver.prototype.save = function(text,method,callback) {\n\t// Check existence of TiddlyIE BHO extension (note: only works after document is complete)\n\tif(typeof(window.TiddlyIE) != \&quot;undefined\&quot;) {\n\t\t// Get the pathname of this document\n\t\tvar pathname = unescape(document.location.pathname);\n\t\t// Test for a Windows path of the form /x:/blah...\n\t\tif(/^\\/[A-Z]\\:\\/[^\\/]+/i.test(pathname)) {\t// ie: ^/[a-z]:/[^/]+ (is this better?: ^/[a-z]:/[^/]+(/[^/]+)*\\.[^/]+ )\n\t\t\t// Remove the leading slash\n\t\t\tpathname = pathname.substr(1);\n\t\t\t// Convert slashes to backslashes\n\t\t\tpathname = pathname.replace(/\\//g,\&quot;\\\\\&quot;);\n\t\t} else if(document.hostname !== \&quot;\&quot; &amp;&amp; /^\\/[^\\/]+\\/[^\\/]+/i.test(pathname)) {\t// test for \\\\server\\share\\blah... - ^/[^/]+/[^/]+\n\t\t\t// Convert slashes to backslashes\n\t\t\tpathname = pathname.replace(/\\//g,\&quot;\\\\\&quot;);\n\t\t\t// reconstruct UNC path\n\t\t\tpathname = \&quot;\\\\\\\\\&quot; + document.location.hostname + pathname;\n\t\t} else return false;\n\t\t// Prompt the user to save the file\n\t\twindow.TiddlyIE.save(pathname, text);\n\t\t// Callback that we succeeded\n\t\tcallback(null);\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\n/*\nInformation about this saver\n*/\nTiddlyIESaver.prototype.info = {\n\tname: \&quot;tiddlyiesaver\&quot;,\n\tpriority: 1500,\n\tcapabilities: [\&quot;save\&quot;]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn (window.location.protocol === \&quot;file:\&quot;);\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new TiddlyIESaver(wiki);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/savers/tiddlyie.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;saver&quot;
        },
        &quot;$:/core/modules/savers/twedit.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/savers/twedit.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via the TWEdit iOS app\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false, netscape: false, Components: false */\n\&quot;use strict\&quot;;\n\nvar TWEditSaver = function(wiki) {\n};\n\nTWEditSaver.prototype.save = function(text,method,callback) {\n\t// Bail if we're not running under TWEdit\n\tif(typeof DeviceInfo !== \&quot;object\&quot;) {\n\t\treturn false;\n\t}\n\t// Get the pathname of this document\n\tvar pathname = decodeURIComponent(document.location.pathname);\n\t// Strip any query or location part\n\tvar p = pathname.indexOf(\&quot;?\&quot;);\n\tif(p !== -1) {\n\t\tpathname = pathname.substr(0,p);\n\t}\n\tp = pathname.indexOf(\&quot;#\&quot;);\n\tif(p !== -1) {\n\t\tpathname = pathname.substr(0,p);\n\t}\n\t// Remove the leading \&quot;/Documents\&quot; from path\n\tvar prefix = \&quot;/Documents\&quot;;\n\tif(pathname.indexOf(prefix) === 0) {\n\t\tpathname = pathname.substr(prefix.length);\n\t}\n\t// Error handler\n\tvar errorHandler = function(event) {\n\t\t// Error\n\t\tcallback(\&quot;Error saving to TWEdit: \&quot; + event.target.error.code);\n\t};\n\t// Get the file system\n\twindow.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(fileSystem) {\n\t\t// Now we've got the filesystem, get the fileEntry\n\t\tfileSystem.root.getFile(pathname, {create: true}, function(fileEntry) {\n\t\t\t// Now we've got the fileEntry, create the writer\n\t\t\tfileEntry.createWriter(function(writer) {\n\t\t\t\twriter.onerror = errorHandler;\n\t\t\t\twriter.onwrite = function() {\n\t\t\t\t\tcallback(null);\n\t\t\t\t};\n\t\t\t\twriter.position = 0;\n\t\t\t\twriter.write(text);\n\t\t\t},errorHandler);\n\t\t}, errorHandler);\n\t}, errorHandler);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nTWEditSaver.prototype.info = {\n\tname: \&quot;twedit\&quot;,\n\tpriority: 1600,\n\tcapabilities: [\&quot;save\&quot;, \&quot;autosave\&quot;]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn true;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new TWEditSaver(wiki);\n};\n\n/////////////////////////// Hack\n// HACK: This ensures that TWEdit recognises us as a TiddlyWiki document\nif($tw.browser) {\n\twindow.version = {title: \&quot;TiddlyWiki\&quot;};\n}\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/savers/twedit.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;saver&quot;
        },
        &quot;$:/core/modules/savers/upload.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/savers/upload.js\ntype: application/javascript\nmodule-type: saver\n\nHandles saving changes via upload to a server.\n\nDesigned to be compatible with BidiX's UploadPlugin at http://tiddlywiki.bidix.info/#UploadPlugin\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nSelect the appropriate saver module and set it up\n*/\nvar UploadSaver = function(wiki) {\n\tthis.wiki = wiki;\n};\n\nUploadSaver.prototype.save = function(text,method,callback) {\n\t// Get the various parameters we need\n\tvar backupDir = this.wiki.getTextReference(\&quot;$:/UploadBackupDir\&quot;) || \&quot;.\&quot;,\n\t\tusername = this.wiki.getTextReference(\&quot;$:/UploadName\&quot;),\n\t\tpassword = $tw.utils.getPassword(\&quot;upload\&quot;),\n\t\tuploadDir = this.wiki.getTextReference(\&quot;$:/UploadDir\&quot;) || \&quot;.\&quot;,\n\t\tuploadFilename = this.wiki.getTextReference(\&quot;$:/UploadFilename\&quot;) || \&quot;index.html\&quot;,\n\t\turl = this.wiki.getTextReference(\&quot;$:/UploadURL\&quot;);\n\t// Bail out if we don't have the bits we need\n\tif(!username || username.toString().trim() === \&quot;\&quot; || !password || password.toString().trim() === \&quot;\&quot;) {\n\t\treturn false;\n\t}\n\t// Construct the url if not provided\n\tif(!url) {\n\t\turl = \&quot;http://\&quot; + username + \&quot;.tiddlyspot.com/store.cgi\&quot;;\n\t}\n\t// Assemble the header\n\tvar boundary = \&quot;---------------------------\&quot; + \&quot;AaB03x\&quot;;\t\n\tvar uploadFormName = \&quot;UploadPlugin\&quot;;\n\tvar head = [];\n\thead.push(\&quot;--\&quot; + boundary + \&quot;\\r\\nContent-disposition: form-data; name=\\\&quot;UploadPlugin\\\&quot;\\r\\n\&quot;);\n\thead.push(\&quot;backupDir=\&quot; + backupDir + \&quot;;user=\&quot; + username + \&quot;;password=\&quot; + password + \&quot;;uploaddir=\&quot; + uploadDir + \&quot;;;\&quot;); \n\thead.push(\&quot;\\r\\n\&quot; + \&quot;--\&quot; + boundary);\n\thead.push(\&quot;Content-disposition: form-data; name=\\\&quot;userfile\\\&quot;; filename=\\\&quot;\&quot; + uploadFilename + \&quot;\\\&quot;\&quot;);\n\thead.push(\&quot;Content-Type: text/html;charset=UTF-8\&quot;);\n\thead.push(\&quot;Content-Length: \&quot; + text.length + \&quot;\\r\\n\&quot;);\n\thead.push(\&quot;\&quot;);\n\t// Assemble the tail and the data itself\n\tvar tail = \&quot;\\r\\n--\&quot; + boundary + \&quot;--\\r\\n\&quot;,\n\t\tdata = head.join(\&quot;\\r\\n\&quot;) + text + tail;\n\t// Do the HTTP post\n\tvar http = new XMLHttpRequest();\n\thttp.open(\&quot;POST\&quot;,url,true,username,password);\n\thttp.setRequestHeader(\&quot;Content-Type\&quot;,\&quot;multipart/form-data; ;charset=UTF-8; boundary=\&quot; + boundary);\n\thttp.onreadystatechange = function() {\n\t\tif(http.readyState == 4 &amp;&amp; http.status == 200) {\n\t\t\tif(http.responseText.substr(0,4) === \&quot;0 - \&quot;) {\n\t\t\t\tcallback(null);\n\t\t\t} else {\n\t\t\t\tcallback(http.responseText);\n\t\t\t}\n\t\t}\n\t};\n\ttry {\n\t\thttp.send(data);\n\t} catch(ex) {\n\t\treturn callback(\&quot;Error:\&quot; + ex);\n\t}\n\t$tw.notifier.display(\&quot;$:/language/Notifications/Save/Starting\&quot;);\n\treturn true;\n};\n\n/*\nInformation about this saver\n*/\nUploadSaver.prototype.info = {\n\tname: \&quot;upload\&quot;,\n\tpriority: 2000,\n\tcapabilities: [\&quot;save\&quot;, \&quot;autosave\&quot;]\n};\n\n/*\nStatic method that returns true if this saver is capable of working\n*/\nexports.canSave = function(wiki) {\n\treturn true;\n};\n\n/*\nCreate an instance of this saver\n*/\nexports.create = function(wiki) {\n\treturn new UploadSaver(wiki);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/savers/upload.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;saver&quot;
        },
        &quot;$:/core/modules/browser-messaging.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/browser-messaging.js\ntype: application/javascript\nmodule-type: startup\n\nBrowser message handling\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Export name and synchronous status\nexports.name = \&quot;browser-messaging\&quot;;\nexports.platforms = [\&quot;browser\&quot;];\nexports.after = [\&quot;startup\&quot;];\nexports.synchronous = true;\n\n/*\nLoad a specified url as an iframe and call the callback when it is loaded. If the url is already loaded then the existing iframe instance is used\n*/\nfunction loadIFrame(url,callback) {\n\t// Check if iframe already exists\n\tvar iframeInfo = $tw.browserMessaging.iframeInfoMap[url];\n\tif(iframeInfo) {\n\t\t// We've already got the iframe\n\t\tcallback(null,iframeInfo);\n\t} else {\n\t\t// Create the iframe and save it in the list\n\t\tvar iframe = document.createElement(\&quot;iframe\&quot;),\n\t\t\tiframeInfo = {\n\t\t\t\turl: url,\n\t\t\t\tstatus: \&quot;loading\&quot;,\n\t\t\t\tdomNode: iframe\n\t\t\t};\n\t\t$tw.browserMessaging.iframeInfoMap[url] = iframeInfo;\n\t\tsaveIFrameInfoTiddler(iframeInfo);\n\t\t// Add the iframe to the DOM and hide it\n\t\tiframe.style.display = \&quot;none\&quot;;\n\t\tdocument.body.appendChild(iframe);\n\t\t// Set up onload\n\t\tiframe.onload = function() {\n\t\t\tiframeInfo.status = \&quot;loaded\&quot;;\n\t\t\tsaveIFrameInfoTiddler(iframeInfo);\n\t\t\tcallback(null,iframeInfo);\n\t\t};\n\t\tiframe.onerror = function() {\n\t\t\tcallback(\&quot;Cannot load iframe\&quot;);\n\t\t};\n\t\ttry {\n\t\t\tiframe.src = url;\n\t\t} catch(ex) {\n\t\t\tcallback(ex);\n\t\t}\n\t}\n}\n\nfunction saveIFrameInfoTiddler(iframeInfo) {\n\t$tw.wiki.addTiddler(new $tw.Tiddler($tw.wiki.getCreationFields(),{\n\t\ttitle: \&quot;$:/temp/ServerConnection/\&quot; + iframeInfo.url,\n\t\ttext: iframeInfo.status,\n\t\ttags: [\&quot;$:/tags/ServerConnection\&quot;],\n\t\turl: iframeInfo.url\n\t},$tw.wiki.getModificationFields()));\n}\n\nexports.startup = function() {\n\t// Initialise the store of iframes we've created\n\t$tw.browserMessaging = {\n\t\tiframeInfoMap: {} // Hashmap by URL of {url:,status:\&quot;loading/loaded\&quot;,domNode:}\n\t};\n\t// Listen for widget messages to control loading the plugin library\n\t$tw.rootWidget.addEventListener(\&quot;tm-load-plugin-library\&quot;,function(event) {\n\t\tvar paramObject = event.paramObject || {},\n\t\t\turl = paramObject.url;\n\t\tif(url) {\n\t\t\tloadIFrame(url,function(err,iframeInfo) {\n\t\t\t\tif(err) {\n\t\t\t\t\talert(\&quot;Error loading plugin library: \&quot; + url);\n\t\t\t\t} else {\n\t\t\t\t\tiframeInfo.domNode.contentWindow.postMessage({\n\t\t\t\t\t\tverb: \&quot;GET\&quot;,\n\t\t\t\t\t\turl: \&quot;recipes/library/tiddlers.json\&quot;,\n\t\t\t\t\t\tcookies: {\n\t\t\t\t\t\t\ttype: \&quot;save-info\&quot;,\n\t\t\t\t\t\t\tinfoTitlePrefix: paramObject.infoTitlePrefix || \&quot;$:/temp/RemoteAssetInfo/\&quot;,\n\t\t\t\t\t\t\turl: url\n\t\t\t\t\t\t}\n\t\t\t\t\t},\&quot;*\&quot;);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\t$tw.rootWidget.addEventListener(\&quot;tm-load-plugin-from-library\&quot;,function(event) {\n\t\tvar paramObject = event.paramObject || {},\n\t\t\turl = paramObject.url,\n\t\t\ttitle = paramObject.title;\n\t\tif(url &amp;&amp; title) {\n\t\t\tloadIFrame(url,function(err,iframeInfo) {\n\t\t\t\tif(err) {\n\t\t\t\t\talert(\&quot;Error loading plugin library: \&quot; + url);\n\t\t\t\t} else {\n\t\t\t\t\tiframeInfo.domNode.contentWindow.postMessage({\n\t\t\t\t\t\tverb: \&quot;GET\&quot;,\n\t\t\t\t\t\turl: \&quot;recipes/library/tiddlers/\&quot; + encodeURIComponent(title) + \&quot;.json\&quot;,\n\t\t\t\t\t\tcookies: {\n\t\t\t\t\t\t\ttype: \&quot;save-tiddler\&quot;,\n\t\t\t\t\t\t\turl: url\n\t\t\t\t\t\t}\n\t\t\t\t\t},\&quot;*\&quot;);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\t// Listen for window messages from other windows\n\twindow.addEventListener(\&quot;message\&quot;,function listener(event){\n\t\tconsole.log(\&quot;browser-messaging: \&quot;,document.location.toString())\n\t\tconsole.log(\&quot;browser-messaging: Received message from\&quot;,event.origin);\n\t\tconsole.log(\&quot;browser-messaging: Message content\&quot;,event.data);\n\t\tswitch(event.data.verb) {\n\t\t\tcase \&quot;GET-RESPONSE\&quot;:\n\t\t\t\tif(event.data.status.charAt(0) === \&quot;2\&quot;) {\n\t\t\t\t\tif(event.data.cookies) {\n\t\t\t\t\t\tif(event.data.cookies.type === \&quot;save-info\&quot;) {\n\t\t\t\t\t\t\tvar tiddlers = JSON.parse(event.data.body);\n\t\t\t\t\t\t\t$tw.utils.each(tiddlers,function(tiddler) {\n\t\t\t\t\t\t\t\t$tw.wiki.addTiddler(new $tw.Tiddler($tw.wiki.getCreationFields(),tiddler,{\n\t\t\t\t\t\t\t\t\ttitle: event.data.cookies.infoTitlePrefix + event.data.cookies.url + \&quot;/\&quot; + tiddler.title,\n\t\t\t\t\t\t\t\t\t\&quot;original-title\&quot;: tiddler.title,\n\t\t\t\t\t\t\t\t\ttext: \&quot;\&quot;,\n\t\t\t\t\t\t\t\t\ttype: \&quot;text/vnd.tiddlywiki\&quot;,\n\t\t\t\t\t\t\t\t\t\&quot;original-type\&quot;: tiddler.type,\n\t\t\t\t\t\t\t\t\t\&quot;plugin-type\&quot;: undefined,\n\t\t\t\t\t\t\t\t\t\&quot;original-plugin-type\&quot;: tiddler[\&quot;plugin-type\&quot;],\n\t\t\t\t\t\t\t\t\t\&quot;module-type\&quot;: undefined,\n\t\t\t\t\t\t\t\t\t\&quot;original-module-type\&quot;: tiddler[\&quot;module-type\&quot;],\n\t\t\t\t\t\t\t\t\ttags: [\&quot;$:/tags/RemoteAssetInfo\&quot;],\n\t\t\t\t\t\t\t\t\t\&quot;original-tags\&quot;: $tw.utils.stringifyList(tiddler.tags || []),\n\t\t\t\t\t\t\t\t\t\&quot;server-url\&quot;: event.data.cookies.url\n\t\t\t\t\t\t\t\t},$tw.wiki.getModificationFields()));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if(event.data.cookies.type === \&quot;save-tiddler\&quot;) {\n\t\t\t\t\t\t\tvar tiddler = JSON.parse(event.data.body);\n\t\t\t\t\t\t\t$tw.wiki.addTiddler(new $tw.Tiddler(tiddler));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t},false);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/browser-messaging.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/core/modules/startup/commands.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/startup/commands.js\ntype: application/javascript\nmodule-type: startup\n\nCommand processing\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Export name and synchronous status\nexports.name = \&quot;commands\&quot;;\nexports.platforms = [\&quot;node\&quot;];\nexports.after = [\&quot;story\&quot;];\nexports.synchronous = false;\n\nexports.startup = function(callback) {\n\t// On the server, start a commander with the command line arguments\n\tvar commander = new $tw.Commander(\n\t\t$tw.boot.argv,\n\t\tfunction(err) {\n\t\t\tif(err) {\n\t\t\t\treturn $tw.utils.error(\&quot;Error: \&quot; + err);\n\t\t\t}\n\t\t\tcallback();\n\t\t},\n\t\t$tw.wiki,\n\t\t{output: process.stdout, error: process.stderr}\n\t);\n\tcommander.execute();\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/startup/commands.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/core/modules/startup/favicon.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/startup/favicon.js\ntype: application/javascript\nmodule-type: startup\n\nFavicon handling\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Export name and synchronous status\nexports.name = \&quot;favicon\&quot;;\nexports.platforms = [\&quot;browser\&quot;];\nexports.after = [\&quot;startup\&quot;];\nexports.synchronous = true;\n\t\t\n// Favicon tiddler\nvar FAVICON_TITLE = \&quot;$:/favicon.ico\&quot;;\n\nexports.startup = function() {\n\t// Set up the favicon\n\tsetFavicon();\n\t// Reset the favicon when the tiddler changes\n\t$tw.wiki.addEventListener(\&quot;change\&quot;,function(changes) {\n\t\tif($tw.utils.hop(changes,FAVICON_TITLE)) {\n\t\t\tsetFavicon();\n\t\t}\n\t});\n};\n\nfunction setFavicon() {\n\tvar tiddler = $tw.wiki.getTiddler(FAVICON_TITLE);\n\tif(tiddler) {\n\t\tvar faviconLink = document.getElementById(\&quot;faviconLink\&quot;);\n\t\tfaviconLink.setAttribute(\&quot;href\&quot;,\&quot;data:\&quot; + tiddler.fields.type + \&quot;;base64,\&quot; + tiddler.fields.text);\n\t}\n}\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/startup/favicon.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/core/modules/startup/info.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/startup/info.js\ntype: application/javascript\nmodule-type: startup\n\nInitialise $:/info tiddlers via $:/temp/info-plugin pseudo-plugin\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Export name and synchronous status\nexports.name = \&quot;info\&quot;;\nexports.before = [\&quot;startup\&quot;];\nexports.after = [\&quot;load-modules\&quot;];\nexports.synchronous = true;\n\nexports.startup = function() {\n\t// Collect up the info tiddlers\n\tvar infoTiddlerFields = {};\n\t// Give each info module a chance to fill in as many info tiddlers as they want\n\t$tw.modules.forEachModuleOfType(\&quot;info\&quot;,function(title,moduleExports) {\n\t\tif(moduleExports &amp;&amp; moduleExports.getInfoTiddlerFields) {\n\t\t\tvar tiddlerFieldsArray = moduleExports.getInfoTiddlerFields(infoTiddlerFields);\n\t\t\t$tw.utils.each(tiddlerFieldsArray,function(fields) {\n\t\t\t\tif(fields) {\n\t\t\t\t\tinfoTiddlerFields[fields.title] = fields;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\t// Bake the info tiddlers into a plugin\n\tvar fields = {\n\t\ttitle: \&quot;$:/temp/info-plugin\&quot;,\n\t\ttype: \&quot;application/json\&quot;,\n\t\t\&quot;plugin-type\&quot;: \&quot;info\&quot;,\n\t\ttext: JSON.stringify({tiddlers: infoTiddlerFields},null,$tw.config.preferences.jsonSpaces)\n\t};\n\t$tw.wiki.addTiddler(new $tw.Tiddler(fields));\n\t$tw.wiki.readPluginInfo();\n\t$tw.wiki.registerPluginTiddlers(\&quot;info\&quot;);\n\t$tw.wiki.unpackPluginTiddlers();\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/startup/info.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/core/modules/startup/load-modules.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/startup/load-modules.js\ntype: application/javascript\nmodule-type: startup\n\nLoad core modules\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Export name and synchronous status\nexports.name = \&quot;load-modules\&quot;;\nexports.synchronous = true;\n\nexports.startup = function() {\n\t// Load modules\n\t$tw.modules.applyMethods(\&quot;utils\&quot;,$tw.utils);\n\tif($tw.node) {\n\t\t$tw.modules.applyMethods(\&quot;utils-node\&quot;,$tw.utils);\n\t}\n\t$tw.modules.applyMethods(\&quot;global\&quot;,$tw);\n\t$tw.modules.applyMethods(\&quot;config\&quot;,$tw.config);\n\t$tw.Tiddler.fieldModules = $tw.modules.getModulesByTypeAsHashmap(\&quot;tiddlerfield\&quot;);\n\t$tw.modules.applyMethods(\&quot;tiddlermethod\&quot;,$tw.Tiddler.prototype);\n\t$tw.modules.applyMethods(\&quot;wikimethod\&quot;,$tw.Wiki.prototype);\n\t$tw.modules.applyMethods(\&quot;tiddlerdeserializer\&quot;,$tw.Wiki.tiddlerDeserializerModules);\n\t$tw.macros = $tw.modules.getModulesByTypeAsHashmap(\&quot;macro\&quot;);\n\t$tw.wiki.initParsers();\n\t$tw.Commander.initCommands();\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/startup/load-modules.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/core/modules/startup/password.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/startup/password.js\ntype: application/javascript\nmodule-type: startup\n\nPassword handling\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Export name and synchronous status\nexports.name = \&quot;password\&quot;;\nexports.platforms = [\&quot;browser\&quot;];\nexports.after = [\&quot;startup\&quot;];\nexports.synchronous = true;\n\nexports.startup = function() {\n\t$tw.rootWidget.addEventListener(\&quot;tm-set-password\&quot;,function(event) {\n\t\t$tw.passwordPrompt.createPrompt({\n\t\t\tserviceName: $tw.language.getString(\&quot;Encryption/PromptSetPassword\&quot;),\n\t\t\tnoUserName: true,\n\t\t\tsubmitText: $tw.language.getString(\&quot;Encryption/SetPassword\&quot;),\n\t\t\tcanCancel: true,\n\t\t\trepeatPassword: true,\n\t\t\tcallback: function(data) {\n\t\t\t\tif(data) {\n\t\t\t\t\t$tw.crypto.setPassword(data.password);\n\t\t\t\t}\n\t\t\t\treturn true; // Get rid of the password prompt\n\t\t\t}\n\t\t});\n\t});\n\t$tw.rootWidget.addEventListener(\&quot;tm-clear-password\&quot;,function(event) {\n\t\tif($tw.browser) {\n\t\t\tif(!confirm($tw.language.getString(\&quot;Encryption/ConfirmClearPassword\&quot;))) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t$tw.crypto.setPassword(null);\n\t});\n\t// Ensure that $:/isEncrypted is maintained properly\n\t$tw.wiki.addEventListener(\&quot;change\&quot;,function(changes) {\n\t\tif($tw.utils.hop(changes,\&quot;$:/isEncrypted\&quot;)) {\n\t\t\t$tw.crypto.updateCryptoStateTiddler();\n\t\t}\n\t});\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/startup/password.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/core/modules/startup/render.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/startup/render.js\ntype: application/javascript\nmodule-type: startup\n\nTitle, stylesheet and page rendering\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Export name and synchronous status\nexports.name = \&quot;render\&quot;;\nexports.platforms = [\&quot;browser\&quot;];\nexports.after = [\&quot;story\&quot;];\nexports.synchronous = true;\n\n// Default story and history lists\nvar PAGE_TITLE_TITLE = \&quot;$:/core/wiki/title\&quot;;\nvar PAGE_STYLESHEET_TITLE = \&quot;$:/core/ui/PageStylesheet\&quot;;\nvar PAGE_TEMPLATE_TITLE = \&quot;$:/core/ui/PageTemplate\&quot;;\n\n// Time (in ms) that we defer refreshing changes to draft tiddlers\nvar DRAFT_TIDDLER_TIMEOUT_TITLE = \&quot;$:/config/Drafts/TypingTimeout\&quot;;\nvar DRAFT_TIDDLER_TIMEOUT = 400;\n\nexports.startup = function() {\n\t// Set up the title\n\t$tw.titleWidgetNode = $tw.wiki.makeTranscludeWidget(PAGE_TITLE_TITLE,{document: $tw.fakeDocument, parseAsInline: true});\n\t$tw.titleContainer = $tw.fakeDocument.createElement(\&quot;div\&quot;);\n\t$tw.titleWidgetNode.render($tw.titleContainer,null);\n\tdocument.title = $tw.titleContainer.textContent;\n\t$tw.wiki.addEventListener(\&quot;change\&quot;,function(changes) {\n\t\tif($tw.titleWidgetNode.refresh(changes,$tw.titleContainer,null)) {\n\t\t\tdocument.title = $tw.titleContainer.textContent;\n\t\t}\n\t});\n\t// Set up the styles\n\t$tw.styleWidgetNode = $tw.wiki.makeTranscludeWidget(PAGE_STYLESHEET_TITLE,{document: $tw.fakeDocument});\n\t$tw.styleContainer = $tw.fakeDocument.createElement(\&quot;style\&quot;);\n\t$tw.styleWidgetNode.render($tw.styleContainer,null);\n\t$tw.styleElement = document.createElement(\&quot;style\&quot;);\n\t$tw.styleElement.innerHTML = $tw.styleContainer.textContent;\n\tdocument.head.insertBefore($tw.styleElement,document.head.firstChild);\n\t$tw.wiki.addEventListener(\&quot;change\&quot;,$tw.perf.report(\&quot;styleRefresh\&quot;,function(changes) {\n\t\tif($tw.styleWidgetNode.refresh(changes,$tw.styleContainer,null)) {\n\t\t\t$tw.styleElement.innerHTML = $tw.styleContainer.textContent;\n\t\t}\n\t}));\n\t// Display the $:/core/ui/PageTemplate tiddler to kick off the display\n\t$tw.perf.report(\&quot;mainRender\&quot;,function() {\n\t\t$tw.pageWidgetNode = $tw.wiki.makeTranscludeWidget(PAGE_TEMPLATE_TITLE,{document: document, parentWidget: $tw.rootWidget});\n\t\t$tw.pageContainer = document.createElement(\&quot;div\&quot;);\n\t\t$tw.utils.addClass($tw.pageContainer,\&quot;tc-page-container-wrapper\&quot;);\n\t\tdocument.body.insertBefore($tw.pageContainer,document.body.firstChild);\n\t\t$tw.pageWidgetNode.render($tw.pageContainer,null);\n\t})();\n\t// Prepare refresh mechanism\n\tvar deferredChanges = Object.create(null),\n\t\ttimerId;\n\tfunction refresh() {\n\t\t// Process the refresh\n\t\t$tw.pageWidgetNode.refresh(deferredChanges);\n\t\tdeferredChanges = Object.create(null);\n\t}\n\t// Add the change event handler\n\t$tw.wiki.addEventListener(\&quot;change\&quot;,$tw.perf.report(\&quot;mainRefresh\&quot;,function(changes) {\n\t\t// Check if only drafts have changed\n\t\tvar onlyDraftsHaveChanged = true;\n\t\tfor(var title in changes) {\n\t\t\tvar tiddler = $tw.wiki.getTiddler(title);\n\t\t\tif(!tiddler || !tiddler.hasField(\&quot;draft.of\&quot;)) {\n\t\t\t\tonlyDraftsHaveChanged = false;\n\t\t\t}\n\t\t}\n\t\t// Defer the change if only drafts have changed\n\t\tif(timerId) {\n\t\t\tclearTimeout(timerId);\n\t\t}\n\t\ttimerId = null;\n\t\tif(onlyDraftsHaveChanged) {\n\t\t\tvar timeout = parseInt($tw.wiki.getTiddlerText(DRAFT_TIDDLER_TIMEOUT_TITLE,\&quot;\&quot;),10);\n\t\t\tif(isNaN(timeout)) {\n\t\t\t\ttimeout = DRAFT_TIDDLER_TIMEOUT;\n\t\t\t}\n\t\t\ttimerId = setTimeout(refresh,timeout);\n\t\t\t$tw.utils.extend(deferredChanges,changes);\n\t\t} else {\n\t\t\t$tw.utils.extend(deferredChanges,changes);\n\t\t\trefresh();\n\t\t}\n\t}));\n\t// Fix up the link between the root widget and the page container\n\t$tw.rootWidget.domNodes = [$tw.pageContainer];\n\t$tw.rootWidget.children = [$tw.pageWidgetNode];\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/startup/render.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/core/modules/startup/rootwidget.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/startup/rootwidget.js\ntype: application/javascript\nmodule-type: startup\n\nSetup the root widget and the core root widget handlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Export name and synchronous status\nexports.name = \&quot;rootwidget\&quot;;\nexports.platforms = [\&quot;browser\&quot;];\nexports.after = [\&quot;startup\&quot;];\nexports.before = [\&quot;story\&quot;];\nexports.synchronous = true;\n\nexports.startup = function() {\n\t// Install the modal message mechanism\n\t$tw.modal = new $tw.utils.Modal($tw.wiki);\n\t$tw.rootWidget.addEventListener(\&quot;tm-modal\&quot;,function(event) {\n\t\t$tw.modal.display(event.param,{variables: event.paramObject});\n\t});\n\t// Install the notification  mechanism\n\t$tw.notifier = new $tw.utils.Notifier($tw.wiki);\n\t$tw.rootWidget.addEventListener(\&quot;tm-notify\&quot;,function(event) {\n\t\t$tw.notifier.display(event.param);\n\t});\n\t// Install the scroller\n\t$tw.pageScroller = new $tw.utils.PageScroller();\n\t$tw.rootWidget.addEventListener(\&quot;tm-scroll\&quot;,function(event) {\n\t\t$tw.pageScroller.handleEvent(event);\n\t});\n\tvar fullscreen = $tw.utils.getFullScreenApis();\n\tif(fullscreen) {\n\t\t$tw.rootWidget.addEventListener(\&quot;tm-full-screen\&quot;,function(event) {\n\t\t\tif(document[fullscreen._fullscreenElement]) {\n\t\t\t\tdocument[fullscreen._exitFullscreen]();\n\t\t\t} else {\n\t\t\t\tdocument.documentElement[fullscreen._requestFullscreen](Element.ALLOW_KEYBOARD_INPUT);\n\t\t\t}\n\t\t});\n\t}\n\t// If we're being viewed on a data: URI then give instructions for how to save\n\tif(document.location.protocol === \&quot;data:\&quot;) {\n\t\t$tw.rootWidget.dispatchEvent({\n\t\t\ttype: \&quot;tm-modal\&quot;,\n\t\t\tparam: \&quot;$:/language/Modals/SaveInstructions\&quot;\n\t\t});\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/startup/rootwidget.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/core/modules/startup.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/startup.js\ntype: application/javascript\nmodule-type: startup\n\nMiscellaneous startup logic for both the client and server.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Export name and synchronous status\nexports.name = \&quot;startup\&quot;;\nexports.after = [\&quot;load-modules\&quot;];\nexports.synchronous = true;\n\n// Set to `true` to enable performance instrumentation\nvar PERFORMANCE_INSTRUMENTATION_CONFIG_TITLE = \&quot;$:/config/Performance/Instrumentation\&quot;;\n\nvar widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;);\n\nexports.startup = function() {\n\tvar modules,n,m,f;\n\tif($tw.browser) {\n\t\t$tw.browser.isIE = (/msie|trident/i.test(navigator.userAgent));\n\t}\n\t$tw.version = $tw.utils.extractVersionInfo();\n\t// Set up the performance framework\n\t$tw.perf = new $tw.Performance($tw.wiki.getTiddlerText(PERFORMANCE_INSTRUMENTATION_CONFIG_TITLE,\&quot;no\&quot;) === \&quot;yes\&quot;);\n\t// Kick off the language manager and switcher\n\t$tw.language = new $tw.Language();\n\t$tw.languageSwitcher = new $tw.PluginSwitcher({\n\t\twiki: $tw.wiki,\n\t\tpluginType: \&quot;language\&quot;,\n\t\tcontrollerTitle: \&quot;$:/language\&quot;,\n\t\tdefaultPlugins: [\n\t\t\t\&quot;$:/languages/en-US\&quot;\n\t\t]\n\t});\n\t// Kick off the theme manager\n\t$tw.themeManager = new $tw.PluginSwitcher({\n\t\twiki: $tw.wiki,\n\t\tpluginType: \&quot;theme\&quot;,\n\t\tcontrollerTitle: \&quot;$:/theme\&quot;,\n\t\tdefaultPlugins: [\n\t\t\t\&quot;$:/themes/tiddlywiki/snowwhite\&quot;,\n\t\t\t\&quot;$:/themes/tiddlywiki/vanilla\&quot;\n\t\t]\n\t});\n\t// Clear outstanding tiddler store change events to avoid an unnecessary refresh cycle at startup\n\t$tw.wiki.clearTiddlerEventQueue();\n\t// Create a root widget for attaching event handlers. By using it as the parentWidget for another widget tree, one can reuse the event handlers\n\tif($tw.browser) {\n\t\t$tw.rootWidget = new widget.widget({\n\t\t\ttype: \&quot;widget\&quot;,\n\t\t\tchildren: []\n\t\t},{\n\t\t\twiki: $tw.wiki,\n\t\t\tdocument: document\n\t\t});\n\t}\n\t// Find a working syncadaptor\n\t$tw.syncadaptor = undefined;\n\t$tw.modules.forEachModuleOfType(\&quot;syncadaptor\&quot;,function(title,module) {\n\t\tif(!$tw.syncadaptor &amp;&amp; module.adaptorClass) {\n\t\t\t$tw.syncadaptor = new module.adaptorClass({wiki: $tw.wiki});\n\t\t}\n\t});\n\t// Set up the syncer object if we've got a syncadaptor\n\tif($tw.syncadaptor) {\n\t\t$tw.syncer = new $tw.Syncer({wiki: $tw.wiki, syncadaptor: $tw.syncadaptor});\n\t} \n\t// Setup the saver handler\n\t$tw.saverHandler = new $tw.SaverHandler({wiki: $tw.wiki, dirtyTracking: !$tw.syncadaptor});\n\t// Host-specific startup\n\tif($tw.browser) {\n\t\t// Install the popup manager\n\t\t$tw.popup = new $tw.utils.Popup();\n\t\t// Install the animator\n\t\t$tw.anim = new $tw.utils.Animator();\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/startup.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/core/modules/startup/story.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/startup/story.js\ntype: application/javascript\nmodule-type: startup\n\nLoad core modules\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Export name and synchronous status\nexports.name = \&quot;story\&quot;;\nexports.after = [\&quot;startup\&quot;];\nexports.synchronous = true;\n\n// Default story and history lists\nvar DEFAULT_STORY_TITLE = \&quot;$:/StoryList\&quot;;\nvar DEFAULT_HISTORY_TITLE = \&quot;$:/HistoryList\&quot;;\n\n// Default tiddlers\nvar DEFAULT_TIDDLERS_TITLE = \&quot;$:/DefaultTiddlers\&quot;;\n\n// Config\nvar CONFIG_UPDATE_ADDRESS_BAR = \&quot;$:/config/Navigation/UpdateAddressBar\&quot;; // Can be \&quot;no\&quot;, \&quot;permalink\&quot;, \&quot;permaview\&quot;\nvar CONFIG_UPDATE_HISTORY = \&quot;$:/config/Navigation/UpdateHistory\&quot;; // Can be \&quot;yes\&quot; or \&quot;no\&quot;\n\nexports.startup = function() {\n\t// Open startup tiddlers\n\topenStartupTiddlers();\n\tif($tw.browser) {\n\t\t// Set up location hash update\n\t\t$tw.wiki.addEventListener(\&quot;change\&quot;,function(changes) {\n\t\t\tif($tw.utils.hop(changes,DEFAULT_STORY_TITLE) || $tw.utils.hop(changes,DEFAULT_HISTORY_TITLE)) {\n\t\t\t\tupdateLocationHash({\n\t\t\t\t\tupdateAddressBar: $tw.wiki.getTiddlerText(CONFIG_UPDATE_ADDRESS_BAR,\&quot;permaview\&quot;).trim(),\n\t\t\t\t\tupdateHistory: $tw.wiki.getTiddlerText(CONFIG_UPDATE_HISTORY,\&quot;no\&quot;).trim()\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t// Listen for changes to the browser location hash\n\t\twindow.addEventListener(\&quot;hashchange\&quot;,function() {\n\t\t\tvar hash = $tw.utils.getLocationHash();\n\t\t\tif(hash !== $tw.locationHash) {\n\t\t\t\t$tw.locationHash = hash;\n\t\t\t\topenStartupTiddlers({defaultToCurrentStory: true});\n\t\t\t}\n\t\t},false);\n\t\t// Listen for the tm-browser-refresh message\n\t\t$tw.rootWidget.addEventListener(\&quot;tm-browser-refresh\&quot;,function(event) {\n\t\t\twindow.location.reload(true);\n\t\t});\n\t\t// Listen for the tm-home message\n\t\t$tw.rootWidget.addEventListener(\&quot;tm-home\&quot;,function(event) {\n\t\t\twindow.location.hash = \&quot;\&quot;;\n\t\t\tvar storyFilter = $tw.wiki.getTiddlerText(DEFAULT_TIDDLERS_TITLE),\n\t\t\t\tstoryList = $tw.wiki.filterTiddlers(storyFilter);\n\t\t\t//invoke any hooks that might change the default story list\n\t\t\tstoryList = $tw.hooks.invokeHook(\&quot;th-opening-default-tiddlers-list\&quot;,storyList);\n\t\t\t$tw.wiki.addTiddler({title: DEFAULT_STORY_TITLE, text: \&quot;\&quot;, list: storyList},$tw.wiki.getModificationFields());\n\t\t\tif(storyList[0]) {\n\t\t\t\t$tw.wiki.addToHistory(storyList[0]);\t\t\t\t\n\t\t\t}\n\t\t});\n\t\t// Listen for the tm-permalink message\n\t\t$tw.rootWidget.addEventListener(\&quot;tm-permalink\&quot;,function(event) {\n\t\t\tupdateLocationHash({\n\t\t\t\tupdateAddressBar: \&quot;permalink\&quot;,\n\t\t\t\tupdateHistory: $tw.wiki.getTiddlerText(CONFIG_UPDATE_HISTORY,\&quot;no\&quot;).trim(),\n\t\t\t\ttargetTiddler: event.param || event.tiddlerTitle\n\t\t\t});\n\t\t});\n\t\t// Listen for the tm-permaview message\n\t\t$tw.rootWidget.addEventListener(\&quot;tm-permaview\&quot;,function(event) {\n\t\t\tupdateLocationHash({\n\t\t\t\tupdateAddressBar: \&quot;permaview\&quot;,\n\t\t\t\tupdateHistory: $tw.wiki.getTiddlerText(CONFIG_UPDATE_HISTORY,\&quot;no\&quot;).trim(),\n\t\t\t\ttargetTiddler: event.param || event.tiddlerTitle\n\t\t\t});\n\t\t});\n\t}\n};\n\n/*\nProcess the location hash to open the specified tiddlers. Options:\ndefaultToCurrentStory: If true, the current story is retained as the default, instead of opening the default tiddlers\n*/\nfunction openStartupTiddlers(options) {\n\toptions = options || {};\n\t// Work out the target tiddler and the story filter. \&quot;null\&quot; means \&quot;unspecified\&quot;\n\tvar target = null,\n\t\tstoryFilter = null;\n\tif($tw.locationHash.length &gt; 1) {\n\t\tvar hash = $tw.locationHash.substr(1),\n\t\t\tsplit = hash.indexOf(\&quot;:\&quot;);\n\t\tif(split === -1) {\n\t\t\ttarget = decodeURIComponent(hash.trim());\n\t\t} else {\n\t\t\ttarget = decodeURIComponent(hash.substr(0,split).trim());\n\t\t\tstoryFilter = decodeURIComponent(hash.substr(split + 1).trim());\n\t\t}\n\t}\n\t// If the story wasn't specified use the current tiddlers or a blank story\n\tif(storyFilter === null) {\n\t\tif(options.defaultToCurrentStory) {\n\t\t\tvar currStoryList = $tw.wiki.getTiddlerList(DEFAULT_STORY_TITLE);\n\t\t\tstoryFilter = $tw.utils.stringifyList(currStoryList);\n\t\t} else {\n\t\t\tif(target &amp;&amp; target !== \&quot;\&quot;) {\n\t\t\t\tstoryFilter = \&quot;\&quot;;\n\t\t\t} else {\n\t\t\t\tstoryFilter = $tw.wiki.getTiddlerText(DEFAULT_TIDDLERS_TITLE);\n\t\t\t}\n\t\t}\n\t}\n\t// Process the story filter to get the story list\n\tvar storyList = $tw.wiki.filterTiddlers(storyFilter);\n\t// Invoke any hooks that want to change the default story list\n\tstoryList = $tw.hooks.invokeHook(\&quot;th-opening-default-tiddlers-list\&quot;,storyList);\n\t// If the target tiddler isn't included then splice it in at the top\n\tif(target &amp;&amp; storyList.indexOf(target) === -1) {\n\t\tstoryList.unshift(target);\n\t}\n\t// Save the story list\n\t$tw.wiki.addTiddler({title: DEFAULT_STORY_TITLE, text: \&quot;\&quot;, list: storyList},$tw.wiki.getModificationFields());\n\t// If a target tiddler was specified add it to the history stack\n\tif(target &amp;&amp; target !== \&quot;\&quot;) {\n\t\t// The target tiddler doesn't need double square brackets, but we'll silently remove them if they're present\n\t\tif(target.indexOf(\&quot;[[\&quot;) === 0 &amp;&amp; target.substr(-2) === \&quot;]]\&quot;) {\n\t\t\ttarget = target.substr(2,target.length - 4);\n\t\t}\n\t\t$tw.wiki.addToHistory(target);\n\t} else if(storyList.length &gt; 0) {\n\t\t$tw.wiki.addToHistory(storyList[0]);\n\t}\n}\n\n/*\noptions: See below\noptions.updateAddressBar: \&quot;permalink\&quot;, \&quot;permaview\&quot; or \&quot;no\&quot; (defaults to \&quot;permaview\&quot;)\noptions.updateHistory: \&quot;yes\&quot; or \&quot;no\&quot; (defaults to \&quot;no\&quot;)\noptions.targetTiddler: optional title of target tiddler for permalink\n*/\nfunction updateLocationHash(options) {\n\tif(options.updateAddressBar !== \&quot;no\&quot;) {\n\t\t// Get the story and the history stack\n\t\tvar storyList = $tw.wiki.getTiddlerList(DEFAULT_STORY_TITLE),\n\t\t\thistoryList = $tw.wiki.getTiddlerData(DEFAULT_HISTORY_TITLE,[]),\n\t\t\ttargetTiddler = \&quot;\&quot;;\n\t\tif(options.targetTiddler) {\n\t\t\ttargetTiddler = options.targetTiddler;\n\t\t} else {\n\t\t\t// The target tiddler is the one at the top of the stack\n\t\t\tif(historyList.length &gt; 0) {\n\t\t\t\ttargetTiddler = historyList[historyList.length-1].title;\n\t\t\t}\n\t\t\t// Blank the target tiddler if it isn't present in the story\n\t\t\tif(storyList.indexOf(targetTiddler) === -1) {\n\t\t\t\ttargetTiddler = \&quot;\&quot;;\n\t\t\t}\n\t\t}\n\t\t// Assemble the location hash\n\t\tif(options.updateAddressBar === \&quot;permalink\&quot;) {\n\t\t\t$tw.locationHash = \&quot;#\&quot; + encodeURIComponent(targetTiddler);\n\t\t} else {\n\t\t\t$tw.locationHash = \&quot;#\&quot; + encodeURIComponent(targetTiddler) + \&quot;:\&quot; + encodeURIComponent($tw.utils.stringifyList(storyList));\n\t\t}\n\t\t// Only change the location hash if we must, thus avoiding unnecessary onhashchange events\n\t\tif($tw.utils.getLocationHash() !== $tw.locationHash) {\n\t\t\tif(options.updateHistory === \&quot;yes\&quot;) {\n\t\t\t\t// Assign the location hash so that history is updated\n\t\t\t\twindow.location.hash = $tw.locationHash;\n\t\t\t} else {\n\t\t\t\t// We use replace so that browser history isn't affected\n\t\t\t\twindow.location.replace(window.location.toString().split(\&quot;#\&quot;)[0] + $tw.locationHash);\n\t\t\t}\n\t\t}\n\t}\n}\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/startup/story.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/core/modules/startup/windows.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/startup/windows.js\ntype: application/javascript\nmodule-type: startup\n\nSetup root widget handlers for the messages concerned with opening external browser windows\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Export name and synchronous status\nexports.name = \&quot;windows\&quot;;\nexports.platforms = [\&quot;browser\&quot;];\nexports.after = [\&quot;startup\&quot;];\nexports.synchronous = true;\n\n// Global to keep track of open windows (hashmap by title)\nvar windows = {};\n\nexports.startup = function() {\n\t// Handle open window message\n\t$tw.rootWidget.addEventListener(\&quot;tm-open-window\&quot;,function(event) {\n\t\t// Get the parameters\n\t\tvar refreshHandler,\n\t\t\ttitle = event.param || event.tiddlerTitle,\n\t\t\tparamObject = event.paramObject || {},\n\t\t\ttemplate = paramObject.template || \&quot;$:/core/templates/single.tiddler.window\&quot;,\n\t\t\twidth = paramObject.width || \&quot;700\&quot;,\n\t\t\theight = paramObject.height || \&quot;600\&quot;,\n\t\t\tvariables = $tw.utils.extend({},paramObject,{currentTiddler: title});\n\t\t// Open the window\n\t\tvar srcWindow = window.open(\&quot;\&quot;,\&quot;external-\&quot; + title,\&quot;scrollbars,width=\&quot; + width + \&quot;,height=\&quot; + height),\n\t\t\tsrcDocument = srcWindow.document;\n\t\twindows[title] = srcWindow;\n\t\t// Check for reopening the same window\n\t\tif(srcWindow.haveInitialisedWindow) {\n\t\t\treturn;\n\t\t}\n\t\t// Initialise the document\n\t\tsrcDocument.write(\&quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body class='tc-body tc-single-tiddler-window'&gt;&lt;/body&gt;&lt;/html&gt;\&quot;);\n\t\tsrcDocument.close();\n\t\tsrcDocument.title = title;\n\t\tsrcWindow.addEventListener(\&quot;beforeunload\&quot;,function(event) {\n\t\t\tdelete windows[title];\n\t\t\t$tw.wiki.removeEventListener(\&quot;change\&quot;,refreshHandler);\n\t\t},false);\n\t\t// Set up the styles\n\t\tvar styleWidgetNode = $tw.wiki.makeTranscludeWidget(\&quot;$:/core/ui/PageStylesheet\&quot;,{document: $tw.fakeDocument, variables: variables}),\n\t\t\tstyleContainer = $tw.fakeDocument.createElement(\&quot;style\&quot;);\n\t\tstyleWidgetNode.render(styleContainer,null);\n\t\tvar styleElement = srcDocument.createElement(\&quot;style\&quot;);\n\t\tstyleElement.innerHTML = styleContainer.textContent;\n\t\tsrcDocument.head.insertBefore(styleElement,srcDocument.head.firstChild);\n\t\t// Render the text of the tiddler\n\t\tvar parser = $tw.wiki.parseTiddler(template),\n\t\t\twidgetNode = $tw.wiki.makeWidget(parser,{document: srcDocument, parentWidget: $tw.rootWidget, variables: variables});\n\t\twidgetNode.render(srcDocument.body,srcDocument.body.firstChild);\n\t\t// Function to handle refreshes\n\t\trefreshHandler = function(changes) {\n\t\t\tif(styleWidgetNode.refresh(changes,styleContainer,null)) {\n\t\t\t\tstyleElement.innerHTML = styleContainer.textContent;\n\t\t\t}\n\t\t\twidgetNode.refresh(changes);\n\t\t};\n\t\t$tw.wiki.addEventListener(\&quot;change\&quot;,refreshHandler);\n\t\tsrcWindow.haveInitialisedWindow = true;\n\t});\n\t// Close open windows when unloading main window\n\t$tw.addUnloadTask(function() {\n\t\t$tw.utils.each(windows,function(win) {\n\t\t\twin.close();\n\t\t});\n\t});\n\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/startup/windows.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/core/modules/story.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/story.js\ntype: application/javascript\nmodule-type: global\n\nLightweight object for managing interactions with the story and history lists.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nConstruct Story object with options:\nwiki: reference to wiki object to use to resolve tiddler titles\nstoryTitle: title of story list tiddler\nhistoryTitle: title of history list tiddler\n*/\nfunction Story(options) {\n\toptions = options || {};\n\tthis.wiki = options.wiki || $tw.wiki;\n\tthis.storyTitle = options.storyTitle || \&quot;$:/StoryList\&quot;;\n\tthis.historyTitle = options.historyTitle || \&quot;$:/HistoryList\&quot;;\n};\n\nStory.prototype.navigateTiddler = function(navigateTo,navigateFromTitle,navigateFromClientRect) {\n\tthis.addToStory(navigateTo,navigateFromTitle);\n\tthis.addToHistory(navigateTo,navigateFromClientRect);\n};\n\nStory.prototype.getStoryList = function() {\n\treturn this.wiki.getTiddlerList(this.storyTitle) || [];\n};\n\nStory.prototype.addToStory = function(navigateTo,navigateFromTitle,options) {\n\toptions = options || {};\n\tvar storyList = this.getStoryList();\n\t// See if the tiddler is already there\n\tvar slot = storyList.indexOf(navigateTo);\n\t// Quit if it already exists in the story river\n\tif(slot &gt;= 0) {\n\t\treturn;\n\t}\n\t// First we try to find the position of the story element we navigated from\n\tvar fromIndex = storyList.indexOf(navigateFromTitle);\n\tif(fromIndex &gt;= 0) {\n\t\t// The tiddler is added from inside the river\n\t\t// Determine where to insert the tiddler; Fallback is \&quot;below\&quot;\n\t\tswitch(options.openLinkFromInsideRiver) {\n\t\t\tcase \&quot;top\&quot;:\n\t\t\t\tslot = 0;\n\t\t\t\tbreak;\n\t\t\tcase \&quot;bottom\&quot;:\n\t\t\t\tslot = storyList.length;\n\t\t\t\tbreak;\n\t\t\tcase \&quot;above\&quot;:\n\t\t\t\tslot = fromIndex;\n\t\t\t\tbreak;\n\t\t\tcase \&quot;below\&quot;: // Intentional fall-through\n\t\t\tdefault:\n\t\t\t\tslot = fromIndex + 1;\n\t\t\t\tbreak;\n\t\t}\n\t} else {\n\t\t// The tiddler is opened from outside the river. Determine where to insert the tiddler; default is \&quot;top\&quot;\n\t\tif(options.openLinkFromOutsideRiver === \&quot;bottom\&quot;) {\n\t\t\t// Insert at bottom\n\t\t\tslot = storyList.length;\n\t\t} else {\n\t\t\t// Insert at top\n\t\t\tslot = 0;\n\t\t}\n\t}\n\t// Add the tiddler\n\tstoryList.splice(slot,0,navigateTo);\n\t// Save the story\n\tthis.saveStoryList(storyList);\n};\n\nStory.prototype.saveStoryList = function(storyList) {\n\tvar storyTiddler = this.wiki.getTiddler(this.storyTitle);\n\tthis.wiki.addTiddler(new $tw.Tiddler(\n\t\tthis.wiki.getCreationFields(),\n\t\t{title: this.storyTitle},\n\t\tstoryTiddler,\n\t\t{list: storyList},\n\t\tthis.wiki.getModificationFields()\n\t));\n};\n\nStory.prototype.addToHistory = function(navigateTo,navigateFromClientRect) {\n\tvar titles = $tw.utils.isArray(navigateTo) ? navigateTo : [navigateTo];\n\t// Add a new record to the top of the history stack\n\tvar historyList = this.wiki.getTiddlerData(this.historyTitle,[]);\n\t$tw.utils.each(titles,function(title) {\n\t\thistoryList.push({title: title, fromPageRect: navigateFromClientRect});\n\t});\n\tthis.wiki.setTiddlerData(this.historyTitle,historyList,{\&quot;current-tiddler\&quot;: titles[titles.length-1]});\n};\n\nStory.prototype.storyCloseTiddler = function(targetTitle) {\n// TBD\n};\n\nStory.prototype.storyCloseAllTiddlers = function() {\n// TBD\n};\n\nStory.prototype.storyCloseOtherTiddlers = function(targetTitle) {\n// TBD\n};\n\nStory.prototype.storyEditTiddler = function(targetTitle) {\n// TBD\n};\n\nStory.prototype.storyDeleteTiddler = function(targetTitle) {\n// TBD\n};\n\nStory.prototype.storySaveTiddler = function(targetTitle) {\n// TBD\n};\n\nStory.prototype.storyCancelTiddler = function(targetTitle) {\n// TBD\n};\n\nStory.prototype.storyNewTiddler = function(targetTitle) {\n// TBD\n};\n\nexports.Story = Story;\n\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/story.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;global&quot;
        },
        &quot;$:/core/modules/storyviews/classic.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/storyviews/classic.js\ntype: application/javascript\nmodule-type: storyview\n\nViews the story as a linear sequence\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar easing = \&quot;cubic-bezier(0.645, 0.045, 0.355, 1)\&quot;; // From http://easings.net/#easeInOutCubic\n\nvar ClassicStoryView = function(listWidget) {\n\tthis.listWidget = listWidget;\n};\n\nClassicStoryView.prototype.navigateTo = function(historyInfo) {\n\tvar listElementIndex = this.listWidget.findListItem(0,historyInfo.title);\n\tif(listElementIndex === undefined) {\n\t\treturn;\n\t}\n\tvar listItemWidget = this.listWidget.children[listElementIndex],\n\t\ttargetElement = listItemWidget.findFirstDomNode();\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\treturn;\n\t}\n\t// Scroll the node into view\n\tthis.listWidget.dispatchEvent({type: \&quot;tm-scroll\&quot;, target: targetElement});\n};\n\nClassicStoryView.prototype.insert = function(widget) {\n\tvar targetElement = widget.findFirstDomNode(),\n\t\tduration = $tw.utils.getAnimationDuration();\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\treturn;\n\t}\n\t// Get the current height of the tiddler\n\tvar computedStyle = window.getComputedStyle(targetElement),\n\t\tcurrMarginBottom = parseInt(computedStyle.marginBottom,10),\n\t\tcurrMarginTop = parseInt(computedStyle.marginTop,10),\n\t\tcurrHeight = targetElement.offsetHeight + currMarginTop;\n\t// Reset the margin once the transition is over\n\tsetTimeout(function() {\n\t\t$tw.utils.setStyle(targetElement,[\n\t\t\t{transition: \&quot;none\&quot;},\n\t\t\t{marginBottom: \&quot;\&quot;}\n\t\t]);\n\t},duration);\n\t// Set up the initial position of the element\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: \&quot;none\&quot;},\n\t\t{marginBottom: (-currHeight) + \&quot;px\&quot;},\n\t\t{opacity: \&quot;0.0\&quot;}\n\t]);\n\t$tw.utils.forceLayout(targetElement);\n\t// Transition to the final position\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: \&quot;opacity \&quot; + duration + \&quot;ms \&quot; + easing + \&quot;, \&quot; +\n\t\t\t\t\t\&quot;margin-bottom \&quot; + duration + \&quot;ms \&quot; + easing},\n\t\t{marginBottom: currMarginBottom + \&quot;px\&quot;},\n\t\t{opacity: \&quot;1.0\&quot;}\n\t]);\n};\n\nClassicStoryView.prototype.remove = function(widget) {\n\tvar targetElement = widget.findFirstDomNode(),\n\t\tduration = $tw.utils.getAnimationDuration(),\n\t\tremoveElement = function() {\n\t\t\twidget.removeChildDomNodes();\n\t\t};\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\tremoveElement();\n\t\treturn;\n\t}\n\t// Get the current height of the tiddler\n\tvar currWidth = targetElement.offsetWidth,\n\t\tcomputedStyle = window.getComputedStyle(targetElement),\n\t\tcurrMarginBottom = parseInt(computedStyle.marginBottom,10),\n\t\tcurrMarginTop = parseInt(computedStyle.marginTop,10),\n\t\tcurrHeight = targetElement.offsetHeight + currMarginTop;\n\t// Remove the dom nodes of the widget at the end of the transition\n\tsetTimeout(removeElement,duration);\n\t// Animate the closure\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: \&quot;none\&quot;},\n\t\t{transform: \&quot;translateX(0px)\&quot;},\n\t\t{marginBottom:  currMarginBottom + \&quot;px\&quot;},\n\t\t{opacity: \&quot;1.0\&quot;}\n\t]);\n\t$tw.utils.forceLayout(targetElement);\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: $tw.utils.roundTripPropertyName(\&quot;transform\&quot;) + \&quot; \&quot; + duration + \&quot;ms \&quot; + easing + \&quot;, \&quot; +\n\t\t\t\t\t\&quot;opacity \&quot; + duration + \&quot;ms \&quot; + easing + \&quot;, \&quot; +\n\t\t\t\t\t\&quot;margin-bottom \&quot; + duration + \&quot;ms \&quot; + easing},\n\t\t{transform: \&quot;translateX(-\&quot; + currWidth + \&quot;px)\&quot;},\n\t\t{marginBottom: (-currHeight) + \&quot;px\&quot;},\n\t\t{opacity: \&quot;0.0\&quot;}\n\t]);\n};\n\nexports.classic = ClassicStoryView;\n\n})();&quot;,
            &quot;title&quot;: &quot;$:/core/modules/storyviews/classic.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;storyview&quot;
        },
        &quot;$:/core/modules/storyviews/pop.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/storyviews/pop.js\ntype: application/javascript\nmodule-type: storyview\n\nAnimates list insertions and removals\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar PopStoryView = function(listWidget) {\n\tthis.listWidget = listWidget;\n};\n\nPopStoryView.prototype.navigateTo = function(historyInfo) {\n\tvar listElementIndex = this.listWidget.findListItem(0,historyInfo.title);\n\tif(listElementIndex === undefined) {\n\t\treturn;\n\t}\n\tvar listItemWidget = this.listWidget.children[listElementIndex],\n\t\ttargetElement = listItemWidget.findFirstDomNode();\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\treturn;\n\t}\n\t// Scroll the node into view\n\tthis.listWidget.dispatchEvent({type: \&quot;tm-scroll\&quot;, target: targetElement});\n};\n\nPopStoryView.prototype.insert = function(widget) {\n\tvar targetElement = widget.findFirstDomNode(),\n\t\tduration = $tw.utils.getAnimationDuration();\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\treturn;\n\t}\n\t// Reset once the transition is over\n\tsetTimeout(function() {\n\t\t$tw.utils.setStyle(targetElement,[\n\t\t\t{transition: \&quot;none\&quot;},\n\t\t\t{transform: \&quot;none\&quot;}\n\t\t]);\n\t},duration);\n\t// Set up the initial position of the element\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: \&quot;none\&quot;},\n\t\t{transform: \&quot;scale(2)\&quot;},\n\t\t{opacity: \&quot;0.0\&quot;}\n\t]);\n\t$tw.utils.forceLayout(targetElement);\n\t// Transition to the final position\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: $tw.utils.roundTripPropertyName(\&quot;transform\&quot;) + \&quot; \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;opacity \&quot; + duration + \&quot;ms ease-in-out\&quot;},\n\t\t{transform: \&quot;scale(1)\&quot;},\n\t\t{opacity: \&quot;1.0\&quot;}\n\t]);\n};\n\nPopStoryView.prototype.remove = function(widget) {\n\tvar targetElement = widget.findFirstDomNode(),\n\t\tduration = $tw.utils.getAnimationDuration(),\n\t\tremoveElement = function() {\n\t\t\tif(targetElement.parentNode) {\n\t\t\t\twidget.removeChildDomNodes();\n\t\t\t}\n\t\t};\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\tremoveElement();\n\t\treturn;\n\t}\n\t// Remove the element at the end of the transition\n\tsetTimeout(removeElement,duration);\n\t// Animate the closure\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: \&quot;none\&quot;},\n\t\t{transform: \&quot;scale(1)\&quot;},\n\t\t{opacity: \&quot;1.0\&quot;}\n\t]);\n\t$tw.utils.forceLayout(targetElement);\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: $tw.utils.roundTripPropertyName(\&quot;transform\&quot;) + \&quot; \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;opacity \&quot; + duration + \&quot;ms ease-in-out\&quot;},\n\t\t{transform: \&quot;scale(0.1)\&quot;},\n\t\t{opacity: \&quot;0.0\&quot;}\n\t]);\n};\n\nexports.pop = PopStoryView;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/storyviews/pop.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;storyview&quot;
        },
        &quot;$:/core/modules/storyviews/zoomin.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/storyviews/zoomin.js\ntype: application/javascript\nmodule-type: storyview\n\nZooms between individual tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar easing = \&quot;cubic-bezier(0.645, 0.045, 0.355, 1)\&quot;; // From http://easings.net/#easeInOutCubic\n\nvar ZoominListView = function(listWidget) {\n\tvar self = this;\n\tthis.listWidget = listWidget;\n\t// Get the index of the tiddler that is at the top of the history\n\tvar history = this.listWidget.wiki.getTiddlerDataCached(this.listWidget.historyTitle,[]),\n\t\ttargetTiddler;\n\tif(history.length &gt; 0) {\n\t\ttargetTiddler = history[history.length-1].title;\n\t}\n\t// Make all the tiddlers position absolute, and hide all but the top (or first) one\n\t$tw.utils.each(this.listWidget.children,function(itemWidget,index) {\n\t\tvar domNode = itemWidget.findFirstDomNode();\n\t\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\t\tif(!(domNode instanceof Element)) {\n\t\t\treturn;\n\t\t}\n\t\tif((targetTiddler &amp;&amp; targetTiddler !== itemWidget.parseTreeNode.itemTitle) || (!targetTiddler &amp;&amp; index)) {\n\t\t\tdomNode.style.display = \&quot;none\&quot;;\n\t\t} else {\n\t\t\tself.currentTiddlerDomNode = domNode;\n\t\t}\n\t\t$tw.utils.addClass(domNode,\&quot;tc-storyview-zoomin-tiddler\&quot;);\n\t});\n};\n\nZoominListView.prototype.navigateTo = function(historyInfo) {\n\tvar duration = $tw.utils.getAnimationDuration(),\n\t\tlistElementIndex = this.listWidget.findListItem(0,historyInfo.title);\n\tif(listElementIndex === undefined) {\n\t\treturn;\n\t}\n\tvar listItemWidget = this.listWidget.children[listElementIndex],\n\t\ttargetElement = listItemWidget.findFirstDomNode();\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\treturn;\n\t}\n\t// Make the new tiddler be position absolute and visible so that we can measure it\n\t$tw.utils.addClass(targetElement,\&quot;tc-storyview-zoomin-tiddler\&quot;);\n\t$tw.utils.setStyle(targetElement,[\n\t\t{display: \&quot;block\&quot;},\n\t\t{transformOrigin: \&quot;0 0\&quot;},\n\t\t{transform: \&quot;translateX(0px) translateY(0px) scale(1)\&quot;},\n\t\t{transition: \&quot;none\&quot;},\n\t\t{opacity: \&quot;0.0\&quot;}\n\t]);\n\t// Get the position of the source node, or use the centre of the window as the source position\n\tvar sourceBounds = historyInfo.fromPageRect || {\n\t\t\tleft: window.innerWidth/2 - 2,\n\t\t\ttop: window.innerHeight/2 - 2,\n\t\t\twidth: window.innerWidth/8,\n\t\t\theight: window.innerHeight/8\n\t\t};\n\t// Try to find the title node in the target tiddler\n\tvar titleDomNode = findTitleDomNode(listItemWidget) || listItemWidget.findFirstDomNode(),\n\t\tzoomBounds = titleDomNode.getBoundingClientRect();\n\t// Compute the transform for the target tiddler to make the title lie over the source rectange\n\tvar targetBounds = targetElement.getBoundingClientRect(),\n\t\tscale = sourceBounds.width / zoomBounds.width,\n\t\tx = sourceBounds.left - targetBounds.left - (zoomBounds.left - targetBounds.left) * scale,\n\t\ty = sourceBounds.top - targetBounds.top - (zoomBounds.top - targetBounds.top) * scale;\n\t// Transform the target tiddler to its starting position\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transform: \&quot;translateX(\&quot; + x + \&quot;px) translateY(\&quot; + y + \&quot;px) scale(\&quot; + scale + \&quot;)\&quot;}\n\t]);\n\t// Force layout\n\t$tw.utils.forceLayout(targetElement);\n\t// Apply the ending transitions with a timeout to ensure that the previously applied transformations are applied first\n\tvar self = this,\n\t\tprevCurrentTiddler = this.currentTiddlerDomNode;\n\tthis.currentTiddlerDomNode = targetElement;\n\t// Transform the target tiddler to its natural size\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transition: $tw.utils.roundTripPropertyName(\&quot;transform\&quot;) + \&quot; \&quot; + duration + \&quot;ms \&quot; + easing + \&quot;, opacity \&quot; + duration + \&quot;ms \&quot; + easing},\n\t\t{opacity: \&quot;1.0\&quot;},\n\t\t{transform: \&quot;translateX(0px) translateY(0px) scale(1)\&quot;},\n\t\t{zIndex: \&quot;500\&quot;},\n\t]);\n\t// Transform the previous tiddler out of the way and then hide it\n\tif(prevCurrentTiddler &amp;&amp; prevCurrentTiddler !== targetElement) {\n\t\tscale = zoomBounds.width / sourceBounds.width;\n\t\tx =  zoomBounds.left - targetBounds.left - (sourceBounds.left - targetBounds.left) * scale;\n\t\ty =  zoomBounds.top - targetBounds.top - (sourceBounds.top - targetBounds.top) * scale;\n\t\t$tw.utils.setStyle(prevCurrentTiddler,[\n\t\t\t{transition: $tw.utils.roundTripPropertyName(\&quot;transform\&quot;) + \&quot; \&quot; + duration + \&quot;ms \&quot; + easing + \&quot;, opacity \&quot; + duration + \&quot;ms \&quot; + easing},\n\t\t\t{opacity: \&quot;0.0\&quot;},\n\t\t\t{transformOrigin: \&quot;0 0\&quot;},\n\t\t\t{transform: \&quot;translateX(\&quot; + x + \&quot;px) translateY(\&quot; + y + \&quot;px) scale(\&quot; + scale + \&quot;)\&quot;},\n\t\t\t{zIndex: \&quot;0\&quot;}\n\t\t]);\n\t\t// Hide the tiddler when the transition has finished\n\t\tsetTimeout(function() {\n\t\t\tif(self.currentTiddlerDomNode !== prevCurrentTiddler) {\n\t\t\t\tprevCurrentTiddler.style.display = \&quot;none\&quot;;\n\t\t\t}\n\t\t},duration);\n\t}\n\t// Scroll the target into view\n//\t$tw.pageScroller.scrollIntoView(targetElement);\n};\n\n/*\nFind the first child DOM node of a widget that has the class \&quot;tc-title\&quot;\n*/\nfunction findTitleDomNode(widget,targetClass) {\n\ttargetClass = targetClass || \&quot;tc-title\&quot;;\n\tvar domNode = widget.findFirstDomNode();\n\tif(domNode &amp;&amp; domNode.querySelector) {\n\t\treturn domNode.querySelector(\&quot;.\&quot; + targetClass);\n\t}\n\treturn null;\n}\n\nZoominListView.prototype.insert = function(widget) {\n\tvar targetElement = widget.findFirstDomNode();\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\treturn;\n\t}\n\t// Make the newly inserted node position absolute and hidden\n\t$tw.utils.addClass(targetElement,\&quot;tc-storyview-zoomin-tiddler\&quot;);\n\t$tw.utils.setStyle(targetElement,[\n\t\t{display: \&quot;none\&quot;}\n\t]);\n};\n\nZoominListView.prototype.remove = function(widget) {\n\tvar targetElement = widget.findFirstDomNode(),\n\t\tduration = $tw.utils.getAnimationDuration(),\n\t\tremoveElement = function() {\n\t\t\twidget.removeChildDomNodes();\n\t\t};\n\t// Abandon if the list entry isn't a DOM element (it might be a text node)\n\tif(!(targetElement instanceof Element)) {\n\t\tremoveElement();\n\t\treturn;\n\t}\n\t// Abandon if hidden\n\tif(targetElement.style.display != \&quot;block\&quot; ) {\n\t\tremoveElement();\n\t\treturn;\n\t}\n\t// Set up the tiddler that is being closed\n\t$tw.utils.addClass(targetElement,\&quot;tc-storyview-zoomin-tiddler\&quot;);\n\t$tw.utils.setStyle(targetElement,[\n\t\t{display: \&quot;block\&quot;},\n\t\t{transformOrigin: \&quot;50% 50%\&quot;},\n\t\t{transform: \&quot;translateX(0px) translateY(0px) scale(1)\&quot;},\n\t\t{transition: \&quot;none\&quot;},\n\t\t{zIndex: \&quot;0\&quot;}\n\t]);\n\t// We'll move back to the previous or next element in the story\n\tvar toWidget = widget.previousSibling();\n\tif(!toWidget) {\n\t\ttoWidget = widget.nextSibling();\n\t}\n\tvar toWidgetDomNode = toWidget &amp;&amp; toWidget.findFirstDomNode();\n\t// Set up the tiddler we're moving back in\n\tif(toWidgetDomNode) {\n\t\t$tw.utils.addClass(toWidgetDomNode,\&quot;tc-storyview-zoomin-tiddler\&quot;);\n\t\t$tw.utils.setStyle(toWidgetDomNode,[\n\t\t\t{display: \&quot;block\&quot;},\n\t\t\t{transformOrigin: \&quot;50% 50%\&quot;},\n\t\t\t{transform: \&quot;translateX(0px) translateY(0px) scale(10)\&quot;},\n\t\t\t{transition: $tw.utils.roundTripPropertyName(\&quot;transform\&quot;) + \&quot; \&quot; + duration + \&quot;ms \&quot; + easing + \&quot;, opacity \&quot; + duration + \&quot;ms \&quot; + easing},\n\t\t\t{opacity: \&quot;0\&quot;},\n\t\t\t{zIndex: \&quot;500\&quot;}\n\t\t]);\n\t\tthis.currentTiddlerDomNode = toWidgetDomNode;\n\t}\n\t// Animate them both\n\t// Force layout\n\t$tw.utils.forceLayout(this.listWidget.parentDomNode);\n\t// First, the tiddler we're closing\n\t$tw.utils.setStyle(targetElement,[\n\t\t{transformOrigin: \&quot;50% 50%\&quot;},\n\t\t{transform: \&quot;translateX(0px) translateY(0px) scale(0.1)\&quot;},\n\t\t{transition: $tw.utils.roundTripPropertyName(\&quot;transform\&quot;) + \&quot; \&quot; + duration + \&quot;ms \&quot; + easing + \&quot;, opacity \&quot; + duration + \&quot;ms \&quot; + easing},\n\t\t{opacity: \&quot;0\&quot;},\n\t\t{zIndex: \&quot;0\&quot;}\n\t]);\n\tsetTimeout(removeElement,duration);\n\t// Now the tiddler we're going back to\n\tif(toWidgetDomNode) {\n\t\t$tw.utils.setStyle(toWidgetDomNode,[\n\t\t\t{transform: \&quot;translateX(0px) translateY(0px) scale(1)\&quot;},\n\t\t\t{opacity: \&quot;1\&quot;}\n\t\t]);\n\t}\n\treturn true; // Indicate that we'll delete the DOM node\n};\n\nexports.zoomin = ZoominListView;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/storyviews/zoomin.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;storyview&quot;
        },
        &quot;$:/core/modules/syncer.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/syncer.js\ntype: application/javascript\nmodule-type: global\n\nThe syncer tracks changes to the store. If a syncadaptor is used then individual tiddlers are synchronised through it. If there is no syncadaptor then the entire wiki is saved via saver modules.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nInstantiate the syncer with the following options:\nsyncadaptor: reference to syncadaptor to be used\nwiki: wiki to be synced\n*/\nfunction Syncer(options) {\n\tvar self = this;\n\tthis.wiki = options.wiki;\n\tthis.syncadaptor = options.syncadaptor;\n\t// Make a logger\n\tthis.logger = new $tw.utils.Logger(\&quot;syncer\&quot; + ($tw.browser ? \&quot;-browser\&quot; : \&quot;\&quot;) + ($tw.node ? \&quot;-server\&quot; : \&quot;\&quot;));\n\t// Compile the dirty tiddler filter\n\tthis.filterFn = this.wiki.compileFilter(this.wiki.getTiddlerText(this.titleSyncFilter));\n\t// Record information for known tiddlers\n\tthis.readTiddlerInfo();\n\t// Tasks are {type: \&quot;load\&quot;/\&quot;save\&quot;/\&quot;delete\&quot;, title:, queueTime:, lastModificationTime:}\n\tthis.taskQueue = {}; // Hashmap of tasks yet to be performed\n\tthis.taskInProgress = {}; // Hash of tasks in progress\n\tthis.taskTimerId = null; // Timer for task dispatch\n\tthis.pollTimerId = null; // Timer for polling server\n\t// Listen out for changes to tiddlers\n\tthis.wiki.addEventListener(\&quot;change\&quot;,function(changes) {\n\t\tself.syncToServer(changes);\n\t});\n\t// Browser event handlers\n\tif($tw.browser) {\n\t\t// Set up our beforeunload handler\n\t\t$tw.addUnloadTask(function(event) {\n\t\t\tvar confirmationMessage;\n\t\t\tif(self.isDirty()) {\n\t\t\t\tconfirmationMessage = $tw.language.getString(\&quot;UnsavedChangesWarning\&quot;);\n\t\t\t\tevent.returnValue = confirmationMessage; // Gecko\n\t\t\t}\n\t\t\treturn confirmationMessage;\n\t\t});\n\t\t// Listen out for login/logout/refresh events in the browser\n\t\t$tw.rootWidget.addEventListener(\&quot;tm-login\&quot;,function() {\n\t\t\tself.handleLoginEvent();\n\t\t});\n\t\t$tw.rootWidget.addEventListener(\&quot;tm-logout\&quot;,function() {\n\t\t\tself.handleLogoutEvent();\n\t\t});\n\t\t$tw.rootWidget.addEventListener(\&quot;tm-server-refresh\&quot;,function() {\n\t\t\tself.handleRefreshEvent();\n\t\t});\n\t}\n\t// Listen out for lazyLoad events\n\tthis.wiki.addEventListener(\&quot;lazyLoad\&quot;,function(title) {\n\t\tself.handleLazyLoadEvent(title);\n\t});\n\t// Get the login status\n\tthis.getStatus(function(err,isLoggedIn) {\n\t\t// Do a sync from the server\n\t\tself.syncFromServer();\n\t});\n}\n\n/*\nConstants\n*/\nSyncer.prototype.titleIsLoggedIn = \&quot;$:/status/IsLoggedIn\&quot;;\nSyncer.prototype.titleUserName = \&quot;$:/status/UserName\&quot;;\nSyncer.prototype.titleSyncFilter = \&quot;$:/config/SyncFilter\&quot;;\nSyncer.prototype.titleSavedNotification = \&quot;$:/language/Notifications/Save/Done\&quot;;\nSyncer.prototype.taskTimerInterval = 1 * 1000; // Interval for sync timer\nSyncer.prototype.throttleInterval = 1 * 1000; // Defer saving tiddlers if they've changed in the last 1s...\nSyncer.prototype.fallbackInterval = 10 * 1000; // Unless the task is older than 10s\nSyncer.prototype.pollTimerInterval = 60 * 1000; // Interval for polling for changes from the adaptor\n\n\n/*\nRead (or re-read) the latest tiddler info from the store\n*/\nSyncer.prototype.readTiddlerInfo = function() {\n\t// Hashmap by title of {revision:,changeCount:,adaptorInfo:}\n\tthis.tiddlerInfo = {};\n\t// Record information for known tiddlers\n\tvar self = this,\n\t\ttiddlers = this.filterFn.call(this.wiki);\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar tiddler = self.wiki.getTiddler(title);\n\t\tself.tiddlerInfo[title] = {\n\t\t\trevision: tiddler.fields.revision,\n\t\t\tadaptorInfo: self.syncadaptor &amp;&amp; self.syncadaptor.getTiddlerInfo(tiddler),\n\t\t\tchangeCount: self.wiki.getChangeCount(title)\n\t\t};\n\t});\n};\n\n/*\nChecks whether the wiki is dirty (ie the window shouldn't be closed)\n*/\nSyncer.prototype.isDirty = function() {\n\treturn (this.numTasksInQueue() &gt; 0) || (this.numTasksInProgress() &gt; 0);\n};\n\n/*\nUpdate the document body with the class \&quot;tc-dirty\&quot; if the wiki has unsaved/unsynced changes\n*/\nSyncer.prototype.updateDirtyStatus = function() {\n\tif($tw.browser) {\n\t\t$tw.utils.toggleClass(document.body,\&quot;tc-dirty\&quot;,this.isDirty());\n\t}\n};\n\n/*\nSave an incoming tiddler in the store, and updates the associated tiddlerInfo\n*/\nSyncer.prototype.storeTiddler = function(tiddlerFields) {\n\t// Save the tiddler\n\tvar tiddler = new $tw.Tiddler(this.wiki.getTiddler(tiddlerFields.title),tiddlerFields);\n\tthis.wiki.addTiddler(tiddler);\n\t// Save the tiddler revision and changeCount details\n\tthis.tiddlerInfo[tiddlerFields.title] = {\n\t\trevision: tiddlerFields.revision,\n\t\tadaptorInfo: this.syncadaptor.getTiddlerInfo(tiddler),\n\t\tchangeCount: this.wiki.getChangeCount(tiddlerFields.title)\n\t};\n};\n\nSyncer.prototype.getStatus = function(callback) {\n\tvar self = this;\n\t// Check if the adaptor supports getStatus()\n\tif(this.syncadaptor &amp;&amp; this.syncadaptor.getStatus) {\n\t\t// Mark us as not logged in\n\t\tthis.wiki.addTiddler({title: this.titleIsLoggedIn,text: \&quot;no\&quot;});\n\t\t// Get login status\n\t\tthis.syncadaptor.getStatus(function(err,isLoggedIn,username) {\n\t\t\tif(err) {\n\t\t\t\tself.logger.alert(err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Set the various status tiddlers\n\t\t\tself.wiki.addTiddler({title: self.titleIsLoggedIn,text: isLoggedIn ? \&quot;yes\&quot; : \&quot;no\&quot;});\n\t\t\tif(isLoggedIn) {\n\t\t\t\tself.wiki.addTiddler({title: self.titleUserName,text: username || \&quot;\&quot;});\n\t\t\t} else {\n\t\t\t\tself.wiki.deleteTiddler(self.titleUserName);\n\t\t\t}\n\t\t\t// Invoke the callback\n\t\t\tif(callback) {\n\t\t\t\tcallback(err,isLoggedIn,username);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tcallback(null,true,\&quot;UNAUTHENTICATED\&quot;);\n\t}\n};\n\n/*\nSynchronise from the server by reading the skinny tiddler list and queuing up loads for any tiddlers that we don't already have up to date\n*/\nSyncer.prototype.syncFromServer = function() {\n\tif(this.syncadaptor &amp;&amp; this.syncadaptor.getSkinnyTiddlers) {\n\t\tthis.logger.log(\&quot;Retrieving skinny tiddler list\&quot;);\n\t\tvar self = this;\n\t\tif(this.pollTimerId) {\n\t\t\tclearTimeout(this.pollTimerId);\n\t\t\tthis.pollTimerId = null;\n\t\t}\n\t\tthis.syncadaptor.getSkinnyTiddlers(function(err,tiddlers) {\n\t\t\t// Trigger the next sync\n\t\t\tself.pollTimerId = setTimeout(function() {\n\t\t\t\tself.pollTimerId = null;\n\t\t\t\tself.syncFromServer.call(self);\n\t\t\t},self.pollTimerInterval);\n\t\t\t// Check for errors\n\t\t\tif(err) {\n\t\t\t\tself.logger.alert(\&quot;Error retrieving skinny tiddler list:\&quot;,err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Process each incoming tiddler\n\t\t\tfor(var t=0; t&lt;tiddlers.length; t++) {\n\t\t\t\t// Get the incoming tiddler fields, and the existing tiddler\n\t\t\t\tvar tiddlerFields = tiddlers[t],\n\t\t\t\t\tincomingRevision = tiddlerFields.revision + \&quot;\&quot;,\n\t\t\t\t\ttiddler = self.wiki.getTiddler(tiddlerFields.title),\n\t\t\t\t\ttiddlerInfo = self.tiddlerInfo[tiddlerFields.title],\n\t\t\t\t\tcurrRevision = tiddlerInfo ? tiddlerInfo.revision : null;\n\t\t\t\t// Ignore the incoming tiddler if it's the same as the revision we've already got\n\t\t\t\tif(currRevision !== incomingRevision) {\n\t\t\t\t\t// Do a full load if we've already got a fat version of the tiddler\n\t\t\t\t\tif(tiddler &amp;&amp; tiddler.fields.text !== undefined) {\n\t\t\t\t\t\t// Do a full load of this tiddler\n\t\t\t\t\t\tself.enqueueSyncTask({\n\t\t\t\t\t\t\ttype: \&quot;load\&quot;,\n\t\t\t\t\t\t\ttitle: tiddlerFields.title\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Load the skinny version of the tiddler\n\t\t\t\t\t\tself.storeTiddler(tiddlerFields);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n};\n\n/*\nSynchronise a set of changes to the server\n*/\nSyncer.prototype.syncToServer = function(changes) {\n\tvar self = this,\n\t\tnow = Date.now(),\n\t\tfilteredChanges = this.filterFn.call(this.wiki,function(callback) {\n\t\t\t$tw.utils.each(changes,function(change,title) {\n\t\t\t\tvar tiddler = self.wiki.getTiddler(title);\n\t\t\t\tcallback(tiddler,title);\n\t\t\t});\n\t\t});\n\t$tw.utils.each(changes,function(change,title,object) {\n\t\t// Process the change if it is a deletion of a tiddler we're already syncing, or is on the filtered change list\n\t\tif((change.deleted &amp;&amp; $tw.utils.hop(self.tiddlerInfo,title)) || filteredChanges.indexOf(title) !== -1) {\n\t\t\t// Queue a task to sync this tiddler\n\t\t\tself.enqueueSyncTask({\n\t\t\t\ttype: change.deleted ? \&quot;delete\&quot; : \&quot;save\&quot;,\n\t\t\t\ttitle: title\n\t\t\t});\n\t\t}\n\t});\n};\n\n/*\nLazily load a skinny tiddler if we can\n*/\nSyncer.prototype.handleLazyLoadEvent = function(title) {\n\t// Queue up a sync task to load this tiddler\n\tthis.enqueueSyncTask({\n\t\ttype: \&quot;load\&quot;,\n\t\ttitle: title\n\t});\n};\n\n/*\nDispay a password prompt and allow the user to login\n*/\nSyncer.prototype.handleLoginEvent = function() {\n\tvar self = this;\n\tthis.getStatus(function(err,isLoggedIn,username) {\n\t\tif(!isLoggedIn) {\n\t\t\t$tw.passwordPrompt.createPrompt({\n\t\t\t\tserviceName: \&quot;Login to TiddlySpace\&quot;,\n\t\t\t\tcallback: function(data) {\n\t\t\t\t\tself.login(data.username,data.password,function(err,isLoggedIn) {\n\t\t\t\t\t\tself.syncFromServer();\n\t\t\t\t\t});\n\t\t\t\t\treturn true; // Get rid of the password prompt\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n};\n\n/*\nAttempt to login to TiddlyWeb.\n\tusername: username\n\tpassword: password\n\tcallback: invoked with arguments (err,isLoggedIn)\n*/\nSyncer.prototype.login = function(username,password,callback) {\n\tthis.logger.log(\&quot;Attempting to login as\&quot;,username);\n\tvar self = this;\n\tif(this.syncadaptor.login) {\n\t\tthis.syncadaptor.login(username,password,function(err) {\n\t\t\tif(err) {\n\t\t\t\treturn callback(err);\n\t\t\t}\n\t\t\tself.getStatus(function(err,isLoggedIn,username) {\n\t\t\t\tif(callback) {\n\t\t\t\t\tcallback(null,isLoggedIn);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t} else {\n\t\tcallback(null,true);\n\t}\n};\n\n/*\nAttempt to log out of TiddlyWeb\n*/\nSyncer.prototype.handleLogoutEvent = function() {\n\tthis.logger.log(\&quot;Attempting to logout\&quot;);\n\tvar self = this;\n\tif(this.syncadaptor.logout) {\n\t\tthis.syncadaptor.logout(function(err) {\n\t\t\tif(err) {\n\t\t\t\tself.logger.alert(err);\n\t\t\t} else {\n\t\t\t\tself.getStatus();\n\t\t\t}\n\t\t});\n\t}\n};\n\n/*\nImmediately refresh from the server\n*/\nSyncer.prototype.handleRefreshEvent = function() {\n\tthis.syncFromServer();\n};\n\n/*\nQueue up a sync task. If there is already a pending task for the tiddler, just update the last modification time\n*/\nSyncer.prototype.enqueueSyncTask = function(task) {\n\tvar self = this,\n\t\tnow = Date.now();\n\t// Set the timestamps on this task\n\ttask.queueTime = now;\n\ttask.lastModificationTime = now;\n\t// Fill in some tiddlerInfo if the tiddler is one we haven't seen before\n\tif(!$tw.utils.hop(this.tiddlerInfo,task.title)) {\n\t\tthis.tiddlerInfo[task.title] = {\n\t\t\trevision: null,\n\t\t\tadaptorInfo: {},\n\t\t\tchangeCount: -1\n\t\t};\n\t}\n\t// Bail if this is a save and the tiddler is already at the changeCount that the server has\n\tif(task.type === \&quot;save\&quot; &amp;&amp; this.wiki.getChangeCount(task.title) &lt;= this.tiddlerInfo[task.title].changeCount) {\n\t\treturn;\n\t}\n\t// Check if this tiddler is already in the queue\n\tif($tw.utils.hop(this.taskQueue,task.title)) {\n\t\t// this.logger.log(\&quot;Re-queueing up sync task with type:\&quot;,task.type,\&quot;title:\&quot;,task.title);\n\t\tvar existingTask = this.taskQueue[task.title];\n\t\t// If so, just update the last modification time\n\t\texistingTask.lastModificationTime = task.lastModificationTime;\n\t\t// If the new task is a save then we upgrade the existing task to a save. Thus a pending load is turned into a save if the tiddler changes locally in the meantime. But a pending save is not modified to become a load\n\t\tif(task.type === \&quot;save\&quot; || task.type === \&quot;delete\&quot;) {\n\t\t\texistingTask.type = task.type;\n\t\t}\n\t} else {\n\t\t// this.logger.log(\&quot;Queuing up sync task with type:\&quot;,task.type,\&quot;title:\&quot;,task.title);\n\t\t// If it is not in the queue, insert it\n\t\tthis.taskQueue[task.title] = task;\n\t\tthis.updateDirtyStatus();\n\t}\n\t// Process the queue\n\t$tw.utils.nextTick(function() {self.processTaskQueue.call(self);});\n};\n\n/*\nReturn the number of tasks in progress\n*/\nSyncer.prototype.numTasksInProgress = function() {\n\treturn $tw.utils.count(this.taskInProgress);\n};\n\n/*\nReturn the number of tasks in the queue\n*/\nSyncer.prototype.numTasksInQueue = function() {\n\treturn $tw.utils.count(this.taskQueue);\n};\n\n/*\nTrigger a timeout if one isn't already outstanding\n*/\nSyncer.prototype.triggerTimeout = function() {\n\tvar self = this;\n\tif(!this.taskTimerId) {\n\t\tthis.taskTimerId = setTimeout(function() {\n\t\t\tself.taskTimerId = null;\n\t\t\tself.processTaskQueue.call(self);\n\t\t},self.taskTimerInterval);\n\t}\n};\n\n/*\nProcess the task queue, performing the next task if appropriate\n*/\nSyncer.prototype.processTaskQueue = function() {\n\tvar self = this;\n\t// Only process a task if we're not already performing a task. If we are already performing a task then we'll dispatch the next one when it completes\n\tif(this.numTasksInProgress() === 0) {\n\t\t// Choose the next task to perform\n\t\tvar task = this.chooseNextTask();\n\t\t// Perform the task if we had one\n\t\tif(task) {\n\t\t\t// Remove the task from the queue and add it to the in progress list\n\t\t\tdelete this.taskQueue[task.title];\n\t\t\tthis.taskInProgress[task.title] = task;\n\t\t\tthis.updateDirtyStatus();\n\t\t\t// Dispatch the task\n\t\t\tthis.dispatchTask(task,function(err) {\n\t\t\t\tif(err) {\n\t\t\t\t\tself.logger.alert(\&quot;Sync error while processing '\&quot; + task.title + \&quot;':\\n\&quot; + err);\n\t\t\t\t}\n\t\t\t\t// Mark that this task is no longer in progress\n\t\t\t\tdelete self.taskInProgress[task.title];\n\t\t\t\tself.updateDirtyStatus();\n\t\t\t\t// Process the next task\n\t\t\t\tself.processTaskQueue.call(self);\n\t\t\t});\n\t\t} else {\n\t\t\t// Make sure we've set a time if there wasn't a task to perform, but we've still got tasks in the queue\n\t\t\tif(this.numTasksInQueue() &gt; 0) {\n\t\t\t\tthis.triggerTimeout();\n\t\t\t}\n\t\t}\n\t}\n};\n\n/*\nChoose the next applicable task\n*/\nSyncer.prototype.chooseNextTask = function() {\n\tvar self = this,\n\t\tcandidateTask = null,\n\t\tnow = Date.now();\n\t// Select the best candidate task\n\t$tw.utils.each(this.taskQueue,function(task,title) {\n\t\t// Exclude the task if there's one of the same name in progress\n\t\tif($tw.utils.hop(self.taskInProgress,title)) {\n\t\t\treturn;\n\t\t}\n\t\t// Exclude the task if it is a save and the tiddler has been modified recently, but not hit the fallback time\n\t\tif(task.type === \&quot;save\&quot; &amp;&amp; (now - task.lastModificationTime) &lt; self.throttleInterval &amp;&amp;\n\t\t\t(now - task.queueTime) &lt; self.fallbackInterval) {\n\t\t\treturn;\n\t\t}\n\t\t// Exclude the task if it is newer than the current best candidate\n\t\tif(candidateTask &amp;&amp; candidateTask.queueTime &lt; task.queueTime) {\n\t\t\treturn;\n\t\t}\n\t\t// Now this is our best candidate\n\t\tcandidateTask = task;\n\t});\n\treturn candidateTask;\n};\n\n/*\nDispatch a task and invoke the callback\n*/\nSyncer.prototype.dispatchTask = function(task,callback) {\n\tvar self = this;\n\tif(task.type === \&quot;save\&quot;) {\n\t\tvar changeCount = this.wiki.getChangeCount(task.title),\n\t\t\ttiddler = this.wiki.getTiddler(task.title);\n\t\tthis.logger.log(\&quot;Dispatching 'save' task:\&quot;,task.title);\n\t\tif(tiddler) {\n\t\t\tthis.syncadaptor.saveTiddler(tiddler,function(err,adaptorInfo,revision) {\n\t\t\t\tif(err) {\n\t\t\t\t\treturn callback(err);\n\t\t\t\t}\n\t\t\t\t// Adjust the info stored about this tiddler\n\t\t\t\tself.tiddlerInfo[task.title] = {\n\t\t\t\t\tchangeCount: changeCount,\n\t\t\t\t\tadaptorInfo: adaptorInfo,\n\t\t\t\t\trevision: revision\n\t\t\t\t};\n\t\t\t\t// Invoke the callback\n\t\t\t\tcallback(null);\n\t\t\t},{\n\t\t\t\ttiddlerInfo: self.tiddlerInfo[task.title]\n\t\t\t});\n\t\t} else {\n\t\t\tthis.logger.log(\&quot; Not Dispatching 'save' task:\&quot;,task.title,\&quot;tiddler does not exist\&quot;);\n\t\t\treturn callback(null);\n\t\t}\n\t} else if(task.type === \&quot;load\&quot;) {\n\t\t// Load the tiddler\n\t\tthis.logger.log(\&quot;Dispatching 'load' task:\&quot;,task.title);\n\t\tthis.syncadaptor.loadTiddler(task.title,function(err,tiddlerFields) {\n\t\t\tif(err) {\n\t\t\t\treturn callback(err);\n\t\t\t}\n\t\t\t// Store the tiddler\n\t\t\tif(tiddlerFields) {\n\t\t\t\tself.storeTiddler(tiddlerFields);\n\t\t\t}\n\t\t\t// Invoke the callback\n\t\t\tcallback(null);\n\t\t});\n\t} else if(task.type === \&quot;delete\&quot;) {\n\t\t// Delete the tiddler\n\t\tthis.logger.log(\&quot;Dispatching 'delete' task:\&quot;,task.title);\n\t\tthis.syncadaptor.deleteTiddler(task.title,function(err) {\n\t\t\tif(err) {\n\t\t\t\treturn callback(err);\n\t\t\t}\n\t\t\tdelete self.tiddlerInfo[task.title];\n\t\t\t// Invoke the callback\n\t\t\tcallback(null);\n\t\t},{\n\t\t\ttiddlerInfo: self.tiddlerInfo[task.title]\n\t\t});\n\t}\n};\n\nexports.Syncer = Syncer;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/syncer.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;global&quot;
        },
        &quot;$:/core/modules/tiddler.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/tiddler.js\ntype: application/javascript\nmodule-type: tiddlermethod\n\nExtension methods for the $tw.Tiddler object (constructor and methods required at boot time are in boot/boot.js)\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.hasTag = function(tag) {\n\treturn this.fields.tags &amp;&amp; this.fields.tags.indexOf(tag) !== -1;\n};\n\nexports.isPlugin = function() {\n\treturn this.fields.type === \&quot;application/json\&quot; &amp;&amp; this.hasField(\&quot;plugin-type\&quot;);\n};\n\nexports.isDraft = function() {\n\treturn this.hasField(\&quot;draft.of\&quot;);\n};\n\nexports.getFieldString = function(field) {\n\tvar value = this.fields[field];\n\t// Check for a missing field\n\tif(value === undefined || value === null) {\n\t\treturn \&quot;\&quot;;\n\t}\n\t// Parse the field with the associated module (if any)\n\tvar fieldModule = $tw.Tiddler.fieldModules[field];\n\tif(fieldModule &amp;&amp; fieldModule.stringify) {\n\t\treturn fieldModule.stringify.call(this,value);\n\t} else {\n\t\treturn value.toString();\n\t}\n};\n\n/*\nGet all the fields as a name:value block. Options:\n\texclude: an array of field names to exclude\n*/\nexports.getFieldStringBlock = function(options) {\n\toptions = options || {};\n\tvar exclude = options.exclude || [];\n\tvar fields = [];\n\tfor(var field in this.fields) {\n\t\tif($tw.utils.hop(this.fields,field)) {\n\t\t\tif(exclude.indexOf(field) === -1) {\n\t\t\t\tfields.push(field + \&quot;: \&quot; + this.getFieldString(field));\n\t\t\t}\n\t\t}\n\t}\n\treturn fields.join(\&quot;\\n\&quot;);\n};\n\n/*\nCompare two tiddlers for equality\ntiddler: the tiddler to compare\nexcludeFields: array of field names to exclude from the comparison\n*/\nexports.isEqual = function(tiddler,excludeFields) {\n\tif(!(tiddler instanceof $tw.Tiddler)) {\n\t\treturn false;\n\t}\n\texcludeFields = excludeFields || [];\n\tvar self = this,\n\t\tdifferences = []; // Fields that have differences\n\t// Add to the differences array\n\tfunction addDifference(fieldName) {\n\t\t// Check for this field being excluded\n\t\tif(excludeFields.indexOf(fieldName) === -1) {\n\t\t\t// Save the field as a difference\n\t\t\t$tw.utils.pushTop(differences,fieldName);\n\t\t}\n\t}\n\t// Returns true if the two values of this field are equal\n\tfunction isFieldValueEqual(fieldName) {\n\t\tvar valueA = self.fields[fieldName],\n\t\t\tvalueB = tiddler.fields[fieldName];\n\t\t// Check for identical string values\n\t\tif(typeof(valueA) === \&quot;string\&quot; &amp;&amp; typeof(valueB) === \&quot;string\&quot; &amp;&amp; valueA === valueB) {\n\t\t\treturn true;\n\t\t}\n\t\t// Check for identical array values\n\t\tif($tw.utils.isArray(valueA) &amp;&amp; $tw.utils.isArray(valueB) &amp;&amp; $tw.utils.isArrayEqual(valueA,valueB)) {\n\t\t\treturn true;\n\t\t}\n\t\t// Otherwise the fields must be different\n\t\treturn false;\n\t}\n\t// Compare our fields\n\tfor(var fieldName in this.fields) {\n\t\tif(!isFieldValueEqual(fieldName)) {\n\t\t\taddDifference(fieldName);\n\t\t}\n\t}\n\t// There's a difference for every field in the other tiddler that we don't have\n\tfor(fieldName in tiddler.fields) {\n\t\tif(!(fieldName in this.fields)) {\n\t\t\taddDifference(fieldName);\n\t\t}\n\t}\n\t// Return whether there were any differences\n\treturn differences.length === 0;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/tiddler.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;tiddlermethod&quot;
        },
        &quot;$:/core/modules/upgraders/plugins.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/upgraders/plugins.js\ntype: application/javascript\nmodule-type: upgrader\n\nUpgrader module that checks that plugins are newer than any already installed version\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar UPGRADE_LIBRARY_TITLE = \&quot;$:/UpgradeLibrary\&quot;;\n\nvar BLOCKED_PLUGINS = {\n\t\&quot;$:/themes/tiddlywiki/stickytitles\&quot;: {\n\t\tversions: [\&quot;*\&quot;]\n\t},\n\t\&quot;$:/plugins/tiddlywiki/fullscreen\&quot;: {\n\t\tversions: [\&quot;*\&quot;]\n\t}\n};\n\nexports.upgrade = function(wiki,titles,tiddlers) {\n\tvar self = this,\n\t\tmessages = {},\n\t\tupgradeLibrary,\n\t\tgetLibraryTiddler = function(title) {\n\t\t\tif(!upgradeLibrary) {\n\t\t\t\tupgradeLibrary = wiki.getTiddlerData(UPGRADE_LIBRARY_TITLE,{});\n\t\t\t\tupgradeLibrary.tiddlers = upgradeLibrary.tiddlers || {};\n\t\t\t}\n\t\t\treturn upgradeLibrary.tiddlers[title];\n\t\t};\n\n\t// Go through all the incoming tiddlers\n\t$tw.utils.each(titles,function(title) {\n\t\tvar incomingTiddler = tiddlers[title];\n\t\t// Check if we're dealing with a plugin\n\t\tif(incomingTiddler &amp;&amp; incomingTiddler[\&quot;plugin-type\&quot;] &amp;&amp; incomingTiddler.version) {\n\t\t\t// Upgrade the incoming plugin if it is in the upgrade library\n\t\t\tvar libraryTiddler = getLibraryTiddler(title);\n\t\t\tif(libraryTiddler &amp;&amp; libraryTiddler[\&quot;plugin-type\&quot;] &amp;&amp; libraryTiddler.version) {\n\t\t\t\ttiddlers[title] = libraryTiddler;\n\t\t\t\tmessages[title] = $tw.language.getString(\&quot;Import/Upgrader/Plugins/Upgraded\&quot;,{variables: {incoming: incomingTiddler.version, upgraded: libraryTiddler.version}});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Suppress the incoming plugin if it is older than the currently installed one\n\t\t\tvar existingTiddler = wiki.getTiddler(title);\n\t\t\tif(existingTiddler &amp;&amp; existingTiddler.hasField(\&quot;plugin-type\&quot;) &amp;&amp; existingTiddler.hasField(\&quot;version\&quot;)) {\n\t\t\t\t// Reject the incoming plugin by blanking all its fields\n\t\t\t\tif($tw.utils.checkVersions(existingTiddler.fields.version,incomingTiddler.version)) {\n\t\t\t\t\ttiddlers[title] = Object.create(null);\n\t\t\t\t\tmessages[title] = $tw.language.getString(\&quot;Import/Upgrader/Plugins/Suppressed/Version\&quot;,{variables: {incoming: incomingTiddler.version, existing: existingTiddler.fields.version}});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(incomingTiddler &amp;&amp; incomingTiddler[\&quot;plugin-type\&quot;]) {\n\t\t\t// Check whether the plugin is on the blocked list\n\t\t\tvar blockInfo = BLOCKED_PLUGINS[title];\n\t\t\tif(blockInfo) {\n\t\t\t\tif(blockInfo.versions.indexOf(\&quot;*\&quot;) !== -1 || (incomingTiddler.version &amp;&amp; blockInfo.versions.indexOf(incomingTiddler.version) !== -1)) {\n\t\t\t\t\ttiddlers[title] = Object.create(null);\n\t\t\t\t\tmessages[title] = $tw.language.getString(\&quot;Import/Upgrader/Plugins/Suppressed/Incompatible\&quot;);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\treturn messages;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/upgraders/plugins.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;upgrader&quot;
        },
        &quot;$:/core/modules/upgraders/system.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/upgraders/system.js\ntype: application/javascript\nmodule-type: upgrader\n\nUpgrader module that suppresses certain system tiddlers that shouldn't be imported\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar DONT_IMPORT_LIST = [\&quot;$:/StoryList\&quot;,\&quot;$:/HistoryList\&quot;],\n\tDONT_IMPORT_PREFIX_LIST = [\&quot;$:/temp/\&quot;,\&quot;$:/state/\&quot;];\n\nexports.upgrade = function(wiki,titles,tiddlers) {\n\tvar self = this,\n\t\tmessages = {};\n\t// Check for tiddlers on our list\n\t$tw.utils.each(titles,function(title) {\n\t\tif(DONT_IMPORT_LIST.indexOf(title) !== -1) {\n\t\t\ttiddlers[title] = Object.create(null);\n\t\t\tmessages[title] = $tw.language.getString(\&quot;Import/Upgrader/System/Suppressed\&quot;);\n\t\t} else {\n\t\t\tfor(var t=0; t&lt;DONT_IMPORT_PREFIX_LIST.length; t++) {\n\t\t\t\tvar prefix = DONT_IMPORT_PREFIX_LIST[t];\n\t\t\t\tif(title.substr(0,prefix.length) === prefix) {\n\t\t\t\t\ttiddlers[title] = Object.create(null);\n\t\t\t\t\tmessages[title] = $tw.language.getString(\&quot;Import/Upgrader/State/Suppressed\&quot;);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\treturn messages;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/upgraders/system.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;upgrader&quot;
        },
        &quot;$:/core/modules/upgraders/themetweaks.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/upgraders/themetweaks.js\ntype: application/javascript\nmodule-type: upgrader\n\nUpgrader module that handles the change in theme tweak storage introduced in 5.0.14-beta.\n\nPreviously, theme tweaks were stored in two data tiddlers:\n\n* $:/themes/tiddlywiki/vanilla/metrics\n* $:/themes/tiddlywiki/vanilla/settings\n\nNow, each tweak is stored in its own separate tiddler.\n\nThis upgrader copies any values from the old format to the new. The old data tiddlers are not deleted in case they have been used to store additional indexes.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar MAPPINGS = {\n\t\&quot;$:/themes/tiddlywiki/vanilla/metrics\&quot;: {\n\t\t\&quot;fontsize\&quot;: \&quot;$:/themes/tiddlywiki/vanilla/metrics/fontsize\&quot;,\n\t\t\&quot;lineheight\&quot;: \&quot;$:/themes/tiddlywiki/vanilla/metrics/lineheight\&quot;,\n\t\t\&quot;storyleft\&quot;: \&quot;$:/themes/tiddlywiki/vanilla/metrics/storyleft\&quot;,\n\t\t\&quot;storytop\&quot;: \&quot;$:/themes/tiddlywiki/vanilla/metrics/storytop\&quot;,\n\t\t\&quot;storyright\&quot;: \&quot;$:/themes/tiddlywiki/vanilla/metrics/storyright\&quot;,\n\t\t\&quot;storywidth\&quot;: \&quot;$:/themes/tiddlywiki/vanilla/metrics/storywidth\&quot;,\n\t\t\&quot;tiddlerwidth\&quot;: \&quot;$:/themes/tiddlywiki/vanilla/metrics/tiddlerwidth\&quot;\n\t},\n\t\&quot;$:/themes/tiddlywiki/vanilla/settings\&quot;: {\n\t\t\&quot;fontfamily\&quot;: \&quot;$:/themes/tiddlywiki/vanilla/settings/fontfamily\&quot;\n\t}\n};\n\nexports.upgrade = function(wiki,titles,tiddlers) {\n\tvar self = this,\n\t\tmessages = {};\n\t// Check for tiddlers on our list\n\t$tw.utils.each(titles,function(title) {\n\t\tvar mapping = MAPPINGS[title];\n\t\tif(mapping) {\n\t\t\tvar tiddler = new $tw.Tiddler(tiddlers[title]),\n\t\t\t\ttiddlerData = wiki.getTiddlerDataCached(tiddler,{});\n\t\t\tfor(var index in mapping) {\n\t\t\t\tvar mappedTitle = mapping[index];\n\t\t\t\tif(!tiddlers[mappedTitle] || tiddlers[mappedTitle].title !== mappedTitle) {\n\t\t\t\t\ttiddlers[mappedTitle] = {\n\t\t\t\t\t\ttitle: mappedTitle,\n\t\t\t\t\t\ttext: tiddlerData[index]\n\t\t\t\t\t};\n\t\t\t\t\tmessages[mappedTitle] = $tw.language.getString(\&quot;Import/Upgrader/ThemeTweaks/Created\&quot;,{variables: {\n\t\t\t\t\t\tfrom: title + \&quot;##\&quot; + index\n\t\t\t\t\t}});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\treturn messages;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/upgraders/themetweaks.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;upgrader&quot;
        },
        &quot;$:/core/modules/utils/crypto.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/crypto.js\ntype: application/javascript\nmodule-type: utils\n\nUtility functions related to crypto.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nLook for an encrypted store area in the text of a TiddlyWiki file\n*/\nexports.extractEncryptedStoreArea = function(text) {\n\tvar encryptedStoreAreaStartMarker = \&quot;&lt;pre id=\\\&quot;encryptedStoreArea\\\&quot; type=\\\&quot;text/plain\\\&quot; style=\\\&quot;display:none;\\\&quot;&gt;\&quot;,\n\t\tencryptedStoreAreaStart = text.indexOf(encryptedStoreAreaStartMarker);\n\tif(encryptedStoreAreaStart !== -1) {\n\t\tvar encryptedStoreAreaEnd = text.indexOf(\&quot;&lt;/pre&gt;\&quot;,encryptedStoreAreaStart);\n\t\tif(encryptedStoreAreaEnd !== -1) {\n\t\t\treturn $tw.utils.htmlDecode(text.substring(encryptedStoreAreaStart + encryptedStoreAreaStartMarker.length,encryptedStoreAreaEnd-1));\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nAttempt to extract the tiddlers from an encrypted store area using the current password. If the password is not provided then the password in the password store will be used\n*/\nexports.decryptStoreArea = function(encryptedStoreArea,password) {\n\tvar decryptedText = $tw.crypto.decrypt(encryptedStoreArea,password);\n\tif(decryptedText) {\n\t\tvar json = JSON.parse(decryptedText),\n\t\t\ttiddlers = [];\n\t\tfor(var title in json) {\n\t\t\tif(title !== \&quot;$:/isEncrypted\&quot;) {\n\t\t\t\ttiddlers.push(json[title]);\n\t\t\t}\n\t\t}\n\t\treturn tiddlers;\n\t} else {\n\t\treturn null;\n\t}\n};\n\n\n/*\nAttempt to extract the tiddlers from an encrypted store area using the current password. If that fails, the user is prompted for a password.\nencryptedStoreArea: text of the TiddlyWiki encrypted store area\ncallback: function(tiddlers) called with the array of decrypted tiddlers\n\nThe following configuration settings are supported:\n\n$tw.config.usePasswordVault: causes any password entered by the user to also be put into the system password vault\n*/\nexports.decryptStoreAreaInteractive = function(encryptedStoreArea,callback,options) {\n\t// Try to decrypt with the current password\n\tvar tiddlers = $tw.utils.decryptStoreArea(encryptedStoreArea);\n\tif(tiddlers) {\n\t\tcallback(tiddlers);\n\t} else {\n\t\t// Prompt for a new password and keep trying\n\t\t$tw.passwordPrompt.createPrompt({\n\t\t\tserviceName: \&quot;Enter a password to decrypt the imported TiddlyWiki\&quot;,\n\t\t\tnoUserName: true,\n\t\t\tcanCancel: true,\n\t\t\tsubmitText: \&quot;Decrypt\&quot;,\n\t\t\tcallback: function(data) {\n\t\t\t\t// Exit if the user cancelled\n\t\t\t\tif(!data) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// Attempt to decrypt the tiddlers\n\t\t\t\tvar tiddlers = $tw.utils.decryptStoreArea(encryptedStoreArea,data.password);\n\t\t\t\tif(tiddlers) {\n\t\t\t\t\tif($tw.config.usePasswordVault) {\n\t\t\t\t\t\t$tw.crypto.setPassword(data.password);\n\t\t\t\t\t}\n\t\t\t\t\tcallback(tiddlers);\n\t\t\t\t\t// Exit and remove the password prompt\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\t// We didn't decrypt everything, so continue to prompt for password\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/crypto.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/dom/animations/slide.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/dom/animations/slide.js\ntype: application/javascript\nmodule-type: animation\n\nA simple slide animation that varies the height of the element\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nfunction slideOpen(domNode,options) {\n\toptions = options || {};\n\tvar duration = options.duration || $tw.utils.getAnimationDuration();\n\t// Get the current height of the domNode\n\tvar computedStyle = window.getComputedStyle(domNode),\n\t\tcurrMarginBottom = parseInt(computedStyle.marginBottom,10),\n\t\tcurrMarginTop = parseInt(computedStyle.marginTop,10),\n\t\tcurrPaddingBottom = parseInt(computedStyle.paddingBottom,10),\n\t\tcurrPaddingTop = parseInt(computedStyle.paddingTop,10),\n\t\tcurrHeight = domNode.offsetHeight;\n\t// Reset the margin once the transition is over\n\tsetTimeout(function() {\n\t\t$tw.utils.setStyle(domNode,[\n\t\t\t{transition: \&quot;none\&quot;},\n\t\t\t{marginBottom: \&quot;\&quot;},\n\t\t\t{marginTop: \&quot;\&quot;},\n\t\t\t{paddingBottom: \&quot;\&quot;},\n\t\t\t{paddingTop: \&quot;\&quot;},\n\t\t\t{height: \&quot;auto\&quot;},\n\t\t\t{opacity: \&quot;\&quot;}\n\t\t]);\n\t\tif(options.callback) {\n\t\t\toptions.callback();\n\t\t}\n\t},duration);\n\t// Set up the initial position of the element\n\t$tw.utils.setStyle(domNode,[\n\t\t{transition: \&quot;none\&quot;},\n\t\t{marginTop: \&quot;0px\&quot;},\n\t\t{marginBottom: \&quot;0px\&quot;},\n\t\t{paddingTop: \&quot;0px\&quot;},\n\t\t{paddingBottom: \&quot;0px\&quot;},\n\t\t{height: \&quot;0px\&quot;},\n\t\t{opacity: \&quot;0\&quot;}\n\t]);\n\t$tw.utils.forceLayout(domNode);\n\t// Transition to the final position\n\t$tw.utils.setStyle(domNode,[\n\t\t{transition: \&quot;margin-top \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;margin-bottom \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;padding-top \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;padding-bottom \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;height \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;opacity \&quot; + duration + \&quot;ms ease-in-out\&quot;},\n\t\t{marginBottom: currMarginBottom + \&quot;px\&quot;},\n\t\t{marginTop: currMarginTop + \&quot;px\&quot;},\n\t\t{paddingBottom: currPaddingBottom + \&quot;px\&quot;},\n\t\t{paddingTop: currPaddingTop + \&quot;px\&quot;},\n\t\t{height: currHeight + \&quot;px\&quot;},\n\t\t{opacity: \&quot;1\&quot;}\n\t]);\n}\n\nfunction slideClosed(domNode,options) {\n\toptions = options || {};\n\tvar duration = options.duration || $tw.utils.getAnimationDuration(),\n\t\tcurrHeight = domNode.offsetHeight;\n\t// Clear the properties we've set when the animation is over\n\tsetTimeout(function() {\n\t\t$tw.utils.setStyle(domNode,[\n\t\t\t{transition: \&quot;none\&quot;},\n\t\t\t{marginBottom: \&quot;\&quot;},\n\t\t\t{marginTop: \&quot;\&quot;},\n\t\t\t{paddingBottom: \&quot;\&quot;},\n\t\t\t{paddingTop: \&quot;\&quot;},\n\t\t\t{height: \&quot;auto\&quot;},\n\t\t\t{opacity: \&quot;\&quot;}\n\t\t]);\n\t\tif(options.callback) {\n\t\t\toptions.callback();\n\t\t}\n\t},duration);\n\t// Set up the initial position of the element\n\t$tw.utils.setStyle(domNode,[\n\t\t{height: currHeight + \&quot;px\&quot;},\n\t\t{opacity: \&quot;1\&quot;}\n\t]);\n\t$tw.utils.forceLayout(domNode);\n\t// Transition to the final position\n\t$tw.utils.setStyle(domNode,[\n\t\t{transition: \&quot;margin-top \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;margin-bottom \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;padding-top \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;padding-bottom \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;height \&quot; + duration + \&quot;ms ease-in-out, \&quot; +\n\t\t\t\t\t\&quot;opacity \&quot; + duration + \&quot;ms ease-in-out\&quot;},\n\t\t{marginTop: \&quot;0px\&quot;},\n\t\t{marginBottom: \&quot;0px\&quot;},\n\t\t{paddingTop: \&quot;0px\&quot;},\n\t\t{paddingBottom: \&quot;0px\&quot;},\n\t\t{height: \&quot;0px\&quot;},\n\t\t{opacity: \&quot;0\&quot;}\n\t]);\n}\n\nexports.slide = {\n\topen: slideOpen,\n\tclose: slideClosed\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/dom/animations/slide.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;animation&quot;
        },
        &quot;$:/core/modules/utils/dom/animator.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/dom/animator.js\ntype: application/javascript\nmodule-type: utils\n\nOrchestrates animations and transitions\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nfunction Animator() {\n\t// Get the registered animation modules\n\tthis.animations = {};\n\t$tw.modules.applyMethods(\&quot;animation\&quot;,this.animations);\n}\n\nAnimator.prototype.perform = function(type,domNode,options) {\n\toptions = options || {};\n\t// Find an animation that can handle this type\n\tvar chosenAnimation;\n\t$tw.utils.each(this.animations,function(animation,name) {\n\t\tif($tw.utils.hop(animation,type)) {\n\t\t\tchosenAnimation = animation[type];\n\t\t}\n\t});\n\tif(!chosenAnimation) {\n\t\tchosenAnimation = function(domNode,options) {\n\t\t\tif(options.callback) {\n\t\t\t\toptions.callback();\n\t\t\t}\n\t\t};\n\t}\n\t// Call the animation\n\tchosenAnimation(domNode,options);\n};\n\nexports.Animator = Animator;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/dom/animator.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/dom/browser.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/dom/browser.js\ntype: application/javascript\nmodule-type: utils\n\nBrowser feature detection\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nSet style properties of an element\n\telement: dom node\n\tstyles: ordered array of {name: value} pairs\n*/\nexports.setStyle = function(element,styles) {\n\tif(element.nodeType === 1) { // Element.ELEMENT_NODE\n\t\tfor(var t=0; t&lt;styles.length; t++) {\n\t\t\tfor(var styleName in styles[t]) {\n\t\t\t\telement.style[$tw.utils.convertStyleNameToPropertyName(styleName)] = styles[t][styleName];\n\t\t\t}\n\t\t}\n\t}\n};\n\n/*\nConverts a standard CSS property name into the local browser-specific equivalent. For example:\n\t\&quot;background-color\&quot; --&gt; \&quot;backgroundColor\&quot;\n\t\&quot;transition\&quot; --&gt; \&quot;webkitTransition\&quot;\n*/\n\nvar styleNameCache = {}; // We'll cache the style name conversions\n\nexports.convertStyleNameToPropertyName = function(styleName) {\n\t// Return from the cache if we can\n\tif(styleNameCache[styleName]) {\n\t\treturn styleNameCache[styleName];\n\t}\n\t// Convert it by first removing any hyphens\n\tvar propertyName = $tw.utils.unHyphenateCss(styleName);\n\t// Then check if it needs a prefix\n\tif($tw.browser &amp;&amp; document.body.style[propertyName] === undefined) {\n\t\tvar prefixes = [\&quot;O\&quot;,\&quot;MS\&quot;,\&quot;Moz\&quot;,\&quot;webkit\&quot;];\n\t\tfor(var t=0; t&lt;prefixes.length; t++) {\n\t\t\tvar prefixedName = prefixes[t] + propertyName.substr(0,1).toUpperCase() + propertyName.substr(1);\n\t\t\tif(document.body.style[prefixedName] !== undefined) {\n\t\t\t\tpropertyName = prefixedName;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t// Put it in the cache too\n\tstyleNameCache[styleName] = propertyName;\n\treturn propertyName;\n};\n\n/*\nConverts a JS format CSS property name back into the dashed form used in CSS declarations. For example:\n\t\&quot;backgroundColor\&quot; --&gt; \&quot;background-color\&quot;\n\t\&quot;webkitTransform\&quot; --&gt; \&quot;-webkit-transform\&quot;\n*/\nexports.convertPropertyNameToStyleName = function(propertyName) {\n\t// Rehyphenate the name\n\tvar styleName = $tw.utils.hyphenateCss(propertyName);\n\t// If there's a webkit prefix, add a dash (other browsers have uppercase prefixes, and so get the dash automatically)\n\tif(styleName.indexOf(\&quot;webkit\&quot;) === 0) {\n\t\tstyleName = \&quot;-\&quot; + styleName;\n\t} else if(styleName.indexOf(\&quot;-m-s\&quot;) === 0) {\n\t\tstyleName = \&quot;-ms\&quot; + styleName.substr(4);\n\t}\n\treturn styleName;\n};\n\n/*\nRound trip a stylename to a property name and back again. For example:\n\t\&quot;transform\&quot; --&gt; \&quot;webkitTransform\&quot; --&gt; \&quot;-webkit-transform\&quot;\n*/\nexports.roundTripPropertyName = function(propertyName) {\n\treturn $tw.utils.convertPropertyNameToStyleName($tw.utils.convertStyleNameToPropertyName(propertyName));\n};\n\n/*\nConverts a standard event name into the local browser specific equivalent. For example:\n\t\&quot;animationEnd\&quot; --&gt; \&quot;webkitAnimationEnd\&quot;\n*/\n\nvar eventNameCache = {}; // We'll cache the conversions\n\nvar eventNameMappings = {\n\t\&quot;transitionEnd\&quot;: {\n\t\tcorrespondingCssProperty: \&quot;transition\&quot;,\n\t\tmappings: {\n\t\t\ttransition: \&quot;transitionend\&quot;,\n\t\t\tOTransition: \&quot;oTransitionEnd\&quot;,\n\t\t\tMSTransition: \&quot;msTransitionEnd\&quot;,\n\t\t\tMozTransition: \&quot;transitionend\&quot;,\n\t\t\twebkitTransition: \&quot;webkitTransitionEnd\&quot;\n\t\t}\n\t},\n\t\&quot;animationEnd\&quot;: {\n\t\tcorrespondingCssProperty: \&quot;animation\&quot;,\n\t\tmappings: {\n\t\t\tanimation: \&quot;animationend\&quot;,\n\t\t\tOAnimation: \&quot;oAnimationEnd\&quot;,\n\t\t\tMSAnimation: \&quot;msAnimationEnd\&quot;,\n\t\t\tMozAnimation: \&quot;animationend\&quot;,\n\t\t\twebkitAnimation: \&quot;webkitAnimationEnd\&quot;\n\t\t}\n\t}\n};\n\nexports.convertEventName = function(eventName) {\n\tif(eventNameCache[eventName]) {\n\t\treturn eventNameCache[eventName];\n\t}\n\tvar newEventName = eventName,\n\t\tmappings = eventNameMappings[eventName];\n\tif(mappings) {\n\t\tvar convertedProperty = $tw.utils.convertStyleNameToPropertyName(mappings.correspondingCssProperty);\n\t\tif(mappings.mappings[convertedProperty]) {\n\t\t\tnewEventName = mappings.mappings[convertedProperty];\n\t\t}\n\t}\n\t// Put it in the cache too\n\teventNameCache[eventName] = newEventName;\n\treturn newEventName;\n};\n\n/*\nReturn the names of the fullscreen APIs\n*/\nexports.getFullScreenApis = function() {\n\tvar d = document,\n\t\tdb = d.body,\n\t\tresult = {\n\t\t\&quot;_requestFullscreen\&quot;: db.webkitRequestFullscreen !== undefined ? \&quot;webkitRequestFullscreen\&quot; :\n\t\t\t\t\t\t\tdb.mozRequestFullScreen !== undefined ? \&quot;mozRequestFullScreen\&quot; :\n\t\t\t\t\t\t\tdb.msRequestFullscreen !== undefined ? \&quot;msRequestFullscreen\&quot; :\n\t\t\t\t\t\t\tdb.requestFullscreen !== undefined ? \&quot;requestFullscreen\&quot; : \&quot;\&quot;,\n\t\t\&quot;_exitFullscreen\&quot;: d.webkitExitFullscreen !== undefined ? \&quot;webkitExitFullscreen\&quot; :\n\t\t\t\t\t\t\td.mozCancelFullScreen !== undefined ? \&quot;mozCancelFullScreen\&quot; :\n\t\t\t\t\t\t\td.msExitFullscreen !== undefined ? \&quot;msExitFullscreen\&quot; :\n\t\t\t\t\t\t\td.exitFullscreen !== undefined ? \&quot;exitFullscreen\&quot; : \&quot;\&quot;,\n\t\t\&quot;_fullscreenElement\&quot;: d.webkitFullscreenElement !== undefined ? \&quot;webkitFullscreenElement\&quot; :\n\t\t\t\t\t\t\td.mozFullScreenElement !== undefined ? \&quot;mozFullScreenElement\&quot; :\n\t\t\t\t\t\t\td.msFullscreenElement !== undefined ? \&quot;msFullscreenElement\&quot; :\n\t\t\t\t\t\t\td.fullscreenElement !== undefined ? \&quot;fullscreenElement\&quot; : \&quot;\&quot;,\n\t\t\&quot;_fullscreenChange\&quot;: d.webkitFullscreenElement !== undefined ? \&quot;webkitfullscreenchange\&quot; :\n\t\t\t\t\t\t\td.mozFullScreenElement !== undefined ? \&quot;mozfullscreenchange\&quot; :\n\t\t\t\t\t\t\td.msFullscreenElement !== undefined ? \&quot;MSFullscreenChange\&quot; :\n\t\t\t\t\t\t\td.fullscreenElement !== undefined ? \&quot;fullscreenchange\&quot; : \&quot;\&quot;\n\t};\n\tif(!result._requestFullscreen || !result._exitFullscreen || !result._fullscreenElement || !result._fullscreenChange) {\n\t\treturn null;\n\t} else {\n\t\treturn result;\n\t}\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/dom/browser.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/dom/csscolorparser.js&quot;: {
            &quot;text&quot;: &quot;// (c) Dean McNamee &lt;dean@gmail.com&gt;, 2012.\n//\n// https://github.com/deanm/css-color-parser-js\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \&quot;Software\&quot;), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \&quot;AS IS\&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n// IN THE SOFTWARE.\n\n// http://www.w3.org/TR/css3-color/\nvar kCSSColorTable = {\n  \&quot;transparent\&quot;: [0,0,0,0], \&quot;aliceblue\&quot;: [240,248,255,1],\n  \&quot;antiquewhite\&quot;: [250,235,215,1], \&quot;aqua\&quot;: [0,255,255,1],\n  \&quot;aquamarine\&quot;: [127,255,212,1], \&quot;azure\&quot;: [240,255,255,1],\n  \&quot;beige\&quot;: [245,245,220,1], \&quot;bisque\&quot;: [255,228,196,1],\n  \&quot;black\&quot;: [0,0,0,1], \&quot;blanchedalmond\&quot;: [255,235,205,1],\n  \&quot;blue\&quot;: [0,0,255,1], \&quot;blueviolet\&quot;: [138,43,226,1],\n  \&quot;brown\&quot;: [165,42,42,1], \&quot;burlywood\&quot;: [222,184,135,1],\n  \&quot;cadetblue\&quot;: [95,158,160,1], \&quot;chartreuse\&quot;: [127,255,0,1],\n  \&quot;chocolate\&quot;: [210,105,30,1], \&quot;coral\&quot;: [255,127,80,1],\n  \&quot;cornflowerblue\&quot;: [100,149,237,1], \&quot;cornsilk\&quot;: [255,248,220,1],\n  \&quot;crimson\&quot;: [220,20,60,1], \&quot;cyan\&quot;: [0,255,255,1],\n  \&quot;darkblue\&quot;: [0,0,139,1], \&quot;darkcyan\&quot;: [0,139,139,1],\n  \&quot;darkgoldenrod\&quot;: [184,134,11,1], \&quot;darkgray\&quot;: [169,169,169,1],\n  \&quot;darkgreen\&quot;: [0,100,0,1], \&quot;darkgrey\&quot;: [169,169,169,1],\n  \&quot;darkkhaki\&quot;: [189,183,107,1], \&quot;darkmagenta\&quot;: [139,0,139,1],\n  \&quot;darkolivegreen\&quot;: [85,107,47,1], \&quot;darkorange\&quot;: [255,140,0,1],\n  \&quot;darkorchid\&quot;: [153,50,204,1], \&quot;darkred\&quot;: [139,0,0,1],\n  \&quot;darksalmon\&quot;: [233,150,122,1], \&quot;darkseagreen\&quot;: [143,188,143,1],\n  \&quot;darkslateblue\&quot;: [72,61,139,1], \&quot;darkslategray\&quot;: [47,79,79,1],\n  \&quot;darkslategrey\&quot;: [47,79,79,1], \&quot;darkturquoise\&quot;: [0,206,209,1],\n  \&quot;darkviolet\&quot;: [148,0,211,1], \&quot;deeppink\&quot;: [255,20,147,1],\n  \&quot;deepskyblue\&quot;: [0,191,255,1], \&quot;dimgray\&quot;: [105,105,105,1],\n  \&quot;dimgrey\&quot;: [105,105,105,1], \&quot;dodgerblue\&quot;: [30,144,255,1],\n  \&quot;firebrick\&quot;: [178,34,34,1], \&quot;floralwhite\&quot;: [255,250,240,1],\n  \&quot;forestgreen\&quot;: [34,139,34,1], \&quot;fuchsia\&quot;: [255,0,255,1],\n  \&quot;gainsboro\&quot;: [220,220,220,1], \&quot;ghostwhite\&quot;: [248,248,255,1],\n  \&quot;gold\&quot;: [255,215,0,1], \&quot;goldenrod\&quot;: [218,165,32,1],\n  \&quot;gray\&quot;: [128,128,128,1], \&quot;green\&quot;: [0,128,0,1],\n  \&quot;greenyellow\&quot;: [173,255,47,1], \&quot;grey\&quot;: [128,128,128,1],\n  \&quot;honeydew\&quot;: [240,255,240,1], \&quot;hotpink\&quot;: [255,105,180,1],\n  \&quot;indianred\&quot;: [205,92,92,1], \&quot;indigo\&quot;: [75,0,130,1],\n  \&quot;ivory\&quot;: [255,255,240,1], \&quot;khaki\&quot;: [240,230,140,1],\n  \&quot;lavender\&quot;: [230,230,250,1], \&quot;lavenderblush\&quot;: [255,240,245,1],\n  \&quot;lawngreen\&quot;: [124,252,0,1], \&quot;lemonchiffon\&quot;: [255,250,205,1],\n  \&quot;lightblue\&quot;: [173,216,230,1], \&quot;lightcoral\&quot;: [240,128,128,1],\n  \&quot;lightcyan\&quot;: [224,255,255,1], \&quot;lightgoldenrodyellow\&quot;: [250,250,210,1],\n  \&quot;lightgray\&quot;: [211,211,211,1], \&quot;lightgreen\&quot;: [144,238,144,1],\n  \&quot;lightgrey\&quot;: [211,211,211,1], \&quot;lightpink\&quot;: [255,182,193,1],\n  \&quot;lightsalmon\&quot;: [255,160,122,1], \&quot;lightseagreen\&quot;: [32,178,170,1],\n  \&quot;lightskyblue\&quot;: [135,206,250,1], \&quot;lightslategray\&quot;: [119,136,153,1],\n  \&quot;lightslategrey\&quot;: [119,136,153,1], \&quot;lightsteelblue\&quot;: [176,196,222,1],\n  \&quot;lightyellow\&quot;: [255,255,224,1], \&quot;lime\&quot;: [0,255,0,1],\n  \&quot;limegreen\&quot;: [50,205,50,1], \&quot;linen\&quot;: [250,240,230,1],\n  \&quot;magenta\&quot;: [255,0,255,1], \&quot;maroon\&quot;: [128,0,0,1],\n  \&quot;mediumaquamarine\&quot;: [102,205,170,1], \&quot;mediumblue\&quot;: [0,0,205,1],\n  \&quot;mediumorchid\&quot;: [186,85,211,1], \&quot;mediumpurple\&quot;: [147,112,219,1],\n  \&quot;mediumseagreen\&quot;: [60,179,113,1], \&quot;mediumslateblue\&quot;: [123,104,238,1],\n  \&quot;mediumspringgreen\&quot;: [0,250,154,1], \&quot;mediumturquoise\&quot;: [72,209,204,1],\n  \&quot;mediumvioletred\&quot;: [199,21,133,1], \&quot;midnightblue\&quot;: [25,25,112,1],\n  \&quot;mintcream\&quot;: [245,255,250,1], \&quot;mistyrose\&quot;: [255,228,225,1],\n  \&quot;moccasin\&quot;: [255,228,181,1], \&quot;navajowhite\&quot;: [255,222,173,1],\n  \&quot;navy\&quot;: [0,0,128,1], \&quot;oldlace\&quot;: [253,245,230,1],\n  \&quot;olive\&quot;: [128,128,0,1], \&quot;olivedrab\&quot;: [107,142,35,1],\n  \&quot;orange\&quot;: [255,165,0,1], \&quot;orangered\&quot;: [255,69,0,1],\n  \&quot;orchid\&quot;: [218,112,214,1], \&quot;palegoldenrod\&quot;: [238,232,170,1],\n  \&quot;palegreen\&quot;: [152,251,152,1], \&quot;paleturquoise\&quot;: [175,238,238,1],\n  \&quot;palevioletred\&quot;: [219,112,147,1], \&quot;papayawhip\&quot;: [255,239,213,1],\n  \&quot;peachpuff\&quot;: [255,218,185,1], \&quot;peru\&quot;: [205,133,63,1],\n  \&quot;pink\&quot;: [255,192,203,1], \&quot;plum\&quot;: [221,160,221,1],\n  \&quot;powderblue\&quot;: [176,224,230,1], \&quot;purple\&quot;: [128,0,128,1],\n  \&quot;red\&quot;: [255,0,0,1], \&quot;rosybrown\&quot;: [188,143,143,1],\n  \&quot;royalblue\&quot;: [65,105,225,1], \&quot;saddlebrown\&quot;: [139,69,19,1],\n  \&quot;salmon\&quot;: [250,128,114,1], \&quot;sandybrown\&quot;: [244,164,96,1],\n  \&quot;seagreen\&quot;: [46,139,87,1], \&quot;seashell\&quot;: [255,245,238,1],\n  \&quot;sienna\&quot;: [160,82,45,1], \&quot;silver\&quot;: [192,192,192,1],\n  \&quot;skyblue\&quot;: [135,206,235,1], \&quot;slateblue\&quot;: [106,90,205,1],\n  \&quot;slategray\&quot;: [112,128,144,1], \&quot;slategrey\&quot;: [112,128,144,1],\n  \&quot;snow\&quot;: [255,250,250,1], \&quot;springgreen\&quot;: [0,255,127,1],\n  \&quot;steelblue\&quot;: [70,130,180,1], \&quot;tan\&quot;: [210,180,140,1],\n  \&quot;teal\&quot;: [0,128,128,1], \&quot;thistle\&quot;: [216,191,216,1],\n  \&quot;tomato\&quot;: [255,99,71,1], \&quot;turquoise\&quot;: [64,224,208,1],\n  \&quot;violet\&quot;: [238,130,238,1], \&quot;wheat\&quot;: [245,222,179,1],\n  \&quot;white\&quot;: [255,255,255,1], \&quot;whitesmoke\&quot;: [245,245,245,1],\n  \&quot;yellow\&quot;: [255,255,0,1], \&quot;yellowgreen\&quot;: [154,205,50,1]}\n\nfunction clamp_css_byte(i) {  // Clamp to integer 0 .. 255.\n  i = Math.round(i);  // Seems to be what Chrome does (vs truncation).\n  return i &lt; 0 ? 0 : i &gt; 255 ? 255 : i;\n}\n\nfunction clamp_css_float(f) {  // Clamp to float 0.0 .. 1.0.\n  return f &lt; 0 ? 0 : f &gt; 1 ? 1 : f;\n}\n\nfunction parse_css_int(str) {  // int or percentage.\n  if (str[str.length - 1] === '%')\n    return clamp_css_byte(parseFloat(str) / 100 * 255);\n  return clamp_css_byte(parseInt(str));\n}\n\nfunction parse_css_float(str) {  // float or percentage.\n  if (str[str.length - 1] === '%')\n    return clamp_css_float(parseFloat(str) / 100);\n  return clamp_css_float(parseFloat(str));\n}\n\nfunction css_hue_to_rgb(m1, m2, h) {\n  if (h &lt; 0) h += 1;\n  else if (h &gt; 1) h -= 1;\n\n  if (h * 6 &lt; 1) return m1 + (m2 - m1) * h * 6;\n  if (h * 2 &lt; 1) return m2;\n  if (h * 3 &lt; 2) return m1 + (m2 - m1) * (2/3 - h) * 6;\n  return m1;\n}\n\nfunction parseCSSColor(css_str) {\n  // Remove all whitespace, not compliant, but should just be more accepting.\n  var str = css_str.replace(/ /g, '').toLowerCase();\n\n  // Color keywords (and transparent) lookup.\n  if (str in kCSSColorTable) return kCSSColorTable[str].slice();  // dup.\n\n  // #abc and #abc123 syntax.\n  if (str[0] === '#') {\n    if (str.length === 4) {\n      var iv = parseInt(str.substr(1), 16);  // TODO(deanm): Stricter parsing.\n      if (!(iv &gt;= 0 &amp;&amp; iv &lt;= 0xfff)) return null;  // Covers NaN.\n      return [((iv &amp; 0xf00) &gt;&gt; 4) | ((iv &amp; 0xf00) &gt;&gt; 8),\n              (iv &amp; 0xf0) | ((iv &amp; 0xf0) &gt;&gt; 4),\n              (iv &amp; 0xf) | ((iv &amp; 0xf) &lt;&lt; 4),\n              1];\n    } else if (str.length === 7) {\n      var iv = parseInt(str.substr(1), 16);  // TODO(deanm): Stricter parsing.\n      if (!(iv &gt;= 0 &amp;&amp; iv &lt;= 0xffffff)) return null;  // Covers NaN.\n      return [(iv &amp; 0xff0000) &gt;&gt; 16,\n              (iv &amp; 0xff00) &gt;&gt; 8,\n              iv &amp; 0xff,\n              1];\n    }\n\n    return null;\n  }\n\n  var op = str.indexOf('('), ep = str.indexOf(')');\n  if (op !== -1 &amp;&amp; ep + 1 === str.length) {\n    var fname = str.substr(0, op);\n    var params = str.substr(op+1, ep-(op+1)).split(',');\n    var alpha = 1;  // To allow case fallthrough.\n    switch (fname) {\n      case 'rgba':\n        if (params.length !== 4) return null;\n        alpha = parse_css_float(params.pop());\n        // Fall through.\n      case 'rgb':\n        if (params.length !== 3) return null;\n        return [parse_css_int(params[0]),\n                parse_css_int(params[1]),\n                parse_css_int(params[2]),\n                alpha];\n      case 'hsla':\n        if (params.length !== 4) return null;\n        alpha = parse_css_float(params.pop());\n        // Fall through.\n      case 'hsl':\n        if (params.length !== 3) return null;\n        var h = (((parseFloat(params[0]) % 360) + 360) % 360) / 360;  // 0 .. 1\n        // NOTE(deanm): According to the CSS spec s/l should only be\n        // percentages, but we don't bother and let float or percentage.\n        var s = parse_css_float(params[1]);\n        var l = parse_css_float(params[2]);\n        var m2 = l &lt;= 0.5 ? l * (s + 1) : l + s - l * s;\n        var m1 = l * 2 - m2;\n        return [clamp_css_byte(css_hue_to_rgb(m1, m2, h+1/3) * 255),\n                clamp_css_byte(css_hue_to_rgb(m1, m2, h) * 255),\n                clamp_css_byte(css_hue_to_rgb(m1, m2, h-1/3) * 255),\n                alpha];\n      default:\n        return null;\n    }\n  }\n\n  return null;\n}\n\ntry { exports.parseCSSColor = parseCSSColor } catch(e) { }\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/dom/csscolorparser.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/dom.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/dom.js\ntype: application/javascript\nmodule-type: utils\n\nVarious static DOM-related utility functions.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nDetermines whether element 'a' contains element 'b'\nCode thanks to John Resig, http://ejohn.org/blog/comparing-document-position/\n*/\nexports.domContains = function(a,b) {\n\treturn a.contains ?\n\t\ta !== b &amp;&amp; a.contains(b) :\n\t\t!!(a.compareDocumentPosition(b) &amp; 16);\n};\n\nexports.removeChildren = function(node) {\n\twhile(node.hasChildNodes()) {\n\t\tnode.removeChild(node.firstChild);\n\t}\n};\n\nexports.hasClass = function(el,className) {\n\treturn el &amp;&amp; el.className &amp;&amp; el.className.toString().split(\&quot; \&quot;).indexOf(className) !== -1;\n};\n\nexports.addClass = function(el,className) {\n\tvar c = el.className.split(\&quot; \&quot;);\n\tif(c.indexOf(className) === -1) {\n\t\tc.push(className);\n\t}\n\tel.className = c.join(\&quot; \&quot;);\n};\n\nexports.removeClass = function(el,className) {\n\tvar c = el.className.split(\&quot; \&quot;),\n\t\tp = c.indexOf(className);\n\tif(p !== -1) {\n\t\tc.splice(p,1);\n\t\tel.className = c.join(\&quot; \&quot;);\n\t}\n};\n\nexports.toggleClass = function(el,className,status) {\n\tif(status === undefined) {\n\t\tstatus = !exports.hasClass(el,className);\n\t}\n\tif(status) {\n\t\texports.addClass(el,className);\n\t} else {\n\t\texports.removeClass(el,className);\n\t}\n};\n\n/*\nGet the scroll position of the viewport\nReturns:\n\t{\n\t\tx: horizontal scroll position in pixels,\n\t\ty: vertical scroll position in pixels\n\t}\n*/\nexports.getScrollPosition = function() {\n\tif(\&quot;scrollX\&quot; in window) {\n\t\treturn {x: window.scrollX, y: window.scrollY};\n\t} else {\n\t\treturn {x: document.documentElement.scrollLeft, y: document.documentElement.scrollTop};\n\t}\n};\n\n/*\nGets the bounding rectangle of an element in absolute page coordinates\n*/\nexports.getBoundingPageRect = function(element) {\n\tvar scrollPos = $tw.utils.getScrollPosition(),\n\t\tclientRect = element.getBoundingClientRect();\n\treturn {\n\t\tleft: clientRect.left + scrollPos.x,\n\t\twidth: clientRect.width,\n\t\tright: clientRect.right + scrollPos.x,\n\t\ttop: clientRect.top + scrollPos.y,\n\t\theight: clientRect.height,\n\t\tbottom: clientRect.bottom + scrollPos.y\n\t};\n};\n\n/*\nSaves a named password in the browser\n*/\nexports.savePassword = function(name,password) {\n\ttry {\n\t\tif(window.localStorage) {\n\t\t\tlocalStorage.setItem(\&quot;tw5-password-\&quot; + name,password);\n\t\t}\n\t} catch(e) {\n\t}\n};\n\n/*\nRetrieve a named password from the browser\n*/\nexports.getPassword = function(name) {\n\ttry {\n\t\treturn window.localStorage ? localStorage.getItem(\&quot;tw5-password-\&quot; + name) : \&quot;\&quot;;\n\t} catch(e) {\n\t\treturn \&quot;\&quot;;\n\t}\n};\n\n/*\nForce layout of a dom node and its descendents\n*/\nexports.forceLayout = function(element) {\n\tvar dummy = element.offsetWidth;\n};\n\n/*\nPulse an element for debugging purposes\n*/\nexports.pulseElement = function(element) {\n\t// Event handler to remove the class at the end\n\telement.addEventListener($tw.browser.animationEnd,function handler(event) {\n\t\telement.removeEventListener($tw.browser.animationEnd,handler,false);\n\t\t$tw.utils.removeClass(element,\&quot;pulse\&quot;);\n\t},false);\n\t// Apply the pulse class\n\t$tw.utils.removeClass(element,\&quot;pulse\&quot;);\n\t$tw.utils.forceLayout(element);\n\t$tw.utils.addClass(element,\&quot;pulse\&quot;);\n};\n\n/*\nAttach specified event handlers to a DOM node\ndomNode: where to attach the event handlers\nevents: array of event handlers to be added (see below)\nEach entry in the events array is an object with these properties:\nhandlerFunction: optional event handler function\nhandlerObject: optional event handler object\nhandlerMethod: optionally specifies object handler method name (defaults to `handleEvent`)\n*/\nexports.addEventListeners = function(domNode,events) {\n\t$tw.utils.each(events,function(eventInfo) {\n\t\tvar handler;\n\t\tif(eventInfo.handlerFunction) {\n\t\t\thandler = eventInfo.handlerFunction;\n\t\t} else if(eventInfo.handlerObject) {\n\t\t\tif(eventInfo.handlerMethod) {\n\t\t\t\thandler = function(event) {\n\t\t\t\t\teventInfo.handlerObject[eventInfo.handlerMethod].call(eventInfo.handlerObject,event);\n\t\t\t\t};\t\n\t\t\t} else {\n\t\t\t\thandler = eventInfo.handlerObject;\n\t\t\t}\n\t\t}\n\t\tdomNode.addEventListener(eventInfo.name,handler,false);\n\t});\n};\n\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/dom.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/dom/http.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/dom/http.js\ntype: application/javascript\nmodule-type: utils\n\nBrowser HTTP support\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nA quick and dirty HTTP function; to be refactored later. Options are:\n\turl: URL to retrieve\n\ttype: GET, PUT, POST etc\n\tcallback: function invoked with (err,data)\n*/\nexports.httpRequest = function(options) {\n\tvar type = options.type || \&quot;GET\&quot;,\n\t\theaders = options.headers || {accept: \&quot;application/json\&quot;},\n\t\trequest = new XMLHttpRequest(),\n\t\tdata = \&quot;\&quot;,\n\t\tf,results;\n\t// Massage the data hashmap into a string\n\tif(options.data) {\n\t\tif(typeof options.data === \&quot;string\&quot;) { // Already a string\n\t\t\tdata = options.data;\n\t\t} else { // A hashmap of strings\n\t\t\tresults = [];\n\t\t\t$tw.utils.each(options.data,function(dataItem,dataItemTitle) {\n\t\t\t\tresults.push(dataItemTitle + \&quot;=\&quot; + encodeURIComponent(dataItem));\n\t\t\t});\n\t\t\tdata = results.join(\&quot;&amp;\&quot;);\n\t\t}\n\t}\n\t// Set up the state change handler\n\trequest.onreadystatechange = function() {\n\t\tif(this.readyState === 4) {\n\t\t\tif(this.status === 200 || this.status === 201 || this.status === 204) {\n\t\t\t\t// Success!\n\t\t\t\toptions.callback(null,this.responseText,this);\n\t\t\t\treturn;\n\t\t\t}\n\t\t// Something went wrong\n\t\toptions.callback(\&quot;XMLHttpRequest error code: \&quot; + this.status);\n\t\t}\n\t};\n\t// Make the request\n\trequest.open(type,options.url,true);\n\tif(headers) {\n\t\t$tw.utils.each(headers,function(header,headerTitle,object) {\n\t\t\trequest.setRequestHeader(headerTitle,header);\n\t\t});\n\t}\n\tif(data &amp;&amp; !$tw.utils.hop(headers,\&quot;Content-type\&quot;)) {\n\t\trequest.setRequestHeader(\&quot;Content-type\&quot;,\&quot;application/x-www-form-urlencoded; charset=UTF-8\&quot;);\n\t}\n\ttry {\n\t\trequest.send(data);\n\t} catch(e) {\n\t\toptions.callback(e);\n\t}\n\treturn request;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/dom/http.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/dom/keyboard.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/dom/keyboard.js\ntype: application/javascript\nmodule-type: utils\n\nKeyboard utilities\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar namedKeys = {\n\t\&quot;backspace\&quot;: 8,\n\t\&quot;tab\&quot;: 9,\n\t\&quot;enter\&quot;: 13,\n\t\&quot;escape\&quot;: 27\n};\n\n/*\nParses a key descriptor into the structure:\n{\n\tkeyCode: numeric keycode\n\tshiftKey: boolean\n\taltKey: boolean\n\tctrlKey: boolean\n}\nKey descriptors have the following format:\n\tctrl+enter\n\tctrl+shift+alt+A\n*/\nexports.parseKeyDescriptor = function(keyDescriptor) {\n\tvar components = keyDescriptor.split(\&quot;+\&quot;),\n\t\tinfo = {\n\t\t\tkeyCode: 0,\n\t\t\tshiftKey: false,\n\t\t\taltKey: false,\n\t\t\tctrlKey: false\n\t\t};\n\tfor(var t=0; t&lt;components.length; t++) {\n\t\tvar s = components[t].toLowerCase();\n\t\t// Look for modifier keys\n\t\tif(s === \&quot;ctrl\&quot;) {\n\t\t\tinfo.ctrlKey = true;\n\t\t} else if(s === \&quot;shift\&quot;) {\n\t\t\tinfo.shiftKey = true;\n\t\t} else if(s === \&quot;alt\&quot;) {\n\t\t\tinfo.altKey = true;\n\t\t} else if(s === \&quot;meta\&quot;) {\n\t\t\tinfo.metaKey = true;\n\t\t}\n\t\t// Replace named keys with their code\n\t\tif(namedKeys[s]) {\n\t\t\tinfo.keyCode = namedKeys[s];\n\t\t}\n\t}\n\treturn info;\n};\n\nexports.checkKeyDescriptor = function(event,keyInfo) {\n\tvar metaKeyStatus = !!keyInfo.metaKey; // Using a temporary variable to keep JSHint happy\n\treturn event.keyCode === keyInfo.keyCode &amp;&amp; \n\t\t\tevent.shiftKey === keyInfo.shiftKey &amp;&amp; \n\t\t\tevent.altKey === keyInfo.altKey &amp;&amp; \n\t\t\tevent.ctrlKey === keyInfo.ctrlKey &amp;&amp; \n\t\t\tevent.metaKey === metaKeyStatus;\t\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/dom/keyboard.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/dom/modal.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/dom/modal.js\ntype: application/javascript\nmodule-type: utils\n\nModal message mechanism\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;);\n\nvar Modal = function(wiki) {\n\tthis.wiki = wiki;\n\tthis.modalCount = 0;\n};\n\n/*\nDisplay a modal dialogue\n\ttitle: Title of tiddler to display\n\toptions: see below\nOptions include:\n\tdownloadLink: Text of a big download link to include\n*/\nModal.prototype.display = function(title,options) {\n\toptions = options || {};\n\tvar self = this,\n\t\trefreshHandler,\n\t\tduration = $tw.utils.getAnimationDuration(),\n\t\ttiddler = this.wiki.getTiddler(title);\n\t// Don't do anything if the tiddler doesn't exist\n\tif(!tiddler) {\n\t\treturn;\n\t}\n\t// Create the variables\n\tvar variables = $tw.utils.extend({currentTiddler: title},options.variables);\n\t// Create the wrapper divs\n\tvar wrapper = document.createElement(\&quot;div\&quot;),\n\t\tmodalBackdrop = document.createElement(\&quot;div\&quot;),\n\t\tmodalWrapper = document.createElement(\&quot;div\&quot;),\n\t\tmodalHeader = document.createElement(\&quot;div\&quot;),\n\t\theaderTitle = document.createElement(\&quot;h3\&quot;),\n\t\tmodalBody = document.createElement(\&quot;div\&quot;),\n\t\tmodalLink = document.createElement(\&quot;a\&quot;),\n\t\tmodalFooter = document.createElement(\&quot;div\&quot;),\n\t\tmodalFooterHelp = document.createElement(\&quot;span\&quot;),\n\t\tmodalFooterButtons = document.createElement(\&quot;span\&quot;);\n\t// Up the modal count and adjust the body class\n\tthis.modalCount++;\n\tthis.adjustPageClass();\n\t// Add classes\n\t$tw.utils.addClass(wrapper,\&quot;tc-modal-wrapper\&quot;);\n\t$tw.utils.addClass(modalBackdrop,\&quot;tc-modal-backdrop\&quot;);\n\t$tw.utils.addClass(modalWrapper,\&quot;tc-modal\&quot;);\n\t$tw.utils.addClass(modalHeader,\&quot;tc-modal-header\&quot;);\n\t$tw.utils.addClass(modalBody,\&quot;tc-modal-body\&quot;);\n\t$tw.utils.addClass(modalFooter,\&quot;tc-modal-footer\&quot;);\n\t// Join them together\n\twrapper.appendChild(modalBackdrop);\n\twrapper.appendChild(modalWrapper);\n\tmodalHeader.appendChild(headerTitle);\n\tmodalWrapper.appendChild(modalHeader);\n\tmodalWrapper.appendChild(modalBody);\n\tmodalFooter.appendChild(modalFooterHelp);\n\tmodalFooter.appendChild(modalFooterButtons);\n\tmodalWrapper.appendChild(modalFooter);\n\t// Render the title of the message\n\tvar headerWidgetNode = this.wiki.makeTranscludeWidget(title,{\n\t\tfield: \&quot;subtitle\&quot;,\n\t\tmode: \&quot;inline\&quot;,\n\t\tchildren: [{\n\t\t\ttype: \&quot;text\&quot;,\n\t\t\tattributes: {\n\t\t\t\ttext: {\n\t\t\t\t\ttype: \&quot;string\&quot;,\n\t\t\t\t\tvalue: title\n\t\t}}}],\n\t\tparentWidget: $tw.rootWidget,\n\t\tdocument: document,\n\t\tvariables: variables\n\t});\n\theaderWidgetNode.render(headerTitle,null);\n\t// Render the body of the message\n\tvar bodyWidgetNode = this.wiki.makeTranscludeWidget(title,{\n\t\tparentWidget: $tw.rootWidget,\n\t\tdocument: document,\n\t\tvariables: variables\n\t});\n\tbodyWidgetNode.render(modalBody,null);\n\t// Setup the link if present\n\tif(options.downloadLink) {\n\t\tmodalLink.href = options.downloadLink;\n\t\tmodalLink.appendChild(document.createTextNode(\&quot;Right-click to save changes\&quot;));\n\t\tmodalBody.appendChild(modalLink);\n\t}\n\t// Render the footer of the message\n\tif(tiddler &amp;&amp; tiddler.fields &amp;&amp; tiddler.fields.help) {\n\t\tvar link = document.createElement(\&quot;a\&quot;);\n\t\tlink.setAttribute(\&quot;href\&quot;,tiddler.fields.help);\n\t\tlink.setAttribute(\&quot;target\&quot;,\&quot;_blank\&quot;);\n\t\tlink.appendChild(document.createTextNode(\&quot;Help\&quot;));\n\t\tmodalFooterHelp.appendChild(link);\n\t\tmodalFooterHelp.style.float = \&quot;left\&quot;;\n\t}\n\tvar footerWidgetNode = this.wiki.makeTranscludeWidget(title,{\n\t\tfield: \&quot;footer\&quot;,\n\t\tmode: \&quot;inline\&quot;,\n\t\tchildren: [{\n\t\t\ttype: \&quot;button\&quot;,\n\t\t\tattributes: {\n\t\t\t\tmessage: {\n\t\t\t\t\ttype: \&quot;string\&quot;,\n\t\t\t\t\tvalue: \&quot;tm-close-tiddler\&quot;\n\t\t\t\t}\n\t\t\t},\n\t\t\tchildren: [{\n\t\t\t\ttype: \&quot;text\&quot;,\n\t\t\t\tattributes: {\n\t\t\t\t\ttext: {\n\t\t\t\t\t\ttype: \&quot;string\&quot;,\n\t\t\t\t\t\tvalue: \&quot;Close\&quot;\n\t\t\t}}}\n\t\t]}],\n\t\tparentWidget: $tw.rootWidget,\n\t\tdocument: document,\n\t\tvariables: variables\n\t});\n\tfooterWidgetNode.render(modalFooterButtons,null);\n\t// Set up the refresh handler\n\trefreshHandler = function(changes) {\n\t\theaderWidgetNode.refresh(changes,modalHeader,null);\n\t\tbodyWidgetNode.refresh(changes,modalBody,null);\n\t\tfooterWidgetNode.refresh(changes,modalFooterButtons,null);\n\t};\n\tthis.wiki.addEventListener(\&quot;change\&quot;,refreshHandler);\n\t// Add the close event handler\n\tvar closeHandler = function(event) {\n\t\t// Remove our refresh handler\n\t\tself.wiki.removeEventListener(\&quot;change\&quot;,refreshHandler);\n\t\t// Decrease the modal count and adjust the body class\n\t\tself.modalCount--;\n\t\tself.adjustPageClass();\n\t\t// Force layout and animate the modal message away\n\t\t$tw.utils.forceLayout(modalBackdrop);\n\t\t$tw.utils.forceLayout(modalWrapper);\n\t\t$tw.utils.setStyle(modalBackdrop,[\n\t\t\t{opacity: \&quot;0\&quot;}\n\t\t]);\n\t\t$tw.utils.setStyle(modalWrapper,[\n\t\t\t{transform: \&quot;translateY(\&quot; + window.innerHeight + \&quot;px)\&quot;}\n\t\t]);\n\t\t// Set up an event for the transition end\n\t\twindow.setTimeout(function() {\n\t\t\tif(wrapper.parentNode) {\n\t\t\t\t// Remove the modal message from the DOM\n\t\t\t\tdocument.body.removeChild(wrapper);\n\t\t\t}\n\t\t},duration);\n\t\t// Don't let anyone else handle the tm-close-tiddler message\n\t\treturn false;\n\t};\n\theaderWidgetNode.addEventListener(\&quot;tm-close-tiddler\&quot;,closeHandler,false);\n\tbodyWidgetNode.addEventListener(\&quot;tm-close-tiddler\&quot;,closeHandler,false);\n\tfooterWidgetNode.addEventListener(\&quot;tm-close-tiddler\&quot;,closeHandler,false);\n\t// Set the initial styles for the message\n\t$tw.utils.setStyle(modalBackdrop,[\n\t\t{opacity: \&quot;0\&quot;}\n\t]);\n\t$tw.utils.setStyle(modalWrapper,[\n\t\t{transformOrigin: \&quot;0% 0%\&quot;},\n\t\t{transform: \&quot;translateY(\&quot; + (-window.innerHeight) + \&quot;px)\&quot;}\n\t]);\n\t// Put the message into the document\n\tdocument.body.appendChild(wrapper);\n\t// Set up animation for the styles\n\t$tw.utils.setStyle(modalBackdrop,[\n\t\t{transition: \&quot;opacity \&quot; + duration + \&quot;ms ease-out\&quot;}\n\t]);\n\t$tw.utils.setStyle(modalWrapper,[\n\t\t{transition: $tw.utils.roundTripPropertyName(\&quot;transform\&quot;) + \&quot; \&quot; + duration + \&quot;ms ease-in-out\&quot;}\n\t]);\n\t// Force layout\n\t$tw.utils.forceLayout(modalBackdrop);\n\t$tw.utils.forceLayout(modalWrapper);\n\t// Set final animated styles\n\t$tw.utils.setStyle(modalBackdrop,[\n\t\t{opacity: \&quot;0.7\&quot;}\n\t]);\n\t$tw.utils.setStyle(modalWrapper,[\n\t\t{transform: \&quot;translateY(0px)\&quot;}\n\t]);\n};\n\nModal.prototype.adjustPageClass = function() {\n\tif($tw.pageContainer) {\n\t\t$tw.utils.toggleClass($tw.pageContainer,\&quot;tc-modal-displayed\&quot;,this.modalCount &gt; 0);\n\t}\n};\n\nexports.Modal = Modal;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/dom/modal.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/dom/notifier.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/dom/notifier.js\ntype: application/javascript\nmodule-type: utils\n\nNotifier mechanism\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;);\n\nvar Notifier = function(wiki) {\n\tthis.wiki = wiki;\n};\n\n/*\nDisplay a notification\n\ttitle: Title of tiddler containing the notification text\n\toptions: see below\nOptions include:\n*/\nNotifier.prototype.display = function(title,options) {\n\toptions = options || {};\n\t// Create the wrapper divs\n\tvar self = this,\n\t\tnotification = document.createElement(\&quot;div\&quot;),\n\t\ttiddler = this.wiki.getTiddler(title),\n\t\tduration = $tw.utils.getAnimationDuration(),\n\t\trefreshHandler;\n\t// Don't do anything if the tiddler doesn't exist\n\tif(!tiddler) {\n\t\treturn;\n\t}\n\t// Add classes\n\t$tw.utils.addClass(notification,\&quot;tc-notification\&quot;);\n\t// Create the variables\n\tvar variables = $tw.utils.extend({currentTiddler: title},options.variables);\n\t// Render the body of the notification\n\tvar widgetNode = this.wiki.makeTranscludeWidget(title,{parentWidget: $tw.rootWidget, document: document, variables: variables});\n\twidgetNode.render(notification,null);\n\trefreshHandler = function(changes) {\n\t\twidgetNode.refresh(changes,notification,null);\n\t};\n\tthis.wiki.addEventListener(\&quot;change\&quot;,refreshHandler);\n\t// Set the initial styles for the notification\n\t$tw.utils.setStyle(notification,[\n\t\t{opacity: \&quot;0\&quot;},\n\t\t{transformOrigin: \&quot;0% 0%\&quot;},\n\t\t{transform: \&quot;translateY(\&quot; + (-window.innerHeight) + \&quot;px)\&quot;},\n\t\t{transition: \&quot;opacity \&quot; + duration + \&quot;ms ease-out, \&quot; + $tw.utils.roundTripPropertyName(\&quot;transform\&quot;) + \&quot; \&quot; + duration + \&quot;ms ease-in-out\&quot;}\n\t]);\n\t// Add the notification to the DOM\n\tdocument.body.appendChild(notification);\n\t// Force layout\n\t$tw.utils.forceLayout(notification);\n\t// Set final animated styles\n\t$tw.utils.setStyle(notification,[\n\t\t{opacity: \&quot;1.0\&quot;},\n\t\t{transform: \&quot;translateY(0px)\&quot;}\n\t]);\n\t// Set a timer to remove the notification\n\twindow.setTimeout(function() {\n\t\t// Remove our change event handler\n\t\tself.wiki.removeEventListener(\&quot;change\&quot;,refreshHandler);\n\t\t// Force layout and animate the notification away\n\t\t$tw.utils.forceLayout(notification);\n\t\t$tw.utils.setStyle(notification,[\n\t\t\t{opacity: \&quot;0.0\&quot;},\n\t\t\t{transform: \&quot;translateX(\&quot; + (notification.offsetWidth) + \&quot;px)\&quot;}\n\t\t]);\n\t\t// Remove the modal message from the DOM once the transition ends\n\t\tsetTimeout(function() {\n\t\t\tif(notification.parentNode) {\n\t\t\t\tdocument.body.removeChild(notification);\n\t\t\t}\n\t\t},duration);\n\t},$tw.config.preferences.notificationDuration);\n};\n\nexports.Notifier = Notifier;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/dom/notifier.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/dom/popup.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/dom/popup.js\ntype: application/javascript\nmodule-type: utils\n\nModule that creates a $tw.utils.Popup object prototype that manages popups in the browser\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nCreates a Popup object with these options:\n\trootElement: the DOM element to which the popup zapper should be attached\n*/\nvar Popup = function(options) {\n\toptions = options || {};\n\tthis.rootElement = options.rootElement || document.documentElement;\n\tthis.popups = []; // Array of {title:,wiki:,domNode:} objects\n};\n\n/*\nTrigger a popup open or closed. Parameters are in a hashmap:\n\ttitle: title of the tiddler where the popup details are stored\n\tdomNode: dom node to which the popup will be positioned\n\twiki: wiki\n\tforce: if specified, forces the popup state to true or false (instead of toggling it)\n*/\nPopup.prototype.triggerPopup = function(options) {\n\t// Check if this popup is already active\n\tvar index = this.findPopup(options.title);\n\t// Compute the new state\n\tvar state = index === -1;\n\tif(options.force !== undefined) {\n\t\tstate = options.force;\n\t}\n\t// Show or cancel the popup according to the new state\n\tif(state) {\n\t\tthis.show(options);\n\t} else {\n\t\tthis.cancel(index);\n\t}\n};\n\nPopup.prototype.findPopup = function(title) {\n\tvar index = -1;\n\tfor(var t=0; t&lt;this.popups.length; t++) {\n\t\tif(this.popups[t].title === title) {\n\t\t\tindex = t;\n\t\t}\n\t}\n\treturn index;\n};\n\nPopup.prototype.handleEvent = function(event) {\n\tif(event.type === \&quot;click\&quot;) {\n\t\t// Find out what was clicked on\n\t\tvar info = this.popupInfo(event.target),\n\t\t\tcancelLevel = info.popupLevel - 1;\n\t\t// Don't remove the level that was clicked on if we clicked on a handle\n\t\tif(info.isHandle) {\n\t\t\tcancelLevel++;\n\t\t}\n\t\t// Cancel\n\t\tthis.cancel(cancelLevel);\n\t}\n};\n\n/*\nFind the popup level containing a DOM node. Returns:\npopupLevel: count of the number of nested popups containing the specified element\nisHandle: true if the specified element is within a popup handle\n*/\nPopup.prototype.popupInfo = function(domNode) {\n\tvar isHandle = false,\n\t\tpopupCount = 0,\n\t\tnode = domNode;\n\t// First check ancestors to see if we're within a popup handle\n\twhile(node) {\n\t\tif($tw.utils.hasClass(node,\&quot;tc-popup-handle\&quot;)) {\n\t\t\tisHandle = true;\n\t\t\tpopupCount++;\n\t\t}\n\t\tif($tw.utils.hasClass(node,\&quot;tc-popup-keep\&quot;)) {\n\t\t\tisHandle = true;\n\t\t}\n\t\tnode = node.parentNode;\n\t}\n\t// Then count the number of ancestor popups\n\tnode = domNode;\n\twhile(node) {\n\t\tif($tw.utils.hasClass(node,\&quot;tc-popup\&quot;)) {\n\t\t\tpopupCount++;\n\t\t}\n\t\tnode = node.parentNode;\n\t}\n\tvar info = {\n\t\tpopupLevel: popupCount,\n\t\tisHandle: isHandle\n\t};\n\treturn info;\n};\n\n/*\nDisplay a popup by adding it to the stack\n*/\nPopup.prototype.show = function(options) {\n\t// Find out what was clicked on\n\tvar info = this.popupInfo(options.domNode);\n\t// Cancel any higher level popups\n\tthis.cancel(info.popupLevel);\n\t// Store the popup details if not already there\n\tif(this.findPopup(options.title) === -1) {\n\t\tthis.popups.push({\n\t\t\ttitle: options.title,\n\t\t\twiki: options.wiki,\n\t\t\tdomNode: options.domNode\n\t\t});\n\t}\n\t// Set the state tiddler\n\toptions.wiki.setTextReference(options.title,\n\t\t\t\&quot;(\&quot; + options.domNode.offsetLeft + \&quot;,\&quot; + options.domNode.offsetTop + \&quot;,\&quot; + \n\t\t\t\toptions.domNode.offsetWidth + \&quot;,\&quot; + options.domNode.offsetHeight + \&quot;)\&quot;);\n\t// Add the click handler if we have any popups\n\tif(this.popups.length &gt; 0) {\n\t\tthis.rootElement.addEventListener(\&quot;click\&quot;,this,true);\t\t\n\t}\n};\n\n/*\nCancel all popups at or above a specified level or DOM node\nlevel: popup level to cancel (0 cancels all popups)\n*/\nPopup.prototype.cancel = function(level) {\n\tvar numPopups = this.popups.length;\n\tlevel = Math.max(0,Math.min(level,numPopups));\n\tfor(var t=level; t&lt;numPopups; t++) {\n\t\tvar popup = this.popups.pop();\n\t\tif(popup.title) {\n\t\t\tpopup.wiki.deleteTiddler(popup.title);\n\t\t}\n\t}\n\tif(this.popups.length === 0) {\n\t\tthis.rootElement.removeEventListener(\&quot;click\&quot;,this,false);\n\t}\n};\n\n/*\nReturns true if the specified title and text identifies an active popup\n*/\nPopup.prototype.readPopupState = function(text) {\n\tvar popupLocationRegExp = /^\\((-?[0-9\\.E]+),(-?[0-9\\.E]+),(-?[0-9\\.E]+),(-?[0-9\\.E]+)\\)$/;\n\treturn popupLocationRegExp.test(text);\n};\n\nexports.Popup = Popup;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/dom/popup.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/dom/scroller.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/dom/scroller.js\ntype: application/javascript\nmodule-type: utils\n\nModule that creates a $tw.utils.Scroller object prototype that manages scrolling in the browser\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nEvent handler for when the `tm-scroll` event hits the document body\n*/\nvar PageScroller = function() {\n\tthis.idRequestFrame = null;\n\tthis.requestAnimationFrame = window.requestAnimationFrame ||\n\t\twindow.webkitRequestAnimationFrame ||\n\t\twindow.mozRequestAnimationFrame ||\n\t\tfunction(callback) {\n\t\t\treturn window.setTimeout(callback, 1000/60);\n\t\t};\n\tthis.cancelAnimationFrame = window.cancelAnimationFrame ||\n\t\twindow.webkitCancelAnimationFrame ||\n\t\twindow.webkitCancelRequestAnimationFrame ||\n\t\twindow.mozCancelAnimationFrame ||\n\t\twindow.mozCancelRequestAnimationFrame ||\n\t\tfunction(id) {\n\t\t\twindow.clearTimeout(id);\n\t\t};\n};\n\nPageScroller.prototype.cancelScroll = function() {\n\tif(this.idRequestFrame) {\n\t\tthis.cancelAnimationFrame.call(window,this.idRequestFrame);\n\t\tthis.idRequestFrame = null;\n\t}\n};\n\n/*\nHandle an event\n*/\nPageScroller.prototype.handleEvent = function(event) {\n\tif(event.type === \&quot;tm-scroll\&quot;) {\n\t\treturn this.scrollIntoView(event.target);\n\t}\n\treturn true;\n};\n\n/*\nHandle a scroll event hitting the page document\n*/\nPageScroller.prototype.scrollIntoView = function(element) {\n\tvar duration = $tw.utils.getAnimationDuration();\n\t// Now get ready to scroll the body\n\tthis.cancelScroll();\n\tthis.startTime = Date.now();\n\tvar scrollPosition = $tw.utils.getScrollPosition();\n\t// Get the client bounds of the element and adjust by the scroll position\n\tvar clientBounds = element.getBoundingClientRect(),\n\t\tbounds = {\n\t\t\tleft: clientBounds.left + scrollPosition.x,\n\t\t\ttop: clientBounds.top + scrollPosition.y,\n\t\t\twidth: clientBounds.width,\n\t\t\theight: clientBounds.height\n\t\t};\n\t// We'll consider the horizontal and vertical scroll directions separately via this function\n\t// targetPos/targetSize - position and size of the target element\n\t// currentPos/currentSize - position and size of the current scroll viewport\n\t// returns: new position of the scroll viewport\n\tvar getEndPos = function(targetPos,targetSize,currentPos,currentSize) {\n\t\t\tvar newPos = currentPos;\n\t\t\t// If the target is above/left of the current view, then scroll to it's top/left\n\t\t\tif(targetPos &lt;= currentPos) {\n\t\t\t\tnewPos = targetPos;\n\t\t\t// If the target is smaller than the window and the scroll position is too far up, then scroll till the target is at the bottom of the window\n\t\t\t} else if(targetSize &lt; currentSize &amp;&amp; currentPos &lt; (targetPos + targetSize - currentSize)) {\n\t\t\t\tnewPos = targetPos + targetSize - currentSize;\n\t\t\t// If the target is big, then just scroll to the top\n\t\t\t} else if(currentPos &lt; targetPos) {\n\t\t\t\tnewPos = targetPos;\n\t\t\t// Otherwise, stay where we are\n\t\t\t} else {\n\t\t\t\tnewPos = currentPos;\n\t\t\t}\n\t\t\t// If we are scrolling within 50 pixels of the top/left then snap to zero\n\t\t\tif(newPos &lt; 50) {\n\t\t\t\tnewPos = 0;\n\t\t\t}\n\t\t\treturn newPos;\n\t\t},\n\t\tendX = getEndPos(bounds.left,bounds.width,scrollPosition.x,window.innerWidth),\n\t\tendY = getEndPos(bounds.top,bounds.height,scrollPosition.y,window.innerHeight);\n\t// Only scroll if the position has changed\n\tif(endX !== scrollPosition.x || endY !== scrollPosition.y) {\n\t\tvar self = this,\n\t\t\tdrawFrame;\n\t\tdrawFrame = function () {\n\t\t\tvar t;\n\t\t\tif(duration &lt;= 0) {\n\t\t\t\tt = 1;\n\t\t\t} else {\n\t\t\t\tt = ((Date.now()) - self.startTime) / duration;\t\n\t\t\t}\n\t\t\tif(t &gt;= 1) {\n\t\t\t\tself.cancelScroll();\n\t\t\t\tt = 1;\n\t\t\t}\n\t\t\tt = $tw.utils.slowInSlowOut(t);\n\t\t\twindow.scrollTo(scrollPosition.x + (endX - scrollPosition.x) * t,scrollPosition.y + (endY - scrollPosition.y) * t);\n\t\t\tif(t &lt; 1) {\n\t\t\t\tself.idRequestFrame = self.requestAnimationFrame.call(window,drawFrame);\n\t\t\t}\n\t\t};\n\t\tdrawFrame();\n\t}\n};\n\nexports.PageScroller = PageScroller;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/dom/scroller.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/edition-info.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/edition-info.js\ntype: application/javascript\nmodule-type: utils-node\n\nInformation about the available editions\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar fs = require(\&quot;fs\&quot;),\n\tpath = require(\&quot;path\&quot;);\n\nvar editionInfo;\n\nexports.getEditionInfo = function() {\n\tif(!editionInfo) {\n\t\t// Enumerate the edition paths\n\t\tvar editionPaths = $tw.getLibraryItemSearchPaths($tw.config.editionsPath,$tw.config.editionsEnvVar);\n\t\teditionInfo = {};\n\t\tfor(var editionIndex=0; editionIndex&lt;editionPaths.length; editionIndex++) {\n\t\t\tvar editionPath = editionPaths[editionIndex];\n\t\t\t// Enumerate the folders\n\t\t\tvar entries = fs.readdirSync(editionPath);\n\t\t\tfor(var entryIndex=0; entryIndex&lt;entries.length; entryIndex++) {\n\t\t\t\tvar entry = entries[entryIndex];\n\t\t\t\t// Check if directories have a valid tiddlywiki.info\n\t\t\t\tif(!editionInfo[entry] &amp;&amp; $tw.utils.isDirectory(path.resolve(editionPath,entry))) {\n\t\t\t\t\tvar info;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tinfo = JSON.parse(fs.readFileSync(path.resolve(editionPath,entry,\&quot;tiddlywiki.info\&quot;),\&quot;utf8\&quot;));\n\t\t\t\t\t} catch(ex) {\n\t\t\t\t\t}\n\t\t\t\t\tif(info) {\n\t\t\t\t\t\teditionInfo[entry] = info;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn editionInfo;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/edition-info.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils-node&quot;
        },
        &quot;$:/core/modules/utils/fakedom.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/fakedom.js\ntype: application/javascript\nmodule-type: global\n\nA barebones implementation of DOM interfaces needed by the rendering mechanism.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Sequence number used to enable us to track objects for testing\nvar sequenceNumber = null;\n\nvar bumpSequenceNumber = function(object) {\n\tif(sequenceNumber !== null) {\n\t\tobject.sequenceNumber = sequenceNumber++;\n\t}\n};\n\nvar TW_TextNode = function(text) {\n\tbumpSequenceNumber(this);\n\tthis.textContent = text;\n};\n\nObject.defineProperty(TW_TextNode.prototype, \&quot;nodeType\&quot;, {\n\tget: function() {\n\t\treturn 3;\n\t}\n});\n\nObject.defineProperty(TW_TextNode.prototype, \&quot;formattedTextContent\&quot;, {\n\tget: function() {\n\t\treturn this.textContent.replace(/(\\r?\\n)/g,\&quot;\&quot;);\n\t}\n});\n\nvar TW_Element = function(tag,namespace) {\n\tbumpSequenceNumber(this);\n\tthis.isTiddlyWikiFakeDom = true;\n\tthis.tag = tag;\n\tthis.attributes = {};\n\tthis.isRaw = false;\n\tthis.children = [];\n\tthis.style = {};\n\tthis.namespaceURI = namespace || \&quot;http://www.w3.org/1999/xhtml\&quot;;\n};\n\nObject.defineProperty(TW_Element.prototype, \&quot;nodeType\&quot;, {\n\tget: function() {\n\t\treturn 1;\n\t}\n});\n\nTW_Element.prototype.getAttribute = function(name) {\n\tif(this.isRaw) {\n\t\tthrow \&quot;Cannot getAttribute on a raw TW_Element\&quot;;\n\t}\n\treturn this.attributes[name];\n};\n\nTW_Element.prototype.setAttribute = function(name,value) {\n\tif(this.isRaw) {\n\t\tthrow \&quot;Cannot setAttribute on a raw TW_Element\&quot;;\n\t}\n\tthis.attributes[name] = value;\n};\n\nTW_Element.prototype.setAttributeNS = function(namespace,name,value) {\n\tthis.setAttribute(name,value);\n};\n\nTW_Element.prototype.removeAttribute = function(name) {\n\tif(this.isRaw) {\n\t\tthrow \&quot;Cannot removeAttribute on a raw TW_Element\&quot;;\n\t}\n\tif($tw.utils.hop(this.attributes,name)) {\n\t\tdelete this.attributes[name];\n\t}\n};\n\nTW_Element.prototype.appendChild = function(node) {\n\tthis.children.push(node);\n\tnode.parentNode = this;\n};\n\nTW_Element.prototype.insertBefore = function(node,nextSibling) {\n\tif(nextSibling) {\n\t\tvar p = this.children.indexOf(nextSibling);\n\t\tif(p !== -1) {\n\t\t\tthis.children.splice(p,0,node);\n\t\t\tnode.parentNode = this;\n\t\t} else {\n\t\t\tthis.appendChild(node);\n\t\t}\n\t} else {\n\t\tthis.appendChild(node);\n\t}\n};\n\nTW_Element.prototype.removeChild = function(node) {\n\tvar p = this.children.indexOf(node);\n\tif(p !== -1) {\n\t\tthis.children.splice(p,1);\n\t}\n};\n\nTW_Element.prototype.hasChildNodes = function() {\n\treturn !!this.children.length;\n};\n\nObject.defineProperty(TW_Element.prototype, \&quot;childNodes\&quot;, {\n\tget: function() {\n\t\treturn this.children;\n\t}\n});\n\nObject.defineProperty(TW_Element.prototype, \&quot;firstChild\&quot;, {\n\tget: function() {\n\t\treturn this.children[0];\n\t}\n});\n\nTW_Element.prototype.addEventListener = function(type,listener,useCapture) {\n\t// Do nothing\n};\n\nObject.defineProperty(TW_Element.prototype, \&quot;tagName\&quot;, {\n\tget: function() {\n\t\treturn this.tag || \&quot;\&quot;;\n\t}\n});\n\nObject.defineProperty(TW_Element.prototype, \&quot;className\&quot;, {\n\tget: function() {\n\t\treturn this.attributes[\&quot;class\&quot;] || \&quot;\&quot;;\n\t},\n\tset: function(value) {\n\t\tthis.attributes[\&quot;class\&quot;] = value;\n\t}\n});\n\nObject.defineProperty(TW_Element.prototype, \&quot;value\&quot;, {\n\tget: function() {\n\t\treturn this.attributes.value || \&quot;\&quot;;\n\t},\n\tset: function(value) {\n\t\tthis.attributes.value = value;\n\t}\n});\n\nObject.defineProperty(TW_Element.prototype, \&quot;outerHTML\&quot;, {\n\tget: function() {\n\t\tvar output = [],attr,a,v;\n\t\toutput.push(\&quot;&lt;\&quot;,this.tag);\n\t\tif(this.attributes) {\n\t\t\tattr = [];\n\t\t\tfor(a in this.attributes) {\n\t\t\t\tattr.push(a);\n\t\t\t}\n\t\t\tattr.sort();\n\t\t\tfor(a=0; a&lt;attr.length; a++) {\n\t\t\t\tv = this.attributes[attr[a]];\n\t\t\t\tif(v !== undefined) {\n\t\t\t\t\toutput.push(\&quot; \&quot;,attr[a],\&quot;=\\\&quot;\&quot;,$tw.utils.htmlEncode(v),\&quot;\\\&quot;\&quot;);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(this.style) {\n\t\t\tvar style = [];\n\t\t\tfor(var s in this.style) {\n\t\t\t\tstyle.push(s + \&quot;:\&quot; + this.style[s] + \&quot;;\&quot;);\n\t\t\t}\n\t\t\tif(style.length &gt; 0) {\n\t\t\t\toutput.push(\&quot; style=\\\&quot;\&quot;,style.join(\&quot;\&quot;),\&quot;\\\&quot;\&quot;)\n\t\t\t}\n\t\t}\n\t\toutput.push(\&quot;&gt;\&quot;);\n\t\tif($tw.config.htmlVoidElements.indexOf(this.tag) === -1) {\n\t\t\toutput.push(this.innerHTML);\n\t\t\toutput.push(\&quot;&lt;/\&quot;,this.tag,\&quot;&gt;\&quot;);\n\t\t}\n\t\treturn output.join(\&quot;\&quot;);\n\t}\n});\n\nObject.defineProperty(TW_Element.prototype, \&quot;innerHTML\&quot;, {\n\tget: function() {\n\t\tif(this.isRaw) {\n\t\t\treturn this.rawHTML;\n\t\t} else {\n\t\t\tvar b = [];\n\t\t\t$tw.utils.each(this.children,function(node) {\n\t\t\t\tif(node instanceof TW_Element) {\n\t\t\t\t\tb.push(node.outerHTML);\n\t\t\t\t} else if(node instanceof TW_TextNode) {\n\t\t\t\t\tb.push($tw.utils.htmlEncode(node.textContent));\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn b.join(\&quot;\&quot;);\n\t\t}\n\t},\n\tset: function(value) {\n\t\tthis.isRaw = true;\n\t\tthis.rawHTML = value;\n\t}\n});\n\nObject.defineProperty(TW_Element.prototype, \&quot;textContent\&quot;, {\n\tget: function() {\n\t\tif(this.isRaw) {\n\t\t\tthrow \&quot;Cannot get textContent on a raw TW_Element\&quot;;\n\t\t} else {\n\t\t\tvar b = [];\n\t\t\t$tw.utils.each(this.children,function(node) {\n\t\t\t\tb.push(node.textContent);\n\t\t\t});\n\t\t\treturn b.join(\&quot;\&quot;);\n\t\t}\n\t},\n\tset: function(value) {\n\t\tthis.children = [new TW_TextNode(value)];\n\t}\n});\n\nObject.defineProperty(TW_Element.prototype, \&quot;formattedTextContent\&quot;, {\n\tget: function() {\n\t\tif(this.isRaw) {\n\t\t\tthrow \&quot;Cannot get formattedTextContent on a raw TW_Element\&quot;;\n\t\t} else {\n\t\t\tvar b = [],\n\t\t\t\tisBlock = $tw.config.htmlBlockElements.indexOf(this.tag) !== -1;\n\t\t\tif(isBlock) {\n\t\t\t\tb.push(\&quot;\\n\&quot;);\n\t\t\t}\n\t\t\tif(this.tag === \&quot;li\&quot;) {\n\t\t\t\tb.push(\&quot;* \&quot;);\n\t\t\t}\n\t\t\t$tw.utils.each(this.children,function(node) {\n\t\t\t\tb.push(node.formattedTextContent);\n\t\t\t});\n\t\t\tif(isBlock) {\n\t\t\t\tb.push(\&quot;\\n\&quot;);\n\t\t\t}\n\t\t\treturn b.join(\&quot;\&quot;);\n\t\t}\n\t}\n});\n\nvar document = {\n\tsetSequenceNumber: function(value) {\n\t\tsequenceNumber = value;\n\t},\n\tcreateElementNS: function(namespace,tag) {\n\t\treturn new TW_Element(tag,namespace);\n\t},\n\tcreateElement: function(tag) {\n\t\treturn new TW_Element(tag);\n\t},\n\tcreateTextNode: function(text) {\n\t\treturn new TW_TextNode(text);\n\t},\n\tcompatMode: \&quot;CSS1Compat\&quot;, // For KaTeX to know that we're not a browser in quirks mode\n\tisTiddlyWikiFakeDom: true\n};\n\nexports.fakeDocument = document;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/fakedom.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;global&quot;
        },
        &quot;$:/core/modules/utils/filesystem.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/filesystem.js\ntype: application/javascript\nmodule-type: utils-node\n\nFile system utilities\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar fs = require(\&quot;fs\&quot;),\n\tpath = require(\&quot;path\&quot;);\n\n/*\nRecursively (and synchronously) copy a directory and all its content\n*/\nexports.copyDirectory = function(srcPath,dstPath) {\n\t// Remove any trailing path separators\n\tsrcPath = $tw.utils.removeTrailingSeparator(srcPath);\n\tdstPath = $tw.utils.removeTrailingSeparator(dstPath);\n\t// Create the destination directory\n\tvar err = $tw.utils.createDirectory(dstPath);\n\tif(err) {\n\t\treturn err;\n\t}\n\t// Function to copy a folder full of files\n\tvar copy = function(srcPath,dstPath) {\n\t\tvar srcStats = fs.lstatSync(srcPath),\n\t\t\tdstExists = fs.existsSync(dstPath);\n\t\tif(srcStats.isFile()) {\n\t\t\t$tw.utils.copyFile(srcPath,dstPath);\n\t\t} else if(srcStats.isDirectory()) {\n\t\t\tvar items = fs.readdirSync(srcPath);\n\t\t\tfor(var t=0; t&lt;items.length; t++) {\n\t\t\t\tvar item = items[t],\n\t\t\t\t\terr = copy(srcPath + path.sep + item,dstPath + path.sep + item);\n\t\t\t\tif(err) {\n\t\t\t\t\treturn err;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tcopy(srcPath,dstPath);\n\treturn null;\n};\n\n/*\nCopy a file\n*/\nvar FILE_BUFFER_LENGTH = 64 * 1024,\n\tfileBuffer;\n\nexports.copyFile = function(srcPath,dstPath) {\n\t// Create buffer if required\n\tif(!fileBuffer) {\n\t\tfileBuffer = new Buffer(FILE_BUFFER_LENGTH);\n\t}\n\t// Create any directories in the destination\n\t$tw.utils.createDirectory(path.dirname(dstPath));\n\t// Copy the file\n\tvar srcFile = fs.openSync(srcPath,\&quot;r\&quot;),\n\t\tdstFile = fs.openSync(dstPath,\&quot;w\&quot;),\n\t\tbytesRead = 1,\n\t\tpos = 0;\n\twhile (bytesRead &gt; 0) {\n\t\tbytesRead = fs.readSync(srcFile,fileBuffer,0,FILE_BUFFER_LENGTH,pos);\n\t\tfs.writeSync(dstFile,fileBuffer,0,bytesRead);\n\t\tpos += bytesRead;\n\t}\n\tfs.closeSync(srcFile);\n\tfs.closeSync(dstFile);\n\treturn null;\n};\n\n/*\nRemove trailing path separator\n*/\nexports.removeTrailingSeparator = function(dirPath) {\n\tvar len = dirPath.length;\n\tif(dirPath.charAt(len-1) === path.sep) {\n\t\tdirPath = dirPath.substr(0,len-1);\n\t}\n\treturn dirPath;\n};\n\n/*\nRecursively create a directory\n*/\nexports.createDirectory = function(dirPath) {\n\tif(dirPath.substr(dirPath.length-1,1) !== path.sep) {\n\t\tdirPath = dirPath + path.sep;\n\t}\n\tvar pos = 1;\n\tpos = dirPath.indexOf(path.sep,pos);\n\twhile(pos !== -1) {\n\t\tvar subDirPath = dirPath.substr(0,pos);\n\t\tif(!$tw.utils.isDirectory(subDirPath)) {\n\t\t\ttry {\n\t\t\t\tfs.mkdirSync(subDirPath);\n\t\t\t} catch(e) {\n\t\t\t\treturn \&quot;Error creating directory '\&quot; + subDirPath + \&quot;'\&quot;;\n\t\t\t}\n\t\t}\n\t\tpos = dirPath.indexOf(path.sep,pos + 1);\n\t}\n\treturn null;\n};\n\n/*\nRecursively create directories needed to contain a specified file\n*/\nexports.createFileDirectories = function(filePath) {\n\treturn $tw.utils.createDirectory(path.dirname(filePath));\n};\n\n/*\nRecursively delete a directory\n*/\nexports.deleteDirectory = function(dirPath) {\n\tif(fs.existsSync(dirPath)) {\n\t\tvar entries = fs.readdirSync(dirPath);\n\t\tfor(var entryIndex=0; entryIndex&lt;entries.length; entryIndex++) {\n\t\t\tvar currPath = dirPath + path.sep + entries[entryIndex];\n\t\t\tif(fs.lstatSync(currPath).isDirectory()) {\n\t\t\t\t$tw.utils.deleteDirectory(currPath);\n\t\t\t} else {\n\t\t\t\tfs.unlinkSync(currPath);\n\t\t\t}\n\t\t}\n\tfs.rmdirSync(dirPath);\n\t}\n\treturn null;\n};\n\n/*\nCheck if a path identifies a directory\n*/\nexports.isDirectory = function(dirPath) {\n\treturn fs.existsSync(dirPath) &amp;&amp; fs.statSync(dirPath).isDirectory();\n};\n\n/*\nCheck if a path identifies a directory that is empty\n*/\nexports.isDirectoryEmpty = function(dirPath) {\n\tif(!$tw.utils.isDirectory(dirPath)) {\n\t\treturn false;\n\t}\n\tvar files = fs.readdirSync(dirPath),\n\t\tempty = true;\n\t$tw.utils.each(files,function(file,index) {\n\t\tif(file.charAt(0) !== \&quot;.\&quot;) {\n\t\t\tempty = false;\n\t\t}\n\t});\n\treturn empty;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/filesystem.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils-node&quot;
        },
        &quot;$:/core/modules/utils/logger.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/logger.js\ntype: application/javascript\nmodule-type: utils\n\nA basic logging implementation\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar ALERT_TAG = \&quot;$:/tags/Alert\&quot;;\n\n/*\nMake a new logger\n*/\nfunction Logger(componentName) {\n\tthis.componentName = componentName || \&quot;\&quot;;\n}\n\n/*\nLog a message\n*/\nLogger.prototype.log = function(/* args */) {\n\tif(console !== undefined &amp;&amp; console.log !== undefined) {\n\t\treturn Function.apply.call(console.log, console, [this.componentName + \&quot;:\&quot;].concat(Array.prototype.slice.call(arguments,0)));\n\t}\n};\n\n/*\nAlert a message\n*/\nLogger.prototype.alert = function(/* args */) {\n\t// Prepare the text of the alert\n\tvar text = Array.prototype.join.call(arguments,\&quot; \&quot;);\n\t// Create alert tiddlers in the browser\n\tif($tw.browser) {\n\t\t// Check if there is an existing alert with the same text and the same component\n\t\tvar existingAlerts = $tw.wiki.getTiddlersWithTag(ALERT_TAG),\n\t\t\talertFields,\n\t\t\texistingCount,\n\t\t\tself = this;\n\t\t$tw.utils.each(existingAlerts,function(title) {\n\t\t\tvar tiddler = $tw.wiki.getTiddler(title);\n\t\t\tif(tiddler.fields.text === text &amp;&amp; tiddler.fields.component === self.componentName &amp;&amp; tiddler.fields.modified &amp;&amp; (!alertFields || tiddler.fields.modified &lt; alertFields.modified)) {\n\t\t\t\t\talertFields = $tw.utils.extend({},tiddler.fields);\n\t\t\t}\n\t\t});\n\t\tif(alertFields) {\n\t\t\texistingCount = alertFields.count || 1;\n\t\t} else {\n\t\t\talertFields = {\n\t\t\t\ttitle: $tw.wiki.generateNewTitle(\&quot;$:/temp/alerts/alert\&quot;,{prefix: \&quot;\&quot;}),\n\t\t\t\ttext: text,\n\t\t\t\ttags: [ALERT_TAG],\n\t\t\t\tcomponent: this.componentName\n\t\t\t};\n\t\t\texistingCount = 0;\n\t\t}\n\t\talertFields.modified = new Date();\n\t\tif(++existingCount &gt; 1) {\n\t\t\talertFields.count = existingCount;\n\t\t} else {\n\t\t\talertFields.count = undefined;\n\t\t}\n\t\t$tw.wiki.addTiddler(new $tw.Tiddler(alertFields));\n\t\t// Log the alert as well\n\t\tthis.log.apply(this,Array.prototype.slice.call(arguments,0));\n\t} else {\n\t\t// Print an orange message to the console if not in the browser\n\t\tconsole.error(\&quot;\\x1b[1;33m\&quot; + text + \&quot;\\x1b[0m\&quot;);\n\t}\n};\n\nexports.Logger = Logger;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/logger.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/parsetree.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/parsetree.js\ntype: application/javascript\nmodule-type: utils\n\nParse tree utility functions.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nexports.addAttributeToParseTreeNode = function(node,name,value) {\n\tnode.attributes = node.attributes || {};\n\tnode.attributes[name] = {type: \&quot;string\&quot;, value: value};\n};\n\nexports.getAttributeValueFromParseTreeNode = function(node,name,defaultValue) {\n\tif(node.attributes &amp;&amp; node.attributes[name] &amp;&amp; node.attributes[name].value !== undefined) {\n\t\treturn node.attributes[name].value;\n\t}\n\treturn defaultValue;\n};\n\nexports.addClassToParseTreeNode = function(node,classString) {\n\tvar classes = [];\n\tnode.attributes = node.attributes || {};\n\tnode.attributes[\&quot;class\&quot;] = node.attributes[\&quot;class\&quot;] || {type: \&quot;string\&quot;, value: \&quot;\&quot;};\n\tif(node.attributes[\&quot;class\&quot;].type === \&quot;string\&quot;) {\n\t\tif(node.attributes[\&quot;class\&quot;].value !== \&quot;\&quot;) {\n\t\t\tclasses = node.attributes[\&quot;class\&quot;].value.split(\&quot; \&quot;);\n\t\t}\n\t\tif(classString !== \&quot;\&quot;) {\n\t\t\t$tw.utils.pushTop(classes,classString.split(\&quot; \&quot;));\n\t\t}\n\t\tnode.attributes[\&quot;class\&quot;].value = classes.join(\&quot; \&quot;);\n\t}\n};\n\nexports.addStyleToParseTreeNode = function(node,name,value) {\n\t\tnode.attributes = node.attributes || {};\n\t\tnode.attributes.style = node.attributes.style || {type: \&quot;string\&quot;, value: \&quot;\&quot;};\n\t\tif(node.attributes.style.type === \&quot;string\&quot;) {\n\t\t\tnode.attributes.style.value += name + \&quot;:\&quot; + value + \&quot;;\&quot;;\n\t\t}\n};\n\nexports.findParseTreeNode = function(nodeArray,search) {\n\tfor(var t=0; t&lt;nodeArray.length; t++) {\n\t\tif(nodeArray[t].type === search.type &amp;&amp; nodeArray[t].tag === search.tag) {\n\t\t\treturn nodeArray[t];\n\t\t}\n\t}\n\treturn undefined;\n};\n\n/*\nHelper to get the text of a parse tree node or array of nodes\n*/\nexports.getParseTreeText = function getParseTreeText(tree) {\n\tvar output = [];\n\tif($tw.utils.isArray(tree)) {\n\t\t$tw.utils.each(tree,function(node) {\n\t\t\toutput.push(getParseTreeText(node));\n\t\t});\n\t} else {\n\t\tif(tree.type === \&quot;text\&quot;) {\n\t\t\toutput.push(tree.text);\n\t\t}\n\t\tif(tree.children) {\n\t\t\treturn getParseTreeText(tree.children);\n\t\t}\n\t}\n\treturn output.join(\&quot;\&quot;);\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/parsetree.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/performance.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/performance.js\ntype: application/javascript\nmodule-type: global\n\nPerformance measurement.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nfunction Performance(enabled) {\n\tthis.enabled = !!enabled;\n\tthis.measures = {}; // Hashmap of current values of measurements\n\tthis.logger = new $tw.utils.Logger(\&quot;performance\&quot;);\n}\n\n/*\nWrap performance reporting around a top level function\n*/\nPerformance.prototype.report = function(name,fn) {\n\tvar self = this;\n\tif(this.enabled) {\n\t\treturn function() {\n\t\t\tself.measures = {};\n\t\t\tvar startTime = $tw.utils.timer(),\n\t\t\t\tresult = fn.apply(this,arguments);\n\t\t\tself.logger.log(name + \&quot;: \&quot; + $tw.utils.timer(startTime).toFixed(2) + \&quot;ms\&quot;);\n\t\t\tfor(var m in self.measures) {\n\t\t\t\tself.logger.log(\&quot;+\&quot; + m + \&quot;: \&quot; + self.measures[m].toFixed(2) + \&quot;ms\&quot;);\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t} else {\n\t\treturn fn;\n\t}\n};\n\n/*\nWrap performance measurements around a subfunction\n*/\nPerformance.prototype.measure = function(name,fn) {\n\tvar self = this;\n\tif(this.enabled) {\n\t\treturn function() {\n\t\t\tvar startTime = $tw.utils.timer(),\n\t\t\t\tresult = fn.apply(this,arguments),\n\t\t\t\tvalue = self.measures[name] || 0;\n\t\t\tself.measures[name] = value + $tw.utils.timer(startTime);\n\t\t\treturn result;\n\t\t};\n\t} else {\n\t\treturn fn;\n\t}\n};\n\nexports.Performance = Performance;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/performance.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;global&quot;
        },
        &quot;$:/core/modules/utils/pluginmaker.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/pluginmaker.js\ntype: application/javascript\nmodule-type: utils\n\nA quick and dirty way to pack up plugins within the browser.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nRepack a plugin, and then delete any non-shadow payload tiddlers\n*/\nexports.repackPlugin = function(title,additionalTiddlers,excludeTiddlers) {\n\tadditionalTiddlers = additionalTiddlers || [];\n\texcludeTiddlers = excludeTiddlers || [];\n\t// Get the plugin tiddler\n\tvar pluginTiddler = $tw.wiki.getTiddler(title);\n\tif(!pluginTiddler) {\n\t\tthrow \&quot;No such tiddler as \&quot; + title;\n\t}\n\t// Extract the JSON\n\tvar jsonPluginTiddler;\n\ttry {\n\t\tjsonPluginTiddler = JSON.parse(pluginTiddler.fields.text);\n\t} catch(e) {\n\t\tthrow \&quot;Cannot parse plugin tiddler \&quot; + title + \&quot;\\nError: \&quot; + e;\n\t}\n\t// Get the list of tiddlers\n\tvar tiddlers = Object.keys(jsonPluginTiddler.tiddlers);\n\t// Add the additional tiddlers\n\t$tw.utils.pushTop(tiddlers,additionalTiddlers);\n\t// Remove any excluded tiddlers\n\tfor(var t=tiddlers.length-1; t&gt;=0; t--) {\n\t\tif(excludeTiddlers.indexOf(tiddlers[t]) !== -1) {\n\t\t\ttiddlers.splice(t,1);\n\t\t}\n\t}\n\t// Pack up the tiddlers into a block of JSON\n\tvar plugins = {};\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar tiddler = $tw.wiki.getTiddler(title),\n\t\t\tfields = {};\n\t\t$tw.utils.each(tiddler.fields,function (value,name) {\n\t\t\tfields[name] = tiddler.getFieldString(name);\n\t\t});\n\t\tplugins[title] = fields;\n\t});\n\t// Retrieve and bump the version number\n\tvar pluginVersion = $tw.utils.parseVersion(pluginTiddler.getFieldString(\&quot;version\&quot;) || \&quot;0.0.0\&quot;) || {\n\t\t\tmajor: \&quot;0\&quot;,\n\t\t\tminor: \&quot;0\&quot;,\n\t\t\tpatch: \&quot;0\&quot;\n\t\t};\n\tpluginVersion.patch++;\n\tvar version = pluginVersion.major + \&quot;.\&quot; + pluginVersion.minor + \&quot;.\&quot; + pluginVersion.patch;\n\tif(pluginVersion.prerelease) {\n\t\tversion += \&quot;-\&quot; + pluginVersion.prerelease;\n\t}\n\tif(pluginVersion.build) {\n\t\tversion += \&quot;+\&quot; + pluginVersion.build;\n\t}\n\t// Save the tiddler\n\t$tw.wiki.addTiddler(new $tw.Tiddler(pluginTiddler,{text: JSON.stringify({tiddlers: plugins},null,4), version: version}));\n\t// Delete any non-shadow constituent tiddlers\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tif($tw.wiki.tiddlerExists(title)) {\n\t\t\t$tw.wiki.deleteTiddler(title);\n\t\t}\n\t});\n\t// Trigger an autosave\n\t$tw.rootWidget.dispatchEvent({type: \&quot;tm-auto-save-wiki\&quot;});\n\t// Return a heartwarming confirmation\n\treturn \&quot;Plugin \&quot; + title + \&quot; successfully saved\&quot;;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/pluginmaker.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/utils/utils.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/utils/utils.js\ntype: application/javascript\nmodule-type: utils\n\nVarious static utility functions.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nDisplay a warning, in colour if we're on a terminal\n*/\nexports.warning = function(text) {\n\tconsole.log($tw.node ? \&quot;\\x1b[1;33m\&quot; + text + \&quot;\\x1b[0m\&quot; : text);\n}\n\n/*\nTrim whitespace from the start and end of a string\nThanks to Steven Levithan, http://blog.stevenlevithan.com/archives/faster-trim-javascript\n*/\nexports.trim = function(str) {\n\tif(typeof str === \&quot;string\&quot;) {\n\t\treturn str.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n\t} else {\n\t\treturn str;\n\t}\n};\n\n/*\nReturn the number of keys in an object\n*/\nexports.count = function(object) {\n\treturn Object.keys(object || {}).length;\n};\n\n/*\nCheck if an array is equal by value and by reference.\n*/\nexports.isArrayEqual = function(array1,array2) {\n\tif(array1 === array2) {\n\t\treturn true;\n\t}\n\tarray1 = array1 || [];\n\tarray2 = array2 || [];\n\tif(array1.length !== array2.length) {\n\t\treturn false;\n\t}\n\treturn array1.every(function(value,index) {\n\t\treturn value === array2[index];\n\t});\n};\n\n/*\nPush entries onto an array, removing them first if they already exist in the array\n\tarray: array to modify (assumed to be free of duplicates)\n\tvalue: a single value to push or an array of values to push\n*/\nexports.pushTop = function(array,value) {\n\tvar t,p;\n\tif($tw.utils.isArray(value)) {\n\t\t// Remove any array entries that are duplicated in the new values\n\t\tif(value.length !== 0) {\n\t\t\tif(array.length !== 0) {\n\t\t\t\tif(value.length &lt; array.length) {\n\t\t\t\t\tfor(t=0; t&lt;value.length; t++) {\n\t\t\t\t\t\tp = array.indexOf(value[t]);\n\t\t\t\t\t\tif(p !== -1) {\n\t\t\t\t\t\t\tarray.splice(p,1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor(t=array.length-1; t&gt;=0; t--) {\n\t\t\t\t\t\tp = value.indexOf(array[t]);\n\t\t\t\t\t\tif(p !== -1) {\n\t\t\t\t\t\t\tarray.splice(t,1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Push the values on top of the main array\n\t\t\tarray.push.apply(array,value);\n\t\t}\n\t} else {\n\t\tp = array.indexOf(value);\n\t\tif(p !== -1) {\n\t\t\tarray.splice(p,1);\n\t\t}\n\t\tarray.push(value);\n\t}\n\treturn array;\n};\n\n/*\nRemove entries from an array\n\tarray: array to modify\n\tvalue: a single value to remove, or an array of values to remove\n*/\nexports.removeArrayEntries = function(array,value) {\n\tvar t,p;\n\tif($tw.utils.isArray(value)) {\n\t\tfor(t=0; t&lt;value.length; t++) {\n\t\t\tp = array.indexOf(value[t]);\n\t\t\tif(p !== -1) {\n\t\t\t\tarray.splice(p,1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tp = array.indexOf(value);\n\t\tif(p !== -1) {\n\t\t\tarray.splice(p,1);\n\t\t}\n\t}\n};\n\n/*\nCheck whether any members of a hashmap are present in another hashmap\n*/\nexports.checkDependencies = function(dependencies,changes) {\n\tvar hit = false;\n\t$tw.utils.each(changes,function(change,title) {\n\t\tif($tw.utils.hop(dependencies,title)) {\n\t\t\thit = true;\n\t\t}\n\t});\n\treturn hit;\n};\n\nexports.extend = function(object /* [, src] */) {\n\t$tw.utils.each(Array.prototype.slice.call(arguments, 1), function(source) {\n\t\tif(source) {\n\t\t\tfor(var property in source) {\n\t\t\t\tobject[property] = source[property];\n\t\t\t}\n\t\t}\n\t});\n\treturn object;\n};\n\nexports.deepCopy = function(object) {\n\tvar result,t;\n\tif($tw.utils.isArray(object)) {\n\t\t// Copy arrays\n\t\tresult = object.slice(0);\n\t} else if(typeof object === \&quot;object\&quot;) {\n\t\tresult = {};\n\t\tfor(t in object) {\n\t\t\tif(object[t] !== undefined) {\n\t\t\t\tresult[t] = $tw.utils.deepCopy(object[t]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tresult = object;\n\t}\n\treturn result;\n};\n\nexports.extendDeepCopy = function(object,extendedProperties) {\n\tvar result = $tw.utils.deepCopy(object),t;\n\tfor(t in extendedProperties) {\n\t\tif(extendedProperties[t] !== undefined) {\n\t\t\tresult[t] = $tw.utils.deepCopy(extendedProperties[t]);\n\t\t}\n\t}\n\treturn result;\n};\n\nexports.deepFreeze = function deepFreeze(object) {\n\tvar property, key;\n\tObject.freeze(object);\n\tfor(key in object) {\n\t\tproperty = object[key];\n\t\tif($tw.utils.hop(object,key) &amp;&amp; (typeof property === \&quot;object\&quot;) &amp;&amp; !Object.isFrozen(property)) {\n\t\t\tdeepFreeze(property);\n\t\t}\n\t}\n};\n\nexports.slowInSlowOut = function(t) {\n\treturn (1 - ((Math.cos(t * Math.PI) + 1) / 2));\n};\n\nexports.formatDateString = function(date,template) {\n\tvar result = \&quot;\&quot;,\n\t\tt = template,\n\t\tmatches = [\n\t\t\t[/^0hh12/, function() {\n\t\t\t\treturn $tw.utils.pad($tw.utils.getHours12(date));\n\t\t\t}],\n\t\t\t[/^wYYYY/, function() {\n\t\t\t\treturn $tw.utils.getYearForWeekNo(date);\n\t\t\t}],\n\t\t\t[/^hh12/, function() {\n\t\t\t\treturn $tw.utils.getHours12(date);\n\t\t\t}],\n\t\t\t[/^DDth/, function() {\n\t\t\t\treturn date.getDate() + $tw.utils.getDaySuffix(date);\n\t\t\t}],\n\t\t\t[/^YYYY/, function() {\n\t\t\t\treturn date.getFullYear();\n\t\t\t}],\n\t\t\t[/^0hh/, function() {\n\t\t\t\treturn $tw.utils.pad(date.getHours());\n\t\t\t}],\n\t\t\t[/^0mm/, function() {\n\t\t\t\treturn $tw.utils.pad(date.getMinutes());\n\t\t\t}],\n\t\t\t[/^0ss/, function() {\n\t\t\t\treturn $tw.utils.pad(date.getSeconds());\n\t\t\t}],\n\t\t\t[/^0DD/, function() {\n\t\t\t\treturn $tw.utils.pad(date.getDate());\n\t\t\t}],\n\t\t\t[/^0MM/, function() {\n\t\t\t\treturn $tw.utils.pad(date.getMonth()+1);\n\t\t\t}],\n\t\t\t[/^0WW/, function() {\n\t\t\t\treturn $tw.utils.pad($tw.utils.getWeek(date));\n\t\t\t}],\n\t\t\t[/^ddd/, function() {\n\t\t\t\treturn $tw.language.getString(\&quot;Date/Short/Day/\&quot; + date.getDay());\n\t\t\t}],\n\t\t\t[/^mmm/, function() {\n\t\t\t\treturn $tw.language.getString(\&quot;Date/Short/Month/\&quot; + (date.getMonth() + 1));\n\t\t\t}],\n\t\t\t[/^DDD/, function() {\n\t\t\t\treturn $tw.language.getString(\&quot;Date/Long/Day/\&quot; + date.getDay());\n\t\t\t}],\n\t\t\t[/^MMM/, function() {\n\t\t\t\treturn $tw.language.getString(\&quot;Date/Long/Month/\&quot; + (date.getMonth() + 1));\n\t\t\t}],\n\t\t\t[/^TZD/, function() {\n\t\t\t\tvar tz = date.getTimezoneOffset(),\n\t\t\t\tatz = Math.abs(tz);\n\t\t\t\treturn (tz &lt; 0 ? '+' : '-') + $tw.utils.pad(Math.floor(atz / 60)) + ':' + $tw.utils.pad(atz % 60);\n\t\t\t}],\n\t\t\t[/^wYY/, function() {\n\t\t\t\treturn $tw.utils.pad($tw.utils.getYearForWeekNo(date) - 2000);\n\t\t\t}],\n\t\t\t[/^[ap]m/, function() {\n\t\t\t\treturn $tw.utils.getAmPm(date).toLowerCase();\n\t\t\t}],\n\t\t\t[/^hh/, function() {\n\t\t\t\treturn date.getHours();\n\t\t\t}],\n\t\t\t[/^mm/, function() {\n\t\t\t\treturn date.getMinutes();\n\t\t\t}],\n\t\t\t[/^ss/, function() {\n\t\t\t\treturn date.getSeconds();\n\t\t\t}],\n\t\t\t[/^[AP]M/, function() {\n\t\t\t\treturn $tw.utils.getAmPm(date).toUpperCase();\n\t\t\t}],\n\t\t\t[/^DD/, function() {\n\t\t\t\treturn date.getDate();\n\t\t\t}],\n\t\t\t[/^MM/, function() {\n\t\t\t\treturn date.getMonth() + 1;\n\t\t\t}],\n\t\t\t[/^WW/, function() {\n\t\t\t\treturn $tw.utils.getWeek(date);\n\t\t\t}],\n\t\t\t[/^YY/, function() {\n\t\t\t\treturn $tw.utils.pad(date.getFullYear() - 2000);\n\t\t\t}]\n\t\t];\n\twhile(t.length){\n\t\tvar matchString = \&quot;\&quot;;\n\t\t$tw.utils.each(matches, function(m) {\n\t\t\tvar match = m[0].exec(t);\n\t\t\tif(match) {\n\t\t\t\tmatchString = m[1].call();\n\t\t\t\tt = t.substr(match[0].length);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\tif(matchString) {\n\t\t\tresult += matchString;\n\t\t} else {\n\t\t\tresult += t.charAt(0);\n\t\t\tt = t.substr(1);\n\t\t}\n\t}\n\tresult = result.replace(/\\\\(.)/g,\&quot;$1\&quot;);\n\treturn result;\n};\n\nexports.getAmPm = function(date) {\n\treturn $tw.language.getString(\&quot;Date/Period/\&quot; + (date.getHours() &gt;= 12 ? \&quot;pm\&quot; : \&quot;am\&quot;));\n};\n\nexports.getDaySuffix = function(date) {\n\treturn $tw.language.getString(\&quot;Date/DaySuffix/\&quot; + date.getDate());\n};\n\nexports.getWeek = function(date) {\n\tvar dt = new Date(date.getTime());\n\tvar d = dt.getDay();\n\tif(d === 0) {\n\t\td = 7; // JavaScript Sun=0, ISO Sun=7\n\t}\n\tdt.setTime(dt.getTime() + (4 - d) * 86400000);// shift day to Thurs of same week to calculate weekNo\n\tvar n = Math.floor((dt.getTime()-new Date(dt.getFullYear(),0,1) + 3600000) / 86400000);\n\treturn Math.floor(n / 7) + 1;\n};\n\nexports.getYearForWeekNo = function(date) {\n\tvar dt = new Date(date.getTime());\n\tvar d = dt.getDay();\n\tif(d === 0) {\n\t\td = 7; // JavaScript Sun=0, ISO Sun=7\n\t}\n\tdt.setTime(dt.getTime() + (4 - d) * 86400000);// shift day to Thurs of same week\n\treturn dt.getFullYear();\n};\n\nexports.getHours12 = function(date) {\n\tvar h = date.getHours();\n\treturn h &gt; 12 ? h-12 : ( h &gt; 0 ? h : 12 );\n};\n\n/*\nConvert a date delta in milliseconds into a string representation of \&quot;23 seconds ago\&quot;, \&quot;27 minutes ago\&quot; etc.\n\tdelta: delta in milliseconds\nReturns an object with these members:\n\tdescription: string describing the delta period\n\tupdatePeriod: time in millisecond until the string will be inaccurate\n*/\nexports.getRelativeDate = function(delta) {\n\tvar futurep = false;\n\tif(delta &lt; 0) {\n\t\tdelta = -1 * delta;\n\t\tfuturep = true;\n\t}\n\tvar units = [\n\t\t{name: \&quot;Years\&quot;,   duration:      365 * 24 * 60 * 60 * 1000},\n\t\t{name: \&quot;Months\&quot;,  duration: (365/12) * 24 * 60 * 60 * 1000},\n\t\t{name: \&quot;Days\&quot;,    duration:            24 * 60 * 60 * 1000},\n\t\t{name: \&quot;Hours\&quot;,   duration:                 60 * 60 * 1000},\n\t\t{name: \&quot;Minutes\&quot;, duration:                      60 * 1000},\n\t\t{name: \&quot;Seconds\&quot;, duration:                           1000}\n\t];\n\tfor(var t=0; t&lt;units.length; t++) {\n\t\tvar result = Math.floor(delta / units[t].duration);\n\t\tif(result &gt;= 2) {\n\t\t\treturn {\n\t\t\t\tdelta: delta,\n\t\t\t\tdescription: $tw.language.getString(\n\t\t\t\t\t\&quot;RelativeDate/\&quot; + (futurep ? \&quot;Future\&quot; : \&quot;Past\&quot;) + \&quot;/\&quot; + units[t].name,\n\t\t\t\t\t{variables:\n\t\t\t\t\t\t{period: result.toString()}\n\t\t\t\t\t}\n\t\t\t\t),\n\t\t\t\tupdatePeriod: units[t].duration\n\t\t\t};\n\t\t}\n\t}\n\treturn {\n\t\tdelta: delta,\n\t\tdescription: $tw.language.getString(\n\t\t\t\&quot;RelativeDate/\&quot; + (futurep ? \&quot;Future\&quot; : \&quot;Past\&quot;) + \&quot;/Second\&quot;,\n\t\t\t{variables:\n\t\t\t\t{period: \&quot;1\&quot;}\n\t\t\t}\n\t\t),\n\t\tupdatePeriod: 1000\n\t};\n};\n\n// Convert &amp; to \&quot;&amp;amp;\&quot;, &lt; to \&quot;&amp;lt;\&quot;, &gt; to \&quot;&amp;gt;\&quot;, \&quot; to \&quot;&amp;quot;\&quot;\nexports.htmlEncode = function(s) {\n\tif(s) {\n\t\treturn s.toString().replace(/&amp;/mg,\&quot;&amp;amp;\&quot;).replace(/&lt;/mg,\&quot;&amp;lt;\&quot;).replace(/&gt;/mg,\&quot;&amp;gt;\&quot;).replace(/\\\&quot;/mg,\&quot;&amp;quot;\&quot;);\n\t} else {\n\t\treturn \&quot;\&quot;;\n\t}\n};\n\n// Converts all HTML entities to their character equivalents\nexports.entityDecode = function(s) {\n\tvar e = s.substr(1,s.length-2); // Strip the &amp; and the ;\n\tif(e.charAt(0) === \&quot;#\&quot;) {\n\t\tif(e.charAt(1) === \&quot;x\&quot; || e.charAt(1) === \&quot;X\&quot;) {\n\t\t\treturn String.fromCharCode(parseInt(e.substr(2),16));\t\n\t\t} else {\n\t\t\treturn String.fromCharCode(parseInt(e.substr(1),10));\n\t\t}\n\t} else {\n\t\tvar c = $tw.config.htmlEntities[e];\n\t\tif(c) {\n\t\t\treturn String.fromCharCode(c);\n\t\t} else {\n\t\t\treturn s; // Couldn't convert it as an entity, just return it raw\n\t\t}\n\t}\n};\n\nexports.unescapeLineBreaks = function(s) {\n\treturn s.replace(/\\\\n/mg,\&quot;\\n\&quot;).replace(/\\\\b/mg,\&quot; \&quot;).replace(/\\\\s/mg,\&quot;\\\\\&quot;).replace(/\\r/mg,\&quot;\&quot;);\n};\n\n/*\n * Returns an escape sequence for given character. Uses \\x for characters &lt;=\n * 0xFF to save space, \\u for the rest.\n *\n * The code needs to be in sync with th code template in the compilation\n * function for \&quot;action\&quot; nodes.\n */\n// Copied from peg.js, thanks to David Majda\nexports.escape = function(ch) {\n\tvar charCode = ch.charCodeAt(0);\n\tif(charCode &lt;= 0xFF) {\n\t\treturn '\\\\x' + $tw.utils.pad(charCode.toString(16).toUpperCase());\n\t} else {\n\t\treturn '\\\\u' + $tw.utils.pad(charCode.toString(16).toUpperCase(),4);\n\t}\n};\n\n// Turns a string into a legal JavaScript string\n// Copied from peg.js, thanks to David Majda\nexports.stringify = function(s) {\n\t/*\n\t* ECMA-262, 5th ed., 7.8.4: All characters may appear literally in a string\n\t* literal except for the closing quote character, backslash, carriage return,\n\t* line separator, paragraph separator, and line feed. Any character may\n\t* appear in the form of an escape sequence.\n\t*\n\t* For portability, we also escape all non-ASCII characters.\n\t*/\n\treturn (s || \&quot;\&quot;)\n\t\t.replace(/\\\\/g, '\\\\\\\\')            // backslash\n\t\t.replace(/\&quot;/g, '\\\\\&quot;')              // double quote character\n\t\t.replace(/'/g, \&quot;\\\\'\&quot;)              // single quote character\n\t\t.replace(/\\r/g, '\\\\r')             // carriage return\n\t\t.replace(/\\n/g, '\\\\n')             // line feed\n\t\t.replace(/[\\x80-\\uFFFF]/g, exports.escape); // non-ASCII characters\n};\n\n/*\nEscape the RegExp special characters with a preceding backslash\n*/\nexports.escapeRegExp = function(s) {\n    return s.replace(/[\\-\\/\\\\\\^\\$\\*\\+\\?\\.\\(\\)\\|\\[\\]\\{\\}]/g, '\\\\$&amp;');\n};\n\n// Checks whether a link target is external, i.e. not a tiddler title\nexports.isLinkExternal = function(to) {\n\tvar externalRegExp = /(?:file|http|https|mailto|ftp|irc|news|data|skype):[^\\s&lt;&gt;{}\\[\\]`|'\&quot;\\\\^~]+(?:\\/|\\b)/i;\n\treturn externalRegExp.test(to);\n};\n\nexports.nextTick = function(fn) {\n/*global window: false */\n\tif(typeof process === \&quot;undefined\&quot;) {\n\t\t// Apparently it would be faster to use postMessage - http://dbaron.org/log/20100309-faster-timeouts\n\t\twindow.setTimeout(fn,4);\n\t} else {\n\t\tprocess.nextTick(fn);\n\t}\n};\n\n/*\nConvert a hyphenated CSS property name into a camel case one\n*/\nexports.unHyphenateCss = function(propName) {\n\treturn propName.replace(/-([a-z])/gi, function(match0,match1) {\n\t\treturn match1.toUpperCase();\n\t});\n};\n\n/*\nConvert a camelcase CSS property name into a dashed one (\&quot;backgroundColor\&quot; --&gt; \&quot;background-color\&quot;)\n*/\nexports.hyphenateCss = function(propName) {\n\treturn propName.replace(/([A-Z])/g, function(match0,match1) {\n\t\treturn \&quot;-\&quot; + match1.toLowerCase();\n\t});\n};\n\n/*\nParse a text reference of one of these forms:\n* title\n* !!field\n* title!!field\n* title##index\n* etc\nReturns an object with the following fields, all optional:\n* title: tiddler title\n* field: tiddler field name\n* index: JSON property index\n*/\nexports.parseTextReference = function(textRef) {\n\t// Separate out the title, field name and/or JSON indices\n\tvar reTextRef = /(?:(.*?)!!(.+))|(?:(.*?)##(.+))|(.*)/mg,\n\t\tmatch = reTextRef.exec(textRef),\n\t\tresult = {};\n\tif(match &amp;&amp; reTextRef.lastIndex === textRef.length) {\n\t\t// Return the parts\n\t\tif(match[1]) {\n\t\t\tresult.title = match[1];\n\t\t}\n\t\tif(match[2]) {\n\t\t\tresult.field = match[2];\n\t\t}\n\t\tif(match[3]) {\n\t\t\tresult.title = match[3];\n\t\t}\n\t\tif(match[4]) {\n\t\t\tresult.index = match[4];\n\t\t}\n\t\tif(match[5]) {\n\t\t\tresult.title = match[5];\n\t\t}\n\t} else {\n\t\t// If we couldn't parse it\n\t\tresult.title = textRef\n\t}\n\treturn result;\n};\n\n/*\nChecks whether a string is a valid fieldname\n*/\nexports.isValidFieldName = function(name) {\n\tif(!name || typeof name !== \&quot;string\&quot;) {\n\t\treturn false;\n\t}\n\tname = name.toLowerCase().trim();\n\tvar fieldValidatorRegEx = /^[a-z0-9\\-\\._]+$/mg;\n\treturn fieldValidatorRegEx.test(name);\n};\n\n/*\nExtract the version number from the meta tag or from the boot file\n*/\n\n// Browser version\nexports.extractVersionInfo = function() {\n\tif($tw.packageInfo) {\n\t\treturn $tw.packageInfo.version;\n\t} else {\n\t\tvar metatags = document.getElementsByTagName(\&quot;meta\&quot;);\n\t\tfor(var t=0; t&lt;metatags.length; t++) {\n\t\t\tvar m = metatags[t];\n\t\t\tif(m.name === \&quot;tiddlywiki-version\&quot;) {\n\t\t\t\treturn m.content;\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nGet the animation duration in ms\n*/\nexports.getAnimationDuration = function() {\n\treturn parseInt($tw.wiki.getTiddlerText(\&quot;$:/config/AnimationDuration\&quot;,\&quot;400\&quot;),10);\n};\n\n/*\nHash a string to a number\nDerived from http://stackoverflow.com/a/15710692\n*/\nexports.hashString = function(str) {\n\treturn str.split(\&quot;\&quot;).reduce(function(a,b) {\n\t\ta = ((a &lt;&lt; 5) - a) + b.charCodeAt(0);\n\t\treturn a &amp; a;\n\t},0);\n};\n\n/*\nDecode a base64 string\n*/\nexports.base64Decode = function(string64) {\n\tif($tw.browser) {\n\t\t// TODO\n\t\tthrow \&quot;$tw.utils.base64Decode() doesn't work in the browser\&quot;;\n\t} else {\n\t\treturn (new Buffer(string64,\&quot;base64\&quot;)).toString();\n\t}\n};\n\n/*\nConvert a hashmap into a tiddler dictionary format sequence of name:value pairs\n*/\nexports.makeTiddlerDictionary = function(data) {\n\tvar output = [];\n\tfor(var name in data) {\n\t\toutput.push(name + \&quot;: \&quot; + data[name]);\n\t}\n\treturn output.join(\&quot;\\n\&quot;);\n};\n\n/*\nHigh resolution microsecond timer for profiling\n*/\nexports.timer = function(base) {\n\tvar m;\n\tif($tw.node) {\n\t\tvar r = process.hrtime();\t\t\n\t\tm =  r[0] * 1e3 + (r[1] / 1e6);\n\t} else if(window.performance) {\n\t\tm = performance.now();\n\t} else {\n\t\tm = Date.now();\n\t}\n\tif(typeof base !== \&quot;undefined\&quot;) {\n\t\tm = m - base;\n\t}\n\treturn m;\n};\n\n/*\nConvert text and content type to a data URI\n*/\nexports.makeDataUri = function(text,type) {\n\ttype = type || \&quot;text/vnd.tiddlywiki\&quot;;\n\tvar typeInfo = $tw.config.contentTypeInfo[type] || $tw.config.contentTypeInfo[\&quot;text/plain\&quot;],\n\t\tisBase64 = typeInfo.encoding === \&quot;base64\&quot;,\n\t\tparts = [];\n\tparts.push(\&quot;data:\&quot;);\n\tparts.push(type);\n\tparts.push(isBase64 ? \&quot;;base64\&quot; : \&quot;\&quot;);\n\tparts.push(\&quot;,\&quot;);\n\tparts.push(isBase64 ? text : encodeURIComponent(text));\n\treturn parts.join(\&quot;\&quot;);\n};\n\n/*\nUseful for finding out the fully escaped CSS selector equivalent to a given tag. For example:\n\n$tw.utils.tagToCssSelector(\&quot;$:/tags/Stylesheet\&quot;) --&gt; tc-tagged-\\%24\\%3A\\%2Ftags\\%2FStylesheet\n*/\nexports.tagToCssSelector = function(tagName) {\n\treturn \&quot;tc-tagged-\&quot; + encodeURIComponent(tagName).replace(/[!\&quot;#$%&amp;'()*+,\\-./:;&lt;=&gt;?@[\\\\\\]^`{\\|}~,]/mg,function(c) {\n\t\treturn \&quot;\\\\\&quot; + c;\n\t});\n};\n\n\n/*\nIE does not have sign function\n*/\nexports.sign = Math.sign || function(x) {\n\tx = +x; // convert to a number\n\tif (x === 0 || isNaN(x)) {\n\t\treturn x;\n\t}\n\treturn x &gt; 0 ? 1 : -1;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/utils/utils.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;utils&quot;
        },
        &quot;$:/core/modules/widgets/action-deletefield.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/action-deletefield.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to delete fields of a tiddler.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar DeleteFieldWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nDeleteFieldWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nDeleteFieldWidget.prototype.render = function(parent,nextSibling) {\n\tthis.computeAttributes();\n\tthis.execute();\n};\n\n/*\nCompute the internal state of the widget\n*/\nDeleteFieldWidget.prototype.execute = function() {\n\tthis.actionTiddler = this.getAttribute(\&quot;$tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\tthis.actionField = this.getAttribute(\&quot;$field\&quot;);\n};\n\n/*\nRefresh the widget by ensuring our attributes are up to date\n*/\nDeleteFieldWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes[\&quot;$tiddler\&quot;]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nInvoke the action associated with this widget\n*/\nDeleteFieldWidget.prototype.invokeAction = function(triggeringWidget,event) {\n\tvar self = this,\n\t\ttiddler = this.wiki.getTiddler(self.actionTiddler),\n\t\tremoveFields = {};\n\tif(this.actionField) {\n\t\tremoveFields[this.actionField] = undefined;\n\t}\n\tif(tiddler) {\n\t\t$tw.utils.each(this.attributes,function(attribute,name) {\n\t\t\tif(name.charAt(0) !== \&quot;$\&quot; &amp;&amp; name !== \&quot;title\&quot;) {\n\t\t\t\tremoveFields[name] = undefined;\n\t\t\t}\n\t\t});\n\t\tthis.wiki.addTiddler(new $tw.Tiddler(this.wiki.getModificationFields(),tiddler,removeFields,this.wiki.getCreationFields()));\n\t}\n\treturn true; // Action was invoked\n};\n\nexports[\&quot;action-deletefield\&quot;] = DeleteFieldWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/action-deletefield.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/action-deletetiddler.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/action-deletetiddler.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to delete a tiddler.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar DeleteTiddlerWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nDeleteTiddlerWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nDeleteTiddlerWidget.prototype.render = function(parent,nextSibling) {\n\tthis.computeAttributes();\n\tthis.execute();\n};\n\n/*\nCompute the internal state of the widget\n*/\nDeleteTiddlerWidget.prototype.execute = function() {\n\tthis.actionFilter = this.getAttribute(\&quot;$filter\&quot;);\n\tthis.actionTiddler = this.getAttribute(\&quot;$tiddler\&quot;);\n};\n\n/*\nRefresh the widget by ensuring our attributes are up to date\n*/\nDeleteTiddlerWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes[\&quot;$filter\&quot;] || changedAttributes[\&quot;$tiddler\&quot;]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nInvoke the action associated with this widget\n*/\nDeleteTiddlerWidget.prototype.invokeAction = function(triggeringWidget,event) {\n\tvar tiddlers = [];\n\tif(this.actionFilter) {\n\t\ttiddlers = this.wiki.filterTiddlers(this.actionFilter,this);\n\t}\n\tif(this.actionTiddler) {\n\t\ttiddlers.push(this.actionTiddler);\n\t}\n\tfor(var t=0; t&lt;tiddlers.length; t++) {\n\t\tthis.wiki.deleteTiddler(tiddlers[t]);\n\t}\n\treturn true; // Action was invoked\n};\n\nexports[\&quot;action-deletetiddler\&quot;] = DeleteTiddlerWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/action-deletetiddler.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/action-listops.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/action-listops.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to apply list operations to any tiddler field (defaults to the 'list' field of the current tiddler)\n\n\\*/\n(function() {\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\nvar ActionListopsWidget = function(parseTreeNode, options) {\n\tthis.initialise(parseTreeNode, options);\n};\n/**\n * Inherit from the base widget class\n */\nActionListopsWidget.prototype = new Widget();\n/**\n * Render this widget into the DOM\n */\nActionListopsWidget.prototype.render = function(parent, nextSibling) {\n\tthis.computeAttributes();\n\tthis.execute();\n};\n/**\n * Compute the internal state of the widget\n */\nActionListopsWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.target = this.getAttribute(\&quot;$tiddler\&quot;, this.getVariable(\n\t\t\&quot;currentTiddler\&quot;));\n\tthis.filter = this.getAttribute(\&quot;$filter\&quot;);\n\tthis.subfilter = this.getAttribute(\&quot;$subfilter\&quot;);\n\tthis.listField = this.getAttribute(\&quot;$field\&quot;, \&quot;list\&quot;);\n\tthis.listIndex = this.getAttribute(\&quot;$index\&quot;);\n\tthis.filtertags = this.getAttribute(\&quot;$tags\&quot;);\n};\n/**\n * \tRefresh the widget by ensuring our attributes are up to date\n */\nActionListopsWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.$tiddler || changedAttributes.$filter ||\n\t\tchangedAttributes.$subfilter || changedAttributes.$field ||\n\t\tchangedAttributes.$index || changedAttributes.$tags) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n/**\n * \tInvoke the action associated with this widget\n */\nActionListopsWidget.prototype.invokeAction = function(triggeringWidget,\n\tevent) {\n\t//Apply the specified filters to the lists\n\tvar field = this.listField,\n\t\tindex,\n\t\ttype = \&quot;!!\&quot;,\n\t\tlist = this.listField;\n\tif(this.listIndex) {\n\t\tfield = undefined;\n\t\tindex = this.listIndex;\n\t\ttype = \&quot;##\&quot;;\n\t\tlist = this.listIndex;\n\t}\n\tif(this.filter) {\n\t\tthis.wiki.setText(this.target, field, index, $tw.utils.stringifyList(\n\t\t\tthis.wiki\n\t\t\t.filterTiddlers(this.filter, this)));\n\t}\n\tif(this.subfilter) {\n\t\tvar subfilter = \&quot;[list[\&quot; + this.target + type + list + \&quot;]] \&quot; + this.subfilter;\n\t\tthis.wiki.setText(this.target, field, index, $tw.utils.stringifyList(\n\t\t\tthis.wiki\n\t\t\t.filterTiddlers(subfilter, this)));\n\t}\n\tif(this.filtertags) {\n\t\tvar tagfilter = \&quot;[list[\&quot; + this.target + \&quot;!!tags]] \&quot; + this.filtertags;\n\t\tthis.wiki.setText(this.target, \&quot;tags\&quot;, undefined, $tw.utils.stringifyList(\n\t\t\tthis.wiki.filterTiddlers(tagfilter, this)));\n\t}\n\treturn true; // Action was invoked\n};\n\nexports[\&quot;action-listops\&quot;] = ActionListopsWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/action-listops.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/action-navigate.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/action-navigate.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to navigate to a tiddler\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar NavigateWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nNavigateWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nNavigateWidget.prototype.render = function(parent,nextSibling) {\n\tthis.computeAttributes();\n\tthis.execute();\n};\n\n/*\nCompute the internal state of the widget\n*/\nNavigateWidget.prototype.execute = function() {\n\tthis.actionTo = this.getAttribute(\&quot;$to\&quot;);\n\tthis.actionScroll = this.getAttribute(\&quot;$scroll\&quot;);\n};\n\n/*\nRefresh the widget by ensuring our attributes are up to date\n*/\nNavigateWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes[\&quot;$to\&quot;] || changedAttributes[\&quot;$scroll\&quot;]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nInvoke the action associated with this widget\n*/\nNavigateWidget.prototype.invokeAction = function(triggeringWidget,event) {\n\tvar bounds = triggeringWidget &amp;&amp; triggeringWidget.getBoundingClientRect &amp;&amp; triggeringWidget.getBoundingClientRect(),\n\t\tsuppressNavigation = event.metaKey || event.ctrlKey || (event.button === 1);\n\tif(this.actionScroll === \&quot;yes\&quot;) {\n\t\tsuppressNavigation = false;\n\t} else if(this.actionScroll === \&quot;no\&quot;) {\n\t\tsuppressNavigation = true;\n\t}\n\tthis.dispatchEvent({\n\t\ttype: \&quot;tm-navigate\&quot;,\n\t\tnavigateTo: this.actionTo === undefined ? this.getVariable(\&quot;currentTiddler\&quot;) : this.actionTo,\n\t\tnavigateFromTitle: this.getVariable(\&quot;storyTiddler\&quot;),\n\t\tnavigateFromNode: triggeringWidget,\n\t\tnavigateFromClientRect: bounds &amp;&amp; { top: bounds.top, left: bounds.left, width: bounds.width, right: bounds.right, bottom: bounds.bottom, height: bounds.height\n\t\t},\n\t\tnavigateSuppressNavigation: suppressNavigation\n\t});\n\treturn true; // Action was invoked\n};\n\nexports[\&quot;action-navigate\&quot;] = NavigateWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/action-navigate.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/action-sendmessage.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/action-sendmessage.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to send a message\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar SendMessageWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nSendMessageWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nSendMessageWidget.prototype.render = function(parent,nextSibling) {\n\tthis.computeAttributes();\n\tthis.execute();\n};\n\n/*\nCompute the internal state of the widget\n*/\nSendMessageWidget.prototype.execute = function() {\n\tthis.actionMessage = this.getAttribute(\&quot;$message\&quot;);\n\tthis.actionParam = this.getAttribute(\&quot;$param\&quot;);\n\tthis.actionName = this.getAttribute(\&quot;$name\&quot;);\n\tthis.actionValue = this.getAttribute(\&quot;$value\&quot;,\&quot;\&quot;);\n};\n\n/*\nRefresh the widget by ensuring our attributes are up to date\n*/\nSendMessageWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(Object.keys(changedAttributes).length) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nInvoke the action associated with this widget\n*/\nSendMessageWidget.prototype.invokeAction = function(triggeringWidget,event) {\n\t// Get the string parameter\n\tvar param = this.actionParam;\n\t// Assemble the attributes as a hashmap\n\tvar paramObject = Object.create(null);\n\tvar count = 0;\n\t$tw.utils.each(this.attributes,function(attribute,name) {\n\t\tif(name.charAt(0) !== \&quot;$\&quot;) {\n\t\t\tparamObject[name] = attribute;\n\t\t\tcount++;\n\t\t}\n\t});\n\t// Add name/value pair if present\n\tif(this.actionName) {\n\t\tparamObject[this.actionName] = this.actionValue;\n\t}\n\t// Dispatch the message\n\tthis.dispatchEvent({\n\t\ttype: this.actionMessage,\n\t\tparam: param,\n\t\tparamObject: paramObject,\n\t\ttiddlerTitle: this.getVariable(\&quot;currentTiddler\&quot;),\n\t\tnavigateFromTitle: this.getVariable(\&quot;storyTiddler\&quot;)\n\t});\n\treturn true; // Action was invoked\n};\n\nexports[\&quot;action-sendmessage\&quot;] = SendMessageWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/action-sendmessage.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/action-setfield.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/action-setfield.js\ntype: application/javascript\nmodule-type: widget\n\nAction widget to set a single field or index on a tiddler.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar SetFieldWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nSetFieldWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nSetFieldWidget.prototype.render = function(parent,nextSibling) {\n\tthis.computeAttributes();\n\tthis.execute();\n};\n\n/*\nCompute the internal state of the widget\n*/\nSetFieldWidget.prototype.execute = function() {\n\tthis.actionTiddler = this.getAttribute(\&quot;$tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\tthis.actionField = this.getAttribute(\&quot;$field\&quot;);\n\tthis.actionIndex = this.getAttribute(\&quot;$index\&quot;);\n\tthis.actionValue = this.getAttribute(\&quot;$value\&quot;);\n\tthis.actionTimestamp = this.getAttribute(\&quot;$timestamp\&quot;,\&quot;yes\&quot;) === \&quot;yes\&quot;;\n};\n\n/*\nRefresh the widget by ensuring our attributes are up to date\n*/\nSetFieldWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes[\&quot;$tiddler\&quot;] || changedAttributes[\&quot;$field\&quot;] || changedAttributes[\&quot;$index\&quot;] || changedAttributes[\&quot;$value\&quot;]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nInvoke the action associated with this widget\n*/\nSetFieldWidget.prototype.invokeAction = function(triggeringWidget,event) {\n\tvar self = this,\n\t\toptions = {};\n\toptions.suppressTimestamp = !this.actionTimestamp;\n\tif((typeof this.actionField == \&quot;string\&quot;) || (typeof this.actionIndex == \&quot;string\&quot;)  || (typeof this.actionValue == \&quot;string\&quot;)) {\n\t\tthis.wiki.setText(this.actionTiddler,this.actionField,this.actionIndex,this.actionValue,options);\n\t}\n\t$tw.utils.each(this.attributes,function(attribute,name) {\n\t\tif(name.charAt(0) !== \&quot;$\&quot;) {\n\t\t\tself.wiki.setText(self.actionTiddler,name,undefined,attribute,options);\n\t\t}\n\t});\n\treturn true; // Action was invoked\n};\n\nexports[\&quot;action-setfield\&quot;] = SetFieldWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/action-setfield.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/browse.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/browse.js\ntype: application/javascript\nmodule-type: widget\n\nBrowse widget for browsing for files to import\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar BrowseWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nBrowseWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nBrowseWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create element\n\tvar domNode = this.document.createElement(\&quot;input\&quot;);\n\tdomNode.setAttribute(\&quot;type\&quot;,\&quot;file\&quot;);\n\tif(this.browseMultiple) {\n\t\tdomNode.setAttribute(\&quot;multiple\&quot;,\&quot;multiple\&quot;);\n\t}\n\tif(this.tooltip) {\n\t\tdomNode.setAttribute(\&quot;title\&quot;,this.tooltip);\n\t}\n\t// Nw.js supports \&quot;nwsaveas\&quot; to force a \&quot;save as\&quot; dialogue that allows a new or existing file to be selected\n\tif(this.nwsaveas) {\n\t\tdomNode.setAttribute(\&quot;nwsaveas\&quot;,this.nwsaveas);\n\t}\n\t// Nw.js supports \&quot;webkitdirectory\&quot; to allow a directory to be selected\n\tif(this.webkitdirectory) {\n\t\tdomNode.setAttribute(\&quot;webkitdirectory\&quot;,this.webkitdirectory);\n\t}\n\t// Add a click event handler\n\tdomNode.addEventListener(\&quot;change\&quot;,function (event) {\n\t\tif(self.message) {\n\t\t\tself.dispatchEvent({type: self.message, param: self.param, files: event.target.files});\n\t\t} else {\n\t\t\tself.wiki.readFiles(event.target.files,function(tiddlerFieldsArray) {\n\t\t\t\tself.dispatchEvent({type: \&quot;tm-import-tiddlers\&quot;, param: JSON.stringify(tiddlerFieldsArray)});\n\t\t\t});\n\t\t}\n\t\treturn false;\n\t},false);\n\t// Insert element\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nBrowseWidget.prototype.execute = function() {\n\tthis.browseMultiple = this.getAttribute(\&quot;multiple\&quot;);\n\tthis.message = this.getAttribute(\&quot;message\&quot;);\n\tthis.param = this.getAttribute(\&quot;param\&quot;);\n\tthis.tooltip = this.getAttribute(\&quot;tooltip\&quot;);\n\tthis.nwsaveas = this.getAttribute(\&quot;nwsaveas\&quot;);\n\tthis.webkitdirectory = this.getAttribute(\&quot;webkitdirectory\&quot;);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nBrowseWidget.prototype.refresh = function(changedTiddlers) {\n\treturn false;\n};\n\nexports.browse = BrowseWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/browse.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/button.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/button.js\ntype: application/javascript\nmodule-type: widget\n\nButton widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar ButtonWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nButtonWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nButtonWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create element\n\tvar tag = \&quot;button\&quot;;\n\tif(this.buttonTag &amp;&amp; $tw.config.htmlUnsafeElements.indexOf(this.buttonTag) === -1) {\n\t\ttag = this.buttonTag;\n\t}\n\tvar domNode = this.document.createElement(tag);\n\t// Assign classes\n\tvar classes = this[\&quot;class\&quot;].split(\&quot; \&quot;) || [],\n\t\tisPoppedUp = this.popup &amp;&amp; this.isPoppedUp();\n\tif(this.selectedClass) {\n\t\tif(this.set &amp;&amp; this.setTo &amp;&amp; this.isSelected()) {\n\t\t\t$tw.utils.pushTop(classes,this.selectedClass.split(\&quot; \&quot;));\n\t\t}\n\t\tif(isPoppedUp) {\n\t\t\t$tw.utils.pushTop(classes,this.selectedClass.split(\&quot; \&quot;));\n\t\t}\n\t}\n\tif(isPoppedUp) {\n\t\t$tw.utils.pushTop(classes,\&quot;tc-popup-handle\&quot;);\n\t}\n\tdomNode.className = classes.join(\&quot; \&quot;);\n\t// Assign other attributes\n\tif(this.style) {\n\t\tdomNode.setAttribute(\&quot;style\&quot;,this.style);\n\t}\n\tif(this.tooltip) {\n\t\tdomNode.setAttribute(\&quot;title\&quot;,this.tooltip);\n\t}\n\tif(this[\&quot;aria-label\&quot;]) {\n\t\tdomNode.setAttribute(\&quot;aria-label\&quot;,this[\&quot;aria-label\&quot;]);\n\t}\n\t// Add a click event handler\n\tdomNode.addEventListener(\&quot;click\&quot;,function (event) {\n\t\tvar handled = false;\n\t\tif(self.invokeActions(this,event)) {\n\t\t\thandled = true;\n\t\t}\n\t\tif(self.to) {\n\t\t\tself.navigateTo(event);\n\t\t\thandled = true;\n\t\t}\n\t\tif(self.message) {\n\t\t\tself.dispatchMessage(event);\n\t\t\thandled = true;\n\t\t}\n\t\tif(self.popup) {\n\t\t\tself.triggerPopup(event);\n\t\t\thandled = true;\n\t\t}\n\t\tif(self.set) {\n\t\t\tself.setTiddler();\n\t\t\thandled = true;\n\t\t}\n\t\tif(handled) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t}\n\t\treturn handled;\n\t},false);\n\t// Insert element\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\n/*\nWe don't allow actions to propagate because we trigger actions ourselves\n*/\nButtonWidget.prototype.allowActionPropagation = function() {\n\treturn false;\n};\n\nButtonWidget.prototype.getBoundingClientRect = function() {\n\treturn this.domNodes[0].getBoundingClientRect();\n};\n\nButtonWidget.prototype.isSelected = function() {\n    return this.wiki.getTextReference(this.set,this.defaultSetValue,this.getVariable(\&quot;currentTiddler\&quot;)) === this.setTo;\n};\n\nButtonWidget.prototype.isPoppedUp = function() {\n\tvar tiddler = this.wiki.getTiddler(this.popup);\n\tvar result = tiddler &amp;&amp; tiddler.fields.text ? $tw.popup.readPopupState(tiddler.fields.text) : false;\n\treturn result;\n};\n\nButtonWidget.prototype.navigateTo = function(event) {\n\tvar bounds = this.getBoundingClientRect();\n\tthis.dispatchEvent({\n\t\ttype: \&quot;tm-navigate\&quot;,\n\t\tnavigateTo: this.to,\n\t\tnavigateFromTitle: this.getVariable(\&quot;storyTiddler\&quot;),\n\t\tnavigateFromNode: this,\n\t\tnavigateFromClientRect: { top: bounds.top, left: bounds.left, width: bounds.width, right: bounds.right, bottom: bounds.bottom, height: bounds.height\n\t\t},\n\t\tnavigateSuppressNavigation: event.metaKey || event.ctrlKey || (event.button === 1)\n\t});\n};\n\nButtonWidget.prototype.dispatchMessage = function(event) {\n\tthis.dispatchEvent({type: this.message, param: this.param, tiddlerTitle: this.getVariable(\&quot;currentTiddler\&quot;)});\n};\n\nButtonWidget.prototype.triggerPopup = function(event) {\n\t$tw.popup.triggerPopup({\n\t\tdomNode: this.domNodes[0],\n\t\ttitle: this.popup,\n\t\twiki: this.wiki\n\t});\n};\n\nButtonWidget.prototype.setTiddler = function() {\n\tthis.wiki.setTextReference(this.set,this.setTo,this.getVariable(\&quot;currentTiddler\&quot;));\n};\n\n/*\nCompute the internal state of the widget\n*/\nButtonWidget.prototype.execute = function() {\n\t// Get attributes\n\tthis.to = this.getAttribute(\&quot;to\&quot;);\n\tthis.message = this.getAttribute(\&quot;message\&quot;);\n\tthis.param = this.getAttribute(\&quot;param\&quot;);\n\tthis.set = this.getAttribute(\&quot;set\&quot;);\n\tthis.setTo = this.getAttribute(\&quot;setTo\&quot;);\n\tthis.popup = this.getAttribute(\&quot;popup\&quot;);\n\tthis.hover = this.getAttribute(\&quot;hover\&quot;);\n\tthis[\&quot;class\&quot;] = this.getAttribute(\&quot;class\&quot;,\&quot;\&quot;);\n\tthis[\&quot;aria-label\&quot;] = this.getAttribute(\&quot;aria-label\&quot;);\n\tthis.tooltip = this.getAttribute(\&quot;tooltip\&quot;);\n\tthis.style = this.getAttribute(\&quot;style\&quot;);\n\tthis.selectedClass = this.getAttribute(\&quot;selectedClass\&quot;);\n\tthis.defaultSetValue = this.getAttribute(\&quot;default\&quot;,\&quot;\&quot;);\n\tthis.buttonTag = this.getAttribute(\&quot;tag\&quot;);\n\t// Make child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nButtonWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.to || changedAttributes.message || changedAttributes.param || changedAttributes.set || changedAttributes.setTo || changedAttributes.popup || changedAttributes.hover || changedAttributes[\&quot;class\&quot;] || changedAttributes.selectedClass || changedAttributes.style || (this.set &amp;&amp; changedTiddlers[this.set]) || (this.popup &amp;&amp; changedTiddlers[this.popup])) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.button = ButtonWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/button.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/checkbox.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/checkbox.js\ntype: application/javascript\nmodule-type: widget\n\nCheckbox widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar CheckboxWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nCheckboxWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nCheckboxWidget.prototype.render = function(parent,nextSibling) {\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Create our elements\n\tthis.labelDomNode = this.document.createElement(\&quot;label\&quot;);\n\tthis.labelDomNode.setAttribute(\&quot;class\&quot;,this.checkboxClass);\n\tthis.inputDomNode = this.document.createElement(\&quot;input\&quot;);\n\tthis.inputDomNode.setAttribute(\&quot;type\&quot;,\&quot;checkbox\&quot;);\n\tif(this.getValue()) {\n\t\tthis.inputDomNode.setAttribute(\&quot;checked\&quot;,\&quot;true\&quot;);\n\t}\n\tthis.labelDomNode.appendChild(this.inputDomNode);\n\tthis.spanDomNode = this.document.createElement(\&quot;span\&quot;);\n\tthis.labelDomNode.appendChild(this.spanDomNode);\n\t// Add a click event handler\n\t$tw.utils.addEventListeners(this.inputDomNode,[\n\t\t{name: \&quot;change\&quot;, handlerObject: this, handlerMethod: \&quot;handleChangeEvent\&quot;}\n\t]);\n\t// Insert the label into the DOM and render any children\n\tparent.insertBefore(this.labelDomNode,nextSibling);\n\tthis.renderChildren(this.spanDomNode,null);\n\tthis.domNodes.push(this.labelDomNode);\n};\n\nCheckboxWidget.prototype.getValue = function() {\n\tvar tiddler = this.wiki.getTiddler(this.checkboxTitle);\n\tif(tiddler) {\n\t\tif(this.checkboxTag) {\n\t\t\tif(this.checkboxInvertTag) {\n\t\t\t\treturn !tiddler.hasTag(this.checkboxTag);\n\t\t\t} else {\n\t\t\t\treturn tiddler.hasTag(this.checkboxTag);\n\t\t\t}\n\t\t}\n\t\tif(this.checkboxField) {\n\t\t\tvar value = tiddler.fields[this.checkboxField] || this.checkboxDefault || \&quot;\&quot;;\n\t\t\tif(value === this.checkboxChecked) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif(value === this.checkboxUnchecked) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif(this.checkboxTag) {\n\t\t\treturn false;\n\t\t}\n\t\tif(this.checkboxField) {\n\t\t\tif(this.checkboxDefault === this.checkboxChecked) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif(this.checkboxDefault === this.checkboxUnchecked) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n};\n\nCheckboxWidget.prototype.handleChangeEvent = function(event) {\n\tvar checked = this.inputDomNode.checked,\n\t\ttiddler = this.wiki.getTiddler(this.checkboxTitle),\n\t\tfallbackFields = {text: \&quot;\&quot;},\n\t\tnewFields = {title: this.checkboxTitle},\n\t\thasChanged = false,\n\t\ttagCheck = false,\n\t\thasTag = tiddler &amp;&amp; tiddler.hasTag(this.checkboxTag);\n\tif(this.checkboxTag &amp;&amp; this.checkboxInvertTag === \&quot;yes\&quot;) {\n\t\ttagCheck = hasTag === checked;\n\t} else {\n\t\ttagCheck = hasTag !== checked;\n\t}\n\t// Set the tag if specified\n\tif(this.checkboxTag &amp;&amp; (!tiddler || tagCheck)) {\n\t\tnewFields.tags = tiddler ? (tiddler.fields.tags || []).slice(0) : [];\n\t\tvar pos = newFields.tags.indexOf(this.checkboxTag);\n\t\tif(pos !== -1) {\n\t\t\tnewFields.tags.splice(pos,1);\n\t\t}\n\t\tif(this.checkboxInvertTag === \&quot;yes\&quot; &amp;&amp; !checked) {\n\t\t\tnewFields.tags.push(this.checkboxTag);\n\t\t} else if(this.checkboxInvertTag !== \&quot;yes\&quot; &amp;&amp; checked) {\n\t\t\tnewFields.tags.push(this.checkboxTag);\n\t\t}\n\t\thasChanged = true;\n\t}\n\t// Set the field if specified\n\tif(this.checkboxField) {\n\t\tvar value = checked ? this.checkboxChecked : this.checkboxUnchecked;\n\t\tif(!tiddler || tiddler.fields[this.checkboxField] !== value) {\n\t\t\tnewFields[this.checkboxField] = value;\n\t\t\thasChanged = true;\n\t\t}\n\t}\n\tif(hasChanged) {\n\t\tthis.wiki.addTiddler(new $tw.Tiddler(this.wiki.getCreationFields(),fallbackFields,tiddler,newFields,this.wiki.getModificationFields()));\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nCheckboxWidget.prototype.execute = function() {\n\t// Get the parameters from the attributes\n\tthis.checkboxTitle = this.getAttribute(\&quot;tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\tthis.checkboxTag = this.getAttribute(\&quot;tag\&quot;);\n\tthis.checkboxField = this.getAttribute(\&quot;field\&quot;);\n\tthis.checkboxChecked = this.getAttribute(\&quot;checked\&quot;);\n\tthis.checkboxUnchecked = this.getAttribute(\&quot;unchecked\&quot;);\n\tthis.checkboxDefault = this.getAttribute(\&quot;default\&quot;);\n\tthis.checkboxClass = this.getAttribute(\&quot;class\&quot;,\&quot;\&quot;);\n\tthis.checkboxInvertTag = this.getAttribute(\&quot;invertTag\&quot;,\&quot;\&quot;);\n\t// Make the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nCheckboxWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler || changedAttributes.tag || changedAttributes.invertTag || changedAttributes.field || changedAttributes.checked || changedAttributes.unchecked || changedAttributes[\&quot;default\&quot;] || changedAttributes[\&quot;class\&quot;]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\tvar refreshed = false;\n\t\tif(changedTiddlers[this.checkboxTitle]) {\n\t\t\tthis.inputDomNode.checked = this.getValue();\n\t\t\trefreshed = true;\n\t\t}\n\t\treturn this.refreshChildren(changedTiddlers) || refreshed;\n\t}\n};\n\nexports.checkbox = CheckboxWidget;\n\n})();&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/checkbox.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/codeblock.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/codeblock.js\ntype: application/javascript\nmodule-type: widget\n\nCode block node widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar CodeBlockWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nCodeBlockWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nCodeBlockWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar codeNode = this.document.createElement(\&quot;code\&quot;),\n\t\tdomNode = this.document.createElement(\&quot;pre\&quot;);\n\tcodeNode.appendChild(this.document.createTextNode(this.getAttribute(\&quot;code\&quot;)));\n\tdomNode.appendChild(codeNode);\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.domNodes.push(domNode);\n\tif(this.postRender) {\n\t\tthis.postRender();\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nCodeBlockWidget.prototype.execute = function() {\n\tthis.language = this.getAttribute(\&quot;language\&quot;);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nCodeBlockWidget.prototype.refresh = function(changedTiddlers) {\n\treturn false;\n};\n\nexports.codeblock = CodeBlockWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/codeblock.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/count.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/count.js\ntype: application/javascript\nmodule-type: widget\n\nCount widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar CountWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nCountWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nCountWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar textNode = this.document.createTextNode(this.currentCount);\n\tparent.insertBefore(textNode,nextSibling);\n\tthis.domNodes.push(textNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nCountWidget.prototype.execute = function() {\n\t// Get parameters from our attributes\n\tthis.filter = this.getAttribute(\&quot;filter\&quot;);\n\t// Execute the filter\n\tif(this.filter) {\n\t\tthis.currentCount = this.wiki.filterTiddlers(this.filter,this).length;\n\t} else {\n\t\tthis.currentCount = undefined;\n\t}\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nCountWidget.prototype.refresh = function(changedTiddlers) {\n\t// Re-execute the filter to get the count\n\tthis.computeAttributes();\n\tvar oldCount = this.currentCount;\n\tthis.execute();\n\tif(this.currentCount !== oldCount) {\n\t\t// Regenerate and rerender the widget and replace the existing DOM node\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n\n};\n\nexports.count = CountWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/count.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/dropzone.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/dropzone.js\ntype: application/javascript\nmodule-type: widget\n\nDropzone widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar DropZoneWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nDropZoneWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nDropZoneWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create element\n\tvar domNode = this.document.createElement(\&quot;div\&quot;);\n\tdomNode.className = \&quot;tc-dropzone\&quot;;\n\t// Add event handlers\n\t$tw.utils.addEventListeners(domNode,[\n\t\t{name: \&quot;dragenter\&quot;, handlerObject: this, handlerMethod: \&quot;handleDragEnterEvent\&quot;},\n\t\t{name: \&quot;dragover\&quot;, handlerObject: this, handlerMethod: \&quot;handleDragOverEvent\&quot;},\n\t\t{name: \&quot;dragleave\&quot;, handlerObject: this, handlerMethod: \&quot;handleDragLeaveEvent\&quot;},\n\t\t{name: \&quot;drop\&quot;, handlerObject: this, handlerMethod: \&quot;handleDropEvent\&quot;},\n\t\t{name: \&quot;paste\&quot;, handlerObject: this, handlerMethod: \&quot;handlePasteEvent\&quot;}\n\t]);\n\tdomNode.addEventListener(\&quot;click\&quot;,function (event) {\n\t},false);\n\t// Insert element\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\nDropZoneWidget.prototype.enterDrag = function() {\n\t// Check for this window being the source of the drag\n\tif($tw.dragInProgress) {\n\t\treturn false;\n\t}\n\t// We count enter/leave events\n\tthis.dragEnterCount = (this.dragEnterCount || 0) + 1;\n\t// If we're entering for the first time we need to apply highlighting\n\tif(this.dragEnterCount === 1) {\n\t\t$tw.utils.addClass(this.domNodes[0],\&quot;tc-dragover\&quot;);\n\t}\n};\n\nDropZoneWidget.prototype.leaveDrag = function() {\n\t// Reduce the enter count\n\tthis.dragEnterCount = (this.dragEnterCount || 0) - 1;\n\t// Remove highlighting if we're leaving externally\n\tif(this.dragEnterCount &lt;= 0) {\n\t\t$tw.utils.removeClass(this.domNodes[0],\&quot;tc-dragover\&quot;);\n\t}\n};\n\nDropZoneWidget.prototype.handleDragEnterEvent  = function(event) {\n\tthis.enterDrag();\n\t// Tell the browser that we're ready to handle the drop\n\tevent.preventDefault();\n\t// Tell the browser not to ripple the drag up to any parent drop handlers\n\tevent.stopPropagation();\n};\n\nDropZoneWidget.prototype.handleDragOverEvent  = function(event) {\n\t// Check for being over a TEXTAREA or INPUT\n\tif([\&quot;TEXTAREA\&quot;,\&quot;INPUT\&quot;].indexOf(event.target.tagName) !== -1) {\n\t\treturn false;\n\t}\n\t// Check for this window being the source of the drag\n\tif($tw.dragInProgress) {\n\t\treturn false;\n\t}\n\t// Tell the browser that we're still interested in the drop\n\tevent.preventDefault();\n\tevent.dataTransfer.dropEffect = \&quot;copy\&quot;; // Explicitly show this is a copy\n};\n\nDropZoneWidget.prototype.handleDragLeaveEvent  = function(event) {\n\tthis.leaveDrag();\n};\n\nDropZoneWidget.prototype.handleDropEvent  = function(event) {\n\tthis.leaveDrag();\n\t// Check for being over a TEXTAREA or INPUT\n\tif([\&quot;TEXTAREA\&quot;,\&quot;INPUT\&quot;].indexOf(event.target.tagName) !== -1) {\n\t\treturn false;\n\t}\n\t// Check for this window being the source of the drag\n\tif($tw.dragInProgress) {\n\t\treturn false;\n\t}\n\tvar self = this,\n\t\tdataTransfer = event.dataTransfer;\n\t// Reset the enter count\n\tthis.dragEnterCount = 0;\n\t// Remove highlighting\n\t$tw.utils.removeClass(this.domNodes[0],\&quot;tc-dragover\&quot;);\n\t// Import any files in the drop\n\tvar numFiles = this.wiki.readFiles(dataTransfer.files,function(tiddlerFieldsArray) {\n\t\tself.dispatchEvent({type: \&quot;tm-import-tiddlers\&quot;, param: JSON.stringify(tiddlerFieldsArray)});\n\t});\n\t// Try to import the various data types we understand\n\tif(numFiles === 0) {\n\t\tthis.importData(dataTransfer);\n\t}\n\t// Tell the browser that we handled the drop\n\tevent.preventDefault();\n\t// Stop the drop ripple up to any parent handlers\n\tevent.stopPropagation();\n};\n\nDropZoneWidget.prototype.importData = function(dataTransfer) {\n\t// Try each provided data type in turn\n\tfor(var t=0; t&lt;this.importDataTypes.length; t++) {\n\t\tif(!$tw.browser.isIE || this.importDataTypes[t].IECompatible) {\n\t\t\t// Get the data\n\t\t\tvar dataType = this.importDataTypes[t];\n\t\t\t\tvar data = dataTransfer.getData(dataType.type);\n\t\t\t// Import the tiddlers in the data\n\t\t\tif(data !== \&quot;\&quot; &amp;&amp; data !== null) {\n\t\t\t\tif($tw.log.IMPORT) {\n\t\t\t\t\tconsole.log(\&quot;Importing data type '\&quot; + dataType.type + \&quot;', data: '\&quot; + data + \&quot;'\&quot;)\n\t\t\t\t}\n\t\t\t\tvar tiddlerFields = dataType.convertToFields(data);\n\t\t\t\tif(!tiddlerFields.title) {\n\t\t\t\t\ttiddlerFields.title = this.wiki.generateNewTitle(\&quot;Untitled\&quot;);\n\t\t\t\t}\n\t\t\t\tthis.dispatchEvent({type: \&quot;tm-import-tiddlers\&quot;, param: JSON.stringify([tiddlerFields])});\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n};\n\nDropZoneWidget.prototype.importDataTypes = [\n\t{type: \&quot;text/vnd.tiddler\&quot;, IECompatible: false, convertToFields: function(data) {\n\t\treturn JSON.parse(data);\n\t}},\n\t{type: \&quot;URL\&quot;, IECompatible: true, convertToFields: function(data) {\n\t\t// Check for tiddler data URI\n\t\tvar match = decodeURIComponent(data).match(/^data\\:text\\/vnd\\.tiddler,(.*)/i);\n\t\tif(match) {\n\t\t\treturn JSON.parse(match[1]);\n\t\t} else {\n\t\t\treturn { // As URL string\n\t\t\t\ttext: data\n\t\t\t};\n\t\t}\n\t}},\n\t{type: \&quot;text/x-moz-url\&quot;, IECompatible: false, convertToFields: function(data) {\n\t\t// Check for tiddler data URI\n\t\tvar match = decodeURIComponent(data).match(/^data\\:text\\/vnd\\.tiddler,(.*)/i);\n\t\tif(match) {\n\t\t\treturn JSON.parse(match[1]);\n\t\t} else {\n\t\t\treturn { // As URL string\n\t\t\t\ttext: data\n\t\t\t};\n\t\t}\n\t}},\n\t{type: \&quot;text/html\&quot;, IECompatible: false, convertToFields: function(data) {\n\t\treturn {\n\t\t\ttext: data\n\t\t};\n\t}},\n\t{type: \&quot;text/plain\&quot;, IECompatible: false, convertToFields: function(data) {\n\t\treturn {\n\t\t\ttext: data\n\t\t};\n\t}},\n\t{type: \&quot;Text\&quot;, IECompatible: true, convertToFields: function(data) {\n\t\treturn {\n\t\t\ttext: data\n\t\t};\n\t}},\n\t{type: \&quot;text/uri-list\&quot;, IECompatible: false, convertToFields: function(data) {\n\t\treturn {\n\t\t\ttext: data\n\t\t};\n\t}}\n];\n\nDropZoneWidget.prototype.handlePasteEvent  = function(event) {\n\t// Let the browser handle it if we're in a textarea or input box\n\tif([\&quot;TEXTAREA\&quot;,\&quot;INPUT\&quot;].indexOf(event.target.tagName) == -1) {\n\t\tvar self = this,\n\t\t\titems = event.clipboardData.items;\n\t\t// Enumerate the clipboard items\n\t\tfor(var t = 0; t&lt;items.length; t++) {\n\t\t\tvar item = items[t];\n\t\t\tif(item.kind === \&quot;file\&quot;) {\n\t\t\t\t// Import any files\n\t\t\t\tthis.wiki.readFile(item.getAsFile(),function(tiddlerFieldsArray) {\n\t\t\t\t\tself.dispatchEvent({type: \&quot;tm-import-tiddlers\&quot;, param: JSON.stringify(tiddlerFieldsArray)});\n\t\t\t\t});\n\t\t\t} else if(item.kind === \&quot;string\&quot;) {\n\t\t\t\t// Create tiddlers from string items\n\t\t\t\tvar type = item.type;\n\t\t\t\titem.getAsString(function(str) {\n\t\t\t\t\tvar tiddlerFields = {\n\t\t\t\t\t\ttitle: self.wiki.generateNewTitle(\&quot;Untitled\&quot;),\n\t\t\t\t\t\ttext: str,\n\t\t\t\t\t\ttype: type\n\t\t\t\t\t};\n\t\t\t\t\tif($tw.log.IMPORT) {\n\t\t\t\t\t\tconsole.log(\&quot;Importing string '\&quot; + str + \&quot;', type: '\&quot; + type + \&quot;'\&quot;);\n\t\t\t\t\t}\n\t\t\t\t\tself.dispatchEvent({type: \&quot;tm-import-tiddlers\&quot;, param: JSON.stringify([tiddlerFields])});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t// Tell the browser that we've handled the paste\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nDropZoneWidget.prototype.execute = function() {\n\t// Make child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nDropZoneWidget.prototype.refresh = function(changedTiddlers) {\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.dropzone = DropZoneWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/dropzone.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/edit-binary.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/edit-binary.js\ntype: application/javascript\nmodule-type: widget\n\nEdit-binary widget; placeholder for editing binary tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar BINARY_WARNING_MESSAGE = \&quot;$:/core/ui/BinaryWarning\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar EditBinaryWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEditBinaryWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEditBinaryWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nEditBinaryWidget.prototype.execute = function() {\n\t// Construct the child widgets\n\tthis.makeChildWidgets([{\n\t\ttype: \&quot;transclude\&quot;,\n\t\tattributes: {\n\t\t\ttiddler: {type: \&quot;string\&quot;, value: BINARY_WARNING_MESSAGE}\n\t\t}\n\t}]);\n};\n\n/*\nRefresh by refreshing our child widget\n*/\nEditBinaryWidget.prototype.refresh = function(changedTiddlers) {\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports[\&quot;edit-binary\&quot;] = EditBinaryWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/edit-binary.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/edit-bitmap.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/edit-bitmap.js\ntype: application/javascript\nmodule-type: widget\n\nEdit-bitmap widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Default image sizes\nvar DEFAULT_IMAGE_WIDTH = 300,\n\tDEFAULT_IMAGE_HEIGHT = 185;\n\n// Configuration tiddlers\nvar LINE_WIDTH_TITLE = \&quot;$:/config/BitmapEditor/LineWidth\&quot;,\n\tLINE_COLOUR_TITLE = \&quot;$:/config/BitmapEditor/Colour\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar EditBitmapWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEditBitmapWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEditBitmapWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Create our element\n\tthis.canvasDomNode = $tw.utils.domMaker(\&quot;canvas\&quot;,{\n\t\tdocument: this.document,\n\t\t\&quot;class\&quot;:\&quot;tc-edit-bitmapeditor\&quot;,\n\t\teventListeners: [{\n\t\t\tname: \&quot;touchstart\&quot;, handlerObject: this, handlerMethod: \&quot;handleTouchStartEvent\&quot;\n\t\t},{\n\t\t\tname: \&quot;touchmove\&quot;, handlerObject: this, handlerMethod: \&quot;handleTouchMoveEvent\&quot;\n\t\t},{\n\t\t\tname: \&quot;touchend\&quot;, handlerObject: this, handlerMethod: \&quot;handleTouchEndEvent\&quot;\n\t\t},{\n\t\t\tname: \&quot;mousedown\&quot;, handlerObject: this, handlerMethod: \&quot;handleMouseDownEvent\&quot;\n\t\t},{\n\t\t\tname: \&quot;mousemove\&quot;, handlerObject: this, handlerMethod: \&quot;handleMouseMoveEvent\&quot;\n\t\t},{\n\t\t\tname: \&quot;mouseup\&quot;, handlerObject: this, handlerMethod: \&quot;handleMouseUpEvent\&quot;\n\t\t}]\n\t});\n\tthis.widthDomNode = $tw.utils.domMaker(\&quot;input\&quot;,{\n\t\tdocument: this.document,\n\t\t\&quot;class\&quot;:\&quot;tc-edit-bitmapeditor-width\&quot;,\n\t\teventListeners: [{\n\t\t\tname: \&quot;change\&quot;, handlerObject: this, handlerMethod: \&quot;handleWidthChangeEvent\&quot;\n\t\t}]\n\t});\n\tthis.heightDomNode = $tw.utils.domMaker(\&quot;input\&quot;,{\n\t\tdocument: this.document,\n\t\t\&quot;class\&quot;:\&quot;tc-edit-bitmapeditor-height\&quot;,\n\t\teventListeners: [{\n\t\t\tname: \&quot;change\&quot;, handlerObject: this, handlerMethod: \&quot;handleHeightChangeEvent\&quot;\n\t\t}]\n\t});\n\t// Insert the elements into the DOM\n\tparent.insertBefore(this.canvasDomNode,nextSibling);\n\tparent.insertBefore(this.widthDomNode,nextSibling);\n\tparent.insertBefore(this.heightDomNode,nextSibling);\n\tthis.domNodes.push(this.canvasDomNode,this.widthDomNode,this.heightDomNode);\n\t// Load the image into the canvas\n\tif($tw.browser) {\n\t\tthis.loadCanvas();\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nEditBitmapWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.editTitle = this.getAttribute(\&quot;tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n};\n\n/*\nNote that the bitmap editor intentionally doesn't try to refresh itself because it would be confusing to have the image changing spontaneously while editting it\n*/\nEditBitmapWidget.prototype.refresh = function(changedTiddlers) {\n\treturn false;\n};\n\nEditBitmapWidget.prototype.loadCanvas = function() {\n\tvar tiddler = this.wiki.getTiddler(this.editTitle),\n\t\tcurrImage = new Image();\n\t// Set up event handlers for loading the image\n\tvar self = this;\n\tcurrImage.onload = function() {\n\t\t// Copy the image to the on-screen canvas\n\t\tself.initCanvas(self.canvasDomNode,currImage.width,currImage.height,currImage);\n\t\t// And also copy the current bitmap to the off-screen canvas\n\t\tself.currCanvas = self.document.createElement(\&quot;canvas\&quot;);\n\t\tself.initCanvas(self.currCanvas,currImage.width,currImage.height,currImage);\n\t\t// Set the width and height input boxes\n\t\tself.updateSize();\n\t};\n\tcurrImage.onerror = function() {\n\t\t// Set the on-screen canvas size and clear it\n\t\tself.initCanvas(self.canvasDomNode,DEFAULT_IMAGE_WIDTH,DEFAULT_IMAGE_HEIGHT);\n\t\t// Set the off-screen canvas size and clear it\n\t\tself.currCanvas = self.document.createElement(\&quot;canvas\&quot;);\n\t\tself.initCanvas(self.currCanvas,DEFAULT_IMAGE_WIDTH,DEFAULT_IMAGE_HEIGHT);\n\t\t// Set the width and height input boxes\n\t\tself.updateSize();\n\t};\n\t// Get the current bitmap into an image object\n\tcurrImage.src = \&quot;data:\&quot; + tiddler.fields.type + \&quot;;base64,\&quot; + tiddler.fields.text;\n};\n\nEditBitmapWidget.prototype.initCanvas = function(canvas,width,height,image) {\n\tcanvas.width = width;\n\tcanvas.height = height;\n\tvar ctx = canvas.getContext(\&quot;2d\&quot;);\n\tif(image) {\n\t\tctx.drawImage(image,0,0);\n\t} else {\n\t\tctx.fillStyle = \&quot;#fff\&quot;;\n\t\tctx.fillRect(0,0,canvas.width,canvas.height);\n\t}\n};\n\n/*\n** Update the input boxes with the actual size of the canvas\n*/\nEditBitmapWidget.prototype.updateSize = function() {\n\tthis.widthDomNode.value = this.currCanvas.width;\n\tthis.heightDomNode.value = this.currCanvas.height;\n};\n\n/*\n** Change the size of the canvas, preserving the current image\n*/\nEditBitmapWidget.prototype.changeCanvasSize = function(newWidth,newHeight) {\n\t// Create and size a new canvas\n\tvar newCanvas = this.document.createElement(\&quot;canvas\&quot;);\n\tthis.initCanvas(newCanvas,newWidth,newHeight);\n\t// Copy the old image\n\tvar ctx = newCanvas.getContext(\&quot;2d\&quot;);\n\tctx.drawImage(this.currCanvas,0,0);\n\t// Set the new canvas as the current one\n\tthis.currCanvas = newCanvas;\n\t// Set the size of the onscreen canvas\n\tthis.canvasDomNode.width = newWidth;\n\tthis.canvasDomNode.height = newHeight;\n\t// Paint the onscreen canvas with the offscreen canvas\n\tctx = this.canvasDomNode.getContext(\&quot;2d\&quot;);\n\tctx.drawImage(this.currCanvas,0,0);\n};\n\nEditBitmapWidget.prototype.handleWidthChangeEvent = function(event) {\n\t// Get the new width\n\tvar newWidth = parseInt(this.widthDomNode.value,10);\n\t// Update if necessary\n\tif(newWidth &gt; 0 &amp;&amp; newWidth !== this.currCanvas.width) {\n\t\tthis.changeCanvasSize(newWidth,this.currCanvas.height);\n\t}\n\t// Update the input controls\n\tthis.updateSize();\n};\n\nEditBitmapWidget.prototype.handleHeightChangeEvent = function(event) {\n\t// Get the new width\n\tvar newHeight = parseInt(this.heightDomNode.value,10);\n\t// Update if necessary\n\tif(newHeight &gt; 0 &amp;&amp; newHeight !== this.currCanvas.height) {\n\t\tthis.changeCanvasSize(this.currCanvas.width,newHeight);\n\t}\n\t// Update the input controls\n\tthis.updateSize();\n};\n\nEditBitmapWidget.prototype.handleTouchStartEvent = function(event) {\n\tthis.brushDown = true;\n\tthis.strokeStart(event.touches[0].clientX,event.touches[0].clientY);\n\tevent.preventDefault();\n\tevent.stopPropagation();\n\treturn false;\n};\n\nEditBitmapWidget.prototype.handleTouchMoveEvent = function(event) {\n\tif(this.brushDown) {\n\t\tthis.strokeMove(event.touches[0].clientX,event.touches[0].clientY);\n\t}\n\tevent.preventDefault();\n\tevent.stopPropagation();\n\treturn false;\n};\n\nEditBitmapWidget.prototype.handleTouchEndEvent = function(event) {\n\tif(this.brushDown) {\n\t\tthis.brushDown = false;\n\t\tthis.strokeEnd();\n\t}\n\tevent.preventDefault();\n\tevent.stopPropagation();\n\treturn false;\n};\n\nEditBitmapWidget.prototype.handleMouseDownEvent = function(event) {\n\tthis.strokeStart(event.clientX,event.clientY);\n\tthis.brushDown = true;\n\tevent.preventDefault();\n\tevent.stopPropagation();\n\treturn false;\n};\n\nEditBitmapWidget.prototype.handleMouseMoveEvent = function(event) {\n\tif(this.brushDown) {\n\t\tthis.strokeMove(event.clientX,event.clientY);\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nEditBitmapWidget.prototype.handleMouseUpEvent = function(event) {\n\tif(this.brushDown) {\n\t\tthis.brushDown = false;\n\t\tthis.strokeEnd();\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nEditBitmapWidget.prototype.adjustCoordinates = function(x,y) {\n\tvar canvasRect = this.canvasDomNode.getBoundingClientRect(),\n\t\tscale = this.canvasDomNode.width/canvasRect.width;\n\treturn {x: (x - canvasRect.left) * scale, y: (y - canvasRect.top) * scale};\n};\n\nEditBitmapWidget.prototype.strokeStart = function(x,y) {\n\t// Start off a new stroke\n\tthis.stroke = [this.adjustCoordinates(x,y)];\n};\n\nEditBitmapWidget.prototype.strokeMove = function(x,y) {\n\tvar ctx = this.canvasDomNode.getContext(\&quot;2d\&quot;),\n\t\tt;\n\t// Add the new position to the end of the stroke\n\tthis.stroke.push(this.adjustCoordinates(x,y));\n\t// Redraw the previous image\n\tctx.drawImage(this.currCanvas,0,0);\n\t// Render the stroke\n\tctx.strokeStyle = this.wiki.getTiddlerText(LINE_COLOUR_TITLE,\&quot;#ff0\&quot;);\n\tctx.lineWidth = parseInt(this.wiki.getTiddlerText(LINE_WIDTH_TITLE,\&quot;3\&quot;),10);\n\tctx.lineCap = \&quot;round\&quot;;\n\tctx.lineJoin = \&quot;round\&quot;;\n\tctx.beginPath();\n\tctx.moveTo(this.stroke[0].x,this.stroke[0].y);\n\tfor(t=1; t&lt;this.stroke.length-1; t++) {\n\t\tvar s1 = this.stroke[t],\n\t\t\ts2 = this.stroke[t-1],\n\t\t\ttx = (s1.x + s2.x)/2,\n\t\t\tty = (s1.y + s2.y)/2;\n\t\tctx.quadraticCurveTo(s2.x,s2.y,tx,ty);\n\t}\n\tctx.stroke();\n};\n\nEditBitmapWidget.prototype.strokeEnd = function() {\n\t// Copy the bitmap to the off-screen canvas\n\tvar ctx = this.currCanvas.getContext(\&quot;2d\&quot;);\n\tctx.drawImage(this.canvasDomNode,0,0);\n\t// Save the image into the tiddler\n\tthis.saveChanges();\n};\n\nEditBitmapWidget.prototype.saveChanges = function() {\n\tvar tiddler = this.wiki.getTiddler(this.editTitle);\n\tif(tiddler) {\n\t\t// data URIs look like \&quot;data:&lt;type&gt;;base64,&lt;text&gt;\&quot;\n\t\tvar dataURL = this.canvasDomNode.toDataURL(tiddler.fields.type,1.0),\n\t\t\tposColon = dataURL.indexOf(\&quot;:\&quot;),\n\t\t\tposSemiColon = dataURL.indexOf(\&quot;;\&quot;),\n\t\t\tposComma = dataURL.indexOf(\&quot;,\&quot;),\n\t\t\ttype = dataURL.substring(posColon+1,posSemiColon),\n\t\t\ttext = dataURL.substring(posComma+1);\n\t\tvar update = {type: type, text: text};\n\t\tthis.wiki.addTiddler(new $tw.Tiddler(this.wiki.getModificationFields(),tiddler,update,this.wiki.getCreationFields()));\n\t}\n};\n\nexports[\&quot;edit-bitmap\&quot;] = EditBitmapWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/edit-bitmap.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/edit-text.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/edit-text.js\ntype: application/javascript\nmodule-type: widget\n\nEdit-text widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar DEFAULT_MIN_TEXT_AREA_HEIGHT = \&quot;100px\&quot;; // Minimum height of textareas in pixels\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar EditTextWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEditTextWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEditTextWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Create our element\n\tvar editInfo = this.getEditInfo(),\n\t\ttag = this.editTag;\n\tif($tw.config.htmlUnsafeElements.indexOf(tag) !== -1) {\n\t\ttag = \&quot;input\&quot;;\n\t}\n\tvar domNode = this.document.createElement(tag);\n\tif(this.editType) {\n\t\tdomNode.setAttribute(\&quot;type\&quot;,this.editType);\n\t}\n\tif(editInfo.value === \&quot;\&quot; &amp;&amp; this.editPlaceholder) {\n\t\tdomNode.setAttribute(\&quot;placeholder\&quot;,this.editPlaceholder);\n\t}\n\tif(this.editSize) {\n\t\tdomNode.setAttribute(\&quot;size\&quot;,this.editSize);\n\t}\n\tif(this.editRows) {\n\t\tdomNode.setAttribute(\&quot;rows\&quot;,this.editRows);\n\t}\n\t// Assign classes\n\tif(this.editClass) {\n\t\tdomNode.className = this.editClass;\n\t}\n\t// Set the text\n\tif(this.editTag === \&quot;textarea\&quot;) {\n\t\tdomNode.appendChild(this.document.createTextNode(editInfo.value));\n\t} else {\n\t\tdomNode.value = editInfo.value;\n\t}\n\t// Add an input event handler\n\t$tw.utils.addEventListeners(domNode,[\n\t\t{name: \&quot;focus\&quot;, handlerObject: this, handlerMethod: \&quot;handleFocusEvent\&quot;},\n\t\t{name: \&quot;input\&quot;, handlerObject: this, handlerMethod: \&quot;handleInputEvent\&quot;}\n\t]);\n\t// Insert the element into the DOM\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.domNodes.push(domNode);\n\tif(this.postRender) {\n\t\tthis.postRender();\n\t}\n\t// Fix height\n\tthis.fixHeight();\n\t// Focus field\n\tif(this.editFocus === \&quot;true\&quot;) {\n\t\tif(domNode.focus &amp;&amp; domNode.select) {\n\t\t\tdomNode.focus();\n\t\t\tdomNode.select();\n\t\t}\n\t}\n};\n\n/*\nGet the tiddler being edited and current value\n*/\nEditTextWidget.prototype.getEditInfo = function() {\n\t// Get the edit value\n\tvar self = this,\n\t\tvalue,\n\t\tupdate;\n\tif(this.editIndex) {\n\t\tvalue = this.wiki.extractTiddlerDataItem(this.editTitle,this.editIndex,this.editDefault);\n\t\tupdate = function(value) {\n\t\t\tvar data = self.wiki.getTiddlerData(self.editTitle,{});\n\t\t\tif(data[self.editIndex] !== value) {\n\t\t\t\tdata[self.editIndex] = value;\n\t\t\t\tself.wiki.setTiddlerData(self.editTitle,data);\n\t\t\t}\n\t\t};\n\t} else {\n\t\t// Get the current tiddler and the field name\n\t\tvar tiddler = this.wiki.getTiddler(this.editTitle);\n\t\tif(tiddler) {\n\t\t\t// If we've got a tiddler, the value to display is the field string value\n\t\t\tvalue = tiddler.getFieldString(this.editField);\n\t\t} else {\n\t\t\t// Otherwise, we need to construct a default value for the editor\n\t\t\tswitch(this.editField) {\n\t\t\t\tcase \&quot;text\&quot;:\n\t\t\t\t\tvalue = \&quot;Type the text for the tiddler '\&quot; + this.editTitle + \&quot;'\&quot;;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \&quot;title\&quot;:\n\t\t\t\t\tvalue = this.editTitle;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tvalue = \&quot;\&quot;;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(this.editDefault !== undefined) {\n\t\t\t\tvalue = this.editDefault;\n\t\t\t}\n\t\t}\n\t\tupdate = function(value) {\n\t\t\tvar tiddler = self.wiki.getTiddler(self.editTitle),\n\t\t\t\tupdateFields = {\n\t\t\t\t\ttitle: self.editTitle\n\t\t\t\t};\n\t\t\tupdateFields[self.editField] = value;\n\t\t\tself.wiki.addTiddler(new $tw.Tiddler(self.wiki.getCreationFields(),tiddler,updateFields,self.wiki.getModificationFields()));\n\t\t};\n\t}\n\treturn {value: value, update: update};\n};\n\n/*\nCompute the internal state of the widget\n*/\nEditTextWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.editTitle = this.getAttribute(\&quot;tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\tthis.editField = this.getAttribute(\&quot;field\&quot;,\&quot;text\&quot;);\n\tthis.editIndex = this.getAttribute(\&quot;index\&quot;);\n\tthis.editDefault = this.getAttribute(\&quot;default\&quot;);\n\tthis.editClass = this.getAttribute(\&quot;class\&quot;);\n\tthis.editPlaceholder = this.getAttribute(\&quot;placeholder\&quot;);\n\tthis.editSize = this.getAttribute(\&quot;size\&quot;);\n\tthis.editRows = this.getAttribute(\&quot;rows\&quot;);\n\tthis.editAutoHeight = this.getAttribute(\&quot;autoHeight\&quot;,\&quot;yes\&quot;) === \&quot;yes\&quot;;\n\tthis.editMinHeight = this.getAttribute(\&quot;minHeight\&quot;,DEFAULT_MIN_TEXT_AREA_HEIGHT);\n\tthis.editFocusPopup = this.getAttribute(\&quot;focusPopup\&quot;);\n\tthis.editFocus = this.getAttribute(\&quot;focus\&quot;);\n\t// Get the editor element tag and type\n\tvar tag,type;\n\tif(this.editField === \&quot;text\&quot;) {\n\t\ttag = \&quot;textarea\&quot;;\n\t} else {\n\t\ttag = \&quot;input\&quot;;\n\t\tvar fieldModule = $tw.Tiddler.fieldModules[this.editField];\n\t\tif(fieldModule &amp;&amp; fieldModule.editTag) {\n\t\t\ttag = fieldModule.editTag;\n\t\t}\n\t\tif(fieldModule &amp;&amp; fieldModule.editType) {\n\t\t\ttype = fieldModule.editType;\n\t\t}\n\t\ttype = type || \&quot;text\&quot;;\n\t}\n\t// Get the rest of our parameters\n\tthis.editTag = this.getAttribute(\&quot;tag\&quot;,tag);\n\tthis.editType = this.getAttribute(\&quot;type\&quot;,type);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nEditTextWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\t// Completely rerender if any of our attributes have changed\n\tif(changedAttributes.tiddler || changedAttributes.field || changedAttributes.index || changedAttributes[\&quot;default\&quot;] || changedAttributes[\&quot;class\&quot;] || changedAttributes.placeholder || changedAttributes.size || changedAttributes.autoHeight || changedAttributes.minHeight || changedAttributes.focusPopup ||  changedAttributes.rows) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else if(changedTiddlers[this.editTitle]) {\n\t\tthis.updateEditor(this.getEditInfo().value);\n\t\treturn true;\n\t}\n\t// Fix the height anyway in case there has been a reflow\n\tthis.fixHeight();\n\treturn false;\n};\n\n/*\nUpdate the editor with new text. This method is separate from updateEditorDomNode()\nso that subclasses can override updateEditor() and still use updateEditorDomNode()\n*/\nEditTextWidget.prototype.updateEditor = function(text) {\n\tthis.updateEditorDomNode(text);\n};\n\n/*\nUpdate the editor dom node with new text\n*/\nEditTextWidget.prototype.updateEditorDomNode = function(text) {\n\t// Replace the edit value if the tiddler we're editing has changed\n\tvar domNode = this.domNodes[0];\n\tif(!domNode.isTiddlyWikiFakeDom) {\n\t\tif(this.document.activeElement !== domNode) {\n\t\t\tdomNode.value = text;\n\t\t}\n\t\t// Fix the height if needed\n\t\tthis.fixHeight();\n\t}\n};\n\n/*\nGet the first parent element that has scrollbars or use the body as fallback.\n*/\nEditTextWidget.prototype.getScrollContainer = function(el) {\n\twhile(el.parentNode) {\t\n\t\tel = el.parentNode;\n\t\tif(el.scrollTop) {\n\t\t\treturn el;\n\t\t}\n\t}\n\treturn this.document.body;\n};\n\n/*\nFix the height of textareas to fit their content\n*/\nEditTextWidget.prototype.fixHeight = function() {\n\tvar domNode = this.domNodes[0];\n\tif(this.editAutoHeight &amp;&amp; domNode &amp;&amp; !domNode.isTiddlyWikiFakeDom &amp;&amp; this.editTag === \&quot;textarea\&quot;) {\n\t\t// Resize the textarea to fit its content, preserving scroll position\n\t\t// Get the scroll container and register the current scroll position\n\t\tvar container = this.getScrollContainer(domNode),\n\t\t\tscrollTop = container.scrollTop;\n                // Measure the specified minimum height\n\t\tdomNode.style.height = this.editMinHeight;\n\t\tvar minHeight = domNode.offsetHeight;\n\t\t// Set its height to auto so that it snaps to the correct height\n\t\tdomNode.style.height = \&quot;auto\&quot;;\n\t\t// Calculate the revised height\n\t\tvar newHeight = Math.max(domNode.scrollHeight + domNode.offsetHeight - domNode.clientHeight,minHeight);\n\t\t// Only try to change the height if it has changed\n\t\tif(newHeight !== domNode.offsetHeight) {\n\t\t\tdomNode.style.height = newHeight + \&quot;px\&quot;;\n\t\t\t// Make sure that the dimensions of the textarea are recalculated\n\t\t\t$tw.utils.forceLayout(domNode);\n\t\t\t// Set the container to the position we registered at the beginning\n\t\t\tcontainer.scrollTop = scrollTop;\n\t\t}\n\t}\n};\n\n/*\nHandle a dom \&quot;input\&quot; event\n*/\nEditTextWidget.prototype.handleInputEvent = function(event) {\n\tthis.saveChanges(this.domNodes[0].value);\n\tthis.fixHeight();\n\treturn true;\n};\n\nEditTextWidget.prototype.handleFocusEvent = function(event) {\n\tif(this.editFocusPopup) {\n\t\t$tw.popup.triggerPopup({\n\t\t\tdomNode: this.domNodes[0],\n\t\t\ttitle: this.editFocusPopup,\n\t\t\twiki: this.wiki,\n\t\t\tforce: true\n\t\t});\n\t}\n\treturn true;\n};\n\nEditTextWidget.prototype.saveChanges = function(text) {\n\tvar editInfo = this.getEditInfo();\n\tif(text !== editInfo.value) {\n\t\teditInfo.update(text);\n\t}\n};\n\nexports[\&quot;edit-text\&quot;] = EditTextWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/edit-text.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/edit.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/edit.js\ntype: application/javascript\nmodule-type: widget\n\nEdit widget is a meta-widget chooses the appropriate actual editting widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar EditWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEditWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEditWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n// Mappings from content type to editor type are stored in tiddlers with this prefix\nvar EDITOR_MAPPING_PREFIX = \&quot;$:/config/EditorTypeMappings/\&quot;;\n\n/*\nCompute the internal state of the widget\n*/\nEditWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.editTitle = this.getAttribute(\&quot;tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\tthis.editField = this.getAttribute(\&quot;field\&quot;,\&quot;text\&quot;);\n\tthis.editIndex = this.getAttribute(\&quot;index\&quot;);\n\tthis.editClass = this.getAttribute(\&quot;class\&quot;);\n\tthis.editPlaceholder = this.getAttribute(\&quot;placeholder\&quot;);\n\t// Choose the appropriate edit widget\n\tthis.editorType = this.getEditorType();\n\t// Make the child widgets\n\tthis.makeChildWidgets([{\n\t\ttype: \&quot;edit-\&quot; + this.editorType,\n\t\tattributes: {\n\t\t\ttiddler: {type: \&quot;string\&quot;, value: this.editTitle},\n\t\t\tfield: {type: \&quot;string\&quot;, value: this.editField},\n\t\t\tindex: {type: \&quot;string\&quot;, value: this.editIndex},\n\t\t\t\&quot;class\&quot;: {type: \&quot;string\&quot;, value: this.editClass},\n\t\t\t\&quot;placeholder\&quot;: {type: \&quot;string\&quot;, value: this.editPlaceholder}\n\t\t}\n\t}]);\n};\n\nEditWidget.prototype.getEditorType = function() {\n\t// Get the content type of the thing we're editing\n\tvar type;\n\tif(this.editField === \&quot;text\&quot;) {\n\t\tvar tiddler = this.wiki.getTiddler(this.editTitle);\n\t\tif(tiddler) {\n\t\t\ttype = tiddler.fields.type;\n\t\t}\n\t}\n\ttype = type || \&quot;text/vnd.tiddlywiki\&quot;;\n\tvar editorType = this.wiki.getTiddlerText(EDITOR_MAPPING_PREFIX + type);\n\tif(!editorType) {\n\t\tvar typeInfo = $tw.config.contentTypeInfo[type];\n\t\tif(typeInfo &amp;&amp; typeInfo.encoding === \&quot;base64\&quot;) {\n\t\t\teditorType = \&quot;binary\&quot;;\n\t\t} else {\n\t\t\teditorType = \&quot;text\&quot;;\n\t\t}\n\t}\n\treturn editorType;\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nEditWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\t// Refresh if an attribute has changed, or the type associated with the target tiddler has changed\n\tif(changedAttributes.tiddler || changedAttributes.field || changedAttributes.index || (changedTiddlers[this.editTitle] &amp;&amp; this.getEditorType() !== this.editorType)) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nexports.edit = EditWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/edit.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/element.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/element.js\ntype: application/javascript\nmodule-type: widget\n\nElement widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar ElementWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nElementWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nElementWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Neuter blacklisted elements\n\tvar tag = this.parseTreeNode.tag;\n\tif($tw.config.htmlUnsafeElements.indexOf(tag) !== -1) {\n\t\ttag = \&quot;safe-\&quot; + tag;\n\t}\n\tvar domNode = this.document.createElementNS(this.namespace,tag);\n\tthis.assignAttributes(domNode,{excludeEventAttributes: true});\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nElementWidget.prototype.execute = function() {\n\t// Select the namespace for the tag\n\tvar tagNamespaces = {\n\t\t\tsvg: \&quot;http://www.w3.org/2000/svg\&quot;,\n\t\t\tmath: \&quot;http://www.w3.org/1998/Math/MathML\&quot;,\n\t\t\tbody: \&quot;http://www.w3.org/1999/xhtml\&quot;\n\t\t};\n\tthis.namespace = tagNamespaces[this.parseTreeNode.tag];\n\tif(this.namespace) {\n\t\tthis.setVariable(\&quot;namespace\&quot;,this.namespace);\n\t} else {\n\t\tthis.namespace = this.getVariable(\&quot;namespace\&quot;,{defaultValue: \&quot;http://www.w3.org/1999/xhtml\&quot;});\n\t}\n\t// Make the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nElementWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes(),\n\t\thasChangedAttributes = $tw.utils.count(changedAttributes) &gt; 0;\n\tif(hasChangedAttributes) {\n\t\t// Update our attributes\n\t\tthis.assignAttributes(this.domNodes[0],{excludeEventAttributes: true});\n\t}\n\treturn this.refreshChildren(changedTiddlers) || hasChangedAttributes;\n};\n\nexports.element = ElementWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/element.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/encrypt.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/encrypt.js\ntype: application/javascript\nmodule-type: widget\n\nEncrypt widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar EncryptWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEncryptWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEncryptWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar textNode = this.document.createTextNode(this.encryptedText);\n\tparent.insertBefore(textNode,nextSibling);\n\tthis.domNodes.push(textNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nEncryptWidget.prototype.execute = function() {\n\t// Get parameters from our attributes\n\tthis.filter = this.getAttribute(\&quot;filter\&quot;,\&quot;[!is[system]]\&quot;);\n\t// Encrypt the filtered tiddlers\n\tvar tiddlers = this.wiki.filterTiddlers(this.filter),\n\t\tjson = {},\n\t\tself = this;\n\t$tw.utils.each(tiddlers,function(title) {\n\t\tvar tiddler = self.wiki.getTiddler(title),\n\t\t\tjsonTiddler = {};\n\t\tfor(var f in tiddler.fields) {\n\t\t\tjsonTiddler[f] = tiddler.getFieldString(f);\n\t\t}\n\t\tjson[title] = jsonTiddler;\n\t});\n\tthis.encryptedText = $tw.utils.htmlEncode($tw.crypto.encrypt(JSON.stringify(json)));\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nEncryptWidget.prototype.refresh = function(changedTiddlers) {\n\t// We don't need to worry about refreshing because the encrypt widget isn't for interactive use\n\treturn false;\n};\n\nexports.encrypt = EncryptWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/encrypt.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/entity.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/entity.js\ntype: application/javascript\nmodule-type: widget\n\nHTML entity widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar EntityWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nEntityWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nEntityWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.execute();\n\tvar textNode = this.document.createTextNode($tw.utils.entityDecode(this.parseTreeNode.entity));\n\tparent.insertBefore(textNode,nextSibling);\n\tthis.domNodes.push(textNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nEntityWidget.prototype.execute = function() {\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nEntityWidget.prototype.refresh = function(changedTiddlers) {\n\treturn false;\n};\n\nexports.entity = EntityWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/entity.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/fieldmangler.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/fieldmangler.js\ntype: application/javascript\nmodule-type: widget\n\nField mangler widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar FieldManglerWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n\tthis.addEventListeners([\n\t\t{type: \&quot;tm-remove-field\&quot;, handler: \&quot;handleRemoveFieldEvent\&quot;},\n\t\t{type: \&quot;tm-add-field\&quot;, handler: \&quot;handleAddFieldEvent\&quot;},\n\t\t{type: \&quot;tm-remove-tag\&quot;, handler: \&quot;handleRemoveTagEvent\&quot;},\n\t\t{type: \&quot;tm-add-tag\&quot;, handler: \&quot;handleAddTagEvent\&quot;}\n\t]);\n};\n\n/*\nInherit from the base widget class\n*/\nFieldManglerWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nFieldManglerWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nFieldManglerWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.mangleTitle = this.getAttribute(\&quot;tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nFieldManglerWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nFieldManglerWidget.prototype.handleRemoveFieldEvent = function(event) {\n\tvar tiddler = this.wiki.getTiddler(this.mangleTitle),\n\t\tdeletion = {};\n\tdeletion[event.param] = undefined;\n\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,deletion));\n\treturn true;\n};\n\nFieldManglerWidget.prototype.handleAddFieldEvent = function(event) {\n\tvar tiddler = this.wiki.getTiddler(this.mangleTitle),\n\t\taddition = this.wiki.getModificationFields(),\n\t\thadInvalidFieldName = false,\n\t\taddField = function(name,value) {\n\t\t\tvar trimmedName = name.toLowerCase().trim();\n\t\t\tif(!$tw.utils.isValidFieldName(trimmedName)) {\n\t\t\t\tif(!hadInvalidFieldName) {\n\t\t\t\t\talert($tw.language.getString(\n\t\t\t\t\t\t\&quot;InvalidFieldName\&quot;,\n\t\t\t\t\t\t{variables:\n\t\t\t\t\t\t\t{fieldName: trimmedName}\n\t\t\t\t\t\t}\n\t\t\t\t\t));\n\t\t\t\t\thadInvalidFieldName = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif(!value &amp;&amp; tiddler) {\n\t\t\t\t\tvalue = tiddler.fields[trimmedName];\n\t\t\t\t}\n\t\t\t\taddition[trimmedName] = value || \&quot;\&quot;;\n\t\t\t}\n\t\t\treturn;\n\t\t};\n\taddition.title = this.mangleTitle;\n\tif(typeof event.param === \&quot;string\&quot;) {\n\t\taddField(event.param,\&quot;\&quot;);\n\t}\n\tif(typeof event.paramObject === \&quot;object\&quot;) {\n\t\tfor(var name in event.paramObject) {\n\t\t\taddField(name,event.paramObject[name]);\n\t\t}\n\t}\n\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,addition));\n\treturn true;\n};\n\nFieldManglerWidget.prototype.handleRemoveTagEvent = function(event) {\n\tvar tiddler = this.wiki.getTiddler(this.mangleTitle);\n\tif(tiddler &amp;&amp; tiddler.fields.tags) {\n\t\tvar p = tiddler.fields.tags.indexOf(event.param);\n\t\tif(p !== -1) {\n\t\t\tvar modification = this.wiki.getModificationFields();\n\t\t\tmodification.tags = (tiddler.fields.tags || []).slice(0);\n\t\t\tmodification.tags.splice(p,1);\n\t\t\tif(modification.tags.length === 0) {\n\t\t\t\tmodification.tags = undefined;\n\t\t\t}\n\t\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,modification));\n\t\t}\n\t}\n\treturn true;\n};\n\nFieldManglerWidget.prototype.handleAddTagEvent = function(event) {\n\tvar tiddler = this.wiki.getTiddler(this.mangleTitle);\n\tif(tiddler &amp;&amp; typeof event.param === \&quot;string\&quot;) {\n\t\tvar tag = event.param.trim();\n\t\tif(tag !== \&quot;\&quot;) {\n\t\t\tvar modification = this.wiki.getModificationFields();\n\t\t\tmodification.tags = (tiddler.fields.tags || []).slice(0);\n\t\t\t$tw.utils.pushTop(modification.tags,tag);\n\t\t\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,modification));\t\t\t\n\t\t}\n\t} else if(typeof event.param === \&quot;string\&quot; &amp;&amp; event.param.trim() !== \&quot;\&quot; &amp;&amp; this.mangleTitle.trim() !== \&quot;\&quot;) {\n\t\tvar tag = [];\n\t\ttag.push(event.param.trim());\n\t\tthis.wiki.addTiddler({title: this.mangleTitle, tags: tag});\t\t\n\t}\n\treturn true;\n};\n\nexports.fieldmangler = FieldManglerWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/fieldmangler.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/fields.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/fields.js\ntype: application/javascript\nmodule-type: widget\n\nFields widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar FieldsWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nFieldsWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nFieldsWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar textNode = this.document.createTextNode(this.text);\n\tparent.insertBefore(textNode,nextSibling);\n\tthis.domNodes.push(textNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nFieldsWidget.prototype.execute = function() {\n\t// Get parameters from our attributes\n\tthis.tiddlerTitle = this.getAttribute(\&quot;tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\tthis.template = this.getAttribute(\&quot;template\&quot;);\n\tthis.exclude = this.getAttribute(\&quot;exclude\&quot;);\n\tthis.stripTitlePrefix = this.getAttribute(\&quot;stripTitlePrefix\&quot;,\&quot;no\&quot;) === \&quot;yes\&quot;;\n\t// Get the value to display\n\tvar tiddler = this.wiki.getTiddler(this.tiddlerTitle);\n\t// Get the exclusion list\n\tvar exclude;\n\tif(this.exclude) {\n\t\texclude = this.exclude.split(\&quot; \&quot;);\n\t} else {\n\t\texclude = [\&quot;text\&quot;]; \n\t}\n\t// Compose the template\n\tvar text = [];\n\tif(this.template &amp;&amp; tiddler) {\n\t\tvar fields = [];\n\t\tfor(var fieldName in tiddler.fields) {\n\t\t\tif(exclude.indexOf(fieldName) === -1) {\n\t\t\t\tfields.push(fieldName);\n\t\t\t}\n\t\t}\n\t\tfields.sort();\n\t\tfor(var f=0; f&lt;fields.length; f++) {\n\t\t\tfieldName = fields[f];\n\t\t\tif(exclude.indexOf(fieldName) === -1) {\n\t\t\t\tvar row = this.template,\n\t\t\t\t\tvalue = tiddler.getFieldString(fieldName);\n\t\t\t\tif(this.stripTitlePrefix &amp;&amp; fieldName === \&quot;title\&quot;) {\n\t\t\t\t\tvar reStrip = /^\\{[^\\}]+\\}(.+)/mg,\n\t\t\t\t\t\treMatch = reStrip.exec(value);\n\t\t\t\t\tif(reMatch) {\n\t\t\t\t\t\tvalue = reMatch[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\trow = row.replace(\&quot;$name$\&quot;,fieldName);\n\t\t\t\trow = row.replace(\&quot;$value$\&quot;,value);\n\t\t\t\trow = row.replace(\&quot;$encoded_value$\&quot;,$tw.utils.htmlEncode(value));\n\t\t\t\ttext.push(row);\n\t\t\t}\n\t\t}\n\t}\n\tthis.text = text.join(\&quot;\&quot;);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nFieldsWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler || changedAttributes.template || changedAttributes.exclude || changedAttributes.stripTitlePrefix || changedTiddlers[this.tiddlerTitle]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn false;\t\n\t}\n};\n\nexports.fields = FieldsWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/fields.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/image.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/image.js\ntype: application/javascript\nmodule-type: widget\n\nThe image widget displays an image referenced with an external URI or with a local tiddler title.\n\n```\n&lt;$image src=\&quot;TiddlerTitle\&quot; width=\&quot;320\&quot; height=\&quot;400\&quot; class=\&quot;classnames\&quot;&gt;\n```\n\nThe image source can be the title of an existing tiddler or the URL of an external image.\n\nExternal images always generate an HTML `&lt;img&gt;` tag.\n\nTiddlers that have a _canonical_uri field generate an HTML `&lt;img&gt;` tag with the src attribute containing the URI.\n\nTiddlers that contain image data generate an HTML `&lt;img&gt;` tag with the src attribute containing a base64 representation of the image.\n\nTiddlers that contain wikitext could be rendered to a DIV of the usual size of a tiddler, and then transformed to the size requested.\n\nThe width and height attributes are interpreted as a number of pixels, and do not need to include the \&quot;px\&quot; suffix.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar ImageWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nImageWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nImageWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create element\n\t// Determine what type of image it is\n\tvar tag = \&quot;img\&quot;, src = \&quot;\&quot;,\n\t\ttiddler = this.wiki.getTiddler(this.imageSource);\n\tif(!tiddler) {\n\t\t// The source isn't the title of a tiddler, so we'll assume it's a URL\n\t\tsrc = this.getVariable(\&quot;tv-get-export-image-link\&quot;,{params: [{name: \&quot;src\&quot;,value: this.imageSource}],defaultValue: this.imageSource});\n\t} else {\n\t\t// Check if it is an image tiddler\n\t\tif(this.wiki.isImageTiddler(this.imageSource)) {\n\t\t\tvar type = tiddler.fields.type,\n\t\t\t\ttext = tiddler.fields.text,\n\t\t\t\t_canonical_uri = tiddler.fields._canonical_uri;\n\t\t\t// If the tiddler has body text then it doesn't need to be lazily loaded\n\t\t\tif(text) {\n\t\t\t\t// Render the appropriate element for the image type\n\t\t\t\tswitch(type) {\n\t\t\t\t\tcase \&quot;application/pdf\&quot;:\n\t\t\t\t\t\ttag = \&quot;embed\&quot;;\n\t\t\t\t\t\tsrc = \&quot;data:application/pdf;base64,\&quot; + text;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \&quot;image/svg+xml\&quot;:\n\t\t\t\t\t\tsrc = \&quot;data:image/svg+xml,\&quot; + encodeURIComponent(text);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tsrc = \&quot;data:\&quot; + type + \&quot;;base64,\&quot; + text;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else if(_canonical_uri) {\n\t\t\t\tswitch(type) {\n\t\t\t\t\tcase \&quot;application/pdf\&quot;:\n\t\t\t\t\t\ttag = \&quot;embed\&quot;;\n\t\t\t\t\t\tsrc = _canonical_uri;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \&quot;image/svg+xml\&quot;:\n\t\t\t\t\t\tsrc = _canonical_uri;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tsrc = _canonical_uri;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\t\n\t\t\t}\n\t\t}\n\t}\n\t// Create the element and assign the attributes\n\tvar domNode = this.document.createElement(tag);\n\tdomNode.setAttribute(\&quot;src\&quot;,src);\n\tif(this.imageClass) {\n\t\tdomNode.setAttribute(\&quot;class\&quot;,this.imageClass);\t\t\n\t}\n\tif(this.imageWidth) {\n\t\tdomNode.setAttribute(\&quot;width\&quot;,this.imageWidth);\n\t}\n\tif(this.imageHeight) {\n\t\tdomNode.setAttribute(\&quot;height\&quot;,this.imageHeight);\n\t}\n\tif(this.imageTooltip) {\n\t\tdomNode.setAttribute(\&quot;title\&quot;,this.imageTooltip);\t\t\n\t}\n\tif(this.imageAlt) {\n\t\tdomNode.setAttribute(\&quot;alt\&quot;,this.imageAlt);\t\t\n\t}\n\t// Insert element\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.domNodes.push(domNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nImageWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.imageSource = this.getAttribute(\&quot;source\&quot;);\n\tthis.imageWidth = this.getAttribute(\&quot;width\&quot;);\n\tthis.imageHeight = this.getAttribute(\&quot;height\&quot;);\n\tthis.imageClass = this.getAttribute(\&quot;class\&quot;);\n\tthis.imageTooltip = this.getAttribute(\&quot;tooltip\&quot;);\n\tthis.imageAlt = this.getAttribute(\&quot;alt\&quot;);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nImageWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.source || changedAttributes.width || changedAttributes.height || changedAttributes[\&quot;class\&quot;] || changedAttributes.tooltip || changedTiddlers[this.imageSource]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn false;\t\t\n\t}\n};\n\nexports.image = ImageWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/image.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/importvariables.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/importvariables.js\ntype: application/javascript\nmodule-type: widget\n\nImport variable definitions from other tiddlers\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar ImportVariablesWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nImportVariablesWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nImportVariablesWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nImportVariablesWidget.prototype.execute = function(tiddlerList) {\n\tvar self = this;\n\t// Get our parameters\n\tthis.filter = this.getAttribute(\&quot;filter\&quot;);\n\t// Compute the filter\n\tthis.tiddlerList = tiddlerList || this.wiki.filterTiddlers(this.filter,this);\n\t// Accumulate the &lt;$set&gt; widgets from each tiddler\n\tvar widgetStackStart,widgetStackEnd;\n\tfunction addWidgetNode(widgetNode) {\n\t\tif(widgetNode) {\n\t\t\tif(!widgetStackStart &amp;&amp; !widgetStackEnd) {\n\t\t\t\twidgetStackStart = widgetNode;\n\t\t\t\twidgetStackEnd = widgetNode;\n\t\t\t} else {\n\t\t\t\twidgetStackEnd.children = [widgetNode];\n\t\t\t\twidgetStackEnd = widgetNode;\n\t\t\t}\n\t\t}\n\t}\n\t$tw.utils.each(this.tiddlerList,function(title) {\n\t\tvar parser = self.wiki.parseTiddler(title);\n\t\tif(parser) {\n\t\t\tvar parseTreeNode = parser.tree[0];\n\t\t\twhile(parseTreeNode &amp;&amp; parseTreeNode.type === \&quot;set\&quot;) {\n\t\t\t\taddWidgetNode({\n\t\t\t\t\ttype: \&quot;set\&quot;,\n\t\t\t\t\tattributes: parseTreeNode.attributes,\n\t\t\t\t\tparams: parseTreeNode.params\n\t\t\t\t});\n\t\t\t\tparseTreeNode = parseTreeNode.children[0];\n\t\t\t}\n\t\t} \n\t});\n\t// Add our own children to the end of the pile\n\tvar parseTreeNodes;\n\tif(widgetStackStart &amp;&amp; widgetStackEnd) {\n\t\tparseTreeNodes = [widgetStackStart];\n\t\twidgetStackEnd.children = this.parseTreeNode.children;\n\t} else {\n\t\tparseTreeNodes = this.parseTreeNode.children;\n\t}\n\t// Construct the child widgets\n\tthis.makeChildWidgets(parseTreeNodes);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nImportVariablesWidget.prototype.refresh = function(changedTiddlers) {\n\t// Recompute our attributes and the filter list\n\tvar changedAttributes = this.computeAttributes(),\n\t\ttiddlerList = this.wiki.filterTiddlers(this.getAttribute(\&quot;filter\&quot;),this);\n\t// Refresh if the filter has changed, or the list of tiddlers has changed, or any of the tiddlers in the list has changed\n\tfunction haveListedTiddlersChanged() {\n\t\tvar changed = false;\n\t\ttiddlerList.forEach(function(title) {\n\t\t\tif(changedTiddlers[title]) {\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t});\n\t\treturn changed;\n\t}\n\tif(changedAttributes.filter || !$tw.utils.isArrayEqual(this.tiddlerList,tiddlerList) || haveListedTiddlersChanged()) {\n\t\t// Compute the filter\n\t\tthis.removeChildDomNodes();\n\t\tthis.execute(tiddlerList);\n\t\tthis.renderChildren(this.parentDomNode,this.findNextSiblingDomNode());\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nexports.importvariables = ImportVariablesWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/importvariables.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/keyboard.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/keyboard.js\ntype: application/javascript\nmodule-type: widget\n\nKeyboard shortcut widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar KeyboardWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nKeyboardWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nKeyboardWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create element\n\tvar domNode = this.document.createElement(\&quot;div\&quot;);\n\t// Assign classes\n\tvar classes = (this[\&quot;class\&quot;] || \&quot;\&quot;).split(\&quot; \&quot;);\n\tclasses.push(\&quot;tc-keyboard\&quot;);\n\tdomNode.className = classes.join(\&quot; \&quot;);\n\t// Add a keyboard event handler\n\tdomNode.addEventListener(\&quot;keydown\&quot;,function (event) {\n\t\tif($tw.utils.checkKeyDescriptor(event,self.keyInfo)) {\n\t\t\tself.invokeActions(this,event);\n\t\t\tself.dispatchMessage(event);\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},false);\n\t// Insert element\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\nKeyboardWidget.prototype.dispatchMessage = function(event) {\n\tthis.dispatchEvent({type: this.message, param: this.param, tiddlerTitle: this.getVariable(\&quot;currentTiddler\&quot;)});\n};\n\n/*\nCompute the internal state of the widget\n*/\nKeyboardWidget.prototype.execute = function() {\n\t// Get attributes\n\tthis.message = this.getAttribute(\&quot;message\&quot;);\n\tthis.param = this.getAttribute(\&quot;param\&quot;);\n\tthis.key = this.getAttribute(\&quot;key\&quot;);\n\tthis.keyInfo = $tw.utils.parseKeyDescriptor(this.key);\n\tthis[\&quot;class\&quot;] = this.getAttribute(\&quot;class\&quot;);\n\t// Make child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nKeyboardWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.message || changedAttributes.param || changedAttributes.key || changedAttributes[\&quot;class\&quot;]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.keyboard = KeyboardWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/keyboard.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/link.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/link.js\ntype: application/javascript\nmodule-type: widget\n\nLink widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar LinkWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nLinkWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nLinkWidget.prototype.render = function(parent,nextSibling) {\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Get the value of the tv-wikilinks configuration macro\n\tvar wikiLinksMacro = this.getVariable(\&quot;tv-wikilinks\&quot;),\n\t\tuseWikiLinks = wikiLinksMacro ? (wikiLinksMacro.trim() !== \&quot;no\&quot;) : true;\n\t// Render the link if required\n\tif(useWikiLinks) {\n\t\tthis.renderLink(parent,nextSibling);\n\t} else {\n\t\t// Just insert the link text\n\t\tvar domNode = this.document.createElement(\&quot;span\&quot;);\n\t\tparent.insertBefore(domNode,nextSibling);\n\t\tthis.renderChildren(domNode,null);\n\t\tthis.domNodes.push(domNode);\n\t}\n};\n\n/*\nRender this widget into the DOM\n*/\nLinkWidget.prototype.renderLink = function(parent,nextSibling) {\n\tvar self = this;\n\t// Sanitise the specified tag\n\tvar tag = this.linkTag;\n\tif($tw.config.htmlUnsafeElements.indexOf(tag) !== -1) {\n\t\ttag = \&quot;a\&quot;;\n\t}\n\t// Create our element\n\tvar domNode = this.document.createElement(tag);\n\t// Assign classes\n\tvar classes = [];\n\tif(this.linkClasses) {\n\t\tclasses.push(this.linkClasses);\n\t}\n\tclasses.push(\&quot;tc-tiddlylink\&quot;);\n\tif(this.isShadow) {\n\t\tclasses.push(\&quot;tc-tiddlylink-shadow\&quot;);\n\t}\n\tif(this.isMissing &amp;&amp; !this.isShadow) {\n\t\tclasses.push(\&quot;tc-tiddlylink-missing\&quot;);\n\t} else {\n\t\tif(!this.isMissing) {\n\t\t\tclasses.push(\&quot;tc-tiddlylink-resolves\&quot;);\n\t\t}\n\t}\n\tdomNode.setAttribute(\&quot;class\&quot;,classes.join(\&quot; \&quot;));\n\t// Set an href\n\tvar wikiLinkTemplateMacro = this.getVariable(\&quot;tv-wikilink-template\&quot;),\n\t\twikiLinkTemplate = wikiLinkTemplateMacro ? wikiLinkTemplateMacro.trim() : \&quot;#$uri_encoded$\&quot;,\n\t\twikiLinkText = wikiLinkTemplate.replace(\&quot;$uri_encoded$\&quot;,encodeURIComponent(this.to));\n\twikiLinkText = wikiLinkText.replace(\&quot;$uri_doubleencoded$\&quot;,encodeURIComponent(encodeURIComponent(this.to)));\n\twikiLinkText = this.getVariable(\&quot;tv-get-export-link\&quot;,{params: [{name: \&quot;to\&quot;,value: this.to}],defaultValue: wikiLinkText});\n\tif(tag === \&quot;a\&quot;) {\n\t\tdomNode.setAttribute(\&quot;href\&quot;,wikiLinkText);\n\t}\n\tif(this.tabIndex) {\n\t\tdomNode.setAttribute(\&quot;tabindex\&quot;,this.tabIndex);\n\t}\n\t// Set the tooltip\n\t// HACK: Performance issues with re-parsing the tooltip prevent us defaulting the tooltip to \&quot;&lt;$transclude field='tooltip'&gt;&lt;$transclude field='title'/&gt;&lt;/$transclude&gt;\&quot;\n\tvar tooltipWikiText = this.tooltip || this.getVariable(\&quot;tv-wikilink-tooltip\&quot;);\n\tif(tooltipWikiText) {\n\t\tvar tooltipText = this.wiki.renderText(\&quot;text/plain\&quot;,\&quot;text/vnd.tiddlywiki\&quot;,tooltipWikiText,{\n\t\t\t\tparseAsInline: true,\n\t\t\t\tvariables: {\n\t\t\t\t\tcurrentTiddler: this.to\n\t\t\t\t},\n\t\t\t\tparentWidget: this\n\t\t\t});\n\t\tdomNode.setAttribute(\&quot;title\&quot;,tooltipText);\n\t}\n\tif(this[\&quot;aria-label\&quot;]) {\n\t\tdomNode.setAttribute(\&quot;aria-label\&quot;,this[\&quot;aria-label\&quot;]);\n\t}\n\t// Add a click event handler\n\t$tw.utils.addEventListeners(domNode,[\n\t\t{name: \&quot;click\&quot;, handlerObject: this, handlerMethod: \&quot;handleClickEvent\&quot;},\n\t]);\n\tif(this.draggable === \&quot;yes\&quot;) {\n\t\t$tw.utils.addEventListeners(domNode,[\n\t\t\t{name: \&quot;dragstart\&quot;, handlerObject: this, handlerMethod: \&quot;handleDragStartEvent\&quot;},\n\t\t\t{name: \&quot;dragend\&quot;, handlerObject: this, handlerMethod: \&quot;handleDragEndEvent\&quot;}\n\t\t]);\n\t}\n\t// Insert the link into the DOM and render any children\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\nLinkWidget.prototype.handleClickEvent = function(event) {\n\t// Send the click on its way as a navigate event\n\tvar bounds = this.domNodes[0].getBoundingClientRect();\n\tthis.dispatchEvent({\n\t\ttype: \&quot;tm-navigate\&quot;,\n\t\tnavigateTo: this.to,\n\t\tnavigateFromTitle: this.getVariable(\&quot;storyTiddler\&quot;),\n\t\tnavigateFromNode: this,\n\t\tnavigateFromClientRect: { top: bounds.top, left: bounds.left, width: bounds.width, right: bounds.right, bottom: bounds.bottom, height: bounds.height\n\t\t},\n\t\tnavigateSuppressNavigation: event.metaKey || event.ctrlKey || (event.button === 1)\n\t});\n\tif(this.domNodes[0].hasAttribute(\&quot;href\&quot;)) {\n\t\tevent.preventDefault();\n\t}\n\tevent.stopPropagation();\n\treturn false;\n};\n\nLinkWidget.prototype.handleDragStartEvent = function(event) {\n\tif(event.target === this.domNodes[0]) {\n\t\tif(this.to) {\n\t\t\t$tw.dragInProgress = true;\n\t\t\t// Set the dragging class on the element being dragged\n\t\t\t$tw.utils.addClass(event.target,\&quot;tc-tiddlylink-dragging\&quot;);\n\t\t\t// Create the drag image elements\n\t\t\tthis.dragImage = this.document.createElement(\&quot;div\&quot;);\n\t\t\tthis.dragImage.className = \&quot;tc-tiddler-dragger\&quot;;\n\t\t\tvar inner = this.document.createElement(\&quot;div\&quot;);\n\t\t\tinner.className = \&quot;tc-tiddler-dragger-inner\&quot;;\n\t\t\tinner.appendChild(this.document.createTextNode(this.to));\n\t\t\tthis.dragImage.appendChild(inner);\n\t\t\tthis.document.body.appendChild(this.dragImage);\n\t\t\t// Astoundingly, we need to cover the dragger up: http://www.kryogenix.org/code/browser/custom-drag-image.html\n\t\t\tvar cover = this.document.createElement(\&quot;div\&quot;);\n\t\t\tcover.className = \&quot;tc-tiddler-dragger-cover\&quot;;\n\t\t\tcover.style.left = (inner.offsetLeft - 16) + \&quot;px\&quot;;\n\t\t\tcover.style.top = (inner.offsetTop - 16) + \&quot;px\&quot;;\n\t\t\tcover.style.width = (inner.offsetWidth + 32) + \&quot;px\&quot;;\n\t\t\tcover.style.height = (inner.offsetHeight + 32) + \&quot;px\&quot;;\n\t\t\tthis.dragImage.appendChild(cover);\n\t\t\t// Set the data transfer properties\n\t\t\tvar dataTransfer = event.dataTransfer;\n\t\t\t// First the image\n\t\t\tdataTransfer.effectAllowed = \&quot;copy\&quot;;\n\t\t\tif(dataTransfer.setDragImage) {\n\t\t\t\tdataTransfer.setDragImage(this.dragImage.firstChild,-16,-16);\n\t\t\t}\n\t\t\t// Then the data\n\t\t\tdataTransfer.clearData();\n\t\t\tvar jsonData = this.wiki.getTiddlerAsJson(this.to),\n\t\t\t\ttextData = this.wiki.getTiddlerText(this.to,\&quot;\&quot;),\n\t\t\t\ttitle = (new RegExp(\&quot;^\&quot; + $tw.config.textPrimitives.wikiLink + \&quot;$\&quot;,\&quot;mg\&quot;)).exec(this.to) ? this.to : \&quot;[[\&quot; + this.to + \&quot;]]\&quot;;\n\t\t\t// IE doesn't like these content types\n\t\t\tif(!$tw.browser.isIE) {\n\t\t\t\tdataTransfer.setData(\&quot;text/vnd.tiddler\&quot;,jsonData);\n\t\t\t\tdataTransfer.setData(\&quot;text/plain\&quot;,title);\n\t\t\t\tdataTransfer.setData(\&quot;text/x-moz-url\&quot;,\&quot;data:text/vnd.tiddler,\&quot; + encodeURIComponent(jsonData));\n\t\t\t}\n\t\t\tdataTransfer.setData(\&quot;URL\&quot;,\&quot;data:text/vnd.tiddler,\&quot; + encodeURIComponent(jsonData));\n\t\t\tdataTransfer.setData(\&quot;Text\&quot;,title);\n\t\t\tevent.stopPropagation();\n\t\t} else {\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n};\n\nLinkWidget.prototype.handleDragEndEvent = function(event) {\n\tif(event.target === this.domNodes[0]) {\n\t\t$tw.dragInProgress = false;\n\t\t// Remove the dragging class on the element being dragged\n\t\t$tw.utils.removeClass(event.target,\&quot;tc-tiddlylink-dragging\&quot;);\n\t\t// Delete the drag image element\n\t\tif(this.dragImage) {\n\t\t\tthis.dragImage.parentNode.removeChild(this.dragImage);\n\t\t}\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nLinkWidget.prototype.execute = function() {\n\t// Pick up our attributes\n\tthis.to = this.getAttribute(\&quot;to\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\tthis.tooltip = this.getAttribute(\&quot;tooltip\&quot;);\n\tthis[\&quot;aria-label\&quot;] = this.getAttribute(\&quot;aria-label\&quot;);\n\tthis.linkClasses = this.getAttribute(\&quot;class\&quot;);\n\tthis.tabIndex = this.getAttribute(\&quot;tabindex\&quot;);\n\tthis.draggable = this.getAttribute(\&quot;draggable\&quot;,\&quot;yes\&quot;);\n\tthis.linkTag = this.getAttribute(\&quot;tag\&quot;,\&quot;a\&quot;);\n\t// Determine the link characteristics\n\tthis.isMissing = !this.wiki.tiddlerExists(this.to);\n\tthis.isShadow = this.wiki.isShadowTiddler(this.to);\n\t// Make the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nLinkWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.to || changedTiddlers[this.to] || changedAttributes[\&quot;aria-label\&quot;] || changedAttributes.tooltip) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.link = LinkWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/link.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/linkcatcher.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/linkcatcher.js\ntype: application/javascript\nmodule-type: widget\n\nLinkcatcher widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar LinkCatcherWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n\tthis.addEventListeners([\n\t\t{type: \&quot;tm-navigate\&quot;, handler: \&quot;handleNavigateEvent\&quot;}\n\t]);\n};\n\n/*\nInherit from the base widget class\n*/\nLinkCatcherWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nLinkCatcherWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nLinkCatcherWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.catchTo = this.getAttribute(\&quot;to\&quot;);\n\tthis.catchMessage = this.getAttribute(\&quot;message\&quot;);\n\tthis.catchSet = this.getAttribute(\&quot;set\&quot;);\n\tthis.catchSetTo = this.getAttribute(\&quot;setTo\&quot;);\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nLinkCatcherWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.to || changedAttributes.message || changedAttributes.set || changedAttributes.setTo) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\n/*\nHandle a tm-navigate event\n*/\nLinkCatcherWidget.prototype.handleNavigateEvent = function(event) {\n\tif(this.catchTo) {\n\t\tthis.wiki.setTextReference(this.catchTo,event.navigateTo,this.getVariable(\&quot;currentTiddler\&quot;));\n\t}\n\tif(this.catchMessage &amp;&amp; this.parentWidget) {\n\t\tthis.parentWidget.dispatchEvent({\n\t\t\ttype: this.catchMessage,\n\t\t\tparam: event.navigateTo,\n\t\t\tnavigateTo: event.navigateTo\n\t\t});\n\t}\n\tif(this.catchSet) {\n\t\tvar tiddler = this.wiki.getTiddler(this.catchSet);\n\t\tthis.wiki.addTiddler(new $tw.Tiddler(tiddler,{title: this.catchSet, text: this.catchSetTo}));\n\t}\n\treturn false;\n};\n\nexports.linkcatcher = LinkCatcherWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/linkcatcher.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/list.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/list.js\ntype: application/javascript\nmodule-type: widget\n\nList and list item widgets\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\n/*\nThe list widget creates list element sub-widgets that reach back into the list widget for their configuration\n*/\n\nvar ListWidget = function(parseTreeNode,options) {\n\t// Initialise the storyviews if they've not been done already\n\tif(!this.storyViews) {\n\t\tListWidget.prototype.storyViews = {};\n\t\t$tw.modules.applyMethods(\&quot;storyview\&quot;,this.storyViews);\n\t}\n\t// Main initialisation inherited from widget.js\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nListWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nListWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n\t// Construct the storyview\n\tvar StoryView = this.storyViews[this.storyViewName];\n\tif(StoryView &amp;&amp; !this.document.isTiddlyWikiFakeDom) {\n\t\tthis.storyview = new StoryView(this);\n\t} else {\n\t\tthis.storyview = null;\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nListWidget.prototype.execute = function() {\n\t// Get our attributes\n\tthis.template = this.getAttribute(\&quot;template\&quot;);\n\tthis.editTemplate = this.getAttribute(\&quot;editTemplate\&quot;);\n\tthis.variableName = this.getAttribute(\&quot;variable\&quot;,\&quot;currentTiddler\&quot;);\n\tthis.storyViewName = this.getAttribute(\&quot;storyview\&quot;);\n\tthis.historyTitle = this.getAttribute(\&quot;history\&quot;);\n\t// Compose the list elements\n\tthis.list = this.getTiddlerList();\n\tvar members = [],\n\t\tself = this;\n\t// Check for an empty list\n\tif(this.list.length === 0) {\n\t\tmembers = this.getEmptyMessage();\n\t} else {\n\t\t$tw.utils.each(this.list,function(title,index) {\n\t\t\tmembers.push(self.makeItemTemplate(title));\n\t\t});\n\t}\n\t// Construct the child widgets\n\tthis.makeChildWidgets(members);\n\t// Clear the last history\n\tthis.history = [];\n};\n\nListWidget.prototype.getTiddlerList = function() {\n\tvar defaultFilter = \&quot;[!is[system]sort[title]]\&quot;;\n\treturn this.wiki.filterTiddlers(this.getAttribute(\&quot;filter\&quot;,defaultFilter),this);\n};\n\nListWidget.prototype.getEmptyMessage = function() {\n\tvar emptyMessage = this.getAttribute(\&quot;emptyMessage\&quot;,\&quot;\&quot;),\n\t\tparser = this.wiki.parseText(\&quot;text/vnd.tiddlywiki\&quot;,emptyMessage,{parseAsInline: true});\n\tif(parser) {\n\t\treturn parser.tree;\n\t} else {\n\t\treturn [];\n\t}\n};\n\n/*\nCompose the template for a list item\n*/\nListWidget.prototype.makeItemTemplate = function(title) {\n\t// Check if the tiddler is a draft\n\tvar tiddler = this.wiki.getTiddler(title),\n\t\tisDraft = tiddler &amp;&amp; tiddler.hasField(\&quot;draft.of\&quot;),\n\t\ttemplate = this.template,\n\t\ttemplateTree;\n\tif(isDraft &amp;&amp; this.editTemplate) {\n\t\ttemplate = this.editTemplate;\n\t}\n\t// Compose the transclusion of the template\n\tif(template) {\n\t\ttemplateTree = [{type: \&quot;transclude\&quot;, attributes: {tiddler: {type: \&quot;string\&quot;, value: template}}}];\n\t} else {\n\t\tif(this.parseTreeNode.children &amp;&amp; this.parseTreeNode.children.length &gt; 0) {\n\t\t\ttemplateTree = this.parseTreeNode.children;\n\t\t} else {\n\t\t\t// Default template is a link to the title\n\t\t\ttemplateTree = [{type: \&quot;element\&quot;, tag: this.parseTreeNode.isBlock ? \&quot;div\&quot; : \&quot;span\&quot;, children: [{type: \&quot;link\&quot;, attributes: {to: {type: \&quot;string\&quot;, value: title}}, children: [\n\t\t\t\t\t{type: \&quot;text\&quot;, text: title}\n\t\t\t]}]}];\n\t\t}\n\t}\n\t// Return the list item\n\treturn {type: \&quot;listitem\&quot;, itemTitle: title, variableName: this.variableName, children: templateTree};\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nListWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes(),\n\t\tresult;\n\t// Call the storyview\n\tif(this.storyview &amp;&amp; this.storyview.refreshStart) {\n\t\tthis.storyview.refreshStart(changedTiddlers,changedAttributes);\n\t}\n\t// Completely refresh if any of our attributes have changed\n\tif(changedAttributes.filter || changedAttributes.template || changedAttributes.editTemplate || changedAttributes.emptyMessage || changedAttributes.storyview || changedAttributes.history) {\n\t\tthis.refreshSelf();\n\t\tresult = true;\n\t} else {\n\t\t// Handle any changes to the list\n\t\tresult = this.handleListChanges(changedTiddlers);\n\t\t// Handle any changes to the history stack\n\t\tif(this.historyTitle &amp;&amp; changedTiddlers[this.historyTitle]) {\n\t\t\tthis.handleHistoryChanges();\n\t\t}\n\t}\n\t// Call the storyview\n\tif(this.storyview &amp;&amp; this.storyview.refreshEnd) {\n\t\tthis.storyview.refreshEnd(changedTiddlers,changedAttributes);\n\t}\n\treturn result;\n};\n\n/*\nHandle any changes to the history list\n*/\nListWidget.prototype.handleHistoryChanges = function() {\n\t// Get the history data\n\tvar newHistory = this.wiki.getTiddlerDataCached(this.historyTitle,[]);\n\t// Ignore any entries of the history that match the previous history\n\tvar entry = 0;\n\twhile(entry &lt; newHistory.length &amp;&amp; entry &lt; this.history.length &amp;&amp; newHistory[entry].title === this.history[entry].title) {\n\t\tentry++;\n\t}\n\t// Navigate forwards to each of the new tiddlers\n\twhile(entry &lt; newHistory.length) {\n\t\tif(this.storyview &amp;&amp; this.storyview.navigateTo) {\n\t\t\tthis.storyview.navigateTo(newHistory[entry]);\n\t\t}\n\t\tentry++;\n\t}\n\t// Update the history\n\tthis.history = newHistory;\n};\n\n/*\nProcess any changes to the list\n*/\nListWidget.prototype.handleListChanges = function(changedTiddlers) {\n\t// Get the new list\n\tvar prevList = this.list;\n\tthis.list = this.getTiddlerList();\n\t// Check for an empty list\n\tif(this.list.length === 0) {\n\t\t// Check if it was empty before\n\t\tif(prevList.length === 0) {\n\t\t\t// If so, just refresh the empty message\n\t\t\treturn this.refreshChildren(changedTiddlers);\n\t\t} else {\n\t\t\t// Replace the previous content with the empty message\n\t\t\tfor(t=this.children.length-1; t&gt;=0; t--) {\n\t\t\t\tthis.removeListItem(t);\n\t\t\t}\n\t\t\tvar nextSibling = this.findNextSiblingDomNode();\n\t\t\tthis.makeChildWidgets(this.getEmptyMessage());\n\t\t\tthis.renderChildren(this.parentDomNode,nextSibling);\n\t\t\treturn true;\n\t\t}\n\t} else {\n\t\t// If the list was empty then we need to remove the empty message\n\t\tif(prevList.length === 0) {\n\t\t\tthis.removeChildDomNodes();\n\t\t\tthis.children = [];\n\t\t}\n\t\t// Cycle through the list, inserting and removing list items as needed\n\t\tvar hasRefreshed = false;\n\t\tfor(var t=0; t&lt;this.list.length; t++) {\n\t\t\tvar index = this.findListItem(t,this.list[t]);\n\t\t\tif(index === undefined) {\n\t\t\t\t// The list item must be inserted\n\t\t\t\tthis.insertListItem(t,this.list[t]);\n\t\t\t\thasRefreshed = true;\n\t\t\t} else {\n\t\t\t\t// There are intervening list items that must be removed\n\t\t\t\tfor(var n=index-1; n&gt;=t; n--) {\n\t\t\t\t\tthis.removeListItem(n);\n\t\t\t\t\thasRefreshed = true;\n\t\t\t\t}\n\t\t\t\t// Refresh the item we're reusing\n\t\t\t\tvar refreshed = this.children[t].refresh(changedTiddlers);\n\t\t\t\thasRefreshed = hasRefreshed || refreshed;\n\t\t\t}\n\t\t}\n\t\t// Remove any left over items\n\t\tfor(t=this.children.length-1; t&gt;=this.list.length; t--) {\n\t\t\tthis.removeListItem(t);\n\t\t\thasRefreshed = true;\n\t\t}\n\t\treturn hasRefreshed;\n\t}\n};\n\n/*\nFind the list item with a given title, starting from a specified position\n*/\nListWidget.prototype.findListItem = function(startIndex,title) {\n\twhile(startIndex &lt; this.children.length) {\n\t\tif(this.children[startIndex].parseTreeNode.itemTitle === title) {\n\t\t\treturn startIndex;\n\t\t}\n\t\tstartIndex++;\n\t}\n\treturn undefined;\n};\n\n/*\nInsert a new list item at the specified index\n*/\nListWidget.prototype.insertListItem = function(index,title) {\n\t// Create, insert and render the new child widgets\n\tvar widget = this.makeChildWidget(this.makeItemTemplate(title));\n\twidget.parentDomNode = this.parentDomNode; // Hack to enable findNextSiblingDomNode() to work\n\tthis.children.splice(index,0,widget);\n\tvar nextSibling = widget.findNextSiblingDomNode();\n\twidget.render(this.parentDomNode,nextSibling);\n\t// Animate the insertion if required\n\tif(this.storyview &amp;&amp; this.storyview.insert) {\n\t\tthis.storyview.insert(widget);\n\t}\n\treturn true;\n};\n\n/*\nRemove the specified list item\n*/\nListWidget.prototype.removeListItem = function(index) {\n\tvar widget = this.children[index];\n\t// Animate the removal if required\n\tif(this.storyview &amp;&amp; this.storyview.remove) {\n\t\tthis.storyview.remove(widget);\n\t} else {\n\t\twidget.removeChildDomNodes();\n\t}\n\t// Remove the child widget\n\tthis.children.splice(index,1);\n};\n\nexports.list = ListWidget;\n\nvar ListItemWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nListItemWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nListItemWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nListItemWidget.prototype.execute = function() {\n\t// Set the current list item title\n\tthis.setVariable(this.parseTreeNode.variableName,this.parseTreeNode.itemTitle);\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nListItemWidget.prototype.refresh = function(changedTiddlers) {\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.listitem = ListItemWidget;\n\n})();&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/list.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/macrocall.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/macrocall.js\ntype: application/javascript\nmodule-type: widget\n\nMacrocall widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar MacroCallWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nMacroCallWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nMacroCallWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nMacroCallWidget.prototype.execute = function() {\n\t// Get the parse type if specified\n\tthis.parseType = this.getAttribute(\&quot;$type\&quot;,\&quot;text/vnd.tiddlywiki\&quot;);\n\tthis.renderOutput = this.getAttribute(\&quot;$output\&quot;,\&quot;text/html\&quot;);\n\t// Merge together the parameters specified in the parse tree with the specified attributes\n\tvar params = this.parseTreeNode.params ? this.parseTreeNode.params.slice(0) : [];\n\t$tw.utils.each(this.attributes,function(attribute,name) {\n\t\tif(name.charAt(0) !== \&quot;$\&quot;) {\n\t\t\tparams.push({name: name, value: attribute});\t\t\t\n\t\t}\n\t});\n\t// Get the macro value\n\tvar text = this.getVariable(this.parseTreeNode.name || this.getAttribute(\&quot;$name\&quot;),{params: params}),\n\t\tparseTreeNodes;\n\t// Are we rendering to HTML?\n\tif(this.renderOutput === \&quot;text/html\&quot;) {\n\t\t// If so we'll return the parsed macro\n\t\tvar parser = this.wiki.parseText(this.parseType,text,\n\t\t\t\t\t\t\t{parseAsInline: !this.parseTreeNode.isBlock});\n\t\tparseTreeNodes = parser ? parser.tree : [];\n\t} else {\n\t\t// Otherwise, we'll render the text\n\t\tvar plainText = this.wiki.renderText(\&quot;text/plain\&quot;,this.parseType,text,{parentWidget: this});\n\t\tparseTreeNodes = [{type: \&quot;text\&quot;, text: plainText}];\n\t}\n\t// Construct the child widgets\n\tthis.makeChildWidgets(parseTreeNodes);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nMacroCallWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif($tw.utils.count(changedAttributes) &gt; 0) {\n\t\t// Rerender ourselves\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\n\t}\n};\n\nexports.macrocall = MacroCallWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/macrocall.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/navigator.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/navigator.js\ntype: application/javascript\nmodule-type: widget\n\nNavigator widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar IMPORT_TITLE = \&quot;$:/Import\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar NavigatorWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n\tthis.addEventListeners([\n\t\t{type: \&quot;tm-navigate\&quot;, handler: \&quot;handleNavigateEvent\&quot;},\n\t\t{type: \&quot;tm-edit-tiddler\&quot;, handler: \&quot;handleEditTiddlerEvent\&quot;},\n\t\t{type: \&quot;tm-delete-tiddler\&quot;, handler: \&quot;handleDeleteTiddlerEvent\&quot;},\n\t\t{type: \&quot;tm-save-tiddler\&quot;, handler: \&quot;handleSaveTiddlerEvent\&quot;},\n\t\t{type: \&quot;tm-cancel-tiddler\&quot;, handler: \&quot;handleCancelTiddlerEvent\&quot;},\n\t\t{type: \&quot;tm-close-tiddler\&quot;, handler: \&quot;handleCloseTiddlerEvent\&quot;},\n\t\t{type: \&quot;tm-close-all-tiddlers\&quot;, handler: \&quot;handleCloseAllTiddlersEvent\&quot;},\n\t\t{type: \&quot;tm-close-other-tiddlers\&quot;, handler: \&quot;handleCloseOtherTiddlersEvent\&quot;},\n\t\t{type: \&quot;tm-new-tiddler\&quot;, handler: \&quot;handleNewTiddlerEvent\&quot;},\n\t\t{type: \&quot;tm-import-tiddlers\&quot;, handler: \&quot;handleImportTiddlersEvent\&quot;},\n\t\t{type: \&quot;tm-perform-import\&quot;, handler: \&quot;handlePerformImportEvent\&quot;},\n\t\t{type: \&quot;tm-fold-tiddler\&quot;, handler: \&quot;handleFoldTiddlerEvent\&quot;},\n\t\t{type: \&quot;tm-fold-other-tiddlers\&quot;, handler: \&quot;handleFoldOtherTiddlersEvent\&quot;},\n\t\t{type: \&quot;tm-fold-all-tiddlers\&quot;, handler: \&quot;handleFoldAllTiddlersEvent\&quot;},\n\t\t{type: \&quot;tm-unfold-all-tiddlers\&quot;, handler: \&quot;handleUnfoldAllTiddlersEvent\&quot;},\n\t\t{type: \&quot;tm-rename-tiddler\&quot;, handler: \&quot;handleRenameTiddlerEvent\&quot;}\n\t]);\n};\n\n/*\nInherit from the base widget class\n*/\nNavigatorWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nNavigatorWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nNavigatorWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.storyTitle = this.getAttribute(\&quot;story\&quot;);\n\tthis.historyTitle = this.getAttribute(\&quot;history\&quot;);\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nNavigatorWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.story || changedAttributes.history) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nNavigatorWidget.prototype.getStoryList = function() {\n\treturn this.storyTitle ? this.wiki.getTiddlerList(this.storyTitle) : null;\n};\n\nNavigatorWidget.prototype.saveStoryList = function(storyList) {\n\tvar storyTiddler = this.wiki.getTiddler(this.storyTitle);\n\tthis.wiki.addTiddler(new $tw.Tiddler(\n\t\t{title: this.storyTitle},\n\t\tstoryTiddler,\n\t\t{list: storyList}\n\t));\n};\n\nNavigatorWidget.prototype.removeTitleFromStory = function(storyList,title) {\n\tvar p = storyList.indexOf(title);\n\twhile(p !== -1) {\n\t\tstoryList.splice(p,1);\n\t\tp = storyList.indexOf(title);\n\t}\n};\n\nNavigatorWidget.prototype.replaceFirstTitleInStory = function(storyList,oldTitle,newTitle) {\n\tvar pos = storyList.indexOf(oldTitle);\n\tif(pos !== -1) {\n\t\tstoryList[pos] = newTitle;\n\t\tdo {\n\t\t\tpos = storyList.indexOf(oldTitle,pos + 1);\n\t\t\tif(pos !== -1) {\n\t\t\t\tstoryList.splice(pos,1);\n\t\t\t}\n\t\t} while(pos !== -1);\n\t} else {\n\t\tstoryList.splice(0,0,newTitle);\n\t}\n};\n\nNavigatorWidget.prototype.addToStory = function(title,fromTitle) {\n\tvar storyList = this.getStoryList();\n\t// Quit if we cannot get hold of the story list\n\tif(!storyList) {\n\t\treturn;\n\t}\n\t// See if the tiddler is already there\n\tvar slot = storyList.indexOf(title);\n\t// Quit if it already exists in the story river\n\tif(slot &gt;= 0) {\n\t\treturn;\n\t}\n\t// First we try to find the position of the story element we navigated from\n\tvar fromIndex = storyList.indexOf(fromTitle);\n\tif(fromIndex &gt;= 0) {\n\t\t// The tiddler is added from inside the river\n\t\t// Determine where to insert the tiddler; Fallback is \&quot;below\&quot;\n\t\tswitch(this.getAttribute(\&quot;openLinkFromInsideRiver\&quot;,\&quot;below\&quot;)) {\n\t\t\tcase \&quot;top\&quot;:\n\t\t\t\tslot = 0;\n\t\t\t\tbreak;\n\t\t\tcase \&quot;bottom\&quot;:\n\t\t\t\tslot = storyList.length;\n\t\t\t\tbreak;\n\t\t\tcase \&quot;above\&quot;:\n\t\t\t\tslot = fromIndex;\n\t\t\t\tbreak;\n\t\t\tcase \&quot;below\&quot;: // Intentional fall-through\n\t\t\tdefault:\n\t\t\t\tslot = fromIndex + 1;\n\t\t\t\tbreak;\n\t\t}\n\t} else {\n\t\t// The tiddler is opened from outside the river. Determine where to insert the tiddler; default is \&quot;top\&quot;\n\t\tif(this.getAttribute(\&quot;openLinkFromOutsideRiver\&quot;,\&quot;top\&quot;) === \&quot;bottom\&quot;) {\n\t\t\t// Insert at bottom\n\t\t\tslot = storyList.length;\n\t\t} else {\n\t\t\t// Insert at top\n\t\t\tslot = 0;\n\t\t}\n\t}\n\t// Add the tiddler\n\tstoryList.splice(slot,0,title);\n\t// Save the story\n\tthis.saveStoryList(storyList);\n};\n\n/*\nAdd a new record to the top of the history stack\ntitle: a title string or an array of title strings\nfromPageRect: page coordinates of the origin of the navigation\n*/\nNavigatorWidget.prototype.addToHistory = function(title,fromPageRect) {\n\tthis.wiki.addToHistory(title,fromPageRect,this.historyTitle);\n};\n\n/*\nHandle a tm-navigate event\n*/\nNavigatorWidget.prototype.handleNavigateEvent = function(event) {\n\tif(event.navigateTo) {\n\t\tthis.addToStory(event.navigateTo,event.navigateFromTitle);\n\t\tif(!event.navigateSuppressNavigation) {\n\t\t\tthis.addToHistory(event.navigateTo,event.navigateFromClientRect);\n\t\t}\n\t}\n\treturn false;\n};\n\n// Close a specified tiddler\nNavigatorWidget.prototype.handleCloseTiddlerEvent = function(event) {\n\tvar title = event.param || event.tiddlerTitle,\n\t\tstoryList = this.getStoryList();\n\t// Look for tiddlers with this title to close\n\tthis.removeTitleFromStory(storyList,title);\n\tthis.saveStoryList(storyList);\n\treturn false;\n};\n\n// Close all tiddlers\nNavigatorWidget.prototype.handleCloseAllTiddlersEvent = function(event) {\n\tthis.saveStoryList([]);\n\treturn false;\n};\n\n// Close other tiddlers\nNavigatorWidget.prototype.handleCloseOtherTiddlersEvent = function(event) {\n\tvar title = event.param || event.tiddlerTitle;\n\tthis.saveStoryList([title]);\n\treturn false;\n};\n\n// Place a tiddler in edit mode\nNavigatorWidget.prototype.handleEditTiddlerEvent = function(event) {\n\tvar self = this;\n\tfunction isUnmodifiedShadow(title) {\n\t\treturn self.wiki.isShadowTiddler(title) &amp;&amp; !self.wiki.tiddlerExists(title);\n\t}\n\tfunction confirmEditShadow(title) {\n\t\treturn confirm($tw.language.getString(\n\t\t\t\&quot;ConfirmEditShadowTiddler\&quot;,\n\t\t\t{variables:\n\t\t\t\t{title: title}\n\t\t\t}\n\t\t));\n\t}\n\tvar title = event.param || event.tiddlerTitle;\n\tif(isUnmodifiedShadow(title) &amp;&amp; !confirmEditShadow(title)) {\n\t\treturn false;\n\t}\n\t// Replace the specified tiddler with a draft in edit mode\n\tvar draftTiddler = this.makeDraftTiddler(title);\n\t// Update the story and history if required\n\tif(!event.paramObject || event.paramObject.suppressNavigation !== \&quot;yes\&quot;) {\n\t\tvar draftTitle = draftTiddler.fields.title,\n\t\t\tstoryList = this.getStoryList();\n\t\tthis.removeTitleFromStory(storyList,draftTitle);\n\t\tthis.replaceFirstTitleInStory(storyList,title,draftTitle);\n\t\tthis.addToHistory(draftTitle,event.navigateFromClientRect);\n\t\tthis.saveStoryList(storyList);\n\t\treturn false;\n\t}\n};\n\n// Delete a tiddler\nNavigatorWidget.prototype.handleDeleteTiddlerEvent = function(event) {\n\t// Get the tiddler we're deleting\n\tvar title = event.param || event.tiddlerTitle,\n\t\ttiddler = this.wiki.getTiddler(title),\n\t\tstoryList = this.getStoryList(),\n\t\toriginalTitle = tiddler ? tiddler.fields[\&quot;draft.of\&quot;] : \&quot;\&quot;,\n\t\tconfirmationTitle;\n\tif(!tiddler) {\n\t\treturn false;\n\t}\n\t// Check if the tiddler we're deleting is in draft mode\n\tif(originalTitle) {\n\t\t// If so, we'll prompt for confirmation referencing the original tiddler\n\t\tconfirmationTitle = originalTitle;\n\t} else {\n\t\t// If not a draft, then prompt for confirmation referencing the specified tiddler\n\t\tconfirmationTitle = title;\n\t}\n\t// Seek confirmation\n\tif((this.wiki.getTiddler(originalTitle) || (tiddler.fields.text || \&quot;\&quot;) !== \&quot;\&quot;) &amp;&amp; !confirm($tw.language.getString(\n\t\t\t\t\&quot;ConfirmDeleteTiddler\&quot;,\n\t\t\t\t{variables:\n\t\t\t\t\t{title: confirmationTitle}\n\t\t\t\t}\n\t\t\t))) {\n\t\treturn false;\n\t}\n\t// Delete the original tiddler\n\tif(originalTitle) {\n\t\tthis.wiki.deleteTiddler(originalTitle);\n\t\tthis.removeTitleFromStory(storyList,originalTitle);\n\t}\n\t// Delete this tiddler\n\tthis.wiki.deleteTiddler(title);\n\t// Remove the closed tiddler from the story\n\tthis.removeTitleFromStory(storyList,title);\n\tthis.saveStoryList(storyList);\n\t// Trigger an autosave\n\t$tw.rootWidget.dispatchEvent({type: \&quot;tm-auto-save-wiki\&quot;});\n\treturn false;\n};\n\n/*\nCreate/reuse the draft tiddler for a given title\n*/\nNavigatorWidget.prototype.makeDraftTiddler = function(targetTitle) {\n\t// See if there is already a draft tiddler for this tiddler\n\tvar draftTitle = this.wiki.findDraft(targetTitle);\n\tif(draftTitle) {\n\t\treturn this.wiki.getTiddler(draftTitle);\n\t}\n\t// Get the current value of the tiddler we're editing\n\tvar tiddler = this.wiki.getTiddler(targetTitle);\n\t// Save the initial value of the draft tiddler\n\tdraftTitle = this.generateDraftTitle(targetTitle);\n\tvar draftTiddler = new $tw.Tiddler(\n\t\t\ttiddler,\n\t\t\t{\n\t\t\t\ttitle: draftTitle,\n\t\t\t\t\&quot;draft.title\&quot;: targetTitle,\n\t\t\t\t\&quot;draft.of\&quot;: targetTitle\n\t\t\t},\n\t\t\tthis.wiki.getModificationFields()\n\t\t);\n\tthis.wiki.addTiddler(draftTiddler);\n\treturn draftTiddler;\n};\n\n/*\nGenerate a title for the draft of a given tiddler\n*/\nNavigatorWidget.prototype.generateDraftTitle = function(title) {\n\tvar c = 0,\n\t\tdraftTitle;\n\tdo {\n\t\tdraftTitle = \&quot;Draft \&quot; + (c ? (c + 1) + \&quot; \&quot; : \&quot;\&quot;) + \&quot;of '\&quot; + title + \&quot;'\&quot;;\n\t\tc++;\n\t} while(this.wiki.tiddlerExists(draftTitle));\n\treturn draftTitle;\n};\n\n// Take a tiddler out of edit mode, saving the changes\nNavigatorWidget.prototype.handleSaveTiddlerEvent = function(event) {\n\tvar title = event.param || event.tiddlerTitle,\n\t\ttiddler = this.wiki.getTiddler(title),\n\t\tstoryList = this.getStoryList();\n\t// Replace the original tiddler with the draft\n\tif(tiddler) {\n\t\tvar draftTitle = (tiddler.fields[\&quot;draft.title\&quot;] || \&quot;\&quot;).trim(),\n\t\t\tdraftOf = (tiddler.fields[\&quot;draft.of\&quot;] || \&quot;\&quot;).trim();\n\t\tif(draftTitle) {\n\t\t\tvar isRename = draftOf !== draftTitle,\n\t\t\t\tisConfirmed = true;\n\t\t\tif(isRename &amp;&amp; this.wiki.tiddlerExists(draftTitle)) {\n\t\t\t\tisConfirmed = confirm($tw.language.getString(\n\t\t\t\t\t\&quot;ConfirmOverwriteTiddler\&quot;,\n\t\t\t\t\t{variables:\n\t\t\t\t\t\t{title: draftTitle}\n\t\t\t\t\t}\n\t\t\t\t));\n\t\t\t}\n\t\t\tif(isConfirmed) {\n\t\t\t\t// Create the new tiddler and pass it through the th-saving-tiddler hook\n\t\t\t\tvar newTiddler = new $tw.Tiddler(this.wiki.getCreationFields(),tiddler,{\n\t\t\t\t\ttitle: draftTitle,\n\t\t\t\t\t\&quot;draft.title\&quot;: undefined,\n\t\t\t\t\t\&quot;draft.of\&quot;: undefined\n\t\t\t\t},this.wiki.getModificationFields());\n\t\t\t\tnewTiddler = $tw.hooks.invokeHook(\&quot;th-saving-tiddler\&quot;,newTiddler);\n\t\t\t\tthis.wiki.addTiddler(newTiddler);\n\t\t\t\t// Remove the draft tiddler\n\t\t\t\tthis.wiki.deleteTiddler(title);\n\t\t\t\t// Remove the original tiddler if we're renaming it\n\t\t\t\tif(isRename) {\n\t\t\t\t\tthis.wiki.deleteTiddler(draftOf);\n\t\t\t\t}\n\t\t\t\tif(!event.paramObject || event.paramObject.suppressNavigation !== \&quot;yes\&quot;) {\n\t\t\t\t\t// Replace the draft in the story with the original\n\t\t\t\t\tthis.replaceFirstTitleInStory(storyList,title,draftTitle);\n\t\t\t\t\tthis.addToHistory(draftTitle,event.navigateFromClientRect);\n\t\t\t\t\tif(draftTitle !== this.storyTitle) {\n\t\t\t\t\t\tthis.saveStoryList(storyList);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Trigger an autosave\n\t\t\t\t$tw.rootWidget.dispatchEvent({type: \&quot;tm-auto-save-wiki\&quot;});\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n};\n\n// Take a tiddler out of edit mode without saving the changes\nNavigatorWidget.prototype.handleCancelTiddlerEvent = function(event) {\n\t// Flip the specified tiddler from draft back to the original\n\tvar draftTitle = event.param || event.tiddlerTitle,\n\t\tdraftTiddler = this.wiki.getTiddler(draftTitle),\n\t\toriginalTitle = draftTiddler &amp;&amp; draftTiddler.fields[\&quot;draft.of\&quot;];\n\tif(draftTiddler &amp;&amp; originalTitle) {\n\t\t// Ask for confirmation if the tiddler text has changed\n\t\tvar isConfirmed = true,\n\t\t\toriginalTiddler = this.wiki.getTiddler(originalTitle),\n\t\t\tstoryList = this.getStoryList();\n\t\tif(this.wiki.isDraftModified(draftTitle)) {\n\t\t\tisConfirmed = confirm($tw.language.getString(\n\t\t\t\t\&quot;ConfirmCancelTiddler\&quot;,\n\t\t\t\t{variables:\n\t\t\t\t\t{title: draftTitle}\n\t\t\t\t}\n\t\t\t));\n\t\t}\n\t\t// Remove the draft tiddler\n\t\tif(isConfirmed) {\n\t\t\tthis.wiki.deleteTiddler(draftTitle);\n\t\t\tif(!event.paramObject || event.paramObject.suppressNavigation !== \&quot;yes\&quot;) {\n\t\t\t\tif(originalTiddler) {\n\t\t\t\t\tthis.replaceFirstTitleInStory(storyList,draftTitle,originalTitle);\n\t\t\t\t\tthis.addToHistory(originalTitle,event.navigateFromClientRect);\n\t\t\t\t} else {\n\t\t\t\t\tthis.removeTitleFromStory(storyList,draftTitle);\n\t\t\t\t}\n\t\t\t\tthis.saveStoryList(storyList);\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n};\n\n// Create a new draft tiddler\n// event.param can either be the title of a template tiddler, or a hashmap of fields.\n//\n// The title of the newly created tiddler follows these rules:\n// * If a hashmap was used and a title field was specified, use that title\n// * If a hashmap was used without a title field, use a default title, if necessary making it unique with a numeric suffix\n// * If a template tiddler was used, use the title of the template, if necessary making it unique with a numeric suffix\n//\n// If a draft of the target tiddler already exists then it is reused\nNavigatorWidget.prototype.handleNewTiddlerEvent = function(event) {\n\t// Get the story details\n\tvar storyList = this.getStoryList(),\n\t\ttemplateTiddler, additionalFields, title, draftTitle, existingTiddler;\n\t// Get the template tiddler (if any)\n\tif(typeof event.param === \&quot;string\&quot;) {\n\t\t// Get the template tiddler\n\t\ttemplateTiddler = this.wiki.getTiddler(event.param);\n\t\t// Generate a new title\n\t\ttitle = this.wiki.generateNewTitle(event.param || $tw.language.getString(\&quot;DefaultNewTiddlerTitle\&quot;));\n\t}\n\t// Get the specified additional fields\n\tif(typeof event.paramObject === \&quot;object\&quot;) {\n\t\tadditionalFields = event.paramObject;\n\t}\n\tif(typeof event.param === \&quot;object\&quot;) { // Backwards compatibility with 5.1.3\n\t\tadditionalFields = event.param;\n\t}\n\tif(additionalFields &amp;&amp; additionalFields.title) {\n\t\ttitle = additionalFields.title;\n\t}\n\t// Generate a title if we don't have one\n\ttitle = title || this.wiki.generateNewTitle($tw.language.getString(\&quot;DefaultNewTiddlerTitle\&quot;));\n\t// Find any existing draft for this tiddler\n\tdraftTitle = this.wiki.findDraft(title);\n\t// Pull in any existing tiddler\n\tif(draftTitle) {\n\t\texistingTiddler = this.wiki.getTiddler(draftTitle);\n\t} else {\n\t\tdraftTitle = this.generateDraftTitle(title);\n\t\texistingTiddler = this.wiki.getTiddler(title);\n\t}\n\t// Merge the tags\n\tvar mergedTags = [];\n\tif(existingTiddler &amp;&amp; existingTiddler.fields.tags) {\n\t\t$tw.utils.pushTop(mergedTags,existingTiddler.fields.tags)\n\t}\n\tif(additionalFields &amp;&amp; additionalFields.tags) {\n\t\t// Merge tags\n\t\tmergedTags = $tw.utils.pushTop(mergedTags,$tw.utils.parseStringArray(additionalFields.tags));\n\t}\n\tif(templateTiddler &amp;&amp; templateTiddler.fields.tags) {\n\t\t// Merge tags\n\t\tmergedTags = $tw.utils.pushTop(mergedTags,templateTiddler.fields.tags);\n\t}\n\t// Save the draft tiddler\n\tvar draftTiddler = new $tw.Tiddler({\n\t\t\ttext: \&quot;\&quot;,\n\t\t\t\&quot;draft.title\&quot;: title\n\t\t},\n\t\ttemplateTiddler,\n\t\texistingTiddler,\n\t\tadditionalFields,\n\t\tthis.wiki.getCreationFields(),\n\t\t{\n\t\t\ttitle: draftTitle,\n\t\t\t\&quot;draft.of\&quot;: title,\n\t\t\ttags: mergedTags\n\t\t},this.wiki.getModificationFields());\n\tthis.wiki.addTiddler(draftTiddler);\n\t// Update the story to insert the new draft at the top and remove any existing tiddler\n\tif(storyList.indexOf(draftTitle) === -1) {\n\t\tvar slot = storyList.indexOf(event.navigateFromTitle);\n\t\tstoryList.splice(slot + 1,0,draftTitle);\n\t}\n\tif(storyList.indexOf(title) !== -1) {\n\t\tstoryList.splice(storyList.indexOf(title),1);\t\t\n\t}\n\tthis.saveStoryList(storyList);\n\t// Add a new record to the top of the history stack\n\tthis.addToHistory(draftTitle);\n\treturn false;\n};\n\n// Import JSON tiddlers into a pending import tiddler\nNavigatorWidget.prototype.handleImportTiddlersEvent = function(event) {\n\tvar self = this;\n\t// Get the tiddlers\n\tvar tiddlers = [];\n\ttry {\n\t\ttiddlers = JSON.parse(event.param);\t\n\t} catch(e) {\n\t}\n\t// Get the current $:/Import tiddler\n\tvar importTiddler = this.wiki.getTiddler(IMPORT_TITLE),\n\t\timportData = this.wiki.getTiddlerData(IMPORT_TITLE,{}),\n\t\tnewFields = new Object({\n\t\t\ttitle: IMPORT_TITLE,\n\t\t\ttype: \&quot;application/json\&quot;,\n\t\t\t\&quot;plugin-type\&quot;: \&quot;import\&quot;,\n\t\t\t\&quot;status\&quot;: \&quot;pending\&quot;\n\t\t}),\n\t\tincomingTiddlers = [];\n\t// Process each tiddler\n\timportData.tiddlers = importData.tiddlers || {};\n\t$tw.utils.each(tiddlers,function(tiddlerFields) {\n\t\tvar title = tiddlerFields.title;\n\t\tif(title) {\n\t\t\tincomingTiddlers.push(title);\n\t\t\timportData.tiddlers[title] = tiddlerFields;\n\t\t}\n\t});\n\t// Give the active upgrader modules a chance to process the incoming tiddlers\n\tvar messages = this.wiki.invokeUpgraders(incomingTiddlers,importData.tiddlers);\n\t$tw.utils.each(messages,function(message,title) {\n\t\tnewFields[\&quot;message-\&quot; + title] = message;\n\t});\n\t// Deselect any suppressed tiddlers\n\t$tw.utils.each(importData.tiddlers,function(tiddler,title) {\n\t\tif($tw.utils.count(tiddler) === 0) {\n\t\t\tnewFields[\&quot;selection-\&quot; + title] = \&quot;unchecked\&quot;;\n\t\t}\n\t});\n\t// Save the $:/Import tiddler\n\tnewFields.text = JSON.stringify(importData,null,$tw.config.preferences.jsonSpaces);\n\tthis.wiki.addTiddler(new $tw.Tiddler(importTiddler,newFields));\n\t// Update the story and history details\n\tif(this.getVariable(\&quot;tv-auto-open-on-import\&quot;) !== \&quot;no\&quot;) {\n\t\tvar storyList = this.getStoryList(),\n\t\t\thistory = [];\n\t\t// Add it to the story\n\t\tif(storyList.indexOf(IMPORT_TITLE) === -1) {\n\t\t\tstoryList.unshift(IMPORT_TITLE);\n\t\t}\n\t\t// And to history\n\t\thistory.push(IMPORT_TITLE);\n\t\t// Save the updated story and history\n\t\tthis.saveStoryList(storyList);\n\t\tthis.addToHistory(history);\t\t\n\t}\n\treturn false;\n};\n\n// \nNavigatorWidget.prototype.handlePerformImportEvent = function(event) {\n\tvar self = this,\n\t\timportTiddler = this.wiki.getTiddler(event.param),\n\t\timportData = this.wiki.getTiddlerDataCached(event.param,{tiddlers: {}}),\n\t\timportReport = [];\n\t// Add the tiddlers to the store\n\timportReport.push($tw.language.getString(\&quot;Import/Imported\&quot;) + \&quot;\\n\&quot;);\n\t$tw.utils.each(importData.tiddlers,function(tiddlerFields) {\n\t\tvar title = tiddlerFields.title;\n\t\tif(title &amp;&amp; importTiddler &amp;&amp; importTiddler.fields[\&quot;selection-\&quot; + title] !== \&quot;unchecked\&quot;) {\n\t\t\tself.wiki.addTiddler(new $tw.Tiddler(tiddlerFields));\n\t\t\timportReport.push(\&quot;# [[\&quot; + tiddlerFields.title + \&quot;]]\&quot;);\n\t\t}\n\t});\n\t// Replace the $:/Import tiddler with an import report\n\tthis.wiki.addTiddler(new $tw.Tiddler({\n\t\ttitle: event.param,\n\t\ttext: importReport.join(\&quot;\\n\&quot;),\n\t\t\&quot;status\&quot;: \&quot;complete\&quot;\n\t}));\n\t// Navigate to the $:/Import tiddler\n\tthis.addToHistory([event.param]);\n\t// Trigger an autosave\n\t$tw.rootWidget.dispatchEvent({type: \&quot;tm-auto-save-wiki\&quot;});\n};\n\nNavigatorWidget.prototype.handleFoldTiddlerEvent = function(event) {\n\tvar self = this,\n\t\tparamObject = event.paramObject || {};\n\tif(paramObject.foldedState) {\n\t\tvar foldedState = this.wiki.getTiddlerText(paramObject.foldedState,\&quot;show\&quot;) === \&quot;show\&quot; ? \&quot;hide\&quot; : \&quot;show\&quot;;\n\t\tthis.wiki.setText(paramObject.foldedState,\&quot;text\&quot;,null,foldedState);\n\t}\n};\n\nNavigatorWidget.prototype.handleFoldOtherTiddlersEvent = function(event) {\n\tvar self = this,\n\t\tparamObject = event.paramObject || {},\n\t\tprefix = paramObject.foldedStatePrefix;\n\t$tw.utils.each(this.getStoryList(),function(title) {\n\t\tself.wiki.setText(prefix + title,\&quot;text\&quot;,null,event.param === title ? \&quot;show\&quot; : \&quot;hide\&quot;);\n\t});\n};\n\nNavigatorWidget.prototype.handleFoldAllTiddlersEvent = function(event) {\n\tvar self = this,\n\t\tparamObject = event.paramObject || {},\n\t\tprefix = paramObject.foldedStatePrefix;\n\t$tw.utils.each(this.getStoryList(),function(title) {\n\t\tself.wiki.setText(prefix + title,\&quot;text\&quot;,null,\&quot;hide\&quot;);\n\t});\n};\n\nNavigatorWidget.prototype.handleUnfoldAllTiddlersEvent = function(event) {\n\tvar self = this,\n\t\tparamObject = event.paramObject || {},\n\t\tprefix = paramObject.foldedStatePrefix;\n\t$tw.utils.each(this.getStoryList(),function(title) {\n\t\tself.wiki.setText(prefix + title,\&quot;text\&quot;,null,\&quot;show\&quot;);\n\t});\n};\n\nNavigatorWidget.prototype.handleRenameTiddlerEvent = function(event) {\n\tvar self = this,\n\t\tparamObject = event.paramObject || {},\n\t\tfrom = paramObject.from || event.tiddlerTitle,\n\t\tto = paramObject.to;\n\t$tw.wiki.renameTiddler(from,to);\n};\n\nexports.navigator = NavigatorWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/navigator.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/password.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/password.js\ntype: application/javascript\nmodule-type: widget\n\nPassword widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar PasswordWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nPasswordWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nPasswordWidget.prototype.render = function(parent,nextSibling) {\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Get the current password\n\tvar password = $tw.browser ? $tw.utils.getPassword(this.passwordName) || \&quot;\&quot; : \&quot;\&quot;;\n\t// Create our element\n\tvar domNode = this.document.createElement(\&quot;input\&quot;);\n\tdomNode.setAttribute(\&quot;type\&quot;,\&quot;password\&quot;);\n\tdomNode.setAttribute(\&quot;value\&quot;,password);\n\t// Add a click event handler\n\t$tw.utils.addEventListeners(domNode,[\n\t\t{name: \&quot;change\&quot;, handlerObject: this, handlerMethod: \&quot;handleChangeEvent\&quot;}\n\t]);\n\t// Insert the label into the DOM and render any children\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tthis.domNodes.push(domNode);\n};\n\nPasswordWidget.prototype.handleChangeEvent = function(event) {\n\tvar password = this.domNodes[0].value;\n\treturn $tw.utils.savePassword(this.passwordName,password);\n};\n\n/*\nCompute the internal state of the widget\n*/\nPasswordWidget.prototype.execute = function() {\n\t// Get the parameters from the attributes\n\tthis.passwordName = this.getAttribute(\&quot;name\&quot;,\&quot;\&quot;);\n\t// Make the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nPasswordWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.name) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\n\t}\n};\n\nexports.password = PasswordWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/password.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/radio.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/radio.js\ntype: application/javascript\nmodule-type: widget\n\nRadio widget\n\nWill set a field to the selected value:\n\n```\n\t&lt;$radio field=\&quot;myfield\&quot; value=\&quot;check 1\&quot;&gt;one&lt;/$radio&gt;\n\t&lt;$radio field=\&quot;myfield\&quot; value=\&quot;check 2\&quot;&gt;two&lt;/$radio&gt;\n\t&lt;$radio field=\&quot;myfield\&quot; value=\&quot;check 3\&quot;&gt;three&lt;/$radio&gt;\n```\n\n|Parameter |Description |h\n|tiddler |Name of the tiddler in which the field should be set. Defaults to current tiddler |\n|field |The name of the field to be set |\n|value |The value to set |\n|class |Optional class name(s) |\n\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar RadioWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nRadioWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nRadioWidget.prototype.render = function(parent,nextSibling) {\n\t// Save the parent dom node\n\tthis.parentDomNode = parent;\n\t// Compute our attributes\n\tthis.computeAttributes();\n\t// Execute our logic\n\tthis.execute();\n\t// Create our elements\n\tthis.labelDomNode = this.document.createElement(\&quot;label\&quot;);\n\tthis.labelDomNode.setAttribute(\&quot;class\&quot;,this.radioClass);\n\tthis.inputDomNode = this.document.createElement(\&quot;input\&quot;);\n\tthis.inputDomNode.setAttribute(\&quot;type\&quot;,\&quot;radio\&quot;);\n\tif(this.getValue() == this.radioValue) {\n\t\tthis.inputDomNode.setAttribute(\&quot;checked\&quot;,\&quot;true\&quot;);\n\t}\n\tthis.labelDomNode.appendChild(this.inputDomNode);\n\tthis.spanDomNode = this.document.createElement(\&quot;span\&quot;);\n\tthis.labelDomNode.appendChild(this.spanDomNode);\n\t// Add a click event handler\n\t$tw.utils.addEventListeners(this.inputDomNode,[\n\t\t{name: \&quot;change\&quot;, handlerObject: this, handlerMethod: \&quot;handleChangeEvent\&quot;}\n\t]);\n\t// Insert the label into the DOM and render any children\n\tparent.insertBefore(this.labelDomNode,nextSibling);\n\tthis.renderChildren(this.spanDomNode,null);\n\tthis.domNodes.push(this.labelDomNode);\n};\n\nRadioWidget.prototype.getValue = function() {\n\tvar tiddler = this.wiki.getTiddler(this.radioTitle);\n\treturn tiddler &amp;&amp; tiddler.getFieldString(this.radioField);\n};\n\nRadioWidget.prototype.setValue = function() {\n\tif(this.radioField) {\n\t\tvar tiddler = this.wiki.getTiddler(this.radioTitle),\n\t\t\taddition = {};\n\t\taddition[this.radioField] = this.radioValue;\n\t\tthis.wiki.addTiddler(new $tw.Tiddler(this.wiki.getCreationFields(),{title: this.radioTitle},tiddler,addition,this.wiki.getModificationFields()));\n\t}\n};\n\nRadioWidget.prototype.handleChangeEvent = function(event) {\n\tif(this.inputDomNode.checked) {\n\t\tthis.setValue();\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nRadioWidget.prototype.execute = function() {\n\t// Get the parameters from the attributes\n\tthis.radioTitle = this.getAttribute(\&quot;tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\tthis.radioField = this.getAttribute(\&quot;field\&quot;,\&quot;text\&quot;);\n\tthis.radioValue = this.getAttribute(\&quot;value\&quot;);\n\tthis.radioClass = this.getAttribute(\&quot;class\&quot;,\&quot;\&quot;);\n\tif(this.radioClass !== \&quot;\&quot;) {\n\t\tthis.radioClass += \&quot; \&quot;;\n\t}\n\tthis.radioClass += \&quot;tc-radio\&quot;;\n\t// Make the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nRadioWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler || changedAttributes.field || changedAttributes.value || changedAttributes[\&quot;class\&quot;]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\tvar refreshed = false;\n\t\tif(changedTiddlers[this.radioTitle]) {\n\t\t\tthis.inputDomNode.checked = this.getValue() === this.radioValue;\n\t\t\trefreshed = true;\n\t\t}\n\t\treturn this.refreshChildren(changedTiddlers) || refreshed;\n\t}\n};\n\nexports.radio = RadioWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/radio.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/raw.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/raw.js\ntype: application/javascript\nmodule-type: widget\n\nRaw widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar RawWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nRawWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nRawWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.execute();\n\tvar div = this.document.createElement(\&quot;div\&quot;);\n\tdiv.innerHTML=this.parseTreeNode.html;\n\tparent.insertBefore(div,nextSibling);\n\tthis.domNodes.push(div);\t\n};\n\n/*\nCompute the internal state of the widget\n*/\nRawWidget.prototype.execute = function() {\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nRawWidget.prototype.refresh = function(changedTiddlers) {\n\treturn false;\n};\n\nexports.raw = RawWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/raw.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/reveal.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/reveal.js\ntype: application/javascript\nmodule-type: widget\n\nReveal widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar RevealWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nRevealWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nRevealWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar tag = this.parseTreeNode.isBlock ? \&quot;div\&quot; : \&quot;span\&quot;;\n\tif(this.revealTag &amp;&amp; $tw.config.htmlUnsafeElements.indexOf(this.revealTag) === -1) {\n\t\ttag = this.revealTag;\n\t}\n\tvar domNode = this.document.createElement(tag);\n\tvar classes = this[\&quot;class\&quot;].split(\&quot; \&quot;) || [];\n\tclasses.push(\&quot;tc-reveal\&quot;);\n\tdomNode.className = classes.join(\&quot; \&quot;);\n\tif(this.style) {\n\t\tdomNode.setAttribute(\&quot;style\&quot;,this.style);\n\t}\n\tparent.insertBefore(domNode,nextSibling);\n\tthis.renderChildren(domNode,null);\n\tif(!domNode.isTiddlyWikiFakeDom &amp;&amp; this.type === \&quot;popup\&quot; &amp;&amp; this.isOpen) {\n\t\tthis.positionPopup(domNode);\n\t\t$tw.utils.addClass(domNode,\&quot;tc-popup\&quot;); // Make sure that clicks don't dismiss popups within the revealed content\n\t}\n\tif(!this.isOpen) {\n\t\tdomNode.setAttribute(\&quot;hidden\&quot;,\&quot;true\&quot;);\n\t}\n\tthis.domNodes.push(domNode);\n};\n\nRevealWidget.prototype.positionPopup = function(domNode) {\n\tdomNode.style.position = \&quot;absolute\&quot;;\n\tdomNode.style.zIndex = \&quot;1000\&quot;;\n\tswitch(this.position) {\n\t\tcase \&quot;left\&quot;:\n\t\t\tdomNode.style.left = (this.popup.left - domNode.offsetWidth) + \&quot;px\&quot;;\n\t\t\tdomNode.style.top = this.popup.top + \&quot;px\&quot;;\n\t\t\tbreak;\n\t\tcase \&quot;above\&quot;:\n\t\t\tdomNode.style.left = this.popup.left + \&quot;px\&quot;;\n\t\t\tdomNode.style.top = (this.popup.top - domNode.offsetHeight) + \&quot;px\&quot;;\n\t\t\tbreak;\n\t\tcase \&quot;aboveright\&quot;:\n\t\t\tdomNode.style.left = (this.popup.left + this.popup.width) + \&quot;px\&quot;;\n\t\t\tdomNode.style.top = (this.popup.top + this.popup.height - domNode.offsetHeight) + \&quot;px\&quot;;\n\t\t\tbreak;\n\t\tcase \&quot;right\&quot;:\n\t\t\tdomNode.style.left = (this.popup.left + this.popup.width) + \&quot;px\&quot;;\n\t\t\tdomNode.style.top = this.popup.top + \&quot;px\&quot;;\n\t\t\tbreak;\n\t\tcase \&quot;belowleft\&quot;:\n\t\t\tdomNode.style.left = (this.popup.left + this.popup.width - domNode.offsetWidth) + \&quot;px\&quot;;\n\t\t\tdomNode.style.top = (this.popup.top + this.popup.height) + \&quot;px\&quot;;\n\t\t\tbreak;\n\t\tdefault: // Below\n\t\t\tdomNode.style.left = this.popup.left + \&quot;px\&quot;;\n\t\t\tdomNode.style.top = (this.popup.top + this.popup.height) + \&quot;px\&quot;;\n\t\t\tbreak;\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nRevealWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.state = this.getAttribute(\&quot;state\&quot;);\n\tthis.revealTag = this.getAttribute(\&quot;tag\&quot;);\n\tthis.type = this.getAttribute(\&quot;type\&quot;);\n\tthis.text = this.getAttribute(\&quot;text\&quot;);\n\tthis.position = this.getAttribute(\&quot;position\&quot;);\n\tthis[\&quot;class\&quot;] = this.getAttribute(\&quot;class\&quot;,\&quot;\&quot;);\n\tthis.style = this.getAttribute(\&quot;style\&quot;,\&quot;\&quot;);\n\tthis[\&quot;default\&quot;] = this.getAttribute(\&quot;default\&quot;,\&quot;\&quot;);\n\tthis.animate = this.getAttribute(\&quot;animate\&quot;,\&quot;no\&quot;);\n\tthis.retain = this.getAttribute(\&quot;retain\&quot;,\&quot;no\&quot;);\n\tthis.openAnimation = this.animate === \&quot;no\&quot; ? undefined : \&quot;open\&quot;;\n\tthis.closeAnimation = this.animate === \&quot;no\&quot; ? undefined : \&quot;close\&quot;;\n\t// Compute the title of the state tiddler and read it\n\tthis.stateTitle = this.state;\n\tthis.readState();\n\t// Construct the child widgets\n\tvar childNodes = this.isOpen ? this.parseTreeNode.children : [];\n\tthis.hasChildNodes = this.isOpen;\n\tthis.makeChildWidgets(childNodes);\n};\n\n/*\nRead the state tiddler\n*/\nRevealWidget.prototype.readState = function() {\n\t// Read the information from the state tiddler\n\tvar state = this.stateTitle ? this.wiki.getTextReference(this.stateTitle,this[\&quot;default\&quot;],this.getVariable(\&quot;currentTiddler\&quot;)) : this[\&quot;default\&quot;];\n\tswitch(this.type) {\n\t\tcase \&quot;popup\&quot;:\n\t\t\tthis.readPopupState(state);\n\t\t\tbreak;\n\t\tcase \&quot;match\&quot;:\n\t\t\tthis.readMatchState(state);\n\t\t\tbreak;\n\t\tcase \&quot;nomatch\&quot;:\n\t\t\tthis.readMatchState(state);\n\t\t\tthis.isOpen = !this.isOpen;\n\t\t\tbreak;\n\t}\n};\n\nRevealWidget.prototype.readMatchState = function(state) {\n\tthis.isOpen = state === this.text;\n};\n\nRevealWidget.prototype.readPopupState = function(state) {\n\tvar popupLocationRegExp = /^\\((-?[0-9\\.E]+),(-?[0-9\\.E]+),(-?[0-9\\.E]+),(-?[0-9\\.E]+)\\)$/,\n\t\tmatch = popupLocationRegExp.exec(state);\n\t// Check if the state matches the location regexp\n\tif(match) {\n\t\t// If so, we're open\n\t\tthis.isOpen = true;\n\t\t// Get the location\n\t\tthis.popup = {\n\t\t\tleft: parseFloat(match[1]),\n\t\t\ttop: parseFloat(match[2]),\n\t\t\twidth: parseFloat(match[3]),\n\t\t\theight: parseFloat(match[4])\n\t\t};\n\t} else {\n\t\t// If not, we're closed\n\t\tthis.isOpen = false;\n\t}\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nRevealWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.state || changedAttributes.type || changedAttributes.text || changedAttributes.position || changedAttributes[\&quot;default\&quot;] || changedAttributes.animate) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\tvar refreshed = false,\n\t\t\tcurrentlyOpen = this.isOpen;\n\t\tthis.readState();\n\t\tif(this.isOpen !== currentlyOpen) {\n\t\t\tif(this.retain === \&quot;yes\&quot;) {\n\t\t\t\tthis.updateState();\n\t\t\t} else {\n\t\t\t\tthis.refreshSelf();\n\t\t\t\trefreshed = true;\n\t\t\t}\n\t\t}\n\t\treturn this.refreshChildren(changedTiddlers) || refreshed;\n\t}\n};\n\n/*\nCalled by refresh() to dynamically show or hide the content\n*/\nRevealWidget.prototype.updateState = function() {\n\t// Read the current state\n\tthis.readState();\n\t// Construct the child nodes if needed\n\tvar domNode = this.domNodes[0];\n\tif(this.isOpen &amp;&amp; !this.hasChildNodes) {\n\t\tthis.hasChildNodes = true;\n\t\tthis.makeChildWidgets(this.parseTreeNode.children);\n\t\tthis.renderChildren(domNode,null);\n\t}\n\t// Animate our DOM node\n\tif(!domNode.isTiddlyWikiFakeDom &amp;&amp; this.type === \&quot;popup\&quot; &amp;&amp; this.isOpen) {\n\t\tthis.positionPopup(domNode);\n\t\t$tw.utils.addClass(domNode,\&quot;tc-popup\&quot;); // Make sure that clicks don't dismiss popups within the revealed content\n\n\t}\n\tif(this.isOpen) {\n\t\tdomNode.removeAttribute(\&quot;hidden\&quot;);\n        $tw.anim.perform(this.openAnimation,domNode);\n\t} else {\n\t\t$tw.anim.perform(this.closeAnimation,domNode,{callback: function() {\n\t\t\tdomNode.setAttribute(\&quot;hidden\&quot;,\&quot;true\&quot;);\n        }});\n\t}\n};\n\nexports.reveal = RevealWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/reveal.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/scrollable.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/scrollable.js\ntype: application/javascript\nmodule-type: widget\n\nScrollable widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar ScrollableWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n\tthis.scaleFactor = 1;\n\tthis.addEventListeners([\n\t\t{type: \&quot;tm-scroll\&quot;, handler: \&quot;handleScrollEvent\&quot;}\n\t]);\n\tif($tw.browser) {\n\t\tthis.requestAnimationFrame = window.requestAnimationFrame ||\n\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\tfunction(callback) {\n\t\t\t\treturn window.setTimeout(callback, 1000/60);\n\t\t\t};\n\t\tthis.cancelAnimationFrame = window.cancelAnimationFrame ||\n\t\t\twindow.webkitCancelAnimationFrame ||\n\t\t\twindow.webkitCancelRequestAnimationFrame ||\n\t\t\twindow.mozCancelAnimationFrame ||\n\t\t\twindow.mozCancelRequestAnimationFrame ||\n\t\t\tfunction(id) {\n\t\t\t\twindow.clearTimeout(id);\n\t\t\t};\n\t}\n};\n\n/*\nInherit from the base widget class\n*/\nScrollableWidget.prototype = new Widget();\n\nScrollableWidget.prototype.cancelScroll = function() {\n\tif(this.idRequestFrame) {\n\t\tthis.cancelAnimationFrame.call(window,this.idRequestFrame);\n\t\tthis.idRequestFrame = null;\n\t}\n};\n\n/*\nHandle a scroll event\n*/\nScrollableWidget.prototype.handleScrollEvent = function(event) {\n\t// Pass the scroll event through if our offsetsize is larger than our scrollsize\n\tif(this.outerDomNode.scrollWidth &lt;= this.outerDomNode.offsetWidth &amp;&amp; this.outerDomNode.scrollHeight &lt;= this.outerDomNode.offsetHeight &amp;&amp; this.fallthrough === \&quot;yes\&quot;) {\n\t\treturn true;\n\t}\n\tthis.scrollIntoView(event.target);\n\treturn false; // Handled event\n};\n\n/*\nScroll an element into view\n*/\nScrollableWidget.prototype.scrollIntoView = function(element) {\n\tvar duration = $tw.utils.getAnimationDuration();\n\tthis.cancelScroll();\n\tthis.startTime = Date.now();\n\tvar scrollPosition = {\n\t\tx: this.outerDomNode.scrollLeft,\n\t\ty: this.outerDomNode.scrollTop\n\t};\n\t// Get the client bounds of the element and adjust by the scroll position\n\tvar scrollableBounds = this.outerDomNode.getBoundingClientRect(),\n\t\tclientTargetBounds = element.getBoundingClientRect(),\n\t\tbounds = {\n\t\t\tleft: clientTargetBounds.left + scrollPosition.x - scrollableBounds.left,\n\t\t\ttop: clientTargetBounds.top + scrollPosition.y - scrollableBounds.top,\n\t\t\twidth: clientTargetBounds.width,\n\t\t\theight: clientTargetBounds.height\n\t\t};\n\t// We'll consider the horizontal and vertical scroll directions separately via this function\n\tvar getEndPos = function(targetPos,targetSize,currentPos,currentSize) {\n\t\t\t// If the target is already visible then stay where we are\n\t\t\tif(targetPos &gt;= currentPos &amp;&amp; (targetPos + targetSize) &lt;= (currentPos + currentSize)) {\n\t\t\t\treturn currentPos;\n\t\t\t// If the target is above/left of the current view, then scroll to its top/left\n\t\t\t} else if(targetPos &lt;= currentPos) {\n\t\t\t\treturn targetPos;\n\t\t\t// If the target is smaller than the window and the scroll position is too far up, then scroll till the target is at the bottom of the window\n\t\t\t} else if(targetSize &lt; currentSize &amp;&amp; currentPos &lt; (targetPos + targetSize - currentSize)) {\n\t\t\t\treturn targetPos + targetSize - currentSize;\n\t\t\t// If the target is big, then just scroll to the top\n\t\t\t} else if(currentPos &lt; targetPos) {\n\t\t\t\treturn targetPos;\n\t\t\t// Otherwise, stay where we are\n\t\t\t} else {\n\t\t\t\treturn currentPos;\n\t\t\t}\n\t\t},\n\t\tendX = getEndPos(bounds.left,bounds.width,scrollPosition.x,this.outerDomNode.offsetWidth),\n\t\tendY = getEndPos(bounds.top,bounds.height,scrollPosition.y,this.outerDomNode.offsetHeight);\n\t// Only scroll if necessary\n\tif(endX !== scrollPosition.x || endY !== scrollPosition.y) {\n\t\tvar self = this,\n\t\t\tdrawFrame;\n\t\tdrawFrame = function () {\n\t\t\tvar t;\n\t\t\tif(duration &lt;= 0) {\n\t\t\t\tt = 1;\n\t\t\t} else {\n\t\t\t\tt = ((Date.now()) - self.startTime) / duration;\t\n\t\t\t}\n\t\t\tif(t &gt;= 1) {\n\t\t\t\tself.cancelScroll();\n\t\t\t\tt = 1;\n\t\t\t}\n\t\t\tt = $tw.utils.slowInSlowOut(t);\n\t\t\tself.outerDomNode.scrollLeft = scrollPosition.x + (endX - scrollPosition.x) * t;\n\t\t\tself.outerDomNode.scrollTop = scrollPosition.y + (endY - scrollPosition.y) * t;\n\t\t\tif(t &lt; 1) {\n\t\t\t\tself.idRequestFrame = self.requestAnimationFrame.call(window,drawFrame);\n\t\t\t}\n\t\t};\n\t\tdrawFrame();\n\t}\n};\n\n/*\nRender this widget into the DOM\n*/\nScrollableWidget.prototype.render = function(parent,nextSibling) {\n\tvar self = this;\n\t// Remember parent\n\tthis.parentDomNode = parent;\n\t// Compute attributes and execute state\n\tthis.computeAttributes();\n\tthis.execute();\n\t// Create elements\n\tthis.outerDomNode = this.document.createElement(\&quot;div\&quot;);\n\t$tw.utils.setStyle(this.outerDomNode,[\n\t\t{overflowY: \&quot;auto\&quot;},\n\t\t{overflowX: \&quot;auto\&quot;},\n\t\t{webkitOverflowScrolling: \&quot;touch\&quot;}\n\t]);\n\tthis.innerDomNode = this.document.createElement(\&quot;div\&quot;);\n\tthis.outerDomNode.appendChild(this.innerDomNode);\n\t// Assign classes\n\tthis.outerDomNode.className = this[\&quot;class\&quot;] || \&quot;\&quot;;\n\t// Insert element\n\tparent.insertBefore(this.outerDomNode,nextSibling);\n\tthis.renderChildren(this.innerDomNode,null);\n\tthis.domNodes.push(this.outerDomNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nScrollableWidget.prototype.execute = function() {\n\t// Get attributes\n\tthis.fallthrough = this.getAttribute(\&quot;fallthrough\&quot;,\&quot;yes\&quot;);\n\tthis[\&quot;class\&quot;] = this.getAttribute(\&quot;class\&quot;);\n\t// Make child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nScrollableWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes[\&quot;class\&quot;]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports.scrollable = ScrollableWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/scrollable.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/select.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/select.js\ntype: application/javascript\nmodule-type: widget\n\nSelect widget:\n\n```\n&lt;$select tiddler=\&quot;MyTiddler\&quot; field=\&quot;text\&quot;&gt;\n&lt;$list filter=\&quot;[tag[chapter]]\&quot;&gt;\n&lt;option value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;$view field=\&quot;description\&quot;/&gt;\n&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar SelectWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nSelectWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nSelectWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n\tthis.setSelectValue();\n\t$tw.utils.addEventListeners(this.getSelectDomNode(),[\n\t\t{name: \&quot;change\&quot;, handlerObject: this, handlerMethod: \&quot;handleChangeEvent\&quot;}\n\t]);\n};\n\n/*\nHandle a change event\n*/\nSelectWidget.prototype.handleChangeEvent = function(event) {\n\tif(this.selectMultiple == false) {\n\t\tvar value = this.getSelectDomNode().value;\n\t} else {\n\t\tvar value = this.getSelectValues()\n\t\t\t\tvalue = $tw.utils.stringifyList(value);\n\t}\n\tthis.wiki.setText(this.selectTitle,this.selectField,this.selectIndex,value);\n};\n\n/*\nIf necessary, set the value of the select element to the current value\n*/\nSelectWidget.prototype.setSelectValue = function() {\n\tvar value = this.selectDefault;\n\t// Get the value\n\tif(this.selectIndex) {\n\t\tvalue = this.wiki.extractTiddlerDataItem(this.selectTitle,this.selectIndex);\n\t} else {\n\t\tvar tiddler = this.wiki.getTiddler(this.selectTitle);\n\t\tif(tiddler) {\n\t\t\tif(this.selectField === \&quot;text\&quot;) {\n\t\t\t\t// Calling getTiddlerText() triggers lazy loading of skinny tiddlers\n\t\t\t\tvalue = this.wiki.getTiddlerText(this.selectTitle);\n\t\t\t} else {\n\t\t\t\tif($tw.utils.hop(tiddler.fields,this.selectField)) {\n\t\t\t\t\tvalue = tiddler.getFieldString(this.selectField);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif(this.selectField === \&quot;title\&quot;) {\n\t\t\t\tvalue = this.selectTitle;\n\t\t\t}\n\t\t}\n\t}\n\t// Assign it to the select element if it's different than the current value\n\tif (this.selectMultiple) {\n\t\tvalue = value === undefined ? \&quot;\&quot; : value;\n\t\tvar select = this.getSelectDomNode();\n\t\tvar values = Array.isArray(value) ? value : $tw.utils.parseStringArray(value);\n\t\tfor(var i=0; i &lt; select.children.length; i++){\n\t\t\tif(values.indexOf(select.children[i].value) != -1) {\n\t\t\t\tselect.children[i].selected = true;\n\t\t\t}\n\t\t}\n\t\t\n\t} else {\n\t\tvar domNode = this.getSelectDomNode();\n\t\tif(domNode.value !== value) {\n\t\t\tdomNode.value = value;\n\t\t}\n\t}\n};\n\n/*\nGet the DOM node of the select element\n*/\nSelectWidget.prototype.getSelectDomNode = function() {\n\treturn this.children[0].domNodes[0];\n};\n\n// Return an array of the selected opion values\n// select is an HTML select element\nSelectWidget.prototype.getSelectValues = function() {\n\tvar select, result, options, opt;\n\tselect = this.getSelectDomNode();\n\tresult = [];\n\toptions = select &amp;&amp; select.options;\n\tfor (var i=0; i&lt;options.length; i++) {\n\t\topt = options[i];\n\t\tif (opt.selected) {\n\t\t\tresult.push(opt.value || opt.text);\n\t\t}\n\t}\n\treturn result;\n}\n\n/*\nCompute the internal state of the widget\n*/\nSelectWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.selectTitle = this.getAttribute(\&quot;tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\tthis.selectField = this.getAttribute(\&quot;field\&quot;,\&quot;text\&quot;);\n\tthis.selectIndex = this.getAttribute(\&quot;index\&quot;);\n\tthis.selectClass = this.getAttribute(\&quot;class\&quot;);\n\tthis.selectDefault = this.getAttribute(\&quot;default\&quot;);\n\tthis.selectMultiple = this.getAttribute(\&quot;multiple\&quot;, false);\n\tthis.selectSize = this.getAttribute(\&quot;size\&quot;);\n\t// Make the child widgets\n\tvar selectNode = {\n\t\ttype: \&quot;element\&quot;,\n\t\ttag: \&quot;select\&quot;,\n\t\tchildren: this.parseTreeNode.children\n\t};\n\tif(this.selectClass) {\n\t\t$tw.utils.addAttributeToParseTreeNode(selectNode,\&quot;class\&quot;,this.selectClass);\n\t}\n\tif(this.selectMultiple) {\n\t\t$tw.utils.addAttributeToParseTreeNode(selectNode,\&quot;multiple\&quot;,\&quot;multiple\&quot;);\n\t}\n\tif(this.selectSize) {\n\t\t$tw.utils.addAttributeToParseTreeNode(selectNode,\&quot;size\&quot;,this.selectSize);\n\t}\n\tthis.makeChildWidgets([selectNode]);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nSelectWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\t// If we're using a different tiddler/field/index then completely refresh ourselves\n\tif(changedAttributes.selectTitle || changedAttributes.selectField || changedAttributes.selectIndex) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t// If the target tiddler value has changed, just update setting and refresh the children\n\t} else {\n\t\tvar childrenRefreshed = this.refreshChildren(changedTiddlers);\n\t\tif(changedTiddlers[this.selectTitle] || childrenRefreshed) {\n\t\t\tthis.setSelectValue();\n\t\t} \n\t\treturn childrenRefreshed;\n\t}\n};\n\nexports.select = SelectWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/select.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/set.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/set.js\ntype: application/javascript\nmodule-type: widget\n\nSet variable widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar SetWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nSetWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nSetWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nSetWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.setName = this.getAttribute(\&quot;name\&quot;,\&quot;currentTiddler\&quot;);\n\tthis.setFilter = this.getAttribute(\&quot;filter\&quot;);\n\tthis.setValue = this.getAttribute(\&quot;value\&quot;);\n\tthis.setEmptyValue = this.getAttribute(\&quot;emptyValue\&quot;);\n\t// Set context variable\n\tthis.setVariable(this.setName,this.getValue(),this.parseTreeNode.params);\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nGet the value to be assigned\n*/\nSetWidget.prototype.getValue = function() {\n\tvar value = this.setValue;\n\tif(this.setFilter) {\n\t\tvar results = this.wiki.filterTiddlers(this.setFilter,this);\n\t\tif(!this.setValue) {\n\t\t\tvalue = $tw.utils.stringifyList(results);\n\t\t}\n\t\tif(results.length === 0 &amp;&amp; this.setEmptyValue !== undefined) {\n\t\t\tvalue = this.setEmptyValue;\n\t\t}\n\t} else if(!value &amp;&amp; this.setEmptyValue) {\n\t\tvalue = this.setEmptyValue;\n\t}\n\treturn value;\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nSetWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.name || changedAttributes.filter || changedAttributes.value || changedAttributes.emptyValue ||\n\t   (this.setFilter &amp;&amp; this.getValue() != this.variables[this.setName].value)) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\n\t}\n};\n\nexports.setvariable = SetWidget;\nexports.set = SetWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/set.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/text.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/text.js\ntype: application/javascript\nmodule-type: widget\n\nText node widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar TextNodeWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nTextNodeWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nTextNodeWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tvar text = this.getAttribute(\&quot;text\&quot;,this.parseTreeNode.text || \&quot;\&quot;);\n\ttext = text.replace(/\\r/mg,\&quot;\&quot;);\n\tvar textNode = this.document.createTextNode(text);\n\tparent.insertBefore(textNode,nextSibling);\n\tthis.domNodes.push(textNode);\n};\n\n/*\nCompute the internal state of the widget\n*/\nTextNodeWidget.prototype.execute = function() {\n\t// Nothing to do for a text node\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nTextNodeWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.text) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn false;\t\n\t}\n};\n\nexports.text = TextNodeWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/text.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/tiddler.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/tiddler.js\ntype: application/javascript\nmodule-type: widget\n\nTiddler widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar TiddlerWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nTiddlerWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nTiddlerWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nTiddlerWidget.prototype.execute = function() {\n\tthis.tiddlerState = this.computeTiddlerState();\n\tthis.setVariable(\&quot;currentTiddler\&quot;,this.tiddlerState.currentTiddler);\n\tthis.setVariable(\&quot;missingTiddlerClass\&quot;,this.tiddlerState.missingTiddlerClass);\n\tthis.setVariable(\&quot;shadowTiddlerClass\&quot;,this.tiddlerState.shadowTiddlerClass);\n\tthis.setVariable(\&quot;systemTiddlerClass\&quot;,this.tiddlerState.systemTiddlerClass);\n\tthis.setVariable(\&quot;tiddlerTagClasses\&quot;,this.tiddlerState.tiddlerTagClasses);\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nCompute the tiddler state flags\n*/\nTiddlerWidget.prototype.computeTiddlerState = function() {\n\t// Get our parameters\n\tthis.tiddlerTitle = this.getAttribute(\&quot;tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\t// Compute the state\n\tvar state = {\n\t\tcurrentTiddler: this.tiddlerTitle || \&quot;\&quot;,\n\t\tmissingTiddlerClass: (this.wiki.tiddlerExists(this.tiddlerTitle) || this.wiki.isShadowTiddler(this.tiddlerTitle)) ? \&quot;tc-tiddler-exists\&quot; : \&quot;tc-tiddler-missing\&quot;,\n\t\tshadowTiddlerClass: this.wiki.isShadowTiddler(this.tiddlerTitle) ? \&quot;tc-tiddler-shadow\&quot; : \&quot;\&quot;,\n\t\tsystemTiddlerClass: this.wiki.isSystemTiddler(this.tiddlerTitle) ? \&quot;tc-tiddler-system\&quot; : \&quot;\&quot;,\n\t\ttiddlerTagClasses: this.getTagClasses()\n\t};\n\t// Compute a simple hash to make it easier to detect changes\n\tstate.hash = state.currentTiddler + state.missingTiddlerClass + state.shadowTiddlerClass + state.systemTiddlerClass + state.tiddlerTagClasses;\n\treturn state;\n};\n\n/*\nCreate a string of CSS classes derived from the tags of the current tiddler\n*/\nTiddlerWidget.prototype.getTagClasses = function() {\n\tvar tiddler = this.wiki.getTiddler(this.tiddlerTitle);\n\tif(tiddler) {\n\t\tvar tags = [];\n\t\t$tw.utils.each(tiddler.fields.tags,function(tag) {\n\t\t\ttags.push(\&quot;tc-tagged-\&quot; + encodeURIComponent(tag));\n\t\t});\n\t\treturn tags.join(\&quot; \&quot;);\n\t} else {\n\t\treturn \&quot;\&quot;;\n\t}\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nTiddlerWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes(),\n\t\tnewTiddlerState = this.computeTiddlerState();\n\tif(changedAttributes.tiddler || newTiddlerState.hash !== this.tiddlerState.hash) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nexports.tiddler = TiddlerWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/tiddler.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/transclude.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/transclude.js\ntype: application/javascript\nmodule-type: widget\n\nTransclude widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar TranscludeWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nTranscludeWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nTranscludeWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nTranscludeWidget.prototype.execute = function() {\n\t// Get our parameters\n\tthis.transcludeTitle = this.getAttribute(\&quot;tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\tthis.transcludeSubTiddler = this.getAttribute(\&quot;subtiddler\&quot;);\n\tthis.transcludeField = this.getAttribute(\&quot;field\&quot;);\n\tthis.transcludeIndex = this.getAttribute(\&quot;index\&quot;);\n\tthis.transcludeMode = this.getAttribute(\&quot;mode\&quot;);\n\t// Parse the text reference\n\tvar parseAsInline = !this.parseTreeNode.isBlock;\n\tif(this.transcludeMode === \&quot;inline\&quot;) {\n\t\tparseAsInline = true;\n\t} else if(this.transcludeMode === \&quot;block\&quot;) {\n\t\tparseAsInline = false;\n\t}\n\tvar parser = this.wiki.parseTextReference(\n\t\t\t\t\t\tthis.transcludeTitle,\n\t\t\t\t\t\tthis.transcludeField,\n\t\t\t\t\t\tthis.transcludeIndex,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tparseAsInline: parseAsInline,\n\t\t\t\t\t\t\tsubTiddler: this.transcludeSubTiddler\n\t\t\t\t\t\t}),\n\t\tparseTreeNodes = parser ? parser.tree : this.parseTreeNode.children;\n\t// Set context variables for recursion detection\n\tvar recursionMarker = this.makeRecursionMarker();\n\tthis.setVariable(\&quot;transclusion\&quot;,recursionMarker);\n\t// Check for recursion\n\tif(parser) {\n\t\tif(this.parentWidget &amp;&amp; this.parentWidget.hasVariable(\&quot;transclusion\&quot;,recursionMarker)) {\n\t\t\tparseTreeNodes = [{type: \&quot;element\&quot;, tag: \&quot;span\&quot;, attributes: {\n\t\t\t\t\&quot;class\&quot;: {type: \&quot;string\&quot;, value: \&quot;tc-error\&quot;}\n\t\t\t}, children: [\n\t\t\t\t{type: \&quot;text\&quot;, text: \&quot;Recursive transclusion error in transclude widget\&quot;}\n\t\t\t]}];\n\t\t}\n\t}\n\t// Construct the child widgets\n\tthis.makeChildWidgets(parseTreeNodes);\n};\n\n/*\nCompose a string comprising the title, field and/or index to identify this transclusion for recursion detection\n*/\nTranscludeWidget.prototype.makeRecursionMarker = function() {\n\tvar output = [];\n\toutput.push(\&quot;{\&quot;);\n\toutput.push(this.getVariable(\&quot;currentTiddler\&quot;,{defaultValue: \&quot;\&quot;}));\n\toutput.push(\&quot;|\&quot;);\n\toutput.push(this.transcludeTitle || \&quot;\&quot;);\n\toutput.push(\&quot;|\&quot;);\n\toutput.push(this.transcludeField || \&quot;\&quot;);\n\toutput.push(\&quot;|\&quot;);\n\toutput.push(this.transcludeIndex || \&quot;\&quot;);\n\toutput.push(\&quot;|\&quot;);\n\toutput.push(this.transcludeSubTiddler || \&quot;\&quot;);\n\toutput.push(\&quot;}\&quot;);\n\treturn output.join(\&quot;\&quot;);\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nTranscludeWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler || changedAttributes.field || changedAttributes.index || changedTiddlers[this.transcludeTitle]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn this.refreshChildren(changedTiddlers);\t\t\n\t}\n};\n\nexports.transclude = TranscludeWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/transclude.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/vars.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/vars.js\ntype: application/javascript\nmodule-type: widget\n\nThis widget allows multiple variables to be set in one go:\n\n```\n\\define helloworld() Hello world!\n&lt;$vars greeting=\&quot;Hi\&quot; me={{!!title}} sentence=&lt;&lt;helloworld&gt;&gt;&gt;\n  &lt;&lt;greeting&gt;&gt;! I am &lt;&lt;me&gt;&gt; and I say: &lt;&lt;sentence&gt;&gt;\n&lt;/$vars&gt;\n```\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar VarsWidget = function(parseTreeNode,options) {\n\t// Call the constructor\n\tWidget.call(this);\n\t// Initialise\t\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nVarsWidget.prototype = Object.create(Widget.prototype);\n\n/*\nRender this widget into the DOM\n*/\nVarsWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nVarsWidget.prototype.execute = function() {\n\t// Parse variables\n\tvar self = this;\n\t$tw.utils.each(this.attributes,function(val,key) {\n\t\tif(key.charAt(0) !== \&quot;$\&quot;) {\n\t\t\tself.setVariable(key,val);\n\t\t}\n\t});\n\t// Construct the child widgets\n\tthis.makeChildWidgets();\n};\n\n/*\nRefresh the widget by ensuring our attributes are up to date\n*/\nVarsWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(Object.keys(changedAttributes).length) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t}\n\treturn this.refreshChildren(changedTiddlers);\n};\n\nexports[\&quot;vars\&quot;] = VarsWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/vars.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/view.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/view.js\ntype: application/javascript\nmodule-type: widget\n\nView widget\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar Widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;\n\nvar ViewWidget = function(parseTreeNode,options) {\n\tthis.initialise(parseTreeNode,options);\n};\n\n/*\nInherit from the base widget class\n*/\nViewWidget.prototype = new Widget();\n\n/*\nRender this widget into the DOM\n*/\nViewWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.computeAttributes();\n\tthis.execute();\n\tif(this.text) {\n\t\tvar textNode = this.document.createTextNode(this.text);\n\t\tparent.insertBefore(textNode,nextSibling);\n\t\tthis.domNodes.push(textNode);\n\t} else {\n\t\tthis.makeChildWidgets();\n\t\tthis.renderChildren(parent,nextSibling);\n\t}\n};\n\n/*\nCompute the internal state of the widget\n*/\nViewWidget.prototype.execute = function() {\n\t// Get parameters from our attributes\n\tthis.viewTitle = this.getAttribute(\&quot;tiddler\&quot;,this.getVariable(\&quot;currentTiddler\&quot;));\n\tthis.viewSubtiddler = this.getAttribute(\&quot;subtiddler\&quot;);\n\tthis.viewField = this.getAttribute(\&quot;field\&quot;,\&quot;text\&quot;);\n\tthis.viewIndex = this.getAttribute(\&quot;index\&quot;);\n\tthis.viewFormat = this.getAttribute(\&quot;format\&quot;,\&quot;text\&quot;);\n\tthis.viewTemplate = this.getAttribute(\&quot;template\&quot;,\&quot;\&quot;);\n\tswitch(this.viewFormat) {\n\t\tcase \&quot;htmlwikified\&quot;:\n\t\t\tthis.text = this.getValueAsHtmlWikified();\n\t\t\tbreak;\n\t\tcase \&quot;htmlencodedplainwikified\&quot;:\n\t\t\tthis.text = this.getValueAsHtmlEncodedPlainWikified();\n\t\t\tbreak;\n\t\tcase \&quot;htmlencoded\&quot;:\n\t\t\tthis.text = this.getValueAsHtmlEncoded();\n\t\t\tbreak;\n\t\tcase \&quot;urlencoded\&quot;:\n\t\t\tthis.text = this.getValueAsUrlEncoded();\n\t\t\tbreak;\n\t\tcase \&quot;doubleurlencoded\&quot;:\n\t\t\tthis.text = this.getValueAsDoubleUrlEncoded();\n\t\t\tbreak;\n\t\tcase \&quot;date\&quot;:\n\t\t\tthis.text = this.getValueAsDate(this.viewTemplate);\n\t\t\tbreak;\n\t\tcase \&quot;relativedate\&quot;:\n\t\t\tthis.text = this.getValueAsRelativeDate();\n\t\t\tbreak;\n\t\tcase \&quot;stripcomments\&quot;:\n\t\t\tthis.text = this.getValueAsStrippedComments();\n\t\t\tbreak;\n\t\tcase \&quot;jsencoded\&quot;:\n\t\t\tthis.text = this.getValueAsJsEncoded();\n\t\t\tbreak;\n\t\tdefault: // \&quot;text\&quot;\n\t\t\tthis.text = this.getValueAsText();\n\t\t\tbreak;\n\t}\n};\n\n/*\nThe various formatter functions are baked into this widget for the moment. Eventually they will be replaced by macro functions\n*/\n\n/*\nRetrieve the value of the widget. Options are:\nasString: Optionally return the value as a string\n*/\nViewWidget.prototype.getValue = function(options) {\n\toptions = options || {};\n\tvar value = options.asString ? \&quot;\&quot; : undefined;\n\tif(this.viewIndex) {\n\t\tvalue = this.wiki.extractTiddlerDataItem(this.viewTitle,this.viewIndex);\n\t} else {\n\t\tvar tiddler;\n\t\tif(this.viewSubtiddler) {\n\t\t\ttiddler = this.wiki.getSubTiddler(this.viewTitle,this.viewSubtiddler);\t\n\t\t} else {\n\t\t\ttiddler = this.wiki.getTiddler(this.viewTitle);\n\t\t}\n\t\tif(tiddler) {\n\t\t\tif(this.viewField === \&quot;text\&quot; &amp;&amp; !this.viewSubtiddler) {\n\t\t\t\t// Calling getTiddlerText() triggers lazy loading of skinny tiddlers\n\t\t\t\tvalue = this.wiki.getTiddlerText(this.viewTitle);\n\t\t\t} else {\n\t\t\t\tif($tw.utils.hop(tiddler.fields,this.viewField)) {\n\t\t\t\t\tif(options.asString) {\n\t\t\t\t\t\tvalue = tiddler.getFieldString(this.viewField);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue = tiddler.fields[this.viewField];\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif(this.viewField === \&quot;title\&quot;) {\n\t\t\t\tvalue = this.viewTitle;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n\nViewWidget.prototype.getValueAsText = function() {\n\treturn this.getValue({asString: true});\n};\n\nViewWidget.prototype.getValueAsHtmlWikified = function() {\n\treturn this.wiki.renderText(\&quot;text/html\&quot;,\&quot;text/vnd.tiddlywiki\&quot;,this.getValueAsText(),{parentWidget: this});\n};\n\nViewWidget.prototype.getValueAsHtmlEncodedPlainWikified = function() {\n\treturn $tw.utils.htmlEncode(this.wiki.renderText(\&quot;text/plain\&quot;,\&quot;text/vnd.tiddlywiki\&quot;,this.getValueAsText(),{parentWidget: this}));\n};\n\nViewWidget.prototype.getValueAsHtmlEncoded = function() {\n\treturn $tw.utils.htmlEncode(this.getValueAsText());\n};\n\nViewWidget.prototype.getValueAsUrlEncoded = function() {\n\treturn encodeURIComponent(this.getValueAsText());\n};\n\nViewWidget.prototype.getValueAsDoubleUrlEncoded = function() {\n\treturn encodeURIComponent(encodeURIComponent(this.getValueAsText()));\n};\n\nViewWidget.prototype.getValueAsDate = function(format) {\n\tformat = format || \&quot;YYYY MM DD 0hh:0mm\&quot;;\n\tvar value = $tw.utils.parseDate(this.getValue());\n\tif(value &amp;&amp; $tw.utils.isDate(value) &amp;&amp; value.toString() !== \&quot;Invalid Date\&quot;) {\n\t\treturn $tw.utils.formatDateString(value,format);\n\t} else {\n\t\treturn \&quot;\&quot;;\n\t}\n};\n\nViewWidget.prototype.getValueAsRelativeDate = function(format) {\n\tvar value = $tw.utils.parseDate(this.getValue());\n\tif(value &amp;&amp; $tw.utils.isDate(value) &amp;&amp; value.toString() !== \&quot;Invalid Date\&quot;) {\n\t\treturn $tw.utils.getRelativeDate((new Date()) - (new Date(value))).description;\n\t} else {\n\t\treturn \&quot;\&quot;;\n\t}\n};\n\nViewWidget.prototype.getValueAsStrippedComments = function() {\n\tvar lines = this.getValueAsText().split(\&quot;\\n\&quot;),\n\t\tout = [];\n\tfor(var line=0; line&lt;lines.length; line++) {\n\t\tvar text = lines[line];\n\t\tif(!/^\\s*\\/\\/#/.test(text)) {\n\t\t\tout.push(text);\n\t\t}\n\t}\n\treturn out.join(\&quot;\\n\&quot;);\n};\n\nViewWidget.prototype.getValueAsJsEncoded = function() {\n\treturn $tw.utils.stringify(this.getValueAsText());\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nViewWidget.prototype.refresh = function(changedTiddlers) {\n\tvar changedAttributes = this.computeAttributes();\n\tif(changedAttributes.tiddler || changedAttributes.field || changedAttributes.index || changedAttributes.template || changedAttributes.format || changedTiddlers[this.viewTitle]) {\n\t\tthis.refreshSelf();\n\t\treturn true;\n\t} else {\n\t\treturn false;\t\n\t}\n};\n\nexports.view = ViewWidget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/view.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/widgets/widget.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/widgets/widget.js\ntype: application/javascript\nmodule-type: widget\n\nWidget base class\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nCreate a widget object for a parse tree node\n\tparseTreeNode: reference to the parse tree node to be rendered\n\toptions: see below\nOptions include:\n\twiki: mandatory reference to wiki associated with this render tree\n\tparentWidget: optional reference to a parent renderer node for the context chain\n\tdocument: optional document object to use instead of global document\n*/\nvar Widget = function(parseTreeNode,options) {\n\tif(arguments.length &gt; 0) {\n\t\tthis.initialise(parseTreeNode,options);\n\t}\n};\n\n/*\nInitialise widget properties. These steps are pulled out of the constructor so that we can reuse them in subclasses\n*/\nWidget.prototype.initialise = function(parseTreeNode,options) {\n\toptions = options || {};\n\t// Save widget info\n\tthis.parseTreeNode = parseTreeNode;\n\tthis.wiki = options.wiki;\n\tthis.parentWidget = options.parentWidget;\n\tthis.variablesConstructor = function() {};\n\tthis.variablesConstructor.prototype = this.parentWidget ? this.parentWidget.variables : {};\n\tthis.variables = new this.variablesConstructor();\n\tthis.document = options.document;\n\tthis.attributes = {};\n\tthis.children = [];\n\tthis.domNodes = [];\n\tthis.eventListeners = {};\n\t// Hashmap of the widget classes\n\tif(!this.widgetClasses) {\n\t\tWidget.prototype.widgetClasses = $tw.modules.applyMethods(\&quot;widget\&quot;);\n\t}\n};\n\n/*\nRender this widget into the DOM\n*/\nWidget.prototype.render = function(parent,nextSibling) {\n\tthis.parentDomNode = parent;\n\tthis.execute();\n\tthis.renderChildren(parent,nextSibling);\n};\n\n/*\nCompute the internal state of the widget\n*/\nWidget.prototype.execute = function() {\n\tthis.makeChildWidgets();\n};\n\n/*\nSet the value of a context variable\nname: name of the variable\nvalue: value of the variable\nparams: array of {name:, default:} for each parameter\n*/\nWidget.prototype.setVariable = function(name,value,params) {\n\tthis.variables[name] = {value: value, params: params};\n};\n\n/*\nGet the prevailing value of a context variable\nname: name of variable\noptions: see below\nOptions include\nparams: array of {name:, value:} for each parameter\ndefaultValue: default value if the variable is not defined\n*/\nWidget.prototype.getVariable = function(name,options) {\n\toptions = options || {};\n\tvar actualParams = options.params || [],\n\t\tparentWidget = this.parentWidget;\n\t// Check for the variable defined in the parent widget (or an ancestor in the prototype chain)\n\tif(parentWidget &amp;&amp; name in parentWidget.variables) {\n\t\tvar variable = parentWidget.variables[name],\n\t\t\tvalue = variable.value;\n\t\t// Substitute any parameters specified in the definition\n\t\tvalue = this.substituteVariableParameters(value,variable.params,actualParams);\n\t\tvalue = this.substituteVariableReferences(value);\n\t\treturn value;\n\t}\n\t// If the variable doesn't exist in the parent widget then look for a macro module\n\treturn this.evaluateMacroModule(name,actualParams,options.defaultValue);\n};\n\nWidget.prototype.substituteVariableParameters = function(text,formalParams,actualParams) {\n\tif(formalParams) {\n\t\tvar nextAnonParameter = 0, // Next candidate anonymous parameter in macro call\n\t\t\tparamInfo, paramValue;\n\t\t// Step through each of the parameters in the macro definition\n\t\tfor(var p=0; p&lt;formalParams.length; p++) {\n\t\t\t// Check if we've got a macro call parameter with the same name\n\t\t\tparamInfo = formalParams[p];\n\t\t\tparamValue = undefined;\n\t\t\tfor(var m=0; m&lt;actualParams.length; m++) {\n\t\t\t\tif(actualParams[m].name === paramInfo.name) {\n\t\t\t\t\tparamValue = actualParams[m].value;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// If not, use the next available anonymous macro call parameter\n\t\t\twhile(nextAnonParameter &lt; actualParams.length &amp;&amp; actualParams[nextAnonParameter].name) {\n\t\t\t\tnextAnonParameter++;\n\t\t\t}\n\t\t\tif(paramValue === undefined &amp;&amp; nextAnonParameter &lt; actualParams.length) {\n\t\t\t\tparamValue = actualParams[nextAnonParameter++].value;\n\t\t\t}\n\t\t\t// If we've still not got a value, use the default, if any\n\t\t\tparamValue = paramValue || paramInfo[\&quot;default\&quot;] || \&quot;\&quot;;\n\t\t\t// Replace any instances of this parameter\n\t\t\ttext = text.replace(new RegExp(\&quot;\\\\$\&quot; + $tw.utils.escapeRegExp(paramInfo.name) + \&quot;\\\\$\&quot;,\&quot;mg\&quot;),paramValue);\n\t\t}\n\t}\n\treturn text;\n};\n\nWidget.prototype.substituteVariableReferences = function(text) {\n\tvar self = this;\n\treturn (text || \&quot;\&quot;).replace(/\\$\\(([^\\)\\$]+)\\)\\$/g,function(match,p1,offset,string) {\n\t\treturn self.getVariable(p1,{defaultValue: \&quot;\&quot;});\n\t});\n};\n\nWidget.prototype.evaluateMacroModule = function(name,actualParams,defaultValue) {\n\tif($tw.utils.hop($tw.macros,name)) {\n\t\tvar macro = $tw.macros[name],\n\t\t\targs = [];\n\t\tif(macro.params.length &gt; 0) {\n\t\t\tvar nextAnonParameter = 0, // Next candidate anonymous parameter in macro call\n\t\t\t\tparamInfo, paramValue;\n\t\t\t// Step through each of the parameters in the macro definition\n\t\t\tfor(var p=0; p&lt;macro.params.length; p++) {\n\t\t\t\t// Check if we've got a macro call parameter with the same name\n\t\t\t\tparamInfo = macro.params[p];\n\t\t\t\tparamValue = undefined;\n\t\t\t\tfor(var m=0; m&lt;actualParams.length; m++) {\n\t\t\t\t\tif(actualParams[m].name === paramInfo.name) {\n\t\t\t\t\t\tparamValue = actualParams[m].value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// If not, use the next available anonymous macro call parameter\n\t\t\t\twhile(nextAnonParameter &lt; actualParams.length &amp;&amp; actualParams[nextAnonParameter].name) {\n\t\t\t\t\tnextAnonParameter++;\n\t\t\t\t}\n\t\t\t\tif(paramValue === undefined &amp;&amp; nextAnonParameter &lt; actualParams.length) {\n\t\t\t\t\tparamValue = actualParams[nextAnonParameter++].value;\n\t\t\t\t}\n\t\t\t\t// If we've still not got a value, use the default, if any\n\t\t\t\tparamValue = paramValue || paramInfo[\&quot;default\&quot;] || \&quot;\&quot;;\n\t\t\t\t// Save the parameter\n\t\t\t\targs.push(paramValue);\n\t\t\t}\n\t\t}\n\t\telse for(var i=0; i&lt;actualParams.length; ++i) {\n\t\t\targs.push(actualParams[i].value);\n\t\t}\n\t\treturn (macro.run.apply(this,args) || \&quot;\&quot;).toString();\n\t} else {\n\t\treturn defaultValue;\n\t}\n};\n\n/*\nCheck whether a given context variable value exists in the parent chain\n*/\nWidget.prototype.hasVariable = function(name,value) {\n\tvar node = this;\n\twhile(node) {\n\t\tif($tw.utils.hop(node.variables,name) &amp;&amp; node.variables[name].value === value) {\n\t\t\treturn true;\n\t\t}\n\t\tnode = node.parentWidget;\n\t}\n\treturn false;\n};\n\n/*\nConstruct a qualifying string based on a hash of concatenating the values of a given variable in the parent chain\n*/\nWidget.prototype.getStateQualifier = function(name) {\n\tthis.qualifiers = this.qualifiers || Object.create(null);\n\tname = name || \&quot;transclusion\&quot;;\n\tif(this.qualifiers[name]) {\n\t\treturn this.qualifiers[name];\n\t} else {\n\t\tvar output = [],\n\t\t\tnode = this;\n\t\twhile(node &amp;&amp; node.parentWidget) {\n\t\t\tif($tw.utils.hop(node.parentWidget.variables,name)) {\n\t\t\t\toutput.push(node.getVariable(name));\n\t\t\t}\n\t\t\tnode = node.parentWidget;\n\t\t}\n\t\tvar value = $tw.utils.hashString(output.join(\&quot;\&quot;));\n\t\tthis.qualifiers[name] = value;\n\t\treturn value;\n\t}\n};\n\n/*\nCompute the current values of the attributes of the widget. Returns a hashmap of the names of the attributes that have changed\n*/\nWidget.prototype.computeAttributes = function() {\n\tvar changedAttributes = {},\n\t\tself = this,\n\t\tvalue;\n\t$tw.utils.each(this.parseTreeNode.attributes,function(attribute,name) {\n\t\tif(attribute.type === \&quot;indirect\&quot;) {\n\t\t\tvalue = self.wiki.getTextReference(attribute.textReference,\&quot;\&quot;,self.getVariable(\&quot;currentTiddler\&quot;));\n\t\t} else if(attribute.type === \&quot;macro\&quot;) {\n\t\t\tvalue = self.getVariable(attribute.value.name,{params: attribute.value.params});\n\t\t} else { // String attribute\n\t\t\tvalue = attribute.value;\n\t\t}\n\t\t// Check whether the attribute has changed\n\t\tif(self.attributes[name] !== value) {\n\t\t\tself.attributes[name] = value;\n\t\t\tchangedAttributes[name] = true;\n\t\t}\n\t});\n\treturn changedAttributes;\n};\n\n/*\nCheck for the presence of an attribute\n*/\nWidget.prototype.hasAttribute = function(name) {\n\treturn $tw.utils.hop(this.attributes,name);\n};\n\n/*\nGet the value of an attribute\n*/\nWidget.prototype.getAttribute = function(name,defaultText) {\n\tif($tw.utils.hop(this.attributes,name)) {\n\t\treturn this.attributes[name];\n\t} else {\n\t\treturn defaultText;\n\t}\n};\n\n/*\nAssign the computed attributes of the widget to a domNode\noptions include:\nexcludeEventAttributes: ignores attributes whose name begins with \&quot;on\&quot;\n*/\nWidget.prototype.assignAttributes = function(domNode,options) {\n\toptions = options || {};\n\tvar self = this;\n\t$tw.utils.each(this.attributes,function(v,a) {\n\t\t// Check exclusions\n\t\tif(options.excludeEventAttributes &amp;&amp; a.substr(0,2) === \&quot;on\&quot;) {\n\t\t\tv = undefined;\n\t\t}\n\t\tif(v !== undefined) {\n\t\t\tvar b = a.split(\&quot;:\&quot;);\n\t\t\t// Setting certain attributes can cause a DOM error (eg xmlns on the svg element)\n\t\t\ttry {\n\t\t\t\tif (b.length == 2 &amp;&amp; b[0] == \&quot;xlink\&quot;){\n\t\t\t\t\tdomNode.setAttributeNS(\&quot;http://www.w3.org/1999/xlink\&quot;,b[1],v);\n\t\t\t\t} else {\n\t\t\t\t\tdomNode.setAttributeNS(null,a,v);\n\t\t\t\t}\n\t\t\t} catch(e) {\n\t\t\t}\n\t\t}\n\t});\n};\n\n/*\nMake child widgets correspondng to specified parseTreeNodes\n*/\nWidget.prototype.makeChildWidgets = function(parseTreeNodes) {\n\tthis.children = [];\n\tvar self = this;\n\t$tw.utils.each(parseTreeNodes || (this.parseTreeNode &amp;&amp; this.parseTreeNode.children),function(childNode) {\n\t\tself.children.push(self.makeChildWidget(childNode));\n\t});\n};\n\n/*\nConstruct the widget object for a parse tree node\n*/\nWidget.prototype.makeChildWidget = function(parseTreeNode) {\n\tvar WidgetClass = this.widgetClasses[parseTreeNode.type];\n\tif(!WidgetClass) {\n\t\tWidgetClass = this.widgetClasses.text;\n\t\tparseTreeNode = {type: \&quot;text\&quot;, text: \&quot;Undefined widget '\&quot; + parseTreeNode.type + \&quot;'\&quot;};\n\t}\n\treturn new WidgetClass(parseTreeNode,{\n\t\twiki: this.wiki,\n\t\tvariables: {},\n\t\tparentWidget: this,\n\t\tdocument: this.document\n\t});\n};\n\n/*\nGet the next sibling of this widget\n*/\nWidget.prototype.nextSibling = function() {\n\tif(this.parentWidget) {\n\t\tvar index = this.parentWidget.children.indexOf(this);\n\t\tif(index !== -1 &amp;&amp; index &lt; this.parentWidget.children.length-1) {\n\t\t\treturn this.parentWidget.children[index+1];\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nGet the previous sibling of this widget\n*/\nWidget.prototype.previousSibling = function() {\n\tif(this.parentWidget) {\n\t\tvar index = this.parentWidget.children.indexOf(this);\n\t\tif(index !== -1 &amp;&amp; index &gt; 0) {\n\t\t\treturn this.parentWidget.children[index-1];\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nRender the children of this widget into the DOM\n*/\nWidget.prototype.renderChildren = function(parent,nextSibling) {\n\t$tw.utils.each(this.children,function(childWidget) {\n\t\tchildWidget.render(parent,nextSibling);\n\t});\n};\n\n/*\nAdd a list of event listeners from an array [{type:,handler:},...]\n*/\nWidget.prototype.addEventListeners = function(listeners) {\n\tvar self = this;\n\t$tw.utils.each(listeners,function(listenerInfo) {\n\t\tself.addEventListener(listenerInfo.type,listenerInfo.handler);\n\t});\n};\n\n/*\nAdd an event listener\n*/\nWidget.prototype.addEventListener = function(type,handler) {\n\tvar self = this;\n\tif(typeof handler === \&quot;string\&quot;) { // The handler is a method name on this widget\n\t\tthis.eventListeners[type] = function(event) {\n\t\t\treturn self[handler].call(self,event);\n\t\t};\n\t} else { // The handler is a function\n\t\tthis.eventListeners[type] = function(event) {\n\t\t\treturn handler.call(self,event);\n\t\t};\n\t}\n};\n\n/*\nDispatch an event to a widget. If the widget doesn't handle the event then it is also dispatched to the parent widget\n*/\nWidget.prototype.dispatchEvent = function(event) {\n\t// Dispatch the event if this widget handles it\n\tvar listener = this.eventListeners[event.type];\n\tif(listener) {\n\t\t// Don't propagate the event if the listener returned false\n\t\tif(!listener(event)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\t// Dispatch the event to the parent widget\n\tif(this.parentWidget) {\n\t\treturn this.parentWidget.dispatchEvent(event);\n\t}\n\treturn true;\n};\n\n/*\nSelectively refreshes the widget if needed. Returns true if the widget or any of its children needed re-rendering\n*/\nWidget.prototype.refresh = function(changedTiddlers) {\n\treturn this.refreshChildren(changedTiddlers);\n};\n\n/*\nRebuild a previously rendered widget\n*/\nWidget.prototype.refreshSelf = function() {\n\tvar nextSibling = this.findNextSiblingDomNode();\n\tthis.removeChildDomNodes();\n\tthis.render(this.parentDomNode,nextSibling);\n};\n\n/*\nRefresh all the children of a widget\n*/\nWidget.prototype.refreshChildren = function(changedTiddlers) {\n\tvar self = this,\n\t\trefreshed = false;\n\t$tw.utils.each(this.children,function(childWidget) {\n\t\trefreshed = childWidget.refresh(changedTiddlers) || refreshed;\n\t});\n\treturn refreshed;\n};\n\n/*\nFind the next sibling in the DOM to this widget. This is done by scanning the widget tree through all next siblings and their descendents that share the same parent DOM node\n*/\nWidget.prototype.findNextSiblingDomNode = function(startIndex) {\n\t// Refer to this widget by its index within its parents children\n\tvar parent = this.parentWidget,\n\t\tindex = startIndex !== undefined ? startIndex : parent.children.indexOf(this);\nif(index === -1) {\n\tthrow \&quot;node not found in parents children\&quot;;\n}\n\t// Look for a DOM node in the later siblings\n\twhile(++index &lt; parent.children.length) {\n\t\tvar domNode = parent.children[index].findFirstDomNode();\n\t\tif(domNode) {\n\t\t\treturn domNode;\n\t\t}\n\t}\n\t// Go back and look for later siblings of our parent if it has the same parent dom node\n\tvar grandParent = parent.parentWidget;\n\tif(grandParent &amp;&amp; parent.parentDomNode === this.parentDomNode) {\n\t\tindex = grandParent.children.indexOf(parent);\n\t\tif(index !== -1) {\n\t\t\treturn parent.findNextSiblingDomNode(index);\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nFind the first DOM node generated by a widget or its children\n*/\nWidget.prototype.findFirstDomNode = function() {\n\t// Return the first dom node of this widget, if we've got one\n\tif(this.domNodes.length &gt; 0) {\n\t\treturn this.domNodes[0];\n\t}\n\t// Otherwise, recursively call our children\n\tfor(var t=0; t&lt;this.children.length; t++) {\n\t\tvar domNode = this.children[t].findFirstDomNode();\n\t\tif(domNode) {\n\t\t\treturn domNode;\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nRemove any DOM nodes created by this widget or its children\n*/\nWidget.prototype.removeChildDomNodes = function() {\n\t// If this widget has directly created DOM nodes, delete them and exit. This assumes that any child widgets are contained within the created DOM nodes, which would normally be the case\n\tif(this.domNodes.length &gt; 0) {\n\t\t$tw.utils.each(this.domNodes,function(domNode) {\n\t\t\tdomNode.parentNode.removeChild(domNode);\n\t\t});\n\t\tthis.domNodes = [];\n\t} else {\n\t\t// Otherwise, ask the child widgets to delete their DOM nodes\n\t\t$tw.utils.each(this.children,function(childWidget) {\n\t\t\tchildWidget.removeChildDomNodes();\n\t\t});\n\t}\n};\n\n/*\nInvoke the action widgets that are descendents of the current widget.\n*/\nWidget.prototype.invokeActions = function(triggeringWidget,event) {\n\tvar handled = false;\n\t// For each child widget\n\tfor(var t=0; t&lt;this.children.length; t++) {\n\t\tvar child = this.children[t];\n\t\t// Invoke the child if it is an action widget\n\t\tif(child.invokeAction &amp;&amp; child.invokeAction(triggeringWidget,event)) {\n\t\t\thandled = true;\n\t\t}\n\t\t// Propagate through through the child if it permits it\n\t\tif(child.allowActionPropagation() &amp;&amp; child.invokeActions(triggeringWidget,event)) {\n\t\t\thandled = true;\n\t\t}\n\t}\n\treturn handled;\n};\n\n\nWidget.prototype.allowActionPropagation = function() {\n\treturn true;\n};\n\nexports.widget = Widget;\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/widgets/widget.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/core/modules/wiki-bulkops.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/wiki-bulkops.js\ntype: application/javascript\nmodule-type: wikimethod\n\nBulk tiddler operations such as rename.\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n/*\nRename a tiddler, and relink any tags or lists that reference it.\n*/\nexports.renameTiddler = function(fromTitle,toTitle) {\n\tvar self = this;\n\tfromTitle = (fromTitle || \&quot;\&quot;).trim();\n\ttoTitle = (toTitle || \&quot;\&quot;).trim();\n\tif(fromTitle &amp;&amp; toTitle &amp;&amp; fromTitle !== toTitle) {\n\t\t// Rename the tiddler itself\n\t\tvar tiddler = this.getTiddler(fromTitle);\n\t\tthis.addTiddler(new $tw.Tiddler(tiddler,{title: toTitle},this.getModificationFields()));\n\t\tthis.deleteTiddler(fromTitle);\n\t\t// Rename any tags or lists that reference it\n\t\tthis.each(function(tiddler,title) {\n\t\t\tvar tags = (tiddler.fields.tags || []).slice(0),\n\t\t\t\tlist = (tiddler.fields.list || []).slice(0),\n\t\t\t\tisModified = false;\n\t\t\t// Rename tags\n\t\t\t$tw.utils.each(tags,function (title,index) {\n\t\t\t\tif(title === fromTitle) {\n\t\t\t\t\ttags[index] = toTitle;\n\t\t\t\t\tisModified = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t// Rename lists\n\t\t\t$tw.utils.each(list,function (title,index) {\n\t\t\t\tif(title === fromTitle) {\n\t\t\t\t\tlist[index] = toTitle;\n\t\t\t\t\tisModified = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(isModified) {\n\t\t\t\tself.addTiddler(new $tw.Tiddler(tiddler,{tags: tags, list: list},self.getModificationFields()));\n\t\t\t}\n\t\t});\n\t}\n}\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/wiki-bulkops.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikimethod&quot;
        },
        &quot;$:/core/modules/wiki.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/core/modules/wiki.js\ntype: application/javascript\nmodule-type: wikimethod\n\nExtension methods for the $tw.Wiki object\n\nAdds the following properties to the wiki object:\n\n* `eventListeners` is a hashmap by type of arrays of listener functions\n* `changedTiddlers` is a hashmap describing changes to named tiddlers since wiki change events were last dispatched. Each entry is a hashmap containing two fields:\n\tmodified: true/false\n\tdeleted: true/false\n* `changeCount` is a hashmap by tiddler title containing a numerical index that starts at zero and is incremented each time a tiddler is created changed or deleted\n* `caches` is a hashmap by tiddler title containing a further hashmap of named cache objects. Caches are automatically cleared when a tiddler is modified or deleted\n* `globalCache` is a hashmap by cache name of cache objects that are cleared whenever any tiddler change occurs\n\n\\*/\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\nvar widget = require(\&quot;$:/core/modules/widgets/widget.js\&quot;);\n\nvar USER_NAME_TITLE = \&quot;$:/status/UserName\&quot;;\n\n/*\nGet the value of a text reference. Text references can have any of these forms:\n\t&lt;tiddlertitle&gt;\n\t&lt;tiddlertitle&gt;!!&lt;fieldname&gt;\n\t!!&lt;fieldname&gt; - specifies a field of the current tiddlers\n\t&lt;tiddlertitle&gt;##&lt;index&gt;\n*/\nexports.getTextReference = function(textRef,defaultText,currTiddlerTitle) {\n\tvar tr = $tw.utils.parseTextReference(textRef),\n\t\ttitle = tr.title || currTiddlerTitle;\n\tif(tr.field) {\n\t\tvar tiddler = this.getTiddler(title);\n\t\tif(tr.field === \&quot;title\&quot;) { // Special case so we can return the title of a non-existent tiddler\n\t\t\treturn title;\n\t\t} else if(tiddler &amp;&amp; $tw.utils.hop(tiddler.fields,tr.field)) {\n\t\t\treturn tiddler.getFieldString(tr.field);\n\t\t} else {\n\t\t\treturn defaultText;\n\t\t}\n\t} else if(tr.index) {\n\t\treturn this.extractTiddlerDataItem(title,tr.index,defaultText);\n\t} else {\n\t\treturn this.getTiddlerText(title,defaultText);\n\t}\n};\n\nexports.setTextReference = function(textRef,value,currTiddlerTitle) {\n\tvar tr = $tw.utils.parseTextReference(textRef),\n\t\ttitle = tr.title || currTiddlerTitle;\n\tthis.setText(title,tr.field,tr.index,value);\n};\n\nexports.setText = function(title,field,index,value,options) {\n\toptions = options || {};\n\tvar creationFields = options.suppressTimestamp ? {} : this.getCreationFields(),\n\t\tmodificationFields = options.suppressTimestamp ? {} : this.getModificationFields();\n\t// Check if it is a reference to a tiddler field\n\tif(index) {\n\t\tvar data = this.getTiddlerData(title,Object.create(null));\n\t\tif(value !== undefined) {\n\t\t\tdata[index] = value;\n\t\t} else {\n\t\t\tdelete data[index];\n\t\t}\n\t\tthis.setTiddlerData(title,data,modificationFields);\n\t} else {\n\t\tvar tiddler = this.getTiddler(title),\n\t\t\tfields = {title: title};\n\t\tfields[field || \&quot;text\&quot;] = value;\n\t\tthis.addTiddler(new $tw.Tiddler(creationFields,tiddler,fields,modificationFields));\n\t}\n};\n\nexports.deleteTextReference = function(textRef,currTiddlerTitle) {\n\tvar tr = $tw.utils.parseTextReference(textRef),\n\t\ttitle,tiddler,fields;\n\t// Check if it is a reference to a tiddler\n\tif(tr.title &amp;&amp; !tr.field) {\n\t\tthis.deleteTiddler(tr.title);\n\t// Else check for a field reference\n\t} else if(tr.field) {\n\t\ttitle = tr.title || currTiddlerTitle;\n\t\ttiddler = this.getTiddler(title);\n\t\tif(tiddler &amp;&amp; $tw.utils.hop(tiddler.fields,tr.field)) {\n\t\t\tfields = Object.create(null);\n\t\t\tfields[tr.field] = undefined;\n\t\t\tthis.addTiddler(new $tw.Tiddler(tiddler,fields,this.getModificationFields()));\n\t\t}\n\t}\n};\n\nexports.addEventListener = function(type,listener) {\n\tthis.eventListeners = this.eventListeners || {};\n\tthis.eventListeners[type] = this.eventListeners[type]  || [];\n\tthis.eventListeners[type].push(listener);\t\n};\n\nexports.removeEventListener = function(type,listener) {\n\tvar listeners = this.eventListeners[type];\n\tif(listeners) {\n\t\tvar p = listeners.indexOf(listener);\n\t\tif(p !== -1) {\n\t\t\tlisteners.splice(p,1);\n\t\t}\n\t}\n};\n\nexports.dispatchEvent = function(type /*, args */) {\n\tvar args = Array.prototype.slice.call(arguments,1),\n\t\tlisteners = this.eventListeners[type];\n\tif(listeners) {\n\t\tfor(var p=0; p&lt;listeners.length; p++) {\n\t\t\tvar listener = listeners[p];\n\t\t\tlistener.apply(listener,args);\n\t\t}\n\t}\n};\n\n/*\nCauses a tiddler to be marked as changed, incrementing the change count, and triggers event handlers.\nThis method should be called after the changes it describes have been made to the wiki.tiddlers[] array.\n\ttitle: Title of tiddler\n\tisDeleted: defaults to false (meaning the tiddler has been created or modified),\n\t\ttrue if the tiddler has been deleted\n*/\nexports.enqueueTiddlerEvent = function(title,isDeleted) {\n\t// Record the touch in the list of changed tiddlers\n\tthis.changedTiddlers = this.changedTiddlers || Object.create(null);\n\tthis.changedTiddlers[title] = this.changedTiddlers[title] || Object.create(null);\n\tthis.changedTiddlers[title][isDeleted ? \&quot;deleted\&quot; : \&quot;modified\&quot;] = true;\n\t// Increment the change count\n\tthis.changeCount = this.changeCount || Object.create(null);\n\tif($tw.utils.hop(this.changeCount,title)) {\n\t\tthis.changeCount[title]++;\n\t} else {\n\t\tthis.changeCount[title] = 1;\n\t}\n\t// Trigger events\n\tthis.eventListeners = this.eventListeners || {};\n\tif(!this.eventsTriggered) {\n\t\tvar self = this;\n\t\t$tw.utils.nextTick(function() {\n\t\t\tvar changes = self.changedTiddlers;\n\t\t\tself.changedTiddlers = Object.create(null);\n\t\t\tself.eventsTriggered = false;\n\t\t\tif($tw.utils.count(changes) &gt; 0) {\n\t\t\t\tself.dispatchEvent(\&quot;change\&quot;,changes);\n\t\t\t}\n\t\t});\n\t\tthis.eventsTriggered = true;\n\t}\n};\n\nexports.getSizeOfTiddlerEventQueue = function() {\n\treturn $tw.utils.count(this.changedTiddlers);\n};\n\nexports.clearTiddlerEventQueue = function() {\n\tthis.changedTiddlers = Object.create(null);\n\tthis.changeCount = Object.create(null);\n};\n\nexports.getChangeCount = function(title) {\n\tthis.changeCount = this.changeCount || Object.create(null);\n\tif($tw.utils.hop(this.changeCount,title)) {\n\t\treturn this.changeCount[title];\n\t} else {\n\t\treturn 0;\n\t}\n};\n\n/*\nGenerate an unused title from the specified base\n*/\nexports.generateNewTitle = function(baseTitle,options) {\n\toptions = options || {};\n\tvar c = 0,\n\t\ttitle = baseTitle;\n\twhile(this.tiddlerExists(title) || this.isShadowTiddler(title) || this.findDraft(title)) {\n\t\ttitle = baseTitle + \n\t\t\t(options.prefix || \&quot; \&quot;) + \n\t\t\t(++c);\n\t}\n\treturn title;\n};\n\nexports.isSystemTiddler = function(title) {\n\treturn title &amp;&amp; title.indexOf(\&quot;$:/\&quot;) === 0;\n};\n\nexports.isTemporaryTiddler = function(title) {\n\treturn title &amp;&amp; title.indexOf(\&quot;$:/temp/\&quot;) === 0;\n};\n\nexports.isImageTiddler = function(title) {\n\tvar tiddler = this.getTiddler(title);\n\tif(tiddler) {\t\t\n\t\tvar contentTypeInfo = $tw.config.contentTypeInfo[tiddler.fields.type || \&quot;text/vnd.tiddlywiki\&quot;];\n\t\treturn !!contentTypeInfo &amp;&amp; contentTypeInfo.flags.indexOf(\&quot;image\&quot;) !== -1;\n\t} else {\n\t\treturn null;\n\t}\n};\n\n/*\nLike addTiddler() except it will silently reject any plugin tiddlers that are older than the currently loaded version. Returns true if the tiddler was imported\n*/\nexports.importTiddler = function(tiddler) {\n\tvar existingTiddler = this.getTiddler(tiddler.fields.title);\n\t// Check if we're dealing with a plugin\n\tif(tiddler &amp;&amp; tiddler.hasField(\&quot;plugin-type\&quot;) &amp;&amp; tiddler.hasField(\&quot;version\&quot;) &amp;&amp; existingTiddler &amp;&amp; existingTiddler.hasField(\&quot;plugin-type\&quot;) &amp;&amp; existingTiddler.hasField(\&quot;version\&quot;)) {\n\t\t// Reject the incoming plugin if it is older\n\t\tif(!$tw.utils.checkVersions(tiddler.fields.version,existingTiddler.fields.version)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\t// Fall through to adding the tiddler\n\tthis.addTiddler(tiddler);\n\treturn true;\n};\n\n/*\nReturn a hashmap of the fields that should be set when a tiddler is created\n*/\nexports.getCreationFields = function() {\n\tvar fields = {\n\t\t\tcreated: new Date()\n\t\t},\n\t\tcreator = this.getTiddlerText(USER_NAME_TITLE);\n\tif(creator) {\n\t\tfields.creator = creator;\n\t}\n\treturn fields;\n};\n\n/*\nReturn a hashmap of the fields that should be set when a tiddler is modified\n*/\nexports.getModificationFields = function() {\n\tvar fields = Object.create(null),\n\t\tmodifier = this.getTiddlerText(USER_NAME_TITLE);\n\tfields.modified = new Date();\n\tif(modifier) {\n\t\tfields.modifier = modifier;\n\t}\n\treturn fields;\n};\n\n/*\nReturn a sorted array of tiddler titles.  Options include:\nsortField: field to sort by\nexcludeTag: tag to exclude\nincludeSystem: whether to include system tiddlers (defaults to false)\n*/\nexports.getTiddlers = function(options) {\n\toptions = options || Object.create(null);\n\tvar self = this,\n\t\tsortField = options.sortField || \&quot;title\&quot;,\n\t\ttiddlers = [], t, titles = [];\n\tthis.each(function(tiddler,title) {\n\t\tif(options.includeSystem || !self.isSystemTiddler(title)) {\n\t\t\tif(!options.excludeTag || !tiddler.hasTag(options.excludeTag)) {\n\t\t\t\ttiddlers.push(tiddler);\n\t\t\t}\n\t\t}\n\t});\n\ttiddlers.sort(function(a,b) {\n\t\tvar aa = a.fields[sortField].toLowerCase() || \&quot;\&quot;,\n\t\t\tbb = b.fields[sortField].toLowerCase() || \&quot;\&quot;;\n\t\tif(aa &lt; bb) {\n\t\t\treturn -1;\n\t\t} else {\n\t\t\tif(aa &gt; bb) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t});\n\tfor(t=0; t&lt;tiddlers.length; t++) {\n\t\ttitles.push(tiddlers[t].fields.title);\n\t}\n\treturn titles;\n};\n\nexports.countTiddlers = function(excludeTag) {\n\tvar tiddlers = this.getTiddlers({excludeTag: excludeTag});\n\treturn $tw.utils.count(tiddlers);\n};\n\n/*\nReturns a function iterator(callback) that iterates through the specified titles, and invokes the callback with callback(tiddler,title)\n*/\nexports.makeTiddlerIterator = function(titles) {\n\tvar self = this;\n\tif(!$tw.utils.isArray(titles)) {\n\t\ttitles = Object.keys(titles);\n\t} else {\n\t\ttitles = titles.slice(0);\n\t}\n\treturn function(callback) {\n\t\ttitles.forEach(function(title) {\n\t\t\tcallback(self.getTiddler(title),title);\n\t\t});\n\t};\n};\n\n/*\nSort an array of tiddler titles by a specified field\n\ttitles: array of titles (sorted in place)\n\tsortField: name of field to sort by\n\tisDescending: true if the sort should be descending\n\tisCaseSensitive: true if the sort should consider upper and lower case letters to be different\n*/\nexports.sortTiddlers = function(titles,sortField,isDescending,isCaseSensitive,isNumeric) {\n\tvar self = this;\n\ttitles.sort(function(a,b) {\n\t\tvar x,y,\n\t\t\tcompareNumbers = function(x,y) {\n\t\t\t\tvar result = \n\t\t\t\t\tisNaN(x) &amp;&amp; !isNaN(y) ? (isDescending ? -1 : 1) :\n\t\t\t\t\t!isNaN(x) &amp;&amp; isNaN(y) ? (isDescending ? 1 : -1) :\n\t\t\t\t\t                        (isDescending ? y - x :  x - y);\n\t\t\t\treturn result;\n\t\t\t};\n\t\tif(sortField !== \&quot;title\&quot;) {\n\t\t\tvar tiddlerA = self.getTiddler(a),\n\t\t\t\ttiddlerB = self.getTiddler(b);\n\t\t\tif(tiddlerA) {\n\t\t\t\ta = tiddlerA.fields[sortField] || \&quot;\&quot;;\n\t\t\t} else {\n\t\t\t\ta = \&quot;\&quot;;\n\t\t\t}\n\t\t\tif(tiddlerB) {\n\t\t\t\tb = tiddlerB.fields[sortField] || \&quot;\&quot;;\n\t\t\t} else {\n\t\t\t\tb = \&quot;\&quot;;\n\t\t\t}\n\t\t}\n\t\tx = Number(a);\n\t\ty = Number(b);\n\t\tif(isNumeric &amp;&amp; (!isNaN(x) || !isNaN(y))) {\n\t\t\treturn compareNumbers(x,y);\n\t\t} else if($tw.utils.isDate(a) &amp;&amp; $tw.utils.isDate(b)) {\n\t\t\treturn isDescending ? b - a : a - b;\n\t\t} else {\n\t\t\ta = String(a);\n\t\t\tb = String(b);\n\t\t\tif(!isCaseSensitive) {\n\t\t\t\ta = a.toLowerCase();\n\t\t\t\tb = b.toLowerCase();\n\t\t\t}\n\t\t\treturn isDescending ? b.localeCompare(a) : a.localeCompare(b);\n\t\t}\n\t});\n};\n\n/*\nFor every tiddler invoke a callback(title,tiddler) with `this` set to the wiki object. Options include:\nsortField: field to sort by\nexcludeTag: tag to exclude\nincludeSystem: whether to include system tiddlers (defaults to false)\n*/\nexports.forEachTiddler = function(/* [options,]callback */) {\n\tvar arg = 0,\n\t\toptions = arguments.length &gt;= 2 ? arguments[arg++] : {},\n\t\tcallback = arguments[arg++],\n\t\ttitles = this.getTiddlers(options),\n\t\tt, tiddler;\n\tfor(t=0; t&lt;titles.length; t++) {\n\t\ttiddler = this.getTiddler(titles[t]);\n\t\tif(tiddler) {\n\t\t\tcallback.call(this,tiddler.fields.title,tiddler);\n\t\t}\n\t}\n};\n\n/*\nReturn an array of tiddler titles that are directly linked from the specified tiddler\n*/\nexports.getTiddlerLinks = function(title) {\n\tvar self = this;\n\t// We'll cache the links so they only get computed if the tiddler changes\n\treturn this.getCacheForTiddler(title,\&quot;links\&quot;,function() {\n\t\t// Parse the tiddler\n\t\tvar parser = self.parseTiddler(title);\n\t\t// Count up the links\n\t\tvar links = [],\n\t\t\tcheckParseTree = function(parseTree) {\n\t\t\t\tfor(var t=0; t&lt;parseTree.length; t++) {\n\t\t\t\t\tvar parseTreeNode = parseTree[t];\n\t\t\t\t\tif(parseTreeNode.type === \&quot;link\&quot; &amp;&amp; parseTreeNode.attributes.to &amp;&amp; parseTreeNode.attributes.to.type === \&quot;string\&quot;) {\n\t\t\t\t\t\tvar value = parseTreeNode.attributes.to.value;\n\t\t\t\t\t\tif(links.indexOf(value) === -1) {\n\t\t\t\t\t\t\tlinks.push(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(parseTreeNode.children) {\n\t\t\t\t\t\tcheckParseTree(parseTreeNode.children);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\tif(parser) {\n\t\t\tcheckParseTree(parser.tree);\n\t\t}\n\t\treturn links;\n\t});\n};\n\n/*\nReturn an array of tiddler titles that link to the specified tiddler\n*/\nexports.getTiddlerBacklinks = function(targetTitle) {\n\tvar self = this,\n\t\tbacklinks = [];\n\tthis.forEachTiddler(function(title,tiddler) {\n\t\tvar links = self.getTiddlerLinks(title);\n\t\tif(links.indexOf(targetTitle) !== -1) {\n\t\t\tbacklinks.push(title);\n\t\t}\n\t});\n\treturn backlinks;\n};\n\n/*\nReturn a hashmap of tiddler titles that are referenced but not defined. Each value is the number of times the missing tiddler is referenced\n*/\nexports.getMissingTitles = function() {\n\tvar self = this,\n\t\tmissing = [];\n// We should cache the missing tiddler list, even if we recreate it every time any tiddler is modified\n\tthis.forEachTiddler(function(title,tiddler) {\n\t\tvar links = self.getTiddlerLinks(title);\n\t\t$tw.utils.each(links,function(link) {\n\t\t\tif((!self.tiddlerExists(link) &amp;&amp; !self.isShadowTiddler(link)) &amp;&amp; missing.indexOf(link) === -1) {\n\t\t\t\tmissing.push(link);\n\t\t\t}\n\t\t});\n\t});\n\treturn missing;\n};\n\nexports.getOrphanTitles = function() {\n\tvar self = this,\n\t\torphans = this.getTiddlers();\n\tthis.forEachTiddler(function(title,tiddler) {\n\t\tvar links = self.getTiddlerLinks(title);\n\t\t$tw.utils.each(links,function(link) {\n\t\t\tvar p = orphans.indexOf(link);\n\t\t\tif(p !== -1) {\n\t\t\t\torphans.splice(p,1);\n\t\t\t}\n\t\t});\n\t});\n\treturn orphans; // Todo\n};\n\n/*\nRetrieves a list of the tiddler titles that are tagged with a given tag\n*/\nexports.getTiddlersWithTag = function(tag) {\n\tvar self = this;\n\treturn this.getGlobalCache(\&quot;taglist-\&quot; + tag,function() {\n\t\tvar tagmap = self.getTagMap();\n\t\treturn self.sortByList(tagmap[tag],tag);\n\t});\n};\n\n/*\nGet a hashmap by tag of arrays of tiddler titles\n*/\nexports.getTagMap = function() {\n\tvar self = this;\n\treturn this.getGlobalCache(\&quot;tagmap\&quot;,function() {\n\t\tvar tags = Object.create(null),\n\t\t\tstoreTags = function(tagArray,title) {\n\t\t\t\tif(tagArray) {\n\t\t\t\t\tfor(var index=0; index&lt;tagArray.length; index++) {\n\t\t\t\t\t\tvar tag = tagArray[index];\n\t\t\t\t\t\tif($tw.utils.hop(tags,tag)) {\n\t\t\t\t\t\t\ttags[tag].push(title);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttags[tag] = [title];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\ttitle, tiddler;\n\t\t// Collect up all the tags\n\t\tself.eachShadow(function(tiddler,title) {\n\t\t\tif(!self.tiddlerExists(title)) {\n\t\t\t\ttiddler = self.getTiddler(title);\n\t\t\t\tstoreTags(tiddler.fields.tags,title);\n\t\t\t}\n\t\t});\n\t\tself.each(function(tiddler,title) {\n\t\t\tstoreTags(tiddler.fields.tags,title);\n\t\t});\n\t\treturn tags;\n\t});\n};\n\n/*\nLookup a given tiddler and return a list of all the tiddlers that include it in the specified list field\n*/\nexports.findListingsOfTiddler = function(targetTitle,fieldName) {\n\tfieldName = fieldName || \&quot;list\&quot;;\n\tvar titles = [];\n\tthis.each(function(tiddler,title) {\n\t\tvar list = $tw.utils.parseStringArray(tiddler.fields[fieldName]);\n\t\tif(list &amp;&amp; list.indexOf(targetTitle) !== -1) {\n\t\t\ttitles.push(title);\n\t\t}\n\t});\n\treturn titles;\n};\n\n/*\nSorts an array of tiddler titles according to an ordered list\n*/\nexports.sortByList = function(array,listTitle) {\n\tvar list = this.getTiddlerList(listTitle);\n\tif(!array || array.length === 0) {\n\t\treturn [];\n\t} else {\n\t\tvar titles = [], t, title;\n\t\t// First place any entries that are present in the list\n\t\tfor(t=0; t&lt;list.length; t++) {\n\t\t\ttitle = list[t];\n\t\t\tif(array.indexOf(title) !== -1) {\n\t\t\t\ttitles.push(title);\n\t\t\t}\n\t\t}\n\t\t// Then place any remaining entries\n\t\tfor(t=0; t&lt;array.length; t++) {\n\t\t\ttitle = array[t];\n\t\t\tif(list.indexOf(title) === -1) {\n\t\t\t\ttitles.push(title);\n\t\t\t}\n\t\t}\n\t\t// Finally obey the list-before and list-after fields of each tiddler in turn\n\t\tvar sortedTitles = titles.slice(0);\n\t\tfor(t=0; t&lt;sortedTitles.length; t++) {\n\t\t\ttitle = sortedTitles[t];\n\t\t\tvar currPos = titles.indexOf(title),\n\t\t\t\tnewPos = -1,\n\t\t\t\ttiddler = this.getTiddler(title);\n\t\t\tif(tiddler) {\n\t\t\t\tvar beforeTitle = tiddler.fields[\&quot;list-before\&quot;],\n\t\t\t\t\tafterTitle = tiddler.fields[\&quot;list-after\&quot;];\n\t\t\t\tif(beforeTitle === \&quot;\&quot;) {\n\t\t\t\t\tnewPos = 0;\n\t\t\t\t} else if(beforeTitle) {\n\t\t\t\t\tnewPos = titles.indexOf(beforeTitle);\n\t\t\t\t} else if(afterTitle) {\n\t\t\t\t\tnewPos = titles.indexOf(afterTitle);\n\t\t\t\t\tif(newPos &gt;= 0) {\n\t\t\t\t\t\t++newPos;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(newPos === -1) {\n\t\t\t\t\tnewPos = currPos;\n\t\t\t\t}\n\t\t\t\tif(newPos !== currPos) {\n\t\t\t\t\ttitles.splice(currPos,1);\n\t\t\t\t\tif(newPos &gt;= currPos) {\n\t\t\t\t\t\tnewPos--;\n\t\t\t\t\t}\n\t\t\t\t\ttitles.splice(newPos,0,title);\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t\treturn titles;\n\t}\n};\n\nexports.getSubTiddler = function(title,subTiddlerTitle) {\n\tvar bundleInfo = this.getPluginInfo(title) || this.getTiddlerDataCached(title);\n\tif(bundleInfo &amp;&amp; bundleInfo.tiddlers) {\n\t\tvar subTiddler = bundleInfo.tiddlers[subTiddlerTitle];\n\t\tif(subTiddler) {\n\t\t\treturn new $tw.Tiddler(subTiddler);\n\t\t}\n\t}\n\treturn null;\n};\n\n/*\nRetrieve a tiddler as a JSON string of the fields\n*/\nexports.getTiddlerAsJson = function(title) {\n\tvar tiddler = this.getTiddler(title);\n\tif(tiddler) {\n\t\tvar fields = Object.create(null);\n\t\t$tw.utils.each(tiddler.fields,function(value,name) {\n\t\t\tfields[name] = tiddler.getFieldString(name);\n\t\t});\n\t\treturn JSON.stringify(fields);\n\t} else {\n\t\treturn JSON.stringify({title: title});\n\t}\n};\n\n/*\nGet the content of a tiddler as a JavaScript object. How this is done depends on the type of the tiddler:\n\napplication/json: the tiddler JSON is parsed into an object\napplication/x-tiddler-dictionary: the tiddler is parsed as sequence of name:value pairs\n\nOther types currently just return null.\n\ntitleOrTiddler: string tiddler title or a tiddler object\ndefaultData: default data to be returned if the tiddler is missing or doesn't contain data\n\nNote that the same value is returned for repeated calls for the same tiddler data. The value is frozen to prevent modification; otherwise modifications would be visible to all callers\n*/\nexports.getTiddlerDataCached = function(titleOrTiddler,defaultData) {\n\tvar self = this,\n\t\ttiddler = titleOrTiddler;\n\tif(!(tiddler instanceof $tw.Tiddler)) {\n\t\ttiddler = this.getTiddler(tiddler);\t\n\t}\n\tif(tiddler) {\n\t\treturn this.getCacheForTiddler(tiddler.fields.title,\&quot;data\&quot;,function() {\n\t\t\t// Return the frozen value\n\t\t\tvar value = self.getTiddlerData(tiddler.fields.title,defaultData);\n\t\t\t$tw.utils.deepFreeze(value);\n\t\t\treturn value;\n\t\t});\n\t} else {\n\t\treturn defaultData;\n\t}\n};\n\n/*\nAlternative, uncached version of getTiddlerDataCached(). The return value can be mutated freely and reused\n*/\nexports.getTiddlerData = function(titleOrTiddler,defaultData) {\n\tvar tiddler = titleOrTiddler,\n\t\tdata;\n\tif(!(tiddler instanceof $tw.Tiddler)) {\n\t\ttiddler = this.getTiddler(tiddler);\t\n\t}\n\tif(tiddler &amp;&amp; tiddler.fields.text) {\n\t\tswitch(tiddler.fields.type) {\n\t\t\tcase \&quot;application/json\&quot;:\n\t\t\t\t// JSON tiddler\n\t\t\t\ttry {\n\t\t\t\t\tdata = JSON.parse(tiddler.fields.text);\n\t\t\t\t} catch(ex) {\n\t\t\t\t\treturn defaultData;\n\t\t\t\t}\n\t\t\t\treturn data;\n\t\t\tcase \&quot;application/x-tiddler-dictionary\&quot;:\n\t\t\t\treturn $tw.utils.parseFields(tiddler.fields.text);\n\t\t}\n\t}\n\treturn defaultData;\n};\n\n/*\nExtract an indexed field from within a data tiddler\n*/\nexports.extractTiddlerDataItem = function(titleOrTiddler,index,defaultText) {\n\tvar data = this.getTiddlerData(titleOrTiddler,Object.create(null)),\n\t\ttext;\n\tif(data &amp;&amp; $tw.utils.hop(data,index)) {\n\t\ttext = data[index];\n\t}\n\tif(typeof text === \&quot;string\&quot; || typeof text === \&quot;number\&quot;) {\n\t\treturn text.toString();\n\t} else {\n\t\treturn defaultText;\n\t}\n};\n\n/*\nSet a tiddlers content to a JavaScript object. Currently this is done by setting the tiddler's type to \&quot;application/json\&quot; and setting the text to the JSON text of the data.\ntitle: title of tiddler\ndata: object that can be serialised to JSON\nfields: optional hashmap of additional tiddler fields to be set\n*/\nexports.setTiddlerData = function(title,data,fields) {\n\tvar existingTiddler = this.getTiddler(title),\n\t\tnewFields = {\n\t\t\ttitle: title\n\t};\n\tif(existingTiddler &amp;&amp; existingTiddler.fields.type === \&quot;application/x-tiddler-dictionary\&quot;) {\n\t\tnewFields.text = $tw.utils.makeTiddlerDictionary(data);\n\t} else {\n\t\tnewFields.type = \&quot;application/json\&quot;;\n\t\tnewFields.text = JSON.stringify(data,null,$tw.config.preferences.jsonSpaces);\n\t}\n\tthis.addTiddler(new $tw.Tiddler(this.getCreationFields(),existingTiddler,fields,newFields,this.getModificationFields()));\n};\n\n/*\nReturn the content of a tiddler as an array containing each line\n*/\nexports.getTiddlerList = function(title,field,index) {\n\tif(index) {\n\t\treturn $tw.utils.parseStringArray(this.extractTiddlerDataItem(title,index,\&quot;\&quot;));\n\t}\n\tfield = field || \&quot;list\&quot;;\n\tvar tiddler = this.getTiddler(title);\n\tif(tiddler) {\n\t\treturn ($tw.utils.parseStringArray(tiddler.fields[field]) || []).slice(0);\n\t}\n\treturn [];\n};\n\n// Return a named global cache object. Global cache objects are cleared whenever a tiddler change occurs\nexports.getGlobalCache = function(cacheName,initializer) {\n\tthis.globalCache = this.globalCache || Object.create(null);\n\tif($tw.utils.hop(this.globalCache,cacheName)) {\n\t\treturn this.globalCache[cacheName];\n\t} else {\n\t\tthis.globalCache[cacheName] = initializer();\n\t\treturn this.globalCache[cacheName];\n\t}\n};\n\nexports.clearGlobalCache = function() {\n\tthis.globalCache = Object.create(null);\n};\n\n// Return the named cache object for a tiddler. If the cache doesn't exist then the initializer function is invoked to create it\nexports.getCacheForTiddler = function(title,cacheName,initializer) {\n\tthis.caches = this.caches || Object.create(null);\n\tvar caches = this.caches[title];\n\tif(caches &amp;&amp; caches[cacheName]) {\n\t\treturn caches[cacheName];\n\t} else {\n\t\tif(!caches) {\n\t\t\tcaches = Object.create(null);\n\t\t\tthis.caches[title] = caches;\n\t\t}\n\t\tcaches[cacheName] = initializer();\n\t\treturn caches[cacheName];\n\t}\n};\n\n// Clear all caches associated with a particular tiddler, or, if the title is null, clear all the caches for all the tiddlers\nexports.clearCache = function(title) {\n\tif(title) {\n\t\tthis.caches = this.caches || Object.create(null);\n\t\tif($tw.utils.hop(this.caches,title)) {\n\t\t\tdelete this.caches[title];\n\t\t}\n\t} else {\n\t\tthis.caches = Object.create(null);\n\t}\n};\n\nexports.initParsers = function(moduleType) {\n\t// Install the parser modules\n\t$tw.Wiki.parsers = {};\n\tvar self = this;\n\t$tw.modules.forEachModuleOfType(\&quot;parser\&quot;,function(title,module) {\n\t\tfor(var f in module) {\n\t\t\tif($tw.utils.hop(module,f)) {\n\t\t\t\t$tw.Wiki.parsers[f] = module[f]; // Store the parser class\n\t\t\t}\n\t\t}\n\t});\n};\n\n/*\nParse a block of text of a specified MIME type\n\ttype: content type of text to be parsed\n\ttext: text\n\toptions: see below\nOptions include:\n\tparseAsInline: if true, the text of the tiddler will be parsed as an inline run\n\t_canonical_uri: optional string of the canonical URI of this content\n*/\nexports.parseText = function(type,text,options) {\n\toptions = options || {};\n\t// Select a parser\n\tvar Parser = $tw.Wiki.parsers[type];\n\tif(!Parser &amp;&amp; $tw.utils.getFileExtensionInfo(type)) {\n\t\tParser = $tw.Wiki.parsers[$tw.utils.getFileExtensionInfo(type).type];\n\t}\n\tif(!Parser) {\n\t\tParser = $tw.Wiki.parsers[options.defaultType || \&quot;text/vnd.tiddlywiki\&quot;];\n\t}\n\tif(!Parser) {\n\t\treturn null;\n\t}\n\t// Return the parser instance\n\treturn new Parser(type,text,{\n\t\tparseAsInline: options.parseAsInline,\n\t\twiki: this,\n\t\t_canonical_uri: options._canonical_uri\n\t});\n};\n\n/*\nParse a tiddler according to its MIME type\n*/\nexports.parseTiddler = function(title,options) {\n\toptions = $tw.utils.extend({},options);\n\tvar cacheType = options.parseAsInline ? \&quot;inlineParseTree\&quot; : \&quot;blockParseTree\&quot;,\n\t\ttiddler = this.getTiddler(title),\n\t\tself = this;\n\treturn tiddler ? this.getCacheForTiddler(title,cacheType,function() {\n\t\t\tif(tiddler.hasField(\&quot;_canonical_uri\&quot;)) {\n\t\t\t\toptions._canonical_uri = tiddler.fields._canonical_uri;\n\t\t\t}\n\t\t\treturn self.parseText(tiddler.fields.type,tiddler.fields.text,options);\n\t\t}) : null;\n};\n\nexports.parseTextReference = function(title,field,index,options) {\n\tvar tiddler,text;\n\tif(options.subTiddler) {\n\t\ttiddler = this.getSubTiddler(title,options.subTiddler);\n\t} else {\n\t\ttiddler = this.getTiddler(title);\n\t\tif(field === \&quot;text\&quot; || (!field &amp;&amp; !index)) {\n\t\t\tthis.getTiddlerText(title); // Force the tiddler to be lazily loaded\n\t\t\treturn this.parseTiddler(title,options);\n\t\t}\n\t}\n\tif(field === \&quot;text\&quot; || (!field &amp;&amp; !index)) {\n\t\tif(tiddler &amp;&amp; tiddler.fields) {\n\t\t\treturn this.parseText(tiddler.fields.type || \&quot;text/vnd.tiddlywiki\&quot;,tiddler.fields.text,options);\t\t\t\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t} else if(field) {\n\t\tif(field === \&quot;title\&quot;) {\n\t\t\ttext = title;\n\t\t} else {\n\t\t\tif(!tiddler || !tiddler.hasField(field)) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\ttext = tiddler.fields[field];\n\t\t}\n\t\treturn this.parseText(\&quot;text/vnd.tiddlywiki\&quot;,text.toString(),options);\n\t} else if(index) {\n\t\tthis.getTiddlerText(title); // Force the tiddler to be lazily loaded\n\t\ttext = this.extractTiddlerDataItem(tiddler,index,undefined);\n\t\tif(text === undefined) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.parseText(\&quot;text/vnd.tiddlywiki\&quot;,text,options);\n\t}\n};\n\n/*\nMake a widget tree for a parse tree\nparser: parser object\noptions: see below\nOptions include:\ndocument: optional document to use\nvariables: hashmap of variables to set\nparentWidget: optional parent widget for the root node\n*/\nexports.makeWidget = function(parser,options) {\n\toptions = options || {};\n\tvar widgetNode = {\n\t\t\ttype: \&quot;widget\&quot;,\n\t\t\tchildren: []\n\t\t},\n\t\tcurrWidgetNode = widgetNode;\n\t// Create set variable widgets for each variable\n\t$tw.utils.each(options.variables,function(value,name) {\n\t\tvar setVariableWidget = {\n\t\t\ttype: \&quot;set\&quot;,\n\t\t\tattributes: {\n\t\t\t\tname: {type: \&quot;string\&quot;, value: name},\n\t\t\t\tvalue: {type: \&quot;string\&quot;, value: value}\n\t\t\t},\n\t\t\tchildren: []\n\t\t};\n\t\tcurrWidgetNode.children = [setVariableWidget];\n\t\tcurrWidgetNode = setVariableWidget;\n\t});\n\t// Add in the supplied parse tree nodes\n\tcurrWidgetNode.children = parser ? parser.tree : [];\n\t// Create the widget\n\treturn new widget.widget(widgetNode,{\n\t\twiki: this,\n\t\tdocument: options.document || $tw.fakeDocument,\n\t\tparentWidget: options.parentWidget\n\t});\n};\n\n/*\nMake a widget tree for transclusion\ntitle: target tiddler title\noptions: as for wiki.makeWidget() plus:\noptions.field: optional field to transclude (defaults to \&quot;text\&quot;)\noptions.mode: transclusion mode \&quot;inline\&quot; or \&quot;block\&quot;\noptions.children: optional array of children for the transclude widget\n*/\nexports.makeTranscludeWidget = function(title,options) {\n\toptions = options || {};\n\tvar parseTree = {tree: [{\n\t\t\ttype: \&quot;element\&quot;,\n\t\t\ttag: \&quot;div\&quot;,\n\t\t\tchildren: [{\n\t\t\t\ttype: \&quot;transclude\&quot;,\n\t\t\t\tattributes: {\n\t\t\t\t\ttiddler: {\n\t\t\t\t\t\tname: \&quot;tiddler\&quot;,\n\t\t\t\t\t\ttype: \&quot;string\&quot;,\n\t\t\t\t\t\tvalue: title}},\n\t\t\t\tisBlock: !options.parseAsInline}]}\n\t]};\n\tif(options.field) {\n\t\tparseTree.tree[0].children[0].attributes.field = {type: \&quot;string\&quot;, value: options.field};\n\t}\n\tif(options.mode) {\n\t\tparseTree.tree[0].children[0].attributes.mode = {type: \&quot;string\&quot;, value: options.mode};\n\t}\n\tif(options.children) {\n\t\tparseTree.tree[0].children[0].children = options.children;\n\t}\n\treturn $tw.wiki.makeWidget(parseTree,options);\n};\n\n/*\nParse text in a specified format and render it into another format\n\toutputType: content type for the output\n\ttextType: content type of the input text\n\ttext: input text\n\toptions: see below\nOptions include:\nvariables: hashmap of variables to set\nparentWidget: optional parent widget for the root node\n*/\nexports.renderText = function(outputType,textType,text,options) {\n\toptions = options || {};\n\tvar parser = this.parseText(textType,text,options),\n\t\twidgetNode = this.makeWidget(parser,options);\n\tvar container = $tw.fakeDocument.createElement(\&quot;div\&quot;);\n\twidgetNode.render(container,null);\n\treturn outputType === \&quot;text/html\&quot; ? container.innerHTML : container.textContent;\n};\n\n/*\nParse text from a tiddler and render it into another format\n\toutputType: content type for the output\n\ttitle: title of the tiddler to be rendered\n\toptions: see below\nOptions include:\nvariables: hashmap of variables to set\nparentWidget: optional parent widget for the root node\n*/\nexports.renderTiddler = function(outputType,title,options) {\n\toptions = options || {};\n\tvar parser = this.parseTiddler(title,options),\n\t\twidgetNode = this.makeWidget(parser,options);\n\tvar container = $tw.fakeDocument.createElement(\&quot;div\&quot;);\n\twidgetNode.render(container,null);\n\treturn outputType === \&quot;text/html\&quot; ? container.innerHTML : (outputType === \&quot;text/plain-formatted\&quot; ? container.formattedTextContent : container.textContent);\n};\n\n/*\nReturn an array of tiddler titles that match a search string\n\ttext: The text string to search for\n\toptions: see below\nOptions available:\n\tsource: an iterator function for the source tiddlers, called source(iterator), where iterator is called as iterator(tiddler,title)\n\texclude: An array of tiddler titles to exclude from the search\n\tinvert: If true returns tiddlers that do not contain the specified string\n\tcaseSensitive: If true forces a case sensitive search\n\tliteral: If true, searches for literal string, rather than separate search terms\n\tfield: If specified, restricts the search to the specified field\n*/\nexports.search = function(text,options) {\n\toptions = options || {};\n\tvar self = this,\n\t\tt,\n\t\tinvert = !!options.invert;\n\t// Convert the search string into a regexp for each term\n\tvar terms, searchTermsRegExps,\n\t\tflags = options.caseSensitive ? \&quot;\&quot; : \&quot;i\&quot;;\n\tif(options.literal) {\n\t\tif(text.length === 0) {\n\t\t\tsearchTermsRegExps = null;\n\t\t} else {\n\t\t\tsearchTermsRegExps = [new RegExp(\&quot;(\&quot; + $tw.utils.escapeRegExp(text) + \&quot;)\&quot;,flags)];\n\t\t}\n\t} else {\n\t\tterms = text.split(/ +/);\n\t\tif(terms.length === 1 &amp;&amp; terms[0] === \&quot;\&quot;) {\n\t\t\tsearchTermsRegExps = null;\n\t\t} else {\n\t\t\tsearchTermsRegExps = [];\n\t\t\tfor(t=0; t&lt;terms.length; t++) {\n\t\t\t\tsearchTermsRegExps.push(new RegExp(\&quot;(\&quot; + $tw.utils.escapeRegExp(terms[t]) + \&quot;)\&quot;,flags));\n\t\t\t}\n\t\t}\n\t}\n\t// Function to check a given tiddler for the search term\n\tvar searchTiddler = function(title) {\n\t\tif(!searchTermsRegExps) {\n\t\t\treturn true;\n\t\t}\n\t\tvar tiddler = self.getTiddler(title);\n\t\tif(!tiddler) {\n\t\t\ttiddler = new $tw.Tiddler({title: title, text: \&quot;\&quot;, type: \&quot;text/vnd.tiddlywiki\&quot;});\n\t\t}\n\t\tvar contentTypeInfo = $tw.config.contentTypeInfo[tiddler.fields.type] || $tw.config.contentTypeInfo[\&quot;text/vnd.tiddlywiki\&quot;],\n\t\t\tmatch;\n\t\tfor(var t=0; t&lt;searchTermsRegExps.length; t++) {\n\t\t\tmatch = false;\n\t\t\tif(options.field) {\n\t\t\t\tmatch = searchTermsRegExps[t].test(tiddler.getFieldString(options.field));\n\t\t\t} else {\n\t\t\t\t// Search title, tags and body\n\t\t\t\tif(contentTypeInfo.encoding === \&quot;utf8\&quot;) {\n\t\t\t\t\tmatch = match || searchTermsRegExps[t].test(tiddler.fields.text);\n\t\t\t\t}\n\t\t\t\tvar tags = tiddler.fields.tags ? tiddler.fields.tags.join(\&quot;\\0\&quot;) : \&quot;\&quot;;\n\t\t\t\tmatch = match || searchTermsRegExps[t].test(tags) || searchTermsRegExps[t].test(tiddler.fields.title);\n\t\t\t}\n\t\t\tif(!match) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t};\n\t// Loop through all the tiddlers doing the search\n\tvar results = [],\n\t\tsource = options.source || this.each;\n\tsource(function(tiddler,title) {\n\t\tif(searchTiddler(title) !== options.invert) {\n\t\t\tresults.push(title);\n\t\t}\n\t});\n\t// Remove any of the results we have to exclude\n\tif(options.exclude) {\n\t\tfor(t=0; t&lt;options.exclude.length; t++) {\n\t\t\tvar p = results.indexOf(options.exclude[t]);\n\t\t\tif(p !== -1) {\n\t\t\t\tresults.splice(p,1);\n\t\t\t}\n\t\t}\n\t}\n\treturn results;\n};\n\n/*\nTrigger a load for a tiddler if it is skinny. Returns the text, or undefined if the tiddler is missing, null if the tiddler is being lazily loaded.\n*/\nexports.getTiddlerText = function(title,defaultText) {\n\tvar tiddler = this.getTiddler(title);\n\t// Return undefined if the tiddler isn't found\n\tif(!tiddler) {\n\t\treturn defaultText;\n\t}\n\tif(tiddler.fields.text !== undefined) {\n\t\t// Just return the text if we've got it\n\t\treturn tiddler.fields.text;\n\t} else {\n\t\t// Tell any listeners about the need to lazily load this tiddler\n\t\tthis.dispatchEvent(\&quot;lazyLoad\&quot;,title);\n\t\t// Indicate that the text is being loaded\n\t\treturn null;\n\t}\n};\n\n/*\nRead an array of browser File objects, invoking callback(tiddlerFieldsArray) once they're all read\n*/\nexports.readFiles = function(files,callback) {\n\tvar result = [],\n\t\toutstanding = files.length;\n\tfor(var f=0; f&lt;files.length; f++) {\n\t\tthis.readFile(files[f],function(tiddlerFieldsArray) {\n\t\t\tresult.push.apply(result,tiddlerFieldsArray);\n\t\t\tif(--outstanding === 0) {\n\t\t\t\tcallback(result);\n\t\t\t}\n\t\t});\n\t}\n\treturn files.length;\n};\n\n/*\nRead a browser File object, invoking callback(tiddlerFieldsArray) with an array of tiddler fields objects\n*/\nexports.readFile = function(file,callback) {\n\t// Get the type, falling back to the filename extension\n\tvar self = this,\n\t\ttype = file.type;\n\tif(type === \&quot;\&quot; || !type) {\n\t\tvar dotPos = file.name.lastIndexOf(\&quot;.\&quot;);\n\t\tif(dotPos !== -1) {\n\t\t\tvar fileExtensionInfo = $tw.utils.getFileExtensionInfo(file.name.substr(dotPos));\n\t\t\tif(fileExtensionInfo) {\n\t\t\t\ttype = fileExtensionInfo.type;\n\t\t\t}\n\t\t}\n\t}\n\t// Figure out if we're reading a binary file\n\tvar contentTypeInfo = $tw.config.contentTypeInfo[type],\n\t\tisBinary = contentTypeInfo ? contentTypeInfo.encoding === \&quot;base64\&quot; : false;\n\t// Log some debugging information\n\tif($tw.log.IMPORT) {\n\t\tconsole.log(\&quot;Importing file '\&quot; + file.name + \&quot;', type: '\&quot; + type + \&quot;', isBinary: \&quot; + isBinary);\n\t}\n\t// Create the FileReader\n\tvar reader = new FileReader();\n\t// Onload\n\treader.onload = function(event) {\n\t\t// Deserialise the file contents\n\t\tvar text = event.target.result,\n\t\t\ttiddlerFields = {title: file.name || \&quot;Untitled\&quot;, type: type};\n\t\t// Are we binary?\n\t\tif(isBinary) {\n\t\t\t// The base64 section starts after the first comma in the data URI\n\t\t\tvar commaPos = text.indexOf(\&quot;,\&quot;);\n\t\t\tif(commaPos !== -1) {\n\t\t\t\ttiddlerFields.text = text.substr(commaPos+1);\n\t\t\t\tcallback([tiddlerFields]);\n\t\t\t}\n\t\t} else {\n\t\t\t// Check whether this is an encrypted TiddlyWiki file\n\t\t\tvar encryptedJson = $tw.utils.extractEncryptedStoreArea(text);\n\t\t\tif(encryptedJson) {\n\t\t\t\t// If so, attempt to decrypt it with the current password\n\t\t\t\t$tw.utils.decryptStoreAreaInteractive(encryptedJson,function(tiddlers) {\n\t\t\t\t\tcallback(tiddlers);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Otherwise, just try to deserialise any tiddlers in the file\n\t\t\t\tcallback(self.deserializeTiddlers(type,text,tiddlerFields));\n\t\t\t}\n\t\t}\n\t};\n\t// Kick off the read\n\tif(isBinary) {\n\t\treader.readAsDataURL(file);\n\t} else {\n\t\treader.readAsText(file);\n\t}\n};\n\n/*\nFind any existing draft of a specified tiddler\n*/\nexports.findDraft = function(targetTitle) {\n\tvar draftTitle = undefined;\n\tthis.forEachTiddler({includeSystem: true},function(title,tiddler) {\n\t\tif(tiddler.fields[\&quot;draft.title\&quot;] &amp;&amp; tiddler.fields[\&quot;draft.of\&quot;] === targetTitle) {\n\t\t\tdraftTitle = title;\n\t\t}\n\t});\n\treturn draftTitle;\n}\n\n/*\nCheck whether the specified draft tiddler has been modified\n*/\nexports.isDraftModified = function(title) {\n\tvar tiddler = this.getTiddler(title);\n\tif(!tiddler.isDraft()) {\n\t\treturn false;\n\t}\n\tvar ignoredFields = [\&quot;created\&quot;, \&quot;modified\&quot;, \&quot;title\&quot;, \&quot;draft.title\&quot;, \&quot;draft.of\&quot;],\n\t\torigTiddler = this.getTiddler(tiddler.fields[\&quot;draft.of\&quot;]);\n\tif(!origTiddler) {\n\t\treturn tiddler.fields.text !== \&quot;\&quot;;\n\t}\n\treturn tiddler.fields[\&quot;draft.title\&quot;] !== tiddler.fields[\&quot;draft.of\&quot;] || !tiddler.isEqual(origTiddler,ignoredFields);\n};\n\n/*\nAdd a new record to the top of the history stack\ntitle: a title string or an array of title strings\nfromPageRect: page coordinates of the origin of the navigation\nhistoryTitle: title of history tiddler (defaults to $:/HistoryList)\n*/\nexports.addToHistory = function(title,fromPageRect,historyTitle) {\n\tvar story = new $tw.Story({wiki: this, historyTitle: historyTitle});\n\tstory.addToHistory(title,fromPageRect);\n};\n\n/*\nInvoke the available upgrader modules\ntitles: array of tiddler titles to be processed\ntiddlers: hashmap by title of tiddler fields of pending import tiddlers. These can be modified by the upgraders. An entry with no fields indicates a tiddler that was pending import has been suppressed. When entries are added to the pending import the tiddlers hashmap may have entries that are not present in the titles array\nReturns a hashmap of messages keyed by tiddler title.\n*/\nexports.invokeUpgraders = function(titles,tiddlers) {\n\t// Collect up the available upgrader modules\n\tvar self = this;\n\tif(!this.upgraderModules) {\n\t\tthis.upgraderModules = [];\n\t\t$tw.modules.forEachModuleOfType(\&quot;upgrader\&quot;,function(title,module) {\n\t\t\tif(module.upgrade) {\n\t\t\t\tself.upgraderModules.push(module);\n\t\t\t}\n\t\t});\n\t}\n\t// Invoke each upgrader in turn\n\tvar messages = {};\n\tfor(var t=0; t&lt;this.upgraderModules.length; t++) {\n\t\tvar upgrader = this.upgraderModules[t],\n\t\t\tupgraderMessages = upgrader.upgrade(this,titles,tiddlers);\n\t\t$tw.utils.extend(messages,upgraderMessages);\n\t}\n\treturn messages;\n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/core/modules/wiki.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;wikimethod&quot;
        },
        &quot;$:/palettes/Blanca&quot;: {
            &quot;title&quot;: &quot;$:/palettes/Blanca&quot;,
            &quot;name&quot;: &quot;Blanca&quot;,
            &quot;description&quot;: &quot;A clean white palette to let you focus&quot;,
            &quot;tags&quot;: &quot;$:/tags/Palette&quot;,
            &quot;type&quot;: &quot;application/x-tiddler-dictionary&quot;,
            &quot;text&quot;: &quot;alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #ffffff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\nbutton-background:\nbutton-foreground:\nbutton-border:\ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndirty-indicator: #ff0000\ndownload-background: #66cccc\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333333\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #999999\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #ffffff\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #7897f3\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #000000\nsidebar-controls-foreground: #ccc\nsidebar-foreground-shadow: rgba(255,255,255, 0.8)\nsidebar-foreground: #acacac\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #c0c0c0\nsidebar-tab-background-selected: #ffffff\nsidebar-tab-background: &lt;&lt;colour tab-background&gt;&gt;\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: &lt;&lt;colour tab-divider&gt;&gt;\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: #444444\nsidebar-tiddler-link-foreground: #7897f3\nsite-title-foreground: &lt;&lt;colour tiddler-title-foreground&gt;&gt;\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: #ffffff\ntab-background: #eeeeee\ntab-border-selected: #cccccc\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #ffeedd\ntag-foreground: #000\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: #eee\ntiddler-controls-foreground-hover: #888888\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #f8f8f8\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #f8f8f8\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #ff9900\ntoolbar-new-button:\ntoolbar-options-button:\ntoolbar-save-button:\ntoolbar-info-button:\ntoolbar-edit-button:\ntoolbar-close-button:\ntoolbar-delete-button:\ntoolbar-cancel-button:\ntoolbar-done-button:\nuntagged-background: #999999\nvery-muted-foreground: #888888\n&quot;
        },
        &quot;$:/palettes/Blue&quot;: {
            &quot;title&quot;: &quot;$:/palettes/Blue&quot;,
            &quot;name&quot;: &quot;Blue&quot;,
            &quot;description&quot;: &quot;A blue theme&quot;,
            &quot;tags&quot;: &quot;$:/tags/Palette&quot;,
            &quot;type&quot;: &quot;application/x-tiddler-dictionary&quot;,
            &quot;text&quot;: &quot;alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #fff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\nbutton-background:\nbutton-foreground:\nbutton-border:\ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndirty-indicator: #ff0000\ndownload-background: #34c734\ndownload-foreground: &lt;&lt;colour foreground&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333353\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #999999\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #ddddff\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #5778d8\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #000000\nsidebar-controls-foreground: #ffffff\nsidebar-foreground-shadow: rgba(255,255,255, 0.8)\nsidebar-foreground: #acacac\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #c0c0c0\nsidebar-tab-background-selected: &lt;&lt;colour page-background&gt;&gt;\nsidebar-tab-background: &lt;&lt;colour tab-background&gt;&gt;\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: &lt;&lt;colour tab-divider&gt;&gt;\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: #444444\nsidebar-tiddler-link-foreground: #5959c0\nsite-title-foreground: &lt;&lt;colour tiddler-title-foreground&gt;&gt;\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: &lt;&lt;colour background&gt;&gt;\ntab-background: #ccccdd\ntab-border-selected: #ccccdd\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #eeeeff\ntag-foreground: #000\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: #666666\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #ffffff\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #ffffff\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #5959c0\ntoolbar-new-button: #5eb95e\ntoolbar-options-button: rgb(128, 88, 165)\ntoolbar-save-button: #0e90d2\ntoolbar-info-button: #0e90d2\ntoolbar-edit-button: rgb(243, 123, 29)\ntoolbar-close-button: #dd514c\ntoolbar-delete-button: #dd514c\ntoolbar-cancel-button: rgb(243, 123, 29)\ntoolbar-done-button: #5eb95e\nuntagged-background: #999999\nvery-muted-foreground: #888888\n&quot;
        },
        &quot;$:/palettes/Muted&quot;: {
            &quot;title&quot;: &quot;$:/palettes/Muted&quot;,
            &quot;name&quot;: &quot;Muted&quot;,
            &quot;description&quot;: &quot;Bright tiddlers on a muted background&quot;,
            &quot;tags&quot;: &quot;$:/tags/Palette&quot;,
            &quot;type&quot;: &quot;application/x-tiddler-dictionary&quot;,
            &quot;text&quot;: &quot;alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #ffffff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\nbutton-background:\nbutton-foreground:\nbutton-border:\ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndirty-indicator: #ff0000\ndownload-background: #34c734\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333333\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #bbb\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #6f6f70\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #29a6ee\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #000000\nsidebar-controls-foreground: #c2c1c2\nsidebar-foreground-shadow: rgba(255,255,255,0)\nsidebar-foreground: #d3d2d4\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #c0c0c0\nsidebar-tab-background-selected: #6f6f70\nsidebar-tab-background: #666667\nsidebar-tab-border-selected: #999\nsidebar-tab-border: #515151\nsidebar-tab-divider: #999\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: #999\nsidebar-tiddler-link-foreground-hover: #444444\nsidebar-tiddler-link-foreground: #d1d0d2\nsite-title-foreground: &lt;&lt;colour tiddler-title-foreground&gt;&gt;\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: #ffffff\ntab-background: #d8d8d8\ntab-border-selected: #d8d8d8\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #d5ad34\ntag-foreground: #ffffff\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: #888888\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #f8f8f8\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #f8f8f8\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #182955\ntoolbar-new-button: \ntoolbar-options-button: \ntoolbar-save-button: \ntoolbar-info-button: \ntoolbar-edit-button: \ntoolbar-close-button: \ntoolbar-delete-button: \ntoolbar-cancel-button: \ntoolbar-done-button: \nuntagged-background: #999999\nvery-muted-foreground: #888888\n&quot;
        },
        &quot;$:/palettes/ContrastLight&quot;: {
            &quot;title&quot;: &quot;$:/palettes/ContrastLight&quot;,
            &quot;name&quot;: &quot;Contrast (Light)&quot;,
            &quot;description&quot;: &quot;High contrast and unambiguous (light version)&quot;,
            &quot;tags&quot;: &quot;$:/tags/Palette&quot;,
            &quot;type&quot;: &quot;application/x-tiddler-dictionary&quot;,
            &quot;text&quot;: &quot;alert-background: #f00\nalert-border: &lt;&lt;colour background&gt;&gt;\nalert-highlight: &lt;&lt;colour foreground&gt;&gt;\nalert-muted-foreground: #800\nbackground: #fff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\nbutton-background: &lt;&lt;colour background&gt;&gt;\nbutton-foreground: &lt;&lt;colour foreground&gt;&gt;\nbutton-border: &lt;&lt;colour foreground&gt;&gt;\ncode-background: &lt;&lt;colour background&gt;&gt;\ncode-border: &lt;&lt;colour foreground&gt;&gt;\ncode-foreground: &lt;&lt;colour foreground&gt;&gt;\ndirty-indicator: #f00\ndownload-background: #080\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: &lt;&lt;colour foreground&gt;&gt;\ndropdown-tab-background: &lt;&lt;colour foreground&gt;&gt;\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #00a\nexternal-link-foreground: #00e\nforeground: #000\nmessage-background: &lt;&lt;colour foreground&gt;&gt;\nmessage-border: &lt;&lt;colour background&gt;&gt;\nmessage-foreground: &lt;&lt;colour background&gt;&gt;\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: &lt;&lt;colour foreground&gt;&gt;\nmodal-footer-background: &lt;&lt;colour background&gt;&gt;\nmodal-footer-border: &lt;&lt;colour foreground&gt;&gt;\nmodal-header-border: &lt;&lt;colour foreground&gt;&gt;\nmuted-foreground: &lt;&lt;colour foreground&gt;&gt;\nnotification-background: &lt;&lt;colour background&gt;&gt;\nnotification-border: &lt;&lt;colour foreground&gt;&gt;\npage-background: &lt;&lt;colour background&gt;&gt;\npre-background: &lt;&lt;colour background&gt;&gt;\npre-border: &lt;&lt;colour foreground&gt;&gt;\nprimary: #00f\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: &lt;&lt;colour background&gt;&gt;\nsidebar-controls-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-foreground-shadow: rgba(0,0,0, 0)\nsidebar-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-tab-background-selected: &lt;&lt;colour background&gt;&gt;\nsidebar-tab-background: &lt;&lt;colour tab-background&gt;&gt;\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: &lt;&lt;colour tab-divider&gt;&gt;\nsidebar-tab-foreground-selected: &lt;&lt;colour foreground&gt;&gt;\nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: &lt;&lt;colour foreground&gt;&gt;\nsidebar-tiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\nsite-title-foreground: &lt;&lt;colour tiddler-title-foreground&gt;&gt;\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: &lt;&lt;colour background&gt;&gt;\ntab-background: &lt;&lt;colour foreground&gt;&gt;\ntab-border-selected: &lt;&lt;colour foreground&gt;&gt;\ntab-border: &lt;&lt;colour foreground&gt;&gt;\ntab-divider: &lt;&lt;colour foreground&gt;&gt;\ntab-foreground-selected: &lt;&lt;colour foreground&gt;&gt;\ntab-foreground: &lt;&lt;colour background&gt;&gt;\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #000\ntag-foreground: #fff\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour foreground&gt;&gt;\ntiddler-controls-foreground-hover: #ddd\ntiddler-controls-foreground-selected: #fdd\ntiddler-controls-foreground: &lt;&lt;colour foreground&gt;&gt;\ntiddler-editor-background: &lt;&lt;colour background&gt;&gt;\ntiddler-editor-border-image: &lt;&lt;colour foreground&gt;&gt;\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: &lt;&lt;colour background&gt;&gt;\ntiddler-editor-fields-odd: &lt;&lt;colour background&gt;&gt;\ntiddler-info-background: &lt;&lt;colour background&gt;&gt;\ntiddler-info-border: &lt;&lt;colour foreground&gt;&gt;\ntiddler-info-tab-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: &lt;&lt;colour foreground&gt;&gt;\ntiddler-title-foreground: &lt;&lt;colour foreground&gt;&gt;\ntoolbar-new-button: \ntoolbar-options-button: \ntoolbar-save-button: \ntoolbar-info-button: \ntoolbar-edit-button: \ntoolbar-close-button: \ntoolbar-delete-button: \ntoolbar-cancel-button: \ntoolbar-done-button: \nuntagged-background: &lt;&lt;colour foreground&gt;&gt;\nvery-muted-foreground: #888888\n&quot;
        },
        &quot;$:/palettes/ContrastDark&quot;: {
            &quot;title&quot;: &quot;$:/palettes/ContrastDark&quot;,
            &quot;name&quot;: &quot;Contrast (Dark)&quot;,
            &quot;description&quot;: &quot;High contrast and unambiguous (dark version)&quot;,
            &quot;tags&quot;: &quot;$:/tags/Palette&quot;,
            &quot;type&quot;: &quot;application/x-tiddler-dictionary&quot;,
            &quot;text&quot;: &quot;alert-background: #f00\nalert-border: &lt;&lt;colour background&gt;&gt;\nalert-highlight: &lt;&lt;colour foreground&gt;&gt;\nalert-muted-foreground: #800\nbackground: #000\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\nbutton-background: &lt;&lt;colour background&gt;&gt;\nbutton-foreground: &lt;&lt;colour foreground&gt;&gt;\nbutton-border: &lt;&lt;colour foreground&gt;&gt;\ncode-background: &lt;&lt;colour background&gt;&gt;\ncode-border: &lt;&lt;colour foreground&gt;&gt;\ncode-foreground: &lt;&lt;colour foreground&gt;&gt;\ndirty-indicator: #f00\ndownload-background: #080\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: &lt;&lt;colour foreground&gt;&gt;\ndropdown-tab-background: &lt;&lt;colour foreground&gt;&gt;\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #00a\nexternal-link-foreground: #00e\nforeground: #fff\nmessage-background: &lt;&lt;colour foreground&gt;&gt;\nmessage-border: &lt;&lt;colour background&gt;&gt;\nmessage-foreground: &lt;&lt;colour background&gt;&gt;\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: &lt;&lt;colour foreground&gt;&gt;\nmodal-footer-background: &lt;&lt;colour background&gt;&gt;\nmodal-footer-border: &lt;&lt;colour foreground&gt;&gt;\nmodal-header-border: &lt;&lt;colour foreground&gt;&gt;\nmuted-foreground: &lt;&lt;colour foreground&gt;&gt;\nnotification-background: &lt;&lt;colour background&gt;&gt;\nnotification-border: &lt;&lt;colour foreground&gt;&gt;\npage-background: &lt;&lt;colour background&gt;&gt;\npre-background: &lt;&lt;colour background&gt;&gt;\npre-border: &lt;&lt;colour foreground&gt;&gt;\nprimary: #00f\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: &lt;&lt;colour background&gt;&gt;\nsidebar-controls-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-foreground-shadow: rgba(0,0,0, 0)\nsidebar-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-tab-background-selected: &lt;&lt;colour background&gt;&gt;\nsidebar-tab-background: &lt;&lt;colour tab-background&gt;&gt;\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: &lt;&lt;colour tab-divider&gt;&gt;\nsidebar-tab-foreground-selected: &lt;&lt;colour foreground&gt;&gt;\nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: &lt;&lt;colour foreground&gt;&gt;\nsidebar-tiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\nsite-title-foreground: &lt;&lt;colour tiddler-title-foreground&gt;&gt;\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: &lt;&lt;colour background&gt;&gt;\ntab-background: &lt;&lt;colour foreground&gt;&gt;\ntab-border-selected: &lt;&lt;colour foreground&gt;&gt;\ntab-border: &lt;&lt;colour foreground&gt;&gt;\ntab-divider: &lt;&lt;colour foreground&gt;&gt;\ntab-foreground-selected: &lt;&lt;colour foreground&gt;&gt;\ntab-foreground: &lt;&lt;colour background&gt;&gt;\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #fff\ntag-foreground: #000\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour foreground&gt;&gt;\ntiddler-controls-foreground-hover: #ddd\ntiddler-controls-foreground-selected: #fdd\ntiddler-controls-foreground: &lt;&lt;colour foreground&gt;&gt;\ntiddler-editor-background: &lt;&lt;colour background&gt;&gt;\ntiddler-editor-border-image: &lt;&lt;colour foreground&gt;&gt;\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: &lt;&lt;colour background&gt;&gt;\ntiddler-editor-fields-odd: &lt;&lt;colour background&gt;&gt;\ntiddler-info-background: &lt;&lt;colour background&gt;&gt;\ntiddler-info-border: &lt;&lt;colour foreground&gt;&gt;\ntiddler-info-tab-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: &lt;&lt;colour foreground&gt;&gt;\ntiddler-title-foreground: &lt;&lt;colour foreground&gt;&gt;\ntoolbar-new-button: \ntoolbar-options-button: \ntoolbar-save-button: \ntoolbar-info-button: \ntoolbar-edit-button: \ntoolbar-close-button: \ntoolbar-delete-button: \ntoolbar-cancel-button: \ntoolbar-done-button: \nuntagged-background: &lt;&lt;colour foreground&gt;&gt;\nvery-muted-foreground: #888888\n&quot;
        },
        &quot;$:/palettes/DarkPhotos&quot;: {
            &quot;created&quot;: &quot;20150402111612188&quot;,
            &quot;description&quot;: &quot;Good with dark photo backgrounds&quot;,
            &quot;modified&quot;: &quot;20150402112344080&quot;,
            &quot;name&quot;: &quot;DarkPhotos&quot;,
            &quot;tags&quot;: &quot;$:/tags/Palette&quot;,
            &quot;title&quot;: &quot;$:/palettes/DarkPhotos&quot;,
            &quot;type&quot;: &quot;application/x-tiddler-dictionary&quot;,
            &quot;text&quot;: &quot;alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #ffffff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\nbutton-background: \nbutton-foreground: \nbutton-border: \ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndirty-indicator: #ff0000\ndownload-background: #34c734\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333333\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #ddd\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #336438\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #5778d8\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #ccf\nsidebar-controls-foreground: #fff\nsidebar-foreground-shadow: rgba(0,0,0, 0.5)\nsidebar-foreground: #fff\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #eee\nsidebar-tab-background-selected: rgba(255,255,255, 0.8)\nsidebar-tab-background: rgba(255,255,255, 0.4)\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: rgba(255,255,255, 0.2)\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: #aaf\nsidebar-tiddler-link-foreground: #ddf\nsite-title-foreground: #fff\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: #ffffff\ntab-background: #d8d8d8\ntab-border-selected: #d8d8d8\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #ec6\ntag-foreground: #ffffff\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: #888888\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #f8f8f8\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #f8f8f8\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #182955\ntoolbar-new-button: \ntoolbar-options-button: \ntoolbar-save-button: \ntoolbar-info-button: \ntoolbar-edit-button: \ntoolbar-close-button: \ntoolbar-delete-button: \ntoolbar-cancel-button: \ntoolbar-done-button: \nuntagged-background: #999999\nvery-muted-foreground: #888888\n&quot;
        },
        &quot;$:/palettes/Rocker&quot;: {
            &quot;title&quot;: &quot;$:/palettes/Rocker&quot;,
            &quot;name&quot;: &quot;Rocker&quot;,
            &quot;description&quot;: &quot;A dark theme&quot;,
            &quot;tags&quot;: &quot;$:/tags/Palette&quot;,
            &quot;type&quot;: &quot;application/x-tiddler-dictionary&quot;,
            &quot;text&quot;: &quot;alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #ffffff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\nbutton-background:\nbutton-foreground:\nbutton-border:\ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndirty-indicator: #ff0000\ndownload-background: #34c734\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333333\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #999999\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #000\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #cc0000\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #000000\nsidebar-controls-foreground: #ffffff\nsidebar-foreground-shadow: rgba(255,255,255, 0.0)\nsidebar-foreground: #acacac\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #c0c0c0\nsidebar-tab-background-selected: #000\nsidebar-tab-background: &lt;&lt;colour tab-background&gt;&gt;\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: &lt;&lt;colour tab-divider&gt;&gt;\nsidebar-tab-foreground-selected: \nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: #ffbb99\nsidebar-tiddler-link-foreground: #cc0000\nsite-title-foreground: &lt;&lt;colour tiddler-title-foreground&gt;&gt;\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: #ffffff\ntab-background: #d8d8d8\ntab-border-selected: #d8d8d8\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #ffbb99\ntag-foreground: #000\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: #888888\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #f8f8f8\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #f8f8f8\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #cc0000\ntoolbar-new-button:\ntoolbar-options-button:\ntoolbar-save-button:\ntoolbar-info-button:\ntoolbar-edit-button:\ntoolbar-close-button:\ntoolbar-delete-button:\ntoolbar-cancel-button:\ntoolbar-done-button:\nuntagged-background: #999999\nvery-muted-foreground: #888888\n&quot;
        },
        &quot;$:/palettes/SolarFlare&quot;: {
            &quot;title&quot;: &quot;$:/palettes/SolarFlare&quot;,
            &quot;name&quot;: &quot;Solar Flare&quot;,
            &quot;description&quot;: &quot;Warm, relaxing earth colours&quot;,
            &quot;tags&quot;: &quot;$:/tags/Palette&quot;,
            &quot;type&quot;: &quot;application/x-tiddler-dictionary&quot;,
            &quot;text&quot;: &quot;: Background Tones\n\nbase03: #002b36\nbase02: #073642\n\n: Content Tones\n\nbase01: #586e75\nbase00: #657b83\nbase0: #839496\nbase1: #93a1a1\n\n: Background Tones\n\nbase2: #eee8d5\nbase3: #fdf6e3\n\n: Accent Colors\n\nyellow: #b58900\norange: #cb4b16\nred: #dc322f\nmagenta: #d33682\nviolet: #6c71c4\nblue: #268bd2\ncyan: #2aa198\ngreen: #859900\n\n: Additional Tones (RA)\n\nbase10: #c0c4bb\nviolet-muted: #7c81b0\nblue-muted: #4e7baa\n\nyellow-hot: #ffcc44\norange-hot: #eb6d20\nred-hot: #ff2222\nblue-hot: #2298ee\ngreen-hot: #98ee22\n\n: Palette\n\n: Do not use colour macro for background and foreground\nbackground: #fdf6e3\n    download-foreground: &lt;&lt;colour background&gt;&gt;\n    dragger-foreground: &lt;&lt;colour background&gt;&gt;\n    dropdown-background: &lt;&lt;colour background&gt;&gt;\n    modal-background: &lt;&lt;colour background&gt;&gt;\n    sidebar-foreground-shadow: &lt;&lt;colour background&gt;&gt;\n    tiddler-background: &lt;&lt;colour background&gt;&gt;\n    tiddler-border: &lt;&lt;colour background&gt;&gt;\n    tiddler-link-background: &lt;&lt;colour background&gt;&gt;\n    tab-background-selected: &lt;&lt;colour background&gt;&gt;\n        dropdown-tab-background-selected: &lt;&lt;colour tab-background-selected&gt;&gt;\nforeground: #657b83\n    dragger-background: &lt;&lt;colour foreground&gt;&gt;\n    tab-foreground: &lt;&lt;colour foreground&gt;&gt;\n        tab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\n            sidebar-tab-foreground-selected: &lt;&lt;colour tab-foreground-selected&gt;&gt;\n        sidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\n    sidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\n    sidebar-controls-foreground: &lt;&lt;colour foreground&gt;&gt;\n    sidebar-foreground: &lt;&lt;colour foreground&gt;&gt;\n: base03\n: base02\n: base01\n    alert-muted-foreground: &lt;&lt;colour base01&gt;&gt;\n: base00\n    code-foreground: &lt;&lt;colour base00&gt;&gt;\n    message-foreground: &lt;&lt;colour base00&gt;&gt;\n    tag-foreground: &lt;&lt;colour base00&gt;&gt;\n: base0\n    sidebar-tiddler-link-foreground: &lt;&lt;colour base0&gt;&gt;\n: base1\n    muted-foreground: &lt;&lt;colour base1&gt;&gt;\n        blockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\n        dropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\n        sidebar-muted-foreground: &lt;&lt;colour muted-foreground&gt;&gt;\n        tiddler-title-foreground: &lt;&lt;colour muted-foreground&gt;&gt;\n            site-title-foreground: &lt;&lt;colour tiddler-title-foreground&gt;&gt;\n: base2\n    modal-footer-background: &lt;&lt;colour base2&gt;&gt;\n    page-background: &lt;&lt;colour base2&gt;&gt;\n        modal-backdrop: &lt;&lt;colour page-background&gt;&gt;\n        notification-background: &lt;&lt;colour page-background&gt;&gt;\n        code-background: &lt;&lt;colour page-background&gt;&gt;\n            code-border: &lt;&lt;colour code-background&gt;&gt;\n        pre-background: &lt;&lt;colour page-background&gt;&gt;\n            pre-border: &lt;&lt;colour pre-background&gt;&gt;\n        sidebar-tab-background-selected: &lt;&lt;colour page-background&gt;&gt;\n    table-header-background: &lt;&lt;colour base2&gt;&gt;\n    tag-background: &lt;&lt;colour base2&gt;&gt;\n    tiddler-editor-background: &lt;&lt;colour base2&gt;&gt;\n    tiddler-info-background: &lt;&lt;colour base2&gt;&gt;\n    tiddler-info-tab-background: &lt;&lt;colour base2&gt;&gt;\n    tab-background: &lt;&lt;colour base2&gt;&gt;\n        dropdown-tab-background: &lt;&lt;colour tab-background&gt;&gt;\n: base3\n    alert-background: &lt;&lt;colour base3&gt;&gt;\n    message-background: &lt;&lt;colour base3&gt;&gt;\n: yellow\n: orange\n: red\n: magenta\n    alert-highlight: &lt;&lt;colour magenta&gt;&gt;\n: violet\n    external-link-foreground: &lt;&lt;colour violet&gt;&gt;\n: blue\n: cyan\n: green\n: base10\n    tiddler-controls-foreground: &lt;&lt;colour base10&gt;&gt;\n: violet-muted\n    external-link-foreground-visited: &lt;&lt;colour violet-muted&gt;&gt;\n: blue-muted\n    primary: &lt;&lt;colour blue-muted&gt;&gt;\n        download-background: &lt;&lt;colour primary&gt;&gt;\n        tiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\n\nalert-border: #b99e2f\ndirty-indicator: #ff0000\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nmessage-border: #cfd6e6\nmodal-border: #999999\nsidebar-controls-foreground-hover:\nsidebar-muted-foreground-hover:\nsidebar-tab-background: #ded8c5\nsidebar-tiddler-link-foreground-hover:\nstatic-alert-foreground: #aaaaaa\ntab-border: #cccccc\n    modal-footer-border: &lt;&lt;colour tab-border&gt;&gt;\n    modal-header-border: &lt;&lt;colour tab-border&gt;&gt;\n    notification-border: &lt;&lt;colour tab-border&gt;&gt;\n    sidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\n    tab-border-selected: &lt;&lt;colour tab-border&gt;&gt;\n        sidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\ntab-divider: #d8d8d8\n    sidebar-tab-divider: &lt;&lt;colour tab-divider&gt;&gt;\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntiddler-controls-foreground-hover: #888888\ntiddler-controls-foreground-selected: #444444\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-border: #dddddd\ntiddler-subtitle-foreground: #c0c0c0\ntoolbar-new-button:\ntoolbar-options-button:\ntoolbar-save-button:\ntoolbar-info-button:\ntoolbar-edit-button:\ntoolbar-close-button:\ntoolbar-delete-button:\ntoolbar-cancel-button:\ntoolbar-done-button:\nuntagged-background: #999999\nvery-muted-foreground: #888888\n&quot;
        },
        &quot;$:/palettes/Vanilla&quot;: {
            &quot;title&quot;: &quot;$:/palettes/Vanilla&quot;,
            &quot;name&quot;: &quot;Vanilla&quot;,
            &quot;description&quot;: &quot;Pale and unobtrusive&quot;,
            &quot;tags&quot;: &quot;$:/tags/Palette&quot;,
            &quot;type&quot;: &quot;application/x-tiddler-dictionary&quot;,
            &quot;text&quot;: &quot;alert-background: #ffe476\nalert-border: #b99e2f\nalert-highlight: #881122\nalert-muted-foreground: #b99e2f\nbackground: #ffffff\nblockquote-bar: &lt;&lt;colour muted-foreground&gt;&gt;\nbutton-background:\nbutton-foreground:\nbutton-border:\ncode-background: #f7f7f9\ncode-border: #e1e1e8\ncode-foreground: #dd1144\ndirty-indicator: #ff0000\ndownload-background: #34c734\ndownload-foreground: &lt;&lt;colour background&gt;&gt;\ndragger-background: &lt;&lt;colour foreground&gt;&gt;\ndragger-foreground: &lt;&lt;colour background&gt;&gt;\ndropdown-background: &lt;&lt;colour background&gt;&gt;\ndropdown-border: &lt;&lt;colour muted-foreground&gt;&gt;\ndropdown-tab-background-selected: #fff\ndropdown-tab-background: #ececec\ndropzone-background: rgba(0,200,0,0.7)\nexternal-link-background-hover: inherit\nexternal-link-background-visited: inherit\nexternal-link-background: inherit\nexternal-link-foreground-hover: inherit\nexternal-link-foreground-visited: #0000aa\nexternal-link-foreground: #0000ee\nforeground: #333333\nmessage-background: #ecf2ff\nmessage-border: #cfd6e6\nmessage-foreground: #547599\nmodal-backdrop: &lt;&lt;colour foreground&gt;&gt;\nmodal-background: &lt;&lt;colour background&gt;&gt;\nmodal-border: #999999\nmodal-footer-background: #f5f5f5\nmodal-footer-border: #dddddd\nmodal-header-border: #eeeeee\nmuted-foreground: #bbb\nnotification-background: #ffffdd\nnotification-border: #999999\npage-background: #f4f4f4\npre-background: #f5f5f5\npre-border: #cccccc\nprimary: #5778d8\nsidebar-button-foreground: &lt;&lt;colour foreground&gt;&gt;\nsidebar-controls-foreground-hover: #000000\nsidebar-controls-foreground: #aaaaaa\nsidebar-foreground-shadow: rgba(255,255,255, 0.8)\nsidebar-foreground: #acacac\nsidebar-muted-foreground-hover: #444444\nsidebar-muted-foreground: #c0c0c0\nsidebar-tab-background-selected: #f4f4f4\nsidebar-tab-background: #e0e0e0\nsidebar-tab-border-selected: &lt;&lt;colour tab-border-selected&gt;&gt;\nsidebar-tab-border: &lt;&lt;colour tab-border&gt;&gt;\nsidebar-tab-divider: #e4e4e4\nsidebar-tab-foreground-selected:\nsidebar-tab-foreground: &lt;&lt;colour tab-foreground&gt;&gt;\nsidebar-tiddler-link-foreground-hover: #444444\nsidebar-tiddler-link-foreground: #999999\nsite-title-foreground: &lt;&lt;colour tiddler-title-foreground&gt;&gt;\nstatic-alert-foreground: #aaaaaa\ntab-background-selected: #ffffff\ntab-background: #d8d8d8\ntab-border-selected: #d8d8d8\ntab-border: #cccccc\ntab-divider: #d8d8d8\ntab-foreground-selected: &lt;&lt;colour tab-foreground&gt;&gt;\ntab-foreground: #666666\ntable-border: #dddddd\ntable-footer-background: #a8a8a8\ntable-header-background: #f0f0f0\ntag-background: #ec6\ntag-foreground: #ffffff\ntiddler-background: &lt;&lt;colour background&gt;&gt;\ntiddler-border: &lt;&lt;colour background&gt;&gt;\ntiddler-controls-foreground-hover: #888888\ntiddler-controls-foreground-selected: #444444\ntiddler-controls-foreground: #cccccc\ntiddler-editor-background: #f8f8f8\ntiddler-editor-border-image: #ffffff\ntiddler-editor-border: #cccccc\ntiddler-editor-fields-even: #e0e8e0\ntiddler-editor-fields-odd: #f0f4f0\ntiddler-info-background: #f8f8f8\ntiddler-info-border: #dddddd\ntiddler-info-tab-background: #f8f8f8\ntiddler-link-background: &lt;&lt;colour background&gt;&gt;\ntiddler-link-foreground: &lt;&lt;colour primary&gt;&gt;\ntiddler-subtitle-foreground: #c0c0c0\ntiddler-title-foreground: #182955\ntoolbar-new-button:\ntoolbar-options-button:\ntoolbar-save-button:\ntoolbar-info-button:\ntoolbar-edit-button:\ntoolbar-close-button:\ntoolbar-delete-button:\ntoolbar-cancel-button:\ntoolbar-done-button:\nuntagged-background: #999999\nvery-muted-foreground: #888888\n&quot;
        },
        &quot;$:/core/readme&quot;: {
            &quot;title&quot;: &quot;$:/core/readme&quot;,
            &quot;text&quot;: &quot;This plugin contains TiddlyWiki's core components, comprising:\n\n* JavaScript code modules\n* Icons\n* Templates needed to create TiddlyWiki's user interface\n* British English (''en-GB'') translations of the localisable strings used by the core\n&quot;
        },
        &quot;$:/core/templates/MOTW.html&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/MOTW.html&quot;,
            &quot;text&quot;: &quot;\\rules only filteredtranscludeinline transcludeinline entity\n&lt;!-- The following comment is called a MOTW comment and is necessary for the TiddlyIE Internet Explorer extension --&gt;\n&lt;!-- saved from url=(0021)http://tiddlywiki.com --&gt;&amp;#13;&amp;#10;&quot;
        },
        &quot;$:/core/templates/alltiddlers.template.html&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/alltiddlers.template.html&quot;,
            &quot;type&quot;: &quot;text/vnd.tiddlywiki-html&quot;,
            &quot;text&quot;: &quot;&lt;!-- This template is provided for backwards compatibility with older versions of TiddlyWiki --&gt;\n\n&lt;$set name=\&quot;exportFilter\&quot; value=\&quot;[!is[system]sort[title]]\&quot;&gt;\n\n{{$:/core/templates/exporters/StaticRiver}}\n\n&lt;/$set&gt;\n&quot;
        },
        &quot;$:/core/templates/canonical-uri-external-image&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/canonical-uri-external-image&quot;,
            &quot;text&quot;: &quot;&lt;!--\n\nThis template is used to assign the ''_canonical_uri'' field to external images.\n\nChange the `./images/` part to a different base URI. The URI can be relative or absolute.\n\n--&gt;\n./images/&lt;$view field=\&quot;title\&quot; format=\&quot;doubleurlencoded\&quot;/&gt;&quot;
        },
        &quot;$:/core/templates/canonical-uri-external-text&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/canonical-uri-external-text&quot;,
            &quot;text&quot;: &quot;&lt;!--\n\nThis template is used to assign the ''_canonical_uri'' field to external text files.\n\nChange the `./text/` part to a different base URI. The URI can be relative or absolute.\n\n--&gt;\n./text/&lt;$view field=\&quot;title\&quot; format=\&quot;doubleurlencoded\&quot;/&gt;.tid&quot;
        },
        &quot;$:/core/templates/css-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/css-tiddler&quot;,
            &quot;text&quot;: &quot;&lt;!--\n\nThis template is used for saving CSS tiddlers as a style tag with data attributes representing the tiddler fields.\n\n--&gt;`&lt;style`&lt;$fields template=' data-tiddler-$name$=\&quot;$encoded_value$\&quot;'&gt;&lt;/$fields&gt;` type=\&quot;text/css\&quot;&gt;`&lt;$view field=\&quot;text\&quot; format=\&quot;text\&quot; /&gt;`&lt;/style&gt;`&quot;
        },
        &quot;$:/core/templates/exporters/CsvFile&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/exporters/CsvFile&quot;,
            &quot;tags&quot;: &quot;$:/tags/Exporter&quot;,
            &quot;description&quot;: &quot;{{$:/language/Exporters/CsvFile}}&quot;,
            &quot;extension&quot;: &quot;.csv&quot;,
            &quot;text&quot;: &quot;\\define renderContent()\n&lt;$text text=&lt;&lt;csvtiddlers filter:\&quot;\&quot;\&quot;$(exportFilter)$\&quot;\&quot;\&quot; format:\&quot;quoted-comma-sep\&quot;&gt;&gt;/&gt;\n\\end\n&lt;&lt;renderContent&gt;&gt;\n&quot;
        },
        &quot;$:/core/templates/exporters/JsonFile&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/exporters/JsonFile&quot;,
            &quot;tags&quot;: &quot;$:/tags/Exporter&quot;,
            &quot;description&quot;: &quot;{{$:/language/Exporters/JsonFile}}&quot;,
            &quot;extension&quot;: &quot;.json&quot;,
            &quot;text&quot;: &quot;\\define renderContent()\n&lt;$text text=&lt;&lt;jsontiddlers filter:\&quot;\&quot;\&quot;$(exportFilter)$\&quot;\&quot;\&quot;&gt;&gt;/&gt;\n\\end\n&lt;&lt;renderContent&gt;&gt;\n&quot;
        },
        &quot;$:/core/templates/exporters/StaticRiver&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/exporters/StaticRiver&quot;,
            &quot;tags&quot;: &quot;$:/tags/Exporter&quot;,
            &quot;description&quot;: &quot;{{$:/language/Exporters/StaticRiver}}&quot;,
            &quot;extension&quot;: &quot;.html&quot;,
            &quot;text&quot;: &quot;\\define tv-wikilink-template() #$uri_encoded$\n\\define tv-config-toolbar-icons() no\n\\define tv-config-toolbar-text() no\n\\define tv-config-toolbar-class() tc-btn-invisible\n\\rules only filteredtranscludeinline transcludeinline\n&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\&quot;Content-Type\&quot; content=\&quot;text/html;charset=utf-8\&quot; /&gt;\n&lt;meta name=\&quot;generator\&quot; content=\&quot;TiddlyWiki\&quot; /&gt;\n&lt;meta name=\&quot;tiddlywiki-version\&quot; content=\&quot;{{$:/core/templates/version}}\&quot; /&gt;\n&lt;meta name=\&quot;format-detection\&quot; content=\&quot;telephone=no\&quot;&gt;\n&lt;link id=\&quot;faviconLink\&quot; rel=\&quot;shortcut icon\&quot; href=\&quot;favicon.ico\&quot;&gt;\n&lt;title&gt;{{$:/core/wiki/title}}&lt;/title&gt;\n&lt;div id=\&quot;styleArea\&quot;&gt;\n{{$:/boot/boot.css||$:/core/templates/css-tiddler}}\n&lt;/div&gt;\n&lt;style type=\&quot;text/css\&quot;&gt;\n{{$:/core/ui/PageStylesheet||$:/core/templates/wikified-tiddler}}\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body class=\&quot;tc-body\&quot;&gt;\n{{$:/StaticBanner||$:/core/templates/html-tiddler}}\n&lt;section class=\&quot;tc-story-river\&quot;&gt;\n{{$:/core/templates/exporters/StaticRiver/Content||$:/core/templates/html-tiddler}}\n&lt;/section&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n&quot;
        },
        &quot;$:/core/templates/exporters/StaticRiver/Content&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/exporters/StaticRiver/Content&quot;,
            &quot;text&quot;: &quot;\\define renderContent()\n{{{ $(exportFilter)$ ||$:/core/templates/static-tiddler}}}\n\\end\n&lt;$importvariables filter=\&quot;[[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\&quot;&gt;\n&lt;&lt;renderContent&gt;&gt;\n&lt;/$importvariables&gt;\n&quot;
        },
        &quot;$:/core/templates/exporters/TidFile&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/exporters/TidFile&quot;,
            &quot;tags&quot;: &quot;$:/tags/Exporter&quot;,
            &quot;description&quot;: &quot;{{$:/language/Exporters/TidFile}}&quot;,
            &quot;extension&quot;: &quot;.tid&quot;,
            &quot;text&quot;: &quot;\\define renderContent()\n{{{ $(exportFilter)$ +[limit[1]] ||$:/core/templates/tid-tiddler}}}\n\\end\n&lt;$importvariables filter=\&quot;[[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\&quot;&gt;&lt;&lt;renderContent&gt;&gt;&lt;/$importvariables&gt;&quot;
        },
        &quot;$:/core/templates/html-div-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/html-div-tiddler&quot;,
            &quot;text&quot;: &quot;&lt;!--\n\nThis template is used for saving tiddlers as an HTML DIV tag with attributes representing the tiddler fields.\n\n--&gt;`&lt;div`&lt;$fields template=' $name$=\&quot;$encoded_value$\&quot;'&gt;&lt;/$fields&gt;`&gt;\n&lt;pre&gt;`&lt;$view field=\&quot;text\&quot; format=\&quot;htmlencoded\&quot; /&gt;`&lt;/pre&gt;\n&lt;/div&gt;`\n&quot;
        },
        &quot;$:/core/templates/html-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/html-tiddler&quot;,
            &quot;text&quot;: &quot;&lt;!--\n\nThis template is used for saving tiddlers as raw HTML\n\n--&gt;&lt;$view field=\&quot;text\&quot; format=\&quot;htmlwikified\&quot; /&gt;&quot;
        },
        &quot;$:/core/templates/javascript-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/javascript-tiddler&quot;,
            &quot;text&quot;: &quot;&lt;!--\n\nThis template is used for saving JavaScript tiddlers as a script tag with data attributes representing the tiddler fields.\n\n--&gt;`&lt;script`&lt;$fields template=' data-tiddler-$name$=\&quot;$encoded_value$\&quot;'&gt;&lt;/$fields&gt;` type=\&quot;text/javascript\&quot;&gt;`&lt;$view field=\&quot;text\&quot; format=\&quot;text\&quot; /&gt;`&lt;/script&gt;`&quot;
        },
        &quot;$:/core/templates/module-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/module-tiddler&quot;,
            &quot;text&quot;: &quot;&lt;!--\n\nThis template is used for saving JavaScript tiddlers as a script tag with data attributes representing the tiddler fields. The body of the tiddler is wrapped in a call to the `$tw.modules.define` function in order to define the body of the tiddler as a module\n\n--&gt;`&lt;script`&lt;$fields template=' data-tiddler-$name$=\&quot;$encoded_value$\&quot;'&gt;&lt;/$fields&gt;` type=\&quot;text/javascript\&quot; data-module=\&quot;yes\&quot;&gt;$tw.modules.define(\&quot;`&lt;$view field=\&quot;title\&quot; format=\&quot;jsencoded\&quot; /&gt;`\&quot;,\&quot;`&lt;$view field=\&quot;module-type\&quot; format=\&quot;jsencoded\&quot; /&gt;`\&quot;,function(module,exports,require) {`&lt;$view field=\&quot;text\&quot; format=\&quot;text\&quot; /&gt;`});\n&lt;/script&gt;`&quot;
        },
        &quot;$:/core/templates/plain-text-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/plain-text-tiddler&quot;,
            &quot;text&quot;: &quot;&lt;$view field=\&quot;text\&quot; format=\&quot;text\&quot; /&gt;&quot;
        },
        &quot;$:/core/save/all&quot;: {
            &quot;title&quot;: &quot;$:/core/save/all&quot;,
            &quot;text&quot;: &quot;\\define saveTiddlerFilter()\n[is[tiddler]] -[prefix[$:/state/popup/]] -[[$:/HistoryList]] -[[$:/boot/boot.css]] -[type[application/javascript]library[yes]] -[[$:/boot/boot.js]] -[[$:/boot/bootprefix.js]] +[sort[title]] $(publishFilter)$\n\\end\n{{$:/core/templates/tiddlywiki5.html}}\n&quot;
        },
        &quot;$:/core/save/empty&quot;: {
            &quot;title&quot;: &quot;$:/core/save/empty&quot;,
            &quot;text&quot;: &quot;\\define saveTiddlerFilter()\n[is[system]] -[prefix[$:/state/popup/]] -[[$:/boot/boot.css]] -[type[application/javascript]library[yes]] -[[$:/boot/boot.js]] -[[$:/boot/bootprefix.js]] +[sort[title]]\n\\end\n{{$:/core/templates/tiddlywiki5.html}}\n&quot;
        },
        &quot;$:/core/save/lazy-all&quot;: {
            &quot;title&quot;: &quot;$:/core/save/lazy-all&quot;,
            &quot;text&quot;: &quot;\\define saveTiddlerFilter()\n[is[system]] -[prefix[$:/state/popup/]] -[[$:/HistoryList]] -[[$:/boot/boot.css]] -[type[application/javascript]library[yes]] -[[$:/boot/boot.js]] -[[$:/boot/bootprefix.js]] +[sort[title]] \n\\end\n{{$:/core/templates/tiddlywiki5.html}}\n&quot;
        },
        &quot;$:/core/save/lazy-images&quot;: {
            &quot;title&quot;: &quot;$:/core/save/lazy-images&quot;,
            &quot;text&quot;: &quot;\\define saveTiddlerFilter()\n[is[tiddler]] -[prefix[$:/state/popup/]] -[[$:/HistoryList]] -[[$:/boot/boot.css]] -[type[application/javascript]library[yes]] -[[$:/boot/boot.js]] -[[$:/boot/bootprefix.js]] -[!is[system]is[image]] +[sort[title]] \n\\end\n{{$:/core/templates/tiddlywiki5.html}}\n&quot;
        },
        &quot;$:/core/templates/single.tiddler.window&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/single.tiddler.window&quot;,
            &quot;text&quot;: &quot;&lt;$set name=\&quot;themeTitle\&quot; value={{$:/view}}&gt;\n\n&lt;$set name=\&quot;tempCurrentTiddler\&quot; value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n\n&lt;$set name=\&quot;currentTiddler\&quot; value={{$:/language}}&gt;\n\n&lt;$set name=\&quot;languageTitle\&quot; value={{!!name}}&gt;\n\n&lt;$set name=\&quot;currentTiddler\&quot; value=&lt;&lt;tempCurrentTiddler&gt;&gt;&gt;\n\n&lt;$importvariables filter=\&quot;[[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\&quot;&gt;\n\n&lt;$navigator story=\&quot;$:/StoryList\&quot; history=\&quot;$:/HistoryList\&quot;&gt;\n\n&lt;$transclude mode=\&quot;block\&quot;/&gt;\n\n&lt;/$navigator&gt;\n\n&lt;/$importvariables&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&quot;
        },
        &quot;$:/core/templates/split-recipe&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/split-recipe&quot;,
            &quot;text&quot;: &quot;&lt;$list filter=\&quot;[!is[system]]\&quot;&gt;\ntiddler: &lt;$view field=\&quot;title\&quot; format=\&quot;urlencoded\&quot;/&gt;.tid\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/templates/static-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/static-tiddler&quot;,
            &quot;text&quot;: &quot;&lt;a name=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;$transclude tiddler=\&quot;$:/core/ui/ViewTemplate\&quot;/&gt;\n&lt;/a&gt;&quot;
        },
        &quot;$:/core/templates/static.area&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/static.area&quot;,
            &quot;text&quot;: &quot;&lt;$reveal type=\&quot;nomatch\&quot; state=\&quot;$:/isEncrypted\&quot; text=\&quot;yes\&quot;&gt;\n{{$:/core/templates/static.content||$:/core/templates/html-tiddler}}\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=\&quot;$:/isEncrypted\&quot; text=\&quot;yes\&quot;&gt;\nThis file contains an encrypted ~TiddlyWiki. Enable ~JavaScript and enter the decryption password when prompted.\n&lt;/$reveal&gt;\n&quot;
        },
        &quot;$:/core/templates/static.content&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/static.content&quot;,
            &quot;type&quot;: &quot;text/vnd.tiddlywiki&quot;,
            &quot;text&quot;: &quot;&lt;!-- For Google, and people without JavaScript--&gt;\nThis [[TiddlyWiki|http://tiddlywiki.com]] contains the following tiddlers:\n\n&lt;ul&gt;\n&lt;$list filter=&lt;&lt;saveTiddlerFilter&gt;&gt;&gt;\n&lt;li&gt;&lt;$view field=\&quot;title\&quot; format=\&quot;text\&quot;&gt;&lt;/$view&gt;&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n&quot;
        },
        &quot;$:/core/templates/static.template.css&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/static.template.css&quot;,
            &quot;text&quot;: &quot;{{$:/boot/boot.css||$:/core/templates/plain-text-tiddler}}\n\n{{$:/core/ui/PageStylesheet||$:/core/templates/wikified-tiddler}}\n&quot;
        },
        &quot;$:/core/templates/static.template.html&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/static.template.html&quot;,
            &quot;type&quot;: &quot;text/vnd.tiddlywiki-html&quot;,
            &quot;text&quot;: &quot;\\define tv-wikilink-template() static/$uri_doubleencoded$.html\n\\define tv-config-toolbar-icons() no\n\\define tv-config-toolbar-text() no\n\\define tv-config-toolbar-class() tc-btn-invisible\n\\rules only filteredtranscludeinline transcludeinline\n&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\&quot;Content-Type\&quot; content=\&quot;text/html;charset=utf-8\&quot; /&gt;\n&lt;meta name=\&quot;generator\&quot; content=\&quot;TiddlyWiki\&quot; /&gt;\n&lt;meta name=\&quot;tiddlywiki-version\&quot; content=\&quot;{{$:/core/templates/version}}\&quot; /&gt;\n&lt;meta name=\&quot;viewport\&quot; content=\&quot;width=device-width, initial-scale=1.0\&quot; /&gt;\n&lt;meta name=\&quot;apple-mobile-web-app-capable\&quot; content=\&quot;yes\&quot; /&gt;\n&lt;meta name=\&quot;apple-mobile-web-app-status-bar-style\&quot; content=\&quot;black-translucent\&quot; /&gt;\n&lt;meta name=\&quot;format-detection\&quot; content=\&quot;telephone=no\&quot;&gt;\n&lt;link id=\&quot;faviconLink\&quot; rel=\&quot;shortcut icon\&quot; href=\&quot;favicon.ico\&quot;&gt;\n&lt;title&gt;{{$:/core/wiki/title}}&lt;/title&gt;\n&lt;div id=\&quot;styleArea\&quot;&gt;\n{{$:/boot/boot.css||$:/core/templates/css-tiddler}}\n&lt;/div&gt;\n&lt;style type=\&quot;text/css\&quot;&gt;\n{{$:/core/ui/PageStylesheet||$:/core/templates/wikified-tiddler}}\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body class=\&quot;tc-body\&quot;&gt;\n{{$:/StaticBanner||$:/core/templates/html-tiddler}}\n{{$:/core/ui/PageTemplate||$:/core/templates/html-tiddler}}\n&lt;/body&gt;\n&lt;/html&gt;\n&quot;
        },
        &quot;$:/core/templates/static.tiddler.html&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/static.tiddler.html&quot;,
            &quot;text&quot;: &quot;\\define tv-wikilink-template() $uri_doubleencoded$.html\n\\define tv-config-toolbar-icons() no\n\\define tv-config-toolbar-text() no\n\\define tv-config-toolbar-class() tc-btn-invisible\n`&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\&quot;Content-Type\&quot; content=\&quot;text/html;charset=utf-8\&quot; /&gt;\n&lt;meta name=\&quot;generator\&quot; content=\&quot;TiddlyWiki\&quot; /&gt;\n&lt;meta name=\&quot;tiddlywiki-version\&quot; content=\&quot;`{{$:/core/templates/version}}`\&quot; /&gt;\n&lt;meta name=\&quot;viewport\&quot; content=\&quot;width=device-width, initial-scale=1.0\&quot; /&gt;\n&lt;meta name=\&quot;apple-mobile-web-app-capable\&quot; content=\&quot;yes\&quot; /&gt;\n&lt;meta name=\&quot;apple-mobile-web-app-status-bar-style\&quot; content=\&quot;black-translucent\&quot; /&gt;\n&lt;meta name=\&quot;format-detection\&quot; content=\&quot;telephone=no\&quot;&gt;\n&lt;link id=\&quot;faviconLink\&quot; rel=\&quot;shortcut icon\&quot; href=\&quot;favicon.ico\&quot;&gt;\n&lt;link rel=\&quot;stylesheet\&quot; href=\&quot;static.css\&quot;&gt;\n&lt;title&gt;`&lt;$view field=\&quot;caption\&quot;&gt;&lt;$view field=\&quot;title\&quot;/&gt;&lt;/$view&gt;: {{$:/core/wiki/title}}`&lt;/title&gt;\n&lt;/head&gt;\n&lt;body class=\&quot;tc-body\&quot;&gt;\n`{{$:/StaticBanner||$:/core/templates/html-tiddler}}`\n&lt;section class=\&quot;tc-story-river\&quot;&gt;\n`&lt;$importvariables filter=\&quot;[[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\&quot;&gt;\n&lt;$view tiddler=\&quot;$:/core/ui/ViewTemplate\&quot; format=\&quot;htmlwikified\&quot;/&gt;\n&lt;/$importvariables&gt;`\n&lt;/section&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n`&quot;
        },
        &quot;$:/core/templates/store.area.template.html&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/store.area.template.html&quot;,
            &quot;text&quot;: &quot;&lt;$reveal type=\&quot;nomatch\&quot; state=\&quot;$:/isEncrypted\&quot; text=\&quot;yes\&quot;&gt;\n`&lt;div id=\&quot;storeArea\&quot; style=\&quot;display:none;\&quot;&gt;`\n&lt;$list filter=&lt;&lt;saveTiddlerFilter&gt;&gt; template=\&quot;$:/core/templates/html-div-tiddler\&quot;/&gt;\n`&lt;/div&gt;`\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=\&quot;$:/isEncrypted\&quot; text=\&quot;yes\&quot;&gt;\n`&lt;!--~~ Encrypted tiddlers ~~--&gt;`\n`&lt;pre id=\&quot;encryptedStoreArea\&quot; type=\&quot;text/plain\&quot; style=\&quot;display:none;\&quot;&gt;`\n&lt;$encrypt filter=&lt;&lt;saveTiddlerFilter&gt;&gt;/&gt;\n`&lt;/pre&gt;`\n&lt;/$reveal&gt;&quot;
        },
        &quot;$:/core/templates/tid-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/tid-tiddler&quot;,
            &quot;text&quot;: &quot;&lt;!--\n\nThis template is used for saving tiddlers in TiddlyWeb *.tid format\n\n--&gt;&lt;$fields exclude='text bag' template='$name$: $value$\n'&gt;&lt;/$fields&gt;`\n`&lt;$view field=\&quot;text\&quot; format=\&quot;text\&quot; /&gt;&quot;
        },
        &quot;$:/core/templates/tiddler-metadata&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/tiddler-metadata&quot;,
            &quot;text&quot;: &quot;&lt;!--\n\nThis template is used for saving tiddler metadata *.meta files\n\n--&gt;&lt;$fields exclude='text bag' template='$name$: $value$\n'&gt;&lt;/$fields&gt;&quot;
        },
        &quot;$:/core/templates/tiddlywiki5.html&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/tiddlywiki5.html&quot;,
            &quot;text&quot;: &quot;\\rules only filteredtranscludeinline transcludeinline\n&lt;!doctype html&gt;\n{{$:/core/templates/MOTW.html}}&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\&quot;X-UA-Compatible\&quot; content=\&quot;IE=edge\&quot; /&gt;\t\t&lt;!-- Force IE standards mode for Intranet and HTA - should be the first meta --&gt;\n&lt;meta http-equiv=\&quot;Content-Type\&quot; content=\&quot;text/html;charset=utf-8\&quot; /&gt;\n&lt;meta name=\&quot;application-name\&quot; content=\&quot;TiddlyWiki\&quot; /&gt;\n&lt;meta name=\&quot;generator\&quot; content=\&quot;TiddlyWiki\&quot; /&gt;\n&lt;meta name=\&quot;tiddlywiki-version\&quot; content=\&quot;{{$:/core/templates/version}}\&quot; /&gt;\n&lt;meta name=\&quot;viewport\&quot; content=\&quot;width=device-width, initial-scale=1.0\&quot; /&gt;\n&lt;meta name=\&quot;apple-mobile-web-app-capable\&quot; content=\&quot;yes\&quot; /&gt;\n&lt;meta name=\&quot;apple-mobile-web-app-status-bar-style\&quot; content=\&quot;black-translucent\&quot; /&gt;\n&lt;meta name=\&quot;format-detection\&quot; content=\&quot;telephone=no\&quot; /&gt;\n&lt;meta name=\&quot;copyright\&quot; content=\&quot;{{$:/core/copyright.txt}}\&quot; /&gt;\n&lt;link id=\&quot;faviconLink\&quot; rel=\&quot;shortcut icon\&quot; href=\&quot;favicon.ico\&quot;&gt;\n&lt;title&gt;{{$:/core/wiki/title}}&lt;/title&gt;\n&lt;!--~~ This is a Tiddlywiki file. The points of interest in the file are marked with this pattern ~~--&gt;\n\n&lt;!--~~ Raw markup ~~--&gt;\n{{{ [all[shadows+tiddlers]tag[$:/core/wiki/rawmarkup]] [all[shadows+tiddlers]tag[$:/tags/RawMarkup]] ||$:/core/templates/plain-text-tiddler}}}\n&lt;/head&gt;\n&lt;body class=\&quot;tc-body\&quot;&gt;\n&lt;!--~~ Static styles ~~--&gt;\n&lt;div id=\&quot;styleArea\&quot;&gt;\n{{$:/boot/boot.css||$:/core/templates/css-tiddler}}\n&lt;/div&gt;\n&lt;!--~~ Static content for Google and browsers without JavaScript ~~--&gt;\n&lt;noscript&gt;\n&lt;div id=\&quot;splashArea\&quot;&gt;\n{{$:/core/templates/static.area}}\n&lt;/div&gt;\n&lt;/noscript&gt;\n&lt;!--~~ Ordinary tiddlers ~~--&gt;\n{{$:/core/templates/store.area.template.html}}\n&lt;!--~~ Library modules ~~--&gt;\n&lt;div id=\&quot;libraryModules\&quot; style=\&quot;display:none;\&quot;&gt;\n{{{ [is[system]type[application/javascript]library[yes]] ||$:/core/templates/javascript-tiddler}}}\n&lt;/div&gt;\n&lt;!--~~ Boot kernel prologue ~~--&gt;\n&lt;div id=\&quot;bootKernelPrefix\&quot; style=\&quot;display:none;\&quot;&gt;\n{{ $:/boot/bootprefix.js ||$:/core/templates/javascript-tiddler}}\n&lt;/div&gt;\n&lt;!--~~ Boot kernel ~~--&gt;\n&lt;div id=\&quot;bootKernel\&quot; style=\&quot;display:none;\&quot;&gt;\n{{ $:/boot/boot.js ||$:/core/templates/javascript-tiddler}}\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n&quot;
        },
        &quot;$:/core/templates/version&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/version&quot;,
            &quot;text&quot;: &quot;&lt;&lt;version&gt;&gt;&quot;
        },
        &quot;$:/core/templates/wikified-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/core/templates/wikified-tiddler&quot;,
            &quot;text&quot;: &quot;&lt;$transclude /&gt;&quot;
        },
        &quot;$:/core/ui/AboveStory/tw2-plugin-check&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/AboveStory/tw2-plugin-check&quot;,
            &quot;tags&quot;: &quot;$:/tags/AboveStory&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/AboveStory/ClassicPlugin/\n&lt;$list filter=\&quot;[all[system+tiddlers]tag[systemConfig]limit[1]]\&quot;&gt;\n\n&lt;div class=\&quot;tc-message-box\&quot;&gt;\n\n&lt;&lt;lingo Warning&gt;&gt;\n\n&lt;ul&gt;\n\n&lt;$list filter=\&quot;[all[system+tiddlers]tag[systemConfig]limit[1]]\&quot;&gt;\n\n&lt;li&gt;\n\n&lt;$link&gt;&lt;$view field=\&quot;title\&quot;/&gt;&lt;/$link&gt;\n\n&lt;/li&gt;\n\n&lt;/$list&gt;\n\n&lt;/ul&gt;\n\n&lt;/div&gt;\n\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/AdvancedSearch/Filter&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/AdvancedSearch/Filter&quot;,
            &quot;tags&quot;: &quot;$:/tags/AdvancedSearch&quot;,
            &quot;caption&quot;: &quot;{{$:/language/Search/Filter/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/Search/\n&lt;$linkcatcher to=\&quot;$:/temp/advancedsearch\&quot;&gt;\n\n&lt;&lt;lingo Filter/Hint&gt;&gt;\n\n&lt;div class=\&quot;tc-search tc-advanced-search\&quot;&gt;\n&lt;$edit-text tiddler=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;search\&quot; tag=\&quot;input\&quot;/&gt;\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/filterDropdown\&quot;&gt;&gt; class=\&quot;tc-btn-invisible\&quot;&gt;\n{{$:/core/images/down-arrow}}\n&lt;/$button&gt;\n&lt;$reveal state=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n&lt;$button class=\&quot;tc-btn-invisible\&quot;&gt;\n&lt;$action-setfield $tiddler=\&quot;$:/temp/advancedsearch\&quot; $field=\&quot;text\&quot; $value=\&quot;\&quot;/&gt;\n{{$:/core/images/close-button}}\n&lt;/$button&gt;\n&lt;$macrocall $name=\&quot;exportButton\&quot; exportFilter={{$:/temp/advancedsearch}} lingoBase=\&quot;$:/language/Buttons/ExportTiddlers/\&quot;/&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\n&lt;div class=\&quot;tc-block-dropdown-wrapper\&quot;&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/filterDropdown\&quot;&gt;&gt; type=\&quot;nomatch\&quot; text=\&quot;\&quot; default=\&quot;\&quot;&gt;\n&lt;div class=\&quot;tc-block-dropdown tc-edit-type-dropdown\&quot;&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/Filter]]\&quot;&gt;&lt;$link to={{!!filter}}&gt;&lt;$transclude field=\&quot;description\&quot;/&gt;&lt;/$link&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\n&lt;/$linkcatcher&gt;\n\n&lt;$reveal state=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n&lt;$set name=\&quot;resultCount\&quot; value=\&quot;\&quot;\&quot;&lt;$count filter={{$:/temp/advancedsearch}}/&gt;\&quot;\&quot;\&quot;&gt;\n&lt;div class=\&quot;tc-search-results\&quot;&gt;\n&lt;&lt;lingo Filter/Matches&gt;&gt;\n&lt;$list filter={{$:/temp/advancedsearch}} template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&lt;/div&gt;\n&lt;/$set&gt;\n&lt;/$reveal&gt;\n&quot;
        },
        &quot;$:/core/ui/AdvancedSearch/Shadows&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/AdvancedSearch/Shadows&quot;,
            &quot;tags&quot;: &quot;$:/tags/AdvancedSearch&quot;,
            &quot;caption&quot;: &quot;{{$:/language/Search/Shadows/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/Search/\n&lt;$linkcatcher to=\&quot;$:/temp/advancedsearch\&quot;&gt;\n\n&lt;&lt;lingo Shadows/Hint&gt;&gt;\n\n&lt;div class=\&quot;tc-search\&quot;&gt;\n&lt;$edit-text tiddler=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;search\&quot; tag=\&quot;input\&quot;/&gt;\n&lt;$reveal state=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n&lt;$button class=\&quot;tc-btn-invisible\&quot;&gt;\n&lt;$action-setfield $tiddler=\&quot;$:/temp/advancedsearch\&quot; $field=\&quot;text\&quot; $value=\&quot;\&quot;/&gt;\n{{$:/core/images/close-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\n&lt;/$linkcatcher&gt;\n\n&lt;$reveal state=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n\n&lt;$set name=\&quot;resultCount\&quot; value=\&quot;\&quot;\&quot;&lt;$count filter=\&quot;[all[shadows]search{$:/temp/advancedsearch}] -[[$:/temp/advancedsearch]]\&quot;/&gt;\&quot;\&quot;\&quot;&gt;\n\n&lt;div class=\&quot;tc-search-results\&quot;&gt;\n\n&lt;&lt;lingo Shadows/Matches&gt;&gt;\n\n&lt;$list filter=\&quot;[all[shadows]search{$:/temp/advancedsearch}sort[title]limit[250]] -[[$:/temp/advancedsearch]]\&quot; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n\n&lt;/div&gt;\n\n&lt;/$set&gt;\n\n&lt;/$reveal&gt;\n\n&lt;$reveal state=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;match\&quot; text=\&quot;\&quot;&gt;\n\n&lt;/$reveal&gt;\n&quot;
        },
        &quot;$:/core/ui/AdvancedSearch/Standard&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/AdvancedSearch/Standard&quot;,
            &quot;tags&quot;: &quot;$:/tags/AdvancedSearch&quot;,
            &quot;caption&quot;: &quot;{{$:/language/Search/Standard/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/Search/\n&lt;$linkcatcher to=\&quot;$:/temp/advancedsearch\&quot;&gt;\n\n&lt;&lt;lingo Standard/Hint&gt;&gt;\n\n&lt;div class=\&quot;tc-search\&quot;&gt;\n&lt;$edit-text tiddler=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;search\&quot; tag=\&quot;input\&quot;/&gt;\n&lt;$reveal state=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n&lt;$button class=\&quot;tc-btn-invisible\&quot;&gt;\n&lt;$action-setfield $tiddler=\&quot;$:/temp/advancedsearch\&quot; $field=\&quot;text\&quot; $value=\&quot;\&quot;/&gt;\n{{$:/core/images/close-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\n&lt;/$linkcatcher&gt;\n\n&lt;$reveal state=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n&lt;$set name=\&quot;searchTiddler\&quot; value=\&quot;$:/temp/advancedsearch\&quot;&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/SearchResults]!has[draft.of]butfirst[]limit[1]]\&quot; emptyMessage=\&quot;\&quot;\&quot;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/SearchResults]!has[draft.of]]\&quot;&gt;\n&lt;$transclude/&gt;\n&lt;/$list&gt;\n\&quot;\&quot;\&quot;&gt;\n&lt;$macrocall $name=\&quot;tabs\&quot; tabsList=\&quot;[all[shadows+tiddlers]tag[$:/tags/SearchResults]!has[draft.of]]\&quot; default={{$:/config/SearchResults/Default}}/&gt;\n&lt;/$list&gt;\n&lt;/$set&gt;\n&lt;/$reveal&gt;\n&quot;
        },
        &quot;$:/core/ui/AdvancedSearch/System&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/AdvancedSearch/System&quot;,
            &quot;tags&quot;: &quot;$:/tags/AdvancedSearch&quot;,
            &quot;caption&quot;: &quot;{{$:/language/Search/System/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/Search/\n&lt;$linkcatcher to=\&quot;$:/temp/advancedsearch\&quot;&gt;\n\n&lt;&lt;lingo System/Hint&gt;&gt;\n\n&lt;div class=\&quot;tc-search\&quot;&gt;\n&lt;$edit-text tiddler=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;search\&quot; tag=\&quot;input\&quot;/&gt;\n&lt;$reveal state=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n&lt;$button class=\&quot;tc-btn-invisible\&quot;&gt;\n&lt;$action-setfield $tiddler=\&quot;$:/temp/advancedsearch\&quot; $field=\&quot;text\&quot; $value=\&quot;\&quot;/&gt;\n{{$:/core/images/close-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\n&lt;/$linkcatcher&gt;\n\n&lt;$reveal state=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n\n&lt;$set name=\&quot;resultCount\&quot; value=\&quot;\&quot;\&quot;&lt;$count filter=\&quot;[is[system]search{$:/temp/advancedsearch}] -[[$:/temp/advancedsearch]]\&quot;/&gt;\&quot;\&quot;\&quot;&gt;\n\n&lt;div class=\&quot;tc-search-results\&quot;&gt;\n\n&lt;&lt;lingo System/Matches&gt;&gt;\n\n&lt;$list filter=\&quot;[is[system]search{$:/temp/advancedsearch}sort[title]limit[250]] -[[$:/temp/advancedsearch]]\&quot; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n\n&lt;/div&gt;\n\n&lt;/$set&gt;\n\n&lt;/$reveal&gt;\n\n&lt;$reveal state=\&quot;$:/temp/advancedsearch\&quot; type=\&quot;match\&quot; text=\&quot;\&quot;&gt;\n\n&lt;/$reveal&gt;\n&quot;
        },
        &quot;$:/AdvancedSearch&quot;: {
            &quot;title&quot;: &quot;$:/AdvancedSearch&quot;,
            &quot;icon&quot;: &quot;$:/core/images/advanced-search-button&quot;,
            &quot;color&quot;: &quot;#bbb&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-advanced-search\&quot;&gt;\n&lt;&lt;tabs \&quot;[all[shadows+tiddlers]tag[$:/tags/AdvancedSearch]!has[draft.of]]\&quot; \&quot;$:/core/ui/AdvancedSearch/System\&quot;&gt;&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/AlertTemplate&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/AlertTemplate&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-alert\&quot;&gt;\n&lt;div class=\&quot;tc-alert-toolbar\&quot;&gt;\n&lt;$button class=\&quot;tc-btn-invisible\&quot;&gt;&lt;$action-deletetiddler $tiddler=&lt;&lt;currentTiddler&gt;&gt;/&gt;{{$:/core/images/delete-button}}&lt;/$button&gt;\n&lt;/div&gt;\n&lt;div class=\&quot;tc-alert-subtitle\&quot;&gt;\n&lt;$view field=\&quot;component\&quot;/&gt; - &lt;$view field=\&quot;modified\&quot; format=\&quot;date\&quot; template=\&quot;0hh:0mm:0ss DD MM YYYY\&quot;/&gt; &lt;$reveal type=\&quot;nomatch\&quot; state=\&quot;!!count\&quot; text=\&quot;\&quot;&gt;&lt;span class=\&quot;tc-alert-highlight\&quot;&gt;(count: &lt;$view field=\&quot;count\&quot;/&gt;)&lt;/span&gt;&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;div class=\&quot;tc-alert-body\&quot;&gt;\n\n&lt;$transclude/&gt;\n\n&lt;/div&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/BinaryWarning&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/BinaryWarning&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/BinaryWarning/\n&lt;div class=\&quot;tc-binary-warning\&quot;&gt;\n\n&lt;&lt;lingo Prompt&gt;&gt;\n\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/Components/tag-link&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Components/tag-link&quot;,
            &quot;text&quot;: &quot;&lt;$link&gt;\n&lt;$set name=\&quot;backgroundColor\&quot; value={{!!color}}&gt;\n&lt;span style=&lt;&lt;tag-styles&gt;&gt; class=\&quot;tc-tag-label\&quot;&gt;\n&lt;$view field=\&quot;title\&quot; format=\&quot;text\&quot;/&gt;\n&lt;/span&gt;\n&lt;/$set&gt;\n&lt;/$link&gt;&quot;
        },
        &quot;$:/core/ui/ControlPanel/Advanced&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Advanced&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Info&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Advanced/Caption}}&quot;,
            &quot;text&quot;: &quot;{{$:/language/ControlPanel/Advanced/Hint}}\n\n&lt;div class=\&quot;tc-control-panel\&quot;&gt;\n&lt;&lt;tabs \&quot;[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Advanced]!has[draft.of]]\&quot; \&quot;$:/core/ui/ControlPanel/TiddlerFields\&quot;&gt;&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Appearance&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Appearance&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Appearance/Caption}}&quot;,
            &quot;text&quot;: &quot;{{$:/language/ControlPanel/Appearance/Hint}}\n\n&lt;div class=\&quot;tc-control-panel\&quot;&gt;\n&lt;&lt;tabs \&quot;[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Appearance]!has[draft.of]]\&quot; \&quot;$:/core/ui/ControlPanel/Theme\&quot;&gt;&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Basics&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Basics&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Info&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Basics/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Basics/\n\n\\define show-filter-count(filter)\n&lt;$button class=\&quot;tc-btn-invisible\&quot;&gt;\n&lt;$action-setfield $tiddler=\&quot;$:/temp/advancedsearch\&quot; $value=\&quot;\&quot;\&quot;$filter$\&quot;\&quot;\&quot;/&gt;\n&lt;$action-setfield $tiddler=\&quot;$:/state/tab--1498284803\&quot; $value=\&quot;$:/core/ui/AdvancedSearch/Filter\&quot;/&gt;\n&lt;$action-navigate $to=\&quot;$:/AdvancedSearch\&quot;/&gt;\n''&lt;$count filter=\&quot;\&quot;\&quot;$filter$\&quot;\&quot;\&quot;/&gt;''\n{{$:/core/images/advanced-search-button}}\n&lt;/$button&gt;\n\\end\n\n|&lt;&lt;lingo Version/Prompt&gt;&gt; |''&lt;&lt;version&gt;&gt;'' |\n|&lt;$link to=\&quot;$:/SiteTitle\&quot;&gt;&lt;&lt;lingo Title/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\&quot;$:/SiteTitle\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;$link to=\&quot;$:/SiteSubtitle\&quot;&gt;&lt;&lt;lingo Subtitle/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\&quot;$:/SiteSubtitle\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;$link to=\&quot;$:/status/UserName\&quot;&gt;&lt;&lt;lingo Username/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\&quot;$:/status/UserName\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;$link to=\&quot;$:/config/AnimationDuration\&quot;&gt;&lt;&lt;lingo AnimDuration/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\&quot;$:/config/AnimationDuration\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;$link to=\&quot;$:/DefaultTiddlers\&quot;&gt;&lt;&lt;lingo DefaultTiddlers/Prompt&gt;&gt;&lt;/$link&gt; |&lt;&lt;lingo DefaultTiddlers/TopHint&gt;&gt;&lt;br&gt; &lt;$edit-text tag=\&quot;textarea\&quot; tiddler=\&quot;$:/DefaultTiddlers\&quot;/&gt;&lt;br&gt;//&lt;&lt;lingo DefaultTiddlers/BottomHint&gt;&gt;// |\n|&lt;$link to=\&quot;$:/config/NewJournal/Title\&quot;&gt;&lt;&lt;lingo NewJournal/Title/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\&quot;$:/config/NewJournal/Title\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;$link to=\&quot;$:/config/NewJournal/Tags\&quot;&gt;&lt;&lt;lingo NewJournal/Tags/Prompt&gt;&gt;&lt;/$link&gt; |&lt;$edit-text tiddler=\&quot;$:/config/NewJournal/Tags\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;&lt;lingo Language/Prompt&gt;&gt; |{{$:/snippets/minilanguageswitcher}} |\n|&lt;&lt;lingo Tiddlers/Prompt&gt;&gt; |&lt;&lt;show-filter-count \&quot;[!is[system]sort[title]]\&quot;&gt;&gt; |\n|&lt;&lt;lingo Tags/Prompt&gt;&gt; |&lt;&lt;show-filter-count \&quot;[tags[]sort[title]]\&quot;&gt;&gt; |\n|&lt;&lt;lingo SystemTiddlers/Prompt&gt;&gt; |&lt;&lt;show-filter-count \&quot;[is[system]sort[title]]\&quot;&gt;&gt; |\n|&lt;&lt;lingo ShadowTiddlers/Prompt&gt;&gt; |&lt;&lt;show-filter-count \&quot;[all[shadows]sort[title]]\&quot;&gt;&gt; |\n|&lt;&lt;lingo OverriddenShadowTiddlers/Prompt&gt;&gt; |&lt;&lt;show-filter-count \&quot;[is[tiddler]is[shadow]sort[title]]\&quot;&gt;&gt; |\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/EditorTypes&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/EditorTypes&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Advanced&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/EditorTypes/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/EditorTypes/\n\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;table&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;th&gt;&lt;&lt;lingo Type/Caption&gt;&gt;&lt;/th&gt;\n&lt;th&gt;&lt;&lt;lingo Editor/Caption&gt;&gt;&lt;/th&gt;\n&lt;/tr&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]prefix[$:/config/EditorTypeMappings/]sort[title]]\&quot;&gt;\n&lt;tr&gt;\n&lt;td&gt;\n&lt;$link&gt;\n&lt;$list filter=\&quot;[all[current]removeprefix[$:/config/EditorTypeMappings/]]\&quot;&gt;\n&lt;$text text={{!!title}}/&gt;\n&lt;/$list&gt;\n&lt;/$link&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;$view field=\&quot;text\&quot;/&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/$list&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Info&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Info&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Info/Caption}}&quot;,
            &quot;text&quot;: &quot;{{$:/language/ControlPanel/Info/Hint}}\n\n&lt;div class=\&quot;tc-control-panel\&quot;&gt;\n&lt;&lt;tabs \&quot;[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Info]!has[draft.of]]\&quot; \&quot;$:/core/ui/ControlPanel/Basics\&quot;&gt;&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/LoadedModules&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/LoadedModules&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Advanced&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/LoadedModules/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/\n&lt;&lt;lingo LoadedModules/Hint&gt;&gt;\n\n{{$:/snippets/modules}}\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Modals/AddPlugins&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Modals/AddPlugins&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/download-button}} {{$:/language/ControlPanel/Plugins/Add/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Plugins/\n\n\\define install-plugin-button()\n&lt;$button&gt;\n&lt;$action-sendmessage $message=\&quot;tm-load-plugin-from-library\&quot; url={{!!url}} title={{$(assetInfo)$!!original-title}}/&gt;\n&lt;$list filter=\&quot;[&lt;assetInfo&gt;get[original-title]get[version]]\&quot; variable=\&quot;installedVersion\&quot; emptyMessage=\&quot;\&quot;\&quot;{{$:/language/ControlPanel/Plugins/Install}}\&quot;\&quot;\&quot;&gt;\n{{$:/language/ControlPanel/Plugins/Reinstall}}\n&lt;/$list&gt;\n&lt;/$button&gt;\n\\end\n\n\\define popup-state-macro()\n$:/state/add-plugin-info/$(connectionTiddler)$/$(assetInfo)$\n\\end\n\n\\define display-plugin-info(type)\n&lt;$set name=\&quot;popup-state\&quot; value=&lt;&lt;popup-state-macro&gt;&gt;&gt;\n&lt;div class=\&quot;tc-plugin-info\&quot;&gt;\n&lt;div class=\&quot;tc-plugin-info-chunk tc-small-icon\&quot;&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;popup-state&gt;&gt; text=\&quot;yes\&quot;&gt;\n&lt;$button class=\&quot;tc-btn-invisible tc-btn-dropdown\&quot; set=&lt;&lt;popup-state&gt;&gt; setTo=\&quot;yes\&quot;&gt;\n{{$:/core/images/right-arrow}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;popup-state&gt;&gt; text=\&quot;yes\&quot;&gt;\n&lt;$button class=\&quot;tc-btn-invisible tc-btn-dropdown\&quot; set=&lt;&lt;popup-state&gt;&gt; setTo=\&quot;no\&quot;&gt;\n{{$:/core/images/down-arrow}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;div class=\&quot;tc-plugin-info-chunk\&quot;&gt;\n&lt;$list filter=\&quot;[&lt;assetInfo&gt;has[icon]]\&quot; emptyMessage=\&quot;\&quot;\&quot;&lt;$transclude tiddler=\&quot;$:/core/images/plugin-generic-$type$\&quot;/&gt;\&quot;\&quot;\&quot;&gt;\n&lt;img src={{$(assetInfo)$!!icon}}/&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;div class=\&quot;tc-plugin-info-chunk\&quot;&gt;\n&lt;h1&gt;&lt;$view tiddler=&lt;&lt;assetInfo&gt;&gt; field=\&quot;description\&quot;/&gt;&lt;/h1&gt;\n&lt;h2&gt;&lt;$view tiddler=&lt;&lt;assetInfo&gt;&gt; field=\&quot;original-title\&quot;/&gt;&lt;/h2&gt;\n&lt;div&gt;&lt;em&gt;&lt;$view tiddler=&lt;&lt;assetInfo&gt;&gt; field=\&quot;version\&quot;/&gt;&lt;/em&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\&quot;tc-plugin-info-chunk\&quot;&gt;\n&lt;&lt;install-plugin-button&gt;&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;$reveal type=\&quot;match\&quot; text=\&quot;yes\&quot; state=&lt;&lt;popup-state&gt;&gt;&gt;\n&lt;div class=\&quot;tc-plugin-info-dropdown\&quot;&gt;\n&lt;div class=\&quot;tc-plugin-info-dropdown-message\&quot;&gt;\n&lt;$list filter=\&quot;[&lt;assetInfo&gt;get[original-title]get[version]]\&quot; variable=\&quot;installedVersion\&quot; emptyMessage=\&quot;\&quot;\&quot;This plugin is not currently installed\&quot;\&quot;\&quot;&gt;\n&lt;em&gt;\nThis plugin is already installed at version &lt;$text text=&lt;&lt;installedVersion&gt;&gt;/&gt;\n&lt;/em&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;div class=\&quot;tc-plugin-info-dropdown-body\&quot;&gt;\n&lt;$transclude tiddler=&lt;&lt;assetInfo&gt;&gt; field=\&quot;readme\&quot; mode=\&quot;block\&quot;/&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/$set&gt;\n\\end\n\n\\define load-plugin-library-button()\n&lt;$button class=\&quot;tc-btn-big-green\&quot;&gt;\n&lt;$action-sendmessage $message=\&quot;tm-load-plugin-library\&quot; url={{!!url}} infoTitlePrefix=\&quot;$:/temp/RemoteAssetInfo/\&quot;/&gt;\n{{$:/core/images/chevron-right}} {{$:/language/ControlPanel/Plugins/OpenPluginLibrary}}\n&lt;/$button&gt;\n\\end\n\n\\define display-server-assets(type)\n{{$:/language/Search/Search}}: &lt;$edit-text tiddler=\&quot;\&quot;\&quot;$:/temp/RemoteAssetSearch/$(currentTiddler)$\&quot;\&quot;\&quot; default=\&quot;\&quot; type=\&quot;search\&quot; tag=\&quot;input\&quot;/&gt;\n&lt;$reveal state=\&quot;\&quot;\&quot;$:/temp/RemoteAssetSearch/$(currentTiddler)$\&quot;\&quot;\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n&lt;$button class=\&quot;tc-btn-invisible\&quot;&gt;\n&lt;$action-setfield $tiddler=\&quot;\&quot;\&quot;$:/temp/RemoteAssetSearch/$(currentTiddler)$\&quot;\&quot;\&quot; $field=\&quot;text\&quot; $value=\&quot;\&quot;/&gt;\n{{$:/core/images/close-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;div class=\&quot;tc-plugin-library-listing\&quot;&gt;\n&lt;$list filter=\&quot;[all[tiddlers+shadows]tag[$:/tags/RemoteAssetInfo]server-url{!!url}original-plugin-type[$type$]search{$:/temp/RemoteAssetSearch/$(currentTiddler)$}sort[description]]\&quot; variable=\&quot;assetInfo\&quot;&gt;\n&lt;&lt;display-plugin-info \&quot;$type$\&quot;&gt;&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n\\end\n\n\\define display-server-connection()\n&lt;$list filter=\&quot;[all[tiddlers+shadows]tag[$:/tags/ServerConnection]suffix{!!url}]\&quot; variable=\&quot;connectionTiddler\&quot; emptyMessage=&lt;&lt;load-plugin-library-button&gt;&gt;&gt;\n\n&lt;&lt;tabs \&quot;[[$:/core/ui/ControlPanel/Plugins/Add/Plugins]] [[$:/core/ui/ControlPanel/Plugins/Add/Themes]] [[$:/core/ui/ControlPanel/Plugins/Add/Languages]]\&quot; \&quot;$:/core/ui/ControlPanel/Plugins/Add/Plugins\&quot;&gt;&gt;\n\n&lt;/$list&gt;\n\\end\n\n\\define plugin-library-listing()\n&lt;$list filter=\&quot;[all[tiddlers+shadows]tag[$:/tags/PluginLibrary]]\&quot;&gt;\n&lt;div class=\&quot;tc-plugin-library\&quot;&gt;\n\n!! &lt;$link&gt;&lt;$transclude field=\&quot;caption\&quot;&gt;&lt;$view field=\&quot;title\&quot;/&gt;&lt;/$transclude&gt;&lt;/$link&gt;\n\n//&lt;$view field=\&quot;url\&quot;/&gt;//\n\n&lt;$transclude/&gt;\n\n&lt;&lt;display-server-connection&gt;&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n\\end\n\n&lt;$importvariables filter=\&quot;[[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\&quot;&gt;\n\n&lt;div&gt;\n&lt;&lt;plugin-library-listing&gt;&gt;\n&lt;/div&gt;\n\n&lt;/$importvariables&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Palette&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Palette&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Appearance&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Palette/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Palette/\n\n{{$:/snippets/paletteswitcher}}\n\n&lt;$reveal type=\&quot;nomatch\&quot; state=\&quot;$:/state/ShowPaletteEditor\&quot; text=\&quot;yes\&quot;&gt;\n\n&lt;$button set=\&quot;$:/state/ShowPaletteEditor\&quot; setTo=\&quot;yes\&quot;&gt;&lt;&lt;lingo ShowEditor/Caption&gt;&gt;&lt;/$button&gt;\n\n&lt;/$reveal&gt;\n\n&lt;$reveal type=\&quot;match\&quot; state=\&quot;$:/state/ShowPaletteEditor\&quot; text=\&quot;yes\&quot;&gt;\n\n&lt;$button set=\&quot;$:/state/ShowPaletteEditor\&quot; setTo=\&quot;no\&quot;&gt;&lt;&lt;lingo HideEditor/Caption&gt;&gt;&lt;/$button&gt;\n{{$:/snippets/paletteeditor}}\n\n&lt;/$reveal&gt;\n\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Parsing&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Parsing&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Advanced&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Parsing/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Parsing/\n\n\\define parsing-inner(typeCap)\n&lt;li&gt;\n&lt;$checkbox tiddler=\&quot;\&quot;\&quot;$:/config/WikiParserRules/$typeCap$/$(currentTiddler)$\&quot;\&quot;\&quot; field=\&quot;text\&quot; checked=\&quot;enable\&quot; unchecked=\&quot;disable\&quot; default=\&quot;enable\&quot;&gt; ''&lt;$text text=&lt;&lt;currentTiddler&gt;&gt;/&gt;'': &lt;/$checkbox&gt;\n&lt;/li&gt;\n\\end\n\n\\define parsing-outer(typeLower,typeCap)\n&lt;ul&gt;\n&lt;$list filter=\&quot;[wikiparserrules[$typeLower$]]\&quot;&gt;\n&lt;&lt;parsing-inner typeCap:\&quot;$typeCap$\&quot;&gt;&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n\\end\n\n&lt;&lt;lingo Hint&gt;&gt;\n\n! &lt;&lt;lingo Pragma/Caption&gt;&gt;\n\n&lt;&lt;parsing-outer typeLower:\&quot;pragma\&quot; typeCap:\&quot;Pragma\&quot;&gt;&gt;\n\n! &lt;&lt;lingo Inline/Caption&gt;&gt;\n\n&lt;&lt;parsing-outer typeLower:\&quot;inline\&quot; typeCap:\&quot;Inline\&quot;&gt;&gt;\n\n! &lt;&lt;lingo Block/Caption&gt;&gt;\n\n&lt;&lt;parsing-outer typeLower:\&quot;block\&quot; typeCap:\&quot;Block\&quot;&gt;&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Plugins/Add/Languages&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Plugins/Add/Languages&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Plugins/Languages/Caption}} (&lt;$count filter=\&quot;[all[tiddlers+shadows]tag[$:/tags/RemoteAssetInfo]server-url{!!url}original-plugin-type[language]]\&quot;/&gt;)&quot;,
            &quot;text&quot;: &quot;&lt;&lt;display-server-assets language&gt;&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Plugins/Add/Plugins&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Plugins/Add/Plugins&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Plugins/Plugins/Caption}}  (&lt;$count filter=\&quot;[all[tiddlers+shadows]tag[$:/tags/RemoteAssetInfo]server-url{!!url}original-plugin-type[plugin]]\&quot;/&gt;)&quot;,
            &quot;text&quot;: &quot;&lt;&lt;display-server-assets plugin&gt;&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Plugins/Add/Themes&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Plugins/Add/Themes&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Plugins/Themes/Caption}}  (&lt;$count filter=\&quot;[all[tiddlers+shadows]tag[$:/tags/RemoteAssetInfo]server-url{!!url}original-plugin-type[theme]]\&quot;/&gt;)&quot;,
            &quot;text&quot;: &quot;&lt;&lt;display-server-assets theme&gt;&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Plugins/AddPlugins&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Plugins/AddPlugins&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Plugins/\n\n&lt;$button message=\&quot;tm-modal\&quot; param=\&quot;$:/core/ui/ControlPanel/Modals/AddPlugins\&quot; tooltip={{$:/language/ControlPanel/Plugins/Add/Hint}} class=\&quot;tc-btn-big-green\&quot; style=\&quot;background:blue;\&quot;&gt;\n{{$:/core/images/download-button}} &lt;&lt;lingo Add/Caption&gt;&gt;\n&lt;/$button&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Plugins/Installed/Languages&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Plugins/Installed/Languages&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Plugins/Languages/Caption}} (&lt;$count filter=\&quot;[!has[draft.of]plugin-type[language]]\&quot;/&gt;)&quot;,
            &quot;text&quot;: &quot;&lt;&lt;plugin-table language&gt;&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Plugins/Installed/Plugins&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Plugins/Installed/Plugins&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Plugins/Plugins/Caption}} (&lt;$count filter=\&quot;[!has[draft.of]plugin-type[plugin]]\&quot;/&gt;)&quot;,
            &quot;text&quot;: &quot;&lt;&lt;plugin-table plugin&gt;&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Plugins/Installed/Themes&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Plugins/Installed/Themes&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Plugins/Themes/Caption}} (&lt;$count filter=\&quot;[!has[draft.of]plugin-type[theme]]\&quot;/&gt;)&quot;,
            &quot;text&quot;: &quot;&lt;&lt;plugin-table theme&gt;&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Plugins&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Plugins&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Plugins/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Plugins/\n\n\\define popup-state-macro()\n$(qualified-state)$-$(currentTiddler)$\n\\end\n\n\\define tabs-state-macro()\n$(popup-state)$-$(pluginInfoType)$\n\\end\n\n\\define plugin-icon-title()\n$(currentTiddler)$/icon\n\\end\n\n\\define plugin-disable-title()\n$:/config/Plugins/Disabled/$(currentTiddler)$\n\\end\n\n\\define plugin-table-body(type,disabledMessage)\n&lt;div class=\&quot;tc-plugin-info-chunk tc-small-icon\&quot;&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;popup-state&gt;&gt; text=\&quot;yes\&quot;&gt;\n&lt;$button class=\&quot;tc-btn-invisible tc-btn-dropdown\&quot; set=&lt;&lt;popup-state&gt;&gt; setTo=\&quot;yes\&quot;&gt;\n{{$:/core/images/right-arrow}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;popup-state&gt;&gt; text=\&quot;yes\&quot;&gt;\n&lt;$button class=\&quot;tc-btn-invisible tc-btn-dropdown\&quot; set=&lt;&lt;popup-state&gt;&gt; setTo=\&quot;no\&quot;&gt;\n{{$:/core/images/down-arrow}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;div class=\&quot;tc-plugin-info-chunk\&quot;&gt;\n&lt;$transclude tiddler=&lt;&lt;currentTiddler&gt;&gt; subtiddler=&lt;&lt;plugin-icon-title&gt;&gt;&gt;\n&lt;$transclude tiddler=\&quot;$:/core/images/plugin-generic-$type$\&quot;/&gt;\n&lt;/$transclude&gt;\n&lt;/div&gt;\n&lt;div class=\&quot;tc-plugin-info-chunk\&quot;&gt;\n&lt;h1&gt;\n''&lt;$view field=\&quot;description\&quot;&gt;&lt;$view field=\&quot;title\&quot;/&gt;&lt;/$view&gt;'' $disabledMessage$\n&lt;/h1&gt;\n&lt;h2&gt;\n&lt;$view field=\&quot;title\&quot;/&gt;\n&lt;/h2&gt;\n&lt;h2&gt;\n&lt;div&gt;&lt;em&gt;&lt;$view field=\&quot;version\&quot;/&gt;&lt;/em&gt;&lt;/div&gt;\n&lt;/h2&gt;\n&lt;/div&gt;\n\\end\n\n\\define plugin-table(type)\n&lt;$set name=\&quot;qualified-state\&quot; value=&lt;&lt;qualify \&quot;$:/state/plugin-info\&quot;&gt;&gt;&gt;\n&lt;$list filter=\&quot;[!has[draft.of]plugin-type[$type$]sort[description]]\&quot; emptyMessage=&lt;&lt;lingo \&quot;Empty/Hint\&quot;&gt;&gt;&gt;\n&lt;$set name=\&quot;popup-state\&quot; value=&lt;&lt;popup-state-macro&gt;&gt;&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;plugin-disable-title&gt;&gt; text=\&quot;yes\&quot;&gt;\n&lt;$link to={{!!title}} class=\&quot;tc-plugin-info\&quot;&gt;\n&lt;&lt;plugin-table-body type:\&quot;$type$\&quot;&gt;&gt;\n&lt;/$link&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;plugin-disable-title&gt;&gt; text=\&quot;yes\&quot;&gt;\n&lt;$link to={{!!title}} class=\&quot;tc-plugin-info tc-plugin-info-disabled\&quot;&gt;\n&lt;&lt;plugin-table-body type:\&quot;$type$\&quot; disabledMessage:\&quot;&lt;$macrocall $name='lingo' title='Disabled/Status'/&gt;\&quot;&gt;&gt;\n&lt;/$link&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; text=\&quot;yes\&quot; state=&lt;&lt;popup-state&gt;&gt;&gt;\n&lt;div class=\&quot;tc-plugin-info-dropdown\&quot;&gt;\n&lt;div class=\&quot;tc-plugin-info-dropdown-body\&quot;&gt;\n&lt;$list filter=\&quot;[all[current]] -[[$:/core]]\&quot;&gt;\n&lt;div style=\&quot;float:right;\&quot;&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;plugin-disable-title&gt;&gt; text=\&quot;yes\&quot;&gt;\n&lt;$button set=&lt;&lt;plugin-disable-title&gt;&gt; setTo=\&quot;yes\&quot; tooltip={{$:/language/ControlPanel/Plugins/Disable/Hint}} aria-label={{$:/language/ControlPanel/Plugins/Disable/Caption}}&gt;\n&lt;&lt;lingo Disable/Caption&gt;&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;plugin-disable-title&gt;&gt; text=\&quot;yes\&quot;&gt;\n&lt;$button set=&lt;&lt;plugin-disable-title&gt;&gt; setTo=\&quot;no\&quot; tooltip={{$:/language/ControlPanel/Plugins/Enable/Hint}} aria-label={{$:/language/ControlPanel/Plugins/Enable/Caption}}&gt;\n&lt;&lt;lingo Enable/Caption&gt;&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; text=\&quot;\&quot; state=\&quot;!!list\&quot;&gt;\n&lt;$macrocall $name=\&quot;tabs\&quot; state=&lt;&lt;tabs-state-macro&gt;&gt; tabsList={{!!list}} default=\&quot;readme\&quot; template=\&quot;$:/core/ui/PluginInfo\&quot;/&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; text=\&quot;\&quot; state=\&quot;!!list\&quot;&gt;\nNo information provided\n&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;/$set&gt;\n\\end\n\n{{$:/core/ui/ControlPanel/Plugins/AddPlugins}}\n\n&lt;&lt;lingo Installed/Hint&gt;&gt;\n\n&lt;&lt;tabs \&quot;[[$:/core/ui/ControlPanel/Plugins/Installed/Plugins]] [[$:/core/ui/ControlPanel/Plugins/Installed/Themes]] [[$:/core/ui/ControlPanel/Plugins/Installed/Languages]]\&quot; \&quot;$:/core/ui/ControlPanel/Plugins/Installed/Plugins\&quot;&gt;&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Saving&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Saving&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Saving/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Saving/\n\\define backupURL()\nhttp://$(userName)$.tiddlyspot.com/backup/\n\\end\n\\define backupLink()\n&lt;$reveal type=\&quot;nomatch\&quot; state=\&quot;$:/UploadName\&quot; text=\&quot;\&quot;&gt;\n&lt;$set name=\&quot;userName\&quot; value={{$:/UploadName}}&gt;\n&lt;$reveal type=\&quot;match\&quot; state=\&quot;$:/UploadURL\&quot; text=\&quot;\&quot;&gt;\n&lt;&lt;backupURL&gt;&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=\&quot;$:/UploadURL\&quot; text=\&quot;\&quot;&gt;\n&lt;$macrocall $name=resolvePath source={{$:/UploadBackupDir}} root={{$:/UploadURL}}&gt;&gt;\n&lt;/$reveal&gt;\n&lt;/$set&gt;\n&lt;/$reveal&gt;\n\\end\n! &lt;&lt;lingo TiddlySpot/Heading&gt;&gt;\n\n&lt;&lt;lingo TiddlySpot/Description&gt;&gt;\n\n|&lt;&lt;lingo TiddlySpot/UserName&gt;&gt; |&lt;$edit-text tiddler=\&quot;$:/UploadName\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;&lt;lingo TiddlySpot/Password&gt;&gt; |&lt;$password name=\&quot;upload\&quot;/&gt; |\n|&lt;&lt;lingo TiddlySpot/Backups&gt;&gt; |&lt;&lt;backupLink&gt;&gt; |\n\n''&lt;&lt;lingo TiddlySpot/Advanced/Heading&gt;&gt;''\n\n|&lt;&lt;lingo TiddlySpot/ServerURL&gt;&gt;  |&lt;$edit-text tiddler=\&quot;$:/UploadURL\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;&lt;lingo TiddlySpot/Filename&gt;&gt; |&lt;$edit-text tiddler=\&quot;$:/UploadFilename\&quot; default=\&quot;index.html\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;&lt;lingo TiddlySpot/UploadDir&gt;&gt; |&lt;$edit-text tiddler=\&quot;$:/UploadDir\&quot; default=\&quot;.\&quot; tag=\&quot;input\&quot;/&gt; |\n|&lt;&lt;lingo TiddlySpot/BackupDir&gt;&gt; |&lt;$edit-text tiddler=\&quot;$:/UploadBackupDir\&quot; default=\&quot;.\&quot; tag=\&quot;input\&quot;/&gt; |\n\n&lt;&lt;lingo TiddlySpot/Hint&gt;&gt;&quot;
        },
        &quot;$:/core/ui/ControlPanel/Settings/AutoSave&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Settings/AutoSave&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Settings&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Settings/AutoSave/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Settings/AutoSave/\n\n&lt;$link to=\&quot;$:/config/AutoSave\&quot;&gt;&lt;&lt;lingo Hint&gt;&gt;&lt;/$link&gt;\n\n&lt;$radio tiddler=\&quot;$:/config/AutoSave\&quot; value=\&quot;yes\&quot;&gt; &lt;&lt;lingo Enabled/Description&gt;&gt; &lt;/$radio&gt;\n\n&lt;$radio tiddler=\&quot;$:/config/AutoSave\&quot; value=\&quot;no\&quot;&gt; &lt;&lt;lingo Disabled/Description&gt;&gt; &lt;/$radio&gt;\n&quot;
        },
        &quot;$:/core/buttonstyles/Borderless&quot;: {
            &quot;title&quot;: &quot;$:/core/buttonstyles/Borderless&quot;,
            &quot;tags&quot;: &quot;$:/tags/ToolbarButtonStyle&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Settings/ToolbarButtonStyle/Styles/Borderless}}&quot;,
            &quot;text&quot;: &quot;tc-btn-invisible&quot;
        },
        &quot;$:/core/buttonstyles/Boxed&quot;: {
            &quot;title&quot;: &quot;$:/core/buttonstyles/Boxed&quot;,
            &quot;tags&quot;: &quot;$:/tags/ToolbarButtonStyle&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Settings/ToolbarButtonStyle/Styles/Boxed}}&quot;,
            &quot;text&quot;: &quot;tc-btn-boxed&quot;
        },
        &quot;$:/core/buttonstyles/Rounded&quot;: {
            &quot;title&quot;: &quot;$:/core/buttonstyles/Rounded&quot;,
            &quot;tags&quot;: &quot;$:/tags/ToolbarButtonStyle&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Settings/ToolbarButtonStyle/Styles/Rounded}}&quot;,
            &quot;text&quot;: &quot;tc-btn-rounded&quot;
        },
        &quot;$:/core/ui/ControlPanel/Settings/CamelCase&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Settings/CamelCase&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Settings&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Settings/CamelCase/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Settings/CamelCase/\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;$checkbox tiddler=\&quot;$:/config/WikiParserRules/Inline/wikilink\&quot; field=\&quot;text\&quot; checked=\&quot;enable\&quot; unchecked=\&quot;disable\&quot; default=\&quot;enable\&quot;&gt; &lt;$link to=\&quot;$:/config/WikiParserRules/Inline/wikilink\&quot;&gt;&lt;&lt;lingo Description&gt;&gt;&lt;/$link&gt; &lt;/$checkbox&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Settings/DefaultSidebarTab&quot;: {
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Settings/DefaultSidebarTab/Caption}}&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Settings&quot;,
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Settings/DefaultSidebarTab&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Settings/DefaultSidebarTab/\n\n&lt;$link to=\&quot;$:/config/DefaultSidebarTab\&quot;&gt;&lt;&lt;lingo Hint&gt;&gt;&lt;/$link&gt;\n\n&lt;$select tiddler=\&quot;$:/config/DefaultSidebarTab\&quot;&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/SideBar]!has[draft.of]]\&quot;&gt;\n&lt;option value=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;$transclude field=\&quot;caption\&quot;&gt;&lt;$text text=&lt;&lt;currentTiddler&gt;&gt;/&gt;&lt;/$transclude&gt;&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Settings/LinkToBehaviour&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Settings/LinkToBehaviour&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Settings&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Settings/LinkToBehaviour/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Settings/LinkToBehaviour/\n\n&lt;$link to=\&quot;$:/config/Navigation/openLinkFromInsideRiver\&quot;&gt;&lt;&lt;lingo \&quot;InsideRiver/Hint\&quot;&gt;&gt;&lt;/$link&gt;\n\n&lt;$select tiddler=\&quot;$:/config/Navigation/openLinkFromInsideRiver\&quot;&gt;\n  &lt;option value=\&quot;above\&quot;&gt;&lt;&lt;lingo \&quot;OpenAbove\&quot;&gt;&gt;&lt;/option&gt;\n  &lt;option value=\&quot;below\&quot;&gt;&lt;&lt;lingo \&quot;OpenBelow\&quot;&gt;&gt;&lt;/option&gt;\n  &lt;option value=\&quot;top\&quot;&gt;&lt;&lt;lingo \&quot;OpenAtTop\&quot;&gt;&gt;&lt;/option&gt;\n  &lt;option value=\&quot;bottom\&quot;&gt;&lt;&lt;lingo \&quot;OpenAtBottom\&quot;&gt;&gt;&lt;/option&gt;\n&lt;/$select&gt;\n\n&lt;$link to=\&quot;$:/config/Navigation/openLinkFromOutsideRiver\&quot;&gt;&lt;&lt;lingo \&quot;OutsideRiver/Hint\&quot;&gt;&gt;&lt;/$link&gt;\n\n&lt;$select tiddler=\&quot;$:/config/Navigation/openLinkFromOutsideRiver\&quot;&gt;\n  &lt;option value=\&quot;top\&quot;&gt;&lt;&lt;lingo \&quot;OpenAtTop\&quot;&gt;&gt;&lt;/option&gt;\n  &lt;option value=\&quot;bottom\&quot;&gt;&lt;&lt;lingo \&quot;OpenAtBottom\&quot;&gt;&gt;&lt;/option&gt;\n&lt;/$select&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Settings/NavigationAddressBar&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Settings/NavigationAddressBar&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Settings&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Settings/NavigationAddressBar/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Settings/NavigationAddressBar/\n\n&lt;$link to=\&quot;$:/config/Navigation/UpdateAddressBar\&quot;&gt;&lt;&lt;lingo Hint&gt;&gt;&lt;/$link&gt;\n\n&lt;$radio tiddler=\&quot;$:/config/Navigation/UpdateAddressBar\&quot; value=\&quot;permaview\&quot;&gt; &lt;&lt;lingo Permaview/Description&gt;&gt; &lt;/$radio&gt;\n\n&lt;$radio tiddler=\&quot;$:/config/Navigation/UpdateAddressBar\&quot; value=\&quot;permalink\&quot;&gt; &lt;&lt;lingo Permalink/Description&gt;&gt; &lt;/$radio&gt;\n\n&lt;$radio tiddler=\&quot;$:/config/Navigation/UpdateAddressBar\&quot; value=\&quot;no\&quot;&gt; &lt;&lt;lingo No/Description&gt;&gt; &lt;/$radio&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Settings/NavigationHistory&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Settings/NavigationHistory&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Settings&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Settings/NavigationHistory/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Settings/NavigationHistory/\n&lt;$link to=\&quot;$:/config/Navigation/UpdateHistory\&quot;&gt;&lt;&lt;lingo Hint&gt;&gt;&lt;/$link&gt;\n\n&lt;$radio tiddler=\&quot;$:/config/Navigation/UpdateHistory\&quot; value=\&quot;yes\&quot;&gt; &lt;&lt;lingo Yes/Description&gt;&gt; &lt;/$radio&gt;\n\n&lt;$radio tiddler=\&quot;$:/config/Navigation/UpdateHistory\&quot; value=\&quot;no\&quot;&gt; &lt;&lt;lingo No/Description&gt;&gt; &lt;/$radio&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Settings/PerformanceInstrumentation&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Settings/PerformanceInstrumentation&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Settings&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Settings/PerformanceInstrumentation/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Settings/PerformanceInstrumentation/\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;$checkbox tiddler=\&quot;$:/config/Performance/Instrumentation\&quot; field=\&quot;text\&quot; checked=\&quot;yes\&quot; unchecked=\&quot;no\&quot; default=\&quot;no\&quot;&gt; &lt;$link to=\&quot;$:/config/Performance/Instrumentation\&quot;&gt;&lt;&lt;lingo Description&gt;&gt;&lt;/$link&gt; &lt;/$checkbox&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Settings/TitleLinks&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Settings/TitleLinks&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Settings&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Settings/TitleLinks/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Settings/TitleLinks/\n&lt;$link to=\&quot;$:/config/Tiddlers/TitleLinks\&quot;&gt;&lt;&lt;lingo Hint&gt;&gt;&lt;/$link&gt;\n\n&lt;$radio tiddler=\&quot;$:/config/Tiddlers/TitleLinks\&quot; value=\&quot;yes\&quot;&gt; &lt;&lt;lingo Yes/Description&gt;&gt; &lt;/$radio&gt;\n\n&lt;$radio tiddler=\&quot;$:/config/Tiddlers/TitleLinks\&quot; value=\&quot;no\&quot;&gt; &lt;&lt;lingo No/Description&gt;&gt; &lt;/$radio&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Settings/ToolbarButtonStyle&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Settings/ToolbarButtonStyle&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Settings&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Settings/ToolbarButtonStyle/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Settings/ToolbarButtonStyle/\n&lt;$link to=\&quot;$:/config/Toolbar/ButtonClass\&quot;&gt;&lt;&lt;lingo \&quot;Hint\&quot;&gt;&gt;&lt;/$link&gt;\n\n&lt;$select tiddler=\&quot;$:/config/Toolbar/ButtonClass\&quot;&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/ToolbarButtonStyle]]\&quot;&gt;\n&lt;option value={{!!text}}&gt;{{!!caption}}&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Settings/ToolbarButtons&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Settings/ToolbarButtons&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Settings&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Settings/ToolbarButtons/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Settings/ToolbarButtons/\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;$checkbox tiddler=\&quot;$:/config/Toolbar/Icons\&quot; field=\&quot;text\&quot; checked=\&quot;yes\&quot; unchecked=\&quot;no\&quot; default=\&quot;yes\&quot;&gt; &lt;$link to=\&quot;$:/config/Toolbar/Icons\&quot;&gt;&lt;&lt;lingo Icons/Description&gt;&gt;&lt;/$link&gt; &lt;/$checkbox&gt;\n\n&lt;$checkbox tiddler=\&quot;$:/config/Toolbar/Text\&quot; field=\&quot;text\&quot; checked=\&quot;yes\&quot; unchecked=\&quot;no\&quot; default=\&quot;no\&quot;&gt; &lt;$link to=\&quot;$:/config/Toolbar/Text\&quot;&gt;&lt;&lt;lingo Text/Description&gt;&gt;&lt;/$link&gt; &lt;/$checkbox&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Settings&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Settings&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Settings/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Settings/\n\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Settings]]\&quot;&gt;\n\n&lt;div style=\&quot;border-top:1px solid #eee;\&quot;&gt;\n\n!! &lt;$link&gt;&lt;$transclude field=\&quot;caption\&quot;/&gt;&lt;/$link&gt;\n\n&lt;$transclude/&gt;\n\n&lt;/div&gt;\n\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/StoryView&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/StoryView&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Appearance&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/StoryView/Caption}}&quot;,
            &quot;text&quot;: &quot;{{$:/snippets/viewswitcher}}\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Theme&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Theme&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Appearance&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Theme/Caption}}&quot;,
            &quot;text&quot;: &quot;{{$:/snippets/themeswitcher}}\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/TiddlerFields&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/TiddlerFields&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Advanced&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/TiddlerFields/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/\n\n&lt;&lt;lingo TiddlerFields/Hint&gt;&gt;\n\n{{$:/snippets/allfields}}&quot;
        },
        &quot;$:/core/ui/ControlPanel/Toolbars/EditToolbar&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Toolbars/EditToolbar&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Toolbars&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Toolbars/EditToolbar/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/TiddlerInfo/\n\\define config-title()\n$:/config/EditToolbarButtons/Visibility/$(listItem)$\n\\end\n\n{{$:/language/ControlPanel/Toolbars/EditToolbar/Hint}}\n\n&lt;$set name=\&quot;tv-config-toolbar-icons\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-text\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/EditToolbar]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;\n\n&lt;$checkbox tiddler=&lt;&lt;config-title&gt;&gt; field=\&quot;text\&quot; checked=\&quot;show\&quot; unchecked=\&quot;hide\&quot; default=\&quot;show\&quot;/&gt; &lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; field=\&quot;caption\&quot;/&gt; &lt;i class=\&quot;tc-muted\&quot;&gt;-- &lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; field=\&quot;description\&quot;/&gt;&lt;/i&gt;\n\n&lt;/$list&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Toolbars/PageControls&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Toolbars/PageControls&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Toolbars&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Toolbars/PageControls/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/TiddlerInfo/\n\\define config-title()\n$:/config/PageControlButtons/Visibility/$(listItem)$\n\\end\n\n{{$:/language/ControlPanel/Toolbars/PageControls/Hint}}\n\n&lt;$set name=\&quot;tv-config-toolbar-icons\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-text\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/PageControls]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;\n\n&lt;$checkbox tiddler=&lt;&lt;config-title&gt;&gt; field=\&quot;text\&quot; checked=\&quot;show\&quot; unchecked=\&quot;hide\&quot; default=\&quot;show\&quot;/&gt; &lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; field=\&quot;caption\&quot;/&gt; &lt;i class=\&quot;tc-muted\&quot;&gt;-- &lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; field=\&quot;description\&quot;/&gt;&lt;/i&gt;\n\n&lt;/$list&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Toolbars/ViewToolbar&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Toolbars/ViewToolbar&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Toolbars&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Toolbars/ViewToolbar/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/TiddlerInfo/\n\\define config-title()\n$:/config/ViewToolbarButtons/Visibility/$(listItem)$\n\\end\n\n{{$:/language/ControlPanel/Toolbars/ViewToolbar/Hint}}\n\n&lt;$set name=\&quot;tv-config-toolbar-icons\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-text\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/ViewToolbar]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;\n\n&lt;$checkbox tiddler=&lt;&lt;config-title&gt;&gt; field=\&quot;text\&quot; checked=\&quot;show\&quot; unchecked=\&quot;hide\&quot; default=\&quot;show\&quot;/&gt; &lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; field=\&quot;caption\&quot;/&gt; &lt;i class=\&quot;tc-muted\&quot;&gt;-- &lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; field=\&quot;description\&quot;/&gt;&lt;/i&gt;\n\n&lt;/$list&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n&quot;
        },
        &quot;$:/core/ui/ControlPanel/Toolbars&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ControlPanel/Toolbars&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Appearance&quot;,
            &quot;caption&quot;: &quot;{{$:/language/ControlPanel/Toolbars/Caption}}&quot;,
            &quot;text&quot;: &quot;{{$:/language/ControlPanel/Toolbars/Hint}}\n\n&lt;div class=\&quot;tc-control-panel\&quot;&gt;\n&lt;&lt;tabs \&quot;[all[shadows+tiddlers]tag[$:/tags/ControlPanel/Toolbars]!has[draft.of]]\&quot; \&quot;$:/core/ui/ControlPanel/Toolbars/ViewToolbar\&quot; \&quot;$:/state/tabs/controlpanel/toolbars\&quot; \&quot;tc-vertical\&quot;&gt;&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/ControlPanel&quot;: {
            &quot;title&quot;: &quot;$:/ControlPanel&quot;,
            &quot;icon&quot;: &quot;$:/core/images/options-button&quot;,
            &quot;color&quot;: &quot;#bbb&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-control-panel\&quot;&gt;\n&lt;&lt;tabs \&quot;[all[shadows+tiddlers]tag[$:/tags/ControlPanel]!has[draft.of]]\&quot; \&quot;$:/core/ui/ControlPanel/Info\&quot;&gt;&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/DefaultSearchResultList&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/DefaultSearchResultList&quot;,
            &quot;tags&quot;: &quot;$:/tags/SearchResults&quot;,
            &quot;caption&quot;: &quot;{{$:/language/Search/DefaultResults/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define searchResultList()\n//&lt;small&gt;{{$:/language/Search/Matches/Title}}&lt;/small&gt;//\n\n&lt;$list filter=\&quot;[!is[system]search:title{$(searchTiddler)$}sort[title]limit[250]]\&quot; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n\n//&lt;small&gt;{{$:/language/Search/Matches/All}}&lt;/small&gt;//\n\n&lt;$list filter=\&quot;[!is[system]search{$(searchTiddler)$}sort[title]limit[250]]\&quot; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n\n\\end\n&lt;&lt;searchResultList&gt;&gt;\n&quot;
        },
        &quot;$:/core/ui/EditTemplate/body&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/EditTemplate/body&quot;,
            &quot;tags&quot;: &quot;$:/tags/EditTemplate&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/EditTemplate/Body/\n&lt;$list filter=\&quot;[is[current]has[_canonical_uri]]\&quot;&gt;\n\n&lt;div class=\&quot;tc-message-box\&quot;&gt;\n\n&lt;&lt;lingo External/Hint&gt;&gt;\n\n&lt;a href={{!!_canonical_uri}}&gt;&lt;$text text={{!!_canonical_uri}}/&gt;&lt;/a&gt;\n\n&lt;$edit-text field=\&quot;_canonical_uri\&quot; class=\&quot;tc-edit-fields\&quot;&gt;&lt;/$edit-text&gt;\n\n&lt;/div&gt;\n\n&lt;/$list&gt;\n\n&lt;$list filter=\&quot;[is[current]!has[_canonical_uri]]\&quot;&gt;\n\n&lt;$reveal state=\&quot;$:/state/showeditpreview\&quot; type=\&quot;match\&quot; text=\&quot;yes\&quot;&gt;\n\n&lt;em class=\&quot;tc-edit\&quot;&gt;&lt;&lt;lingo Hint&gt;&gt;&lt;/em&gt; &lt;$button type=\&quot;set\&quot; set=\&quot;$:/state/showeditpreview\&quot; setTo=\&quot;no\&quot;&gt;&lt;&lt;lingo Preview/Button/Hide&gt;&gt;&lt;/$button&gt;\n\n&lt;div class=\&quot;tc-tiddler-preview\&quot;&gt;\n&lt;div class=\&quot;tc-tiddler-preview-preview\&quot;&gt;\n&lt;$set name=\&quot;tv-tiddler-preview\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$transclude /&gt;\n\n&lt;/$set&gt;\n&lt;/div&gt;\n\n&lt;div class=\&quot;tc-tiddler-preview-edit\&quot;&gt;\n&lt;$edit field=\&quot;text\&quot; class=\&quot;tc-edit-texteditor\&quot; placeholder={{$:/language/EditTemplate/Body/Placeholder}}/&gt;\n\n&lt;/div&gt;\n\n&lt;/div&gt;\n\n&lt;/$reveal&gt;\n\n&lt;$reveal state=\&quot;$:/state/showeditpreview\&quot; type=\&quot;nomatch\&quot; text=\&quot;yes\&quot;&gt;\n\n&lt;em class=\&quot;tc-edit\&quot;&gt;&lt;&lt;lingo Hint&gt;&gt;&lt;/em&gt; &lt;$button type=\&quot;set\&quot; set=\&quot;$:/state/showeditpreview\&quot; setTo=\&quot;yes\&quot;&gt;&lt;&lt;lingo Preview/Button/Show&gt;&gt;&lt;/$button&gt;\n&lt;$edit field=\&quot;text\&quot; class=\&quot;tc-edit-texteditor\&quot; placeholder={{$:/language/EditTemplate/Body/Placeholder}}/&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/EditTemplate/controls&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/EditTemplate/controls&quot;,
            &quot;tags&quot;: &quot;$:/tags/EditTemplate&quot;,
            &quot;text&quot;: &quot;\\define config-title()\n$:/config/EditToolbarButtons/Visibility/$(listItem)$\n\\end\n&lt;div class=\&quot;tc-tiddler-title tc-tiddler-edit-title\&quot;&gt;\n&lt;$view field=\&quot;title\&quot;/&gt;\n&lt;span class=\&quot;tc-tiddler-controls tc-titlebar\&quot;&gt;&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/EditToolbar]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;config-title&gt;&gt; text=\&quot;hide\&quot;&gt;&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;&lt;/$reveal&gt;&lt;/$list&gt;&lt;/span&gt;\n&lt;div style=\&quot;clear: both;\&quot;&gt;&lt;/div&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/EditTemplate/fields&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/EditTemplate/fields&quot;,
            &quot;tags&quot;: &quot;$:/tags/EditTemplate&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/EditTemplate/\n\\define config-title()\n$:/config/EditTemplateFields/Visibility/$(currentField)$\n\\end\n\n\\define config-filter()\n[[hide]] -[title{$(config-title)$}]\n\\end\n\n\\define new-field-inner()\n&lt;$reveal type=\&quot;nomatch\&quot; text=\&quot;\&quot; default=&lt;&lt;name&gt;&gt;&gt;\n&lt;$button&gt;\n&lt;$action-sendmessage $message=\&quot;tm-add-field\&quot; $name=&lt;&lt;name&gt;&gt; $value=&lt;&lt;value&gt;&gt;/&gt;\n&lt;$action-deletetiddler $tiddler=\&quot;$:/temp/newfieldname\&quot;/&gt;\n&lt;$action-deletetiddler $tiddler=\&quot;$:/temp/newfieldvalue\&quot;/&gt;\n&lt;&lt;lingo Fields/Add/Button&gt;&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; text=\&quot;\&quot; default=&lt;&lt;name&gt;&gt;&gt;\n&lt;$button&gt;\n&lt;&lt;lingo Fields/Add/Button&gt;&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n\\end\n\n\\define new-field()\n&lt;$set name=\&quot;name\&quot; value={{$:/temp/newfieldname}}&gt;\n&lt;$set name=\&quot;value\&quot; value={{$:/temp/newfieldvalue}}&gt;\n&lt;&lt;new-field-inner&gt;&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n\\end\n\n&lt;div class=\&quot;tc-edit-fields\&quot;&gt;\n&lt;table class=\&quot;tc-edit-fields\&quot;&gt;\n&lt;tbody&gt;\n&lt;$list filter=\&quot;[all[current]fields[]] +[sort[title]]\&quot; variable=\&quot;currentField\&quot;&gt;\n&lt;$list filter=&lt;&lt;config-filter&gt;&gt; variable=\&quot;temp\&quot;&gt;\n&lt;tr class=\&quot;tc-edit-field\&quot;&gt;\n&lt;td class=\&quot;tc-edit-field-name\&quot;&gt;\n&lt;$text text=&lt;&lt;currentField&gt;&gt;/&gt;:&lt;/td&gt;\n&lt;td class=\&quot;tc-edit-field-value\&quot;&gt;\n&lt;$edit-text tiddler=&lt;&lt;currentTiddler&gt;&gt; field=&lt;&lt;currentField&gt;&gt; placeholder={{$:/language/EditTemplate/Fields/Add/Value/Placeholder}}/&gt;\n&lt;/td&gt;\n&lt;td class=\&quot;tc-edit-field-remove\&quot;&gt;\n&lt;$button class=\&quot;tc-btn-invisible\&quot; tooltip={{$:/language/EditTemplate/Field/Remove/Hint}} aria-label={{$:/language/EditTemplate/Field/Remove/Caption}}&gt;\n&lt;$action-deletefield $field=&lt;&lt;currentField&gt;&gt;/&gt;\n{{$:/core/images/delete-button}}\n&lt;/$button&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/$list&gt;\n&lt;/$list&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/div&gt;\n\n&lt;$fieldmangler&gt;\n&lt;div class=\&quot;tc-edit-field-add\&quot;&gt;\n&lt;em class=\&quot;tc-edit\&quot;&gt;\n&lt;&lt;lingo Fields/Add/Prompt&gt;&gt;\n&lt;/em&gt;\n&lt;span class=\&quot;tc-edit-field-add-name\&quot;&gt;\n&lt;$edit-text tiddler=\&quot;$:/temp/newfieldname\&quot; tag=\&quot;input\&quot; default=\&quot;\&quot; placeholder={{$:/language/EditTemplate/Fields/Add/Name/Placeholder}} focusPopup=&lt;&lt;qualify \&quot;$:/state/popup/field-dropdown\&quot;&gt;&gt; class=\&quot;tc-edit-texteditor tc-popup-handle\&quot;/&gt;\n&lt;/span&gt;\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/field-dropdown\&quot;&gt;&gt; class=\&quot;tc-btn-invisible tc-btn-dropdown\&quot; tooltip={{$:/language/EditTemplate/Field/Dropdown/Hint}} aria-label={{$:/language/EditTemplate/Field/Dropdown/Caption}}&gt;{{$:/core/images/down-arrow}}&lt;/$button&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/field-dropdown\&quot;&gt;&gt; type=\&quot;nomatch\&quot; text=\&quot;\&quot; default=\&quot;\&quot;&gt;\n&lt;div class=\&quot;tc-block-dropdown tc-edit-type-dropdown\&quot;&gt;\n&lt;$linkcatcher to=\&quot;$:/temp/newfieldname\&quot;&gt;\n&lt;div class=\&quot;tc-dropdown-item\&quot;&gt;\n&lt;&lt;lingo Fields/Add/Dropdown/User&gt;&gt;\n&lt;/div&gt;\n&lt;$list filter=\&quot;[!is[shadow]!is[system]fields[]sort[]] -created -creator -draft.of -draft.title -modified -modifier -tags -text -title -type\&quot;  variable=\&quot;currentField\&quot;&gt;\n&lt;$link to=&lt;&lt;currentField&gt;&gt;&gt;\n&lt;&lt;currentField&gt;&gt;\n&lt;/$link&gt;\n&lt;/$list&gt;\n&lt;div class=\&quot;tc-dropdown-item\&quot;&gt;\n&lt;&lt;lingo Fields/Add/Dropdown/System&gt;&gt;\n&lt;/div&gt;\n&lt;$list filter=\&quot;[fields[]sort[]] -[!is[shadow]!is[system]fields[]]\&quot; variable=\&quot;currentField\&quot;&gt;\n&lt;$link to=&lt;&lt;currentField&gt;&gt;&gt;\n&lt;&lt;currentField&gt;&gt;\n&lt;/$link&gt;\n&lt;/$list&gt;\n&lt;/$linkcatcher&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;span class=\&quot;tc-edit-field-add-value\&quot;&gt;\n&lt;$edit-text tiddler=\&quot;$:/temp/newfieldvalue\&quot; tag=\&quot;input\&quot; default=\&quot;\&quot; placeholder={{$:/language/EditTemplate/Fields/Add/Value/Placeholder}} class=\&quot;tc-edit-texteditor\&quot;/&gt;\n&lt;/span&gt;\n&lt;span class=\&quot;tc-edit-field-add-button\&quot;&gt;\n&lt;$macrocall $name=\&quot;new-field\&quot;/&gt;\n&lt;/span&gt;\n&lt;/div&gt;\n&lt;/$fieldmangler&gt;\n\n&quot;
        },
        &quot;$:/core/ui/EditTemplate/shadow&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/EditTemplate/shadow&quot;,
            &quot;tags&quot;: &quot;$:/tags/EditTemplate&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/EditTemplate/Shadow/\n\\define pluginLinkBody()\n&lt;$link to=\&quot;\&quot;\&quot;$(pluginTitle)$\&quot;\&quot;\&quot;&gt;\n&lt;$text text=\&quot;\&quot;\&quot;$(pluginTitle)$\&quot;\&quot;\&quot;/&gt;\n&lt;/$link&gt;\n\\end\n&lt;$list filter=\&quot;[all[current]get[draft.of]is[shadow]!is[tiddler]]\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[current]shadowsource[]]\&quot; variable=\&quot;pluginTitle\&quot;&gt;\n\n&lt;$set name=\&quot;pluginLink\&quot; value=&lt;&lt;pluginLinkBody&gt;&gt;&gt;\n&lt;div class=\&quot;tc-message-box\&quot;&gt;\n\n&lt;&lt;lingo Warning&gt;&gt;\n\n&lt;/div&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n\n&lt;/$list&gt;\n\n&lt;$list filter=\&quot;[all[current]get[draft.of]is[shadow]is[tiddler]]\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[current]shadowsource[]]\&quot; variable=\&quot;pluginTitle\&quot;&gt;\n\n&lt;$set name=\&quot;pluginLink\&quot; value=&lt;&lt;pluginLinkBody&gt;&gt;&gt;\n&lt;div class=\&quot;tc-message-box\&quot;&gt;\n\n&lt;&lt;lingo OverriddenWarning&gt;&gt;\n\n&lt;/div&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n\n&lt;/$list&gt;&quot;
        },
        &quot;$:/core/ui/EditTemplate/tags&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/EditTemplate/tags&quot;,
            &quot;tags&quot;: &quot;$:/tags/EditTemplate&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/EditTemplate/\n\\define tag-styles()\nbackground-color:$(backgroundColor)$;\n\\end\n&lt;div class=\&quot;tc-edit-tags\&quot;&gt;\n&lt;$fieldmangler&gt;\n&lt;$list filter=\&quot;[all[current]tags[]sort[title]]\&quot; storyview=\&quot;pop\&quot;&gt;&lt;$set name=\&quot;backgroundColor\&quot; value={{!!color}}&gt;&lt;span style=&lt;&lt;tag-styles&gt;&gt; class=\&quot;tc-tag-label\&quot;&gt;\n&lt;$view field=\&quot;title\&quot; format=\&quot;text\&quot; /&gt;\n&lt;$button message=\&quot;tm-remove-tag\&quot; param={{!!title}} class=\&quot;tc-btn-invisible tc-remove-tag-button\&quot;&gt;&amp;times;&lt;/$button&gt;&lt;/span&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n\n&lt;div class=\&quot;tc-edit-add-tag\&quot;&gt;\n&lt;span class=\&quot;tc-add-tag-name\&quot;&gt;\n&lt;$edit-text tiddler=\&quot;$:/temp/NewTagName\&quot; tag=\&quot;input\&quot; default=\&quot;\&quot; placeholder={{$:/language/EditTemplate/Tags/Add/Placeholder}} focusPopup=&lt;&lt;qualify \&quot;$:/state/popup/tags-auto-complete\&quot;&gt;&gt; class=\&quot;tc-edit-texteditor tc-popup-handle\&quot;/&gt;\n&lt;/span&gt; &lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/tags-auto-complete\&quot;&gt;&gt; class=\&quot;tc-btn-invisible tc-btn-dropdown\&quot; tooltip={{$:/language/EditTemplate/Tags/Dropdown/Hint}} aria-label={{$:/language/EditTemplate/Tags/Dropdown/Caption}}&gt;{{$:/core/images/down-arrow}}&lt;/$button&gt; &lt;span class=\&quot;tc-add-tag-button\&quot;&gt;\n&lt;$button message=\&quot;tm-add-tag\&quot; param={{$:/temp/NewTagName}} set=\&quot;$:/temp/NewTagName\&quot; setTo=\&quot;\&quot; class=\&quot;\&quot;&gt;\n&lt;&lt;lingo Tags/Add/Button&gt;&gt;\n&lt;/$button&gt;\n&lt;/span&gt;\n&lt;/div&gt;\n\n&lt;div class=\&quot;tc-block-dropdown-wrapper\&quot;&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/tags-auto-complete\&quot;&gt;&gt; type=\&quot;nomatch\&quot; text=\&quot;\&quot; default=\&quot;\&quot;&gt;\n&lt;div class=\&quot;tc-block-dropdown\&quot;&gt;\n&lt;$linkcatcher set=\&quot;$:/temp/NewTagName\&quot; setTo=\&quot;\&quot; message=\&quot;tm-add-tag\&quot;&gt;\n&lt;$list filter=\&quot;[tags[]!is[system]search:title{$:/temp/NewTagName}sort[]]\&quot;&gt;\n{{||$:/core/ui/Components/tag-link}}\n&lt;/$list&gt;\n&lt;hr&gt;\n&lt;$list filter=\&quot;[tags[]is[system]search:title{$:/temp/NewTagName}sort[]]\&quot;&gt;\n{{||$:/core/ui/Components/tag-link}}\n&lt;/$list&gt;\n&lt;/$linkcatcher&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;/$fieldmangler&gt;\n&lt;/div&gt;&quot;
        },
        &quot;$:/core/ui/EditTemplate/title&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/EditTemplate/title&quot;,
            &quot;tags&quot;: &quot;$:/tags/EditTemplate&quot;,
            &quot;text&quot;: &quot;&lt;$edit-text field=\&quot;draft.title\&quot; class=\&quot;tc-titlebar tc-edit-texteditor\&quot; focus=\&quot;true\&quot;/&gt;&quot;
        },
        &quot;$:/core/ui/EditTemplate/type&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/EditTemplate/type&quot;,
            &quot;tags&quot;: &quot;$:/tags/EditTemplate&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/EditTemplate/\n&lt;div class=\&quot;tc-type-selector\&quot;&gt;&lt;$fieldmangler&gt;\n&lt;em class=\&quot;tc-edit\&quot;&gt;&lt;&lt;lingo Type/Prompt&gt;&gt;&lt;/em&gt; &lt;$edit-text field=\&quot;type\&quot; tag=\&quot;input\&quot; default=\&quot;\&quot; placeholder={{$:/language/EditTemplate/Type/Placeholder}} focusPopup=&lt;&lt;qualify \&quot;$:/state/popup/type-dropdown\&quot;&gt;&gt; class=\&quot;tc-edit-typeeditor tc-popup-handle\&quot;/&gt; &lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/type-dropdown\&quot;&gt;&gt; class=\&quot;tc-btn-invisible tc-btn-dropdown\&quot; tooltip={{$:/language/EditTemplate/Type/Dropdown/Hint}} aria-label={{$:/language/EditTemplate/Type/Dropdown/Caption}}&gt;{{$:/core/images/down-arrow}}&lt;/$button&gt; &lt;$button message=\&quot;tm-remove-field\&quot; param=\&quot;type\&quot; class=\&quot;tc-btn-invisible tc-btn-icon\&quot; tooltip={{$:/language/EditTemplate/Type/Delete/Hint}} aria-label={{$:/language/EditTemplate/Type/Delete/Caption}}&gt;{{$:/core/images/delete-button}}&lt;/$button&gt;\n&lt;/$fieldmangler&gt;&lt;/div&gt;\n\n&lt;div class=\&quot;tc-block-dropdown-wrapper\&quot;&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/type-dropdown\&quot;&gt;&gt; type=\&quot;nomatch\&quot; text=\&quot;\&quot; default=\&quot;\&quot;&gt;\n&lt;div class=\&quot;tc-block-dropdown tc-edit-type-dropdown\&quot;&gt;\n&lt;$linkcatcher to=\&quot;!!type\&quot;&gt;\n&lt;$list filter='[all[shadows+tiddlers]prefix[$:/language/Docs/Types/]each[group]sort[group]]'&gt;\n&lt;div class=\&quot;tc-dropdown-item\&quot;&gt;\n&lt;$text text={{!!group}}/&gt;\n&lt;/div&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]prefix[$:/language/Docs/Types/]group{!!group}] +[sort[description]]\&quot;&gt;&lt;$link to={{!!name}}&gt;&lt;$view field=\&quot;description\&quot;/&gt; (&lt;$view field=\&quot;name\&quot;/&gt;)&lt;/$link&gt;\n&lt;/$list&gt;\n&lt;/$list&gt;\n&lt;/$linkcatcher&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;&quot;
        },
        &quot;$:/core/ui/EditTemplate&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/EditTemplate&quot;,
            &quot;text&quot;: &quot;\\define frame-classes()\ntc-tiddler-frame tc-tiddler-edit-frame $(missingTiddlerClass)$ $(shadowTiddlerClass)$ $(systemTiddlerClass)$\n\\end\n&lt;div class=&lt;&lt;frame-classes&gt;&gt;&gt;\n&lt;$set name=\&quot;storyTiddler\&quot; value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;$keyboard key={{$:/config/shortcuts/cancel-edit-tiddler}} message=\&quot;tm-cancel-tiddler\&quot;&gt;\n&lt;$keyboard key={{$:/config/shortcuts/save-tiddler}} message=\&quot;tm-save-tiddler\&quot;&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/EditTemplate]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;\n&lt;/$list&gt;\n&lt;/$keyboard&gt;\n&lt;/$keyboard&gt;\n&lt;/$set&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/Buttons/cancel&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/cancel&quot;,
            &quot;tags&quot;: &quot;$:/tags/EditToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/cancel-button}} {{$:/language/Buttons/Cancel/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Cancel/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-cancel-tiddler\&quot; tooltip={{$:/language/Buttons/Cancel/Hint}} aria-label={{$:/language/Buttons/Cancel/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/cancel-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Cancel/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/delete&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/delete&quot;,
            &quot;tags&quot;: &quot;$:/tags/EditToolbar $:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/delete-button}} {{$:/language/Buttons/Delete/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Delete/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-delete-tiddler\&quot; tooltip={{$:/language/Buttons/Delete/Hint}} aria-label={{$:/language/Buttons/Delete/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/delete-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Delete/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/save&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/save&quot;,
            &quot;tags&quot;: &quot;$:/tags/EditToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/done-button}} {{$:/language/Buttons/Save/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Save/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$fieldmangler&gt;\n&lt;$button tooltip={{$:/language/Buttons/Save/Hint}} aria-label={{$:/language/Buttons/Save/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$action-sendmessage $message=\&quot;tm-add-tag\&quot; $param={{$:/temp/NewTagName}}/&gt;\n&lt;$action-deletetiddler $tiddler=\&quot;$:/temp/NewTagName\&quot;/&gt;\n&lt;$action-sendmessage $message=\&quot;tm-add-field\&quot; $name={{$:/temp/newfieldname}} $value={{$:/temp/newfieldvalue}}/&gt;\n&lt;$action-deletetiddler $tiddler=\&quot;$:/temp/newfieldname\&quot;/&gt;\n&lt;$action-deletetiddler $tiddler=\&quot;$:/temp/newfieldvalue\&quot;/&gt;\n&lt;$action-sendmessage $message=\&quot;tm-save-tiddler\&quot;/&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/done-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Save/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/$fieldmangler&gt;\n&quot;
        },
        &quot;$:/core/Filters/AllTags&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/AllTags&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[tags[]!is[system]sort[title]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/AllTags}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/Filters/AllTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/AllTiddlers&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[!is[system]sort[title]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/AllTiddlers}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/Filters/Drafts&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/Drafts&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[has[draft.of]sort[title]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/Drafts}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/Filters/Missing&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/Missing&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[all[missing]sort[title]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/Missing}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/Filters/Orphans&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/Orphans&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[all[orphans]sort[title]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/Orphans}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/Filters/OverriddenShadowTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/OverriddenShadowTiddlers&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[is[shadow]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/OverriddenShadowTiddlers}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/Filters/RecentSystemTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/RecentSystemTiddlers&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[has[modified]!sort[modified]limit[50]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/RecentSystemTiddlers}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/Filters/RecentTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/RecentTiddlers&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[!is[system]has[modified]!sort[modified]limit[50]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/RecentTiddlers}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/Filters/ShadowTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/ShadowTiddlers&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[all[shadows]sort[title]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/ShadowTiddlers}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/Filters/SystemTags&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/SystemTags&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[all[shadows+tiddlers]tags[]is[system]sort[title]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/SystemTags}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/Filters/SystemTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/SystemTiddlers&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[is[system]sort[title]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/SystemTiddlers}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/Filters/TypedTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/core/Filters/TypedTiddlers&quot;,
            &quot;tags&quot;: &quot;$:/tags/Filter&quot;,
            &quot;filter&quot;: &quot;[!is[system]has[type]each[type]sort[type]] -[type[text/vnd.tiddlywiki]]&quot;,
            &quot;description&quot;: &quot;{{$:/language/Filters/TypedTiddlers}}&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/core/ui/ImportListing&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ImportListing&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/Import/\n\\define messageField()\nmessage-$(payloadTiddler)$\n\\end\n\\define selectionField()\nselection-$(payloadTiddler)$\n\\end\n\\define previewPopupState()\n$(currentTiddler)$!!popup-$(payloadTiddler)$\n\\end\n&lt;table&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;th&gt;\n&lt;&lt;lingo Listing/Select/Caption&gt;&gt;\n&lt;/th&gt;\n&lt;th&gt;\n&lt;&lt;lingo Listing/Title/Caption&gt;&gt;\n&lt;/th&gt;\n&lt;th&gt;\n&lt;&lt;lingo Listing/Status/Caption&gt;&gt;\n&lt;/th&gt;\n&lt;/tr&gt;\n&lt;$list filter=\&quot;[all[current]plugintiddlers[]sort[title]]\&quot; variable=\&quot;payloadTiddler\&quot;&gt;\n&lt;tr&gt;\n&lt;td&gt;\n&lt;$checkbox field=&lt;&lt;selectionField&gt;&gt; checked=\&quot;checked\&quot; unchecked=\&quot;unchecked\&quot; default=\&quot;checked\&quot;/&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;previewPopupState&gt;&gt; text=\&quot;yes\&quot;&gt;\n&lt;$button class=\&quot;tc-btn-invisible tc-btn-dropdown\&quot; set=&lt;&lt;previewPopupState&gt;&gt; setTo=\&quot;yes\&quot;&gt;\n{{$:/core/images/right-arrow}}&amp;nbsp;&lt;$text text=&lt;&lt;payloadTiddler&gt;&gt;/&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;previewPopupState&gt;&gt; text=\&quot;yes\&quot;&gt;\n&lt;$button class=\&quot;tc-btn-invisible tc-btn-dropdown\&quot; set=&lt;&lt;previewPopupState&gt;&gt; setTo=\&quot;no\&quot;&gt;\n{{$:/core/images/down-arrow}}&amp;nbsp;&lt;$text text=&lt;&lt;payloadTiddler&gt;&gt;/&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;$view field=&lt;&lt;messageField&gt;&gt;/&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td colspan=\&quot;3\&quot;&gt;\n&lt;$reveal type=\&quot;match\&quot; text=\&quot;yes\&quot; state=&lt;&lt;previewPopupState&gt;&gt;&gt;\n&lt;$transclude subtiddler=&lt;&lt;payloadTiddler&gt;&gt; mode=\&quot;block\&quot;/&gt;\n&lt;/$reveal&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/$list&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&quot;
        },
        &quot;$:/core/ui/ListItemTemplate&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ListItemTemplate&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-menu-list-item\&quot;&gt;\n&lt;$link to={{!!title}}&gt;\n&lt;$view field=\&quot;title\&quot;/&gt;\n&lt;/$link&gt;\n&lt;/div&gt;&quot;
        },
        &quot;$:/core/ui/MissingTemplate&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/MissingTemplate&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-tiddler-missing\&quot;&gt;\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/missing\&quot;&gt;&gt; class=\&quot;tc-btn-invisible tc-missing-tiddler-label\&quot;&gt;\n&lt;$view field=\&quot;title\&quot; format=\&quot;text\&quot; /&gt;\n&lt;/$button&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/missing\&quot;&gt;&gt; type=\&quot;popup\&quot; position=\&quot;below\&quot; animate=\&quot;yes\&quot;&gt;\n&lt;div class=\&quot;tc-drop-down\&quot;&gt;\n&lt;$transclude tiddler=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&lt;hr&gt;\n&lt;$list filter=\&quot;[all[current]backlinks[]sort[title]]\&quot; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/MoreSideBar/All&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/MoreSideBar/All&quot;,
            &quot;tags&quot;: &quot;$:/tags/MoreSideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/All/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$list filter={{$:/core/Filters/AllTiddlers!!filter}} template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&quot;
        },
        &quot;$:/core/ui/MoreSideBar/Drafts&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/MoreSideBar/Drafts&quot;,
            &quot;tags&quot;: &quot;$:/tags/MoreSideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/Drafts/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$list filter={{$:/core/Filters/Drafts!!filter}} template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&quot;
        },
        &quot;$:/core/ui/MoreSideBar/Missing&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/MoreSideBar/Missing&quot;,
            &quot;tags&quot;: &quot;$:/tags/MoreSideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/Missing/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$list filter={{$:/core/Filters/Missing!!filter}} template=\&quot;$:/core/ui/MissingTemplate\&quot;/&gt;\n&quot;
        },
        &quot;$:/core/ui/MoreSideBar/Orphans&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/MoreSideBar/Orphans&quot;,
            &quot;tags&quot;: &quot;$:/tags/MoreSideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/Orphans/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$list filter={{$:/core/Filters/Orphans!!filter}} template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&quot;
        },
        &quot;$:/core/ui/MoreSideBar/Recent&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/MoreSideBar/Recent&quot;,
            &quot;tags&quot;: &quot;$:/tags/MoreSideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/Recent/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$macrocall $name=\&quot;timeline\&quot; format={{$:/language/RecentChanges/DateFormat}}/&gt;\n&quot;
        },
        &quot;$:/core/ui/MoreSideBar/Shadows&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/MoreSideBar/Shadows&quot;,
            &quot;tags&quot;: &quot;$:/tags/MoreSideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/Shadows/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$list filter={{$:/core/Filters/ShadowTiddlers!!filter}} template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&quot;
        },
        &quot;$:/core/ui/MoreSideBar/System&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/MoreSideBar/System&quot;,
            &quot;tags&quot;: &quot;$:/tags/MoreSideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/System/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$list filter={{$:/core/Filters/SystemTiddlers!!filter}} template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&quot;
        },
        &quot;$:/core/ui/MoreSideBar/Tags&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/MoreSideBar/Tags&quot;,
            &quot;tags&quot;: &quot;$:/tags/MoreSideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/Tags/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$set name=\&quot;tv-config-toolbar-icons\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-text\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-class\&quot; value=\&quot;\&quot;&gt;\n\n{{$:/core/ui/Buttons/tag-manager}}\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;$list filter={{$:/core/Filters/AllTags!!filter}}&gt;\n\n&lt;$transclude tiddler=\&quot;$:/core/ui/TagTemplate\&quot;/&gt;\n\n&lt;/$list&gt;\n\n&lt;hr class=\&quot;tc-untagged-separator\&quot;&gt;\n\n{{$:/core/ui/UntaggedTemplate}}\n&quot;
        },
        &quot;$:/core/ui/MoreSideBar/Types&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/MoreSideBar/Types&quot;,
            &quot;tags&quot;: &quot;$:/tags/MoreSideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/Types/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$list filter={{$:/core/Filters/TypedTiddlers!!filter}}&gt;\n&lt;div class=\&quot;tc-menu-list-item\&quot;&gt;\n&lt;$view field=\&quot;type\&quot;/&gt;\n&lt;$list filter=\&quot;[type{!!type}!is[system]sort[title]]\&quot;&gt;\n&lt;div class=\&quot;tc-menu-list-subitem\&quot;&gt;\n&lt;$link to={{!!title}}&gt;&lt;$view field=\&quot;title\&quot;/&gt;&lt;/$link&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/Buttons/advanced-search&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/advanced-search&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/advanced-search-button}} {{$:/language/Buttons/AdvancedSearch/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/AdvancedSearch/Hint}}&quot;,
            &quot;text&quot;: &quot;\\define control-panel-button(class)\n&lt;$button to=\&quot;$:/AdvancedSearch\&quot; tooltip={{$:/language/Buttons/AdvancedSearch/Hint}} aria-label={{$:/language/Buttons/AdvancedSearch/Caption}} class=\&quot;\&quot;\&quot;$(tv-config-toolbar-class)$ $class$\&quot;\&quot;\&quot;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/advanced-search-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/AdvancedSearch/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n\\end\n\n&lt;$list filter=\&quot;[list[$:/StoryList]] +[field:title[$:/AdvancedSearch]]\&quot; emptyMessage=&lt;&lt;control-panel-button&gt;&gt;&gt;\n&lt;&lt;control-panel-button \&quot;tc-selected\&quot;&gt;&gt;\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/Buttons/close-all&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/close-all&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/close-all-button}} {{$:/language/Buttons/CloseAll/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/CloseAll/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-close-all-tiddlers\&quot; tooltip={{$:/language/Buttons/CloseAll/Hint}} aria-label={{$:/language/Buttons/CloseAll/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/close-all-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/CloseAll/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/control-panel&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/control-panel&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/options-button}} {{$:/language/Buttons/ControlPanel/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/ControlPanel/Hint}}&quot;,
            &quot;text&quot;: &quot;\\define control-panel-button(class)\n&lt;$button to=\&quot;$:/ControlPanel\&quot; tooltip={{$:/language/Buttons/ControlPanel/Hint}} aria-label={{$:/language/Buttons/ControlPanel/Caption}} class=\&quot;\&quot;\&quot;$(tv-config-toolbar-class)$ $class$\&quot;\&quot;\&quot;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/options-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/ControlPanel/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n\\end\n\n&lt;$list filter=\&quot;[list[$:/StoryList]] +[field:title[$:/ControlPanel]]\&quot; emptyMessage=&lt;&lt;control-panel-button&gt;&gt;&gt;\n&lt;&lt;control-panel-button \&quot;tc-selected\&quot;&gt;&gt;\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/Buttons/encryption&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/encryption&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/locked-padlock}} {{$:/language/Buttons/Encryption/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Encryption/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$reveal type=\&quot;match\&quot; state=\&quot;$:/isEncrypted\&quot; text=\&quot;yes\&quot;&gt;\n&lt;$button message=\&quot;tm-clear-password\&quot; tooltip={{$:/language/Buttons/Encryption/ClearPassword/Hint}} aria-label={{$:/language/Buttons/Encryption/ClearPassword/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/locked-padlock}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Encryption/ClearPassword/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=\&quot;$:/isEncrypted\&quot; text=\&quot;yes\&quot;&gt;\n&lt;$button message=\&quot;tm-set-password\&quot; tooltip={{$:/language/Buttons/Encryption/SetPassword/Hint}} aria-label={{$:/language/Buttons/Encryption/SetPassword/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/unlocked-padlock}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Encryption/SetPassword/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/export-page&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/export-page&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/export-button}} {{$:/language/Buttons/ExportPage/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/ExportPage/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$macrocall $name=\&quot;exportButton\&quot; exportFilter=\&quot;[!is[system]sort[title]]\&quot; lingoBase=\&quot;$:/language/Buttons/ExportPage/\&quot;/&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/fold-all&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/fold-all&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/fold-all-button}} {{$:/language/Buttons/FoldAll/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/FoldAll/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button tooltip={{$:/language/Buttons/FoldAll/Hint}} aria-label={{$:/language/Buttons/FoldAll/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$action-sendmessage $message=\&quot;tm-fold-all-tiddlers\&quot; $param=&lt;&lt;currentTiddler&gt;&gt; foldedStatePrefix=\&quot;$:/state/folded/\&quot;/&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot; variable=\&quot;listItem\&quot;&gt;\n{{$:/core/images/fold-all-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/FoldAll/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/full-screen&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/full-screen&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/full-screen-button}} {{$:/language/Buttons/FullScreen/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/FullScreen/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-full-screen\&quot; tooltip={{$:/language/Buttons/FullScreen/Hint}} aria-label={{$:/language/Buttons/FullScreen/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/full-screen-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/FullScreen/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/home&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/home&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/home-button}} {{$:/language/Buttons/Home/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Home/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-home\&quot; tooltip={{$:/language/Buttons/Home/Hint}} aria-label={{$:/language/Buttons/Home/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/home-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Home/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/import&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/import&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/import-button}} {{$:/language/Buttons/Import/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Import/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-file-input-wrapper\&quot;&gt;\n&lt;$button tooltip={{$:/language/Buttons/Import/Hint}} aria-label={{$:/language/Buttons/Import/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/import-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Import/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;$browse tooltip={{$:/language/Buttons/Import/Hint}}/&gt;\n&lt;/div&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/language&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/language&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/globe}} {{$:/language/Buttons/Language/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Language/Hint}}&quot;,
            &quot;text&quot;: &quot;\\define flag-title()\n$(languagePluginTitle)$/icon\n\\end\n&lt;span class=\&quot;tc-popup-keep\&quot;&gt;\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/language\&quot;&gt;&gt; tooltip={{$:/language/Buttons/Language/Hint}} aria-label={{$:/language/Buttons/Language/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\&quot;tc-selected\&quot;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-image-button\&quot;&gt;\n&lt;$set name=\&quot;languagePluginTitle\&quot; value={{$:/language}}&gt;\n&lt;$image source=&lt;&lt;flag-title&gt;&gt;/&gt;\n&lt;/$set&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Language/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/span&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/language\&quot;&gt;&gt; type=\&quot;popup\&quot; position=\&quot;below\&quot; animate=\&quot;yes\&quot;&gt;\n&lt;div class=\&quot;tc-drop-down tc-drop-down-language-chooser\&quot;&gt;\n&lt;$linkcatcher to=\&quot;$:/language\&quot;&gt;\n&lt;$list filter=\&quot;[[$:/languages/en-GB]] [plugin-type[language]sort[description]]\&quot;&gt;\n&lt;$link&gt;\n&lt;span class=\&quot;tc-drop-down-bullet\&quot;&gt;\n&lt;$reveal type=\&quot;match\&quot; state=\&quot;$:/language\&quot; text=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&amp;bull;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=\&quot;$:/language\&quot; text=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&amp;nbsp;\n&lt;/$reveal&gt;\n&lt;/span&gt;\n&lt;span class=\&quot;tc-image-button\&quot;&gt;\n&lt;$set name=\&quot;languagePluginTitle\&quot; value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;$transclude subtiddler=&lt;&lt;flag-title&gt;&gt;&gt;\n&lt;$list filter=\&quot;[all[current]field:title[$:/languages/en-GB]]\&quot;&gt;\n&lt;$transclude tiddler=\&quot;$:/languages/en-GB/icon\&quot;/&gt;\n&lt;/$list&gt;\n&lt;/$transclude&gt;\n&lt;/$set&gt;\n&lt;/span&gt;\n&lt;$view field=\&quot;description\&quot;&gt;\n&lt;$view field=\&quot;name\&quot;&gt;\n&lt;$view field=\&quot;title\&quot;/&gt;\n&lt;/$view&gt;\n&lt;/$view&gt;\n&lt;/$link&gt;\n&lt;/$list&gt;\n&lt;/$linkcatcher&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/more-page-actions&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/more-page-actions&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/down-arrow}} {{$:/language/Buttons/More/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/More/Hint}}&quot;,
            &quot;text&quot;: &quot;\\define config-title()\n$:/config/PageControlButtons/Visibility/$(listItem)$\n\\end\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/more\&quot;&gt;&gt; tooltip={{$:/language/Buttons/More/Hint}} aria-label={{$:/language/Buttons/More/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\&quot;tc-selected\&quot;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/down-arrow}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/More/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/more\&quot;&gt;&gt; type=\&quot;popup\&quot; position=\&quot;below\&quot; animate=\&quot;yes\&quot;&gt;\n\n&lt;div class=\&quot;tc-drop-down\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-icons\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-text\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-class\&quot; value=\&quot;tc-btn-invisible\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/PageControls]!has[draft.of]] -[[$:/core/ui/Buttons/more-page-actions]]\&quot; variable=\&quot;listItem\&quot;&gt;\n\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;config-title&gt;&gt; text=\&quot;hide\&quot;&gt;\n\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; mode=\&quot;inline\&quot;/&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/$list&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/div&gt;\n\n&lt;/$reveal&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/new-journal&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/new-journal&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/new-journal-button}} {{$:/language/Buttons/NewJournal/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/NewJournal/Hint}}&quot;,
            &quot;text&quot;: &quot;\\define journalButton()\n&lt;$button tooltip={{$:/language/Buttons/NewJournal/Hint}} aria-label={{$:/language/Buttons/NewJournal/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$action-sendmessage $message=\&quot;tm-new-tiddler\&quot; title=&lt;&lt;now \&quot;$(journalTitleTemplate)$\&quot;&gt;&gt; tags=\&quot;$(journalTags)$\&quot;/&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/new-journal-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/NewJournal/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n\\end\n&lt;$set name=\&quot;journalTitleTemplate\&quot; value={{$:/config/NewJournal/Title}}&gt;\n&lt;$set name=\&quot;journalTags\&quot; value={{$:/config/NewJournal/Tags}}&gt;\n&lt;&lt;journalButton&gt;&gt;\n&lt;/$set&gt;&lt;/$set&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/new-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/new-tiddler&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/new-button}} {{$:/language/Buttons/NewTiddler/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/NewTiddler/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-new-tiddler\&quot; tooltip={{$:/language/Buttons/NewTiddler/Hint}} aria-label={{$:/language/Buttons/NewTiddler/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/new-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/NewTiddler/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/palette&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/palette&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/palette}} {{$:/language/Buttons/Palette/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Palette/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;span class=\&quot;tc-popup-keep\&quot;&gt;\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/palette\&quot;&gt;&gt; tooltip={{$:/language/Buttons/Palette/Hint}} aria-label={{$:/language/Buttons/Palette/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\&quot;tc-selected\&quot;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/palette}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Palette/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/span&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/palette\&quot;&gt;&gt; type=\&quot;popup\&quot; position=\&quot;below\&quot; animate=\&quot;yes\&quot;&gt;\n&lt;div class=\&quot;tc-drop-down\&quot; style=\&quot;font-size:0.7em;\&quot;&gt;\n{{$:/snippets/paletteswitcher}}\n&lt;/div&gt;\n&lt;/$reveal&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/refresh&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/refresh&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/refresh-button}} {{$:/language/Buttons/Refresh/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Refresh/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-browser-refresh\&quot; tooltip={{$:/language/Buttons/Refresh/Hint}} aria-label={{$:/language/Buttons/Refresh/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/refresh-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Refresh/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/save-wiki&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/save-wiki&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/save-button}} {{$:/language/Buttons/SaveWiki/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/SaveWiki/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-save-wiki\&quot; param={{$:/config/SaveWikiButton/Template}} tooltip={{$:/language/Buttons/SaveWiki/Hint}} aria-label={{$:/language/Buttons/SaveWiki/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;span class=\&quot;tc-dirty-indicator\&quot;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/save-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/SaveWiki/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/span&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/storyview&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/storyview&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/storyview-classic}} {{$:/language/Buttons/StoryView/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/StoryView/Hint}}&quot;,
            &quot;text&quot;: &quot;\\define icon()\n$:/core/images/storyview-$(storyview)$\n\\end\n&lt;span class=\&quot;tc-popup-keep\&quot;&gt;\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/storyview\&quot;&gt;&gt; tooltip={{$:/language/Buttons/StoryView/Hint}} aria-label={{$:/language/Buttons/StoryView/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\&quot;tc-selected\&quot;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n&lt;$set name=\&quot;storyview\&quot; value={{$:/view}}&gt;\n&lt;$transclude tiddler=&lt;&lt;icon&gt;&gt;/&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/StoryView/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/span&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/storyview\&quot;&gt;&gt; type=\&quot;popup\&quot; position=\&quot;below\&quot; animate=\&quot;yes\&quot;&gt;\n&lt;div class=\&quot;tc-drop-down\&quot;&gt;\n&lt;$linkcatcher to=\&quot;$:/view\&quot;&gt;\n&lt;$list filter=\&quot;[storyviews[]]\&quot; variable=\&quot;storyview\&quot;&gt;\n&lt;$link to=&lt;&lt;storyview&gt;&gt;&gt;\n&lt;span class=\&quot;tc-drop-down-bullet\&quot;&gt;\n&lt;$reveal type=\&quot;match\&quot; state=\&quot;$:/view\&quot; text=&lt;&lt;storyview&gt;&gt;&gt;\n&amp;bull;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=\&quot;$:/view\&quot; text=&lt;&lt;storyview&gt;&gt;&gt;\n&amp;nbsp;\n&lt;/$reveal&gt;\n&lt;/span&gt;\n&lt;$transclude tiddler=&lt;&lt;icon&gt;&gt;/&gt;\n&lt;$text text=&lt;&lt;storyview&gt;&gt;/&gt;&lt;/$link&gt;\n&lt;/$list&gt;\n&lt;/$linkcatcher&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/tag-manager&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/tag-manager&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/tag-button}} {{$:/language/Buttons/TagManager/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/TagManager/Hint}}&quot;,
            &quot;text&quot;: &quot;\\define control-panel-button(class)\n&lt;$button to=\&quot;$:/TagManager\&quot; tooltip={{$:/language/Buttons/TagManager/Hint}} aria-label={{$:/language/Buttons/TagManager/Caption}} class=\&quot;\&quot;\&quot;$(tv-config-toolbar-class)$ $class$\&quot;\&quot;\&quot;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/tag-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/TagManager/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n\\end\n\n&lt;$list filter=\&quot;[list[$:/StoryList]] +[field:title[$:/TagManager]]\&quot; emptyMessage=&lt;&lt;control-panel-button&gt;&gt;&gt;\n&lt;&lt;control-panel-button \&quot;tc-selected\&quot;&gt;&gt;\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/Buttons/theme&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/theme&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/theme-button}} {{$:/language/Buttons/Theme/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Theme/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;span class=\&quot;tc-popup-keep\&quot;&gt;\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/theme\&quot;&gt;&gt; tooltip={{$:/language/Buttons/Theme/Hint}} aria-label={{$:/language/Buttons/Theme/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\&quot;tc-selected\&quot;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/theme-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Theme/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/span&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/theme\&quot;&gt;&gt; type=\&quot;popup\&quot; position=\&quot;below\&quot; animate=\&quot;yes\&quot;&gt;\n&lt;div class=\&quot;tc-drop-down\&quot;&gt;\n&lt;$linkcatcher to=\&quot;$:/theme\&quot;&gt;\n&lt;$list filter=\&quot;[plugin-type[theme]sort[title]]\&quot; variable=\&quot;themeTitle\&quot;&gt;\n&lt;$link to=&lt;&lt;themeTitle&gt;&gt;&gt;\n&lt;span class=\&quot;tc-drop-down-bullet\&quot;&gt;\n&lt;$reveal type=\&quot;match\&quot; state=\&quot;$:/theme\&quot; text=&lt;&lt;themeTitle&gt;&gt;&gt;\n&amp;bull;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=\&quot;$:/theme\&quot; text=&lt;&lt;themeTitle&gt;&gt;&gt;\n&amp;nbsp;\n&lt;/$reveal&gt;\n&lt;/span&gt;\n&lt;$view tiddler=&lt;&lt;themeTitle&gt;&gt; field=\&quot;name\&quot;/&gt;\n&lt;/$link&gt;\n&lt;/$list&gt;\n&lt;/$linkcatcher&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/unfold-all&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/unfold-all&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/unfold-all-button}} {{$:/language/Buttons/UnfoldAll/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/UnfoldAll/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button tooltip={{$:/language/Buttons/UnfoldAll/Hint}} aria-label={{$:/language/Buttons/UnfoldAll/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$action-sendmessage $message=\&quot;tm-unfold-all-tiddlers\&quot; $param=&lt;&lt;currentTiddler&gt;&gt; foldedStatePrefix=\&quot;$:/state/folded/\&quot;/&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot; variable=\&quot;listItem\&quot;&gt;\n{{$:/core/images/unfold-all-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/UnfoldAll/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/PageTemplate/pagecontrols&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/PageTemplate/pagecontrols&quot;,
            &quot;text&quot;: &quot;\\define config-title()\n$:/config/PageControlButtons/Visibility/$(listItem)$\n\\end\n&lt;div class=\&quot;tc-page-controls\&quot;&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/PageControls]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;config-title&gt;&gt; text=\&quot;hide\&quot;&gt;\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; mode=\&quot;inline\&quot;/&gt;\n&lt;/$reveal&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n\n&quot;
        },
        &quot;$:/core/ui/PageStylesheet&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/PageStylesheet&quot;,
            &quot;text&quot;: &quot;&lt;$importvariables filter=\&quot;[[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\&quot;&gt;\n\n&lt;$set name=\&quot;currentTiddler\&quot; value={{$:/language}}&gt;\n\n&lt;$set name=\&quot;languageTitle\&quot; value={{!!name}}&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/Stylesheet]!has[draft.of]]\&quot;&gt;\n&lt;$transclude mode=\&quot;block\&quot;/&gt;\n&lt;/$list&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$importvariables&gt;\n&quot;
        },
        &quot;$:/core/ui/PageTemplate/alerts&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/PageTemplate/alerts&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageTemplate&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-alerts\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/Alert]!has[draft.of]]\&quot; template=\&quot;$:/core/ui/AlertTemplate\&quot; storyview=\&quot;pop\&quot;/&gt;\n\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/PageTemplate/pluginreloadwarning&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/PageTemplate/pluginreloadwarning&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageTemplate&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/\n\n&lt;$list filter=\&quot;[has[plugin-type]haschanged[]!plugin-type[import]limit[1]]\&quot;&gt;\n\n&lt;$reveal type=\&quot;nomatch\&quot; state=\&quot;$:/temp/HidePluginWarning\&quot; text=\&quot;yes\&quot;&gt;\n\n&lt;div class=\&quot;tc-plugin-reload-warning\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-class\&quot; value=\&quot;\&quot;&gt;\n\n&lt;&lt;lingo PluginReloadWarning&gt;&gt; &lt;$button set=\&quot;$:/temp/HidePluginWarning\&quot; setTo=\&quot;yes\&quot; class=\&quot;tc-btn-invisible\&quot;&gt;{{$:/core/images/close-button}}&lt;/$button&gt;\n\n&lt;/$set&gt;\n\n&lt;/div&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/PageTemplate/sidebar&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/PageTemplate/sidebar&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageTemplate&quot;,
            &quot;text&quot;: &quot;&lt;$scrollable fallthrough=\&quot;no\&quot; class=\&quot;tc-sidebar-scrollable\&quot;&gt;\n\n&lt;div class=\&quot;tc-sidebar-header\&quot;&gt;\n\n&lt;$reveal state=\&quot;$:/state/sidebar\&quot; type=\&quot;match\&quot; text=\&quot;yes\&quot; default=\&quot;yes\&quot; retain=\&quot;yes\&quot; animate=\&quot;yes\&quot;&gt;\n\n&lt;h1 class=\&quot;tc-site-title\&quot;&gt;\n\n&lt;$transclude tiddler=\&quot;$:/SiteTitle\&quot; mode=\&quot;inline\&quot;/&gt;\n\n&lt;/h1&gt;\n\n&lt;div class=\&quot;tc-site-subtitle\&quot;&gt;\n\n&lt;$transclude tiddler=\&quot;$:/SiteSubtitle\&quot; mode=\&quot;inline\&quot;/&gt;\n\n&lt;/div&gt;\n\n{{||$:/core/ui/PageTemplate/pagecontrols}}\n\n&lt;$transclude tiddler=\&quot;$:/core/ui/SideBarLists\&quot; mode=\&quot;inline\&quot;/&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/div&gt;\n\n&lt;/$scrollable&gt;&quot;
        },
        &quot;$:/core/ui/PageTemplate/story&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/PageTemplate/story&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageTemplate&quot;,
            &quot;text&quot;: &quot;&lt;section class=\&quot;tc-story-river\&quot;&gt;\n\n&lt;section class=\&quot;story-backdrop\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/AboveStory]!has[draft.of]]\&quot;&gt;\n\n&lt;$transclude/&gt;\n\n&lt;/$list&gt;\n\n&lt;/section&gt;\n\n&lt;$list filter=\&quot;[list[$:/StoryList]]\&quot; history=\&quot;$:/HistoryList\&quot; template=\&quot;$:/core/ui/ViewTemplate\&quot; editTemplate=\&quot;$:/core/ui/EditTemplate\&quot; storyview={{$:/view}} emptyMessage={{$:/config/EmptyStoryMessage}}/&gt;\n\n&lt;section class=\&quot;story-frontdrop\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/BelowStory]!has[draft.of]]\&quot;&gt;\n\n&lt;$transclude/&gt;\n\n&lt;/$list&gt;\n\n&lt;/section&gt;\n\n&lt;/section&gt;\n&quot;
        },
        &quot;$:/core/ui/PageTemplate/topleftbar&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/PageTemplate/topleftbar&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageTemplate&quot;,
            &quot;text&quot;: &quot;&lt;span class=\&quot;tc-topbar tc-topbar-left\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/TopLeftBar]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;\n\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; mode=\&quot;inline\&quot;/&gt;\n\n&lt;/$list&gt;\n\n&lt;/span&gt;\n&quot;
        },
        &quot;$:/core/ui/PageTemplate/toprightbar&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/PageTemplate/toprightbar&quot;,
            &quot;tags&quot;: &quot;$:/tags/PageTemplate&quot;,
            &quot;text&quot;: &quot;&lt;span class=\&quot;tc-topbar tc-topbar-right\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/TopRightBar]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;\n\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; mode=\&quot;inline\&quot;/&gt;\n\n&lt;/$list&gt;\n\n&lt;/span&gt;\n&quot;
        },
        &quot;$:/core/ui/PageTemplate&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/PageTemplate&quot;,
            &quot;text&quot;: &quot;\\define containerClasses()\ntc-page-container tc-page-view-$(themeTitle)$ tc-language-$(languageTitle)$\n\\end\n\n&lt;$importvariables filter=\&quot;[[$:/core/ui/PageMacros]] [all[shadows+tiddlers]tag[$:/tags/Macro]!has[draft.of]]\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-icons\&quot; value={{$:/config/Toolbar/Icons}}&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-text\&quot; value={{$:/config/Toolbar/Text}}&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-class\&quot; value={{$:/config/Toolbar/ButtonClass}}&gt;\n\n&lt;$set name=\&quot;themeTitle\&quot; value={{$:/view}}&gt;\n\n&lt;$set name=\&quot;currentTiddler\&quot; value={{$:/language}}&gt;\n\n&lt;$set name=\&quot;languageTitle\&quot; value={{!!name}}&gt;\n\n&lt;$set name=\&quot;currentTiddler\&quot; value=\&quot;\&quot;&gt;\n\n&lt;div class=&lt;&lt;containerClasses&gt;&gt;&gt;\n\n&lt;$navigator story=\&quot;$:/StoryList\&quot; history=\&quot;$:/HistoryList\&quot; openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromOutsideRiver}}&gt;\n\n&lt;$dropzone&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/PageTemplate]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;\n\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;\n\n&lt;/$list&gt;\n\n&lt;/$dropzone&gt;\n\n&lt;/$navigator&gt;\n\n&lt;/div&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$importvariables&gt;\n&quot;
        },
        &quot;$:/core/ui/PluginInfo&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/PluginInfo&quot;,
            &quot;text&quot;: &quot;\\define localised-info-tiddler-title()\n$(currentTiddler)$/$(languageTitle)$/$(currentTab)$\n\\end\n\\define info-tiddler-title()\n$(currentTiddler)$/$(currentTab)$\n\\end\n&lt;$transclude tiddler=&lt;&lt;localised-info-tiddler-title&gt;&gt; mode=\&quot;block\&quot;&gt;\n&lt;$transclude tiddler=&lt;&lt;currentTiddler&gt;&gt; subtiddler=&lt;&lt;localised-info-tiddler-title&gt;&gt; mode=\&quot;block\&quot;&gt;\n&lt;$transclude tiddler=&lt;&lt;currentTiddler&gt;&gt; subtiddler=&lt;&lt;info-tiddler-title&gt;&gt; mode=\&quot;block\&quot;&gt;\nNo ''\&quot;&lt;$text text=&lt;&lt;currentTab&gt;&gt;/&gt;\&quot;'' found\n&lt;/$transclude&gt;\n&lt;/$transclude&gt;\n&lt;/$transclude&gt;\n&quot;
        },
        &quot;$:/core/ui/SearchResults&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/SearchResults&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-search-results\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/SearchResults]!has[draft.of]butfirst[]limit[1]]\&quot; emptyMessage=\&quot;\&quot;\&quot;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/SearchResults]!has[draft.of]]\&quot;&gt;\n&lt;$transclude mode=\&quot;block\&quot;/&gt;\n&lt;/$list&gt;\n\&quot;\&quot;\&quot;&gt;\n\n&lt;$macrocall $name=\&quot;tabs\&quot; tabsList=\&quot;[all[shadows+tiddlers]tag[$:/tags/SearchResults]!has[draft.of]]\&quot; default={{$:/config/SearchResults/Default}}/&gt;\n\n&lt;/$list&gt;\n\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/SideBar/More&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/SideBar/More&quot;,
            &quot;tags&quot;: &quot;$:/tags/SideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/More/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-more-sidebar\&quot;&gt;\n&lt;&lt;tabs \&quot;[all[shadows+tiddlers]tag[$:/tags/MoreSideBar]!has[draft.of]]\&quot; \&quot;$:/core/ui/MoreSideBar/Tags\&quot; \&quot;$:/state/tab/moresidebar\&quot; \&quot;tc-vertical\&quot;&gt;&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/core/ui/SideBar/Open&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/SideBar/Open&quot;,
            &quot;tags&quot;: &quot;$:/tags/SideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/Open/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/CloseAll/\n&lt;$list filter=\&quot;[list[$:/StoryList]]\&quot; history=\&quot;$:/HistoryList\&quot; storyview=\&quot;pop\&quot;&gt;\n\n&lt;$button message=\&quot;tm-close-tiddler\&quot; tooltip={{$:/language/Buttons/Close/Hint}} aria-label={{$:/language/Buttons/Close/Caption}} class=\&quot;tc-btn-invisible tc-btn-mini\&quot;&gt;&amp;times;&lt;/$button&gt; &lt;$link to={{!!title}}&gt;&lt;$view field=\&quot;title\&quot;/&gt;&lt;/$link&gt;\n\n&lt;/$list&gt;\n\n&lt;$button message=\&quot;tm-close-all-tiddlers\&quot; class=\&quot;tc-btn-invisible tc-btn-mini\&quot;&gt;&lt;&lt;lingo Button&gt;&gt;&lt;/$button&gt;\n&quot;
        },
        &quot;$:/core/ui/SideBar/Recent&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/SideBar/Recent&quot;,
            &quot;tags&quot;: &quot;$:/tags/SideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/Recent/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$macrocall $name=\&quot;timeline\&quot; format={{$:/language/RecentChanges/DateFormat}}/&gt;\n&quot;
        },
        &quot;$:/core/ui/SideBar/Tools&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/SideBar/Tools&quot;,
            &quot;tags&quot;: &quot;$:/tags/SideBar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/SideBar/Tools/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/\n\\define config-title()\n$:/config/PageControlButtons/Visibility/$(listItem)$\n\\end\n\n&lt;&lt;lingo Basics/Version/Prompt&gt;&gt; &lt;&lt;version&gt;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-icons\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-text\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-class\&quot; value=\&quot;\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/PageControls]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;\n\n&lt;div style=\&quot;position:relative;\&quot;&gt;\n\n&lt;$checkbox tiddler=&lt;&lt;config-title&gt;&gt; field=\&quot;text\&quot; checked=\&quot;show\&quot; unchecked=\&quot;hide\&quot; default=\&quot;show\&quot;/&gt; &lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt; &lt;i class=\&quot;tc-muted\&quot;&gt;&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; field=\&quot;description\&quot;/&gt;&lt;/i&gt;\n\n&lt;/div&gt;\n\n&lt;/$list&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n&quot;
        },
        &quot;$:/core/ui/SideBarLists&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/SideBarLists&quot;,
            &quot;text&quot;: &quot;&lt;div class=\&quot;tc-sidebar-lists\&quot;&gt;\n\n&lt;$set name=\&quot;searchTiddler\&quot; value=\&quot;$:/temp/search\&quot;&gt;\n&lt;div class=\&quot;tc-search\&quot;&gt;\n&lt;$edit-text tiddler=\&quot;$:/temp/search\&quot; type=\&quot;search\&quot; tag=\&quot;input\&quot; focus={{$:/config/Search/AutoFocus}} focusPopup=&lt;&lt;qualify \&quot;$:/state/popup/search-dropdown\&quot;&gt;&gt; class=\&quot;tc-popup-handle\&quot;/&gt;\n&lt;$reveal state=\&quot;$:/temp/search\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n&lt;$button tooltip={{$:/language/Buttons/AdvancedSearch/Hint}} aria-label={{$:/language/Buttons/AdvancedSearch/Caption}} class=\&quot;tc-btn-invisible\&quot;&gt;\n&lt;$action-setfield $tiddler=\&quot;$:/temp/advancedsearch\&quot; text={{$:/temp/search}}/&gt;\n&lt;$action-setfield $tiddler=\&quot;$:/temp/search\&quot; text=\&quot;\&quot;/&gt;\n&lt;$action-navigate $to=\&quot;$:/AdvancedSearch\&quot;/&gt;\n{{$:/core/images/advanced-search-button}}\n&lt;/$button&gt;\n&lt;$button class=\&quot;tc-btn-invisible\&quot;&gt;\n&lt;$action-setfield $tiddler=\&quot;$:/temp/search\&quot; text=\&quot;\&quot; /&gt;\n{{$:/core/images/close-button}}\n&lt;/$button&gt;\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/search-dropdown\&quot;&gt;&gt; class=\&quot;tc-btn-invisible\&quot;&gt;\n&lt;$set name=\&quot;resultCount\&quot; value=\&quot;\&quot;\&quot;&lt;$count filter=\&quot;[!is[system]search{$(searchTiddler)$}]\&quot;/&gt;\&quot;\&quot;\&quot;&gt;\n{{$:/core/images/down-arrow}} {{$:/language/Search/Matches}}\n&lt;/$set&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal state=\&quot;$:/temp/search\&quot; type=\&quot;match\&quot; text=\&quot;\&quot;&gt;\n&lt;$button to=\&quot;$:/AdvancedSearch\&quot; tooltip={{$:/language/Buttons/AdvancedSearch/Hint}} aria-label={{$:/language/Buttons/AdvancedSearch/Caption}} class=\&quot;tc-btn-invisible\&quot;&gt;\n{{$:/core/images/advanced-search-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\n&lt;$reveal tag=\&quot;div\&quot; class=\&quot;tc-block-dropdown-wrapper\&quot; state=\&quot;$:/temp/search\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n\n&lt;$reveal tag=\&quot;div\&quot; class=\&quot;tc-block-dropdown tc-search-drop-down tc-popup-handle\&quot; state=&lt;&lt;qualify \&quot;$:/state/popup/search-dropdown\&quot;&gt;&gt; type=\&quot;nomatch\&quot; text=\&quot;\&quot; default=\&quot;\&quot;&gt;\n\n{{$:/core/ui/SearchResults}}\n\n&lt;/$reveal&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/$set&gt;\n\n&lt;$macrocall $name=\&quot;tabs\&quot; tabsList=\&quot;[all[shadows+tiddlers]tag[$:/tags/SideBar]!has[draft.of]]\&quot; default={{$:/config/DefaultSidebarTab}} state=\&quot;$:/state/tab/sidebar\&quot; /&gt;\n\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/TagManager&quot;: {
            &quot;title&quot;: &quot;$:/TagManager&quot;,
            &quot;icon&quot;: &quot;$:/core/images/tag-button&quot;,
            &quot;color&quot;: &quot;#bbb&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/TagManager/\n\\define iconEditorTab(type)\n&lt;$list filter=\&quot;[all[shadows+tiddlers]is[image]] [all[shadows+tiddlers]tag[$:/tags/Image]] -[type[application/pdf]] +[sort[title]] +[$type$is[system]]\&quot;&gt;\n&lt;$link to={{!!title}}&gt;\n&lt;$transclude/&gt; &lt;$view field=\&quot;title\&quot;/&gt;\n&lt;/$link&gt;\n&lt;/$list&gt;\n\\end\n\\define iconEditor(title)\n&lt;div class=\&quot;tc-drop-down-wrapper\&quot;&gt;\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/icon/$title$\&quot;&gt;&gt; class=\&quot;tc-btn-invisible tc-btn-dropdown\&quot;&gt;{{$:/core/images/down-arrow}}&lt;/$button&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/icon/$title$\&quot;&gt;&gt; type=\&quot;popup\&quot; position=\&quot;belowleft\&quot; text=\&quot;\&quot; default=\&quot;\&quot;&gt;\n&lt;div class=\&quot;tc-drop-down\&quot;&gt;\n&lt;$linkcatcher to=\&quot;$title$!!icon\&quot;&gt;\n&lt;&lt;iconEditorTab type:\&quot;!\&quot;&gt;&gt;\n&lt;hr/&gt;\n&lt;&lt;iconEditorTab type:\&quot;\&quot;&gt;&gt;\n&lt;/$linkcatcher&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\\end\n\\define qualifyTitle(title)\n$title$$(currentTiddler)$\n\\end\n\\define toggleButton(state)\n&lt;$reveal state=\&quot;$state$\&quot; type=\&quot;match\&quot; text=\&quot;closed\&quot; default=\&quot;closed\&quot;&gt;\n&lt;$button set=\&quot;$state$\&quot; setTo=\&quot;open\&quot; class=\&quot;tc-btn-invisible tc-btn-dropdown\&quot; selectedClass=\&quot;tc-selected\&quot;&gt;\n{{$:/core/images/info-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal state=\&quot;$state$\&quot; type=\&quot;match\&quot; text=\&quot;open\&quot; default=\&quot;closed\&quot;&gt;\n&lt;$button set=\&quot;$state$\&quot; setTo=\&quot;closed\&quot; class=\&quot;tc-btn-invisible tc-btn-dropdown\&quot; selectedClass=\&quot;tc-selected\&quot;&gt;\n{{$:/core/images/info-button}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n\\end\n&lt;table class=\&quot;tc-tag-manager-table\&quot;&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;th&gt;&lt;&lt;lingo Colour/Heading&gt;&gt;&lt;/th&gt;\n&lt;th class=\&quot;tc-tag-manager-tag\&quot;&gt;&lt;&lt;lingo Tag/Heading&gt;&gt;&lt;/th&gt;\n&lt;th&gt;&lt;&lt;lingo Count/Heading&gt;&gt;&lt;/th&gt;\n&lt;th&gt;&lt;&lt;lingo Icon/Heading&gt;&gt;&lt;/th&gt;\n&lt;th&gt;&lt;&lt;lingo Info/Heading&gt;&gt;&lt;/th&gt;\n&lt;/tr&gt;\n&lt;$list filter=\&quot;[tags[]!is[system]sort[title]]\&quot;&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;$edit-text field=\&quot;color\&quot; tag=\&quot;input\&quot; type=\&quot;color\&quot;/&gt;&lt;/td&gt;\n&lt;td&gt;&lt;$transclude tiddler=\&quot;$:/core/ui/TagTemplate\&quot;/&gt;&lt;/td&gt;\n&lt;td&gt;&lt;$count filter=\&quot;[all[current]tagging[]]\&quot;/&gt;&lt;/td&gt;\n&lt;td&gt;\n&lt;$macrocall $name=\&quot;iconEditor\&quot; title={{!!title}}/&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;$macrocall $name=\&quot;toggleButton\&quot; state=&lt;&lt;qualifyTitle \&quot;$:/state/tag-manager/\&quot;&gt;&gt; /&gt; \n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;/td&gt;\n&lt;td colspan=\&quot;4\&quot;&gt;\n&lt;$reveal state=&lt;&lt;qualifyTitle \&quot;$:/state/tag-manager/\&quot;&gt;&gt; type=\&quot;match\&quot; text=\&quot;open\&quot; default=\&quot;\&quot;&gt;\n&lt;table&gt;\n&lt;tbody&gt;\n&lt;tr&gt;&lt;td&gt;&lt;&lt;lingo Colour/Heading&gt;&gt;&lt;/td&gt;&lt;td&gt;&lt;$edit-text field=\&quot;color\&quot; tag=\&quot;input\&quot; type=\&quot;text\&quot; size=\&quot;9\&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;&lt;&lt;lingo Icon/Heading&gt;&gt;&lt;/td&gt;&lt;td&gt;&lt;$edit-text field=\&quot;icon\&quot; tag=\&quot;input\&quot; size=\&quot;45\&quot;/&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/$reveal&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/$list&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;/td&gt;\n&lt;td&gt;\n{{$:/core/ui/UntaggedTemplate}}\n&lt;/td&gt;\n&lt;td&gt;\n&lt;small class=\&quot;tc-menu-list-count\&quot;&gt;&lt;$count filter=\&quot;[untagged[]!is[system]] -[tags[]]\&quot;/&gt;&lt;/small&gt;\n&lt;/td&gt;\n&lt;td&gt;&lt;/td&gt;\n&lt;td&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&quot;
        },
        &quot;$:/core/ui/TagTemplate&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TagTemplate&quot;,
            &quot;text&quot;: &quot;\\define tag-styles()\nbackground-color:$(backgroundColor)$;\nfill:$(foregroundColor)$;\ncolor:$(foregroundColor)$;\n\\end\n\n\\define tag-body-inner(colour,fallbackTarget,colourA,colourB)\n&lt;$set name=\&quot;foregroundColor\&quot; value=&lt;&lt;contrastcolour target:\&quot;\&quot;\&quot;$colour$\&quot;\&quot;\&quot; fallbackTarget:\&quot;\&quot;\&quot;$fallbackTarget$\&quot;\&quot;\&quot; colourA:\&quot;\&quot;\&quot;$colourA$\&quot;\&quot;\&quot; colourB:\&quot;\&quot;\&quot;$colourB$\&quot;\&quot;\&quot;&gt;&gt;&gt;\n&lt;$set name=\&quot;backgroundColor\&quot; value=\&quot;\&quot;\&quot;$colour$\&quot;\&quot;\&quot;&gt;\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/tag\&quot;&gt;&gt; class=\&quot;tc-btn-invisible tc-tag-label\&quot; style=&lt;&lt;tag-styles&gt;&gt;&gt;\n&lt;$transclude tiddler={{!!icon}}/&gt; &lt;$view field=\&quot;title\&quot; format=\&quot;text\&quot; /&gt;\n&lt;/$button&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/tag\&quot;&gt;&gt; type=\&quot;popup\&quot; position=\&quot;below\&quot; animate=\&quot;yes\&quot;&gt;&lt;div class=\&quot;tc-drop-down\&quot;&gt;&lt;$transclude tiddler=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&lt;hr&gt;\n&lt;$list filter=\&quot;[all[current]tagging[]]\&quot; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n\\end\n\n\\define tag-body(colour,palette)\n&lt;span class=\&quot;tc-tag-list-item\&quot;&gt;\n&lt;$macrocall $name=\&quot;tag-body-inner\&quot; colour=\&quot;\&quot;\&quot;$colour$\&quot;\&quot;\&quot; fallbackTarget={{$palette$##tag-background}} colourA={{$palette$##foreground}} colourB={{$palette$##background}}/&gt;\n&lt;/span&gt;\n\\end\n\n&lt;$macrocall $name=\&quot;tag-body\&quot; colour={{!!color}} palette={{$:/palette}}/&gt;&quot;
        },
        &quot;$:/core/ui/TiddlerFieldTemplate&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerFieldTemplate&quot;,
            &quot;text&quot;: &quot;&lt;tr class=\&quot;tc-view-field\&quot;&gt;\n&lt;td class=\&quot;tc-view-field-name\&quot;&gt;\n&lt;$text text=&lt;&lt;listItem&gt;&gt;/&gt;\n&lt;/td&gt;\n&lt;td class=\&quot;tc-view-field-value\&quot;&gt;\n&lt;$view field=&lt;&lt;listItem&gt;&gt;/&gt;\n&lt;/td&gt;\n&lt;/tr&gt;&quot;
        },
        &quot;$:/core/ui/TiddlerFields&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerFields&quot;,
            &quot;text&quot;: &quot;&lt;table class=\&quot;tc-view-field-table\&quot;&gt;\n&lt;tbody&gt;\n&lt;$list filter=\&quot;[all[current]fields[]sort[title]] -text\&quot; template=\&quot;$:/core/ui/TiddlerFieldTemplate\&quot; variable=\&quot;listItem\&quot;/&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&quot;
        },
        &quot;$:/core/ui/TiddlerInfo/Advanced/PluginInfo&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerInfo/Advanced/PluginInfo&quot;,
            &quot;tags&quot;: &quot;$:/tags/TiddlerInfo/Advanced&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/TiddlerInfo/Advanced/PluginInfo/\n&lt;$list filter=\&quot;[all[current]has[plugin-type]]\&quot;&gt;\n\n! &lt;&lt;lingo Heading&gt;&gt;\n\n&lt;&lt;lingo Hint&gt;&gt;\n&lt;ul&gt;\n&lt;$list filter=\&quot;[all[current]plugintiddlers[]sort[title]]\&quot; emptyMessage=&lt;&lt;lingo Empty/Hint&gt;&gt;&gt;\n&lt;li&gt;\n&lt;$link to={{!!title}}&gt;\n&lt;$view field=\&quot;title\&quot;/&gt;\n&lt;/$link&gt;\n&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/TiddlerInfo/Advanced/ShadowInfo&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerInfo/Advanced/ShadowInfo&quot;,
            &quot;tags&quot;: &quot;$:/tags/TiddlerInfo/Advanced&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/TiddlerInfo/Advanced/ShadowInfo/\n&lt;$set name=\&quot;infoTiddler\&quot; value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n\n''&lt;&lt;lingo Heading&gt;&gt;''\n\n&lt;$list filter=\&quot;[all[current]!is[shadow]]\&quot;&gt;\n\n&lt;&lt;lingo NotShadow/Hint&gt;&gt;\n\n&lt;/$list&gt;\n\n&lt;$list filter=\&quot;[all[current]is[shadow]]\&quot;&gt;\n\n&lt;&lt;lingo Shadow/Hint&gt;&gt;\n\n&lt;$list filter=\&quot;[all[current]shadowsource[]]\&quot;&gt;\n\n&lt;$set name=\&quot;pluginTiddler\&quot; value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;&lt;lingo Shadow/Source&gt;&gt;\n&lt;/$set&gt;\n\n&lt;/$list&gt;\n\n&lt;$list filter=\&quot;[all[current]is[shadow]is[tiddler]]\&quot;&gt;\n\n&lt;&lt;lingo OverriddenShadow/Hint&gt;&gt;\n\n&lt;/$list&gt;\n\n\n&lt;/$list&gt;\n&lt;/$set&gt;\n&quot;
        },
        &quot;$:/core/ui/TiddlerInfo/Advanced&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerInfo/Advanced&quot;,
            &quot;tags&quot;: &quot;$:/tags/TiddlerInfo&quot;,
            &quot;caption&quot;: &quot;{{$:/language/TiddlerInfo/Advanced/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/TiddlerInfo/Advanced]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;\n\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/TiddlerInfo/Fields&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerInfo/Fields&quot;,
            &quot;tags&quot;: &quot;$:/tags/TiddlerInfo&quot;,
            &quot;caption&quot;: &quot;{{$:/language/TiddlerInfo/Fields/Caption}}&quot;,
            &quot;text&quot;: &quot;&lt;$transclude tiddler=\&quot;$:/core/ui/TiddlerFields\&quot;/&gt;\n&quot;
        },
        &quot;$:/core/ui/TiddlerInfo/List&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerInfo/List&quot;,
            &quot;tags&quot;: &quot;$:/tags/TiddlerInfo&quot;,
            &quot;caption&quot;: &quot;{{$:/language/TiddlerInfo/List/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/TiddlerInfo/\n&lt;$list filter=\&quot;[list{!!title}]\&quot; emptyMessage=&lt;&lt;lingo List/Empty&gt;&gt; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&quot;
        },
        &quot;$:/core/ui/TiddlerInfo/Listed&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerInfo/Listed&quot;,
            &quot;tags&quot;: &quot;$:/tags/TiddlerInfo&quot;,
            &quot;caption&quot;: &quot;{{$:/language/TiddlerInfo/Listed/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/TiddlerInfo/\n&lt;$list filter=\&quot;[all[current]listed[]!is[system]]\&quot; emptyMessage=&lt;&lt;lingo Listed/Empty&gt;&gt; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&quot;
        },
        &quot;$:/core/ui/TiddlerInfo/References&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerInfo/References&quot;,
            &quot;tags&quot;: &quot;$:/tags/TiddlerInfo&quot;,
            &quot;caption&quot;: &quot;{{$:/language/TiddlerInfo/References/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/TiddlerInfo/\n&lt;$list filter=\&quot;[all[current]backlinks[]sort[title]]\&quot; emptyMessage=&lt;&lt;lingo References/Empty&gt;&gt; template=\&quot;$:/core/ui/ListItemTemplate\&quot;&gt;\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/TiddlerInfo/Tagging&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerInfo/Tagging&quot;,
            &quot;tags&quot;: &quot;$:/tags/TiddlerInfo&quot;,
            &quot;caption&quot;: &quot;{{$:/language/TiddlerInfo/Tagging/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/TiddlerInfo/\n&lt;$list filter=\&quot;[all[current]tagging[]]\&quot; emptyMessage=&lt;&lt;lingo Tagging/Empty&gt;&gt; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&quot;
        },
        &quot;$:/core/ui/TiddlerInfo/Tools&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerInfo/Tools&quot;,
            &quot;tags&quot;: &quot;$:/tags/TiddlerInfo&quot;,
            &quot;caption&quot;: &quot;{{$:/language/TiddlerInfo/Tools/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/TiddlerInfo/\n\\define config-title()\n$:/config/ViewToolbarButtons/Visibility/$(listItem)$\n\\end\n&lt;$set name=\&quot;tv-config-toolbar-icons\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-text\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-class\&quot; value=\&quot;\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/ViewToolbar]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;\n\n&lt;$checkbox tiddler=&lt;&lt;config-title&gt;&gt; field=\&quot;text\&quot; checked=\&quot;show\&quot; unchecked=\&quot;hide\&quot; default=\&quot;show\&quot;/&gt; &lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt; &lt;i class=\&quot;tc-muted\&quot;&gt;&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; field=\&quot;description\&quot;/&gt;&lt;/i&gt;\n\n&lt;/$list&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n&quot;
        },
        &quot;$:/core/ui/TiddlerInfo&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TiddlerInfo&quot;,
            &quot;text&quot;: &quot;&lt;$macrocall $name=\&quot;tabs\&quot; tabsList=\&quot;[all[shadows+tiddlers]tag[$:/tags/TiddlerInfo]!has[draft.of]]\&quot; default={{$:/config/TiddlerInfo/Default}}/&gt;&quot;
        },
        &quot;$:/core/ui/TopBar/menu&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/TopBar/menu&quot;,
            &quot;tags&quot;: &quot;$:/tags/TopRightBar&quot;,
            &quot;text&quot;: &quot;&lt;$reveal state=\&quot;$:/state/sidebar\&quot; type=\&quot;nomatch\&quot; text=\&quot;no\&quot;&gt;\n&lt;$button set=\&quot;$:/state/sidebar\&quot; setTo=\&quot;no\&quot; tooltip={{$:/language/Buttons/HideSideBar/Hint}} aria-label={{$:/language/Buttons/HideSideBar/Caption}} class=\&quot;tc-btn-invisible\&quot;&gt;{{$:/core/images/chevron-right}}&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal state=\&quot;$:/state/sidebar\&quot; type=\&quot;match\&quot; text=\&quot;no\&quot;&gt;\n&lt;$button set=\&quot;$:/state/sidebar\&quot; setTo=\&quot;yes\&quot; tooltip={{$:/language/Buttons/ShowSideBar/Hint}} aria-label={{$:/language/Buttons/ShowSideBar/Caption}} class=\&quot;tc-btn-invisible\&quot;&gt;{{$:/core/images/chevron-left}}&lt;/$button&gt;\n&lt;/$reveal&gt;\n&quot;
        },
        &quot;$:/core/ui/UntaggedTemplate&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/UntaggedTemplate&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/SideBar/\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/tag\&quot;&gt;&gt; class=\&quot;tc-btn-invisible tc-untagged-label tc-tag-label\&quot;&gt;\n&lt;&lt;lingo Tags/Untagged/Caption&gt;&gt;\n&lt;/$button&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/tag\&quot;&gt;&gt; type=\&quot;popup\&quot; position=\&quot;below\&quot;&gt;\n&lt;div class=\&quot;tc-drop-down\&quot;&gt;\n&lt;$list filter=\&quot;[untagged[]!is[system]] -[tags[]] +[sort[title]]\&quot; template=\&quot;$:/core/ui/ListItemTemplate\&quot;/&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&quot;
        },
        &quot;$:/core/ui/ViewTemplate/body&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ViewTemplate/body&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewTemplate&quot;,
            &quot;text&quot;: &quot;&lt;$reveal tag=\&quot;div\&quot; class=\&quot;tc-tiddler-body\&quot; type=\&quot;nomatch\&quot; state=&lt;&lt;folded-state&gt;&gt; text=\&quot;hide\&quot; retain=\&quot;yes\&quot; animate=\&quot;yes\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[current]!has[plugin-type]!field:hide-body[yes]]\&quot;&gt;\n\n&lt;$transclude&gt;\n\n&lt;$transclude tiddler=\&quot;$:/language/MissingTiddler/Hint\&quot;/&gt;\n\n&lt;/$transclude&gt;\n\n&lt;/$list&gt;\n\n&lt;/$reveal&gt;\n&quot;
        },
        &quot;$:/core/ui/ViewTemplate/classic&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ViewTemplate/classic&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewTemplate $:/tags/EditTemplate&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ClassicWarning/\n&lt;$list filter=\&quot;[all[current]type[text/x-tiddlywiki]]\&quot;&gt;\n&lt;div class=\&quot;tc-message-box\&quot;&gt;\n\n&lt;&lt;lingo Hint&gt;&gt;\n\n&lt;$button set=\&quot;!!type\&quot; setTo=\&quot;text/vnd.tiddlywiki\&quot;&gt;&lt;&lt;lingo Upgrade/Caption&gt;&gt;&lt;/$button&gt;\n\n&lt;/div&gt;\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/ViewTemplate/import&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ViewTemplate/import&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewTemplate&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/Import/\n\n&lt;$list filter=\&quot;[all[current]field:plugin-type[import]]\&quot;&gt;\n\n&lt;div class=\&quot;tc-import\&quot;&gt;\n\n&lt;&lt;lingo Listing/Hint&gt;&gt;\n\n&lt;$button message=\&quot;tm-delete-tiddler\&quot; param=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;&lt;lingo Listing/Cancel/Caption&gt;&gt;&lt;/$button&gt;\n&lt;$button message=\&quot;tm-perform-import\&quot; param=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;&lt;lingo Listing/Import/Caption&gt;&gt;&lt;/$button&gt;\n\n{{||$:/core/ui/ImportListing}}\n\n&lt;$button message=\&quot;tm-delete-tiddler\&quot; param=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;&lt;lingo Listing/Cancel/Caption&gt;&gt;&lt;/$button&gt;\n&lt;$button message=\&quot;tm-perform-import\&quot; param=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;&lt;lingo Listing/Import/Caption&gt;&gt;&lt;/$button&gt;\n\n&lt;/div&gt;\n\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/ViewTemplate/plugin&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ViewTemplate/plugin&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewTemplate&quot;,
            &quot;text&quot;: &quot;&lt;$list filter=\&quot;[all[current]has[plugin-type]] -[all[current]field:plugin-type[import]]\&quot;&gt;\n\n{{||$:/core/ui/TiddlerInfo/Advanced/PluginInfo}}\n\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/core/ui/ViewTemplate/subtitle&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ViewTemplate/subtitle&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewTemplate&quot;,
            &quot;text&quot;: &quot;&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;folded-state&gt;&gt; text=\&quot;hide\&quot; tag=\&quot;div\&quot; retain=\&quot;yes\&quot; animate=\&quot;yes\&quot;&gt;\n&lt;div class=\&quot;tc-subtitle\&quot;&gt;\n&lt;$link to={{!!modifier}}&gt;\n&lt;$view field=\&quot;modifier\&quot;/&gt;\n&lt;/$link&gt; &lt;$view field=\&quot;modified\&quot; format=\&quot;date\&quot; template={{$:/language/Tiddler/DateFormat}}/&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&quot;
        },
        &quot;$:/core/ui/ViewTemplate/tags&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ViewTemplate/tags&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewTemplate&quot;,
            &quot;text&quot;: &quot;&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;folded-state&gt;&gt; text=\&quot;hide\&quot; tag=\&quot;div\&quot; retain=\&quot;yes\&quot; animate=\&quot;yes\&quot;&gt;\n&lt;div class=\&quot;tc-tags-wrapper\&quot;&gt;&lt;$list filter=\&quot;[all[current]tags[]sort[title]]\&quot; template=\&quot;$:/core/ui/TagTemplate\&quot; storyview=\&quot;pop\&quot;/&gt;&lt;/div&gt;\n&lt;/$reveal&gt;&quot;
        },
        &quot;$:/core/ui/ViewTemplate/title&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ViewTemplate/title&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewTemplate&quot;,
            &quot;text&quot;: &quot;\\define title-styles()\nfill:$(foregroundColor)$;\n\\end\n\\define config-title()\n$:/config/ViewToolbarButtons/Visibility/$(listItem)$\n\\end\n&lt;div class=\&quot;tc-tiddler-title\&quot;&gt;\n&lt;div class=\&quot;tc-titlebar\&quot;&gt;\n&lt;span class=\&quot;tc-tiddler-controls\&quot;&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/ViewToolbar]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;config-title&gt;&gt; text=\&quot;hide\&quot;&gt;&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;&lt;/$reveal&gt;&lt;/$list&gt;\n&lt;/span&gt;\n&lt;$set name=\&quot;tv-wikilinks\&quot; value={{$:/config/Tiddlers/TitleLinks}}&gt;\n&lt;$link&gt;\n&lt;$set name=\&quot;foregroundColor\&quot; value={{!!color}}&gt;\n&lt;span class=\&quot;tc-tiddler-title-icon\&quot; style=&lt;&lt;title-styles&gt;&gt;&gt;\n&lt;$transclude tiddler={{!!icon}}/&gt;\n&lt;/span&gt;\n&lt;/$set&gt;\n&lt;$list filter=\&quot;[all[current]removeprefix[$:/]]\&quot;&gt;\n&lt;h2 class=\&quot;tc-title\&quot; title={{$:/language/SystemTiddler/Tooltip}}&gt;\n&lt;span class=\&quot;tc-system-title-prefix\&quot;&gt;$:/&lt;/span&gt;&lt;$text text=&lt;&lt;currentTiddler&gt;&gt;/&gt;\n&lt;/h2&gt;\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[all[current]!prefix[$:/]]\&quot;&gt;\n&lt;h2 class=\&quot;tc-title\&quot;&gt;\n&lt;$view field=\&quot;title\&quot;/&gt;\n&lt;/h2&gt;\n&lt;/$list&gt;\n&lt;/$link&gt;\n&lt;/$set&gt;\n&lt;/div&gt;\n\n&lt;$reveal type=\&quot;nomatch\&quot; text=\&quot;\&quot; default=\&quot;\&quot; state=&lt;&lt;tiddlerInfoState&gt;&gt; class=\&quot;tc-tiddler-info tc-popup-handle\&quot; animate=\&quot;yes\&quot; retain=\&quot;yes\&quot;&gt;\n\n&lt;$transclude tiddler=\&quot;$:/core/ui/TiddlerInfo\&quot;/&gt;\n\n&lt;/$reveal&gt;\n&lt;/div&gt;&quot;
        },
        &quot;$:/core/ui/ViewTemplate/unfold&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ViewTemplate/unfold&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewTemplate&quot;,
            &quot;text&quot;: &quot;&lt;$reveal tag=\&quot;div\&quot; type=\&quot;nomatch\&quot; state=\&quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold-bar\&quot; text=\&quot;hide\&quot;&gt;\n&lt;$reveal tag=\&quot;div\&quot; type=\&quot;nomatch\&quot; state=&lt;&lt;folded-state&gt;&gt; text=\&quot;hide\&quot; default=\&quot;show\&quot; retain=\&quot;yes\&quot; animate=\&quot;yes\&quot;&gt;\n&lt;$button tooltip={{$:/language/Buttons/Fold/Hint}} aria-label={{$:/language/Buttons/Fold/Caption}} class=\&quot;tc-fold-banner\&quot;&gt;\n&lt;$action-sendmessage $message=\&quot;tm-fold-tiddler\&quot; $param=&lt;&lt;currentTiddler&gt;&gt; foldedState=&lt;&lt;folded-state&gt;&gt;/&gt;\n{{$:/core/images/chevron-up}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal tag=\&quot;div\&quot; type=\&quot;nomatch\&quot; state=&lt;&lt;folded-state&gt;&gt; text=\&quot;show\&quot; default=\&quot;show\&quot; retain=\&quot;yes\&quot; animate=\&quot;yes\&quot;&gt;\n&lt;$button tooltip={{$:/language/Buttons/Unfold/Hint}} aria-label={{$:/language/Buttons/Unfold/Caption}} class=\&quot;tc-unfold-banner\&quot;&gt;\n&lt;$action-sendmessage $message=\&quot;tm-fold-tiddler\&quot; $param=&lt;&lt;currentTiddler&gt;&gt; foldedState=&lt;&lt;folded-state&gt;&gt;/&gt;\n{{$:/core/images/chevron-down}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/$reveal&gt;\n&quot;
        },
        &quot;$:/core/ui/ViewTemplate&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/ViewTemplate&quot;,
            &quot;text&quot;: &quot;\\define frame-classes()\ntc-tiddler-frame tc-tiddler-view-frame $(missingTiddlerClass)$ $(shadowTiddlerClass)$ $(systemTiddlerClass)$ $(tiddlerTagClasses)$\n\\end\n\\define folded-state()\n$:/state/folded/$(currentTiddler)$\n\\end\n&lt;$set name=\&quot;storyTiddler\&quot; value=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;$set name=\&quot;tiddlerInfoState\&quot; value=&lt;&lt;qualify \&quot;$:/state/popup/tiddler-info\&quot;&gt;&gt;&gt;&lt;$tiddler tiddler=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;div class=&lt;&lt;frame-classes&gt;&gt;&gt;&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/ViewTemplate]!has[draft.of]]\&quot; variable=\&quot;listItem\&quot;&gt;&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt;/&gt;&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$tiddler&gt;&lt;/$set&gt;&lt;/$set&gt;\n&quot;
        },
        &quot;$:/core/ui/Buttons/clone&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/clone&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/clone-button}} {{$:/language/Buttons/Clone/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Clone/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-new-tiddler\&quot; param=&lt;&lt;currentTiddler&gt;&gt; tooltip={{$:/language/Buttons/Clone/Hint}} aria-label={{$:/language/Buttons/Clone/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/clone-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Clone/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/close-others&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/close-others&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/close-others-button}} {{$:/language/Buttons/CloseOthers/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/CloseOthers/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-close-other-tiddlers\&quot; param=&lt;&lt;currentTiddler&gt;&gt; tooltip={{$:/language/Buttons/CloseOthers/Hint}} aria-label={{$:/language/Buttons/CloseOthers/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/close-others-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/CloseOthers/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/close&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/close&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/close-button}} {{$:/language/Buttons/Close/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Close/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-close-tiddler\&quot; tooltip={{$:/language/Buttons/Close/Hint}} aria-label={{$:/language/Buttons/Close/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/close-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Close/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/edit&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/edit&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/edit-button}} {{$:/language/Buttons/Edit/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Edit/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-edit-tiddler\&quot; tooltip={{$:/language/Buttons/Edit/Hint}} aria-label={{$:/language/Buttons/Edit/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/edit-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Edit/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/export-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/export-tiddler&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/export-button}} {{$:/language/Buttons/ExportTiddler/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/ExportTiddler/Hint}}&quot;,
            &quot;text&quot;: &quot;\\define makeExportFilter()\n[[$(currentTiddler)$]]\n\\end\n&lt;$macrocall $name=\&quot;exportButton\&quot; exportFilter=&lt;&lt;makeExportFilter&gt;&gt; lingoBase=\&quot;$:/language/Buttons/ExportTiddler/\&quot; baseFilename=&lt;&lt;currentTiddler&gt;&gt;/&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/fold-bar&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/fold-bar&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/language/Buttons/Fold/FoldBar/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Fold/FoldBar/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;!-- This dummy toolbar button is here to allow visibility of the fold-bar to be controlled as if it were a toolbar button --&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/fold-others&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/fold-others&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/fold-others-button}} {{$:/language/Buttons/FoldOthers/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/FoldOthers/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button tooltip={{$:/language/Buttons/FoldOthers/Hint}} aria-label={{$:/language/Buttons/FoldOthers/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$action-sendmessage $message=\&quot;tm-fold-other-tiddlers\&quot; $param=&lt;&lt;currentTiddler&gt;&gt; foldedStatePrefix=\&quot;$:/state/folded/\&quot;/&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot; variable=\&quot;listItem\&quot;&gt;\n{{$:/core/images/fold-others-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/FoldOthers/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/fold&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/fold&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/fold-button}} {{$:/language/Buttons/Fold/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Fold/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;folded-state&gt;&gt; text=\&quot;hide\&quot; default=\&quot;show\&quot;&gt;&lt;$button tooltip={{$:/language/Buttons/Fold/Hint}} aria-label={{$:/language/Buttons/Fold/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$action-sendmessage $message=\&quot;tm-fold-tiddler\&quot; $param=&lt;&lt;currentTiddler&gt;&gt; foldedState=&lt;&lt;folded-state&gt;&gt;/&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot; variable=\&quot;listItem\&quot;&gt;\n{{$:/core/images/fold-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;\n&lt;$text text={{$:/language/Buttons/Fold/Caption}}/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&lt;/$reveal&gt;&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;folded-state&gt;&gt; text=\&quot;hide\&quot; default=\&quot;show\&quot;&gt;&lt;$button tooltip={{$:/language/Buttons/Unfold/Hint}} aria-label={{$:/language/Buttons/Unfold/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$action-sendmessage $message=\&quot;tm-fold-tiddler\&quot; $param=&lt;&lt;currentTiddler&gt;&gt; foldedState=&lt;&lt;folded-state&gt;&gt;/&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot; variable=\&quot;listItem\&quot;&gt;\n{{$:/core/images/unfold-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;\n&lt;$text text={{$:/language/Buttons/Unfold/Caption}}/&gt;\n&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&lt;/$reveal&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/info&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/info&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/info-button}} {{$:/language/Buttons/Info/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Info/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button popup=&lt;&lt;tiddlerInfoState&gt;&gt; tooltip={{$:/language/Buttons/Info/Hint}} aria-label={{$:/language/Buttons/Info/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\&quot;tc-selected\&quot;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/info-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Info/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/more-tiddler-actions&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/more-tiddler-actions&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/down-arrow}} {{$:/language/Buttons/More/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/More/Hint}}&quot;,
            &quot;text&quot;: &quot;\\define config-title()\n$:/config/ViewToolbarButtons/Visibility/$(listItem)$\n\\end\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/more\&quot;&gt;&gt; tooltip={{$:/language/Buttons/More/Hint}} aria-label={{$:/language/Buttons/More/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\&quot;tc-selected\&quot;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/down-arrow}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/More/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/more\&quot;&gt;&gt; type=\&quot;popup\&quot; position=\&quot;below\&quot; animate=\&quot;yes\&quot;&gt;\n\n&lt;div class=\&quot;tc-drop-down\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-icons\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-text\&quot; value=\&quot;yes\&quot;&gt;\n\n&lt;$set name=\&quot;tv-config-toolbar-class\&quot; value=\&quot;tc-btn-invisible\&quot;&gt;\n\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/ViewToolbar]!has[draft.of]] -[[$:/core/ui/Buttons/more-tiddler-actions]]\&quot; variable=\&quot;listItem\&quot;&gt;\n\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;config-title&gt;&gt; text=\&quot;hide\&quot;&gt;\n\n&lt;$transclude tiddler=&lt;&lt;listItem&gt;&gt; mode=\&quot;inline\&quot;/&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/$list&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/$set&gt;\n\n&lt;/div&gt;\n\n&lt;/$reveal&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/new-here&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/new-here&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/new-here-button}} {{$:/language/Buttons/NewHere/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/NewHere/Hint}}&quot;,
            &quot;text&quot;: &quot;\\define newHereButtonTags()\n[[$(currentTiddler)$]]\n\\end\n\\define newHereButton()\n&lt;$button tooltip={{$:/language/Buttons/NewHere/Hint}} aria-label={{$:/language/Buttons/NewHere/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$action-sendmessage $message=\&quot;tm-new-tiddler\&quot; tags=&lt;&lt;newHereButtonTags&gt;&gt;/&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/new-here-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/NewHere/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n\\end\n&lt;&lt;newHereButton&gt;&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/new-journal-here&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/new-journal-here&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/new-journal-button}} {{$:/language/Buttons/NewJournalHere/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/NewJournalHere/Hint}}&quot;,
            &quot;text&quot;: &quot;\\define journalButtonTags()\n[[$(currentTiddlerTag)$]] $(journalTags)$\n\\end\n\\define journalButton()\n&lt;$button tooltip={{$:/language/Buttons/NewJournalHere/Hint}} aria-label={{$:/language/Buttons/NewJournalHere/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$action-sendmessage $message=\&quot;tm-new-tiddler\&quot; title=&lt;&lt;now \&quot;$(journalTitleTemplate)$\&quot;&gt;&gt; tags=&lt;&lt;journalButtonTags&gt;&gt;/&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/new-journal-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/NewJournalHere/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n\\end\n&lt;$set name=\&quot;journalTitleTemplate\&quot; value={{$:/config/NewJournal/Title}}&gt;\n&lt;$set name=\&quot;journalTags\&quot; value={{$:/config/NewJournal/Tags}}&gt;\n&lt;$set name=\&quot;currentTiddlerTag\&quot; value=&lt;&lt;currentTiddler&gt;&gt;&gt;\n&lt;&lt;journalButton&gt;&gt;\n&lt;/$set&gt;&lt;/$set&gt;&lt;/$set&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/open-window&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/open-window&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/open-window}} {{$:/language/Buttons/OpenWindow/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/OpenWindow/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-open-window\&quot; tooltip={{$:/language/Buttons/OpenWindow/Hint}} aria-label={{$:/language/Buttons/OpenWindow/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/open-window}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/OpenWindow/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/permalink&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/permalink&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/permalink-button}} {{$:/language/Buttons/Permalink/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Permalink/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-permalink\&quot; tooltip={{$:/language/Buttons/Permalink/Hint}} aria-label={{$:/language/Buttons/Permalink/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/permalink-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Permalink/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/core/ui/Buttons/permaview&quot;: {
            &quot;title&quot;: &quot;$:/core/ui/Buttons/permaview&quot;,
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar $:/tags/PageControls&quot;,
            &quot;caption&quot;: &quot;{{$:/core/images/permaview-button}} {{$:/language/Buttons/Permaview/Caption}}&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/Permaview/Hint}}&quot;,
            &quot;text&quot;: &quot;&lt;$button message=\&quot;tm-permaview\&quot; tooltip={{$:/language/Buttons/Permaview/Hint}} aria-label={{$:/language/Buttons/Permaview/Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/permaview-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/Permaview/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/DefaultTiddlers&quot;: {
            &quot;title&quot;: &quot;$:/DefaultTiddlers&quot;,
            &quot;text&quot;: &quot;GettingStarted\n&quot;
        },
        &quot;$:/temp/advancedsearch&quot;: {
            &quot;title&quot;: &quot;$:/temp/advancedsearch&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/snippets/allfields&quot;: {
            &quot;title&quot;: &quot;$:/snippets/allfields&quot;,
            &quot;text&quot;: &quot;\\define renderfield(title)\n&lt;tr class=\&quot;tc-view-field\&quot;&gt;&lt;td class=\&quot;tc-view-field-name\&quot;&gt;''$title$'':&lt;/td&gt;&lt;td class=\&quot;tc-view-field-value\&quot;&gt;//{{$:/language/Docs/Fields/$title$}}//&lt;/td&gt;&lt;/tr&gt;\n\\end\n&lt;table class=\&quot;tc-view-field-table\&quot;&gt;&lt;tbody&gt;&lt;$list filter=\&quot;[fields[]sort[title]]\&quot; variable=\&quot;listItem\&quot;&gt;&lt;$macrocall $name=\&quot;renderfield\&quot; title=&lt;&lt;listItem&gt;&gt;/&gt;&lt;/$list&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n&quot;
        },
        &quot;$:/config/AnimationDuration&quot;: {
            &quot;title&quot;: &quot;$:/config/AnimationDuration&quot;,
            &quot;text&quot;: &quot;400&quot;
        },
        &quot;$:/config/AutoSave&quot;: {
            &quot;title&quot;: &quot;$:/config/AutoSave&quot;,
            &quot;text&quot;: &quot;yes&quot;
        },
        &quot;$:/config/BitmapEditor/Colour&quot;: {
            &quot;title&quot;: &quot;$:/config/BitmapEditor/Colour&quot;,
            &quot;text&quot;: &quot;#ff0&quot;
        },
        &quot;$:/config/BitmapEditor/LineWidth&quot;: {
            &quot;title&quot;: &quot;$:/config/BitmapEditor/LineWidth&quot;,
            &quot;text&quot;: &quot;3&quot;
        },
        &quot;$:/config/DefaultSidebarTab&quot;: {
            &quot;title&quot;: &quot;$:/config/DefaultSidebarTab&quot;,
            &quot;text&quot;: &quot;$:/core/ui/SideBar/Open&quot;
        },
        &quot;$:/config/Drafts/TypingTimeout&quot;: {
            &quot;title&quot;: &quot;$:/config/Drafts/TypingTimeout&quot;,
            &quot;text&quot;: &quot;400&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/title&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/title&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/tags&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/tags&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/text&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/text&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/creator&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/creator&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/created&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/created&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/modified&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/modified&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/modifier&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/modifier&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/type&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/type&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/draft.title&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/draft.title&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/draft.of&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/draft.of&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/revision&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/revision&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditTemplateFields/Visibility/bag&quot;: {
            &quot;title&quot;: &quot;$:/config/EditTemplateFields/Visibility/bag&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/EditorTypeMappings/image/gif&quot;: {
            &quot;title&quot;: &quot;$:/config/EditorTypeMappings/image/gif&quot;,
            &quot;text&quot;: &quot;bitmap&quot;
        },
        &quot;$:/config/EditorTypeMappings/image/jpeg&quot;: {
            &quot;title&quot;: &quot;$:/config/EditorTypeMappings/image/jpeg&quot;,
            &quot;text&quot;: &quot;bitmap&quot;
        },
        &quot;$:/config/EditorTypeMappings/image/jpg&quot;: {
            &quot;title&quot;: &quot;$:/config/EditorTypeMappings/image/jpg&quot;,
            &quot;text&quot;: &quot;bitmap&quot;
        },
        &quot;$:/config/EditorTypeMappings/image/png&quot;: {
            &quot;title&quot;: &quot;$:/config/EditorTypeMappings/image/png&quot;,
            &quot;text&quot;: &quot;bitmap&quot;
        },
        &quot;$:/config/EditorTypeMappings/image/x-icon&quot;: {
            &quot;title&quot;: &quot;$:/config/EditorTypeMappings/image/x-icon&quot;,
            &quot;text&quot;: &quot;bitmap&quot;
        },
        &quot;$:/config/EditorTypeMappings/text/vnd.tiddlywiki&quot;: {
            &quot;title&quot;: &quot;$:/config/EditorTypeMappings/text/vnd.tiddlywiki&quot;,
            &quot;text&quot;: &quot;text&quot;
        },
        &quot;$:/config/Navigation/UpdateAddressBar&quot;: {
            &quot;title&quot;: &quot;$:/config/Navigation/UpdateAddressBar&quot;,
            &quot;text&quot;: &quot;no&quot;
        },
        &quot;$:/config/Navigation/UpdateHistory&quot;: {
            &quot;title&quot;: &quot;$:/config/Navigation/UpdateHistory&quot;,
            &quot;text&quot;: &quot;no&quot;
        },
        &quot;$:/config/OfficialPluginLibrary&quot;: {
            &quot;title&quot;: &quot;$:/config/OfficialPluginLibrary&quot;,
            &quot;tags&quot;: &quot;$:/tags/PluginLibrary&quot;,
            &quot;url&quot;: &quot;http://tiddlywiki.com/library/v5.1.9/index.html&quot;,
            &quot;caption&quot;: &quot;{{$:/language/OfficialPluginLibrary}}&quot;,
            &quot;text&quot;: &quot;{{$:/language/OfficialPluginLibrary/Hint}}\n&quot;
        },
        &quot;$:/config/Navigation/openLinkFromInsideRiver&quot;: {
            &quot;title&quot;: &quot;$:/config/Navigation/openLinkFromInsideRiver&quot;,
            &quot;text&quot;: &quot;below&quot;
        },
        &quot;$:/config/Navigation/openLinkFromOutsideRiver&quot;: {
            &quot;title&quot;: &quot;$:/config/Navigation/openLinkFromOutsideRiver&quot;,
            &quot;text&quot;: &quot;top&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/advanced-search&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/advanced-search&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/close-all&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/close-all&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/encryption&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/encryption&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/export-page&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/export-page&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/fold-all&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/fold-all&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/full-screen&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/full-screen&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/home&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/home&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/refresh&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/refresh&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/import&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/import&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/language&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/language&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/tag-manager&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/tag-manager&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/more-page-actions&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/more-page-actions&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/new-journal&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/new-journal&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/palette&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/palette&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/permaview&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/permaview&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/storyview&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/storyview&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/theme&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/theme&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/unfold-all&quot;: {
            &quot;title&quot;: &quot;$:/config/PageControlButtons/Visibility/$:/core/ui/Buttons/unfold-all&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/Performance/Instrumentation&quot;: {
            &quot;title&quot;: &quot;$:/config/Performance/Instrumentation&quot;,
            &quot;text&quot;: &quot;no&quot;
        },
        &quot;$:/config/SaveWikiButton/Template&quot;: {
            &quot;title&quot;: &quot;$:/config/SaveWikiButton/Template&quot;,
            &quot;text&quot;: &quot;$:/core/save/all&quot;
        },
        &quot;$:/config/SaverFilter&quot;: {
            &quot;title&quot;: &quot;$:/config/SaverFilter&quot;,
            &quot;text&quot;: &quot;[all[]] -[[$:/HistoryList]] -[[$:/StoryList]] -[[$:/Import]] -[[$:/isEncrypted]] -[[$:/UploadName]] -[prefix[$:/state/]] -[prefix[$:/temp/]]&quot;
        },
        &quot;$:/config/Search/AutoFocus&quot;: {
            &quot;title&quot;: &quot;$:/config/Search/AutoFocus&quot;,
            &quot;text&quot;: &quot;true&quot;
        },
        &quot;$:/config/SearchResults/Default&quot;: {
            &quot;title&quot;: &quot;$:/config/SearchResults/Default&quot;,
            &quot;text&quot;: &quot;$:/core/ui/DefaultSearchResultList&quot;
        },
        &quot;$:/config/SyncFilter&quot;: {
            &quot;title&quot;: &quot;$:/config/SyncFilter&quot;,
            &quot;text&quot;: &quot;[is[tiddler]] -[[$:/HistoryList]] -[[$:/Import]] -[[$:/isEncrypted]] -[prefix[$:/status/]] -[prefix[$:/state/]] -[prefix[$:/temp/]]&quot;
        },
        &quot;$:/config/TiddlerInfo/Default&quot;: {
            &quot;title&quot;: &quot;$:/config/TiddlerInfo/Default&quot;,
            &quot;text&quot;: &quot;$:/core/ui/TiddlerInfo/Fields&quot;
        },
        &quot;$:/config/Tiddlers/TitleLinks&quot;: {
            &quot;title&quot;: &quot;$:/config/Tiddlers/TitleLinks&quot;,
            &quot;text&quot;: &quot;no&quot;
        },
        &quot;$:/config/Toolbar/ButtonClass&quot;: {
            &quot;title&quot;: &quot;$:/config/Toolbar/ButtonClass&quot;,
            &quot;text&quot;: &quot;tc-btn-invisible&quot;
        },
        &quot;$:/config/Toolbar/Icons&quot;: {
            &quot;title&quot;: &quot;$:/config/Toolbar/Icons&quot;,
            &quot;text&quot;: &quot;yes&quot;
        },
        &quot;$:/config/Toolbar/Text&quot;: {
            &quot;title&quot;: &quot;$:/config/Toolbar/Text&quot;,
            &quot;text&quot;: &quot;no&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/clone&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/clone&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/close-others&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/close-others&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/export-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/export-tiddler&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/info&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/info&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/more-tiddler-actions&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/more-tiddler-actions&quot;,
            &quot;text&quot;: &quot;show&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/new-here&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/new-here&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/new-journal-here&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/new-journal-here&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/open-window&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/open-window&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/permalink&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/permalink&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/permaview&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/permaview&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/delete&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/delete&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold-bar&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold-bar&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold-others&quot;: {
            &quot;title&quot;: &quot;$:/config/ViewToolbarButtons/Visibility/$:/core/ui/Buttons/fold-others&quot;,
            &quot;text&quot;: &quot;hide&quot;
        },
        &quot;$:/config/shortcuts/cancel-edit-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/config/shortcuts/cancel-edit-tiddler&quot;,
            &quot;text&quot;: &quot;escape&quot;
        },
        &quot;$:/config/shortcuts/save-tiddler&quot;: {
            &quot;title&quot;: &quot;$:/config/shortcuts/save-tiddler&quot;,
            &quot;text&quot;: &quot;ctrl+enter&quot;
        },
        &quot;$:/config/WikiParserRules/Inline/wikilink&quot;: {
            &quot;title&quot;: &quot;$:/config/WikiParserRules/Inline/wikilink&quot;,
            &quot;text&quot;: &quot;enable&quot;
        },
        &quot;$:/snippets/currpalettepreview&quot;: {
            &quot;title&quot;: &quot;$:/snippets/currpalettepreview&quot;,
            &quot;text&quot;: &quot;\\define swatchStyle()\nbackground-color: $(swatchColour)$;\n\\end\n\\define swatch(colour)\n&lt;$set name=\&quot;swatchColour\&quot; value={{##$colour$}}&gt;\n&lt;div class=\&quot;tc-swatch\&quot; style=&lt;&lt;swatchStyle&gt;&gt;/&gt;\n&lt;/$set&gt;\n\\end\n&lt;div class=\&quot;tc-swatches-horiz\&quot;&gt;\n&lt;&lt;swatch foreground&gt;&gt;\n&lt;&lt;swatch background&gt;&gt;\n&lt;&lt;swatch muted-foreground&gt;&gt;\n&lt;&lt;swatch primary&gt;&gt;\n&lt;&lt;swatch page-background&gt;&gt;\n&lt;&lt;swatch tab-background&gt;&gt;\n&lt;&lt;swatch tiddler-info-background&gt;&gt;\n&lt;/div&gt;\n&quot;
        },
        &quot;$:/snippets/download-wiki-button&quot;: {
            &quot;title&quot;: &quot;$:/snippets/download-wiki-button&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Tools/Download/\n&lt;$button class=\&quot;tc-btn-big-green\&quot;&gt;\n&lt;$action-sendmessage $message=\&quot;tm-download-file\&quot; $param=\&quot;$:/core/save/all\&quot; filename=\&quot;index.html\&quot;/&gt;\n&lt;&lt;lingo Full/Caption&gt;&gt; {{$:/core/images/save-button}}\n&lt;/$button&gt;&quot;
        },
        &quot;$:/language&quot;: {
            &quot;title&quot;: &quot;$:/language&quot;,
            &quot;text&quot;: &quot;$:/languages/en-GB&quot;
        },
        &quot;$:/snippets/languageswitcher&quot;: {
            &quot;title&quot;: &quot;$:/snippets/languageswitcher&quot;,
            &quot;text&quot;: &quot;{{$:/language/ControlPanel/Basics/Language/Prompt}} &lt;$select tiddler=\&quot;$:/language\&quot;&gt;\n&lt;$list filter=\&quot;[[$:/languages/en-GB]] [plugin-type[language]sort[description]]\&quot;&gt;\n&lt;option value=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;$view field=\&quot;description\&quot;&gt;&lt;$view field=\&quot;name\&quot;&gt;&lt;$view field=\&quot;title\&quot;/&gt;&lt;/$view&gt;&lt;/$view&gt;&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;&quot;
        },
        &quot;$:/core/macros/CSS&quot;: {
            &quot;title&quot;: &quot;$:/core/macros/CSS&quot;,
            &quot;tags&quot;: &quot;$:/tags/Macro&quot;,
            &quot;text&quot;: &quot;\\define colour(name)\n&lt;$transclude tiddler={{$:/palette}} index=\&quot;$name$\&quot;&gt;&lt;$transclude tiddler=\&quot;$:/palettes/Vanilla\&quot; index=\&quot;$name$\&quot;/&gt;&lt;/$transclude&gt;\n\\end\n\n\\define color(name)\n&lt;&lt;colour $name$&gt;&gt;\n\\end\n\n\\define box-shadow(shadow)\n``\n  -webkit-box-shadow: $shadow$;\n     -moz-box-shadow: $shadow$;\n          box-shadow: $shadow$;\n``\n\\end\n\n\\define filter(filter)\n``\n  -webkit-filter: $filter$;\n     -moz-filter: $filter$;\n          filter: $filter$;\n``\n\\end\n\n\\define transition(transition)\n``\n  -webkit-transition: $transition$;\n     -moz-transition: $transition$;\n          transition: $transition$;\n``\n\\end\n\n\\define transform-origin(origin)\n``\n  -webkit-transform-origin: $origin$;\n     -moz-transform-origin: $origin$;\n          transform-origin: $origin$;\n``\n\\end\n\n\\define background-linear-gradient(gradient)\n``\nbackground-image: linear-gradient($gradient$);\nbackground-image: -o-linear-gradient($gradient$);\nbackground-image: -moz-linear-gradient($gradient$);\nbackground-image: -webkit-linear-gradient($gradient$);\nbackground-image: -ms-linear-gradient($gradient$);\n``\n\\end\n\n\\define datauri(title)\n&lt;$macrocall $name=\&quot;makedatauri\&quot; type={{$title$!!type}} text={{$title$}}/&gt;\n\\end\n\n\\define if-sidebar(text)\n&lt;$reveal state=\&quot;$:/state/sidebar\&quot; type=\&quot;match\&quot; text=\&quot;yes\&quot; default=\&quot;yes\&quot;&gt;$text$&lt;/$reveal&gt;\n\\end\n\n\\define if-no-sidebar(text)\n&lt;$reveal state=\&quot;$:/state/sidebar\&quot; type=\&quot;nomatch\&quot; text=\&quot;yes\&quot; default=\&quot;yes\&quot;&gt;$text$&lt;/$reveal&gt;\n\\end\n&quot;
        },
        &quot;$:/core/macros/export&quot;: {
            &quot;title&quot;: &quot;$:/core/macros/export&quot;,
            &quot;tags&quot;: &quot;$:/tags/Macro&quot;,
            &quot;text&quot;: &quot;\\define exportButtonFilename(baseFilename)\n$baseFilename$$(extension)$\n\\end\n\n\\define exportButton(exportFilter:\&quot;[!is[system]sort[title]]\&quot;,lingoBase,baseFilename:\&quot;tiddlers\&quot;)\n&lt;span class=\&quot;tc-popup-keep\&quot;&gt;\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/export\&quot;&gt;&gt; tooltip={{$lingoBase$Hint}} aria-label={{$lingoBase$Caption}} class=&lt;&lt;tv-config-toolbar-class&gt;&gt; selectedClass=\&quot;tc-selected\&quot;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;\n{{$:/core/images/export-button}}\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$lingoBase$Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n&lt;/span&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/export\&quot;&gt;&gt; type=\&quot;popup\&quot; position=\&quot;below\&quot; animate=\&quot;yes\&quot;&gt;\n&lt;div class=\&quot;tc-drop-down\&quot;&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/Exporter]]\&quot;&gt;\n&lt;$set name=\&quot;extension\&quot; value={{!!extension}}&gt;\n&lt;$button class=\&quot;tc-btn-invisible\&quot;&gt;\n&lt;$action-sendmessage $message=\&quot;tm-download-file\&quot; $param=&lt;&lt;currentTiddler&gt;&gt; exportFilter=\&quot;\&quot;\&quot;$exportFilter$\&quot;\&quot;\&quot; filename=&lt;&lt;exportButtonFilename \&quot;\&quot;\&quot;$baseFilename$\&quot;\&quot;\&quot;&gt;&gt;/&gt;\n&lt;$action-deletetiddler $tiddler=&lt;&lt;qualify \&quot;$:/state/popup/export\&quot;&gt;&gt;/&gt;\n&lt;$transclude field=\&quot;description\&quot;/&gt;\n&lt;/$button&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n\\end\n&quot;
        },
        &quot;$:/core/macros/lingo&quot;: {
            &quot;title&quot;: &quot;$:/core/macros/lingo&quot;,
            &quot;tags&quot;: &quot;$:/tags/Macro&quot;,
            &quot;text&quot;: &quot;\\define lingo-base()\n$:/language/\n\\end\n\n\\define lingo(title)\n{{$(lingo-base)$$title$}}\n\\end\n&quot;
        },
        &quot;$:/core/macros/list&quot;: {
            &quot;title&quot;: &quot;$:/core/macros/list&quot;,
            &quot;tags&quot;: &quot;$:/tags/Macro&quot;,
            &quot;text&quot;: &quot;\\define list-links(filter,type:\&quot;ul\&quot;,subtype:\&quot;li\&quot;,class:\&quot;\&quot;)\n&lt;$type$ class=\&quot;$class$\&quot;&gt;\n&lt;$list filter=\&quot;$filter$\&quot;&gt;\n&lt;$subtype$&gt;\n&lt;$link to={{!!title}}&gt;\n&lt;$transclude field=\&quot;caption\&quot;&gt;\n&lt;$view field=\&quot;title\&quot;/&gt;\n&lt;/$transclude&gt;\n&lt;/$link&gt;\n&lt;/$subtype$&gt;\n&lt;/$list&gt;\n&lt;/$type$&gt;\n\\end\n&quot;
        },
        &quot;$:/core/macros/tabs&quot;: {
            &quot;title&quot;: &quot;$:/core/macros/tabs&quot;,
            &quot;tags&quot;: &quot;$:/tags/Macro&quot;,
            &quot;text&quot;: &quot;\\define tabs(tabsList,default,state:\&quot;$:/state/tab\&quot;,class,template)\n&lt;div class=\&quot;tc-tab-set $class$\&quot;&gt;\n&lt;div class=\&quot;tc-tab-buttons $class$\&quot;&gt;\n&lt;$list filter=\&quot;$tabsList$\&quot; variable=\&quot;currentTab\&quot;&gt;&lt;$set name=\&quot;save-currentTiddler\&quot; value=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;$tiddler tiddler=&lt;&lt;currentTab&gt;&gt;&gt;&lt;$button set=&lt;&lt;qualify \&quot;$state$\&quot;&gt;&gt; setTo=&lt;&lt;currentTab&gt;&gt; default=\&quot;$default$\&quot; selectedClass=\&quot;tc-tab-selected\&quot; tooltip={{!!tooltip}}&gt;\n&lt;$tiddler tiddler=&lt;&lt;save-currentTiddler&gt;&gt;&gt;\n&lt;$set name=\&quot;tv-wikilinks\&quot; value=\&quot;no\&quot;&gt;\n&lt;$transclude tiddler=&lt;&lt;currentTab&gt;&gt; field=\&quot;caption\&quot;&gt;\n&lt;$macrocall $name=\&quot;currentTab\&quot; $type=\&quot;text/plain\&quot; $output=\&quot;text/plain\&quot;/&gt;\n&lt;/$transclude&gt;\n&lt;/$set&gt;&lt;/$tiddler&gt;&lt;/$button&gt;&lt;/$tiddler&gt;&lt;/$set&gt;&lt;/$list&gt;\n&lt;/div&gt;\n&lt;div class=\&quot;tc-tab-divider $class$\&quot;/&gt;\n&lt;div class=\&quot;tc-tab-content $class$\&quot;&gt;\n&lt;$list filter=\&quot;$tabsList$\&quot; variable=\&quot;currentTab\&quot;&gt;\n\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;qualify \&quot;$state$\&quot;&gt;&gt; text=&lt;&lt;currentTab&gt;&gt; default=\&quot;$default$\&quot;&gt;\n\n&lt;$transclude tiddler=\&quot;$template$\&quot; mode=\&quot;block\&quot;&gt;\n\n&lt;$transclude tiddler=&lt;&lt;currentTab&gt;&gt; mode=\&quot;block\&quot;/&gt;\n\n&lt;/$transclude&gt;\n\n&lt;/$reveal&gt;\n\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n\\end\n&quot;
        },
        &quot;$:/core/macros/tag&quot;: {
            &quot;title&quot;: &quot;$:/core/macros/tag&quot;,
            &quot;tags&quot;: &quot;$:/tags/Macro&quot;,
            &quot;text&quot;: &quot;\\define tag(tag)\n{{$tag$||$:/core/ui/TagTemplate}}\n\\end\n&quot;
        },
        &quot;$:/core/macros/thumbnails&quot;: {
            &quot;title&quot;: &quot;$:/core/macros/thumbnails&quot;,
            &quot;tags&quot;: &quot;$:/tags/Macro&quot;,
            &quot;text&quot;: &quot;\\define thumbnail(link,icon,color,background-color,image,caption,width:\&quot;280\&quot;,height:\&quot;157\&quot;)\n&lt;$link to=\&quot;\&quot;\&quot;$link$\&quot;\&quot;\&quot;&gt;&lt;div class=\&quot;tc-thumbnail-wrapper\&quot;&gt;\n&lt;div class=\&quot;tc-thumbnail-image\&quot; style=\&quot;width:$width$px;height:$height$px;\&quot;&gt;&lt;$reveal type=\&quot;nomatch\&quot; text=\&quot;\&quot; default=\&quot;\&quot;\&quot;$image$\&quot;\&quot;\&quot; tag=\&quot;div\&quot; style=\&quot;width:$width$px;height:$height$px;\&quot;&gt;\n[img[$image$]]\n&lt;/$reveal&gt;&lt;$reveal type=\&quot;match\&quot; text=\&quot;\&quot; default=\&quot;\&quot;\&quot;$image$\&quot;\&quot;\&quot; tag=\&quot;div\&quot; class=\&quot;tc-thumbnail-background\&quot; style=\&quot;width:$width$px;height:$height$px;background-color:$background-color$;\&quot;&gt;&lt;/$reveal&gt;&lt;/div&gt;&lt;div class=\&quot;tc-thumbnail-icon\&quot; style=\&quot;fill:$color$;color:$color$;\&quot;&gt;\n$icon$\n&lt;/div&gt;&lt;div class=\&quot;tc-thumbnail-caption\&quot;&gt;\n$caption$\n&lt;/div&gt;\n&lt;/div&gt;&lt;/$link&gt;\n\\end\n\n\\define thumbnail-right(link,icon,color,background-color,image,caption,width:\&quot;280\&quot;,height:\&quot;157\&quot;)\n&lt;div class=\&quot;tc-thumbnail-right-wrapper\&quot;&gt;&lt;&lt;thumbnail \&quot;\&quot;\&quot;$link$\&quot;\&quot;\&quot; \&quot;\&quot;\&quot;$icon$\&quot;\&quot;\&quot; \&quot;\&quot;\&quot;$color$\&quot;\&quot;\&quot; \&quot;\&quot;\&quot;$background-color$\&quot;\&quot;\&quot; \&quot;\&quot;\&quot;$image$\&quot;\&quot;\&quot; \&quot;\&quot;\&quot;$caption$\&quot;\&quot;\&quot; \&quot;\&quot;\&quot;$width$\&quot;\&quot;\&quot; \&quot;\&quot;\&quot;$height$\&quot;\&quot;\&quot;&gt;&gt;&lt;/div&gt;\n\\end\n\n\\define list-thumbnails(filter,width:\&quot;280\&quot;,height:\&quot;157\&quot;)\n&lt;$list filter=\&quot;\&quot;\&quot;$filter$\&quot;\&quot;\&quot;&gt;&lt;$macrocall $name=\&quot;thumbnail\&quot; link={{!!link}} icon={{!!icon}} color={{!!color}} background-color={{!!background-color}} image={{!!image}} caption={{!!caption}} width=\&quot;\&quot;\&quot;$width$\&quot;\&quot;\&quot; height=\&quot;\&quot;\&quot;$height$\&quot;\&quot;\&quot;/&gt;&lt;/$list&gt;\n\\end\n&quot;
        },
        &quot;$:/core/macros/timeline&quot;: {
            &quot;created&quot;: &quot;20141212105914482&quot;,
            &quot;modified&quot;: &quot;20141212110330815&quot;,
            &quot;tags&quot;: &quot;$:/tags/Macro&quot;,
            &quot;title&quot;: &quot;$:/core/macros/timeline&quot;,
            &quot;type&quot;: &quot;text/vnd.tiddlywiki&quot;,
            &quot;text&quot;: &quot;\\define timeline-title()\n&lt;!-- Override this macro with a global macro \n     of the same name if you need to change \n     how titles are displayed on the timeline \n     --&gt;\n&lt;$view field=\&quot;title\&quot;/&gt;\n\\end\n\\define timeline(limit:\&quot;100\&quot;,format:\&quot;DDth MMM YYYY\&quot;,subfilter:\&quot;\&quot;,dateField:\&quot;modified\&quot;)\n&lt;div class=\&quot;tc-timeline\&quot;&gt;\n&lt;$list filter=\&quot;[!is[system]$subfilter$has[$dateField$]!sort[$dateField$]limit[$limit$]eachday[$dateField$]]\&quot;&gt;\n&lt;div class=\&quot;tc-menu-list-item\&quot;&gt;\n&lt;$view field=\&quot;$dateField$\&quot; format=\&quot;date\&quot; template=\&quot;$format$\&quot;/&gt;\n&lt;$list filter=\&quot;[sameday:$dateField${!!$dateField$}!is[system]$subfilter$!sort[$dateField$]]\&quot;&gt;\n&lt;div class=\&quot;tc-menu-list-subitem\&quot;&gt;\n&lt;$link to={{!!title}}&gt;\n&lt;&lt;timeline-title&gt;&gt;\n&lt;/$link&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n\\end\n&quot;
        },
        &quot;$:/core/macros/toc&quot;: {
            &quot;title&quot;: &quot;$:/core/macros/toc&quot;,
            &quot;tags&quot;: &quot;$:/tags/Macro&quot;,
            &quot;text&quot;: &quot;\\define toc-caption()\n&lt;$set name=\&quot;tv-wikilinks\&quot; value=\&quot;no\&quot;&gt;\n&lt;$transclude field=\&quot;caption\&quot;&gt;\n&lt;$view field=\&quot;title\&quot;/&gt;\n&lt;/$transclude&gt;\n&lt;/$set&gt;\n\\end\n\n\\define toc-body(rootTag,tag,sort:\&quot;\&quot;,itemClassFilter)\n&lt;ol class=\&quot;tc-toc\&quot;&gt;\n&lt;$list filter=\&quot;\&quot;\&quot;[all[shadows+tiddlers]tag[$tag$]!has[draft.of]$sort$]\&quot;\&quot;\&quot;&gt;\n&lt;$set name=\&quot;toc-item-class\&quot; filter=\&quot;\&quot;\&quot;$itemClassFilter$\&quot;\&quot;\&quot; value=\&quot;toc-item-selected\&quot; emptyValue=\&quot;toc-item\&quot;&gt;\n&lt;li class=&lt;&lt;toc-item-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[all[current]toc-link[no]]\&quot; emptyMessage=\&quot;&lt;$link&gt;&lt;$view field='caption'&gt;&lt;$view field='title'/&gt;&lt;/$view&gt;&lt;/$link&gt;\&quot;&gt;\n&lt;&lt;toc-caption&gt;&gt;\n&lt;/$list&gt;\n&lt;$list filter=\&quot;\&quot;\&quot;[all[current]] -[[$rootTag$]]\&quot;\&quot;\&quot;&gt;\n&lt;$macrocall $name=\&quot;toc-body\&quot; rootTag=\&quot;\&quot;\&quot;$rootTag$\&quot;\&quot;\&quot; tag=&lt;&lt;currentTiddler&gt;&gt; sort=\&quot;\&quot;\&quot;$sort$\&quot;\&quot;\&quot; itemClassFilter=\&quot;\&quot;\&quot;$itemClassFilter$\&quot;\&quot;\&quot;/&gt;\n&lt;/$list&gt;\n&lt;/li&gt;\n&lt;/$set&gt;\n&lt;/$list&gt;\n&lt;/ol&gt;\n\\end\n\n\\define toc(tag,sort:\&quot;\&quot;,itemClassFilter)\n&lt;&lt;toc-body rootTag:\&quot;\&quot;\&quot;$tag$\&quot;\&quot;\&quot; tag:\&quot;\&quot;\&quot;$tag$\&quot;\&quot;\&quot; sort:\&quot;\&quot;\&quot;$sort$\&quot;\&quot;\&quot; itemClassFilter:\&quot;\&quot;\&quot;itemClassFilter\&quot;\&quot;\&quot;&gt;&gt;\n\\end\n\n\\define toc-linked-expandable-body(tag,sort:\&quot;\&quot;,itemClassFilter)\n&lt;$set name=\&quot;toc-state\&quot; value=&lt;&lt;qualify \&quot;$:/state/toc/$tag$-$(currentTiddler)$\&quot;&gt;&gt;&gt;\n&lt;$set name=\&quot;toc-item-class\&quot; filter=\&quot;\&quot;\&quot;$itemClassFilter$\&quot;\&quot;\&quot; value=\&quot;toc-item-selected\&quot; emptyValue=\&quot;toc-item\&quot;&gt;\n&lt;li class=&lt;&lt;toc-item-class&gt;&gt;&gt;\n&lt;$link&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$button set=&lt;&lt;toc-state&gt;&gt; setTo=\&quot;open\&quot; class=\&quot;tc-btn-invisible\&quot;&gt;\n{{$:/core/images/right-arrow}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$button set=&lt;&lt;toc-state&gt;&gt; setTo=\&quot;close\&quot; class=\&quot;tc-btn-invisible\&quot;&gt;\n{{$:/core/images/down-arrow}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;&lt;toc-caption&gt;&gt;\n&lt;/$link&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$macrocall $name=\&quot;toc-expandable\&quot; tag=&lt;&lt;currentTiddler&gt;&gt; sort=\&quot;\&quot;\&quot;$sort$\&quot;\&quot;\&quot; itemClassFilter=\&quot;\&quot;\&quot;$itemClassFilter$\&quot;\&quot;\&quot;/&gt;\n&lt;/$reveal&gt;\n&lt;/li&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n\\end\n\n\\define toc-unlinked-expandable-body(tag,sort:\&quot;\&quot;,itemClassFilter)\n&lt;$set name=\&quot;toc-state\&quot; value=&lt;&lt;qualify \&quot;$:/state/toc/$tag$-$(currentTiddler)$\&quot;&gt;&gt;&gt;\n&lt;$set name=\&quot;toc-item-class\&quot; filter=\&quot;\&quot;\&quot;$itemClassFilter$\&quot;\&quot;\&quot; value=\&quot;toc-item-selected\&quot; emptyValue=\&quot;toc-item\&quot;&gt;\n&lt;li class=&lt;&lt;toc-item-class&gt;&gt;&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$button set=&lt;&lt;toc-state&gt;&gt; setTo=\&quot;open\&quot; class=\&quot;tc-btn-invisible\&quot;&gt;\n{{$:/core/images/right-arrow}}\n&lt;&lt;toc-caption&gt;&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$button set=&lt;&lt;toc-state&gt;&gt; setTo=\&quot;close\&quot; class=\&quot;tc-btn-invisible\&quot;&gt;\n{{$:/core/images/down-arrow}}\n&lt;&lt;toc-caption&gt;&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$macrocall $name=\&quot;toc-expandable\&quot; tag=&lt;&lt;currentTiddler&gt;&gt; sort=\&quot;\&quot;\&quot;$sort$\&quot;\&quot;\&quot; itemClassFilter=\&quot;\&quot;\&quot;$itemClassFilter$\&quot;\&quot;\&quot;/&gt;\n&lt;/$reveal&gt;\n&lt;/li&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n\\end\n\n\\define toc-expandable(tag,sort:\&quot;\&quot;,itemClassFilter)\n&lt;ol class=\&quot;tc-toc toc-expandable\&quot;&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$tag$]!has[draft.of]$sort$]\&quot;&gt;\n&lt;$list filter=\&quot;[all[current]toc-link[no]]\&quot; emptyMessage=\&quot;&lt;&lt;toc-linked-expandable-body tag:'$tag$' sort:'$sort$' itemClassFilter:'$itemClassFilter$'&gt;&gt;\&quot;&gt;\n&lt;&lt;toc-unlinked-expandable-body tag:\&quot;\&quot;\&quot;$tag$\&quot;\&quot;\&quot; sort:\&quot;\&quot;\&quot;$sort$\&quot;\&quot;\&quot; itemClassFilter:\&quot;\&quot;\&quot;itemClassFilter\&quot;\&quot;\&quot;&gt;&gt;\n&lt;/$list&gt;\n&lt;/$list&gt;\n&lt;/ol&gt;\n\\end\n\n\\define toc-linked-selective-expandable-body(tag,sort:\&quot;\&quot;,itemClassFilter)\n&lt;$set name=\&quot;toc-state\&quot; value=&lt;&lt;qualify \&quot;$:/state/toc/$tag$-$(currentTiddler)$\&quot;&gt;&gt;&gt;\n&lt;$set name=\&quot;toc-item-class\&quot; filter=\&quot;\&quot;\&quot;$itemClassFilter$\&quot;\&quot;\&quot; value=\&quot;toc-item-selected\&quot; emptyValue=\&quot;toc-item\&quot;&gt;\n&lt;li class=&lt;&lt;toc-item-class&gt;&gt;&gt;\n&lt;$link&gt;\n&lt;$list filter=\&quot;[all[current]tagging[]limit[1]]\&quot; variable=\&quot;ignore\&quot; emptyMessage=\&quot;&lt;$button class='tc-btn-invisible'&gt;{{$:/core/images/blank}}&lt;/$button&gt;\&quot;&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$button set=&lt;&lt;toc-state&gt;&gt; setTo=\&quot;open\&quot; class=\&quot;tc-btn-invisible\&quot;&gt;\n{{$:/core/images/right-arrow}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$button set=&lt;&lt;toc-state&gt;&gt; setTo=\&quot;close\&quot; class=\&quot;tc-btn-invisible\&quot;&gt;\n{{$:/core/images/down-arrow}}\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/$list&gt;\n&lt;&lt;toc-caption&gt;&gt;\n&lt;/$link&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$macrocall $name=\&quot;toc-selective-expandable\&quot; tag=&lt;&lt;currentTiddler&gt;&gt; sort=\&quot;\&quot;\&quot;$sort$\&quot;\&quot;\&quot; itemClassFilter=\&quot;\&quot;\&quot;$itemClassFilter$\&quot;\&quot;\&quot;/&gt;\n&lt;/$reveal&gt;\n&lt;/li&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n\\end\n\n\\define toc-unlinked-selective-expandable-body(tag,sort:\&quot;\&quot;,itemClassFilter)\n&lt;$set name=\&quot;toc-state\&quot; value=&lt;&lt;qualify \&quot;$:/state/toc/$tag$-$(currentTiddler)$\&quot;&gt;&gt;&gt;\n&lt;$set name=\&quot;toc-item-class\&quot; filter=\&quot;\&quot;\&quot;$itemClassFilter$\&quot;\&quot;\&quot; value=\&quot;toc-item-selected\&quot; emptyValue=\&quot;toc-item\&quot;&gt;\n&lt;li class=&lt;&lt;toc-item-class&gt;&gt;&gt;\n&lt;$list filter=\&quot;[all[current]tagging[]limit[1]]\&quot; variable=\&quot;ignore\&quot; emptyMessage=\&quot;&lt;$button class='tc-btn-invisible'&gt;{{$:/core/images/blank}}&lt;/$button&gt; &lt;$view field='caption'&gt;&lt;$view field='title'/&gt;&lt;/$view&gt;\&quot;&gt;\n&lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$button set=&lt;&lt;toc-state&gt;&gt; setTo=\&quot;open\&quot; class=\&quot;tc-btn-invisible\&quot;&gt;\n{{$:/core/images/right-arrow}}\n&lt;&lt;toc-caption&gt;&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$button set=&lt;&lt;toc-state&gt;&gt; setTo=\&quot;close\&quot; class=\&quot;tc-btn-invisible\&quot;&gt;\n{{$:/core/images/down-arrow}}\n&lt;&lt;toc-caption&gt;&gt;\n&lt;/$button&gt;\n&lt;/$reveal&gt;\n&lt;/$list&gt;\n&lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;toc-state&gt;&gt; text=\&quot;open\&quot;&gt;\n&lt;$macrocall $name=\&quot;\&quot;\&quot;toc-selective-expandable\&quot;\&quot;\&quot; tag=&lt;&lt;currentTiddler&gt;&gt; sort=\&quot;\&quot;\&quot;$sort$\&quot;\&quot;\&quot; itemClassFilter=\&quot;\&quot;\&quot;$itemClassFilter$\&quot;\&quot;\&quot;/&gt;\n&lt;/$reveal&gt;\n&lt;/li&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n\\end\n\n\\define toc-selective-expandable(tag,sort:\&quot;\&quot;,itemClassFilter)\n&lt;ol class=\&quot;tc-toc toc-selective-expandable\&quot;&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$tag$]!has[draft.of]$sort$]\&quot;&gt;\n&lt;$list filter=\&quot;[all[current]toc-link[no]]\&quot; variable=\&quot;ignore\&quot; emptyMessage=\&quot;&lt;&lt;toc-linked-selective-expandable-body tag:'$tag$' sort:'$sort$' itemClassFilter:'$itemClassFilter$'&gt;&gt;\&quot;&gt;\n&lt;&lt;toc-unlinked-selective-expandable-body tag:\&quot;\&quot;\&quot;$tag$\&quot;\&quot;\&quot; sort:\&quot;\&quot;\&quot;$sort$\&quot;\&quot;\&quot; itemClassFilter:\&quot;\&quot;\&quot;$itemClassFilter$\&quot;\&quot;\&quot;&gt;&gt;\n&lt;/$list&gt;\n&lt;/$list&gt;\n&lt;/ol&gt;\n\\end\n\n\\define toc-tabbed-selected-item-filter(selectedTiddler)\n[all[current]field:title{$selectedTiddler$}]\n\\end\n\n\\define toc-tabbed-external-nav(tag,sort:\&quot;\&quot;,selectedTiddler:\&quot;$:/temp/toc/selectedTiddler\&quot;,unselectedText,missingText,template:\&quot;\&quot;)\n&lt;$tiddler tiddler={{$selectedTiddler$}}&gt;\n&lt;div class=\&quot;tc-tabbed-table-of-contents\&quot;&gt;\n&lt;$linkcatcher to=\&quot;$selectedTiddler$\&quot;&gt;\n&lt;div class=\&quot;tc-table-of-contents\&quot;&gt;\n&lt;$macrocall $name=\&quot;toc-selective-expandable\&quot; tag=\&quot;\&quot;\&quot;$tag$\&quot;\&quot;\&quot; sort=\&quot;\&quot;\&quot;$sort$\&quot;\&quot;\&quot; itemClassFilter=&lt;&lt;toc-tabbed-selected-item-filter selectedTiddler:\&quot;\&quot;\&quot;$selectedTiddler$\&quot;\&quot;\&quot;&gt;&gt;/&gt;\n&lt;/div&gt;\n&lt;/$linkcatcher&gt;\n&lt;div class=\&quot;tc-tabbed-table-of-contents-content\&quot;&gt;\n&lt;$reveal state=\&quot;\&quot;\&quot;$selectedTiddler$\&quot;\&quot;\&quot; type=\&quot;nomatch\&quot; text=\&quot;\&quot;&gt;\n&lt;$transclude mode=\&quot;block\&quot; tiddler=\&quot;$template$\&quot;&gt;\n&lt;h1&gt;&lt;&lt;toc-caption&gt;&gt;&lt;/h1&gt;\n&lt;$transclude mode=\&quot;block\&quot;&gt;$missingText$&lt;/$transclude&gt;\n&lt;/$transclude&gt;\n&lt;/$reveal&gt;\n&lt;$reveal state=\&quot;\&quot;\&quot;$selectedTiddler$\&quot;\&quot;\&quot; type=\&quot;match\&quot; text=\&quot;\&quot;&gt;\n$unselectedText$\n&lt;/$reveal&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/$tiddler&gt;\n\\end\n\n\\define toc-tabbed-internal-nav(tag,sort:\&quot;\&quot;,selectedTiddler:\&quot;$:/temp/toc/selectedTiddler\&quot;,unselectedText,missingText,template:\&quot;\&quot;)\n&lt;$linkcatcher to=\&quot;\&quot;\&quot;$selectedTiddler$\&quot;\&quot;\&quot;&gt;\n&lt;$macrocall $name=\&quot;toc-tabbed-external-nav\&quot; tag=\&quot;\&quot;\&quot;$tag$\&quot;\&quot;\&quot; sort=\&quot;\&quot;\&quot;$sort$\&quot;\&quot;\&quot; selectedTiddler=\&quot;\&quot;\&quot;$selectedTiddler$\&quot;\&quot;\&quot; unselectedText=\&quot;\&quot;\&quot;$unselectedText$\&quot;\&quot;\&quot; missingText=\&quot;\&quot;\&quot;$missingText$\&quot;\&quot;\&quot; template=\&quot;\&quot;\&quot;$template$\&quot;\&quot;\&quot;/&gt;\n&lt;/$linkcatcher&gt;\n\\end\n\n&quot;
        },
        &quot;$:/snippets/minilanguageswitcher&quot;: {
            &quot;title&quot;: &quot;$:/snippets/minilanguageswitcher&quot;,
            &quot;text&quot;: &quot;&lt;$select tiddler=\&quot;$:/language\&quot;&gt;\n&lt;$list filter=\&quot;[[$:/languages/en-GB]] [plugin-type[language]sort[title]]\&quot;&gt;\n&lt;option value=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;$view field=\&quot;description\&quot;&gt;&lt;$view field=\&quot;name\&quot;&gt;&lt;$view field=\&quot;title\&quot;/&gt;&lt;/$view&gt;&lt;/$view&gt;&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;&quot;
        },
        &quot;$:/snippets/minithemeswitcher&quot;: {
            &quot;title&quot;: &quot;$:/snippets/minithemeswitcher&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Theme/\n&lt;&lt;lingo Prompt&gt;&gt; &lt;$select tiddler=\&quot;$:/theme\&quot;&gt;\n&lt;$list filter=\&quot;[plugin-type[theme]sort[title]]\&quot;&gt;\n&lt;option value=&lt;&lt;currentTiddler&gt;&gt;&gt;&lt;$view field=\&quot;name\&quot;&gt;&lt;$view field=\&quot;title\&quot;/&gt;&lt;/$view&gt;&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;&quot;
        },
        &quot;$:/snippets/modules&quot;: {
            &quot;title&quot;: &quot;$:/snippets/modules&quot;,
            &quot;text&quot;: &quot;\\define describeModuleType(type)\n{{$:/language/Docs/ModuleTypes/$type$}}\n\\end\n&lt;$list filter=\&quot;[moduletypes[]]\&quot;&gt;\n\n!! &lt;$macrocall $name=\&quot;currentTiddler\&quot; $type=\&quot;text/plain\&quot; $output=\&quot;text/plain\&quot;/&gt;\n\n&lt;$macrocall $name=\&quot;describeModuleType\&quot; type=&lt;&lt;currentTiddler&gt;&gt;/&gt;\n\n&lt;ul&gt;&lt;$list filter=\&quot;[all[current]modules[]]\&quot;&gt;&lt;li&gt;&lt;$link&gt;&lt;&lt;currentTiddler&gt;&gt;&lt;/$link&gt;\n&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n&lt;/$list&gt;\n&quot;
        },
        &quot;$:/palette&quot;: {
            &quot;title&quot;: &quot;$:/palette&quot;,
            &quot;text&quot;: &quot;$:/palettes/Vanilla&quot;
        },
        &quot;$:/snippets/paletteeditor&quot;: {
            &quot;title&quot;: &quot;$:/snippets/paletteeditor&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Palette/Editor/\n\\define describePaletteColour(colour)\n&lt;$transclude tiddler=\&quot;$:/language/Docs/PaletteColours/$colour$\&quot;&gt;&lt;$text text=\&quot;$colour$\&quot;/&gt;&lt;/$transclude&gt;\n\\end\n&lt;$set name=\&quot;currentTiddler\&quot; value={{$:/palette}}&gt;\n\n&lt;&lt;lingo Prompt&gt;&gt; &lt;$link to={{$:/palette}}&gt;&lt;$macrocall $name=\&quot;currentTiddler\&quot; $output=\&quot;text/plain\&quot;/&gt;&lt;/$link&gt;\n\n&lt;$list filter=\&quot;[all[current]is[shadow]is[tiddler]]\&quot; variable=\&quot;listItem\&quot;&gt;\n&lt;&lt;lingo Prompt/Modified&gt;&gt;\n&lt;$button message=\&quot;tm-delete-tiddler\&quot; param={{$:/palette}}&gt;&lt;&lt;lingo Reset/Caption&gt;&gt;&lt;/$button&gt;\n&lt;/$list&gt;\n\n&lt;$list filter=\&quot;[all[current]is[shadow]!is[tiddler]]\&quot; variable=\&quot;listItem\&quot;&gt;\n&lt;&lt;lingo Clone/Prompt&gt;&gt;\n&lt;/$list&gt;\n\n&lt;$button message=\&quot;tm-new-tiddler\&quot; param={{$:/palette}}&gt;&lt;&lt;lingo Clone/Caption&gt;&gt;&lt;/$button&gt;\n\n&lt;table&gt;\n&lt;tbody&gt;\n&lt;$list filter=\&quot;[all[current]indexes[]]\&quot; variable=\&quot;colourName\&quot;&gt;\n&lt;tr&gt;\n&lt;td&gt;\n''&lt;$macrocall $name=\&quot;describePaletteColour\&quot; colour=&lt;&lt;colourName&gt;&gt;/&gt;''&lt;br/&gt;\n&lt;$macrocall $name=\&quot;colourName\&quot; $output=\&quot;text/plain\&quot;/&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;$edit-text index=&lt;&lt;colourName&gt;&gt; tag=\&quot;input\&quot;/&gt;\n&lt;br&gt;\n&lt;$edit-text index=&lt;&lt;colourName&gt;&gt; type=\&quot;color\&quot; tag=\&quot;input\&quot;/&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/$list&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/$set&gt;\n&quot;
        },
        &quot;$:/snippets/palettepreview&quot;: {
            &quot;title&quot;: &quot;$:/snippets/palettepreview&quot;,
            &quot;text&quot;: &quot;&lt;$set name=\&quot;currentTiddler\&quot; value={{$:/palette}}&gt;\n&lt;$transclude tiddler=\&quot;$:/snippets/currpalettepreview\&quot;/&gt;\n&lt;/$set&gt;\n&quot;
        },
        &quot;$:/snippets/paletteswitcher&quot;: {
            &quot;title&quot;: &quot;$:/snippets/paletteswitcher&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Palette/\n&lt;div class=\&quot;tc-prompt\&quot;&gt;\n&lt;&lt;lingo Prompt&gt;&gt; &lt;$view tiddler={{$:/palette}} field=\&quot;name\&quot;/&gt;\n&lt;/div&gt;\n\n&lt;$linkcatcher to=\&quot;$:/palette\&quot;&gt;\n&lt;div class=\&quot;tc-chooser\&quot;&gt;&lt;$list filter=\&quot;[all[shadows+tiddlers]tag[$:/tags/Palette]sort[description]]\&quot;&gt;&lt;div class=\&quot;tc-chooser-item\&quot;&gt;&lt;$link to={{!!title}}&gt;&lt;div&gt;&lt;$reveal state=\&quot;$:/palette\&quot; type=\&quot;match\&quot; text={{!!title}}&gt;&amp;bull;&lt;/$reveal&gt;&lt;$reveal state=\&quot;$:/palette\&quot; type=\&quot;nomatch\&quot; text={{!!title}}&gt;&amp;nbsp;&lt;/$reveal&gt; ''&lt;$view field=\&quot;name\&quot; format=\&quot;text\&quot;/&gt;'' - &lt;$view field=\&quot;description\&quot; format=\&quot;text\&quot;/&gt;&lt;/div&gt;&lt;$transclude tiddler=\&quot;$:/snippets/currpalettepreview\&quot;/&gt;&lt;/$link&gt;&lt;/div&gt;\n&lt;/$list&gt;\n&lt;/div&gt;\n&lt;/$linkcatcher&gt;&quot;
        },
        &quot;$:/temp/search&quot;: {
            &quot;title&quot;: &quot;$:/temp/search&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/tags/AdvancedSearch&quot;: {
            &quot;title&quot;: &quot;$:/tags/AdvancedSearch&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/AdvancedSearch/Standard]] [[$:/core/ui/AdvancedSearch/System]] [[$:/core/ui/AdvancedSearch/Shadows]] [[$:/core/ui/AdvancedSearch/Filter]]&quot;
        },
        &quot;$:/tags/ControlPanel&quot;: {
            &quot;title&quot;: &quot;$:/tags/ControlPanel&quot;,
            &quot;list&quot;: &quot;$:/core/ui/ControlPanel/Info $:/core/ui/ControlPanel/Appearance $:/core/ui/ControlPanel/Settings $:/core/ui/ControlPanel/Saving $:/core/ui/ControlPanel/Plugins $:/core/ui/ControlPanel/Tools $:/core/ui/ControlPanel/Internals&quot;
        },
        &quot;$:/tags/ControlPanel/Info&quot;: {
            &quot;title&quot;: &quot;$:/tags/ControlPanel/Info&quot;,
            &quot;list&quot;: &quot;$:/core/ui/ControlPanel/Basics $:/core/ui/ControlPanel/Advanced&quot;
        },
        &quot;$:/tags/ControlPanel/Plugins&quot;: {
            &quot;title&quot;: &quot;$:/tags/ControlPanel/Plugins&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/ControlPanel/Plugins/Installed]] [[$:/core/ui/ControlPanel/Plugins/Add]]&quot;
        },
        &quot;$:/tags/EditTemplate&quot;: {
            &quot;title&quot;: &quot;$:/tags/EditTemplate&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/EditTemplate/controls]] [[$:/core/ui/EditTemplate/title]] [[$:/core/ui/EditTemplate/tags]] [[$:/core/ui/EditTemplate/shadow]] [[$:/core/ui/ViewTemplate/classic]] [[$:/core/ui/EditTemplate/body]] [[$:/core/ui/EditTemplate/type]] [[$:/core/ui/EditTemplate/fields]]&quot;
        },
        &quot;$:/tags/EditToolbar&quot;: {
            &quot;title&quot;: &quot;$:/tags/EditToolbar&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/Buttons/delete]] [[$:/core/ui/Buttons/cancel]] [[$:/core/ui/Buttons/save]]&quot;
        },
        &quot;$:/tags/MoreSideBar&quot;: {
            &quot;title&quot;: &quot;$:/tags/MoreSideBar&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/MoreSideBar/All]] [[$:/core/ui/MoreSideBar/Recent]] [[$:/core/ui/MoreSideBar/Tags]] [[$:/core/ui/MoreSideBar/Missing]] [[$:/core/ui/MoreSideBar/Drafts]] [[$:/core/ui/MoreSideBar/Orphans]] [[$:/core/ui/MoreSideBar/Types]] [[$:/core/ui/MoreSideBar/System]] [[$:/core/ui/MoreSideBar/Shadows]]&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/tags/PageControls&quot;: {
            &quot;title&quot;: &quot;$:/tags/PageControls&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/Buttons/home]] [[$:/core/ui/Buttons/close-all]] [[$:/core/ui/Buttons/fold-all]] [[$:/core/ui/Buttons/unfold-all]] [[$:/core/ui/Buttons/permaview]] [[$:/core/ui/Buttons/new-tiddler]] [[$:/core/ui/Buttons/new-journal]] [[$:/core/ui/Buttons/import]] [[$:/core/ui/Buttons/export-page]] [[$:/core/ui/Buttons/control-panel]] [[$:/core/ui/Buttons/advanced-search]] [[$:/core/ui/Buttons/tag-manager]] [[$:/core/ui/Buttons/language]] [[$:/core/ui/Buttons/palette]] [[$:/core/ui/Buttons/theme]] [[$:/core/ui/Buttons/storyview]] [[$:/core/ui/Buttons/encryption]] [[$:/core/ui/Buttons/full-screen]] [[$:/core/ui/Buttons/save-wiki]] [[$:/core/ui/Buttons/refresh]] [[$:/core/ui/Buttons/more-page-actions]]&quot;
        },
        &quot;$:/tags/PageTemplate&quot;: {
            &quot;title&quot;: &quot;$:/tags/PageTemplate&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/PageTemplate/topleftbar]] [[$:/core/ui/PageTemplate/toprightbar]] [[$:/core/ui/PageTemplate/sidebar]] [[$:/core/ui/PageTemplate/story]] [[$:/core/ui/PageTemplate/alerts]]&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/tags/SideBar&quot;: {
            &quot;title&quot;: &quot;$:/tags/SideBar&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/SideBar/Open]] [[$:/core/ui/SideBar/Recent]] [[$:/core/ui/SideBar/Tools]] [[$:/core/ui/SideBar/More]]&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/tags/TiddlerInfo&quot;: {
            &quot;title&quot;: &quot;$:/tags/TiddlerInfo&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/TiddlerInfo/Tools]] [[$:/core/ui/TiddlerInfo/References]] [[$:/core/ui/TiddlerInfo/Tagging]] [[$:/core/ui/TiddlerInfo/List]] [[$:/core/ui/TiddlerInfo/Listed]] [[$:/core/ui/TiddlerInfo/Fields]]&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/tags/TiddlerInfo/Advanced&quot;: {
            &quot;title&quot;: &quot;$:/tags/TiddlerInfo/Advanced&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/TiddlerInfo/Advanced/ShadowInfo]] [[$:/core/ui/TiddlerInfo/Advanced/PluginInfo]]&quot;
        },
        &quot;$:/tags/ViewTemplate&quot;: {
            &quot;title&quot;: &quot;$:/tags/ViewTemplate&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/ViewTemplate/title]] [[$:/core/ui/ViewTemplate/unfold]] [[$:/core/ui/ViewTemplate/subtitle]] [[$:/core/ui/ViewTemplate/tags]] [[$:/core/ui/ViewTemplate/classic]] [[$:/core/ui/ViewTemplate/body]]&quot;
        },
        &quot;$:/tags/ViewToolbar&quot;: {
            &quot;title&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;list&quot;: &quot;[[$:/core/ui/Buttons/more-tiddler-actions]] [[$:/core/ui/Buttons/info]] [[$:/core/ui/Buttons/new-here]] [[$:/core/ui/Buttons/new-journal-here]] [[$:/core/ui/Buttons/clone]] [[$:/core/ui/Buttons/export-tiddler]] [[$:/core/ui/Buttons/edit]] [[$:/core/ui/Buttons/delete]] [[$:/core/ui/Buttons/permalink]] [[$:/core/ui/Buttons/permaview]] [[$:/core/ui/Buttons/open-window]] [[$:/core/ui/Buttons/close-others]] [[$:/core/ui/Buttons/close]] [[$:/core/ui/Buttons/fold-others]] [[$:/core/ui/Buttons/fold]]&quot;
        },
        &quot;$:/snippets/themeswitcher&quot;: {
            &quot;title&quot;: &quot;$:/snippets/themeswitcher&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/Theme/\n&lt;&lt;lingo Prompt&gt;&gt; &lt;$view tiddler={{$:/theme}} field=\&quot;name\&quot;/&gt;\n\n&lt;$linkcatcher to=\&quot;$:/theme\&quot;&gt;\n&lt;$list filter=\&quot;[plugin-type[theme]sort[title]]\&quot;&gt;&lt;div&gt;&lt;$reveal state=\&quot;$:/theme\&quot; type=\&quot;match\&quot; text={{!!title}}&gt;&amp;bull;&lt;/$reveal&gt;&lt;$reveal state=\&quot;$:/theme\&quot; type=\&quot;nomatch\&quot; text={{!!title}}&gt;&amp;nbsp;&lt;/$reveal&gt; &lt;$link to={{!!title}}&gt;''&lt;$view field=\&quot;name\&quot; format=\&quot;text\&quot;/&gt;'' &lt;$view field=\&quot;description\&quot; format=\&quot;text\&quot;/&gt;&lt;/$link&gt;&lt;/div&gt;\n&lt;/$list&gt;\n&lt;/$linkcatcher&gt;&quot;
        },
        &quot;$:/core/wiki/title&quot;: {
            &quot;title&quot;: &quot;$:/core/wiki/title&quot;,
            &quot;type&quot;: &quot;text/vnd.tiddlywiki&quot;,
            &quot;text&quot;: &quot;{{$:/SiteTitle}} --- {{$:/SiteSubtitle}}&quot;
        },
        &quot;$:/view&quot;: {
            &quot;title&quot;: &quot;$:/view&quot;,
            &quot;text&quot;: &quot;classic&quot;
        },
        &quot;$:/snippets/viewswitcher&quot;: {
            &quot;title&quot;: &quot;$:/snippets/viewswitcher&quot;,
            &quot;text&quot;: &quot;\\define lingo-base() $:/language/ControlPanel/StoryView/\n&lt;&lt;lingo Prompt&gt;&gt; &lt;$select tiddler=\&quot;$:/view\&quot;&gt;\n&lt;$list filter=\&quot;[storyviews[]]\&quot;&gt;\n&lt;option&gt;&lt;$view field=\&quot;title\&quot;/&gt;&lt;/option&gt;\n&lt;/$list&gt;\n&lt;/$select&gt;&quot;
        }
    }
}</pre>
</div>
<div created="20160218074901991" modified="20160218074903161" title="$:/DefaultTiddlers">
<pre>Welcome!
</pre>
</div>
<div status="complete" title="$:/Import">
<pre>The following tiddlers were imported:

# [[tocEntry]]</pre>
</div>
<div title="$:/isEncrypted">
<pre>no</pre>
</div>
<div author="Felix Küppers" core-version="&gt;=5.1.5" dependents="" description="HotZone – Be notified when tiddlers are scrolled into view" list="Configuration License Readme" plugin-type="plugin" released="" source="https://github.com/felixhayashi/TW5-HotZone" title="$:/plugins/felixhayashi/hotzone" type="application/json" version="0.0.3">
<pre>{
    &quot;tiddlers&quot;: {
        &quot;$:/plugins/felixhayashi/hotzone/config.js&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/hotzone/config.js\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\n(function(){\n    \n  /*jslint node: true, browser: true */\n  /*global $tw: false */\n  \&quot;use strict\&quot;;\n\n  /***************************** CODE ******************************/\n\n  exports.config = {\n    \n    // Essential tiddlywiki classes that we depend on\n    classNames: {\n      \n      // contains all tiddlers and some other stuff\n      storyRiver: \&quot;tc-story-river\&quot;,\n      \n      // wraps a tiddler and contains the title\n      tiddlerFrame: \&quot;tc-tiddler-frame\&quot;,\n      \n      // elements with this class contain the title\n      tiddlerTitle: \&quot;tc-title\&quot;\n      \n    },\n    \n    references: {\n      \n      // User configuration\n      userConfig: \&quot;$:/config/hotzone/focusOffset\&quot;,\n            \n      // This tiddler holds a reference to the currently focussed\n      // tiddler. A tiddler is focussed if it was scrolled to\n      // reach the top offset.\n      focussedTiddlerStore: \&quot;$:/temp/focussedTiddler\&quot;\n      \n    },\n    \n    // Time after a scroll event that has to elapse before we\n    // check which tiddler is actually focussed. This is necessary\n    // to avoid updates that only result from scroll animations.\n    checkbackTime: $tw.utils.getAnimationDuration()\n    \n  };\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/hotzone/config.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/hotzone/hotzone.js&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/hotzone/hotzone.js\ntype: application/javascript\nmodule-type: startup\n\n@preserve\n\n\\*/\n\n(function(){\n\n/*jslint node: true, browser: true */\n/*global $tw: false */\n\&quot;use strict\&quot;;\n\n// Export name and synchronous status\nexports.name = \&quot;hotzone\&quot;;\nexports.platforms = [\&quot;browser\&quot;];\nexports.after = [\&quot;story\&quot;];\nexports.synchronous = true;\n\nexports.startup = function() {\n\n/***************************** IMPORTS *****************************/\n \nvar config = require(\&quot;$:/plugins/felixhayashi/hotzone/config.js\&quot;).config;\n\n/*************************** VARIABLES *****************************/\n\nvar curRef = null;\nvar isTimeoutActive = false;\nvar storyRiverElement = document.getElementsByClassName(config.classNames.storyRiver)[0];\nvar userConf = $tw.wiki.getTiddlerData(config.references.userConfig, {});\nvar focusOffset = (isNaN(parseInt(userConf.focusOffset))\n                   ? 150 : parseInt(userConf.focusOffset)); // px\n\n/*************************** FUNCTIONS *****************************/\n          \n/**\n * Extracts the tiddler title from dom elements holding it.\n * \n * @param {Element} target - The tiddler frame element.\n * @return {string} The title or undefined\n */\nvar extractTitleFromFrame = function(target, frameClass, titleClass) {\n    \n  if(!(target instanceof Element)) return;\n  if(!$tw.utils.hasClass(target, config.classNames.tiddlerFrame)) return;\n\n  var el = target.getElementsByClassName(config.classNames.tiddlerTitle)[0];\n  if(el) {\n    var title = el.innerText || el.textContent;\n    return title.trim();\n  }\n\n};\n\n/**\n * Calls the scroll handler with a certain delay. If no delay\n * is specified, the handler is called instantly. If a delay\n * is specified then any new call to update is ignored until the delay\n * is over and the handler has been called.\n * \n * @param {number} delay - Time after a scroll event that has to elapse\n *     before we check which tiddler is actually focussed. A delay may\n *     be necessary to avoid updates that only result from scroll animations.\n */\nvar update = function(delay) {\n  \n  // console.log(\&quot;hotzone:\&quot;, \&quot;update\&quot;);\n    \n  if(!isTimeoutActive) {\n    isTimeoutActive = true;\n    window.setTimeout(checkForFocusChange, delay || 0);\n  }\n\n};\n\n/**\n * Set a flag (class) to the active tiddler frame element and also\n * register the change at the focussed-tiddler-store.\n * \n * @param {string} tRef - The title of the newly focussed tiddler.\n * @param {Element} [target] - If available, the frame that corresponds\n *     to the focussed tiddler.\n */\nvar registerFocusChange = function(tRef, target) {\n  \n  // console.log(\&quot;hotzone:\&quot;, \&quot;changed focus; now at:\&quot;, tRef);\n  \n  $tw.wiki.addTiddler(new $tw.Tiddler({\n      title: config.references.focussedTiddlerStore,\n      text: tRef\n    },\n    $tw.wiki.getModificationFields()\n  ));\n  \n  if(target) {\n    var prevTarget = document.getElementsByClassName(\&quot;hzone-focus\&quot;)[0];\n    // remove class from previous\n    if(prevTarget) {\n      $tw.utils.removeClass(prevTarget, \&quot;hzone-focus\&quot;);\n    }\n    // add class to current\n    $tw.utils.addClass(target, \&quot;hzone-focus\&quot;);\n  }\n  \n};\n\n/**\n * Tries to extract the title from the frame that is currently in\n * focus and to register any changes.\n */\nvar checkForFocusChange = function() {\n  \n  // console.log(\&quot;hotzone:\&quot;, \&quot;check for focus change\&quot;);\n  \n  isTimeoutActive = false;\n  \n  var tObj = $tw.wiki.getTiddler(\&quot;$:/StoryList\&quot;);\n  if(tObj &amp;&amp; tObj.fields.list.length) {\n    \n    var target = null;\n    var minDistance = Number.MAX_VALUE;\n    var childElements = storyRiverElement.children;\n    var tiddlerFrameClass = config.classNames.tiddlerFrame;\n    for(var i = childElements.length; i--;) {\n      if($tw.utils.hasClass(childElements[i], tiddlerFrameClass)) {\n        var frameElRect = childElements[i].getBoundingClientRect();\n        var distance = Math.min(\n                         Math.abs(focusOffset - frameElRect.top),\n                         Math.abs(focusOffset - frameElRect.bottom)\n                      );\n        if(distance &lt; minDistance) {\n          // register frame with closer distance\n          target = childElements[i];\n          minDistance = distance;\n        }\n      }\n    }\n            \n    var title = extractTitleFromFrame(target);\n    \n    // console.log(\&quot;hotzone:\&quot;, \&quot;Target\&quot;, title, \&quot;distance to threshold\&quot;, minDistance);\n    \n    if(title !== curRef &amp;&amp; $tw.wiki.getTiddler(title)) { // focus changed\n      curRef = title;\n      registerFocusChange(curRef, target);\n      return;\n    }\n    \n  } else if(curRef) {\n    curRef = \&quot;\&quot;;\n    registerFocusChange(curRef);\n  }\n  \n  \n  \n};\n\n/**\n * Handler to react to tiddler changes\n */\nvar handleChangeEvent = function(changedTiddlers) {\n\n  // console.log(\&quot;hotzone:\&quot;, \&quot;handleChangeEvent\&quot;, changedTiddlers);\n\n  if(changedTiddlers[\&quot;$:/HistoryList\&quot;]) {\n    \n    // A navigation-scroll occurs if the current tiddler of the\n    // history list changed and this tiddler also exists in the\n    // current story list.\n    \n    if(!$tw.wiki.tiddlerExists(\&quot;$:/HistoryList\&quot;)) return;\n    \n    var curTiddler = $tw.wiki.getTiddler(\&quot;$:/HistoryList\&quot;).fields[\&quot;current-tiddler\&quot;];\n    var storyList = $tw.wiki.getTiddlerList(\&quot;$:/StoryList\&quot;);\n    var isInStoryList = storyList.indexOf(curTiddler) &gt;= 0;\n    if(!isInStoryList) return;\n    \n    // navigation-scroll took place; use animation duration as delay\n    // add a bit of delay to make sure the scroll handler is not triggered\n    // by the scroll listener\n    update($tw.utils.getAnimationDuration() + 100);\n    \n  } else if(changedTiddlers[\&quot;$:/StoryList\&quot;]) {\n        \n    // console.log(\&quot;hotzone:\&quot;, \&quot;story list change triggers recalculation\&quot;);\n    update($tw.utils.getAnimationDuration() + 100);\n    \n  }\n  \n};\n\n/**\n * Handler to react to scroll events\n */\nvar handleScrollEvent = function(event) {\n    \n  // update with a delay of 250ms to avoid uncessary calculations\n  update(250);\n  \n};\n  \n/**************************** RUNTIME ******************************/\n\n// register listeners\n$tw.wiki.addEventListener(\&quot;change\&quot;, handleChangeEvent);\nwindow.addEventListener('scroll', handleScrollEvent, false);  \n\n// simulate a scroll after startup\nhandleScrollEvent();\n      \n};\n\n})();\n&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/hotzone/hotzone.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/plugins/felixhayashi/hotzone/Configuration&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/hotzone/Configuration&quot;,
            &quot;text&quot;: &quot;Please see the [[GitHub page|https://github.com/felixhayashi/TW5-HotZone]] for more information on the options.\n\nSave and reload the wiki to activate changes.\n\n&lt;table&gt;\n  &lt;tr&gt;\n    &lt;th align=\&quot;left\&quot;&gt;Focus offset:&lt;/th&gt;\n    &lt;td&gt;&lt;$edit-text tiddler=\&quot;$:/config/hotzone/focusOffset\&quot; tag=\&quot;input\&quot; default=\&quot;71px\&quot; /&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;&quot;
        },
        &quot;$:/temp/focussedTiddler&quot;: {
            &quot;title&quot;: &quot;$:/temp/focussedTiddler&quot;
        },
        &quot;$:/plugins/felixhayashi/hotzone/License&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/hotzone/License&quot;,
            &quot;text&quot;: &quot;This code is released under the BSD license. For the exact terms visit:\n\nhttps://github.com/felixhayashi/TW5-HotZone/blob/master/LICENSE&quot;
        },
        &quot;$:/plugins/felixhayashi/hotzone/Readme&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/hotzone/Readme&quot;,
            &quot;text&quot;: &quot;Please visit the [[GitHub page|https://github.com/felixhayashi/TW5-HotZone]] for more information.&quot;
        }
    }
}</pre>
</div>
<div author="Felix Küppers" core-version="&gt;=5.1.5" dependents="$:/plugins/felixhayashi/vis" depends="$:/plugins/felixhayashi/vis" description="TiddlyMap – Map drawing and topic visualization for your wiki" list="readme license" plugin-type="plugin" released="Sun, 07 Feb 2016 01:08:58 GMT" source="https://github.com/felixhayashi/TW5-TiddlyMap" suggested="$:/plugins/felixhayashi/topstoryview" title="$:/plugins/felixhayashi/tiddlymap" type="application/json" version="0.11.2+8941">
<pre>{
    &quot;tiddlers&quot;: {
        &quot;$:/plugins/felixhayashi/tiddlymap/layout&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/layout&quot;,
            &quot;type&quot;: &quot;text/vnd.tiddlywiki&quot;,
            &quot;tags&quot;: [
                &quot;$:/tags/Stylesheet&quot;
            ],
            &quot;text&quot;: &quot;\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline \n\n﻿.tc-page-container-wrapper.tc-modal-displayed{-webkit-filter:inherit;-moz-filter:inherit;filter:inherit}.tc-modal-wrapper{z-index:1010}.tc-modal-wrapper .tc-modal-header svg{vertical-align:sub}.tc-modal-wrapper .tc-modal-header h3{line-height:10px}.tc-modal-wrapper .tc-modal-body{min-height:250px;max-height:70vh;padding-top:0px;padding-bottom:0px;overflow:auto}.tc-modal-wrapper .tc-modal-footer{padding:8px}.tc-modal-wrapper .tc-modal-footer .tmap-dialog-button{font-weight:bold}.tc-modal-wrapper .tc-modal-footer .tmap-hidden-close-button{display:none}table.tmap-table tr:nth-child(odd),.tc-modal-body table.tmap-config-table tr:nth-child(odd){background-color:#F0F0F0}table.tmap-table tr:nth-child(even),.tc-modal-body table.tmap-config-table tr:nth-child(even){background-color:#FFFFFF}.tmap-save-canvas-preview{text-align:center}.tmap-save-canvas-preview img{background-color:white;border:1px solid lightgray;max-width:100%;max-height:100px}.tmap-list-separator{display:block;background-color:#efefef;margin:10px 0 5px 0;cursor:default;border-bottom:1px dotted gray;font-weight:bold;font-size:0.8em}.tmap-unicode-icon{width:1em;display:inline-block;text-align:center;color:black}html .tmap-link{color:#5778D8}html .tmap-link:hover{color:white;background:#5778D8}html .tmap-small-list,html .tmap-smaller-list,html .tmap-very-small-list{overflow:auto;min-height:2em;max-height:9em;display:block}html .tmap-smaller-list{max-height:7em}html .tmap-very-small-list{max-height:5empx}html .tc-tiddler-controls button.tmap-active-button svg{fill:#888888}html #tmap-node-filter-dialog #tmap-filter-tips{font-size:0.8em}html #tmap-node-filter-dialog textarea{height:100px;max-height:300px;overflow:auto;width:100%;font-size:11px;font-family:\&quot;Courier New\&quot;, Courier, monospace}@media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}){.tc-sidebar-scrollable .tmap-desktop-editor .tmap-widget:not(.tmap-fullscreen){display:none}}@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}){.tc-sidebar-scrollable .tmap-mobile-editor{display:none}.tc-modal-wrapper{z-index:1010}.tc-modal-wrapper .tc-modal{boder:1px solid #999999;left:calc(50% - 400px);width:802px}.tc-modal-wrapper .tc-modal-body{left:calc(50% - 400px);width:800px}}@-o-keyframes fadein-keyframes{0%{opacity:0}100%{opacity:1}}@-moz-keyframes fadein-keyframes{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadein-keyframes{0%{opacity:0}100%{opacity:1}}@keyframes flash fadein-keyframes{0%{opacity:0}100%{opacity:1}}@-o-keyframes fadeout-keyframes{0%{opacity:1}100%{opacity:0}}@-moz-keyframes fadeout-keyframes{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes fadeout-keyframes{0%{opacity:1}100%{opacity:0}}@keyframes flash fadeout-keyframes{0%{opacity:1}100%{opacity:0}}.tmap-config-widget{background:#F0F0F0;padding:5px;margin:5px 0;box-sizing:border-box;display:block}.tmap-config-widget .vis-network{display:none}.tmap-config-widget .vis-configuration-wrapper{width:100%}.tmap-config-widget .vis-configuration-wrapper .vis-config-rangeinput{height:inherit;margin-left:4px}.tmap-config-widget .vis-configuration-wrapper .vis-configuration.vis-config-item{width:100%;height:inherit;background:none;padding-left:0px;left:0}.tmap-config-widget .vis-configuration-wrapper .vis-configuration.vis-config-item.tmap-vis-config-item-active .vis-config-label::after{content:\&quot;(inherited)\&quot;;position:absolute;display:inline-block;margin-left:10px;-o-animation:fadein-keyframes 1s;-moz-animation:fadein-keyframes 1s;-webkit-animation:fadein-keyframes 1s;animation:fadein-keyframes 1s;content:\&quot;✔\&quot;;color:green;font-weight:bold;font-size:15px}.tmap-config-widget .vis-configuration-wrapper .vis-configuration.vis-config-item button.tmap-config-item-reset{vertical-align:top;margin-left:5px}.tmap-config-widget .vis-configuration-wrapper .vis-configuration.vis-config-item .vis-config-range{width:150px}.tmap-config-widget .vis-configuration-wrapper .vis-configuration.vis-config-item .vis-config-range::-moz-range-track{width:150px !important}.tmap-config-widget .vis-configuration-wrapper .vis-configuration.vis-config-item .vis-config-label{width:150px}.tmap-config-widget::after{clear:both;content:\&quot;\&quot;;display:block}.tmap-flash-message{border:1px solid lightgray;padding:5px;margin:6px 0;display:block;color:#333333}.tmap-flash-message.tmap-info,.tmap-flash-message.tmap-plain,.tmap-flash-message.tmap-neutral{background:#F0F0F0}.tmap-flash-message.tmap-info::before,.tmap-flash-message.tmap-plain::before,.tmap-flash-message.tmap-neutral::before{content:\&quot;i\&quot;;display:inline-block;border-radius:50%;width:0.8em;border:2px solid;font-family:serif;text-align:center;height:0.8em;font-weight:bold;line-height:0.8em;vertical-align:text-top;margin-right:2px}.tmap-flash-message.tmap-valid,.tmap-flash-message.tmap-success{background:#D1EED4}.tmap-flash-message.tmap-valid::before,.tmap-flash-message.tmap-success::before{content:\&quot;i\&quot;;display:inline-block;border-radius:50%;width:0.8em;border:2px solid;font-family:serif;text-align:center;height:0.8em;font-weight:bold;line-height:0.8em;vertical-align:text-top;margin-right:2px}.tmap-flash-message.tmap-warning{background:#FFF6D1}.tmap-flash-message.tmap-warning::before{content:\&quot;\&quot;;display:inline-block;background:url(&lt;&lt;tmap \&quot;datauri\&quot; \&quot;$:/core/images/warning\&quot; \&quot;\&quot;&gt;&gt;);display:inline-block;width:1em;height:1em;background-size:100% 100%;vertical-align:text-top;margin-right:2px}.tmap-flash-message.tmap-malformed,.tmap-flash-message.tmap-invalid,.tmap-flash-message.tmap-danger{background:#EED5D1}.tmap-flash-message.tmap-malformed::before,.tmap-flash-message.tmap-invalid::before,.tmap-flash-message.tmap-danger::before{content:\&quot;\&quot;;display:inline-block;background:url(&lt;&lt;tmap \&quot;datauri\&quot; \&quot;$:/core/images/warning\&quot; \&quot;\&quot;&gt;&gt;);display:inline-block;width:1em;height:1em;background-size:100% 100%;vertical-align:text-top;margin-right:2px}.tmap-widget{background:#FFFFFF;width:auto;position:relative;border:1px dotted lightgray;padding:2px;color:#666;display:block}.tmap-widget.tmap-click-to-use:not(.tmap-fullscreen) .vis-network:not(.vis-active){cursor:pointer}.tmap-widget.tmap-click-to-use:not(.tmap-fullscreen) .vis-network:not(.vis-active) .vis-navigation{display:none}.tmap-widget.tmap-click-to-use:not(.tmap-fullscreen) .vis-network:not(.vis-active):hover:before{color:gray;background:white;content:\&quot;Click to use\&quot;;font-size:14px;font-weight:bold;right:calc(50% - 65px - 5px);position:absolute;text-align:center;top:calc(50% - 14px - 5px);width:130px;z-index:2000;padding:5px;pointer-events:none;background-color:rgba(255,255,255,0.3)}.tmap-widget .tmap-loading-bar{display:none;position:absolute;text-align:center;font-size:2em;padding:10px;top:50%;background:rgba(245,245,245,0.5);z-index:1;width:250px;margin:auto;left:0px;right:0px}.tmap-widget .tmap-vis-graph{height:calc(100% - 35px)}.tmap-widget.tmap-no-buttons .vis-navigation{display:none}.tmap-widget.tmap-advanced-editor .tmap-topbar{background:#d6d9d8}.tmap-widget.tmap-advanced-editor .tmap-topbar .tmap-active-button{color:#488DCD}.tmap-widget.tmap-advanced-editor .tmap-topbar .tmap-active-button svg{fill:#488DCD}.tmap-widget.tmap-advanced-editor .tmap-topbar .tmap-neigh-scope-button{font-size:1.5em;vertical-align:bottom}.tmap-widget .tmap-menu-bar{width:100%}.tmap-widget .tmap-topbar{background:#F5F5F5;border-bottom:1px solid lightgray;padding:3px 5px;height:35px;position:relative}.tmap-widget .tmap-topbar .tmap-view-label{width:100%;text-align:center;font-weight:bold;padding-top:3px}.tmap-widget .tmap-topbar .tmap-focus-button{position:absolute;right:10px}.tmap-widget .tmap-topbar .tmap-focus-button input{width:140px}.tmap-widget .tmap-topbar .tmap-search-dropdown{position:relative}.tmap-widget .tmap-topbar .tmap-search-dropdown .tc-drop-down{position:absolute;z-index:999;right:0px}.tmap-widget .tmap-topbar .tc-drop-down{background-color:#F3F3F3;min-width:170px;max-width:210px;padding:5px;margin:5px 0}.tmap-widget .tmap-topbar .tc-drop-down button,.tmap-widget .tmap-topbar .tc-drop-down a{padding:0px;text-decoration:none}.tmap-widget .tmap-topbar .tc-drop-down button:hover,.tmap-widget .tmap-topbar .tc-drop-down a:hover{color:#ffffff}.tmap-widget .tmap-topbar .tc-drop-down button svg,.tmap-widget .tmap-topbar .tc-drop-down a svg{vertical-align:middle}.tmap-widget .tmap-topbar [hidden]{display:none}.tmap-widget .tmap-topbar .tc-block-dropdown{width:370px;min-width:370px;padding:5px;margin:15px 0 0 -370px}.tmap-widget .tmap-topbar .tc-block-dropdown a{display:inline;padding:0px}.tmap-widget .tmap-topbar select{width:30%;max-width:200px;word-wrap:initial;padding:0px}.tmap-widget .tmap-topbar button{line-height:inherit;color:#666}.tmap-widget .tmap-topbar&gt;*{display:inline-block}.tmap-widget .tmap-topbar .tmap-separator:after{color:#bdbdbd;margin:3px;content:\&quot; | \&quot;}.tmap-widget .tmap-topbar .tc-edit-add-tag .tc-add-tag-name input{width:70%}.tmap-widget .tmap-topbar .tc-sidebar-header{text-shadow:none}.tmap-widget .tmap-topbar .tc-edit-tags{border:none;padding:inherit;box-shadow:none}.tmap-widget.tmap-static-mode .tmap-topbar{height:initial}.tmap-widget.tmap-static-mode .tmap-vis-graph{text-align:center;cursor:not-allowed}.tmap-widget.tmap-static-mode .tmap-vis-graph:not(.tmap-graph-placeholder):hover::before{box-shadow:10px 10px 5px lightgray;color:gray;background:white;content:\&quot;Static\&quot;;font-size:18px;font-weight:bold;left:50%;margin-left:-100px;position:absolute;text-align:center;top:50px;width:200px;z-index:2000;padding:5px;pointer-events:none}.tmap-widget.tmap-static-mode .tmap-vis-graph.tmap-graph-placeholder::before{content:\&quot;No Preview\&quot;;display:block;text-align:center;padding:20px}.tmap-widget.tmap-plain-design{border:none;padding:0px}.tmap-widget.tmap-plain-design .tmap-topbar{display:none}.tc-sidebar-scrollable .tmap-widget{position:absolute;min-height:350px}.tmap-widget div.vis-network .vis-edit-mode{height:26px}.tmap-widget div.vis-network .vis-manipulation{height:34px;border-top:1px solid #d6d9d8;background:rgba(245,245,245,0.7)}.tmap-widget div.vis-network .vis-navigation .vis-button.tmap-button-enabled{right:15px}.tmap-widget div.vis-network .vis-navigation .vis-button.tmap-button-enabled.tmap-fullscreen-button{bottom:90px;background-image:url(&lt;&lt;tmap \&quot;datauri\&quot; \&quot;$:/plugins/felixhayashi/tiddlymap/media/fullscreen.png\&quot; \&quot;\&quot;&gt;&gt;)}.tmap-widget div.vis-network .vis-navigation .vis-button.tmap-button-enabled.tmap-halfscreen-button{bottom:130px;background-image:url(&lt;&lt;tmap \&quot;datauri\&quot; \&quot;$:/plugins/felixhayashi/tiddlymap/media/halfscreen.png\&quot; \&quot;\&quot;&gt;&gt;)}.tmap-widget div.vis-network .vis-navigation .vis-button:hover{box-shadow:0 0 3px 3px rgba(75,75,75,0.3)}.tmap-widget div.vis-network .vis-navigation .vis-button:hover:before{background:beige;display:block;color:black;padding:3px;position:relative;border:1px solid lightgray;width:80px;left:-100px;top:-50px;z-index:1000;text-align:center}.tmap-widget div.vis-network .vis-navigation .vis-button:hover.vis-up:before{left:30px;content:\&quot;Scroll up\&quot;}.tmap-widget div.vis-network .vis-navigation .vis-button:hover.vis-down:before{left:30px;content:\&quot;Scroll down\&quot;}.tmap-widget div.vis-network .vis-navigation .vis-button:hover.vis-right:before{left:30px;content:\&quot;Scroll right\&quot;}.tmap-widget div.vis-network .vis-navigation .vis-button:hover.vis-left:before{left:30px;content:\&quot;Scroll left\&quot;}.tmap-widget div.vis-network .vis-navigation .vis-button:hover.vis-zoomOut:before{content:\&quot;Zoom out\&quot;}.tmap-widget div.vis-network .vis-navigation .vis-button:hover.vis-zoomIn:before{content:\&quot;Zoom in\&quot;}.tmap-widget div.vis-network .vis-navigation .vis-button:hover.vis-zoomExtends:before{content:\&quot;Fit whole graph\&quot;}.tmap-widget div.vis-network .vis-navigation .vis-button:hover.tmap-fullscreen-button:before{content:\&quot;Toggle Fullscreen\&quot;}.tmap-widget div.vis-network .vis-navigation .vis-button:hover.tmap-halfscreen-button:before{content:\&quot;Toggle Halfscreen\&quot;}.tc-dropzone&gt;.tc-story-river .tmap-widget .vis-navigation .tmap-halfscreen-button{display:none}.tc-dropzone&gt;.tc-story-river .tmap-widget:not(.tmap-fullscreen) .vis-navigation .vis-button{display:none}.tc-dropzone&gt;.tc-story-river .tmap-widget:hover .vis-navigation .vis-button.tmap-fullscreen-button{display:block}.tc-dropzone&gt;.tc-story-river .tmap-widget:hover .vis-navigation .vis-button.vis-zoomExtends{display:block}body.tmap-has-fullscreen-widget{overflow:hidden}body.tmap-has-fullscreen-widget .tmap-widget.tmap-fullscreen{background:white !important;height:100% !important;width:100% !important;position:fixed !important;top:0 !important;right:0 !important;bottom:0 !important;left:0 !important;z-index:999 !important;border:none !important;margin:0 !important}body.tmap-has-fullscreen-widget .tc-dropzone&gt;*.tmap-has-fullscreen-widget{background:white !important;height:100% !important;width:100% !important;position:fixed !important;top:0 !important;right:0 !important;bottom:0 !important;left:0 !important;z-index:999 !important;border:none !important;margin:0 !important}body.tmap-has-fullscreen-widget .tc-dropzone&gt;*:not(.tmap-has-fullscreen-widget){display:none}body.tmap-has-halfscreen-widget .tmap-widget.tmap-halfscreen{background:white !important;height:100% !important;width:100% !important;position:fixed !important;top:0 !important;right:0 !important;bottom:0 !important;left:0 !important;z-index:999 !important;border:none !important;margin:0 !important;position:absolute !important;border-left:1px solid lightgray !important}.tc-modal-footer .tmap-hidden-close-button{display:none}.tmap-modal-content{position:relative;padding:1em 0;padding-top:0}.tmap-modal-content table tr td{vertical-align:top}.tmap-modal-content :not(pre)&gt;code{padding:1px;font-size:0.9em;position:relative;top:-1px}.tmap-modal-content :not(pre)&gt;code{color:#666}.tmap-modal-content .tc-tab-set .tc-tab-content{margin-top:0.5em}.tmap-modal-content .tc-image-button{font-size:14px}.tmap-modal-content fieldset{margin:0px}.tmap-modal-content fieldset legend{font-weight:bold}.tc-modal-body .tmap-modal-editor&gt;p{margin:0px}.tc-modal-body .tmap-modal-editor .tmap-template-select select{width:50%}.tc-modal-body .tmap-modal-editor .tc-tiddler-frame{margin:auto;width:auto}.tc-modal-body .tmap-modal-editor .tc-tiddler-frame .tc-tiddler-controls{display:none}.tc-modal-body .tmap-modal-editor .tc-tiddler-frame .tc-tiddler-title{display:none}.tc-modal-body table{margin:6px 0;border:none;width:100%}.tc-modal-body table td,.tc-modal-body table th{border:1px solid lightgray}.tc-modal-body table.tmap-key-value-table th{width:30%;background-color:#F0F0F0}.tc-modal-body table.tmap-config-table.tmap-large-input tr td:last-child{width:20%}.tc-modal-body table.tmap-config-table.tmap-small-input tr td:last-child{width:60%}.tc-modal-body table.tmap-config-table tr td{border:none;vertical-align:top;padding:5px}.tc-modal-body table.tmap-config-table tr td:first-child{width:15%}.tc-modal-body table.tmap-config-table tr td:last-child{width:40%}.tc-modal-body table.tmap-config-table tr td input:not([type=radio]),.tc-modal-body table.tmap-config-table tr td textarea,.tc-modal-body table.tmap-config-table tr td select{width:100%;word-wrap:normal}.tc-modal-body table.tmap-config-table tr td textarea{height:100%}.tc-modal-body table.tmap-config-table tr td .tmap-no-stretch input,.tc-modal-body table.tmap-config-table tr td .tmap-no-stretch textarea,.tc-modal-body table.tmap-config-table tr td .tmap-no-stretch select{width:auto}.tc-modal-body table.tmap-config-table tr td div.tmap-button-wrapper{text-align:center}.tc-modal-body table.tmap-config-table tr td .tmap-note{margin-top:0.5em}.tc-modal-body table.tmap-config-table tr td .tmap-description{font-style:italic}#tmap-element-type-manager&gt;div:first-child{height:50vh;float:left;width:21%;background:linear-gradient(90deg, #f5f5f5 0%, #fff 50%)}#tmap-element-type-manager&gt;div:first-child .tmap-searchbar{padding:1em 0 0 0}#tmap-element-type-manager&gt;div:first-child .tmap-searchbar input{width:calc(100% - 36px)}#tmap-element-type-manager&gt;div:first-child .tmap-searchbar button{width:30px;float:right}#tmap-element-type-manager&gt;div:first-child ul{height:calc(100% - 65px);overflow:auto;margin-top:1em;padding:0}#tmap-element-type-manager&gt;div:first-child ul.no-bullets li{list-style:none}#tmap-element-type-manager&gt;div:first-child ul li{white-space:nowrap}#tmap-element-type-manager&gt;div:first-child ul li .tmap-ranking{width:30px;display:inline-block}#tmap-element-type-manager&gt;div:last-child{height:100%;width:calc(79% - 15px);float:right}#tmap-element-type-manager&gt;div:last-child .tc-tab-set .tc-tab-content{overflow:auto;height:50vh}.tmap-manage-node-types .tmap-edge-type-specific{display:none !important}.tmap-manage-edge-types .tmap-node-type-specific{display:none !important}.tmap-modal-fullscreen-editor .tc-tab-content p{margin:1em 0}.tmap-has-pending-template{background-color:#C1EDC4}#tmap-search-table td{border:none;padding-left:0px}#tmap-search-table td:first-child{width:30px}#tmap-search-table b{display:inline-block;width:40px;text-align:right}#tmap-search-table ul{padding-left:20px;margin:1em 0 0 0}#tmap-search-table ul li{list-style:inherit}#tmap-search-table ul button{text-align:left}button.tmap-go-back{margin-bottom:1em;font-weight:bold}.tmap-badges&gt;span,.tmap-badge{background:gray;font-size:11px;color:white;padding:3px 4px;display:inline-block;font-weight:bold;border-radius:2px;line-height:1em;cursor:help}.tmap-badges&gt;span.tmap-red-flag,.tmap-badge.tmap-red-flag{background:red}.tmap-popup{display:none;position:absolute;opacity:0;cursor:auto;min-width:100px;min-height:50px;max-width:&lt;&lt;tmap option config.sys.popups.width&gt;&gt;;max-height:&lt;&lt;tmap option config.sys.popups.height&gt;&gt;;padding:5px;resize:both;overflow:auto;font-family:verdana;font-size:14px;background-color:#f5f4ed;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;border:1px solid #808074;box-shadow:3px 3px 10px rgba(0,0,0,0.2);transition:opacity 0.3s ease}.tmap-popup[style*=\&quot;height\&quot;]{max-height:none !important}.tmap-popup[style*=\&quot;width\&quot;]{max-width:none !important}.tmap-popup.tmap-popup-active{opacity:1}.tmap-quick-connect{font-size:0.7em}.tmap-quick-connect p{padding-left:0;padding-right:0}.tmap-quick-connect .tc-drop-down{padding:5px;width:250px;white-space:normal;line-height:1em;position:absolute;z-index:1000;right:50px;background:linear-gradient(45deg, #f5f5f5 0%, #fff 50%, #f5f5f5 100%)}.tmap-quick-connect .tc-drop-down:first-child{padding-top:0;margin-top:0}.tmap-quick-connect .tc-drop-down .title{margin:1.5em 0 0.5em 0;font-weight:bold;color:gray}.tmap-quick-connect .tc-drop-down select{width:80px;word-wrap:initial}.tmap-quick-connect .tc-drop-down table{width:100%;border:none;margin:0.5em 0}.tmap-quick-connect .tc-drop-down table td,.tmap-quick-connect .tc-drop-down table th{padding:3px 3px 3px 0;vertical-align:middle;font-weight:normal;border:none}.tmap-quick-connect .tc-drop-down table td table,.tmap-quick-connect .tc-drop-down table th table{margin:0}.tmap-quick-connect .tc-drop-down .tmap-quick-connect-search-bar,.tmap-quick-connect .tc-drop-down .tmap-quick-connect-existing-bar{background:#F1F1F1;margin-top:0;border-bottom:1px solid #D5D5D5;border-top:1px solid #D5D5D5}.tmap-quick-connect .tc-drop-down table.tmap-quick-connect-search-bar td,.tmap-quick-connect .tc-drop-down th{padding:5px}.tmap-quick-connect .tc-drop-down .tmap-quick-connect-existing-bar{padding:5px}.tmap-quick-connect .tc-drop-down .tmap-connection-table th,.tmap-quick-connect .tc-drop-down .tmap-connection-table td{text-align:left;padding:1px 1px 1px 0}.tmap-quick-connect .tc-drop-down .tmap-connection-table button{width:20px;padding:0px}.tmap-quick-connect .tc-drop-down .tmap-scroll-table{height:120px;overflow:auto;display:block}.tmap-quick-connect .tc-drop-down hr{border:0;height:0;border-top:1px solid rgba(0,0,0,0.1);border-bottom:1px solid rgba(255,255,255,0.3)}.tmap-quick-connect .tc-drop-down a{display:inline;padding:0;color:#5778d8;background:transparent}.tmap-quick-connect .tc-drop-down a:hover{background:transparent;color:#5778d8;text-decoration:underline}.tmap-quick-connect .tc-drop-down button{display:inline-block;padding:0px 3px;text-align:center;color:#333333;line-height:1.0}.tmap-quick-connect .tc-drop-down button:hover{color:#ffffff}.tmap-quick-connect .tc-drop-down button svg{fill:inherit}.tmap-quick-connect .tc-drop-down button svg:hover{fill:#ffffff}\n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/Adapter&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/Adapter\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports=Adapter;var ViewAbstraction=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/ViewAbstraction\&quot;);var EdgeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/EdgeType\&quot;);var NodeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/NodeType\&quot;);var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);var vis=require(\&quot;$:/plugins/felixhayashi/vis/vis.js\&quot;);var getContrastColour=require(\&quot;$:/core/modules/macros/contrastcolour.js\&quot;).run;function Adapter(){this.visShapesWithTextInside=utils.getLookupTable([\&quot;ellipse\&quot;,\&quot;circle\&quot;,\&quot;database\&quot;,\&quot;box\&quot;,\&quot;text\&quot;]);this.isTransTypeEnabled=typeof $tw.wiki.getTiddlerTranscludes===\&quot;function\&quot;}Adapter.prototype.deleteEdge=function(e){return this._processEdge(e,\&quot;delete\&quot;)};Adapter.prototype.deleteEdges=function(e){e=utils.convert(e,\&quot;array\&quot;);for(var t=e.length;t--;){this.deleteEdge(e[t])}};Adapter.prototype.insertEdge=function(e){return this._processEdge(e,\&quot;insert\&quot;)};Adapter.prototype._processEdge=function(e,t){$tm.logger(\&quot;debug\&quot;,\&quot;Edge\&quot;,t,e);if(typeof e!==\&quot;object\&quot;||!t||!e.from)return;if(t===\&quot;insert\&quot;&amp;&amp;!e.to)return;var i=$tm.indeces.tById[e.from];if(!i||!utils.tiddlerExists(i))return;var r=new EdgeType(e.type);var s=utils.getTiddler(i);var a=r.namespace;if(a===\&quot;tw-list\&quot;){if(!e.to)return;return this._processListEdge(s,e,r,t)}else if(a===\&quot;tw-field\&quot;){if(!e.to)return;return this._processFieldEdge(s,e,r,t)}else if(a===\&quot;tw-body\&quot;){return null}else{return this._processTmapEdge(s,e,r,t)}return e};Adapter.prototype._processTmapEdge=function(e,t,i,r){if(r===\&quot;delete\&quot;&amp;&amp;!t.id)return;var s=utils.parseFieldData(e,\&quot;tmap.edges\&quot;,{});if(r===\&quot;insert\&quot;){t.id=t.id||utils.genUUID();s[t.id]={to:t.to,type:i.id};if(!i.exists()){i.save()}}else{delete s[t.id]}utils.writeFieldData(e,\&quot;tmap.edges\&quot;,s);return t};Adapter.prototype._processListEdge=function(e,t,i,r){var s=i.name;var a=utils.getTiddler(e);var o=$tw.utils.parseStringArray(e.fields[s]);o=(o||[]).slice();var d=$tm.indeces.tById[t.to];if(r===\&quot;insert\&quot;){o.push(d);if(!i.exists()){i.save()}}else{var n=o.indexOf(d);if(n&gt;-1){o.splice(n,1)}}utils.setField(a,s,$tw.utils.stringifyList(o));return t};Adapter.prototype._processFieldEdge=function(e,t,i,r){var s=$tm.indeces.tById[t.to];if(s==null)return;var a=r===\&quot;insert\&quot;?s:\&quot;\&quot;;utils.setField(e,i.name,a);if(!i.exists()){i.save()}return t};Adapter.prototype.getAdjacencyList=function(e,t){$tm.start(\&quot;Creating adjacency list\&quot;);t=t||{};if(!t.edges){var i=utils.getMatches($tm.selector.allPotentialNodes);t.edges=this.getEdgesForSet(i,t.toWL,t.typeWL)}var r=utils.groupByProperty(t.edges,e||\&quot;to\&quot;);$tm.stop(\&quot;Creating adjacency list\&quot;);return r};Adapter.prototype.getNeighbours=function(e,t){$tm.start(\&quot;Get neighbours\&quot;);t=t||{};var i=utils.getArrayValuesAsHashmapKeys(e);var r=new ViewAbstraction(t.view);var s=t.addProperties;var a=utils.makeHashMap();var o=$tm.indeces.allETy;var d=utils.makeHashMap();var n=t.toWL;var l=t.typeWL;var p=$tm.indeces.tById;var u=$tm.indeces.idByT;var f=parseInt(t.steps)&gt;0?t.steps:1;var g=t.direction||r.exists()&amp;&amp;r.getConfig(\&quot;neighbourhood_directions\&quot;);var c=!g||g===\&quot;both\&quot;;var v=c||g===\&quot;in\&quot;;var y=c||g===\&quot;out\&quot;;var h=this.getAdjacencyList(\&quot;to\&quot;,t);var m=function(e,t){a[e.id]=e;var r=p[e[t]];if(!i[r]){i[r]=true;var o=this.makeNode(r,s);if(o){d[o.id]=o;A.push(r)}}}.bind(this);for(var w=0;w&lt;f&amp;&amp;e.length;w++){var A=[];for(var b=e.length;b--;){if(utils.isSystemOrDraft(e[b])){continue}var T=this.getEdges(e[b],n,l);for(var $ in T){var E=o[T[$].type];if(c||y&amp;&amp;E.toArrow||v&amp;&amp;E.invertedArrow){m(T[$],\&quot;to\&quot;)}}var N=h[u[e[b]]];if(!N)continue;for(var x=N.length;x--;){var E=o[N[x].type];if(c||v&amp;&amp;E.toArrow||y&amp;&amp;E.invertedArrow){m(N[x],\&quot;from\&quot;)}}}e=A}var k={nodes:d,edges:a};$tm.logger(\&quot;debug\&quot;,\&quot;Retrieved neighbourhood\&quot;,k,\&quot;steps\&quot;,w);$tm.stop(\&quot;Get neighbours\&quot;);return k};Adapter.prototype.getGraph=function(e){$tm.start(\&quot;Assembling Graph\&quot;);e=e||{};var t=new ViewAbstraction(e.view);var i=utils.getMatches(e.filter||t.exists()&amp;&amp;t.getNodeFilter(\&quot;compiled\&quot;));var r=utils.getArrayValuesAsHashmapKeys(i);var s=e.edgeTypeWL||t.exists()&amp;&amp;t.getEdgeTypeFilter(\&quot;whitelist\&quot;);var a=parseInt(e.neighbourhoodScope||t.exists()&amp;&amp;t.getConfig(\&quot;neighbourhood_scope\&quot;));var o={edges:this.getEdgesForSet(i,r,s),nodes:this.selectNodesByReferences(i,{view:t,outputType:\&quot;hashmap\&quot;})};if(a){var d=this.getNeighbours(i,{steps:a,view:t,typeWL:s,addProperties:{group:\&quot;tmap:neighbour\&quot;}});utils.merge(o,d);if(t.exists()&amp;&amp;t.isEnabled(\&quot;show_inter_neighbour_edges\&quot;)){var n=this.getTiddlersById(d.nodes);var r=utils.getArrayValuesAsHashmapKeys(n);$tw.utils.extend(o.edges,this.getEdgesForSet(n,r))}}this._removeObsoleteViewData(o.nodes,t);this.attachStylesToNodes(o.nodes,t);$tm.stop(\&quot;Assembling Graph\&quot;);$tm.logger(\&quot;debug\&quot;,\&quot;Assembled graph:\&quot;,o);return o};Adapter.prototype.getEdges=function(e,t,i){var r=utils.getTiddler(e);if(!r||utils.isSystemOrDraft(r))return;var s=utils.makeHashMap();this._addTmapEdges(s,r,t,i);this._addBodyAndFieldEdges(s,r,t,i);return s};Adapter.prototype._addBodyAndFieldEdges=function(e,t,i,r){var s=t.fields;var a=utils.getTiddlerRef(t);var o=$tm.indeces;var d=o.maETyFiNa;var n=utils.makeHashMap();if(!r||r[\&quot;tw-body:link\&quot;]){n[\&quot;tw-body:link\&quot;]=$tw.wiki.getTiddlerLinks(a)}if(this.isTransTypeEnabled&amp;&amp;(!r||r[\&quot;tw-body:transclude\&quot;])){n[\&quot;tw-body:transclude\&quot;]=$tw.wiki.getTiddlerTranscludes(a)}for(var l in s){var p=d[l];if(!p||r&amp;&amp;!r[p.id])continue;if(p.namespace===\&quot;tw-field\&quot;){n[p.id]=[s[l]]}else if(p.namespace===\&quot;tw-list\&quot;){n[p.id]=$tw.utils.parseStringArray(s[l])}else if(p.namespace===\&quot;tw-filter\&quot;){var u=s[l];n[p.id]=utils.getMatches(u,i)}}if(!n)return;var f=t.fields[\&quot;tmap.id\&quot;];var g=o.idByT;var c=o.allETy;for(var v in n){var y=n[v];if(!y)continue;var p=c[v];for(var h=y.length;h--;){var m=y[h];if(!m||!$tw.wiki.tiddlerExists(m)||utils.isSystemOrDraft(m)||i&amp;&amp;!i[m])continue;var w=p.id+$tw.utils.hashString(a+m);var A=this.makeEdge(f,g[m],p,w);if(A){e[A.id]=A}}}};Adapter.prototype._addTmapEdges=function(e,t,i,r){var s=utils.parseFieldData(t,\&quot;tmap.edges\&quot;);if(!s)return;var a=$tm.indeces.tById;var o=t.fields[\&quot;tmap.id\&quot;];for(var d in s){var n=s[d];var l=a[n.to];if(l&amp;&amp;(!i||i[l])&amp;&amp;(!r||r[n.type])){var p=this.makeEdge(o,n.to,n.type,d);if(p){e[d]=p}}}};Adapter.prototype.getEdgesForSet=function(e,t,i){var r=utils.makeHashMap();for(var s=e.length;s--;){$tw.utils.extend(r,this.getEdges(e[s],t,i))}return r};Adapter.prototype.selectEdgesByType=function(e){var t=utils.makeHashMap();t[new EdgeType(e).id]=true;return this.getEdgesForSet(this.getAllPotentialNodes(),null,t)};Adapter.prototype.getAllPotentialNodes=function(){return utils.getMatches($tm.selector.allPotentialNodes)};Adapter.prototype._processEdgesWithType=function(e,t){e=new EdgeType(e);$tm.logger(\&quot;debug\&quot;,\&quot;Processing edges\&quot;,e,t);var i=this.selectEdgesByType(e);if(t.action===\&quot;rename\&quot;){var r=new EdgeType(t.newName);r.load(e);r.save()}for(var s in i){this._processEdge(i[s],\&quot;delete\&quot;);if(t.action===\&quot;rename\&quot;){i[s].type=t.newName;this._processEdge(i[s],\&quot;insert\&quot;)}}$tw.wiki.deleteTiddler(e.fullPath)};Adapter.prototype.selectNodesByFilter=function(e,t){var i=utils.getMatches(e);return this.selectNodesByReferences(i,t)};Adapter.prototype.selectNodesByReferences=function(e,t){t=t||{};var i=t.addProperties;var r=utils.makeHashMap();var s=Object.keys(e);for(var a=s.length;a--;){var o=this.makeNode(e[s[a]],i);if(o){r[o.id]=o}}return utils.convert(r,t.outputType)};Adapter.prototype.selectNodesByIds=function(e,t){var i=this.getTiddlersById(e);return this.selectNodesByReferences(i,t)};Adapter.prototype.selectNodeById=function(e,t){t=utils.merge(t,{outputType:\&quot;hashmap\&quot;});var i=this.selectNodesByIds([e],t);return i[e]};Adapter.prototype.makeEdge=function(e,t,i,r){if(!e||!t)return;if(e instanceof $tw.Tiddler){e=e.fields[\&quot;tmap.id\&quot;]}else if(typeof e===\&quot;object\&quot;){e=e.id}i=$tm.indeces.allETy[i]||new EdgeType(i);var s=i.getLabel();var a={id:r||utils.genUUID(),from:e,to:t,type:i.id};if(utils.isTrue(i[\&quot;show-label\&quot;],true)){a.label=s}a=$tw.utils.extend(a,i.style);return a};Adapter.prototype.removeNodeType=function(e){var e=new NodeType(e);$tw.wiki.deleteTiddler(e.fullPath)};Adapter.prototype.makeNode=function(e,t){var i=utils.getTiddler(e);if(!i||utils.isSystemOrDraft(i))return;var r=utils.merge({},t);r.id=this.assignId(i);var s=i.fields[$tm.field.nodeLabel];r.label=s&amp;&amp;$tm.field.nodeLabel!==\&quot;title\&quot;?$tw.wiki.renderText(\&quot;text/plain\&quot;,\&quot;text/vnd-tiddlywiki\&quot;,s):i.fields.title;return r};Adapter.prototype.getInheritedNodeStyles=function(e){var t=this.getTiddlersById(e);var i={};var r=$tm.indeces.glNTy;for(var s=r.length;s--;){var a=r[s];if(a.id===\&quot;tmap:neighbour\&quot;){var o=$tm.indeces.tById;var d=[];for(var n in e){if(e[n].group===\&quot;tmap:neighbour\&quot;){d.push(o[n])}}}else{var d=a.getInheritors(t)}for(var l=d.length;l--;){var p=d[l];var u=i[p]=i[p]||{};u.style=utils.merge(u.style||{},a.style);if(a[\&quot;fa-icon\&quot;]){u[\&quot;fa-icon\&quot;]=a[\&quot;fa-icon\&quot;]}else if(a[\&quot;tw-icon\&quot;]){u[\&quot;tw-icon\&quot;]=a[\&quot;tw-icon\&quot;]}}}return i};Adapter.prototype.attachStylesToEdges=function(e,t){};Adapter.prototype._removeObsoleteViewData=function(e,t){t=new ViewAbstraction(t);if(!t.exists()||!e)return;var i=t.getNodeData();var r=0;for(var s in i){if(e[s]===undefined&amp;&amp;i[s]!=null){i[s]=undefined;r++}}if(r){$tm.logger(\&quot;debug\&quot;,\&quot;[Cleanup]\&quot;,\&quot;Removed obsolete node data:\&quot;,t.getLabel(),r);t.saveNodeData(i)}};Adapter.prototype.attachStylesToNodes=function(e,t){t=new ViewAbstraction(t);var i=this.getInheritedNodeStyles(e);var r=t.exists()?t.getNodeData():utils.makeHashMap();var s=t.exists()&amp;&amp;!t.isEnabled(\&quot;physics_mode\&quot;);var a=$tm.field.nodeIcon;var o=$tm.indeces.tById;for(var d in e){var n=o[d];var l=$tw.wiki.getTiddler(n);var p=l.fields;var u=e[d];var f=null;var g=null;if(i[n]){if(i[n].style){utils.merge(u,i[n].style)}f=i[n][\&quot;fa-icon\&quot;];g=i[n][\&quot;tw-icon\&quot;]}if(p.color){u.color=p.color}if(p[\&quot;tmap.style\&quot;]){utils.merge(u,utils.parseJSON(p[\&quot;tmap.style\&quot;]))}f=p[\&quot;tmap.fa-icon\&quot;]||f;g=p[\&quot;icon\&quot;]||g;if(r[d]){utils.merge(u,r[d]);if(s){u.fixed={x:u.x!=null,y:u.y!=null}}f=r[d][\&quot;fa-icon\&quot;]||f;g=r[d][\&quot;tw-icon\&quot;]||g}var c=u.color!==null&amp;&amp;typeof u.color===\&quot;object\&quot;;var v=c?u.color.background:u.color;u.color={background:v,border:c?u.color.border:undefined};this._addNodeIcon(u,f,g);u.font=u.font||{};if(u.shape&amp;&amp;!this.visShapesWithTextInside[u.shape]){u.font.color=\&quot;black\&quot;}else if(!u.font.color&amp;&amp;v){u.font.color=getContrastColour(v,v,\&quot;black\&quot;,\&quot;white\&quot;)}if(u.shape===\&quot;icon\&quot;&amp;&amp;typeof u.icon===\&quot;object\&quot;){u.icon.color=v}}};Adapter.prototype.deleteNode=function(e){if(!e)return;var t=typeof e===\&quot;object\&quot;?e.id:e;var i=$tm.indeces.tById[t];if(i){utils.deleteTiddlers([i])}var r=utils.getMatches($tm.selector.allViews);for(var s=r.length;s--;){var a=new ViewAbstraction(r[s]);a.removeNode(t);if(a.getNodeData(t)){a.saveNodeData(t,null)}}var o=this.getNeighbours([i]);this.deleteEdges(o.edges)};Adapter.prototype.deleteNodes=function(e){e=utils.convert(e,\&quot;array\&quot;);for(var t=e.length;t--;){this.deleteNode(e[t])}};Adapter.prototype.storePositions=function(e,t){t=new ViewAbstraction(t);if(!t.exists())return;t.saveNodeData(e)};Adapter.prototype.assignId=function(e,t){var i=utils.getTiddler(e,true);if(!i)return;var r=i.fields[\&quot;tmap.id\&quot;];if(!r||t){r=utils.genUUID();utils.setField(i,\&quot;tmap.id\&quot;,r);$tm.logger(\&quot;info\&quot;,\&quot;Assigning new id to\&quot;,i.fields.title)}$tm.indeces.tById[r]=i.fields.title;$tm.indeces.idByT[i.fields.title]=r;return r};Adapter.prototype.insertNode=function(e,t,i){i=i||{};e=e||{};var r={\&quot;tmap.id\&quot;:null};if(!i.fields||!i.fields.text){r.text=\&quot;\&quot;}var s=$tw.wiki.generateNewTitle(e.label||utils.getRandomLabel());e.label=r.title=s;var a=new $tw.Tiddler(i.fields,r,$tw.wiki.getModificationFields(),$tw.wiki.getCreationFields());$tw.wiki.addTiddler(a);e=this.makeNode(a,e);var t=new ViewAbstraction(t);if(t.exists()){t.addNode(e)}return e};Adapter.prototype._getFAdigits=function(e){return e.length===4?e:e.substr(3,4)};Adapter.prototype.getTiddlersById=function(e){if(Array.isArray(e)){e=utils.getArrayValuesAsHashmapKeys(e)}else if(e instanceof vis.DataSet){e=utils.getLookupTable(e,\&quot;id\&quot;)}var t=[];var i=$tm.indeces.tById;for(var r in e){if(i[r])t.push(i[r])}return t};Adapter.prototype.getId=function(e){return $tm.indeces.idByT[utils.getTiddlerRef(e)]};Adapter.prototype._addNodeIcon=function(e,t,i){if(t){e.shape=\&quot;icon\&quot;;e.icon={shape:\&quot;icon\&quot;,face:\&quot;FontAwesome\&quot;,color:e.color,code:String.fromCharCode(\&quot;0x\&quot;+this._getFAdigits(t))};return}if(!i)return;var r=utils.getTiddler(i);if(!r)return;if(r.fields[\&quot;_canonical_uri\&quot;]){e.image=r.fields[\&quot;_canonical_uri\&quot;];e.shape=\&quot;image\&quot;;return}if(r.fields.text){e.image=utils.getDataUri(r);e.shape=\&quot;image\&quot;;return}};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/Adapter&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/CallbackManager&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/CallbackManager\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports=CallbackManager;var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);function CallbackManager(){this.callbacks=utils.makeHashMap()}CallbackManager.prototype.add=function(e,a,l){$tm.logger(\&quot;debug\&quot;,'A callback was registered for changes of \&quot;'+e+'\&quot;');this.callbacks[e]={execute:a,isDeleteOnCall:typeof l===\&quot;boolean\&quot;?l:true}};CallbackManager.prototype.remove=function(e){if(!e)return;if(typeof e===\&quot;string\&quot;){e=[e]}for(var a=e.length;a--;){var l=e[a];if(this.callbacks[l]){$tm.logger(\&quot;debug\&quot;,'A callback for \&quot;'+l+'\&quot; will be deleted');delete this.callbacks[l]}}};CallbackManager.prototype.handleChanges=function(e){if(this.callbacks.length==0)return;for(var a in e){if(!this.callbacks[a])continue;if($tw.wiki.getTiddler(a)){$tm.logger(\&quot;debug\&quot;,\&quot;Executing a callback for: \&quot;+a);this.callbacks[a].execute(a);if(!this.callbacks.isDeleteOnCall)continue}this.remove(a)}};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/CallbackManager&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/DialogManager&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/DialogManager\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports=DialogManager;var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);var CallbackManager=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/CallbackManager\&quot;);function DialogManager(t,e){this.callbackManager=t;if(e){this.context=e}}DialogManager.prototype.open=function(t,e,i){if(utils.isTrue($tm.config.sys.suppressedDialogs[t],false)){$tm.logger(\&quot;warning\&quot;,\&quot;Suppressed dialog\&quot;,t);return}e=e||{};$tm.logger(\&quot;debug\&quot;,\&quot;Dialog param object\&quot;,e);if(typeof i===\&quot;function\&quot;&amp;&amp;this.context){i=i.bind(this.context)}var a=$tm.path.tempRoot+\&quot;/dialog-\&quot;+utils.genUUID();var l=utils.getTiddler($tm.path.dialogs+\&quot;/\&quot;+t);var r={title:a,buttons:l.fields[\&quot;buttons\&quot;]||\&quot;ok_cancel\&quot;,classes:\&quot;tmap-modal-content \&quot;+l.fields[\&quot;classes\&quot;],output:a+\&quot;/output\&quot;,result:a+\&quot;/result\&quot;,temp:a+\&quot;/temp\&quot;,template:l.fields.title,templateId:t,currentTiddler:a+\&quot;/output\&quot;,text:utils.getText($tm.path.dialogs)};if(e.dialog){if(e.dialog.preselects){$tw.wiki.addTiddler(new $tw.Tiddler({title:r.output},utils.flatten(e.dialog.preselects)));delete e.dialog.preselects}utils.merge(r,e.dialog)}r.footer=utils.getText($tm.path.footers);r=utils.flatten(r);e=utils.flatten(e);var s=function(t){this.getElement(\&quot;hidden-close-button\&quot;).click();var e=$tw.wiki.getTiddler(t);var l=e.fields.text;if(l){var s=$tw.wiki.getTiddler(r.output)}else{var s=null;$tm.notify(\&quot;operation cancelled\&quot;)}if(typeof i===\&quot;function\&quot;){i(l,s)}utils.deleteByPrefix(a)}.bind(this);this.callbackManager.add(r.result,s,true);var n=new $tw.Tiddler(l,e,r);$tw.wiki.addTiddler(n);$tm.logger(\&quot;debug\&quot;,\&quot;Opening dialog\&quot;,n);$tw.rootWidget.dispatchEvent({type:\&quot;tm-modal\&quot;,param:n.fields.title,paramObject:n.fields});this.addKeyBindings();return n};DialogManager.prototype.getElement=function(t){return utils.getFirstElementByClassName(\&quot;tmap-\&quot;+t)};DialogManager.prototype.addKeyBindings=function(){var t=$tm.keycharm({container:utils.getFirstElementByClassName(\&quot;tc-modal\&quot;)});var e=/tmap-triggers-(.+?)-on-(.+?)(?:\\s|$)/;var i=document.getElementsByClassName(\&quot;tmap-trigger-field\&quot;);for(var a=i.length;a--;){var l=i[a].className.split(\&quot; \&quot;);for(var r=l.length;r--;){var s=l[r].match(e);if(!s){continue}var n=s[1];var o=s[2];var d=this.getElement(n);if(!d)continue;t.bind(o,function(){this.click()}.bind(d))}}};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/DialogManager&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/exception&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/exception\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports={};var exception=module.exports;exception.EnvironmentError=function(e){this.name=\&quot;EnvironmentError\&quot;;this.message=\&quot;Critical parts of the underlying system changed: \&quot;+e};exception.DependencyError=function(e){this.name=\&quot;DependencyError\&quot;;this.message=\&quot;TiddlyMap cannot run without: \&quot;+e};for(var ex in exception){exception[ex].prototype=Object.create(Error.prototype);exception[ex].constructor=exception[ex]}&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/exception&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/fixer&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/fixer\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports={};var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);var Adapter=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/Adapter\&quot;);var ViewAbstraction=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/ViewAbstraction\&quot;);var EdgeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/EdgeType\&quot;);var moveEdges=function(e,t){var r=utils.getTiddlersByPrefix(e);for(var i=0;i&lt;r.length;i++){var a=utils.getBasename(r[i]);if(a===\&quot;__noname__\&quot;){a=\&quot;tmap:unknown\&quot;}a=new EdgeType(a);if(!a.exists())a.save();var s=$tw.wiki.getTiddlerData(r[i]);for(var u=0;u&lt;s.length;u++){s[u].type=(t?t+\&quot;:\&quot;:\&quot;\&quot;)+a.id;$tm.adapter.insertEdge(s[u])}$tw.wiki.deleteTiddler(r[i])}};var executeUpgrade=function(e,t,r){if(!utils.isLeftVersionGreater(e,t))return;$tm.logger(\&quot;debug\&quot;,\&quot;Upgrading data structure to \&quot;+e);var i=r();utils.setEntry($tm.ref.sysMeta,\&quot;dataStructureState\&quot;,e);return i};var fixer=module.exports;fixer.fixId=function(){var e=$tw.wiki.getTiddlerData($tm.ref.sysMeta,{});var t={before:\&quot;0.9.0\&quot;,after:\&quot;0.9.2\&quot;};executeUpgrade(\&quot;0.9.2\&quot;,e.dataStructureState,function(){if(utils.isLeftVersionGreater(\&quot;0.9.2\&quot;,e.originalVersion)){var t=\&quot;$:/plugins/felixhayashi/tiddlymap/config/sys/user\&quot;;var r=utils.getEntry(t,\&quot;field.nodeId\&quot;,\&quot;tmap.id\&quot;);utils.moveFieldValues(r,\&quot;tmap.id\&quot;,true,false)}})};fixer.fix=function(){var e=$tw.wiki.getTiddlerData($tm.ref.sysMeta,{});$tm.logger(\&quot;debug\&quot;,\&quot;Fixer is started\&quot;);$tm.logger(\&quot;debug\&quot;,\&quot;Data-structure currently in use: \&quot;,e.dataStructureState);executeUpgrade(\&quot;0.7.0\&quot;,e.dataStructureState,function(){moveEdges(\&quot;$:/plugins/felixhayashi/tiddlymap/graph/edges\&quot;,null);var e=$tm.selector.allViews;var t=utils.getMatches(e);for(var r=0;r&lt;t.length;r++){var i=new ViewAbstraction(t[r]);moveEdges(i.getRoot()+\&quot;/graph/edges\&quot;,i)}});executeUpgrade(\&quot;0.7.32\&quot;,e.dataStructureState,function(){var e=new $tm.ViewAbstraction(\&quot;Live View\&quot;);if(!e.exists())return;e.setNodeFilter(\&quot;[field:title{$:/temp/tmap/currentTiddler}]\&quot;,true);e.setConfig({\&quot;refresh-trigger\&quot;:null,\&quot;refresh-triggers\&quot;:$tw.utils.stringifyList([\&quot;$:/temp/tmap/currentTiddler\&quot;])})});executeUpgrade(\&quot;0.9.0\&quot;,e.dataStructureState,function(){var e=$tm.ref.visUserConf;var t=utils.unflatten($tw.wiki.getTiddlerData(e,{}));if(typeof t.groups===\&quot;object\&quot;){var r=new $tm.NodeType(\&quot;tmap:neighbour\&quot;);r.setStyle(t.groups[\&quot;neighbours\&quot;]);r.save();delete t.groups;$tw.wiki.setTiddlerData(e,t)}});fixer.fixId();executeUpgrade(\&quot;0.9.16\&quot;,e.dataStructureState,function(){var e=$tm.indeces.glNTy;for(var t=e.length;t--;){e[t].save(null,true)}});executeUpgrade(\&quot;0.10.3\&quot;,e.dataStructureState,function(){var e=$tm.ref.liveTab;if(utils.getTiddler(e).hasTag(\&quot;$:/tags/SideBar\&quot;)){$tw.wiki.deleteTiddler(e);utils.setField(e,\&quot;tags\&quot;,\&quot;$:/tags/SideBar\&quot;)}});executeUpgrade(\&quot;0.11.0\&quot;,e.dataStructureState,function(){var e=utils.getMatches($tm.selector.allViews);for(var t=e.length;t--;){var r=new ViewAbstraction(e[t]);var i=r.getEdgeTypeFilter(\&quot;raw\&quot;);var a=\&quot;edge_type_namespace\&quot;;r.setConfig(a,r.getConfig(a));if(i){var s=$tm.path.edgeTypes;i=utils.replaceAll(i,\&quot;\&quot;,[s,s+\&quot;/\&quot;,\&quot;[prefix[\&quot;+s+\&quot;]]\&quot;,\&quot;[prefix[\&quot;+s+\&quot;/]]\&quot;,[\&quot;[suffix[tw-body:link]]\&quot;,\&quot;[[tw-body:link]]\&quot;],[\&quot;[suffix[tw-list:tags]]\&quot;,\&quot;[[tw-list:tags]]\&quot;],[\&quot;[suffix[tw-list:list]]\&quot;,\&quot;[[tw-body:list]]\&quot;],[\&quot;[suffix[tmap:unknown]]\&quot;,\&quot;[[tmap:unknown]]\&quot;],[\&quot;[suffix[unknown]]\&quot;,\&quot;[[tmap:unknown]]\&quot;]]);var u=\&quot;-[prefix[_]] \&quot;+i}else{var u=$tm.filter.defaultEdgeTypeFilter}r.setEdgeTypeFilter(u)}})};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/fixer&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/EdgeType&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/EdgeType\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports=EdgeType;var MapElementType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/MapElementType\&quot;);var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);function EdgeType(e,t,r){if(e instanceof EdgeType)return e;r=r||{};this.root=$tm.path.edgeTypes;var i=EdgeType._getIdParts(e,this.root);if(!i.name)return new EdgeType(\&quot;tmap:unknown\&quot;);this.marker=i.marker;this.name=i.name;this.namespace=i.namespace;this.id=EdgeType._getId(this.marker,this.namespace,this.name);if(!this.namespace&amp;&amp;r.namespace){if(!new EdgeType(this.id).exists()){return new EdgeType(r.namespace+\&quot;:\&quot;+this.name)}}MapElementType.call(this,this.id,this.root,EdgeType._fieldMeta,t);var s=this.style&amp;&amp;this.style.arrows;if(s){this.invertedArrow=this._isArrow(s,\&quot;from\&quot;);this.toArrow=this._isArrow(s,\&quot;to\&quot;)||this._isArrow(s,\&quot;middle\&quot;);this.biArrow=this.invertedArrow===this.toArrow;if(this.biArrow)this.toArrow=this.invertedArrow=true}else{this.toArrow=true}}EdgeType.prototype=Object.create(MapElementType.prototype);EdgeType._fieldMeta=$tw.utils.extend({},MapElementType._fieldMeta,{label:{},\&quot;show-label\&quot;:{}});EdgeType.edgeTypeRegexStr=\&quot;^(_?)([^:_][^:]*):?([^:]*)\&quot;;EdgeType.edgeTypeRegex=new RegExp(EdgeType.edgeTypeRegexStr);EdgeType._getIdParts=function(e,t){e=utils.getWithoutPrefix(e||\&quot;\&quot;,t+\&quot;/\&quot;);var r=e.match(EdgeType.edgeTypeRegex)||[];return{marker:r[1]||\&quot;\&quot;,namespace:r[3]&amp;&amp;r[2]||\&quot;\&quot;,name:r[3]||r[2]||\&quot;\&quot;}};EdgeType._getId=function(e,t,r){return e+t+(t?\&quot;:\&quot;:\&quot;\&quot;)+r};EdgeType.prototype.getLabel=function(){return this.label||this.name};EdgeType.prototype._isArrow=function(e,t){var r=e[t];return t===\&quot;to\&quot;&amp;&amp;r==null||r===true||typeof r===\&quot;object\&quot;&amp;&amp;r.enabled!==false};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/EdgeType&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/MapElementType&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/MapElementType\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports=MapElementType;var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);function MapElementType(t,i,e,s){this.id=t;this.root=i;this._fieldMeta=e;this.fullPath=this.root+\&quot;/\&quot;+this.id;this.isShipped=$tw.wiki.getSubTiddler($tm.path.pluginRoot,this.fullPath);this.load(s||this.fullPath)}MapElementType._fieldMeta={description:{},style:{parse:utils.parseJSON,stringify:JSON.stringify},modified:{},created:{}};MapElementType.prototype.load=function(t){if(!t)return;if(typeof t===\&quot;string\&quot;){var i=utils.startsWith(t,this.root);var e=i?t:this.root+\&quot;/\&quot;+t;this.loadFromTiddler(e)}else if(t instanceof $tw.Tiddler){this.loadFromTiddler(t)}else if(typeof t===\&quot;object\&quot;){for(var s in this._fieldMeta){this[s]=t[s]}}};MapElementType.prototype.loadFromTiddler=function(t){var i=utils.getTiddler(t);if(!i)return;var e=$tw.wiki.getSubTiddler($tm.path.pluginRoot,this.fullPath)||{};var s=$tw.utils.extend({},e.fields,i.fields);for(var l in this._fieldMeta){var r=this._fieldMeta[l].parse;var a=s[l];this[l]=r?r.call(this,a):a}};MapElementType.prototype.exists=function(){return utils.tiddlerExists(this.fullPath)};MapElementType.prototype.setStyle=function(t,i){if(typeof t===\&quot;string\&quot;){t=utils.parseJSON(t)}if(typeof t===\&quot;object\&quot;){if(i){utils.merge(this.style,t)}else{this.style=t}}};MapElementType.prototype.save=function(t,i){if(!t){t=this.fullPath}else if(typeof t!==\&quot;string\&quot;){return}var e={title:t,text:\&quot;\&quot;};if(!utils.startsWith(t,this.root)){e.id=this.id}if(i!==true){this.modified=new Date}if(!this.exists()){this.created=this.modified}for(var s in this._fieldMeta){var l=this._fieldMeta[s].stringify;e[s]=l?l.call(this,this[s]):this[s]}$tw.wiki.addTiddler(new $tw.Tiddler(e))};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/MapElementType&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/NodeType&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/NodeType\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports=NodeType;var MapElementType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/MapElementType\&quot;);var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);function NodeType(e,t){if(e instanceof NodeType){return e}e=typeof e===\&quot;string\&quot;?utils.getWithoutPrefix(e,$tm.path.nodeTypes+\&quot;/\&quot;):\&quot;tmap:unknown\&quot;;MapElementType.call(this,e,$tm.path.nodeTypes,NodeType._fieldMeta,t)}NodeType.prototype=Object.create(MapElementType.prototype);NodeType._fieldMeta=$tw.utils.extend({},MapElementType._fieldMeta,{view:{},priority:{parse:function(e){return isNaN(e)?1:parseInt(e)},stringify:function(e){return utils.isInteger(e)?e.toString():\&quot;1\&quot;}},scope:{stringify:utils.getWithoutNewLines},\&quot;fa-icon\&quot;:{},\&quot;tw-icon\&quot;:{}});NodeType.prototype.getInheritors=function(e){var t=this.scope;return t?utils.getMatches(t,e||$tw.wiki.allTitles()):[]};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/NodeType&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/Popup&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/Popup\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports=Popup;var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);function Popup(t,e){e=e||{};this._parentDomNode=t;this._domNode=document.createElement(\&quot;div\&quot;);this._domNode.style.display=\&quot;none\&quot;;this._domNode.className=\&quot;tmap-popup\&quot;;this._parentDomNode.appendChild(this._domNode);$tw.utils.addClass(this._domNode,e.className);this._isEnabled=true;this._isPreventShowOrHide=false;this._timeoutShow=null;this._timeoutHide=null;this._signature=null;this._isDisplayNoneAfterAnimation=true;this._hideDelayLeavingPopup=200;this._hideDelay=utils.isInteger(parseInt(e.hideDelay))?parseInt(e.hideDelay):200;this._showDelay=utils.isInteger(parseInt(e.showDelay))?parseInt(e.showDelay):200;utils.bind(this,[\&quot;_show\&quot;,\&quot;_hide\&quot;,\&quot;_handleEnter\&quot;,\&quot;_handleLeave\&quot;,\&quot;_handleAnimationEnd\&quot;]);this._listeners={mouseenter:this._handleEnter,mouseleave:this._handleLeave};var i=this._handleAnimationEnd;this._listeners[$tw.utils.convertEventName(\&quot;animationEnd\&quot;)]=i;this._listeners[$tw.utils.convertEventName(\&quot;transitionEnd\&quot;)]=i;utils.setDomListeners(\&quot;add\&quot;,this._domNode,this._listeners,false)}Popup.prototype._handleEnter=function(t){this._isPreventShowOrHide=true};Popup.prototype._handleLeave=function(t){this._isPreventShowOrHide=false;this.hide(this._hideDelayLeavingPopup)};Popup.prototype._handleAnimationEnd=function(){if(this._isDisplayNoneAfterAnimation){this._domNode.style.display=\&quot;none\&quot;}};Popup.prototype._hide=function(t){if(!t&amp;&amp;this._isPreventShowOrHide)return;this._signature=null;this._isDisplayNoneAfterAnimation=true;$tw.utils.removeClass(this._domNode,\&quot;tmap-popup-active\&quot;)};Popup.prototype._show=function(t,e){if(this._isPreventShowOrHide||$tm.mouse.ctrlKey||!this._isEnabled){return}this._domNode.style.display=\&quot;none\&quot;;$tw.utils.removeClass(this._domNode,\&quot;tmap-popup-active\&quot;);this._domNode.removeAttribute(\&quot;style\&quot;);utils.removeDOMChildNodes(this._domNode);var i=this._domNode.appendChild(document.createElement(\&quot;div\&quot;));if(typeof e===\&quot;function\&quot;){e(t,i)}else{i.innerHTML=e}if(!i.childNodes.length)return;var s=this._parentDomNode.getBoundingClientRect();var o=$tm.mouse.clientX;var n=$tm.mouse.clientY;var h=s.left&lt;o&amp;&amp;o&lt;s.right&amp;&amp;s.top&lt;n&amp;&amp;n&lt;s.bottom;if(!h)return;this._signature=t;this._domNode.style.display=\&quot;block\&quot;;var d=this._domNode.getBoundingClientRect();var a=s.right-(o+d.width);var l=o-d.width-s.left;var r=a&gt;l;var p=s.bottom-(n+d.height);var u=n-d.height-s.top;var m=p&gt;u;var _=r?-15:d.width+15;var v=m?-15:d.height+15;this._domNode.style.left=o-s.left-_+\&quot;px\&quot;;this._domNode.style.top=n-s.top-v+\&quot;px\&quot;;this._isDisplayNoneAfterAnimation=false;$tw.utils.addClass(this._domNode,\&quot;tmap-popup-active\&quot;)};Popup.prototype.show=function(t,e,i){this._clearTimeouts();i=utils.isInteger(i)?i:this._showDelay;this._timeoutShow=window.setTimeout(this._show,i,t,e)};Popup.prototype.hide=function(t,e){this._clearTimeouts();t=utils.isInteger(t)?t:this._hideDelay;if(e||t===0){this._hide(e)}else{this._timeoutHide=window.setTimeout(this._hide,t,e)}};Popup.prototype.setEnabled=function(t){this._isEnabled=t};Popup.prototype._clearTimeouts=function(){window.clearTimeout(this._timeoutShow);window.clearTimeout(this._timeoutHide);this._timeoutShow=undefined;this._timeoutHide=undefined};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/Popup&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/URL&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/URL\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports=Url;/**\n * &lt;&lt;&lt;\n * Lightweight URL manipulation with JavaScript. This library is \n * independent of any other libraries and has pretty simple interface\n * and lightweight code-base. Some ideas of query string parsing \n * had been taken from Jan Wolter.\&quot;\n * \n * @see http://unixpapa.com/js/querystring.html\n * @license MIT\n * @author Mykhailo Stadnyk &lt;mikhus@gmail.com&gt;\n * &lt;&lt;&lt; https://github.com/Mikhus/jsurl\n * \n * @class\n * @param {string} url\n */\nfunction Url(t){this.paths=function(t){var e=\&quot;\&quot;,r=0,o;if(t&amp;&amp;t.length&amp;&amp;t+\&quot;\&quot;!==t){if(this.isAbsolute()){e=\&quot;/\&quot;}for(o=t.length;r&lt;o;r++){t[r]=encode(t[r])}this.path=e+t.join(\&quot;/\&quot;)}t=(this.path.charAt(0)===\&quot;/\&quot;?this.path.slice(1):this.path).split(\&quot;/\&quot;);for(r=0,o=t.length;r&lt;o;r++){t[r]=decode(t[r])}return t};this.encode=encode;this.decode=decode;this.isAbsolute=function(){return this.protocol||this.path.charAt(0)===\&quot;/\&quot;};this.toString=function(){return(this.protocol&amp;&amp;this.protocol+\&quot;://\&quot;)+(this.user&amp;&amp;encode(this.user)+(this.pass&amp;&amp;\&quot;:\&quot;+encode(this.pass))+\&quot;@\&quot;)+(this.host&amp;&amp;this.host)+(this.port&amp;&amp;\&quot;:\&quot;+this.port)+(this.path&amp;&amp;this.path)+(this.query.toString()&amp;&amp;\&quot;?\&quot;+this.query)+(this.hash&amp;&amp;\&quot;#\&quot;+encode(this.hash))};parse(this,t)}var map={protocol:\&quot;protocol\&quot;,host:\&quot;hostname\&quot;,port:\&quot;port\&quot;,path:\&quot;pathname\&quot;,query:\&quot;search\&quot;,hash:\&quot;hash\&quot;},defaultPorts={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},parse=function(t,e){var r=document,o=r.createElement(\&quot;a\&quot;),e=e||r.location.href,s=e.match(/\\/\\/(.*?)(?::(.*?))?@/)||[],i;o.href=e;for(i in map){t[i]=o[map[i]]||\&quot;\&quot;}t.protocol=t.protocol.replace(/:$/,\&quot;\&quot;);t.query=t.query.replace(/^\\?/,\&quot;\&quot;);t.hash=decode(t.hash.replace(/^#/,\&quot;\&quot;));t.user=decode(s[1]||\&quot;\&quot;);t.pass=decode(s[2]||\&quot;\&quot;);t.port=defaultPorts[t.protocol]==t.port||t.port==0?\&quot;\&quot;:t.port;if(!t.protocol&amp;&amp;!/^([a-z]+:)?\\/\\//.test(e)){var h=new Url(r.location.href.match(/(.*\\/)/)[0]),n=h.path.split(\&quot;/\&quot;),a=t.path.split(\&quot;/\&quot;),c=[\&quot;protocol\&quot;,\&quot;user\&quot;,\&quot;pass\&quot;,\&quot;host\&quot;,\&quot;port\&quot;],p=c.length;n.pop();for(i=0;i&lt;p;i++){t[c[i]]=h[c[i]]}while(a[0]==\&quot;..\&quot;){n.pop();a.shift()}t.path=(e.charAt(0)!=\&quot;/\&quot;?n.join(\&quot;/\&quot;):\&quot;\&quot;)+\&quot;/\&quot;+a.join(\&quot;/\&quot;)}else{t.path=t.path.replace(/^\\/?/,\&quot;/\&quot;)}t.paths((t.path.charAt(0)==\&quot;/\&quot;?t.path.slice(1):t.path).split(\&quot;/\&quot;));parseQs(t)},encode=function(t){return encodeURIComponent(t).replace(/'/g,\&quot;%27\&quot;)},decode=function(t){t=t.replace(/\\+/g,\&quot; \&quot;);t=t.replace(/%([ef][0-9a-f])%([89ab][0-9a-f])%([89ab][0-9a-f])/gi,function(t,e,r,o){var s=parseInt(e,16)-224,i=parseInt(r,16)-128;if(s==0&amp;&amp;i&lt;32){return t}var h=parseInt(o,16)-128,n=(s&lt;&lt;12)+(i&lt;&lt;6)+h;if(n&gt;65535){return t}return String.fromCharCode(n)});t=t.replace(/%([cd][0-9a-f])%([89ab][0-9a-f])/gi,function(t,e,r){var o=parseInt(e,16)-192;if(o&lt;2){return t}var s=parseInt(r,16)-128;return String.fromCharCode((o&lt;&lt;6)+s)});t=t.replace(/%([0-7][0-9a-f])/gi,function(t,e){return String.fromCharCode(parseInt(e,16))});return t},parseQs=function(t){var e=t.query;t.query=new function(t){var e=/([^=&amp;]+)(=([^&amp;]*))?/g,r;while(r=e.exec(t)){var o=decodeURIComponent(r[1].replace(/\\+/g,\&quot; \&quot;)),s=r[3]?decode(r[3]):\&quot;\&quot;;if(this[o]!=null){if(!(this[o]instanceof Array)){this[o]=[this[o]]}this[o].push(s)}else{this[o]=s}}this.clear=function(){for(var t in this){if(!(this[t]instanceof Function)){delete this[t]}}};this.count=function(){var t=0,e;for(e in this){if(!(this[e]instanceof Function)){t++}}return t};this.isEmpty=function(){return this.count()===0};this.toString=function(){var t=\&quot;\&quot;,e=encode,r,o;for(r in this){if(this[r]instanceof Function){continue}if(this[r]instanceof Array){var s=this[r].length;if(s){for(o=0;o&lt;s;o++){t+=t?\&quot;&amp;\&quot;:\&quot;\&quot;;t+=e(r)+\&quot;=\&quot;+e(this[r][o])}}else{t+=(t?\&quot;&amp;\&quot;:\&quot;\&quot;)+e(r)+\&quot;=\&quot;}}else{t+=t?\&quot;&amp;\&quot;:\&quot;\&quot;;t+=e(r)+\&quot;=\&quot;+e(this[r])}}return t}}(e)};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/URL&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/utils&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/utils\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports={};var vis=require(\&quot;$:/plugins/felixhayashi/vis/vis.js\&quot;);var exception=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/exception\&quot;);var URL=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/URL\&quot;);var utils=module.exports;utils.deleteTiddlers=function(e){var t=Object.keys(e);var i=$tw.wiki.getTiddlerList(\&quot;$:/StoryList\&quot;);for(var r=t.length;r--;){var n=utils.getTiddlerRef(e[t[r]]);if(!$tw.wiki.tiddlerExists(e[t[r]])){continue}var l=i.indexOf(n);if(l!==-1){i.splice(l,1);utils.setField(\&quot;$:/StoryList\&quot;,\&quot;list\&quot;,i)}$tw.wiki.deleteTiddler(n)}};utils.moveFieldValues=function(e,t,i,r,n){if(e===t)return;var l=n||$tw.wiki.allTitles();for(var s=l.length;s--;){var u=utils.getTiddler(l[s]);if(u.isDraft()||!u.fields[e]||!r&amp;&amp;$tw.wiki.isSystemTiddler(l[s])){continue}var a={};a[t]=u.fields[e];if(i){a[e]=undefined}$tw.wiki.addTiddler(new $tw.Tiddler(u,a))}};utils.getLabel=function(e,t){var i=utils.getTiddler(e);return i&amp;&amp;i.fields[t]?i.fields[t]:i.fields.title};utils.ucFirst=function(e){return e&amp;&amp;e[0].toUpperCase()+e.slice(1)};utils.convert=function(e,t){if(typeof e!==\&quot;object\&quot;)return;switch(t){case\&quot;array\&quot;:return utils.getValues(e);case\&quot;hashmap\&quot;:case\&quot;object\&quot;:if(e instanceof vis.DataSet){return e.get({returnType:\&quot;Object\&quot;})}else{return e}case\&quot;dataset\&quot;:default:if(e instanceof vis.DataSet){return e}if(!Array.isArray(e)){e=utils.getValues(e)}return new vis.DataSet(e)}};utils.getValues=function(e){if(Array.isArray(e)){return e}else if(e instanceof vis.DataSet){return e.get({returnType:\&quot;Array\&quot;})}var t=[];var i=Object.keys(e);for(var r=i.length;r--;){t.push(e[i[r]])}return t};utils.getDataUri=function(e,t,i){var r=utils.getTiddler(e);var t=t||r.fields.type||\&quot;image/svg+xml\&quot;;var n=r.fields.text;var l=$tw.config.contentTypeInfo[t].encoding;if(t===\&quot;image/svg+xml\&quot;){n=n.replace(/\\r?\\n|\\r/g,\&quot; \&quot;);if(!utils.hasSubString(\&quot;xmlns\&quot;,n)){n=n.replace(/&lt;svg/,'&lt;svg xmlns=\&quot;http://www.w3.org/2000/svg\&quot;')}}if(i&amp;&amp;l!==\&quot;base64\&quot;){l=\&quot;base64\&quot;;n=window.btoa(n)}return\&quot;data:\&quot;+t+\&quot;;\&quot;+l+\&quot;,\&quot;+n};utils.hasOwnProp=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};utils.makeHashMap=function(){var e=Object.create(null);Object.defineProperty(e,\&quot;hasOwnProperty\&quot;,{enumerable:false,configurable:false,writable:false,value:Object.prototype.hasOwnProperty.bind(e)});return e};utils.getMatches=function(e,t){var i=undefined;if(typeof e===\&quot;string\&quot;){e=$tw.wiki.compileFilter(e)}if(t!=null&amp;&amp;typeof t===\&quot;object\&quot;){var r=$tw.wiki;if(!Array.isArray(t)){t=Object.keys(t)}i=function(e){for(var i=t.length;i--;){var n=r.getTiddler(t[i]);e(n,t[i])}}}return e.call($tw.wiki,i)};var eTyFiltAutoPrefix=\&quot;[all[]] \&quot;;utils.getEdgeTypeMatches=function(e,t){if(!t){var i=$tm.path.edgeTypes+\&quot;/\&quot;;t=utils.getTiddlersByPrefix(i,{iterator:\&quot;eachTiddlerPlusShadows\&quot;,removePrefix:true})}if(t!=null&amp;&amp;!Array.isArray(t)){t=Object.keys(t)}return utils.getMatches(eTyFiltAutoPrefix+(e||\&quot;\&quot;),t)};utils.isEdgeTypeMatch=function(e,t){return utils.isMatch(e,eTyFiltAutoPrefix+(t||\&quot;\&quot;))};utils.isMatch=function(e,t){var i=utils.getTiddlerRef(e);var r=utils.getMatches(t,[i]);return i===r[0]};utils.isInteger=Number.isInteger||function(e){return typeof e===\&quot;number\&quot;&amp;&amp;isFinite(e)&amp;&amp;Math.floor(e)===e};utils.escapeRegex=function(e){return e.replace(/[-$^?.+*[\\]\\\\(){}|]/g,\&quot;\\\\$&amp;\&quot;)};utils.replaceAll=function(e,t,i){t=t||\&quot;\&quot;;for(var r=i.length;r--;){var n=i[r];var l=t;if(Array.isArray(n)){l=n[1];n=n[0]}e=e.replace(n,l)}return e};utils.isTrue=function(e,t){if(e==null){return!!t}else if(typeof e===\&quot;string\&quot;){var i=parseInt(e);return isNaN(i)?e===\&quot;true\&quot;:i!==0}else if(typeof e===\&quot;boolean\&quot;){return e}else if(typeof e===\&quot;number\&quot;){return i!==0}return false};utils.getTiddlerRef=function(e){if(e instanceof $tw.Tiddler){return e.fields.title}else if(typeof e===\&quot;string\&quot;){return e}};utils.getTiddler=function(e,t){if(e instanceof $tw.Tiddler){if(!t){return e}e=e.fields.title}return $tw.wiki.getTiddler(e)};utils.getBasename=function(e){return e.substring(e.lastIndexOf(\&quot;/\&quot;)+1)};utils.notify=function(e){var t=\&quot;$:/temp/tiddlymap/notify\&quot;;$tw.wiki.addTiddler(new $tw.Tiddler({title:t,text:e}));$tw.notifier.display(t)};utils.tiddlerExists=function(e){var t=utils.getTiddlerRef(e);return t&amp;&amp;($tw.wiki.tiddlerExists(t)||$tw.wiki.isShadowTiddler(t))};utils.isPreviewed=function(e){if(e){if(e.getVariable(\&quot;tv-tiddler-preview\&quot;)){return true}else{var t=\&quot;tc-tiddler-preview-preview\&quot;;return!!utils.getAncestorWithClass(e.parentDomNode,t)}}return false};utils.getAncestorWithClass=function(e,t){if(typeof e!==\&quot;object\&quot;||typeof t!==\&quot;string\&quot;)return;while(e.parentNode){e=e.parentNode;if($tw.utils.hasClass(e,t)){return e}}};utils.getPropertiesByPrefix=function(e,t,i){var r=utils.makeHashMap();for(var n in e){if(utils.startsWith(n,t)){r[i?n.substr(t.length):n]=e[n]}}return r};utils.getWithoutPrefix=function(e,t){return utils.startsWith(e,t)?e.substr(t.length):e};utils.hasKeyWithPrefix=function(e,t){for(var i in e){if(utils.startsWith(i,t)){return true}}return false};utils.startsWith=function(e,t){return e.substring(0,t.length)===t};utils.hasElements=function(e){return Object.keys(e).length&gt;0};utils.groupByProperty=function(e,t){e=utils.getIterableCollection(e);var i=utils.makeHashMap();var r=Object.keys(e);for(var n in r){var l=e[r[n]];var s=l[t];if(s==null){throw\&quot;Cannot group by property \&quot;+t}else{if(!Array.isArray(i[s])){i[s]=[]}i[s].push(l)}}return i};utils.findAndRemoveClassNames=function(e){for(var t=e.length;t--;){var i=document.getElementsByClassName(e[t]);for(var r=i.length;r--;){$tw.utils.removeClass(i[r],e[t])}}};utils.parseFieldData=function(e,t,i){var r=utils.getTiddler(e);if(!r)return i;if(!t)t=\&quot;text\&quot;;return utils.parseJSON(r.fields[t],i)};utils.getImgFromWeb=function(e,t){if(!e||typeof t!==\&quot;function\&quot;)return;var i=new XMLHttpRequest;i.open(\&quot;GET\&quot;,e,true);i.responseType=\&quot;blob\&quot;;i.onerror=function(e){console.log(e)};i.onload=function(e){if(this.readyState===4&amp;&amp;this.status===200){var i=this.response;t(window.URL.createObjectURL(i))}};try{i.send()}catch(r){console.log(r)}};utils.parseJSON=function(e,t){try{return JSON.parse(e)}catch(i){return t}};utils.writeFieldData=function(e,t,i){if(typeof i===\&quot;object\&quot;){utils.setField(e,t,JSON.stringify(i))}};utils.getPrettyFilter=function(e){e=e.trim().replace(\&quot;][\&quot;,\&quot;] [\&quot;);var t=/[\\+\\-]?\\[.+?[\\]\\}\\&gt;]\\]/g;var i=e.match(t);e=e.replace(t,\&quot; [] \&quot;).trim();var r=e.split(/\\s+/);var n=0;var l=[];for(var s=0;s&lt;r.length;s++){l[s]=r[s]===\&quot;[]\&quot;?i[n++]:r[s]}return l.join(\&quot;\\n\&quot;)};utils.setField=function(e,t,i){if(!e||!t)return;var r=utils.getTiddlerRef(e);var n={title:r};n[t]=i;var l=$tw.wiki.getTiddler(r,true);if(t!==\&quot;text\&quot;&amp;&amp;l&amp;&amp;!l.fields.text){n.text=\&quot;\&quot;}var l=new $tw.Tiddler(l,n);$tw.wiki.addTiddler(l);return l};utils.clone=function(e,t){utils.setField(e,\&quot;title\&quot;,t)};utils.setEntry=function(e,t,i){$tw.wiki.setText(utils.getTiddlerRef(e),null,t,i)};utils.getEntry=function(e,t,i){var r=$tw.wiki.getTiddlerData(utils.getTiddlerRef(e),{});return r[t]==null?i:r[t]};utils.isLeftVersionGreater=function(e,t){return e!==t&amp;&amp;$tw.utils.checkVersions(e,t)};utils.getField=function(e,t,i){var r=utils.getTiddler(e);return!r?i||\&quot;\&quot;:r.fields[t]||i||\&quot;\&quot;};utils.getText=function(e,t){return utils.getField(e,\&quot;text\&quot;,t)};utils.setText=function(e,t){utils.setField(e,\&quot;text\&quot;,t)};utils.getFirstElementByClassName=function(e,t,i){var r=(t||document).getElementsByClassName(e)[0];if(!r&amp;&amp;(typeof i===\&quot;boolean\&quot;?i:true)){var n=\&quot;Missing element with class \&quot;+e+\&quot; inside \&quot;+t;throw new utils.exception.EnvironmentError(n)}return r};utils.isDraft=function(e){var t=utils.getTiddler(e);return t&amp;&amp;t.isDraft()};utils.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e)+e)};utils.pickRandom=function(e){return e[utils.getRandomInt(0,e.length-1)]};utils.getRandomLabel=function(e){e=e||{};var t=[\&quot;exciting\&quot;,\&quot;notable\&quot;,\&quot;epic\&quot;,\&quot;new\&quot;,\&quot;fancy\&quot;,\&quot;great\&quot;,\&quot;cool\&quot;,\&quot;fresh\&quot;,\&quot;funky\&quot;,\&quot;clever\&quot;];var i=[\&quot;concept\&quot;,\&quot;idea\&quot;,\&quot;thought\&quot;,\&quot;topic\&quot;,\&quot;subject\&quot;];return\&quot;My\&quot;+\&quot; \&quot;+utils.pickRandom(t)+\&quot; \&quot;+(e.object||utils.pickRandom(i))+(e.plural?\&quot;s\&quot;:\&quot;\&quot;)};utils.merge=function(){var e=function(t,i){if(typeof t!==\&quot;object\&quot;){t={}}for(var r in i){if(i.hasOwnProperty(r)){if(i[r]!=null){t[r]=typeof i[r]===\&quot;object\&quot;?e(t[r],i[r]):i[r]}}}return t};return function(t){for(var i=1,r=arguments.length;i&lt;r;i++){var n=arguments[i];if(n!=null&amp;&amp;typeof n===\&quot;object\&quot;){t=e(t,n)}}return t}}();utils.drawRaster=function(e,t,i,r,n){var r=parseInt(r)||10;var l=e.canvas;var s=l.width/t;var u=l.width/t;var a=i.x-s/2;var f=i.y-u/2;for(var o=a;o&lt;s;o+=r){e.moveTo(o,f);e.lineTo(o,u)}for(var d=f;d&lt;u;d+=r){e.moveTo(a,d);e.lineTo(s,d)}e.strokeStyle=n||\&quot;#D9D9D9\&quot;;e.stroke()};utils.isSystemOrDraft=function(e){if($tw.wiki.isSystemTiddler(utils.getTiddlerRef(e))){return true}var t=utils.getTiddler(e);return t&amp;&amp;t.isDraft()};utils.getMergedTiddlers=function(e,t){if(!Array.isArray(e))return;for(var i=e.length;i--;){e[i]=utils.getTiddler(e[i])}if(!e.length)return;e.push({title:t||e[0].fields.title},$tw.wiki.getModificationFields(),$tw.wiki.getCreationFields());e.unshift(null);return new(Function.prototype.bind.apply($tw.Tiddler,e))};utils.getChildWidgetByProperty=function(e,t,i){var r=e.children;for(var n=r.length;n--;){var l=r[n];if(l[t]===i){return l}else{l=utils.getChildWidgetByProperty(l,t,i);if(l){return l}}}};utils.setDomListeners=function(e,t,i,r){r=typeof r===\&quot;boolean\&quot;?r:false;e=e+\&quot;EventListener\&quot;;for(var n in i){var l=i[n];if(typeof l===\&quot;function\&quot;){t[e](n,l,r)}else{t[e](n,l[0],typeof l[1]===\&quot;boolean\&quot;?l[1]:r)}}};utils.removeArrayElement=function(e,t){var i=e.indexOf(t);if(i&gt;-1){return e.splice(i,1)[0]}};utils.removeDOMChildNodes=function(e){for(var t=e.childNodes.length;t--;){e.removeChild(e.childNodes[t])}};utils.addTWlisteners=function(e,t,i){for(var r in e){t.addEventListener(r,e[r].bind(i))}};utils.bind=function(e,t){if(typeof t===\&quot;string\&quot;){t=[t]}else{for(var i=t.length;i--;){var r=e[t[i]];if(typeof r===\&quot;function\&quot;){e[t[i]]=r.bind(e)}}}};utils.mv=function(e,t,i,r){if(e===t||!e||!t)return;i=typeof i===\&quot;boolean\&quot;?i:false;r=typeof r===\&quot;boolean\&quot;?r:true;var n=utils.getTiddlersByPrefix(e);var l=utils.makeHashMap();for(var s=n.length;s--;){var u=n[s];var a=u.replace(e,t);if($tw.wiki.tiddlerExists(a)&amp;&amp;!i){return}l[u]=a}for(var u in l){utils.setField(u,\&quot;title\&quot;,l[u]);if(r)$tw.wiki.deleteTiddler(u)}return l};utils.cp=function(e,t,i){return utils.mv(e,t,i,false)};utils.inArray=function(e,t){return t.indexOf(e)!==-1};utils.hasSubString=function(e,t){return e.indexOf(t)!==-1};utils.joinAndWrap=function(e,t,i,r){if(!r)r=\&quot; \&quot;;return t+e.join(i+r+t)+i};utils.keysOfItemsWithProperty=function(e,t,i,r){e=utils.getIterableCollection(e);var n=Object.keys(e);var l=[];var r=typeof r===\&quot;number\&quot;?r:n.length;for(var s=0,u=n.length;s&lt;u;s++){var a=n[s];if(typeof e[a]===\&quot;object\&quot;&amp;&amp;e[a][t]){if(!i||e[a][t]===i){l.push(a);if(l.length===r){break}}}}return l};utils.keyOfItemWithProperty=function(e,t,i){var r=utils.keysOfItemsWithProperty(e,t,i,1);return r.length?r[0]:undefined};utils.deleteByPrefix=function(e,t){if(!e)return;t=t||$tw.wiki.allTitles();var i=[];for(var r=t.length;r--;){if(utils.startsWith(t[r],e)){$tw.wiki.deleteTiddler(t[r]);i.push(i[r])}}return i};utils.getIterableCollection=function(e){return e instanceof vis.DataSet?e.get():e};utils.getLookupTable=function(e,t){e=utils.getIterableCollection(e);var i=utils.makeHashMap();var r=Object.keys(e);for(var n=0,l=r.length;n&lt;l;n++){var s=r[n];var u=t?e[s][t]:e[s];var a=typeof u;if(a===\&quot;string\&quot;&amp;&amp;u!==\&quot;\&quot;||a===\&quot;number\&quot;){if(!i[u]){i[u]=t?e[s]:true;continue}}throw'TiddlyMap: Cannot use \&quot;'+ltIndex+'\&quot; as lookup table index'}return i};utils.getWithoutNewLines=function(e){if(typeof e===\&quot;string\&quot;){return e.replace(/[\\n\\r]/g,\&quot; \&quot;)}};utils.getArrayValuesAsHashmapKeys=function(e){return utils.getLookupTable(e)};utils.getTiddlersWithField=function(e,t,i){if(!i||typeof i!==\&quot;object\&quot;)i={};var r=i.tiddlers||$tw.wiki.allTitles();var n=i.limit||0;var l=i.isIncludeDrafts===true;var s=utils.makeHashMap();var u=Object.keys(r);var a=$tw.utils.hop;for(var f=u.length;f--;){var o=utils.getTiddler(r[u[f]]);var d=o.fields;if(a(d,e)&amp;&amp;(!a(d,\&quot;draft.of\&quot;)||l)){if(!t||d[e]===t){s[d.title]=o;if(--n===0)break}}}return s};utils.getTiddlerWithField=function(e,t){var i=utils.getTiddlersWithField(e,t,{limit:1});return Object.keys(i)[0]};utils.getTiddlersByPrefix=function(e,t){t=t||{};var i=t.removePrefix===true;var r=[];$tw.wiki[t.iterator||\&quot;each\&quot;](function(t,n){if(utils.startsWith(n,e)){r.push(i?utils.getWithoutPrefix(n,e):n)}});return r};utils.addTiddler=function(e,t){var i=utils.getTiddler(e);if(!t&amp;&amp;i)return i;i=new $tw.Tiddler({title:e,text:\&quot;\&quot;},$tw.wiki.getModificationFields(),$tw.wiki.getCreationFields());$tw.wiki.addTiddler(i);return i};utils.getSnapshotTitle=function(e,t){return\&quot;Snapshot – \&quot;+e+\&quot; (\&quot;+(new Date).toDateString()+\&quot;)\&quot;+\&quot;.\&quot;+(t||\&quot;png\&quot;)};utils.exception=exception;utils.URL=URL;utils.makeDraftTiddler=function(e){var t=$tw.wiki.findDraft(e);if(t){return $tw.wiki.getTiddler(t)}var i=$tw.wiki.getTiddler(e);t=utils.generateDraftTitle(e);var r=new $tw.Tiddler(i,{title:t,\&quot;draft.title\&quot;:e,\&quot;draft.of\&quot;:e},$tw.wiki.getModificationFields());$tw.wiki.addTiddler(r);return r};utils.generateDraftTitle=function(e){var t=0,i;do{i=\&quot;Draft \&quot;+(t?t+1+\&quot; \&quot;:\&quot;\&quot;)+\&quot;of '\&quot;+e+\&quot;'\&quot;;t++}while($tw.wiki.tiddlerExists(i));return i};utils.touch=function(e){utils.setField(e,\&quot;modified\&quot;,new Date)};utils.getFullScreenApis=function(){var e=document,t=e.body,i={_requestFullscreen:t.webkitRequestFullscreen!==undefined?\&quot;webkitRequestFullscreen\&quot;:t.mozRequestFullScreen!==undefined?\&quot;mozRequestFullScreen\&quot;:t.msRequestFullscreen!==undefined?\&quot;msRequestFullscreen\&quot;:t.requestFullscreen!==undefined?\&quot;requestFullscreen\&quot;:\&quot;\&quot;,_exitFullscreen:e.webkitExitFullscreen!==undefined?\&quot;webkitExitFullscreen\&quot;:e.mozCancelFullScreen!==undefined?\&quot;mozCancelFullScreen\&quot;:e.msExitFullscreen!==undefined?\&quot;msExitFullscreen\&quot;:e.exitFullscreen!==undefined?\&quot;exitFullscreen\&quot;:\&quot;\&quot;,_fullscreenElement:e.webkitFullscreenElement!==undefined?\&quot;webkitFullscreenElement\&quot;:e.mozFullScreenElement!==undefined?\&quot;mozFullScreenElement\&quot;:e.msFullscreenElement!==undefined?\&quot;msFullscreenElement\&quot;:e.fullscreenElement!==undefined?\&quot;fullscreenElement\&quot;:\&quot;\&quot;,_fullscreenChange:e.webkitFullscreenElement!==undefined?\&quot;webkitfullscreenchange\&quot;:e.mozFullScreenElement!==undefined?\&quot;mozfullscreenchange\&quot;:e.msFullscreenElement!==undefined?\&quot;MSFullscreenChange\&quot;:e.fullscreenElement!==undefined?\&quot;fullscreenchange\&quot;:\&quot;\&quot;};if(!i._requestFullscreen||!i._exitFullscreen||!i._fullscreenElement){return null}else{return i}};utils.flatten=function(e,t){t=t||{};var i=t.delimiter||\&quot;.\&quot;;var r=t.prefix||\&quot;\&quot;;var n={};function l(e,s){Object.keys(e).forEach(function(u){var a=e[u];var f=t.safe&amp;&amp;Array.isArray(a);var o=Object.prototype.toString.call(a);var d=o===\&quot;[object Object]\&quot;||o===\&quot;[object Array]\&quot;;var c=s?s+i+u:r+u;if(!f&amp;&amp;d){return l(a,c)}n[c]=a})}l(e);return n};utils.unflatten=function(e,t){t=t||{};var i=t.delimiter||\&quot;.\&quot;;var r={};if(Object.prototype.toString.call(e)!==\&quot;[object Object]\&quot;){return e}function n(e){var t=Number(e);return isNaN(t)||e.indexOf(\&quot;.\&quot;)!==-1?e:t}Object.keys(e).forEach(function(l){var s=l.split(i);var u=n(s.shift());var a=n(s[0]);var f=r;while(a!==undefined){if(f[u]===undefined){f[u]=typeof a===\&quot;number\&quot;&amp;&amp;!t.object?[]:{}}f=f[u];if(s.length&gt;0){u=n(s.shift());a=n(s[0])}}f[u]=utils.unflatten(e[l],t)});return r};utils.genUUID=function(){var e=\&quot;0123456789abcdefghijklmnopqrstuvwxyz\&quot;.split(\&quot;\&quot;);return function(){var t=e,i=new Array(36);var r=0,n;for(var l=0;l&lt;36;l++){if(l==8||l==13||l==18||l==23){i[l]=\&quot;-\&quot;}else if(l==14){i[l]=\&quot;4\&quot;}else{if(r&lt;=2)r=33554432+Math.random()*16777216|0;n=r&amp;15;r=r&gt;&gt;4;i[l]=t[l==19?n&amp;3|8:n]}}return i.join(\&quot;\&quot;)}}();&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/utils&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/ViewAbstraction&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/ViewAbstraction\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports=ViewAbstraction;var EdgeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/EdgeType\&quot;);var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);function ViewAbstraction(t,e){e=e||{};this._edgeTypePath=$tm.path.edgeTypes;if(t instanceof ViewAbstraction){return t}this._registerPaths(t,e.isCreate);if(e.isCreate){this._createView(e)}else if(!this.exists()){return{exists:function(){return false}}}this.rebuildCache()}ViewAbstraction.prototype._noNeedToRebuildCache=false;ViewAbstraction.prototype._registerPaths=function(t,e){this.comp=this.comp||utils.makeHashMap();this.comp.config=this._getConfigPath(t,e);this.comp.map=this.comp.config+\&quot;/map\&quot;;this.comp.nodeFilter=this.comp.config+\&quot;/filter/nodes\&quot;;this.comp.edgeTypeFilter=this.comp.config+\&quot;/filter/edges\&quot;};ViewAbstraction.prototype._getConfigPath=function(t,e){if(t instanceof $tw.Tiddler){return t.fields.title}if(typeof t===\&quot;string\&quot;){t=utils.getWithoutPrefix(t,$tm.path.views+\&quot;/\&quot;);if(t&amp;&amp;!utils.hasSubString(t,\&quot;/\&quot;)){return $tm.path.views+\&quot;/\&quot;+t}}if(e){var i=$tm.path.views+\&quot;/\&quot;+utils.getRandomLabel({plural:true});return $tw.wiki.generateNewTitle(i)}};ViewAbstraction.prototype.getPaths=function(){return this.comp};ViewAbstraction.prototype._createView=function(t){if(this.exists()){if(!t.isForce)return;this.destroy()}var e=new ViewAbstraction(t.protoView);if(e.exists()){var i=utils.cp(e.getRoot(),this.comp.config,true)}var r={};r.title=this.comp.config;if(!t.isHidden){r[$tm.field.viewMarker]=true}r.id=utils.genUUID();$tw.wiki.addTiddler(new $tw.Tiddler(utils.getTiddler(this.comp.config),r));this.setEdgeTypeFilter($tm.filter.defaultEdgeTypeFilter)};ViewAbstraction.prototype.isLocked=function(){return $tw.wiki.isShadowTiddler(this.comp.config)};ViewAbstraction.prototype.update=function(t){var e=t.changedTiddlers;if(t[$tm.path.edgeTypes]||utils.hasKeyWithPrefix(e,this.comp.config)){this.rebuildCache();return true}};ViewAbstraction.prototype.rebuildCache=function(t){if(!t&amp;&amp;this._noNeedToRebuildCache){this._noNeedToRebuildCache=false;return}this.config=this.getConfig(null,true);this.nodeData=this.getNodeData(null,true);this.nodeFilter=this.getNodeFilter(null,true);this.edgeTypeFilter=this.getEdgeTypeFilter(null,true)};ViewAbstraction.prototype.addPlaceholder=function(t){utils.cp(t,this.getRoot()+\&quot;/snapshot\&quot;,true)};ViewAbstraction.prototype.exists=function(){return utils.tiddlerExists(this.comp.config)};ViewAbstraction.prototype.getRoot=function(){return this.comp.config};ViewAbstraction.prototype.getCreationDate=function(t){var e=$tw.wiki.getTiddler(this.comp.config).fields[\&quot;created\&quot;];if(t){return e instanceof Date?$tw.utils.formatDateString(e,\&quot;DDth MMM YYYY\&quot;):\&quot;\&quot;}return e};ViewAbstraction.prototype.getLabel=function(){return utils.getBasename(this.comp.config)};ViewAbstraction.prototype.destroy=function(){var t=\&quot;[prefix[\&quot;+this.getRoot()+\&quot;]]\&quot;;utils.deleteTiddlers(utils.getMatches(t))};ViewAbstraction.prototype.getOccurrences=function(){var t=\&quot;[regexp:text[&lt;\\\\$(tiddlymap|tmap).*?view=.\&quot;+this.getLabel()+\&quot;..*?&gt;]]\&quot;;return utils.getMatches(t)};ViewAbstraction.prototype.rename=function(t){if(typeof t!==\&quot;string\&quot;)return false;if(utils.inArray(\&quot;/\&quot;,t)){$tm.notify('A view name must not contain any \&quot;/\&quot;');return false}var e=this.getLabel();var i=$tm.path.views+\&quot;/\&quot;+t;var r=this.getRoot();var o=utils.mv(r,i,true);if($tm.config.sys.defaultView===e){utils.setEntry($tm.ref.sysUserConf,\&quot;defaultView\&quot;,t)}if($tm.config.sys.liveTab.fallbackView===e){utils.setEntry($tm.ref.sysUserConf,\&quot;liveTab.fallbackView\&quot;,t)}$tw.wiki.each(function(i,r){if(i.fields[\&quot;tmap.open-view\&quot;]===e){utils.setField(r,\&quot;tmap.open-view\&quot;,t)}else if(utils.startsWith(r,$tm.path.views)){var o=new ViewAbstraction(r);if(!o.exists())return;var s=o.getNodeData();for(var n in s){if(s[n][\&quot;open-view\&quot;]===e){s[n][\&quot;open-view\&quot;]=t}}o.saveNodeData(s)}});this._registerPaths(t);this.rebuildCache()};ViewAbstraction.prototype.isEnabled=function(t){return utils.isTrue(this.getConfig(t),false)};ViewAbstraction.prototype.getConfig=function(t,e,i){if(!e&amp;&amp;this.config){var r=this.config}else{var o=$tw.wiki.getTiddler(this.comp.config).fields;var r=utils.getPropertiesByPrefix(o,\&quot;config.\&quot;)}return t?r[utils.startsWith(t,\&quot;config.\&quot;)?t:\&quot;config.\&quot;+t]:r};ViewAbstraction.prototype.getHierarchyEdgeTypes=function(){if(this.getConfig(\&quot;layout.active\&quot;)!==\&quot;hierarchical\&quot;)return[];var t=utils.getPropertiesByPrefix(this.getConfig(),\&quot;config.layout.hierarchical.order-by-\&quot;,true);var e=utils.makeHashMap();for(var i in t){if(t[i]===\&quot;true\&quot;){var r=utils.getTiddler($tm.indeces.tById[i]);if(r){e[utils.getBasename(r.fields.title)]=true}}}return e};ViewAbstraction.prototype.setConfig=function(){var t=arguments;if(t[0]==null)return;if(t.length===1&amp;&amp;typeof t[0]===\&quot;object\&quot;){for(var e in t[0]){this.setConfig(e,t[0][e])}}else if(t.length===2&amp;&amp;typeof t[0]===\&quot;string\&quot;){var e=utils.getWithoutPrefix(t[0],\&quot;config.\&quot;);var i=t[1];if(i===undefined)return;if(i===null){$tm.logger(\&quot;debug\&quot;,\&quot;Removing config\&quot;,e);delete this.config[\&quot;config.\&quot;+e]}else{if(e===\&quot;edge_type_namespace\&quot;){var r=i.match(/[^:]+/);i=r?r[0]:\&quot;\&quot;}}$tm.logger(\&quot;log\&quot;,\&quot;Setting config\&quot;,e,i);this.config[\&quot;config.\&quot;+e]=i}else{return}$tw.wiki.addTiddler(new $tw.Tiddler($tw.wiki.getTiddler(this.comp.config),this.config));this._noNeedToRebuildCache=true};ViewAbstraction.prototype.isExplicitNode=function(t){var e=$tw.utils.escapeRegExp(this._getAddNodeFilterPart(t));return this.getNodeFilter(\&quot;raw\&quot;).match(e)};ViewAbstraction.prototype.isLiveView=function(){return this.getLabel()===$tm.misc.liveViewLabel};ViewAbstraction.prototype._getAddNodeFilterPart=function(t){if(!t){throw\&quot;Supplied param is not a node!\&quot;}var e=typeof t===\&quot;object\&quot;?t.id:t;return\&quot;[field:tmap.id[\&quot;+e+\&quot;]]\&quot;};ViewAbstraction.prototype.setNodeFilter=function(t,e){t=t.replace(/[\\n\\r]/g,\&quot; \&quot;);if(this.getNodeFilter(\&quot;raw\&quot;)===t){return}if(this.isLiveView()&amp;&amp;!e){var i=\&quot;You must not change the live view's node filter!\&quot;;$tm.notify(i);return}utils.setField(this.comp.nodeFilter,\&quot;filter\&quot;,t);$tm.logger(\&quot;debug\&quot;,\&quot;Node filter set to\&quot;,t);this.nodeFilter=this.getNodeFilter(null,true);this._noNeedToRebuildCache=true};ViewAbstraction.prototype.setEdgeTypeFilter=function(t){t=t.replace(/[\\n\\r]/g,\&quot; \&quot;);if(this.getEdgeTypeFilter(\&quot;raw\&quot;)===t){return}utils.setField(this.comp.edgeTypeFilter,\&quot;filter\&quot;,t);$tm.logger(\&quot;debug\&quot;,\&quot;Edge filter set to\&quot;,t);this.edgeTypeFilter=this.getEdgeTypeFilter(null,true);this._noNeedToRebuildCache=true};ViewAbstraction.prototype.addNode=function(t){if(this.isExplicitNode(t))return false;var e=this._getAddNodeFilterPart(t);this.setNodeFilter(this.getNodeFilter(\&quot;raw\&quot;)+\&quot; \&quot;+e);this.saveNodePosition(t)};ViewAbstraction.prototype.removeNode=function(t){if(!this.isExplicitNode(t))return false;var e=this._getAddNodeFilterPart(t);var i=this.getNodeFilter(\&quot;raw\&quot;).replace(e,\&quot;\&quot;);this.setNodeFilter(i);return true};ViewAbstraction.prototype.getEdgeTypeFilter=function(t,e){if(!e&amp;&amp;this.edgeTypeFilter){var i=this.edgeTypeFilter}else{var i=utils.makeHashMap();var r=$tm.indeces.allETy;var o=Object.keys(r);var s=$tw.wiki.getTiddler(this.comp.edgeTypeFilter);i.raw=s&amp;&amp;s.fields.filter||\&quot;\&quot;;i.pretty=utils.getPrettyFilter(i.raw);i.matches=utils.getEdgeTypeMatches(i.raw,r);i.whitelist=utils.getLookupTable(i.matches)}return t?i[t]:i};ViewAbstraction.prototype.isEdgeTypeVisible=function(t){var e={namespace:this.getConfig(\&quot;edge_type_namespace\&quot;)};var t=new EdgeType(t,null,e);return utils.isEdgeTypeMatch(t.id,this.edgeTypeFilter.raw)};ViewAbstraction.prototype.getNodeFilter=function(t,e){if(!e&amp;&amp;this.nodeFilter){var i=this.nodeFilter}else{var i=utils.makeHashMap();var r=$tw.wiki.getTiddler(this.comp.nodeFilter);i.raw=r&amp;&amp;r.fields.filter||\&quot;\&quot;;i.pretty=utils.getPrettyFilter(i.raw);i.compiled=$tw.wiki.compileFilter(i.raw)}return t?i[t]:i};ViewAbstraction.prototype.getNodeData=function(t,e){var i=!e&amp;&amp;this.nodeData?this.nodeData:utils.parseFieldData(this.comp.map,\&quot;text\&quot;,{});return t?i[t]:i};ViewAbstraction.prototype.equals=function(t){if(t===this)return true;var t=new ViewAbstraction(t);return t.exists()&amp;&amp;this.getRoot()===t.getRoot()};ViewAbstraction.prototype.saveNodeData=function(){var t=arguments;var e=this.getNodeData();if(t.length===2){if(typeof t[1]===\&quot;object\&quot;){if(t[1]===null){e[t[0]]=undefined}else{e[t[0]]=$tw.utils.extend(e[t[0]]||{},t[1])}}}else if(t.length===1&amp;&amp;typeof t[0]===\&quot;object\&quot;){$tm.logger(\&quot;log\&quot;,\&quot;Storing data in\&quot;,this.comp.map);$tw.utils.extend(e,t[0])}else{return}utils.writeFieldData(this.comp.map,\&quot;text\&quot;,e);this.nodeData=e;this._noNeedToRebuildCache=true};ViewAbstraction.prototype.saveNodePosition=function(t){if(t.id&amp;&amp;t.x&amp;&amp;t.y){this.saveNodeData(t.id,{x:t.x,y:t.y})}};ViewAbstraction.prototype.saveNodeStyle=function(t,e){var i=this.getNodeData()[t];if(i){for(var r in i){if(r!==\&quot;x\&quot;&amp;&amp;r!==\&quot;y\&quot;)i[r]=undefined}}this.saveNodeData(t,e)};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/ViewAbstraction&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/config/vis&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/config/vis\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports={locale:\&quot;en_EN\&quot;,clickToUse:false,autoResize:false,height:\&quot;100%\&quot;,width:\&quot;100%\&quot;,configure:{enabled:false},interaction:{dragNodes:true,dragView:true,hideEdgesOnDrag:false,hideNodesOnDrag:false,hover:true,navigationButtons:true,multiselect:true,selectable:true,selectConnectedEdges:true,tooltipDelay:600,zoomView:false,keyboard:{enabled:false,speed:{x:10,y:10,zoom:.02},bindToWindow:false}},manipulation:{initiallyActive:true},nodes:{shape:\&quot;box\&quot;,shadow:{enabled:false},color:{border:\&quot;#2B7CE9\&quot;,background:\&quot;#97C2FC\&quot;}},edges:{smooth:{enabled:true},color:{color:\&quot;#848484\&quot;,inherit:false},arrows:{to:{enabled:true}}},physics:{forceAtlas2Based:{gravitationalConstant:-300,springLength:0,springConstant:.2,centralGravity:.015,damping:.4},solver:\&quot;forceAtlas2Based\&quot;,stabilization:{enabled:true,iterations:1e3,updateInterval:10,onlyDynamicEdges:false,fit:false}}};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/config/vis&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/macro/tmap&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/plugins/felixhayashi/tiddlymap/js/macro/tmap\ntype: application/javascript\nmodule-type: macro\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;exports.name=\&quot;tmap\&quot;;exports.params=getParamSlots(5);exports.run=run;var EdgeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/EdgeType\&quot;);var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);var ViewAbstraction=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/ViewAbstraction\&quot;);function run(){this.substVarRefs=this.substituteVariableReferences;var r=command[arguments[0]];var t=null;if(typeof r===\&quot;function\&quot;){var e=Array.prototype.slice.call(arguments,1);var t=r.apply(this,e)}return typeof t===\&quot;string\&quot;?t:\&quot;\&quot;}function getParamSlots(r){var t=[];for(var e=0;e&lt;r;e++){t.push({name:\&quot;arg\&quot;+e})}return t}var command=utils.makeHashMap();command.basename=function(r){var t=r||this.getVariable(\&quot;currentTiddler\&quot;);return utils.getBasename(t)};command.datauri=function(r,t){return utils.getDataUri(r,t,true)};command.testJSON=function(r){var t=$tw.wiki.getTiddler(this.getVariable(\&quot;currentTiddler\&quot;));try{JSON.parse(t.fields[r]);return\&quot;valid\&quot;}catch(e){return\&quot;malformed\&quot;}};command.splitAndSelect=function(r,t){var e=this.getVariable(\&quot;currentTiddler\&quot;);var a=e.split(r)[t];return a!=null?a:e};command.concat=function(){var r=\&quot;\&quot;;for(var t=1,e=arguments.length;t&lt;e;t++){r+=arguments[t]}return r};command.uuid=function(){return utils.genUUID()};command.regRepl=function(){var r=this.substVarRefs(arguments[0]);var t=arguments[1];var e=this.substVarRefs(arguments[2]);var a=this.substVarRefs(arguments[4]);return r.replace(new RegExp(t,a),e)};command.halfOfString=function(){var r=this.substVarRefs(arguments[0]);if(!r)return\&quot;\&quot;;return r.substr(0,Math.ceil(r.length/2))};command.isETyVisible=function(r,t,e){e=command.getETyId.call(this,r,e);return\&quot;\&quot;+utils.isEdgeTypeMatch(e,t)};command.getETyId=function(r,t){t=t||this.getVariable(\&quot;currentTiddler\&quot;);return new EdgeType(t,null,{namespace:r}).id};command.scale=function(){var r=\&quot;\&quot;;for(var t=1,e=parseInt(arguments[0]);t&lt;e;t++){r+=\&quot;[[\&quot;+t+\&quot;]]\&quot;}return r};command.mergeFields=function(){var r=utils.getTiddler(arguments[0]);var t=arguments[1];var e=arguments[2]||\&quot; \&quot;;if(!r)return;var a=utils.getPropertiesByPrefix(r.fields,t);var n=\&quot;\&quot;;for(var i in a){if(typeof a[i]===\&quot;string\&quot;){n+=a[i]+e}}return n};command.option=function(r,t){var e=$tm;var a=r.split(\&quot;.\&quot;);for(var n=0;n&lt;a.length;n++){if(typeof e==\&quot;object\&quot;&amp;&amp;e[a[n]]){e=e[a[n]]}}if(t&amp;&amp;typeof e===\&quot;string\&quot;&amp;&amp;utils.hasSubString(t)&amp;&amp;e.lastIndexOf(t)+t.length===e.length){e=e+t}return e};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/macro/tmap&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;macro&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/startup/caretaker&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/startup/caretaker\ntype: application/javascript\nmodule-type: startup\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;exports.name=\&quot;tmap.caretaker\&quot;;exports.platforms=[\&quot;browser\&quot;];exports.after=[\&quot;startup\&quot;,\&quot;tmap.environment\&quot;];exports.before=[\&quot;rootwidget\&quot;];exports.synchronous=true;exports.startup=startup;var visConfig=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/config/vis\&quot;);var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);var fixer=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/fixer\&quot;);var Adapter=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/Adapter\&quot;);var DialogManager=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/DialogManager\&quot;);var CallbackManager=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/CallbackManager\&quot;);var ViewAbstraction=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/ViewAbstraction\&quot;);var EdgeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/EdgeType\&quot;);var NodeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/NodeType\&quot;);var vis=require(\&quot;$:/plugins/felixhayashi/vis/vis.js\&quot;);function startup(){$tm.utils=utils;$tm.keycharm=vis.keycharm;$tm.NodeType=NodeType;$tm.EdgeType=EdgeType;$tm.ViewAbstraction=ViewAbstraction;$tm.url=new $tm.utils.URL(window.location.href);updateGlobals();createMetaFile();cleanup();attachIndeces($tm);$tm.updateTree=updateTree;setDefaults();$tm.adapter=new Adapter;fixer.fix();$tm.callbackManager=new CallbackManager;$tm.dialogManager=new DialogManager($tm.callbackManager);$tm.registry=[];window.setInterval(routineCheck,5e3);registerChangeListener($tm.callbackManager);registerMousemoveListener();registerClickListener();maybePrepareForFullscreenStart($tm.url);$tm.logger(\&quot;warn\&quot;,\&quot;TiddlyMap's caretaker successfully started\&quot;)}var attachOptions=function(e){var t=e;if(!t.config)t.config=utils.makeHashMap();t.config.sys=utils.merge(t.config.sys,utils.unflatten($tw.wiki.getTiddlerData(t.ref.sysUserConf)));t.config.vis=utils.merge({},visConfig,utils.parseFieldData(t.ref.visUserConf));if(!t.field)t.field=utils.makeHashMap();$tw.utils.extend(t.field,t.config.sys.field)};var attachIndeces=function(e){$tm.start(\&quot;Attaching Indeces\&quot;);if(!e.indeces){e.indeces={};var t=$tm.path.pluginRoot;e.indeces.tmapTiddlers=$tw.wiki.getPluginInfo(t).tiddlers}var i=$tw.wiki.allTitles();updateTiddlerVsIdIndeces(e.indeces,i);updateNodeTypesIndeces(e.indeces);updateEdgeTypesIndeces(e.indeces);$tm.stop(\&quot;Attaching Indeces\&quot;)};var updateTiddlerVsIdIndeces=function(e,t){e=e||$tm.indeces;t=t||$tw.wiki.allTitles();fixer.fixId();var i=e.tById={};var a=e.idByT={};$tw.wiki.each(function(e,t){if(utils.isSystemOrDraft(e))return;var r=e.fields[\&quot;tmap.id\&quot;];if(!r){r=utils.genUUID();utils.setField(e,\&quot;tmap.id\&quot;,r)}i[r]=t;a[t]=r})};var updateNodeTypesIndeces=function(e){e=e||$tm.indeces;var t=$tm.path.nodeTypes;var i=e.glNTy=[];$tw.wiki.eachTiddlerPlusShadows(function(e,a){if(utils.startsWith(a,t)){i.push(new NodeType(a))}});i.sort(function(e,t){return e.priority-t.priority})};var updateEdgeTypesIndeces=function(e){e=e||$tm.indeces;var t=$tm.path.edgeTypes;var i=e.allETy=utils.makeHashMap();var a=e.maETyFiNa=utils.makeHashMap();var r=utils.getLookupTable($tm.misc.magicETyNamespaces);$tw.wiki.eachTiddlerPlusShadows(function(e,s){if(utils.startsWith(s,t)){var n=new EdgeType(s);i[n.id]=n;if(r[n.namespace]){a[n.name]=n}}})};var updateAdjacencyList=function(e){};var attachFunctions=function(e){var t=e;var i=function(){};if(utils.isTrue($tm.config.sys.debug,false)&amp;&amp;console){t.logger=function(){if(arguments.length&lt;2)return;var e=Array.prototype.slice.call(arguments);var t=e.shift(e);var i=console.hasOwnProperty(t)?t:\&quot;debug\&quot;;console[i].apply(console,e)};t.start=function(e){console.time(\&quot;[timer] \&quot;+e)};t.stop=function(e){console.timeEnd(\&quot;[timer] \&quot;+e)}}else{t.logger=t.start=t.stop=i}t.notify=utils.isTrue($tm.config.sys.notifications)?utils.notify:i};var routineCheck=function(){for(var e=$tm.registry.length;e--;){var t=$tm.registry[e];if(!t.destruct||!t.isZombieWidget)return;if(t.isZombieWidget()){$tm.logger(\&quot;warn\&quot;,\&quot;a widget will be removed\&quot;);$tm.registry.splice(e,1);t.destruct()}}};var dispatchUpdates=function(e){var t=$tm.registry;for(var i=t.length;i--;){var a=t[i];if(!a.destruct||!a.isZombieWidget)return;if(a.update&amp;&amp;!a.isZombieWidget()){a.update(e)}}};var checkForDublicates=function(e){var t=e.fields[\&quot;tmap.id\&quot;];if(!t)return;var i=$tm;var a=utils.getTiddlersWithField(\&quot;tmap.id\&quot;,t,{limit:2});delete a[e.fields.title];var r=Object.keys(a)[0];if(r){var s={param:{changedTiddler:e.fields.title,existingTiddler:r,id:t}};$tm.dialogManager.open(\&quot;dublicateIdInfo\&quot;,s)}if(r){utils.setField(e,\&quot;tmap.edges\&quot;,undefined);$tm.adapter.assignId(e,true)}};var updateGlobals=function(e){attachOptions($tm);attachFunctions($tm);$tm.logger(\&quot;warn\&quot;,\&quot;Rebuilt globals\&quot;)};var lastCurrentTiddler=null;var updateLiveViewTrigger=function(e){if(e[\&quot;$:/HistoryList\&quot;]){var t=utils.getField(\&quot;$:/HistoryList\&quot;,\&quot;current-tiddler\&quot;)}else if(e[\&quot;$:/temp/focussedTiddler\&quot;]){var t=utils.getField(\&quot;$:/temp/focussedTiddler\&quot;,\&quot;text\&quot;)}if(t!=null&amp;&amp;lastCurrentTiddler!==t){lastCurrentTiddler=t;utils.setField(\&quot;$:/temp/tmap/currentTiddler\&quot;,\&quot;text\&quot;,t)}};var printChanges=function(e,t){if(!utils.isTrue($tm.config.sys.debug,false))return;$tm.logger(\&quot;warn\&quot;,\&quot;=== Refresh \&quot;+t+\&quot; ===\&quot;);for(var i in e){var a=e[i].deleted?\&quot;[Deleted]\&quot;:\&quot;[Modified]\&quot;;$tm.logger(\&quot;warn\&quot;,a,i,$tw.wiki.getTiddler(i))}};var registerMousemoveListener=function(){$tm.mouse={};var e=function(e){$tm.mouse=e};window.addEventListener(\&quot;mousemove\&quot;,e,false)};var registerClickListener=function(){var e=$tm.path.tempPopups;window.addEventListener(\&quot;click\&quot;,function(t){var i=utils.getTiddlersByPrefix(e);for(var a=i.length;a--;){if(utils.getText(i[a]))break}if(a===-1)return;if(!$tw.utils.hasClass(t.target,\&quot;tc-drop-down\&quot;)&amp;&amp;!utils.getAncestorWithClass(t.target,\&quot;tc-drop-down\&quot;)){for(var a=i.length;a--;){utils.setText(i[a],\&quot;\&quot;)}}},false)};var updateTree=function(){updateGlobals();updateNodeTypesIndeces();updateEdgeTypesIndeces()};var registerChangeListener=function(e){var t=0;var i={};i[$tm.path.options]=updateGlobals;i[$tm.path.nodeTypes]=updateNodeTypesIndeces;i[$tm.path.edgeTypes]=updateEdgeTypesIndeces;$tw.wiki.addEventListener(\&quot;change\&quot;,function(a){$tm.start(\&quot;Caretaker handling changes\&quot;);printChanges(a,t++);e.handleChanges(a);var r={changedTiddlers:a};for(var s in a){var n=utils.getTiddler(s);if(n&amp;&amp;n.isDraft())continue;if($tw.wiki.isSystemTiddler(s)){handleSysTidChanges(s,n,r,i)}else{handleTidChanges(s,n,r)}}dispatchUpdates(r);updateLiveViewTrigger(a);$tm.stop(\&quot;Caretaker handling changes\&quot;)})};var handleSysTidChanges=function(e,t,i,a){var r=$tm.path;for(var s in a){if(utils.startsWith(e,s)&amp;&amp;!i[s]){$tm.logger(\&quot;warn\&quot;,\&quot;[System change]\&quot;,s);a[s]();i[s]=true;return}}};var handleTidChanges=function(e,t,i){if(t){checkForDublicates(t);$tm.adapter.assignId(t)}else{var a=$tm.indeces.idByT[e];if(!a)return;var r=utils.getTiddlerWithField(\&quot;tmap.id\&quot;,a);if(r){$tm.logger(\&quot;warn\&quot;,\&quot;[Renamed]\&quot;,e,\&quot;into\&quot;,r)}else{$tm.adapter.deleteNode(a)}}};var cleanup=function(){utils.deleteByPrefix(\&quot;$:/temp/felixhayashi\&quot;);utils.deleteByPrefix(\&quot;$:/temp/tiddlymap\&quot;);utils.deleteByPrefix(\&quot;$:/temp/tmap\&quot;)};var setDefaults=function(){var e=$tm.config.sys.defaultView;if(!e)return;utils.setField($tm.ref.defaultViewHolder,\&quot;text\&quot;,e)};var maybePrepareForFullscreenStart=function(e){if(!e.query[\&quot;tmap-enlarged\&quot;])return;var t=$tm.ref;var i=utils.getTiddlersByPrefix(\&quot;$:/state/tab/sidebar-\&quot;)[0];utils.setText(i,t.mainEditor);var a=new ViewAbstraction(e.query[\&quot;tmap-view\&quot;]);if(a.exists()){utils.setField(t.defaultViewHolder,\&quot;text\&quot;,a.getLabel())}};var createMetaFile=function(){if(utils.tiddlerExists($tm.ref.sysMeta))return;$tm.logger(\&quot;warn\&quot;,\&quot;Creating meta file\&quot;);var e=$tw.wiki.getTiddler($tm.path.pluginRoot);$tw.wiki.setTiddlerData($tm.ref.sysMeta,{originalVersion:e.fields.version,dataStructureState:\&quot;0.6.9\&quot;,showWelcomeMessage:true})};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/startup/caretaker&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/startup/environment&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/startup/environment\ntype: application/javascript\nmodule-type: startup\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;exports.name=\&quot;tmap.environment\&quot;;exports.platforms=[\&quot;browser\&quot;];exports.after=[\&quot;startup\&quot;];exports.before=[\&quot;tmap.caretaker\&quot;];exports.synchronous=true;exports.startup=run;function run(e){window.$tm={};$tm.path={pluginRoot:\&quot;$:/plugins/felixhayashi/tiddlymap\&quot;,edgeTypes:\&quot;$:/plugins/felixhayashi/tiddlymap/graph/edgeTypes\&quot;,nodeTypes:\&quot;$:/plugins/felixhayashi/tiddlymap/graph/nodeTypes\&quot;,views:\&quot;$:/plugins/felixhayashi/tiddlymap/graph/views\&quot;,options:\&quot;$:/plugins/felixhayashi/tiddlymap/config\&quot;,dialogs:\&quot;$:/plugins/felixhayashi/tiddlymap/dialog\&quot;,footers:\&quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter\&quot;,tempRoot:\&quot;$:/temp/tmap\&quot;,tempStates:\&quot;$:/temp/tmap/state\&quot;,tempPopups:\&quot;$:/temp/tmap/state/popup\&quot;,localHolders:\&quot;$:/temp/tmap/holders\&quot;};$tm.ref={defaultViewHolder:\&quot;$:/plugins/felixhayashi/tiddlymap/misc/defaultViewHolder\&quot;,graphBar:\&quot;$:/plugins/felixhayashi/tiddlymap/misc/advancedEditorBar\&quot;,sysUserConf:\&quot;$:/plugins/felixhayashi/tiddlymap/config/sys/user\&quot;,visUserConf:\&quot;$:/plugins/felixhayashi/tiddlymap/config/vis/user\&quot;,welcomeFlag:\&quot;$:/plugins/felixhayashi/tiddlymap/flag/welcome\&quot;,focusButton:\&quot;$:/plugins/felixhayashi/tiddlymap/misc/focusButton\&quot;,sysMeta:\&quot;$:/plugins/felixhayashi/tiddlymap/misc/meta\&quot;,liveTab:\&quot;$:/plugins/felixhayashi/tiddlymap/hook/liveTab\&quot;,mainEditor:\&quot;$:/plugins/felixhayashi/tiddlymap/hook/editor\&quot;,sidebarBreakpoint:\&quot;$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint\&quot;};$tm.misc={unknownEdgeLabel:\&quot;tmap:undefined\&quot;,liveViewLabel:\&quot;Live View\&quot;,defaultViewLabel:\&quot;Default\&quot;,mainEditorId:\&quot;main_editor\&quot;,arrows:{\&quot;in\&quot;:\&quot;⇦\&quot;,out:\&quot;➡\&quot;,bi:\&quot;⇄\&quot;},magicETyNamespaces:[\&quot;tw-list\&quot;,\&quot;tw-field\&quot;,\&quot;tw-filter\&quot;]};$tm.config={sys:{field:{nodeLabel:\&quot;caption\&quot;,nodeIcon:\&quot;icon\&quot;,nodeInfo:\&quot;description\&quot;,viewMarker:\&quot;isview\&quot;},liveTab:{fallbackView:$tm.misc.liveViewLabel},suppressedDialogs:{},edgeClickBehaviour:\&quot;manager\&quot;,debug:\&quot;false\&quot;,notifications:\&quot;true\&quot;,popups:{enabled:\&quot;true\&quot;,delay:\&quot;600\&quot;,width:\&quot;240px\&quot;,height:\&quot;140px\&quot;},editNodeOnCreate:\&quot;false\&quot;,singleClickMode:\&quot;false\&quot;,editorMenuBar:{showNeighScopeButton:\&quot;true\&quot;,showScreenshotButton:\&quot;true\&quot;}}};$tm.filter={nodeTypes:\&quot;[prefix[\&quot;+$tm.path.nodeTypes+\&quot;]]\&quot;,edgeTypes:\&quot;[prefix[\&quot;+$tm.path.edgeTypes+\&quot;]]\&quot;,views:\&quot;[\&quot;+$tm.config.sys.field.viewMarker+\&quot;[true]]\&quot;};$tm.filter.defaultEdgeTypeFilter=\&quot; -[prefix[_]]\&quot;+\&quot; -[[tw-body:link]]\&quot;+\&quot; -[[tw-list:tags]]\&quot;+\&quot; -[[tw-list:list]]\&quot;;var i=$tm.selector={};var a=\&quot;[all[tiddlers+shadows]!has[draft.of]]\&quot;;i.allEdgeTypes=a+\&quot; +\&quot;+$tm.filter.edgeTypes;i.allEdgeTypesById=i.allEdgeTypes+\&quot; +[removeprefix[\&quot;+$tm.path.edgeTypes+\&quot;/]]\&quot;;i.allNodeTypes=a+\&quot; +\&quot;+$tm.filter.nodeTypes;i.allNodeTypesById=i.allNodeTypes+\&quot; +[removeprefix[\&quot;+$tm.path.nodeTypes+\&quot;/]]\&quot;;i.allViews=a+\&quot; +\&quot;+$tm.filter.views;i.allViewsByLabel=i.allViews+\&quot;+[removeprefix[\&quot;+$tm.path.views+\&quot;/]]\&quot;;i.allPotentialNodes=\&quot;[all[tiddlers]!is[system]!has[draft.of]]\&quot;}&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/startup/environment&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/startup/listener&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/startup/listener\ntype: application/javascript\nmodule-type: startup\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;exports.name=\&quot;tmap.listener\&quot;;exports.platforms=[\&quot;browser\&quot;];exports.after=[\&quot;rootwidget\&quot;,\&quot;tmap.caretaker\&quot;];exports.before=[\&quot;story\&quot;];exports.synchronous=true;exports.startup=function(){new GlobalListener};var NodeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/NodeType\&quot;);var EdgeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/EdgeType\&quot;);var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);var visDefConf=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/config/vis\&quot;);function GlobalListener(){this.wiki=$tw.wiki;utils.addTWlisteners({\&quot;tmap:tm-remove-edge\&quot;:this.handleRemoveEdge,\&quot;tmap:tm-load-type-form\&quot;:this.handleLoadTypeForm,\&quot;tmap:tm-save-type-form\&quot;:this.handleSaveTypeForm,\&quot;tmap:tm-create-type\&quot;:this.handleCreateType,\&quot;tmap:tm-create-edge\&quot;:this.handleCreateEdge,\&quot;tmap:tm-suppress-dialog\&quot;:this.handleSuppressDialog,\&quot;tmap:tm-generate-widget\&quot;:this.handleGenerateWidget,\&quot;tmap:tm-download-graph\&quot;:this.handleDownloadGraph,\&quot;tmap:tm-configure-system\&quot;:this.handleConfigureSystem,\&quot;tmap:tm-manage-edge-types\&quot;:this.handleOpenTypeManager,\&quot;tmap:tm-manage-node-types\&quot;:this.handleOpenTypeManager,\&quot;tmap:tm-cancel-dialog\&quot;:this.handleCancelDialog,\&quot;tmap:tm-clear-tiddler\&quot;:this.handleClearTiddler,\&quot;tmap:tm-merge-tiddlers\&quot;:this.handleMixTiddlers,\&quot;tmap:tm-confirm-dialog\&quot;:this.handleConfirmDialog},$tw.rootWidget,this)}GlobalListener.prototype.handleCancelDialog=function(e){utils.setField(e.param,\&quot;text\&quot;,\&quot;\&quot;)};GlobalListener.prototype.handleClearTiddler=function(e){var t=e.paramObject;if(!t||!t.title)return;var a=utils.getTiddler(t.title);var i=a?a.fields:{};var r=t.keep?t.keep.split():[];var d={title:t.title,text:\&quot;\&quot;};for(var l=r.length;l--;){var s=r[l];d[s]=i[s]}$tw.wiki.deleteTiddler(t.title);$tw.wiki.addTiddler(new $tw.Tiddler(d))};GlobalListener.prototype.handleMixTiddlers=function(e){var t=e.paramObject;if(!t||!t.tiddlers)return;var a=$tw.utils.parseStringArray(t.tiddlers);var i=utils.getMergedTiddlers(a,t.output);$tw.wiki.addTiddler(i)};GlobalListener.prototype.handleConfirmDialog=function(e){utils.setField(e.param,\&quot;text\&quot;,\&quot;1\&quot;)};GlobalListener.prototype.handleSuppressDialog=function(e){if(utils.isTrue(e.paramObject.suppress,false)){utils.setEntry($tm.ref.sysUserConf,\&quot;suppressedDialogs.\&quot;+e.paramObject.dialog,true)}};GlobalListener.prototype.handleDownloadGraph=function(e){var t=$tm.adapter.getGraph({view:e.paramObject.view});t.nodes=utils.convert(t.nodes,\&quot;array\&quot;);t.edges=utils.convert(t.edges,\&quot;array\&quot;);var a=\&quot;$:/temp/tmap/export\&quot;;utils.setField(a,\&quot;text\&quot;,JSON.stringify(t,null,2));$tw.rootWidget.dispatchEvent({type:\&quot;tm-download-file\&quot;,param:a,paramObject:{filename:e.paramObject.view+\&quot;.json\&quot;}})};GlobalListener.prototype.handleConfigureSystem=function(){var e=$tm.adapter.getAllPotentialNodes();var t=$tm.adapter.getEdgesForSet(e);var a=$tw.wiki.getTiddler($tm.path.pluginRoot).fields;var i=$tw.wiki.getTiddlerData($tm.ref.sysMeta);var r=utils.getTiddler($tm.ref.liveTab).hasTag(\&quot;$:/tags/SideBar\&quot;);var d={numberOfNodes:\&quot;\&quot;+e.length,numberOfEdges:\&quot;\&quot;+Object.keys(t).length,pluginVersion:\&quot;v\&quot;+a.version,dataStructureVersion:\&quot;v\&quot;+i.dataStructureState,dialog:{preselects:{liveTab:\&quot;\&quot;+r,\&quot;vis-inherited\&quot;:JSON.stringify(visDefConf),\&quot;config.vis\&quot;:utils.getText($tm.ref.visUserConf),\&quot;config.sys\&quot;:$tm.config.sys}}};var l=\&quot;globalConfig\&quot;;$tm.dialogManager.open(l,d,function(e,t){if(!e)return;var a=utils.getPropertiesByPrefix(t.fields,\&quot;config.sys.\&quot;,true);$tw.wiki.setTiddlerData($tm.ref.sysUserConf,a);if(utils.isTrue(t.fields.liveTab,false)){utils.setField($tm.ref.liveTab,\&quot;tags\&quot;,\&quot;$:/tags/SideBar\&quot;)}else{$tw.wiki.deleteTiddler($tm.ref.liveTab)}utils.setField($tm.ref.visUserConf,\&quot;text\&quot;,t.fields[\&quot;config.vis\&quot;])}.bind(this))};GlobalListener.prototype.handleGenerateWidget=function(e){if(!e.paramObject)e.paramObject={};var t={dialog:{preselects:{view:e.paramObject.view||$tm.misc.defaultViewLabel}}};$tm.dialogManager.open(\&quot;widgetCodeGenerator\&quot;,t)};GlobalListener.prototype.handleRemoveEdge=function(e){$tm.adapter.deleteEdge(e.paramObject)};GlobalListener.prototype.handleCreateEdge=function(e){var t=e.paramObject.from;var a=e.paramObject.to;var i=e.paramObject.force;if(!t||!a)return;if(utils.tiddlerExists(t)&amp;&amp;utils.tiddlerExists(a)||i){utils.addTiddler(a);utils.addTiddler(t);var r={from:$tm.adapter.makeNode(t).id,to:$tm.adapter.makeNode(a).id,type:e.paramObject.label,id:e.paramObject.id};$tm.adapter.insertEdge(r);$tm.notify(\&quot;Edge inserted\&quot;)}};GlobalListener.prototype.handleOpenTypeManager=function(e){if(!e.paramObject)e.paramObject={};var t=e.type.match(/tmap:tm-(.*)/)[1];if(t===\&quot;manage-edge-types\&quot;){var a=\&quot;Edge-Type Manager\&quot;;var i=$tm.selector.allEdgeTypes;var r=$tm.path.edgeTypes}else{var a=\&quot;Node-Type Manager\&quot;;var i=$tm.selector.allNodeTypes;var r=$tm.path.nodeTypes}var d={mode:t,topic:a,searchSelector:i,typeRootPath:r};var l=$tm.dialogManager.open(\&quot;MapElementTypeManager\&quot;,d);if(e.paramObject.type){this.handleLoadTypeForm({paramObject:{mode:t,id:e.paramObject.type,output:l.fields[\&quot;output\&quot;]}})}};GlobalListener.prototype.handleLoadTypeForm=function(e){var t=e.paramObject.output;var a=e.paramObject.mode===\&quot;manage-edge-types\&quot;?new EdgeType(e.paramObject.id):new NodeType(e.paramObject.id);a.save(t);if(e.paramObject.mode===\&quot;manage-edge-types\&quot;){var i=$tm.adapter.selectEdgesByType(a);var r=Object.keys(i).length;utils.setField(t,\&quot;temp.usageCount\&quot;,r)}$tw.wiki.addTiddler(new $tw.Tiddler(utils.getTiddler(t),{typeTRef:a.fullPath,\&quot;temp.idImmutable\&quot;:a.isShipped?\&quot;true\&quot;:\&quot;\&quot;,\&quot;temp.newId\&quot;:a.id,\&quot;vis-inherited\&quot;:JSON.stringify($tm.config.vis)}));utils.deleteByPrefix(\&quot;$:/state/tabs/MapElementTypeManager\&quot;)};GlobalListener.prototype.handleSaveTypeForm=function(e){var t=utils.getTiddler(e.paramObject.output);if(!t)return;var a=e.paramObject.mode;var i=a===\&quot;manage-edge-types\&quot;?new EdgeType(t.fields.id):new NodeType(t.fields.id);if(utils.isTrue(t.fields[\&quot;temp.deleteType\&quot;],false)){this.deleteType(a,i,t)}else{this.saveType(a,i,t)}};GlobalListener.prototype.deleteType=function(e,t,a){$tm.logger(\&quot;debug\&quot;,\&quot;Deleting type\&quot;,t);if(e===\&quot;manage-edge-types\&quot;){$tm.adapter._processEdgesWithType(t,{action:\&quot;delete\&quot;})}else{$tm.adapter.removeNodeType(t)}this.wiki.addTiddler(new $tw.Tiddler({title:utils.getTiddlerRef(a)}));$tm.notify(\&quot;Deleted type\&quot;)};GlobalListener.prototype.saveType=function(e,t,a){var i=utils.getTiddler(a);t.loadFromTiddler(i);t.save();var r=i.fields[\&quot;temp.newId\&quot;];if(r&amp;&amp;r!==i.fields[\&quot;id\&quot;]){if(e===\&quot;manage-edge-types\&quot;){$tm.adapter._processEdgesWithType(t,{action:\&quot;rename\&quot;,newName:r})}else{var d=new NodeType(r);d.load(t);d.save();$tw.wiki.deleteTiddler(t.fullPath)}utils.setField(i,\&quot;id\&quot;,r)}$tm.notify(\&quot;Saved type data\&quot;)};GlobalListener.prototype.handleCreateType=function(e){var t=e.paramObject.id||\&quot;New type\&quot;;var a=e.paramObject.mode===\&quot;manage-edge-types\&quot;?new EdgeType(t):new NodeType(t);a.save();this.handleLoadTypeForm({paramObject:{id:a.id,mode:e.paramObject.mode,output:e.paramObject.output}})};GlobalListener.prototype.getTypeFromEvent=function(e){return e.paramObject.mode===\&quot;manage-edge-types\&quot;?new EdgeType(e.paramObject.id):new NodeType(e.paramObject.id)};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/startup/listener&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/widget/MapConfigWidget&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/widget/MapConfigWidget\ntype: application/javascript\nmodule-type: widget\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;exports[\&quot;tmap-config\&quot;]=MapConfigWidget;var ViewAbstraction=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/ViewAbstraction\&quot;);var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);var vis=require(\&quot;$:/plugins/felixhayashi/vis/vis.js\&quot;);var Widget=require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;function MapConfigWidget(e,t){Widget.call(this);this.initialise(e,t);this.computeAttributes()}MapConfigWidget.prototype=Object.create(Widget.prototype);MapConfigWidget.prototype.render=function(e,t){this.parentDomNode=e;if(!this.domNode){this.domNode=this.document.createElement(\&quot;div\&quot;);$tw.utils.addClass(this.domNode,\&quot;tmap-config-widget\&quot;);e.insertBefore(this.domNode,t)}if(this.network){this.network.destroy()}this.networkContainer=document.createElement(\&quot;div\&quot;);this.domNode.appendChild(this.networkContainer);this.refreshTrigger=this.getAttribute(\&quot;refresh-trigger\&quot;);this.pipeTRef=this.getVariable(\&quot;currentTiddler\&quot;);this.inheritedFields=$tw.utils.parseStringArray(this.getAttribute(\&quot;inherited\&quot;));this.extensionTField=this.getAttribute(\&quot;extension\&quot;);this.mode=this.getAttribute(\&quot;mode\&quot;);for(var i=0;i&lt;this.inheritedFields.length;i++){var s=this.inheritedFields[i];var n=utils.parseFieldData(this.pipeTRef,s,{});if(this.mode===\&quot;manage-edge-types\&quot;){if(!n.edges){n={edges:n}}}else if(this.mode===\&quot;manage-node-types\&quot;){if(!n.nodes){n={nodes:n}}}this.inherited=utils.merge(this.inherited,n)}this.extension=utils.parseFieldData(this.pipeTRef,this.extensionTField,{});if(this.mode===\&quot;manage-edge-types\&quot;){if(!this.extension.edges){this.extension={edges:this.extension}}}else if(this.mode===\&quot;manage-node-types\&quot;){if(!this.extension.nodes){this.extension={nodes:this.extension}}}var r=utils.isTrue(this.getAttribute(\&quot;save-only-changes\&quot;));this.changes=r?{}:this.extension;var a={nodes:[],edges:[]};var o=utils.merge({},this.inherited,this.extension);$tw.utils.extend(o,{configure:{enabled:true,showButton:false,filter:this.getOptionFilter(this.mode)}});this.network=new vis.Network(this.networkContainer,a,o);this.network.on(\&quot;configChange\&quot;,this.handleConfigChange.bind(this));var h=this.parentDomNode.getBoundingClientRect().height;this.parentDomNode.style[\&quot;height\&quot;]=h+\&quot;px\&quot;;var l=this.handleResetEvent.bind(this);this.networkContainer.addEventListener(\&quot;reset\&quot;,l,false);$tm.registry.push(this);this.enhanceConfigurator()};MapConfigWidget.prototype.handleResetEvent=function(e){var t={};t[e.detail.trigger.path]=null;this.handleConfigChange(t)};MapConfigWidget.prototype.handleConfigChange=function(e){var t=utils.flatten(this.changes);var i=utils.flatten(e);var s=Object.keys(utils.flatten(e))[0];var n=i[s]===null;if(n){t[s]=undefined;this.changes=utils.unflatten(t)}else{this.changes=utils.merge(this.changes,e)}var r=utils.merge({},this.changes);if(this.mode===\&quot;manage-node-types\&quot;){r=r[\&quot;nodes\&quot;]}if(this.mode===\&quot;manage-edge-types\&quot;){r=r[\&quot;edges\&quot;]}utils.writeFieldData(this.pipeTRef,this.extensionTField,r);var a=\&quot;vis-configuration-wrapper\&quot;;var o=this.networkContainer.getElementsByClassName(a)[0];o.style.height=o.getBoundingClientRect().height+\&quot;px\&quot;;if(n){window.setTimeout(this.refresh.bind(this),0)}else{window.setTimeout(this.enhanceConfigurator.bind(this),50)}};MapConfigWidget.prototype.enhanceConfigurator=function(){var e=\&quot;vis-configuration-wrapper\&quot;;var t=this.networkContainer.getElementsByClassName(e)[0].children;var i=[];var s=utils.flatten(this.changes);for(var n=0;n&lt;t.length;n++){if(!t[n].classList.contains(\&quot;vis-config-item\&quot;))continue;var r=new VisConfElement(t[n],i,n);i.push(r);if(r.level===0)continue;r.setActive(!!s[r.path])}};function VisConfElement(e,t,i){var s=\&quot;getElementsByClassName\&quot;;var n=\&quot;getElementsByTagName\&quot;;this.isActive=false;this.pos=i;this.el=e;this.inputEl=e[s](\&quot;vis-config-colorBlock\&quot;)[0]||e[n](\&quot;input\&quot;)[0];this.labelEl=e[s](\&quot;vis-config-label\&quot;)[0]||e[s](\&quot;vis-config-header\&quot;)[0]||e;var r=this.labelEl.innerText||this.labelEl.textContent;this.label=r&amp;&amp;r.match(/([a-zA-Z0-9]+)/)[1];this.level=parseInt(e.className.match(/.*vis-config-s(.).*/)[1])||0;this.path=this.label;if(this.level&gt;0){for(var a=i;a--;){var o=t[a];if(o.level&lt;this.level){this.path=o.path+\&quot;.\&quot;+this.path;break}}}}VisConfElement.prototype.setActive=function(e){if(!e)return;var t=\&quot;tmap-vis-config-item-\&quot;+(e?\&quot;active\&quot;:\&quot;inactive\&quot;);$tw.utils.addClass(this.el,t);if(e){var i=document.createElement(\&quot;button\&quot;);i.innerHTML=\&quot;reset\&quot;;i.className=\&quot;tmap-config-item-reset\&quot;;var s=this;i.addEventListener(\&quot;click\&quot;,function(e){e.currentTarget.dispatchEvent(new CustomEvent(\&quot;reset\&quot;,{detail:{trigger:s},bubbles:true,cancelable:true}))},false);this.el.appendChild(i)}};MapConfigWidget.prototype.getOptionFilter=function(e){var t={nodes:{borderWidth:true,borderWidthSelected:true,color:{background:true,border:true},font:{color:true,size:true},icon:true,labelHighlightBold:false,shadow:true,shape:true,shapeProperties:{borderDashes:true},size:true},edges:{arrows:true,color:true,dashes:true,font:true,labelHighlightBold:false,length:true,selfReferenceSize:false,shadow:true,smooth:true,width:true},interaction:{hideEdgesOnDrag:true,hideNodesOnDrag:true,tooltipDelay:true},layout:{hierarchical:false},manipulation:{initiallyActive:true},physics:{forceAtlas2Based:{gravitationalConstant:true,springLength:true,springConstant:true,damping:true,centralGravity:true}}};if(e===\&quot;manage-edge-types\&quot;){t={edges:t.edges}}else if(e===\&quot;manage-node-types\&quot;){t={nodes:t.nodes}}else{t.edges.arrows=false}return function(e,i){i=i.concat([e]);var s=t;for(var n=0,r=i.length;n&lt;r;n++){if(s[i[n]]===true){return true}else if(s[i[n]]==null){return false}s=s[i[n]]}return false}};MapConfigWidget.prototype.isZombieWidget=function(){return!document.body.contains(this.parentDomNode)};MapConfigWidget.prototype.destruct=function(){if(this.network){this.network.destroy()}};MapConfigWidget.prototype.refresh=function(e){if(this.isZombieWidget()||!this.network)return;if(!e||e[this.refreshTrigger]){this.refreshSelf();return true}};MapConfigWidget.prototype.setNull=function(e){for(var t in e){if(typeof e[t]==\&quot;object\&quot;){this.setNull(e[t])}else{e[t]=undefined}}};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/widget/MapConfigWidget&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/widget/connections&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/widget/connections\ntype: application/javascript\nmodule-type: widget\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;exports[\&quot;tmap-edgelistitem\&quot;]=EdgeListItemWidget;exports[\&quot;tmap-connections\&quot;]=EdgeListWidget;var Widget=require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;var EdgeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/EdgeType\&quot;);var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);function EdgeListWidget(e,t){Widget.call(this,e,t)}EdgeListWidget.prototype=Object.create(Widget.prototype);EdgeListWidget.prototype.render=function(e,t){this.parentDomNode=e;this.computeAttributes();this.execute();this.renderChildren(e,t)};EdgeListWidget.prototype.execute=function(){var e=[this.getVariable(\&quot;currentTiddler\&quot;)];var t=this.getAttribute(\&quot;filter\&quot;,\&quot;\&quot;);var i=this.getAttribute(\&quot;direction\&quot;,\&quot;both\&quot;);var r=$tm.indeces.allETy;var s=utils.getEdgeTypeMatches(t,r);var d={typeWL:utils.getLookupTable(s),direction:i};var o=$tm.adapter.getNeighbours(e,d);var a=o.nodes;var g=o.edges;var n=[];for(var h in g){var p=g[h];var l=a[p.to]||a[p.from];if(!l)continue;n.push({type:\&quot;tmap-edgelistitem\&quot;,edge:p,typeWL:d.typeWL,neighbour:l,children:this.parseTreeNode.children})}if(!n.length){this.wasEmpty=true;n=this.getEmptyMessage()}else if(this.wasEmpty){this.removeChildDomNodes()}this.makeChildWidgets(n)};EdgeListWidget.prototype.getEmptyMessage=function(){var e=this.wiki.parseText(\&quot;text/vnd.tiddlywiki\&quot;,this.getAttribute(\&quot;emptyMessage\&quot;,\&quot;\&quot;),{parseAsInline:true});return e?e.tree:[]};EdgeListWidget.prototype.refresh=function(e){var t=this.computeAttributes();var i=Object.keys(t).length;if(i){this.refreshSelf();return true}for(var r in e){if(!utils.isSystemOrDraft(r)){this.refreshSelf();return true}}return this.refreshChildren(e)};function EdgeListItemWidget(e,t){Widget.call(this,e,t);this.arrows=$tm.misc.arrows}EdgeListItemWidget.prototype=Object.create(Widget.prototype);EdgeListItemWidget.prototype.execute=function(){var e=this.parseTreeNode;var t=$tm.indeces.tById[e.neighbour.id];var i=utils.flatten(e.edge);for(var r in i){if(typeof i[r]===\&quot;string\&quot;){this.setVariable(\&quot;edge.\&quot;+r,i[r])}}this.setVariable(\&quot;currentTiddler\&quot;,t);this.setVariable(\&quot;neighbour\&quot;,t);var s=$tm.indeces.allETy[i.type];var d=i.to===e.neighbour.id?\&quot;to\&quot;:\&quot;from\&quot;;var o=d;if(s.biArrow){o=\&quot;bi\&quot;}else{if(d===\&quot;to\&quot;&amp;&amp;s.invertedArrow){o=\&quot;from\&quot;}else if(d===\&quot;from\&quot;&amp;&amp;s.invertedArrow){o=\&quot;to\&quot;}}this.setVariable(\&quot;direction\&quot;,o);this.setVariable(\&quot;directionSymbol\&quot;,o===\&quot;bi\&quot;?this.arrows.bi:o===\&quot;from\&quot;?this.arrows.in:this.arrows.out);this.makeChildWidgets()};EdgeListItemWidget.prototype.refresh=function(e){return this.refreshChildren(e)};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/widget/connections&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/widget/MapWidget&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/widget/MapWidget\ntype: application/javascript\nmodule-type: widget\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;exports.tiddlymap=MapWidget;exports.tmap=MapWidget;var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);var DialogManager=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/DialogManager\&quot;);var CallbackManager=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/CallbackManager\&quot;);var ViewAbstraction=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/ViewAbstraction\&quot;);var EdgeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/EdgeType\&quot;);var NodeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/NodeType\&quot;);var Popup=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/Popup\&quot;);var vis=require(\&quot;$:/plugins/felixhayashi/vis/vis.js\&quot;);var Widget=require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;function MapWidget(e,t){Widget.call(this,e,t);this.getAttr=this.getAttribute;this.isDebug=utils.isTrue($tm.config.sys.debug,false);utils.bind(this,[\&quot;constructTooltip\&quot;,\&quot;handleResizeEvent\&quot;,\&quot;handleClickEvent\&quot;,\&quot;handleCanvasKeyup\&quot;,\&quot;handleCanvasKeydown\&quot;,\&quot;handleCanvasScroll\&quot;,\&quot;handleWidgetKeyup\&quot;,\&quot;handleWidgetKeydown\&quot;,\&quot;handleTriggeredRefresh\&quot;]);this.callbackManager=new CallbackManager;this.dialogManager=new DialogManager(this.callbackManager,this);this.computeAttributes();this.editorMode=this.getAttr(\&quot;editor\&quot;);this.clickToUse=utils.isTrue(this.getAttr(\&quot;click-to-use\&quot;),false);this.id=this.getAttr(\&quot;object-id\&quot;)||this.getStateQualifier();this.widgetTempStatePath=$tm.path.tempStates+\&quot;/\&quot;+this.id;this.widgetPopupsPath=$tm.path.tempPopups+\&quot;/\&quot;+this.id;if(this.editorMode){utils.addTWlisteners({\&quot;tmap:tm-create-view\&quot;:this.handleCreateView,\&quot;tmap:tm-rename-view\&quot;:this.handleRenameView,\&quot;tmap:tm-delete-view\&quot;:this.handleDeleteView,\&quot;tmap:tm-edit-view\&quot;:this.handleEditView,\&quot;tmap:tm-store-position\&quot;:this.handleStorePositions,\&quot;tmap:tm-generate-widget\&quot;:this.handleGenerateWidget,\&quot;tmap:tm-save-canvas\&quot;:this.handleSaveCanvas},this,this)}utils.addTWlisteners({\&quot;tmap:tm-focus-node\&quot;:this.handleFocusNode,\&quot;tmap:tm-reset-focus\&quot;:this.repaintGraph},this,this);this.visListeners={click:this.handleVisSingleClickEvent,doubleClick:this.handleVisDoubleClickEvent,stabilized:this.handleVisStabilizedEvent,selectNode:this.handleVisSelectNode,deselectNode:this.handleVisDeselectNode,dragStart:this.handleVisDragStart,dragEnd:this.handleVisDragEnd,hoverNode:this.handleVisHoverElement,hoverEdge:this.handleVisHoverElement,blurNode:this.handleVisBlurElement,blurEdge:this.handleVisBlurElement,oncontext:this.handleVisOnContext,beforeDrawing:this.handleVisBeforeDrawing,stabilizationProgress:this.handleVisLoading,stabilizationIterationsDone:this.handleVisLoadingDone};this.windowDomListeners={resize:[this.handleResizeEvent,false],click:[this.handleClickEvent,false]};this.canvasDomListeners={keyup:[this.handleCanvasKeyup,true],keydown:[this.handleCanvasKeydown,true],mousewheel:[this.handleCanvasScroll,true]};this.widgetDomListeners={keyup:[this.handleWidgetKeyup,true],keydown:[this.handleWidgetKeydown,true]}}MapWidget.prototype=Object.create(Widget.prototype);MapWidget.prototype.handleConnectionEvent=function(e,t){var i=this.view.getEdgeTypeFilter();var s={fromLabel:$tm.adapter.selectNodeById(e.from).label,toLabel:$tm.adapter.selectNodeById(e.to).label,viewNS:this.view.getConfig(\&quot;edge_type_namespace\&quot;),eTyFilter:i.raw};var a=\&quot;getEdgeType\&quot;;this.dialogManager.open(a,s,function(s,a){if(s){var r=utils.getText(a);var o={namespace:this.view.getConfig(\&quot;edge_type_namespace\&quot;)};var r=new EdgeType(r,null,o);if(!r.exists())r.save();e.type=r.id;$tm.adapter.insertEdge(e);if(!this.view.isEdgeTypeVisible(r.id)){var n={type:r.id,view:this.view.getLabel(),eTyFilter:i.pretty};this.dialogManager.open(\&quot;edgeNotVisible\&quot;,n)}this.preventFitAfterRebuild=true}if(typeof t===\&quot;function\&quot;){t(s)}})};MapWidget.prototype.checkForFreshInstall=function(){var e=$tm.ref.sysMeta;if(!utils.getEntry(e,\&quot;showWelcomeMessage\&quot;,true))return;utils.setEntry(e,\&quot;showWelcomeMessage\&quot;,false);var t={};var i=\&quot;welcome\&quot;;this.dialogManager.open(i,t,function(e,t){if(utils.tiddlerExists(\&quot;$:/plugins/felixhayashi/topstoryview\&quot;)){utils.setText(\&quot;$:/view\&quot;,\&quot;top\&quot;);utils.setText(\&quot;$:/config/Navigation/openLinkFromInsideRiver\&quot;,\&quot;above\&quot;);utils.setText(\&quot;$:/config/Navigation/openLinkFromOutsideRiver\&quot;,\&quot;top\&quot;);utils.touch(\&quot;$:/plugins/felixhayashi/topstoryview\&quot;)}var i=$tm.misc.defaultViewLabel;var s={label:\&quot;Have fun with\&quot;,x:0,y:0};var a=$tm.adapter.insertNode(s,i);var s={label:\&quot;TiddlyMap!!\&quot;,x:100,y:100};var r=$tm.adapter.insertNode(s,i);$tm.adapter.insertEdge({from:a.id,to:r.id})})};MapWidget.prototype.openStandardConfirmDialog=function(e,t){var i={message:t};this.dialogManager.open(\&quot;getConfirmation\&quot;,i,e)};MapWidget.prototype.logger=function(e,t){if(this.isDebug){var i=Array.prototype.slice.call(arguments,1);i.unshift(\&quot;@\&quot;+this.id);i.unshift(e);$tm.logger.apply(this,i)}};MapWidget.prototype.render=function(e,t){this.parentDomNode=e;this.domNode=this.document.createElement(\&quot;div\&quot;);e.insertBefore(this.domNode,t);this.registerClassNames(this.domNode);this.viewHolderRef=this.getViewHolderRef();this.view=this.getView();this.graphBarDomNode=this.document.createElement(\&quot;div\&quot;);$tw.utils.addClass(this.graphBarDomNode,\&quot;tmap-topbar\&quot;);this.domNode.appendChild(this.graphBarDomNode);this.graphDomNode=this.document.createElement(\&quot;div\&quot;);this.domNode.appendChild(this.graphDomNode);$tw.utils.addClass(this.graphDomNode,\&quot;tmap-vis-graph\&quot;);if(utils.isPreviewed(this)||this.domNode.isTiddlyWikiFakeDom){$tw.utils.addClass(this.domNode,\&quot;tmap-static-mode\&quot;);this.renderPreview(this.graphBarDomNode,this.graphDomNode)}else{this.renderFullWidget(this.domNode,this.graphBarDomNode,this.graphDomNode)}};MapWidget.prototype.renderPreview=function(e,t){var i=this.view.getRoot()+\&quot;/snapshot\&quot;;var s=utils.getTiddler(i);var a=this.document.createElement(\&quot;span\&quot;);a.innerHTML=this.view.getLabel();a.className=\&quot;tmap-view-label\&quot;;e.appendChild(a);if(s){var r=this.makeChildWidget({type:\&quot;transclude\&quot;,attributes:{tiddler:{type:\&quot;string\&quot;,value:i}}});r.renderChildren(t,null)}else{$tw.utils.addClass(t,\&quot;tmap-graph-placeholder\&quot;)}};MapWidget.prototype.renderFullWidget=function(e,t,i){utils.setDomListeners(\&quot;add\&quot;,window,this.windowDomListeners);utils.setDomListeners(\&quot;add\&quot;,e,this.widgetDomListeners);this.addLoadingBar(this.domNode);var s={showDelay:$tm.config.sys.popups.delay};this.visTooltip=new Popup(this.domNode,s);this.sidebar=utils.getFirstElementByClassName(\&quot;tc-sidebar-scrollable\&quot;);this.isInSidebar=this.sidebar&amp;&amp;!this.domNode.isTiddlyWikiFakeDom&amp;&amp;this.sidebar.contains(this.domNode);this.doFitAfterStabilize=true;this.preventFitAfterRebuild=false;this.initAndRenderEditorBar(t);this.initAndRenderGraph(i);$tm.registry.push(this);this.reloadRefreshTriggers();this.checkForFreshInstall();if(this.id===$tm.misc.mainEditorId){var a=$tm.url;if(a&amp;&amp;a.query[\&quot;tmap-enlarged\&quot;]){this.toggleEnlargedMode(a.query[\&quot;tmap-enlarged\&quot;])}}};MapWidget.prototype.registerClassNames=function(e){var t=$tw.utils.addClass;t(e,\&quot;tmap-widget\&quot;);if(this.clickToUse){t(e,\&quot;tmap-click-to-use\&quot;)}if(this.getAttr(\&quot;editor\&quot;)===\&quot;advanced\&quot;){t(e,\&quot;tmap-advanced-editor\&quot;)}if(this.getAttr(\&quot;design\&quot;)===\&quot;plain\&quot;){t(e,\&quot;tmap-plain-design\&quot;)}if(!utils.isTrue(this.getAttr(\&quot;show-buttons\&quot;),true)){t(e,\&quot;tmap-no-buttons\&quot;)}if(this.getAttr(\&quot;class\&quot;)){t(e,this.getAttr(\&quot;class\&quot;))}};MapWidget.prototype.addLoadingBar=function(e){this.graphLoadingBarDomNode=this.document.createElement(\&quot;progress\&quot;);$tw.utils.addClass(this.graphLoadingBarDomNode,\&quot;tmap-loading-bar\&quot;);e.appendChild(this.graphLoadingBarDomNode)};MapWidget.prototype.initAndRenderEditorBar=function(e){this.rebuildEditorBar()};MapWidget.prototype.rebuildEditorBar=function(){var e=this.view;var t={widgetQualifier:this.getStateQualifier(),widgetTempPath:this.widgetTempPath,widgetPopupsPath:this.widgetPopupsPath,isViewBound:String(this.isViewBound()),viewRoot:e.getRoot(),viewLabel:e.getLabel(),viewHolder:this.getViewHolderRef(),edgeTypeFilter:e.getPaths().edgeTypeFilter,allEdgesFilter:$tm.selector.allEdgeTypes,neighScopeBtnClass:\&quot;tmap-neigh-scope-button\&quot;+(e.isEnabled(\&quot;neighbourhood_scope\&quot;)?\&quot; \&quot;+\&quot;tmap-active-button\&quot;:\&quot;\&quot;)};for(var i in t){this.setVariable(i,t[i])}var s={type:\&quot;tiddler\&quot;,attributes:{tiddler:{type:\&quot;string\&quot;,value:e.getRoot()}},children:[]};if(this.editorMode===\&quot;advanced\&quot;){s.children.push({type:\&quot;transclude\&quot;,attributes:{tiddler:{type:\&quot;string\&quot;,value:$tm.ref.graphBar}}})}else{s.children.push({type:\&quot;element\&quot;,tag:\&quot;span\&quot;,attributes:{\&quot;class\&quot;:{type:\&quot;string\&quot;,value:\&quot;tmap-view-label\&quot;}},children:[{type:\&quot;text\&quot;,text:e.getLabel()}]})}s.children.push({type:\&quot;transclude\&quot;,attributes:{tiddler:{type:\&quot;string\&quot;,value:$tm.ref.focusButton}}});this.makeChildWidgets([s]);this.renderChildren(this.graphBarDomNode,this.graphBarDomNode.firstChild)};MapWidget.prototype.refresh=function(e){return false};MapWidget.prototype.update=function(e){if(!this.network||this.isZombieWidget()||utils.isPreviewed(this)){return}var t=e.changedTiddlers;var i=false;var s=false;var a=false;var r={};this.callbackManager.handleChanges(t);if(this.isViewSwitched(t)||this.hasChangedAttributes()||e[$tm.path.options]||e[$tm.path.nodeTypes]||t[this.view.getRoot()]){this.logger(\&quot;warn\&quot;,\&quot;View switched (or main config change)\&quot;);this.view=this.getView(true);this.reloadRefreshTriggers();i=true;a=true}else{var o=this.view.update(e);if(o&amp;&amp;!this.ignoreNextViewModification){this.logger(\&quot;warn\&quot;,\&quot;View components modified\&quot;);this.reloadBackgroundImage();i=true;s=true;r.resetEdgeTypeWL=true;if(!this.preventFitAfterRebuild){r.resetFocus={delay:0,duration:0}}}else{if(e[$tm.path.nodeTypes]){s=true}else if(this.hasChangedElements(t)){s=true}}}if(a){this.initAndRenderGraph(this.graphDomNode);this.visTooltip.hide(0,true)}else if(s){this.rebuildGraph(r);this.visTooltip.hide(0,true)}if(i){this.removeChildDomNodes();this.rebuildEditorBar()}else{this.refreshChildren(t)}this.ignoreNextViewModification=false};MapWidget.prototype.reloadRefreshTriggers=function(){this.callbackManager.remove(this.refreshTriggers);var e=this.getAttr(\&quot;refresh-triggers\&quot;)||this.view.getConfig(\&quot;refresh-triggers\&quot;);this.refreshTriggers=$tw.utils.parseStringArray(e)||[];this.logger(\&quot;debug\&quot;,\&quot;Registering refresh trigger\&quot;,this.refreshTriggers);for(var t=this.refreshTriggers.length;t--;){this.callbackManager.add(this.refreshTriggers[t],this.handleTriggeredRefresh,false)}};MapWidget.prototype.rebuildGraph=function(e){if(utils.isPreviewed(this))return;this.logger(\&quot;debug\&quot;,\&quot;Rebuilding graph\&quot;);e=e||{};this.hasNetworkStabilized=false;if(e.resetData){this.graphData.edges.clear();this.graphData.nodes.clear();this.graphData.edgesById=null;this.graphData.nodesById=null}if(!this.view.isEnabled(\&quot;physics_mode\&quot;)){var t=this.visOptions.physics;t[t.solver].centralGravity=.015}if(!e.resetFocus){this.doFitAfterStabilize=false}this.rebuildGraphData();if(!utils.hasElements(this.graphData.nodesById)){return}this.network.stabilize();if(e.resetFocus&amp;&amp;!this.preventFitAfterRebuild){this.doFitAfterStabilize=true;this.fitGraph(e.resetFocus.delay,e.resetFocus.duration)}this.preventFitAfterRebuild=false};MapWidget.prototype.getContainer=function(){return this.domNode};MapWidget.prototype.rebuildGraphData=function(e){$tm.start(\&quot;Reloading Network\&quot;);e=e||{};var t=$tm.adapter.getGraph({view:this.view});var i=t.nodes;var s=t.edges;this.graphData.nodes=this.getRefreshedDataSet(i,this.graphData.nodesById,this.graphData.nodes);this.graphData.edges=this.getRefreshedDataSet(s,this.graphData.edgesById,this.graphData.edges);this.graphData.nodesById=i;this.graphData.edgesById=s;utils.setField(\&quot;$:/temp/tmap/nodes/\&quot;+this.view.getLabel(),\&quot;list\&quot;,$tm.adapter.getTiddlersById(i));$tm.stop(\&quot;Reloading Network\&quot;);return this.graphData};MapWidget.prototype.isViewBound=function(){return utils.startsWith(this.getViewHolderRef(),$tm.path.localHolders)};MapWidget.prototype.isViewSwitched=function(e){return e[this.getViewHolderRef()]};MapWidget.prototype.hasChangedAttributes=function(){return Object.keys(this.computeAttributes()).length};MapWidget.prototype.hasChangedElements=function(e){var t=[];var i=this.graphData.nodesById;var s=this.view.isEnabled(\&quot;neighbourhood_scope\&quot;);var a=this.view.getEdgeTypeFilter(\&quot;whitelist\&quot;);for(var r in e){if(utils.isSystemOrDraft(r))continue;if(i[$tm.adapter.getId(r)]||s){return true}if(e[r].modified){t.push(r)}}if(t.length){var o=this.view.getNodeFilter(\&quot;compiled\&quot;);var n=utils.getMatches(o,t);return!!n.length}};MapWidget.prototype.initAndRenderGraph=function(e){if(this.network)this._destructVis();this.logger(\&quot;info\&quot;,\&quot;Initializing and rendering the graph\&quot;);if(!this.isInSidebar){this.callbackManager.add(\&quot;$:/state/sidebar\&quot;,this.handleResizeEvent)}this.visOptions=this.getVisOptions();this.graphData={nodes:new vis.DataSet,edges:new vis.DataSet,nodesById:utils.makeHashMap(),edgesById:utils.makeHashMap()};this.visTooltip.setEnabled(utils.isTrue($tm.config.sys.popups.enabled,true));this.network=new vis.Network(e,this.graphData,this.visOptions);this.canvas=e.getElementsByTagName(\&quot;canvas\&quot;)[0];this.canvas.tabIndex=0;for(var t in this.visListeners){this.network.on(t,this.visListeners[t].bind(this))}this.addGraphButtons({\&quot;fullscreen-button\&quot;:function(){this.toggleEnlargedMode(\&quot;fullscreen\&quot;)},\&quot;halfscreen-button\&quot;:function(){this.toggleEnlargedMode(\&quot;halfscreen\&quot;)}});utils.setDomListeners(\&quot;add\&quot;,this.canvas,this.canvasDomListeners);this.reloadBackgroundImage();this.rebuildGraph({resetFocus:{delay:0,duration:0}});this.handleResizeEvent();this.canvas.focus()};MapWidget.prototype.handleCanvasKeyup=function(){var e={from:null,to:null};return function(t){var i=this.network.getSelectedNodes();if(t.ctrlKey){t.preventDefault();if(t.keyCode===88){if(this.editorMode){this.handleAddNodesToClipboard(\&quot;move\&quot;)}else{$tm.notify(\&quot;Map is read only!\&quot;)}}else if(t.keyCode===67){this.handleAddNodesToClipboard(\&quot;copy\&quot;)}else if(t.keyCode===86){this.handlePasteNodesFromClipboard()}else if(t.keyCode===65){var s=Object.keys(this.graphData.nodesById);this.network.selectNodes(s)}else if(t.keyCode===49||t.keyCode===50){if(i.length!==1)return;var a=t.keyCode===49?\&quot;from\&quot;:\&quot;to\&quot;;$tm.notify(utils.ucFirst(a)+\&quot;-part selected\&quot;);e[a]=i[0];if(e.from&amp;&amp;e.to){this.handleConnectionEvent(e,function(){e={from:null,to:null}})}}}else if(t.keyCode===13){if(i.length!==1)return;this.openTiddlerWithId(i[0])}}}();MapWidget.prototype.handleCanvasKeydown=function(e){if(e.keyCode===46){e.preventDefault();this.handleRemoveElements(this.network.getSelection())}};MapWidget.prototype.handleCanvasScroll=function(e){var t=!!(e.ctrlKey||this.isInSidebar||this.enlargedMode);if(t){e.preventDefault()}if(t!==this.visOptions.interaction.zoomView){e.preventDefault();e.stopPropagation();this.visOptions.interaction.zoomView=t;this.network.setOptions({interaction:{zoomView:t}});return false}};MapWidget.prototype.handleWidgetKeyup=function(e){};MapWidget.prototype.handleWidgetKeydown=function(e){if(e.ctrlKey){e.preventDefault();if(e.keyCode===70){e.preventDefault();var t=this.widgetPopupsPath+\&quot;/focus\&quot;;utils.setText(t,utils.getText(t)?\&quot;\&quot;:\&quot;1\&quot;)}else{return}}else if(e.keyCode===120){e.preventDefault();this.toggleEnlargedMode(\&quot;halfscreen\&quot;)}else if(e.keyCode===121){e.preventDefault();this.toggleEnlargedMode(\&quot;fullscreen\&quot;)}else if(e.keyCode===27){e.preventDefault();utils.deleteByPrefix(this.widgetPopupsPath)}else{return}this.canvas.focus()};MapWidget.prototype.handlePasteNodesFromClipboard=function(){if(!this.editorMode||this.view.isLiveView()){$tm.notify(\&quot;Map is read only!\&quot;);return}if($tm.clipBoard){if($tm.clipBoard.type===\&quot;nodes\&quot;){var e=$tm.clipBoard.nodes;var t=Object.keys(e);if(t.length){for(var i in e){if(this.graphData.nodesById[i])continue;this.view.addNode(e[i]);this.graphData.nodes.update({id:i})}this.network.selectNodes(t);$tm.notify(\&quot;pasted \&quot;+t.length+\&quot; nodes into map.\&quot;)}return}}$tm.notify(\&quot;TiddlyMap clipboad is empty!\&quot;)};MapWidget.prototype.handleAddNodesToClipboard=function(e){var t=this.network.getSelectedNodes();if(!t.length)return;$tm.clipBoard={type:\&quot;nodes\&quot;,nodes:this.graphData.nodes.get(t,{returnType:\&quot;Object\&quot;})};$tm.notify(\&quot;Copied \&quot;+t.length+\&quot; nodes to clipboard\&quot;);if(e===\&quot;move\&quot;){for(var i=t.length;i--;){this.view.removeNode(t[i])}}};MapWidget.prototype.isMobileMode=function(){var e=utils.getText($tm.ref.sidebarBreakpoint,960);return window.innerWidth&lt;=parseInt(e)};MapWidget.prototype.getVisOptions=function(){var e=$tm.config.vis;var t=utils.parseJSON(this.view.getConfig(\&quot;vis\&quot;));var i=utils.merge({},e,t);i.clickToUse=this.clickToUse;i.manipulation.enabled=!!this.editorMode;i.manipulation.deleteNode=function(e,t){this.handleRemoveElements(e);this.resetVisManipulationBar(t)}.bind(this);i.manipulation.deleteEdge=function(e,t){this.handleRemoveElements(e);this.resetVisManipulationBar(t)}.bind(this);i.manipulation.addEdge=function(e,t){this.handleConnectionEvent(e);this.resetVisManipulationBar(t)}.bind(this);i.manipulation.addNode=function(e,t){this.handleInsertNode(e);this.resetVisManipulationBar(t)}.bind(this);i.manipulation.editNode=function(e,t){this.handleEditNode(e);this.resetVisManipulationBar(t)}.bind(this);i.interaction.zoomView=!!(this.isInSidebar||this.enlargedMode);i.manipulation.editEdge=false;var s=i.physics;s[s.solver]=s[s.solver]||{};s.stabilization.iterations=1e3;this.logger(\&quot;debug\&quot;,\&quot;Loaded graph options\&quot;,i);return i};MapWidget.prototype.resetVisManipulationBar=function(e){if(e)e(null);this.network.disableEditMode();this.network.enableEditMode()};MapWidget.prototype.isVisInEditMode=function(){var e=\&quot;vis-button vis-back\&quot;;return this.graphDomNode.getElementsByClassName(e).length&gt;0};MapWidget.prototype.handleCreateView=function(){var e={view:this.view.getLabel()};var t=\&quot;createView\&quot;;this.dialogManager.open(t,e,function(e,t){if(!e)return;var i=utils.getField(t,\&quot;name\&quot;);var s=utils.getField(t,\&quot;clone\&quot;,false);var a=new ViewAbstraction(i);if(a.exists()){$tm.notify(\&quot;Forbidden! View already exists!\&quot;);return}if(s&amp;&amp;this.view.isLiveView()){$tm.notify(\&quot;Forbidden to clone the live view!\&quot;);return}a=new ViewAbstraction(i,{isCreate:true,protoView:s?this.view:null});this.setView(a)})};MapWidget.prototype.handleRenameView=function(){if(this.view.isLocked()){$tm.notify(\&quot;Forbidden!\&quot;);return}var e=this.view.getOccurrences();var t={count:e.length.toString(),filter:utils.joinAndWrap(e,\&quot;[[\&quot;,\&quot;]]\&quot;)};var i=\&quot;renameView\&quot;;this.dialogManager.open(i,t,function(e,t){if(e){var i=utils.getText(t);var s=new ViewAbstraction(i);if(!i){$tm.notify(\&quot;Invalid name!\&quot;)}else if(s.exists()){$tm.notify(\&quot;Forbidden! View already exists!\&quot;)}else{this.view.rename(i);this.setView(this.view)}}})};MapWidget.prototype.handleEditView=function(){var e=JSON.stringify($tm.config.vis);var t=this.graphData;var i=this.view.getConfig();var s={\&quot;filter.prettyNodeFltr\&quot;:this.view.getNodeFilter(\&quot;pretty\&quot;),\&quot;filter.prettyEdgeFltr\&quot;:this.view.getEdgeTypeFilter(\&quot;pretty\&quot;),\&quot;vis-inherited\&quot;:e};var a={view:this.view.getLabel(),createdOn:this.view.getCreationDate(true),numberOfNodes:Object.keys(t.nodesById).length.toString(),numberOfEdges:Object.keys(t.edgesById).length.toString(),dialog:{preselects:$tw.utils.extend({},i,s)}};var r=\&quot;configureView\&quot;;this.dialogManager.open(r,a,function(e,t){if(!e)return;var i=utils.getPropertiesByPrefix(t.fields,\&quot;config.\&quot;,true);var s=this.view.getConfig(\&quot;background_image\&quot;);this.view.setConfig(i);if(i[\&quot;physics_mode\&quot;]&amp;&amp;!this.view.isEnabled(\&quot;physics_mode\&quot;)){this.handleStorePositions()}var a=this.view.getConfig(\&quot;background_image\&quot;);if(a&amp;&amp;a!==s){$tm.notify(\&quot;Background changed! You may need to zoom out a bit.\&quot;)}var r=utils.getField(t,\&quot;filter.prettyNodeFltr\&quot;,\&quot;\&quot;);var o=utils.getField(t,\&quot;filter.prettyEdgeFltr\&quot;,\&quot;\&quot;);this.view.setNodeFilter(r);this.view.setEdgeTypeFilter(o)})};MapWidget.prototype.handleSaveCanvas=function(){var e=\&quot;$:/temp/tmap/snapshot\&quot;;var t=this.createAndSaveSnapshot(e);var i=utils.getSnapshotTitle(this.view.getLabel(),\&quot;png\&quot;);var s={dialog:{snapshot:e,width:this.canvas.width.toString(),height:this.canvas.height.toString(),preselects:{name:i,action:\&quot;download\&quot;}}};var a=\&quot;saveCanvas\&quot;;this.dialogManager.open(a,s,function(t,s){if(!t)return;i=s.fields.name||i;var a=s.fields.action;if(a===\&quot;download\&quot;){this.handleDownloadSnapshot(i)}else if(a===\&quot;wiki\&quot;){utils.cp(e,i,true);this.dispatchEvent({type:\&quot;tm-navigate\&quot;,navigateTo:i})}else if(a===\&quot;placeholder\&quot;){this.view.addPlaceholder(e)}$tw.wiki.deleteTiddler(\&quot;$:/temp/tmap/snapshot\&quot;)})};MapWidget.prototype.handleDownloadSnapshot=function(e){var t=this.document.createElement(\&quot;a\&quot;);var i=this.view.getLabel();t.download=e||utils.getSnapshotTitle(i,\&quot;png\&quot;);t.href=this.getSnapshot();var s=new MouseEvent(\&quot;click\&quot;);t.dispatchEvent(s)};MapWidget.prototype.createAndSaveSnapshot=function(e){var t=this.view.getLabel();var i=e||this.view.getRoot()+\&quot;/snapshot\&quot;;$tw.wiki.addTiddler(new $tw.Tiddler({title:i,type:\&quot;image/png\&quot;,text:this.getSnapshot(true),modified:new Date}));return i};MapWidget.prototype.getSnapshot=function(e){var t=this.canvas.toDataURL(\&quot;image/png\&quot;);return e?utils.getWithoutPrefix(t,\&quot;data:image/png;base64,\&quot;):t};MapWidget.prototype.handleDeleteView=function(){var e=this.view.getLabel();if(this.view.isLocked()){$tm.notify(\&quot;Forbidden!\&quot;);return}var t=this.view.getOccurrences();if(t.length){var i={count:t.length.toString(),filter:utils.joinAndWrap(t,\&quot;[[\&quot;,\&quot;]]\&quot;)};this.dialogManager.open(\&quot;cannotDeleteViewDialog\&quot;,i);return}var s=\&quot;You are about to delete the view \&quot;+\&quot;''\&quot;+e+\&quot;'' (no tiddler currently references this view).\&quot;;this.openStandardConfirmDialog(function(t){if(t){this.view.destroy();this.setView($tm.misc.defaultViewLabel);this.logger(\&quot;debug\&quot;,'view \&quot;'+e+'\&quot; deleted ');$tm.notify('view \&quot;'+e+'\&quot; deleted ')}},s)};MapWidget.prototype.handleTriggeredRefresh=function(e){this.logger(\&quot;log\&quot;,e,\&quot;Triggered a refresh\&quot;);if(this.id===\&quot;live_tab\&quot;){var t=utils.getTiddler(utils.getText(e));if(t){var i=t.fields[\&quot;tmap.open-view\&quot;]||$tm.config.sys.liveTab.fallbackView;if(i&amp;&amp;i!==this.view.getLabel()){this.setView(i);return}}}this.rebuildGraph({resetFocus:{delay:1e3,duration:1e3}})};MapWidget.prototype.handleRemoveElements=function(e){if(e.nodes.length){this.handleRemoveNodes(e.nodes)}else if(e.edges.length){this.handleRemoveEdges(e.edges)}this.resetVisManipulationBar()};MapWidget.prototype.handleRemoveEdges=function(e){$tm.adapter.deleteEdges(this.graphData.edges.get(e));$tm.notify(\&quot;edge\&quot;+(e.length&gt;1?\&quot;s\&quot;:\&quot;\&quot;)+\&quot; removed\&quot;);this.preventFitAfterRebuild=true};MapWidget.prototype.handleRemoveNodes=function(e){var t=$tm.adapter.getTiddlersById(e);var i={count:e.length.toString(),tiddlers:$tw.utils.stringifyList(t),dialog:{preselects:{\&quot;delete-from\&quot;:\&quot;filter\&quot;}}};var s=\&quot;deleteNodeDialog\&quot;;this.dialogManager.open(s,i,function(t,i){if(!t)return;if(i.fields[\&quot;delete-from\&quot;]===\&quot;system\&quot;){$tm.adapter.deleteNodes(e);var s=e.length}else{var s=0;for(var a=e.length;a--;){var r=this.view.removeNode(e[a]);if(r)s++}}this.preventFitAfterRebuild=true;$tm.notify(\&quot;Removed \&quot;+s+\&quot; of \&quot;+e.length+\&quot; from \&quot;+i.fields[\&quot;delete-from\&quot;])})};MapWidget.prototype.toggleEnlargedMode=function(e){if(!this.isInSidebar&amp;&amp;e===\&quot;halfscreen\&quot;)return;this.logger(\&quot;log\&quot;,\&quot;Toggled graph enlargement\&quot;);var t=this.enlargedMode;if(t){this.network.setOptions({clickToUse:this.clickToUse});utils.findAndRemoveClassNames([\&quot;tmap-has-\&quot;+t+\&quot;-widget\&quot;,\&quot;tmap-\&quot;+t]);this.enlargedMode=null;document.body.scrollTop=this.scrollTop}if(!t||t!==e&amp;&amp;(e===\&quot;fullscreen\&quot;||e===\&quot;halfscreen\&quot;&amp;&amp;!this.isInSidebar)){var i=document.documentElement;this.scrollTop=document.body.scrollTop;this.enlargedMode=e;var s=this.isInSidebar?this.sidebar:utils.getFirstElementByClassName(\&quot;tc-story-river\&quot;);$tw.utils.addClass(this.document.body,\&quot;tmap-has-\&quot;+e+\&quot;-widget\&quot;);$tw.utils.addClass(s,\&quot;tmap-has-\&quot;+e+\&quot;-widget\&quot;);$tw.utils.addClass(this.domNode,\&quot;tmap-\&quot;+e);this.network.setOptions({clickToUse:false});$tm.notify(\&quot;Toggled \&quot;+e+\&quot; mode\&quot;)}this.handleResizeEvent()};MapWidget.prototype.handleGenerateWidget=function(e){$tw.rootWidget.dispatchEvent({type:\&quot;tmap:tm-generate-widget\&quot;,paramObject:{view:this.view.getLabel()}})};MapWidget.prototype.handleStorePositions=function(e){var t=this.view.getNodeData();var i=this.network.getPositions();for(var s in i){t[s]=t[s]||{};t[s].x=i[s].x;t[s].y=i[s].y}this.view.saveNodeData(t);this.ignoreNextViewModification=true;if(e){$tm.notify(\&quot;positions stored\&quot;)}};MapWidget.prototype.handleVisStabilizedEvent=function(e){if(this.hasNetworkStabilized)return;this.hasNetworkStabilized=true;this.logger(\&quot;log\&quot;,\&quot;Network stabilized after\&quot;,e.iterations,\&quot;iterations\&quot;);if(!this.view.isEnabled(\&quot;physics_mode\&quot;)){var t=this.graphData.nodesById;var i=[];for(var s in t){if(!t[s].x){i.push(s)}}if(i.length){this.setNodesMoveable(i,false);$tm.notify(i.length+\&quot; nodes were added to the graph\&quot;);this.doFitAfterStabilize=true}var a=this.visOptions.physics;a[a.solver].centralGravity=0;this.network.setOptions(this.visOptions)}if(this.doFitAfterStabilize){this.doFitAfterStabilize=false;this.fitGraph(1e3,1e3)}};MapWidget.prototype.handleFocusNode=function(e){this.network.focus($tm.adapter.getId(e.param),{scale:1.5,animation:true})};MapWidget.prototype.isZombieWidget=function(){if(this.domNode.isTiddlyWikiFakeDom===true){return true}else{return!this.document.body.contains(this.getContainer())}};MapWidget.prototype.fitGraph=function(e,t){window.clearTimeout(this.activeFitTimeout);t=t||0;e=e||0;var i=function(){if(this.isZombieWidget())return;this.network.redraw();this.network.fit({animation:{duration:t,easingFunction:\&quot;easeOutQuart\&quot;}})};this.activeFitTimeout=window.setTimeout(i.bind(this),e)};MapWidget.prototype.handleInsertNode=function(e){var t=\&quot;addNodeToMap\&quot;;this.dialogManager.open(t,null,function(t,i){if(!t)return;var s=utils.getField(i,\&quot;draft.title\&quot;);if(utils.tiddlerExists(s)){if(utils.isMatch(s,this.view.getNodeFilter(\&quot;compiled\&quot;))){$tm.notify(\&quot;Node already exists\&quot;);return}else{e=$tm.adapter.makeNode(s,e);this.view.addNode(e)}}else{var a=new $tw.Tiddler(i,{\&quot;draft.title\&quot;:null});e.label=s;$tm.adapter.insertNode(e,this.view,a)}this.preventFitAfterRebuild=true})};MapWidget.prototype.handleEditNode=function(e){var t=$tm.indeces.tById[e.id];var i=utils.getTiddler(t);var s=JSON.stringify($tm.config.vis);var a=this.view.getConfig(\&quot;vis\&quot;);var r={};r[e.id]=e;var o=$tm.adapter.getInheritedNodeStyles(r);var n=JSON.stringify(o[t]);var d=JSON.stringify(utils.merge({},{color:i.fields[\&quot;color\&quot;]},utils.parseJSON(i.fields[\&quot;tmap.style\&quot;])));var l=this.view.getLabel();var h={id:e.id};var g=this.view.getNodeData(e.id,true)||{};delete g.x;delete g.y;var p={view:l,tiddler:i.fields.title,tidColor:i.fields[\&quot;color\&quot;],tidIcon:i.fields[$tm.field.nodeIcon]||i.fields[\&quot;tmap.fa-icon\&quot;],tidLabelField:\&quot;global.\&quot;+$tm.field.nodeLabel,tidIconField:\&quot;global.\&quot;+$tm.field.nodeIcon,dialog:{preselects:{\&quot;inherited-global-default-style\&quot;:s,\&quot;inherited-local-default-style\&quot;:a,\&quot;inherited-group-styles\&quot;:n,\&quot;global.tmap.style\&quot;:d,\&quot;local-node-style\&quot;:JSON.stringify(g)}}};var u=function(e,t,i){for(var s=i.length;s--;){p.dialog.preselects[e+\&quot;.\&quot;+i[s]]=t[i[s]]||\&quot;\&quot;}};u(\&quot;local\&quot;,g,[\&quot;label\&quot;,\&quot;tw-icon\&quot;,\&quot;fa-icon\&quot;,\&quot;open-view\&quot;]);u(\&quot;global\&quot;,i.fields,[$tm.field.nodeLabel,$tm.field.nodeIcon,\&quot;tmap.fa-icon\&quot;,\&quot;tmap.open-view\&quot;]);this.dialogManager.open(\&quot;editNode\&quot;,p,function(i,s){if(!i)return;var a=s.fields;var r=utils.getPropertiesByPrefix(a,\&quot;global.\&quot;,true);for(var o in r){utils.setField(t,o,r[o]||undefined)}var n=utils.getPropertiesByPrefix(a,\&quot;local.\&quot;,true);var d=utils.parseJSON(a[\&quot;local-node-style\&quot;],{});for(var o in n){d[o]=n[o]||undefined}this.view.saveNodeStyle(e.id,d);this.preventFitAfterRebuild=true})};MapWidget.prototype.handleVisSingleClickEvent=function(e){var t=utils.isTrue($tm.config.sys.singleClickMode);if(t&amp;&amp;!this.editorMode){this.handleOpenMapElementEvent(e)}};MapWidget.prototype.handleVisDoubleClickEvent=function(e){if(e.nodes.length||e.edges.length){if(this.editorMode||!utils.isTrue($tm.config.sys.singleClickMode)){this.handleOpenMapElementEvent(e)}}else{if(this.editorMode){this.handleInsertNode(e.pointer.canvas)}}};MapWidget.prototype.handleOpenMapElementEvent=function(e){if(e.nodes.length){var t=this.graphData.nodesById[e.nodes[0]];if(t[\&quot;open-view\&quot;]){$tm.notify(\&quot;Switching view\&quot;);this.setView(t[\&quot;open-view\&quot;])}else{this.openTiddlerWithId(e.nodes[0])}}else if(e.edges.length){this.logger(\&quot;debug\&quot;,\&quot;Clicked on an Edge\&quot;);var i=this.graphData.edgesById[e.edges[0]].type;this.handleEditEdgeType(i)}else{return}this.visTooltip.hide(0,true)};MapWidget.prototype.handleEditEdgeType=function(e){if(!this.editorMode)return;var t=$tm.config.sys.edgeClickBehaviour;if(t!==\&quot;manager\&quot;)return;$tw.rootWidget.dispatchEvent({type:\&quot;tmap:tm-manage-edge-types\&quot;,paramObject:{type:e}})};MapWidget.prototype.handleResizeEvent=function(e){if(this.isZombieWidget())return;var t=this.getAttr(\&quot;height\&quot;);var i=this.getAttr(\&quot;width\&quot;);if(this.isInSidebar){var s=this.domNode.getBoundingClientRect();var a=15;i=document.body.clientWidth-s.left-a+\&quot;px\&quot;;var r=parseInt(this.getAttr(\&quot;bottom-spacing\&quot;))||15;var o=window.innerHeight-s.top;t=o-r+\&quot;px\&quot;}this.domNode.style.height=t||\&quot;300px\&quot;;this.domNode.style.width=i;this.repaintGraph()};MapWidget.prototype.handleClickEvent=function(e){if(this.isZombieWidget()||!this.network)return;if(!this.graphDomNode.contains(e.target)){var t=this.network.getSelection();if(t.nodes.length||t.edges.length){this.logger(\&quot;debug\&quot;,\&quot;Clicked outside; deselecting nodes/edges\&quot;);this.network.selectNodes([]);this.resetVisManipulationBar()}}else{this.canvas.focus()}};MapWidget.prototype.handleVisOnContext=function(e){};MapWidget.prototype.handleVisSelectNode=function(e){this.assignActiveStyle(e.nodes)};MapWidget.prototype.assignActiveStyle=function(e){if(!Array.isArray(e))e=[e];var t=this.visOptions.nodes.color;for(var i=e.length;i--;){var s=e[i];var a=this.graphData.nodesById[s];var r=utils.merge({},t,a.color);this.graphData.nodes.update({id:s,color:{highlight:r,hover:r}})}};MapWidget.prototype.handleVisDeselectNode=function(e){};MapWidget.prototype.handleVisDragEnd=function(e){if(!e.nodes.length)return;this.setNodesMoveable(e.nodes,false)};MapWidget.prototype.handleVisBeforeDrawing=function(e){if(this.backgroundImage){e.drawImage(this.backgroundImage,0,0)}};MapWidget.prototype.constructTooltip=function(e,t){var i=utils.parseJSON(e);var s=i.node||i.edge;var a=null;var r=\&quot;text/html\&quot;;var o=\&quot;text/vnd-tiddlywiki\&quot;;if(i.node){var n=$tm.indeces.tById[s];var d=utils.getTiddler(n);var l=d.fields[$tm.field.nodeInfo];if(l){t.innerHTML=$tw.wiki.renderText(r,o,l)}else if(d.fields.text){var h={type:\&quot;tiddler\&quot;,attributes:{tiddler:{type:\&quot;string\&quot;,value:n}},children:[{type:\&quot;transclude\&quot;,attributes:{},isBlock:true}]};utils.removeArrayElement(this.children,this.tmpTooltipWidget);this.tmpTooltipWidget=this.makeChildWidget(h);this.tmpTooltipWidget.setVariable(\&quot;tv-tiddler-preview\&quot;,\&quot;yes\&quot;);this.tmpTooltipWidget.render(t,null);this.children.push(this.tmpTooltipWidget);return}else{t.innerHTML=n}}else{var g=this.graphData.edgesById[s];var p=$tm.indeces.allETy[g.type];if(p.description){a=$tw.wiki.renderText(r,o,p.description)}t.innerHTML=a||p.label||p.id}};MapWidget.prototype.handleVisHoverElement=function(e){if($tm.mouse.buttons)return;var t=e.node||e.edge;var i=JSON.stringify(e);if(e.node){this.assignActiveStyle(t)}if(!this.isVisInEditMode()){var s=this.constructTooltip;var i=JSON.stringify(e);this.visTooltip.show(i,s)}};MapWidget.prototype.handleVisBlurElement=function(e){this.visTooltip.hide()};MapWidget.prototype.handleVisLoading=function(e){this.graphLoadingBarDomNode.style.display=\&quot;block\&quot;;this.graphLoadingBarDomNode.setAttribute(\&quot;max\&quot;,e.total);this.graphLoadingBarDomNode.setAttribute(\&quot;value\&quot;,e.iterations)};MapWidget.prototype.handleVisLoadingDone=function(e){this.graphLoadingBarDomNode.style.display=\&quot;none\&quot;};MapWidget.prototype.handleVisDragStart=function(e){if(e.nodes.length){this.visTooltip.hide(0,true);this.assignActiveStyle(e.nodes);this.setNodesMoveable(e.nodes,true)}};MapWidget.prototype.destruct=function(){utils.setDomListeners(\&quot;remove\&quot;,window,this.windowDomListeners);utils.setDomListeners(\&quot;remove\&quot;,this.domNode,this.widgetDomListeners);this._destructVis()};MapWidget.prototype._destructVis=function(){if(!this.network)return;utils.setDomListeners(\&quot;remove\&quot;,this.canvas,this.canvasDomListeners);this.network.destroy();this.network=null};MapWidget.prototype.openTiddlerWithId=function(e){var t=$tm.indeces.tById[e];this.logger(\&quot;debug\&quot;,\&quot;Opening tiddler\&quot;,t,\&quot;with id\&quot;,e);if(this.enlargedMode===\&quot;fullscreen\&quot;){var i=this.wiki.findDraft(t);var s=!!i;if(!s){var a=\&quot;tm-edit-tiddler\&quot;;this.dispatchEvent({type:a,tiddlerTitle:t});i=this.wiki.findDraft(t)}var r={\ndraftTRef:i,originalTRef:t};var o=\&quot;fullscreenTiddlerEditor\&quot;;this.dialogManager.open(o,r,function(e,a){if(e){var r=\&quot;tm-save-tiddler\&quot;;this.dispatchEvent({type:r,tiddlerTitle:i})}else if(!s){utils.deleteTiddlers([i])}var r=\&quot;tm-close-tiddler\&quot;;this.dispatchEvent({type:r,tiddlerTitle:t})})}else{var n=this.domNode.getBoundingClientRect();this.dispatchEvent({type:\&quot;tm-navigate\&quot;,navigateTo:t,navigateFromTitle:this.getVariable(\&quot;storyTiddler\&quot;),navigateFromNode:this,navigateFromClientRect:{top:n.top,left:n.left,width:n.width,right:n.right,bottom:n.bottom,height:n.height}})}};MapWidget.prototype.getViewHolderRef=function(){if(this.viewHolderRef){return this.viewHolderRef}this.logger(\&quot;info\&quot;,\&quot;Retrieving or generating the view holder reference\&quot;);var e=this.getAttr(\&quot;view\&quot;);if(e){this.logger(\&quot;log\&quot;,'User wants to bind view \&quot;'+e+'\&quot; to graph');var t=$tm.path.views+\&quot;/\&quot;+e;if(this.wiki.getTiddler(t)){var i=$tm.path.localHolders+\&quot;/\&quot;+utils.genUUID();this.logger(\&quot;log\&quot;,'Created an independent temporary view holder \&quot;'+i+'\&quot;');utils.setText(i,t);this.logger(\&quot;log\&quot;,'View \&quot;'+t+'\&quot; inserted into independend holder')}else{this.logger(\&quot;log\&quot;,'View \&quot;'+e+'\&quot; does not exist')}}if(typeof i===\&quot;undefined\&quot;){this.logger(\&quot;log\&quot;,\&quot;Using default (global) view holder\&quot;);var i=$tm.ref.defaultViewHolder}return i};MapWidget.prototype.setView=function(e,t){e=new ViewAbstraction(e);if(!e.exists())return;var i=e.getLabel();t=t||this.viewHolderRef;this.logger(\&quot;info\&quot;,\&quot;Inserting view '\&quot;+i+\&quot;' into holder '\&quot;+t+\&quot;'\&quot;);this.wiki.addTiddler(new $tw.Tiddler({title:t,text:i}))};MapWidget.prototype.getView=function(e){if(!e&amp;&amp;this.view){return this.view}var t=this.getViewHolderRef();var i=utils.getText(t);var s=new ViewAbstraction(i);this.logger(\&quot;debug\&quot;,\&quot;Retrieved view from holder\&quot;);if(!s.exists()){this.logger(\&quot;debug\&quot;,'Warning: View \&quot;'+i+\&quot;\\\&quot; doesn't exist. Default is used instead.\&quot;);s=new ViewAbstraction(\&quot;Default\&quot;)}return s};MapWidget.prototype.reloadBackgroundImage=function(e){this.backgroundImage=null;var t=this.view.getConfig(\&quot;background_image\&quot;);var i=utils.getTiddler(t);if(!i&amp;&amp;!t)return;var s=new Image;var a=function(e){s.src=e};s.onload=function(){this.backgroundImage=s;this.repaintGraph();if(e){$tm.notify(e)}}.bind(this);if(i){var r=i.fields[\&quot;_canonical_uri\&quot;];if(r){utils.getImgFromWeb(r,a)}else if(i.fields.text){var o=$tw.utils.makeDataUri(i.fields.text,i.fields.type);s.src=o}}else if(t){utils.getImgFromWeb(t,a)}};MapWidget.prototype.getRefreshedDataSet=function(e,t,i){if(!i){return new vis.DataSet(utils.getValues(e))}if(t)i.remove(Object.keys(t));i.update(utils.getValues(e));return i};MapWidget.prototype.repaintGraph=function(){var e=$tw.utils.hasClass(this.document.body,\&quot;tmap-has-fullscreen-widget\&quot;);if(this.network&amp;&amp;(!e||e&amp;&amp;this.enlargedMode)){this.logger(\&quot;info\&quot;,\&quot;Repainting the whole graph\&quot;);this.network.redraw();this.fitGraph(0,1e3)}};MapWidget.prototype.setGraphButtonEnabled=function(e,t){var i=\&quot;vis-button\&quot;+\&quot; \&quot;+\&quot;tmap-\&quot;+e;var s=utils.getFirstElementByClassName(i,this.domNode);$tw.utils.toggleClass(s,\&quot;tmap-button-enabled\&quot;,t)};MapWidget.prototype.dialogPostProcessor=function(){this.network.selectNodes([]);this.resetVisManipulationBar()};MapWidget.prototype.setNodesMoveable=function(e,t){if(!e||!e.length||this.view.isEnabled(\&quot;physics_mode\&quot;)){return}var i=[];var s=!t;for(var a=e.length;a--;){i.push({id:e[a],fixed:{x:s,y:s}})}this.graphData.nodes.update(i);if(s){this.logger(\&quot;debug\&quot;,\&quot;Fixing\&quot;,i.length,\&quot;nodes\&quot;);this.handleStorePositions()}};MapWidget.prototype.addGraphButtons=function(e){var t=utils.getFirstElementByClassName(\&quot;vis-navigation\&quot;,this.domNode);for(var i in e){var s=this.document.createElement(\&quot;div\&quot;);s.className=\&quot;vis-button \&quot;+\&quot; \&quot;+\&quot;tmap-\&quot;+i;s.addEventListener(\&quot;click\&quot;,e[i].bind(this),false);t.appendChild(s);this.setGraphButtonEnabled(i,true)}};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/widget/MapWidget&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/license&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/license&quot;,
            &quot;subtitle&quot;: &quot;License&quot;,
            &quot;caption&quot;: &quot;License&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n!! TiddlyMap\n\nCopyright (c) 2014, Felix Küppers\nAll rights reserved.\n\nTiddlyMap is licensed under the [[BSD 2-Clause License|http://opensource.org/licenses/BSD-2-Clause]]. For the exact license terms, please visit [[https://github.com/felixhayashi/TW5-TiddlyMap/blob/master/LICENSE]]. \n\n!! TiddlyWiki\n\nCreated by Jeremy Ruston, (jeremy [at] jermolene [dot] com)\n\nCopyright © Jeremy Ruston 2004-2007 Copyright © UnaMesa Association 2007-2014\n\nPublished under the following [licenses](https://github.com/Jermolene/TiddlyWiki5/tree/master/licenses):\n\n# BSD 3-clause \&quot;New\&quot; or \&quot;Revised\&quot; License (including any right to adopt any future version of a license if permitted)\n# Creative Commons Attribution 3.0 (including any right to adopt any future version of a license if permitted)\n\n!! Vis.js\n\nCopyright (c) 2014 [Almende B.V.](https://github.com/almende/vis)\n\nPublished under the following licenses:\n\n# Apache License Version 2.0, January 2004 http://www.apache.org/licenses/\n# MIT License (MIT)\n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/readme&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/readme&quot;,
            &quot;text&quot;: &quot;* Please refer to the project-readme hosted at [[https://github.com/felixhayashi/TW5-TiddlyMap]].\n* A demo with several examples and explanations can be found at [[http://tiddlymap.org]].&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/edgeTypes/tmap:unknown&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/edgeTypes/tmap:unknown&quot;,
            &quot;description&quot;: &quot;Automatically assigned to an edge that does not have a type assigned&quot;,
            &quot;style&quot;: &quot;{\&quot;color\&quot;:\&quot;gray\&quot;}&quot;,
            &quot;show-label&quot;: &quot;false&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/edgeTypes/tw-body:link&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/edgeTypes/tw-body:link&quot;,
            &quot;description&quot;: &quot;A link that is contained in the tiddler's body pointing to another resource.&quot;,
            &quot;style&quot;: &quot;{\&quot;color\&quot;:\&quot;orange\&quot;, \&quot;dashes\&quot;:true}&quot;,
            &quot;label&quot;: &quot;links to&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/edgeTypes/tw-list:list&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/edgeTypes/tw-list:list&quot;,
            &quot;description&quot;: &quot;Contained in a list of this tiddler&quot;,
            &quot;style&quot;: &quot;{ \&quot;color\&quot;: \&quot;red\&quot;, \&quot;dashes\&quot;:true}&quot;,
            &quot;label&quot;: &quot;listed in&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/edgeTypes/tw-list:tags&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/edgeTypes/tw-list:tags&quot;,
            &quot;description&quot;: &quot;A tag that refers to a tiddler of the same name.&quot;,
            &quot;style&quot;: &quot;{ \&quot;color\&quot;: \&quot;DarkSlateGray\&quot;, \&quot;dashes\&quot;:true}&quot;,
            &quot;label&quot;: &quot;tagged with&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/default&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/default&quot;,
            &quot;caption&quot;: &quot;Overview&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;div class=\&quot;tmap-flash-message tmap-plain\&quot;&gt;\n  Please visit the [[online docs|http://tiddlymap.org/Documentation]]\n  for more information about the available global options.\n&lt;/div&gt;\n&lt;table class=\&quot;tmap-key-value-table\&quot;&gt;\n  &lt;tr&gt;\n    &lt;th align=\&quot;left\&quot;&gt;Plugin version&lt;/th&gt;\n    &lt;td&gt;&lt;&lt;pluginVersion&gt;&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;!--\n  &lt;tr&gt;\n    &lt;th align=\&quot;left\&quot;&gt;Datastructure version&lt;/th&gt;\n    &lt;td&gt;&lt;&lt;dataStructureVersion&gt;&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n--&gt;\n  &lt;tr&gt;\n    &lt;th align=\&quot;left\&quot;&gt;Nodes in system&lt;/th&gt;\n    &lt;td&gt;&lt;&lt;numberOfNodes&gt;&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;th align=\&quot;left\&quot;&gt;Edges in system&lt;/th&gt;\n    &lt;td&gt;&lt;&lt;numberOfEdges&gt;&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/editor&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/editor&quot;,
            &quot;caption&quot;: &quot;Editor&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;table class=\&quot;tmap-config-table\&quot;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n      title:\&quot;Show Neighbour&amp;shy;hood button\&quot;\n      field:\&quot;config.sys.editorMenuBar.showNeighScopeButton\&quot; \n      descr:\&quot;Show or hide the neighbourhood scope button from the menu.\&quot;&gt;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n      title:\&quot;Show Screen&amp;shy;shot button\&quot;\n      field:\&quot;config.sys.editorMenuBar.showScreenshotButton\&quot; \n      descr:\&quot;Show or hide the screenshot button.\&quot;&gt;&gt;\n&lt;/table&gt;   \n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/fields&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/fields&quot;,
            &quot;caption&quot;: &quot;Field settings&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;table class=\&quot;tmap-config-table\&quot;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n      title:\&quot;Node-icon field\&quot;\n      field:\&quot;config.sys.field.nodeIcon\&quot; \n      descr:\&quot;Local image used as node image in the graphs.\&quot;&gt;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n      title:\&quot;Node-label field\&quot;\n      field:\&quot;config.sys.field.nodeLabel\&quot; \n      descr:\&quot;Alternative node label to use instead of the title.\&quot;&gt;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n      title:\&quot;Node-info field\&quot;\n      field:\&quot;config.sys.field.nodeInfo\&quot; \n      descr:\&quot;Field used as tooltip when hovering over a node in a graph.\&quot;\n      note:\&quot;It is prohibited to use the text field here.\&quot;&gt;&gt;\n&lt;/table&gt;   \n\n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/interaction&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/interaction&quot;,
            &quot;caption&quot;: &quot;Interaction &amp; behaviour&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;table class=\&quot;tmap-config-table\&quot;&gt;\n&lt;!--\n  &lt;&lt;tmap-row type:\&quot;input-select\&quot;\n      title:\&quot;Default node tooltip\&quot;\n      field:\&quot;config.sys.defaultNodeTooltip\&quot; \n      descr:\&quot;What to show when hovering over a node.\&quot;\n      nochoice:\&quot;No\&quot;\n      selectFilter:\&quot;[[nothing|Nothing]]\n                    [[manager|Open edge-type manager]]\&quot;&gt;&gt;\n--&gt;\n  &lt;$macrocall type=\&quot;input-select\&quot;\n        $name=\&quot;tmap-row\&quot;\n        title=\&quot;Default startup view\&quot;\n        field=\&quot;config.sys.defaultView\&quot;\n        nochoice=\&quot;Last view used at startup\&quot;\n        selectFilter=&lt;&lt;tmap \&quot;option\&quot; \&quot;selector.allViewsByLabel\&quot;&gt;&gt;\n        descr=\&quot;The view to display at startup\&quot; /&gt;\n  &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n      title:\&quot;Show popups\&quot;\n      field:\&quot;config.sys.popups.enabled\&quot; \n      descr:\&quot;Set this to true if you want to see automatic\n             popups in the map.\&quot;&gt;&gt;\n  &lt;$list filter=\&quot;[config.sys.popups.enabled[true]]\&quot;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n      title:\&quot;Popup delay\&quot;\n      field:\&quot;config.sys.popups.delay\&quot;\n      descr:\&quot;The time in miliseconds that needs to pass after\n             a tooltip is triggered.\&quot;&gt;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n      title:\&quot;Popup width\&quot;\n      field:\&quot;config.sys.popups.width\&quot;\n      descr:\&quot;The default max-width of the popup.\&quot;\n      note:\&quot;Make sure you added the desired unit (e.g. `px`).\n            Requires a wiki refresh.\&quot;&gt;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n      title:\&quot;Popup height\&quot;\n      field:\&quot;config.sys.popups.height\&quot;\n      descr:\&quot;The default max-height of the popup.\&quot;\n      note:\&quot;Make sure you added desired the unit (e.g.  `px`).\n            Requires a wiki refresh.\&quot;&gt;&gt;\n  &lt;/$list&gt;\n  &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n      title:\&quot;Allow single click mode\&quot;\n      field:\&quot;config.sys.singleClickMode\&quot; \n      descr:\&quot;A single click on a node is sufficient to open the\n             corresponding tiddler.\&quot;\n      note:\&quot;Drag and drop will still work and does not cause a\n            tiddler to be opened. Single click is never active in\n            the map editor.\&quot;&gt;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-select\&quot;\n      title:\&quot;Edge click behaviour\&quot;\n      field:\&quot;config.sys.edgeClickBehaviour\&quot; \n      selectFilter:\&quot;[[nothing|Nothing]]\n                    [[manager|Open edge-type manager]]\&quot;\n      descr:\&quot;What should happen when you click on an edge?\&quot;&gt;&gt;\n&lt;/table&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/liveTab&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/liveTab&quot;,
            &quot;caption&quot;: &quot;Live tab&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;table class=\&quot;tmap-config-table\&quot;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n      title:\&quot;Show Live tab\&quot;\n      field:\&quot;liveTab\&quot; \n      descr:\&quot;Show or hide the live tab in the sidebar.\&quot;&gt;&gt;\n  &lt;$macrocall type=\&quot;input-select\&quot;\n      $name=\&quot;tmap-row\&quot;\n      title=\&quot;Fallback view\&quot;\n      field=\&quot;config.sys.liveTab.fallbackView\&quot; \n      selectFilter=&lt;&lt;tmap \&quot;option\&quot; \&quot;selector.allViewsByLabel\&quot;&gt;&gt;\n      descr=\&quot;The view to display in the sidebar's live tab in\n             case the current tiddler did not specify a view\n             to open.\&quot; /&gt;\n&lt;/table&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/options-button}} Global configuration of TiddlyMap&quot;,
            &quot;classes&quot;: &quot;tmap-remove-top-space&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;$macrocall $name=\&quot;tabs\&quot;\n  default=&lt;&lt;concat \&quot;$(template)$/default\&quot;&gt;&gt;\n  tabsList=\&quot;[all[shadows]prefix&lt;template&gt;] -[&lt;template&gt;]\&quot;\n/&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/verbosity&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/verbosity&quot;,
            &quot;caption&quot;: &quot;Verbosity&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;div class=\&quot;tmap-flash-message tmap-plain\&quot;&gt;\n  Here you can restrict the system's talkativeness.\n&lt;/div&gt;\n\n&lt;table class=\&quot;tmap-config-table\&quot;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n      title:\&quot;Debug output\&quot;\n      field:\&quot;config.sys.debug\&quot; \n      descr:\&quot;Set this to true if you want debug information to be\n             displayed in the browser console.\&quot;&gt;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n      title:\&quot;Show notifications\&quot;\n      field:\&quot;config.sys.notifications\&quot; \n      descr:\&quot;Set this to true if you want to receive fade-out\n             notifications for important events.\&quot;&gt;&gt;\n&lt;/table&gt; &quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/vis&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/vis&quot;,
            &quot;classes&quot;: &quot;tmap-remove-top-space&quot;,
            &quot;caption&quot;: &quot;Graph&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n  The global vis configurations will affect all views and their\n  elements (nodes and edges) unless they are overridden on a lower\n  level. All options below are documented at\n  [[vis.js.org|http://visjs.org/docs/network]].\n&lt;/div&gt;\n&lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n  Only config items that you actually changed have an effect on\n  the graph. Other options are visible, yet, inactive.\n&lt;/div&gt;\n&lt;$tmap-config\n    mode=\&quot;manage-config\&quot;\n    inherited=\&quot;vis-inherited\&quot;\n    extension=\&quot;config.vis\&quot; /&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView/default&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView/default&quot;,
            &quot;caption&quot;: &quot;Overview&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n   All configurations __only__ affect this view.\n&lt;/div&gt;\n\n&lt;table class=\&quot;tmap-key-value-table\&quot;&gt;\n  &lt;tr&gt;\n    &lt;th align=\&quot;left\&quot;&gt;Created on&lt;/th&gt;\n    &lt;td&gt;&lt;&lt;createdOn&gt;&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;th align=\&quot;left\&quot;&gt;Nodes contained in graph&lt;/th&gt;\n    &lt;td&gt;&lt;&lt;numberOfNodes&gt;&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;th align=\&quot;left\&quot;&gt;Edges contained in graph&lt;/th&gt;\n    &lt;td&gt;&lt;&lt;numberOfEdges&gt;&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView/editFilters&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView/editFilters&quot;,
            &quot;caption&quot;: &quot;Edit filters&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n  Completely new to filters? Please read\n  [[Introduction to filter notation|http://tiddlywiki.com/#Introduction%20to%20filter%20notation]]\n  first.\n&lt;/div&gt;\n\n&lt;fieldset&gt;\n  &lt;legend&gt;Filters &lt;sup&gt;[1]&lt;/sup&gt;&lt;/legend&gt;\n  &lt;table class=\&quot;tmap-config-table tmap-large-input\&quot;&gt;\n    &lt;&lt;tmap-row type:\&quot;input-textarea\&quot;\n        title:\&quot;Node filter\&quot;\n        field:\&quot;filter.prettyNodeFltr\&quot;\n        descr:\&quot;In the map, only those tiddlers that match this filter\n               are shown. Drafts and system tiddlers are automatically\n               excluded.\&quot;&gt;&gt;\n    &lt;&lt;tmap-row type:\&quot;input-textarea\&quot;\n        title:\&quot;Edge-type filter\&quot;\n        field:\&quot;filter.prettyEdgeFltr\&quot; \n        descr:\&quot;Only edges with a type that matches the filter are shown.\&quot;&gt;&gt;\n  &lt;/table&gt;   \n&lt;/fieldset&gt;\n\n---\n\n&lt;sup&gt;[1]&lt;/sup&gt; In the editors above, a new line is equivalent to a space symbol.&lt;br /&gt;\n&lt;sup&gt;[2]&lt;/sup&gt; It is suggested to read\n[[Node and edge-type filters|http://tiddlymap.org#Node%20and%20edge-type%20filters]]\nand [[Edge-type namespaces|http://tiddlymap.org#Node%20and%20edge-type%20filters]]\nbefore using Tiddlymap's filter editor.&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView/layout&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView/layout&quot;,
            &quot;caption&quot;: &quot;Layout&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;table class=\&quot;tmap-config-table\&quot;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n      title:\&quot;Floating nodes\&quot;\n      field:\&quot;config.physics_mode\&quot; \n      descr:\&quot;Set this to true if you want your nodes to freely\n             swirl around.\&quot;&gt;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n      title:\&quot;Background image\&quot;\n      field:\&quot;config.background_image\&quot; \n      descr:\&quot;The title of an image tiddler to be used as background\n             in the view.\&quot;\n      note:\&quot;You can also use an image url directly, however, the\n            image needs be stored under the same domain as your wiki.\n            Otherwise, it won't be displayed!\&quot;&gt;&gt;\n&lt;/table&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView/namespace&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView/namespace&quot;,
            &quot;caption&quot;: &quot;Namespace&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;table class=\&quot;tmap-config-table tmap-small-input\&quot;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n      title:\&quot;Edge-type namespace\&quot;\n      field:\&quot;config.edge_type_namespace\&quot; \n      descr:\&quot;A namespace (like `foaf` in `foaf:knows`) that will be\n             automatically added to all edge types you create in\n             this view. The namespace is only added if the types\n             do not exist yet and do not have a namespace assigned yet.\n             Namespaces are always hidden in the graph.\&quot;\n      note:\&quot;Most likely, you don't want the edges created with this\n            namespace to leak into other views, moreover, you don't\n            want edges that do not possess the namespace ever to be\n            shown here. In this case, use a private marker (`_`)\n            in front of your namespace, e.g. `_mynamespace` and use\n            an appropriate edge type filter, i.e. `+[prefix[_mynamespace]]`\n            For further information see:\n            \n            * [[Edge-type namespaces|http://tiddlymap.org/#Edge-type%20namespaces]]\n            * [[Private edge types|http://tiddlymap.org/#Private%20edge%20types]]\n            \&quot;&gt;&gt;\n&lt;/table&gt;\n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/options-button}} View configuration -- &lt;&lt;view&gt;&gt;&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define privateEdgeTypes() [[private edge-types|http://tiddlymap.org/#Private%20edge%20types]]\n\n&lt;$macrocall $name=\&quot;tabs\&quot;\n  default=&lt;&lt;concat \&quot;$(template)$/default\&quot;&gt;&gt;\n  tabsList=\&quot;[all[shadows]prefix&lt;template&gt;] -[&lt;template&gt;]\&quot;\n/&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView/vis&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView/vis&quot;,
            &quot;caption&quot;: &quot;Graph&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n   The local vis configurations will affect all\n   elements (nodes and edges) of this view, unless they are\n   overridden on a lower level. All options below are documented at\n   [[vis.js.org|http://visjs.org/docs/network]].\n&lt;/div&gt;\n&lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n  Only config items that you actually changed have an effect on the\n  graph. Other options are visible, yet, inactive.\n&lt;/div&gt;\n&lt;$tmap-config\n    mode=\&quot;manage-config\&quot;\n    inherited=\&quot;vis-inherited\&quot;\n    extension=\&quot;config.vis\&quot; /&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/cannotDeleteViewDialog&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/cannotDeleteViewDialog&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/locked-padlock}} You cannot delete this view!&quot;,
            &quot;buttons&quot;: &quot;ok&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\nIt is not possible to delete the current view as ''&lt;&lt;count&gt;&gt;'' tiddlers\nare referencing it. To delete the view you must first remove the tiddlymap\nwidgets in the tiddlers listed below or change their view attributes.\n\n''References''\n\n&lt;ul&gt;\n&lt;$list filter=&lt;&lt;filter&gt;&gt; variable=\&quot;item\&quot;&gt;\n  &lt;li&gt;&lt;$link&gt;&lt;&lt;item&gt;&gt;&lt;/$link&gt;&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n\nAfter the references are removed, you may delete the view.&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/getConfirmation&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/getConfirmation&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/import-button}} You must confirm in order to proceed!&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;&lt;message&gt;&gt;\n\n''Are you really sure you want to do this?''&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/createView&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/createView&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/new-button}} Creating a new view&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;table class=\&quot;tmap-config-table\&quot;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n      title:\&quot;View name\&quot;\n      field:\&quot;name\&quot; \n      descr:\&quot;The name for the new view. If no name is entered,\n             the program will invent one for you.\&quot;\n      note:\&quot;You cannot override an existing view. In this case,\n            you need to delete the old view first! You must no use\n            slashes (`/`) in the name.\&quot;&gt;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n      title:\&quot;Clone view\&quot;\n      field:\&quot;clone\&quot; \n      descr:\&quot;Use the view that is currently displayed in the\n             editor as blueprint. The view will be an __exact__\n             clone of the current one, only with a different \n             name.\&quot;&gt;&gt;\n&lt;/table&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/deleteNodeDialog&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/deleteNodeDialog&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/delete-button}} You are about to delete &lt;&lt;count&gt;&gt; nodes&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n''Please choose an option or abort:''\n\n&lt;$radio tiddler=&lt;&lt;output&gt;&gt; field=\&quot;delete-from\&quot; value=\&quot;system\&quot;&gt;\n  Delete nodes from system &lt;sup&gt;[1]&lt;/sup&gt;\n&lt;/$radio&gt;&lt;br /&gt;\n&lt;$radio tiddler=&lt;&lt;output&gt;&gt; field=\&quot;delete-from\&quot; value=\&quot;filter\&quot;&gt;\n  Delete nodes from graph's filter &lt;sup&gt;[2]&lt;/sup&gt;\n&lt;/$radio&gt;\n\nThe following nodes will be deleted:\n\n&lt;ul&gt;\n&lt;$list filter=&lt;&lt;tiddlers&gt;&gt;&gt;\n  &lt;li&gt;&lt;$view tiddler={{!!title}} field=\&quot;title\&quot; /&gt;&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n\n---\n\n&lt;sup&gt;[1]&lt;/sup&gt;\n&lt;small&gt;This will delete all nodes, their corresponding tiddlers and all connected edges.&lt;/small&gt;&lt;br/&gt;\n&lt;sup&gt;[2]&lt;/sup&gt;\n&lt;small&gt;''Important:'' Removing a node from the graph's filter only works, if the node has been added in the map editor per double click or via \&quot;Add Node\&quot;. If the node hasn't been added as mentioned above, you need to change the underlying tiddler in a way that it doesn't match your filter anymore, if you don't want it to be displayed in the graph.&lt;/small&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/dublicateIdInfo&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/dublicateIdInfo&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/info-button}} Dublicate id detected&quot;,
            &quot;buttons&quot;: &quot;ok_suppress&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\nTiddlyMap requires the value of the id field (\&quot;tmap.id\&quot;) to be\nunique in order to correctly identify nodes and tiddlers.\n\nThe tiddler \&quot;&lt;&lt;param.changedTiddler&gt;&gt;\&quot; had the same id as the\ntiddler \&quot;&lt;&lt;param.existingTiddler&gt;&gt;\&quot;.\n\nTherefore TiddlyMap\n\n* assigned a new id to tiddler \&quot;&lt;&lt;param.changedTiddler&gt;&gt;\&quot;\n* removed all edges from \&quot;&lt;&lt;param.changedTiddler&gt;&gt;\&quot;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/edgeNotVisible&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/edgeNotVisible&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/info-button}} Edge will not be visible in view \&quot;&lt;&lt;view&gt;&gt;\&quot;&quot;,
            &quot;buttons&quot;: &quot;ok_suppress&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\nYou just created an edge of type\n&lt;code&gt;&lt;$text text=&lt;&lt;type&gt;&gt; /&gt;&lt;/code&gt; that will not be\nvisible in this view because it doesn't match your\nedge-type filter settings.\n\nThe current edge-type filter of view \&quot;&lt;&lt;view&gt;&gt;\&quot; looks like this:\n\n&lt;pre&gt;&lt;code&gt;&lt;$text text=&lt;&lt;eTyFilter&gt;&gt; /&gt;&lt;/code&gt;&lt;/pre&gt;\n\nTo have the newly added type displayed in your view, adjust your\nedge-type filter accordingly. \n\nSome suggestions:\n\n&lt;ul&gt;\n  &lt;li&gt;\n    Explicitly add the type to the filter:\n    &lt;code&gt;&lt;$text text=\&quot;[[\&quot; /&gt;&lt;$text text=&lt;&lt;type&gt;&gt; /&gt;&lt;$text text=\&quot;]]\&quot; /&gt;&lt;/code&gt;\n  &lt;/li&gt;\n  &lt;li&gt;\n  &lt;$set\n      filter=\&quot;[&lt;type&gt;regexp[:]splitbefore[:]]\&quot;\n      name=\&quot;prefix\&quot;\n      emptyValue=&lt;&lt;tmap halfOfString \&quot;$(type)$\&quot;&gt;&gt;&gt;\n  Add a filter rule (e.g. a prefix filter) that will match\n  your type: &lt;code&gt;[prefix[&lt;&lt;prefix&gt;&gt;]]&lt;/code&gt;\n  &lt;/$set&gt;\n  &lt;/li&gt;\n  &lt;li&gt;Make your current view-filter less restrictive.&lt;/li&gt;\n&lt;/ul&gt;\n\nFor further information, please see:\n[[Node and edge-type filters|http://tiddlymap.org#Node%20and%20edge-type%20filters]].&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/editNode/default&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/editNode/default&quot;,
            &quot;caption&quot;: &quot;Global node style&quot;,
            &quot;classes&quot;: &quot;tmap-remove-top-space&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n  A node's ''global configuration''\n  (also referred to as //global individual config//) defines its\n  individual appearance and behaviour in all views.\n&lt;/div&gt;\n&lt;&lt;maybeShowTidColorWarning&gt;&gt;\n    \n&lt;$macrocall $name=\&quot;sharedSettings\&quot;\n    twIconField=&lt;&lt;tidIconField&gt;&gt;\n    faIconField=\&quot;global.tmap.fa-icon\&quot;\n    labelField=&lt;&lt;tidLabelField&gt;&gt; /&gt;\n\n&lt;$macrocall $name=\&quot;visConfiguration\&quot;\n    mode=\&quot;manage-node-types\&quot;\n    extensionField=\&quot;global.tmap.style\&quot;\n    styleName=\&quot;node's global style\&quot;\n    inheritedList=\&quot;[[inherited-global-default-style]]\n                   [[inherited-local-default-style]]\n                   [[inherited-group-styles]]\&quot; /&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/editNode/local&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/editNode/local&quot;,
            &quot;caption&quot;: &quot;Local node style&quot;,
            &quot;classes&quot;: &quot;tmap-remove-top-space&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n    \n&lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n  The ''local node configuration'' \n  (also referred to as //view-specific node configuration//)\n  overrides the //global individual configuration// and only affects\n  the node's appearance and behaviour in the current view.\n&lt;/div&gt;\n&lt;&lt;maybeShowTidColorWarning&gt;&gt;\n\n&lt;fieldset&gt;\n  &lt;legend&gt;Behaviour&lt;/legend&gt;\n  &lt;table class=\&quot;tmap-config-table\&quot;&gt;\n    &lt;$macrocall type=\&quot;input-select\&quot;\n        $name=\&quot;tmap-row\&quot;\n        title=\&quot;Open view\&quot;\n        field=\&quot;local.open-view\&quot;\n        nochoice=\&quot;Disabled\&quot;\n        selectFilter=&lt;&lt;tmap \&quot;option\&quot; \&quot;selector.allViewsByLabel\&quot;&gt;&gt;\n        descr=\&quot;Clicking on this node will open the specified\n               view instead of the tiddler represented by this node.\&quot; /&gt;\n  &lt;/table&gt;\n&lt;/fieldset&gt;\n\n&lt;$macrocall $name=\&quot;sharedSettings\&quot;\n    twIconField=\&quot;local.tw-icon\&quot;\n    faIconField=\&quot;local.fa-icon\&quot;\n    labelField=\&quot;local.label\&quot; /&gt;\n                         \n&lt;$macrocall $name=\&quot;visConfiguration\&quot;\n    mode=\&quot;manage-node-types\&quot;\n    extensionField=\&quot;local-node-style\&quot;\n    styleName=\&quot;node's local style\&quot;\n    inheritedList=\&quot;[[inherited-global-default-style]]\n                   [[inherited-local-default-style]]\n                   [[inherited-group-styles]]\n                   [[global.tmap.style]]\&quot; /&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/editNode&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/editNode&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/edit-button}} Editing style of node \&quot;&lt;&lt;tiddler&gt;&gt;\&quot;&quot;,
            &quot;classes&quot;: &quot;tmap-remove-top-space&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define maybeShowTidColorWarning()\n  &lt;$list filter=\&quot;[&lt;tidColor&gt;regexp[.+]]\&quot;&gt;\n  &lt;div class=\&quot;tmap-flash-message tmap-warning\&quot;&gt;\n    You have set the tiddler's color\n    field to \&quot;&lt;&lt;tidColor&gt;&gt;\&quot;. This value will be completely ignored\n    when you change node's color properties in the vis editor below.\n  &lt;/div&gt;\n  &lt;/$list&gt;\n\\end\n\n\\define iconSettings(twIconField, faIconField)\n  &lt;fieldset&gt;\n    &lt;legend&gt;Icon Settings&lt;/legend&gt;\n    &lt;table class=\&quot;tmap-config-table\&quot;&gt;\n      &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n          title:\&quot;TW-icon\&quot;\n          field:\&quot;$twIconField$\&quot;\n          descr:\&quot;A tiddlywiki image reference.\n                 For example '$:/core/icon' for Movotun Jack.\&quot;&gt;&gt;\n      &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n          title:\&quot;FA-icon\&quot;\n          field:\&quot;$faIconField$\&quot;\n          descr:\&quot;A Font Awesome icon code.\n                 For example 'f206' for the bicycle symbol.\&quot;&gt;&gt;\n    &lt;/table&gt;\n  &lt;/fieldset&gt;\n\\end\n\n\\define sharedSettings(twIconField, faIconField, labelField)\n  &lt;fieldset&gt;\n    &lt;legend&gt;General Settings&lt;/legend&gt;\n    &lt;table class=\&quot;tmap-config-table\&quot;&gt;\n      &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n          title:\&quot;Label\&quot;\n          field:\&quot;$labelField$\&quot;\n          descr:\&quot;Use this value as node label.\&quot;&gt;&gt;\n    &lt;/table&gt;\n  &lt;/fieldset&gt;\n  &lt;!-- display icon fieldset --&gt;\n  &lt;&lt;iconSettings \&quot;$twIconField$\&quot; \&quot;$faIconField$\&quot;&gt;&gt;  \n\\end\n\n&lt;$macrocall\n  $name=\&quot;tabs\&quot;\n  default=&lt;&lt;concat \&quot;$(template)$/default\&quot;&gt;&gt;\n  tabsList=\&quot;[all[shadows]prefix&lt;template&gt;] -[&lt;template&gt;]\&quot;\n/&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/fullscreenTiddlerEditor/draft&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/fullscreenTiddlerEditor/draft&quot;,
            &quot;caption&quot;: &quot;Draft&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;div class=\&quot;tmap-modal-editor\&quot;&gt;\n  &lt;$importvariables filter=\&quot;[all[tiddlers+shadows]prefix[$:/core/macros/]]\&quot;&gt;\n    &lt;$set name=\&quot;currentTiddler\&quot; value=&lt;&lt;draftTRef&gt;&gt; &gt;\n      &lt;$transclude tiddler=\&quot;$:/core/ui/EditTemplate\&quot; field=\&quot;text\&quot; mode=\&quot;block\&quot; /&gt;\n    &lt;/$set&gt;\n  &lt;/$importvariables&gt;\n&lt;/div&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/fullscreenTiddlerEditor/original&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/fullscreenTiddlerEditor/original&quot;,
            &quot;caption&quot;: &quot;Preview&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;div class=\&quot;tmap-modal-editor\&quot;&gt;\n  &lt;$importvariables filter=\&quot;[all[tiddlers+shadows]prefix[$:/core/macros/]]\&quot;&gt;\n    &lt;$set name=\&quot;currentTiddler\&quot; value=&lt;&lt;draftTRef&gt;&gt; &gt;\n      &lt;$transclude tiddler=\&quot;$:/core/ui/ViewTemplate\&quot; field=\&quot;text\&quot; mode=\&quot;block\&quot; /&gt;\n    &lt;/$set&gt;\n  &lt;/$importvariables&gt;\n&lt;/div&gt;\n\n&lt;!--\n&lt;$set name=\&quot;currentTiddler\&quot; value=&lt;&lt;draftTRef&gt;&gt; &gt;\n  &lt;$transclude tiddler=\&quot;$:/core/ui/ViewTemplate\&quot; field=\&quot;text\&quot; mode=\&quot;block\&quot; /&gt;\n&lt;/$set&gt;--&gt;\n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/fullscreenTiddlerEditor&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/fullscreenTiddlerEditor&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/edit-button}} &lt;&lt;originalTRef&gt;&gt;&quot;,
            &quot;classes&quot;: &quot;tmap-modal-fullscreen-editor tmap-remove-top-space&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define defaultTab() $:/plugins/felixhayashi/tiddlymap/dialog/fullscreenTiddlerEditor/original\n\n&lt;$macrocall $name=\&quot;tabs\&quot;\n    default=&lt;&lt;defaultTab&gt;&gt;\n    tabsList=\&quot;[all[shadows]prefix[$:/plugins/felixhayashi/tiddlymap/dialog/fullscreenTiddlerEditor/]]\&quot; /&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/fieldChanged&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/fieldChanged&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/info-button}} The field \&quot;&lt;&lt;name&gt;&gt;\&quot; changed&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\nYou changed the field \&quot;&lt;&lt;name&gt;&gt;\&quot; from \&quot;&lt;&lt;oldValue&gt;&gt;\&quot; to \&quot;&lt;&lt;newValue&gt;&gt;\&quot;.\n\nIt is recommended to let TiddlyMap copy all values from the former field \&quot;&lt;&lt;oldValue&gt;&gt;\&quot; to the new field \&quot;&lt;&lt;newValue&gt;&gt;\&quot; so the data stored in \&quot;&lt;&lt;oldValue&gt;&gt;\&quot; is not lost. This operation has to be done now or never.\n\nDo you want to move each tiddler's existing \&quot;&lt;&lt;oldValue&gt;&gt;\&quot; value to \&quot;&lt;&lt;newValue&gt;&gt;\&quot;? Please note that any value currently stored in \&quot;&lt;&lt;newValue&gt;&gt;\&quot; would consequently be overridden and the old field \&quot;&lt;&lt;oldValue&gt;&gt;\&quot; would be eventually removed!&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/fullscreenNotSupported&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/fullscreenNotSupported&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/info-button}} Your machine does not support fullscreen&quot;,
            &quot;buttons&quot;: &quot;ok_suppress&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\nPlease have a look [[here|http://caniuse.com/#feat=fullscreen]] to see a list of supported devices/browsers.\n\nSorry for this :(&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/addNodeToMap&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/addNodeToMap&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/tag-button}} Add node&quot;,
            &quot;classes&quot;: &quot;tmap-modal-add-node&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define backButtonText() back to list\n\\define outputAndTemplate() [[$(output)$]] [[$(template)$]]\n\n\\define editor()\n  &lt;$button class=\&quot;tmap-go-back tc-btn-invisible\&quot;&gt;\n    {{$:/core/images/chevron-left}} &lt;&lt;backButtonText&gt;&gt;\n    &lt;$action-deletefield $tiddler=&lt;&lt;temp&gt;&gt; more template /&gt;\n    &lt;$action-sendmessage\n        $message=\&quot;tmap:tm-clear-tiddler\&quot;\n        keep=\&quot;draft.title\&quot;\n        title=&lt;&lt;output&gt;&gt; /&gt;\n  &lt;/$button&gt;\n  \n  &lt;$list filter=\&quot;[&lt;output&gt;get[draft.title]is[tiddler]]\&quot;&gt;\n  &lt;div class=\&quot;tmap-flash-message tmap-warning\&quot;&gt;\n   Tiddler already exists! Use another title or click\n   \&quot;&lt;&lt;backButtonText&gt;&gt;\&quot; to cancel your edit.\n  &lt;/div&gt;\n  &lt;/$list&gt;\n  \n  &lt;div class=\&quot;tmap-modal-editor\&quot;&gt;\n    &lt;table class=\&quot;tmap-config-table\&quot;&gt;\n      &lt;tr class=\&quot;tmap-template-select\&quot;&gt;\n        &lt;td&gt;Template&lt;/td&gt;\n        &lt;td&gt;\n          &lt;$select\n              tiddler=&lt;&lt;temp&gt;&gt;\n              field=\&quot;template\&quot;&gt;\n            &lt;option value=\&quot;\&quot;&gt;&lt;/option&gt;\n            &lt;$list filter=&lt;&lt;tmap \&quot;option\&quot; \&quot;selector.allPotentialNodes\&quot;&gt;&gt;&gt;\n            &lt;option&gt;&lt;$view field=\&quot;title\&quot; /&gt;&lt;/option&gt;\n            &lt;/$list&gt; \n          &lt;/$select&gt;\n          &lt;$button&gt;Load\n            &lt;$action-sendmessage\n                $message=\&quot;tmap:tm-clear-tiddler\&quot;\n                keep=\&quot;draft.title\&quot;\n                title=&lt;&lt;output&gt;&gt; /&gt;\n            &lt;$list filter=\&quot;[&lt;temp&gt;get[template]]\&quot; variable=\&quot;template\&quot;&gt;\n            &lt;$action-sendmessage\n                $message=\&quot;tmap:tm-merge-tiddlers\&quot;\n                tiddlers=&lt;&lt;outputAndTemplate&gt;&gt;\n                output=&lt;&lt;output&gt;&gt; /&gt;\n            &lt;$action-deletefield $tiddler=&lt;&lt;output&gt;&gt; tmap.id tmap.edges /&gt;\n            &lt;/$list&gt;\n          &lt;/$button&gt;\n       &lt;/td&gt;\n       &lt;td&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/table&gt;\n    &lt;$importvariables filter=\&quot;[all[tiddlers+shadows]prefix[$:/core/macros/]]\&quot;&gt;\n      &lt;$set name=\&quot;currentTiddler\&quot; value=&lt;&lt;output&gt;&gt;&gt;\n        &lt;$transclude tiddler=\&quot;$:/core/ui/EditTemplate\&quot; mode=\&quot;block\&quot; /&gt;\n      &lt;/$set&gt;\n    &lt;/$importvariables&gt;\n  &lt;/div&gt;\n\\end\n\n\\define search()\n&lt;p&gt;Add an existing tiddler to the map or create a new one.&lt;/p&gt;\n&lt;table id=\&quot;tmap-search-table\&quot;&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;b&gt;Title:&lt;/b&gt;&lt;/td&gt;\n    &lt;td&gt;\n      &lt;$edit-text\n          tiddler=&lt;&lt;output&gt;&gt;\n          field=\&quot;draft.title\&quot;\n          focus=\&quot;true\&quot;\n          type=\&quot;text\&quot;\n          tag=\&quot;input\&quot;\n          default=\&quot;\&quot; /&gt;\n      &lt;$list filter=\&quot;[&lt;output&gt;get[draft.title]!is[tiddler]]\&quot;&gt;\n      &lt;$button\n          tooltip=\&quot;The tiddler does not exist yet and you may edit it\n                   before it is added to the map\&quot;&gt;\n        {{$:/core/images/edit-button}}\n        &lt;$action-setfield $tiddler=&lt;&lt;temp&gt;&gt; more=\&quot;true\&quot; /&gt;\n      &lt;/$button&gt; &lt;sup&gt;[1]&lt;/sup&gt;\n      &lt;/$list&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;\n      &lt;$set name=\&quot;term\&quot; value={{!!draft.title}}&gt;\n      &lt;ul class=\&quot;tmap-small-list\&quot;&gt;\n        &lt;$list filter=\&quot;[search:title&lt;term&gt;!is[system]!has[draft.of]]\&quot;&gt;\n        &lt;li&gt;\n          &lt;$button class=\&quot;tc-btn-invisible tmap-link\&quot;&gt;\n            &lt;$view field=\&quot;title\&quot; /&gt;\n            &lt;$action-setfield $tiddler=&lt;&lt;output&gt;&gt; draft.title={{!!title}} /&gt;\n          &lt;/$button&gt;\n        &lt;/li&gt;\n        &lt;/$list&gt;\n      &lt;/ul&gt;\n      &lt;/$set&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n\n&lt;$list filter=\&quot;[&lt;output&gt;get[draft.title]!is[tiddler]]\&quot;&gt;\n&lt;hr /&gt;\n&lt;sup&gt;[1]&lt;/sup&gt;\n&lt;small&gt;\n  The tiddler does not exist yet and you may edit it\n  before it is added to the map\n&lt;/small&gt;\n&lt;/$list&gt;\n\\end\n\n&lt;$list filter=\&quot;[&lt;temp&gt;!has[more]]\&quot; variable=\&quot;item\&quot;&gt;&lt;&lt;search&gt;&gt;&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;temp&gt;has[more]]\&quot; variable=\&quot;item\&quot;&gt;&lt;&lt;editor&gt;&gt;&lt;/$list&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/renameView&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/renameView&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/tag-button}} Please specify a view name&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n''Name:''\n&lt;$edit-text focus=\&quot;true\&quot; tiddler=&lt;&lt;output&gt;&gt; field=\&quot;text\&quot; type=\&quot;text\&quot; tag=\&quot;input\&quot; default=\&quot;\&quot;\n            class=\&quot;tmap-trigger-field tmap-triggers-ok-button-on-enter\&quot; /&gt;\n\nNote that ''&lt;&lt;count&gt;&gt;'' tiddlers are referencing this view.\n\n&lt;$reveal type=\&quot;nomatch\&quot; text=\&quot;0\&quot; default=&lt;&lt;count&gt;&gt;&gt;\n  \nRenaming the view will cause the reference to be invalid.\nIt is recommended to first remove the tiddlymap widgets in\nthe tiddlers listed below or change their view attributes\naccordingly.\n\n''References''\n\n&lt;ul&gt;\n&lt;$list filter=&lt;&lt;filter&gt;&gt; variable=\&quot;item\&quot;&gt;\n  &lt;li&gt;&lt;$text text=&lt;&lt;item&gt;&gt; /&gt;&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n  \n&lt;/$reveal&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/saveCanvas&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/saveCanvas&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/options-button}} Save a snapshot image of view \&quot;&lt;&lt;view&gt;&gt;\&quot;&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define preview()\n&lt;div class=\&quot;tmap-save-canvas-preview\&quot;&gt;\n  &lt;$transclude tiddler=&lt;&lt;snapshot&gt;&gt; /&gt;&lt;br /&gt;\n  Measures: &lt;&lt;width&gt;&gt; × &lt;&lt;height&gt;&gt;\n&lt;/div&gt;\n\\end\n\n&lt;table class=\&quot;tmap-config-table\&quot;&gt;\n&lt;!--\n  &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n      title:\&quot;Name\&quot;\n      field:\&quot;name\&quot;&gt;\n--&gt;\n&lt;$macrocall $name=\&quot;tmap-row\&quot;\n    type=\&quot;input-text\&quot;\n    title=\&quot;Name\&quot;\n    field=\&quot;name\&quot;\n    descr=&lt;&lt;preview&gt;&gt; /&gt;\n&lt;/table&gt;\n\n&lt;fieldset&gt;&lt;legend&gt;Options&lt;/legend&gt;\n  &lt;table class=\&quot;tmap-config-table\&quot;&gt;\n    &lt;&lt;tmap-row type:\&quot;input-radio\&quot;\n        title:\&quot;Action\&quot;\n        field:\&quot;action\&quot; \n        selectFilter:\&quot;[[download|Download]]\n                      [[wiki|Save in wiki]]\n                      [[placeholder|Use as placeholder for this view]]\&quot;\n        descr:\&quot;Save the image by downloading it to your computer or\n               save it as a tiddler in your wiki.&lt;br /&gt;&lt;br /&gt;\n               A third option is to make TiddlyMap use this image as\n               placeholder for the current view. Placeholders are used\n               when tiddlers are exported in form of static html\n               or when editing a tiddler while having the preview\n               shown. In this case the title input is ignored.\&quot;&gt;&gt;\n  &lt;/table&gt;\n&lt;/fieldset&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/getEdgeType&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/getEdgeType&quot;,
            &quot;subtitle&quot;: &quot;{{$:/plugins/felixhayashi/tiddlymap/icon}} Edge type specification&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\\rules except underscore\n\n\\define filter() $(allEdgeTypes)$ +[search:title[$(term)$]]\n\n\\define badge(color, label, tooltip)\n&lt;span style=\&quot;background: $color$\&quot; title=\&quot;$tooltip$\&quot;&gt;$label$&lt;/span&gt;\n\\end\n\n\\define badges()\n&lt;$tiddler tiddler={{!!text}}&gt;\n&lt;$set name=\&quot;id\&quot; value=&lt;&lt;tmap \&quot;getETyId\&quot; \&quot;$(viewNS)$\&quot;&gt;&gt;&gt;\n&lt;$set name=\&quot;isVisible\&quot; value=&lt;&lt;tmap \&quot;isETyVisible\&quot; \&quot;$(viewNS)$\&quot; \&quot;$(eTyFilter)$\&quot;&gt;&gt;&gt;\n&lt;div class=\&quot;tmap-badges\&quot;&gt;\n  &lt;span\n      style=\&quot;background: darkslategray\&quot;\n      title=\&quot;Your input translates into this id.\&quot;&gt;\n  &lt;&lt;id&gt;&gt;\n  &lt;/span&gt;\n  &lt;$list filter=\&quot;[&lt;isVisible&gt;regexp[true]]\&quot;&gt;\n    &lt;&lt;badge \&quot;green\&quot; \&quot;visible\&quot; \&quot;Matches your view's filter\&quot;&gt;&gt;\n  &lt;/$list&gt;\n  &lt;$list filter=\&quot;[&lt;isVisible&gt;regexp[false]]\&quot;&gt;\n    &lt;&lt;badge \&quot;red\&quot; \&quot;not visible\&quot; \&quot;Doesn't match your view's filter\&quot;&gt;&gt;\n  &lt;/$list&gt;\n  &lt;$list filter=\&quot;[&lt;id&gt;!regexp[^tmap:unknown$]]\&quot; variable=\&quot;item\&quot;&gt;\n    &lt;$list filter=\&quot;[&lt;id&gt;regexp[^_]]\&quot;&gt;\n      &lt;&lt;badge \&quot;purple\&quot; \&quot;private\&quot; \&quot;Not shown in other views per default\&quot;&gt;&gt;\n    &lt;/$list&gt;\n    &lt;$list filter=\&quot;[&lt;id&gt;regexp[.+:.+]]\&quot;&gt;\n      &lt;&lt;badge \&quot;orange\&quot; \&quot;namespace\&quot; \&quot;This type is prefixed with a proper namespace\&quot;&gt;&gt;\n    &lt;/$list&gt;\n  &lt;/$list&gt;  \n&lt;/div&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n&lt;/$tiddler&gt;\n\\end\n\n\\define search()\n&lt;p&gt;\n  You are about to connect \&quot;&lt;$text text=\&quot;$(fromLabel)$\&quot; /&gt;\&quot;\n  with \&quot;&lt;$text text=\&quot;$(toLabel)$\&quot; /&gt;\&quot;. Please specify a type.\n&lt;/p&gt;\n&lt;table id=\&quot;tmap-search-table\&quot;&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;b&gt;Type:&lt;/b&gt;&lt;/td&gt;\n    &lt;td&gt;\n      &lt;$edit-text\n          focus=\&quot;true\&quot;\n          field=\&quot;text\&quot;\n          type=\&quot;text\&quot;\n          tag=\&quot;input\&quot;\n          default=\&quot;\&quot;\n          class=\&quot;tmap-trigger-field tmap-triggers-ok-button-on-enter\&quot; /&gt;\n      &lt;&lt;badges&gt;&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;\n      &lt;$set name=\&quot;term\&quot; value={{!!text}}&gt;\n      &lt;$set name=\&quot;allEdgeTypes\&quot; value=&lt;&lt;tmap \&quot;option\&quot; \&quot;selector.allEdgeTypesById\&quot;&gt;&gt;&gt;\n      &lt;ul class=\&quot;tmap-small-list\&quot;&gt;\n        &lt;$list filter=&lt;&lt;filter&gt;&gt;&gt;\n        &lt;li&gt;\n          &lt;$button class=\&quot;tc-btn-invisible tmap-link\&quot;&gt;\n            &lt;$view field=\&quot;title\&quot; /&gt;\n            &lt;$action-setfield $tiddler=&lt;&lt;output&gt;&gt; text={{!!title}} /&gt;\n          &lt;/$button&gt;\n        &lt;/li&gt;\n        &lt;/$list&gt;\n      &lt;/ul&gt;\n      &lt;/$set&gt;\n      &lt;/$set&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n\\end\n\n&lt;$list filter=\&quot;[&lt;temp&gt;!has[more]]\&quot; variable=\&quot;item\&quot;&gt;&lt;&lt;search&gt;&gt;&lt;/$list&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;div class=&lt;&lt;classes&gt;&gt;&gt;\n&lt;$importvariables\n    filter=\&quot;[[$:/plugins/felixhayashi/tiddlymap/misc/macros]]\n            [[$:/core/macros/tabs]]\&quot;&gt;\n&lt;$transclude tiddler=&lt;&lt;template&gt;&gt; mode=\&quot;block\&quot; /&gt;\n&lt;/$importvariables&gt;\n&lt;/div&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/welcome&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/welcome&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/info-button }} Welcome&quot;,
            &quot;buttons&quot;: &quot;ok&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;$list filter=\&quot;[[$:/plugins/felixhayashi/topstoryview]]\&quot;&gt;\n&lt;div class=\&quot;tmap-flash-message tmap-success\&quot;&gt;\n  TiddlyMap configured your wiki for optimal use. Please save &amp;amp;\n  restart after closing this dialog.\n&lt;/div&gt;\n&lt;/$list&gt;\n\nIt seems that you freshly installed TiddlyMap.\n\n* In case you need any help, please consult the [[online docs|http://tiddlymap.org#Documentation]] first.\n* You are welcome to create an [[issue|https://github.com/felixhayashi/TW5-TiddlyMap/issues]] at GitHub for any bug you discover.\n* Make sure to revisit the [[demo site|http://tiddlymap.org]] to see whether your version is up-to-date.\n* If you like TiddlyMap, please give it a star at [[GitHub|https://github.com/felixhayashi/TW5-TiddlyMap]] or tell your friends about it :)\n\nHave a great time.\n\n---\n\n''Please note:'' TiddlyMap is distributed under the [[BSD 2-Clause License|http://opensource.org/licenses/BSD-2-Clause]], which belongs to the same license family, as the license used by TiddlyWiki. By using this plugin you agree to the product's [[License Terms|https://github.com/felixhayashi/TW5-TiddlyMap/blob/master/LICENSE]].&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/widgetCodeGenerator&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/widgetCodeGenerator&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/permalink-button}} Widget Code Generator&quot;,
            &quot;buttons&quot;: &quot;close&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n  Use the code below to embed a view in a tiddler.\n&lt;/div&gt;\n\n&lt;pre style=\&quot;white-space: normal;\&quot;&gt;\n&amp;lt;$tmap\n\n&lt;$list filter=\&quot;[&lt;output&gt;has[var.view]]\&quot;&gt;\n  view=\&quot;&lt;$view field='var.view' /&gt;\&quot;&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;output&gt;field:var.click-to-use[true]]\&quot;&gt;\n  click-to-use=\&quot;true\&quot;&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;output&gt;has[var.editor]]\&quot;&gt;\n  editor=\&quot;&lt;$view field='var.editor' /&gt;\&quot;&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;output&gt;has[var.width]]\&quot;&gt;\n  width=\&quot;&lt;$view field='var.width' /&gt;\&quot;&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;output&gt;has[var.height]]\&quot;&gt;\n  height=\&quot;&lt;$view field='var.height' /&gt;\&quot;&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;output&gt;has[var.class]]\&quot;&gt;\n  class=\&quot;&lt;$view field='var.class' /&gt;\&quot;&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;output&gt;field:var.show-buttons[false]]\&quot;&gt;\n  show-buttons=\&quot;false\&quot;&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;output&gt;has[var.design]]\&quot;&gt;\n  design=\&quot;&lt;$view field='var.design' /&gt;\&quot;&lt;/$list&gt;&amp;gt;&amp;lt;/$tmap&amp;gt;\n&lt;/pre&gt;\n\n&lt;fieldset&gt;\n  &lt;legend&gt;Parameters&lt;/legend&gt; \n  &lt;table class=\&quot;tmap-config-table\&quot;&gt;\n      &lt;$macrocall type=\&quot;input-select\&quot;\n          $name=\&quot;tmap-row\&quot;\n          title=\&quot;View\&quot;\n          field=\&quot;var.view\&quot;\n          nochoice=\&quot; \&quot;\n          selectFilter=&lt;&lt;tmap \&quot;option\&quot; \&quot;selector.allViewsByLabel\&quot;&gt;&gt;\n          descr=\&quot;The view to bind the wiedget to\&quot; /&gt;\n      &lt;&lt;tmap-row type:\&quot;input-select\&quot;\n          title:\&quot;Editor bar\&quot;\n          field:\&quot;var.editor\&quot;\n          selectFilter:\&quot;[[|Hidden]]\n                        [[vis|Simple]]\n                        [[advanced|Advanced]]\&quot;\n          descr:\&quot;Whether the widget should act as an editor or not.\&quot;&gt;&gt;\n      &lt;&lt;tmap-row type:\&quot;input-select\&quot;\n          title:\&quot;Design\&quot;\n          field:\&quot;var.design\&quot;\n          selectFilter:\&quot;[[|Normal]]\n                        [[plain|Plain]]\&quot;\n          descr:\&quot;Usually a header is displayed and borders. Plain\n                 design will only show the mere graph.\&quot;&gt;&gt;\n      &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n          title:\&quot;Height\&quot;\n          field:\&quot;var.height\&quot;\n          descr:\&quot;Graph's height in css units. Defaults to '300px'.\&quot;&gt;&gt;\n      &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n          title:\&quot;Width\&quot;\n          field:\&quot;var.width\&quot;\n          descr:\&quot;Graph's width in css units. Defaults to '100%'.\&quot;&gt;&gt;\n      &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n          title:\&quot;Class\&quot;\n          field:\&quot;var.class\&quot;\n          descr:\&quot;A custom class to apply your own css.\&quot;&gt;&gt;\n      &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n          title:\&quot;Click to use\&quot;\n          field:\&quot;var.click-to-use\&quot;\n          default:\&quot;false\&quot;\n          descr:\&quot;A click is needed to enable the graph.\&quot;&gt;&gt;\n      &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n          title:\&quot;Show buttons\&quot;\n          field:\&quot;var.show-buttons\&quot;\n          default:\&quot;true\&quot;\n          descr:\&quot;Show or hide the graph's navigation buttons.\&quot;&gt;&gt;\n  &lt;/table&gt;\n&lt;/fieldset&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter/close&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter/close&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;$button class=\&quot;tmap-dialog-button tmap-close-button\&quot; tooltip=\&quot;Close this dialog\&quot;&gt;Close\n\n  &lt;!-- trigger dialog callback --&gt;\n  &lt;$action-setfield $tiddler=&lt;&lt;result&gt;&gt; text=\&quot;1\&quot; /&gt;\n                       \n&lt;/$button&gt;\n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter/ok&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter/ok&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;$button class=\&quot;tmap-dialog-button tmap-ok-button\&quot; tooltip=\&quot;Confirm dialog\&quot;&gt;OK\n\n  &lt;!-- trigger dialog callback --&gt;\n  &lt;$action-setfield $tiddler=&lt;&lt;result&gt;&gt; text=\&quot;1\&quot; /&gt;\n                       \n&lt;/$button&gt;\n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter/ok_cancel&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter/ok_cancel&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;$transclude tiddler=\&quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter/ok\&quot; mode=\&quot;inline\&quot; /&gt;\n&lt;$button class=\&quot;tmap-dialog-button tmap-cancel-button\&quot; tooltip=\&quot;Close dialog without saving\&quot;&gt;Cancel\n  &lt;!-- trigger dialog callback --&gt;\n  &lt;$action-setfield $tiddler=&lt;&lt;result&gt;&gt; text=\&quot;\&quot; /&gt;\n&lt;/$button&gt;\n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter/ok_suppress&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter/ok_suppress&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;$set name=\&quot;currentTiddler\&quot; value=&lt;&lt;title&gt;&gt; &gt;\n\n&lt;$checkbox field=\&quot;suppress\&quot; checked=\&quot;1\&quot; unchecked=\&quot;0\&quot; default=\&quot;0\&quot;&gt; Do not show this dialog again&lt;/$checkbox&gt;\n&lt;$button class=\&quot;tmap-dialog-button tmap-ok-button\&quot; tooltip=\&quot;Confirm this dialog\&quot;&gt;OK\n\n  &lt;!-- trigger dialog callback --&gt;\n  &lt;$action-setfield $tiddler=&lt;&lt;result&gt;&gt; text=\&quot;1\&quot; /&gt;\n  \n  &lt;!-- suppress dialog in the future --&gt;\n  &lt;$action-sendmessage $message=\&quot;tmap:tm-suppress-dialog\&quot;\n                       dialog=&lt;&lt;templateId&gt;&gt;\n                       suppress={{!!suppress}} /&gt;\n                       \n&lt;/$button&gt;\n\n&lt;/$set&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define footer() $:/plugins/felixhayashi/tiddlymap/dialogFooter/$(buttons)$\n\n&lt;$transclude tiddler=&lt;&lt;footer&gt;&gt; /&gt;\n\n&lt;!-- we need this button to be able to close a tiddler from outside programmatically --&gt;\n&lt;$button class=\&quot;tmap-hidden-close-button\&quot; message=\&quot;tm-close-tiddler\&quot; /&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter/element_type_manager&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter/element_type_manager&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;$button\n    class=\&quot;tmap-dialog-button tmap-save-button\&quot;\n    tooltip=\&quot;Save the current changes\&quot;&gt;Save\n  &lt;$action-sendmessage\n      $message=\&quot;tmap:tm-save-type-form\&quot;\n      mode=&lt;&lt;mode&gt;&gt;\n      output=&lt;&lt;output&gt;&gt; /&gt;\n&lt;/$button&gt;\n&lt;$button\n    class=\&quot;tmap-dialog-button tmap-cancel-button\&quot;\n    tooltip=\&quot;Cancel the most resent changes and exit\&quot;&gt;Quit\n  &lt;$action-setfield $tiddler=&lt;&lt;result&gt;&gt; text=\&quot;1\&quot; /&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/deleteType&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/deleteType&quot;,
            &quot;caption&quot;: &quot;Removal&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define manage-edge-types()\n  &lt;$macrocall $name=\&quot;tmap-row\&quot;\n      type=\&quot;input-checkbox\&quot;\n      title=\&quot;Delete type\&quot;\n      field=\&quot;temp.deleteType\&quot;\n      default={{!id}}\n      readonly={{!!temp.idImmutable}}\n      descr=\&quot;If you want to delete this type, set this to true\n             and click the save button afterwards. Predefined system\n             types cannot be deleted.\&quot; note=\&quot;Consequently, all edges\n             of this type will be deleted.\&quot; /&gt;\n\\end\n\n\\define manage-node-types()\n  &lt;$macrocall $name=\&quot;tmap-row\&quot;\n      type=\&quot;input-checkbox\&quot;\n      title=\&quot;Delete type\&quot;\n      field=\&quot;temp.deleteType\&quot;\n      default={{!id}}\n      readonly={{!!temp.idImmutable}}\n      descr=\&quot;If you want to delete this type, set this to true and\n             click the save button afterwards. Predefined system\n             types cannot be deleted.\&quot; /&gt;\n\\end\n\n&lt;table class=\&quot;tmap-config-table\&quot;&gt;&lt;$macrocall $name=&lt;&lt;mode&gt;&gt; /&gt;&lt;/table&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/description&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/description&quot;,
            &quot;caption&quot;: &quot;Description&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define manage-edge-types()\n  &lt;&lt;tmap-row type:\&quot;input-textarea\&quot;\n      title:\&quot;Description\&quot;\n      field:\&quot;description\&quot;\n      descr:\&quot;An optional description for this type. The\n             description will be displayed as tooltip when\n             moving the mouse over an edge of this type.\&quot;&gt;&gt;\n\\end\n\n\\define manage-node-types()\n  &lt;&lt;tmap-row type:\&quot;input-textarea\&quot;\n      title:\&quot;Description\&quot;\n      field:\&quot;description\&quot; \n      descr:\&quot;An optional description for this type.\&quot;&gt;&gt;\n\\end\n\n&lt;table class=\&quot;tmap-config-table\&quot;&gt;\n  &lt;$macrocall $name=&lt;&lt;mode&gt;&gt; /&gt;\n&lt;/table&gt;\n\n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/generalSettings&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/generalSettings&quot;,
            &quot;caption&quot;: &quot;General&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define manage-edge-types()\n  &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n      title:\&quot;Label\&quot;\n      field:\&quot;label\&quot; \n      descr:\&quot;An optional alias used as edge-label.\&quot;&gt;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n      title:\&quot;Show label\&quot;\n      field:\&quot;show-label\&quot;\n      default:\&quot;true\&quot;\n      descr:\&quot;If unchecked, no edge label will be displayed.\&quot;&gt;&gt;\n\\end\n\\define manage-node-types()\n  &lt;$list filter=\&quot;[&lt;currentTiddler&gt;!field:id[tmap:neighbour]]\&quot;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-textarea\&quot;\n      title:\&quot;Scope\&quot;\n      field:\&quot;scope\&quot; \n      descr:\&quot;A filter expression that defines, which nodes inherit\n             this node-type and its style.\&quot;&gt;&gt;\n  &lt;/$list&gt;\n  &lt;$macrocall type=\&quot;input-select\&quot;\n      $name=\&quot;tmap-row\&quot; \n      title=\&quot;Priority\&quot;\n      field=\&quot;priority\&quot;\n      selectFilter=&lt;&lt;tmap \&quot;scale\&quot; \&quot;100\&quot;&gt;&gt;\n      descr=\&quot;When a type has a a higher priority than another type,\n             its style will override the other style\&quot; /&gt;\n\\end\n\n&lt;table class=\&quot;tmap-config-table\&quot;&gt;\n  &lt;$macrocall\n    $name=\&quot;tmap-row\&quot;\n    title=\&quot;Identifier\&quot;\n    field=\&quot;temp.newId\&quot;\n    type=\&quot;input-text\&quot;\n    default={{!!id}}\n    readonly={{!!temp.idImmutable}}\n    descr=\&quot;A unique identifier\&quot;\n  /&gt;\n  &lt;$macrocall $name=&lt;&lt;mode&gt;&gt; /&gt;\n&lt;/table&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/overview&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/overview&quot;,
            &quot;caption&quot;: &quot;Overview&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define date(f) &lt;$view field=$f$ format=\&quot;date\&quot; template=\&quot;DDth mmm hh:mm:ss\&quot;/&gt;\n\n! &lt;$link to={{!!typeTRef}}&gt;&lt;$view field=\&quot;id\&quot; /&gt;&lt;/$link&gt;\n\n&lt;table class=\&quot;tmap-key-value-table\&quot;&gt;\n  &lt;tr&gt;\n    &lt;th align=\&quot;left\&quot;&gt;Created on&lt;/th&gt;\n    &lt;td&gt;\n      &lt;&lt;date \&quot;created\&quot;&gt;&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;th align=\&quot;left\&quot;&gt;Modified on&lt;/th&gt;\n    &lt;td&gt;&lt;&lt;date \&quot;modified\&quot;&gt;&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;th align=\&quot;left\&quot;&gt;Usage count&lt;/th&gt;\n    &lt;td&gt;\n      &lt;span class=\&quot;tmap-edge-type-specific\&quot;&gt;\n        &lt;$view field=\&quot;temp.usageCount\&quot; /&gt;\n      &lt;/span&gt;\n      &lt;span class=\&quot;tmap-node-type-specific\&quot;&gt;\n        &lt;$count filter={{!!scope}}&gt;0&lt;/$count&gt;\n      &lt;/span&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n\n&lt;$view field=\&quot;description\&quot;&gt;//No description available//&lt;/$view&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/styling&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/styling&quot;,
            &quot;caption&quot;: &quot;Styling&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define url()\n  &lt;$set\n      filter=\&quot;[&lt;mode&gt;prefix[manage-edge-types]]\&quot;\n      name=\&quot;module\&quot;\n      value=\&quot;edges\&quot;\n      emptyValue=\&quot;nodes\&quot;&gt;\n    [[visjs.org|http://visjs.org/docs/network/$(module)$]]\n  &lt;/$set&gt;\n\\end\n\n&lt;fieldset class=\&quot;tmap-node-type-specific\&quot;&gt;\n  &lt;legend&gt;Icon Settings&lt;/legend&gt;\n  &lt;table class=\&quot;tmap-config-table\&quot;&gt;\n    &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n        title:\&quot;TW-icon\&quot;\n        field:\&quot;tw-icon\&quot;\n        descr:\&quot;A tiddlywiki image reference.\n               For example '$:/core/icon' for Movotun Jack.\&quot;&gt;&gt;\n    &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n        title:\&quot;FA-icon\&quot;\n        field:\&quot;fa-icon\&quot;\n        descr:\&quot;A Font Awesome icon code.\n               For example 'f206' for the bicycle symbol.\&quot;&gt;&gt;\n  &lt;/table&gt;\n&lt;/fieldset&gt;\n\n&lt;fieldset&gt;&lt;legend&gt;Visjs styles&lt;/legend&gt;\n  &lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n     All visjs options below are documented at &lt;&lt;url&gt;&gt;.\n  &lt;/div&gt;\n  &lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n     Only config items that you actually changed have an effect on\n     the graph. Other options are visible, yet, inactive.\n  &lt;/div&gt;\n  &lt;$tmap-config\n      mode=&lt;&lt;mode&gt;&gt;\n      inherited=\&quot;vis-inherited\&quot;\n      extension=\&quot;style\&quot; /&gt;\n&lt;/fieldset&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/tag-button}} &lt;&lt;topic&gt;&gt;&quot;,
            &quot;buttons&quot;: &quot;element_type_manager&quot;,
            &quot;classes&quot;: &quot;tmap-remove-top-space&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define defaultTab() \n$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/overview\n\\end\n\n\\define settingsTab()\n$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/generalSettings\n\\end\n\n\\define tabsFilter()\n[all[shadows]prefix[$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/]]\n\\end\n\n\\define searchFilter()\n$(searchSelector)$\n+[sort[title]nsort[priority]]\n+[removeprefix&lt;typeRootPath&gt;removeprefix[/]]\n+[search:title{$:/temp/tmap/MapElementTypeSearch}]\n\\end\n\n\\define managerClass() tmap-$(mode)$\n\n\\define typePath() $(typeRootPath)$/$(id)$\n\n&lt;div id=\&quot;tmap-element-type-manager\&quot; class=&lt;&lt;managerClass&gt;&gt;&gt;\n  &lt;div&gt;\n    &lt;div class=\&quot;tmap-searchbar\&quot;&gt;\n      &lt;$edit-text\n          focus=\&quot;true\&quot;\n          tiddler=\&quot;$:/temp/tmap/MapElementTypeSearch\&quot;\n          type=\&quot;text\&quot;\n          tag=\&quot;input\&quot;\n          default=\&quot;\&quot; /&gt;\n      &lt;$list filter=\&quot;[{$:/temp/tmap/MapElementTypeSearch}regexp[.+]]\n                     +[addprefix[/]]\n                     +[addprefix&lt;typeRootPath&gt;]\n                     +[!is[tiddler]!is[shadow]]\&quot;&gt;\n      &lt;$button tooltip=\&quot;Create a new type of this name\&quot;&gt;\n      {{$:/core/images/new-button}}\n        &lt;$action-setfield $tiddler=\&quot;$:/temp/tmap/MapElementTypeSearch\&quot; text=\&quot;\&quot; /&gt;\n        &lt;$action-sendmessage\n            $message=\&quot;tmap:tm-create-type\&quot;\n            mode=&lt;&lt;mode&gt;&gt; id={{$:/temp/tmap/MapElementTypeSearch}}\n            output=&lt;&lt;output&gt;&gt; /&gt;\n      &lt;/$button&gt;\n      &lt;/$list&gt;\n          \n    &lt;/div&gt;\n    &lt;ul&gt;\n      &lt;$list\n          filter=&lt;&lt;searchFilter&gt;&gt;\n          emptyMessage=&lt;&lt;noTypeFound&gt;&gt;\n          variable=\&quot;id\&quot;&gt;\n      &lt;li&gt;\n        &lt;span class=\&quot;tmap-ranking tmap-node-type-specific\&quot;&gt;\n          # &lt;$view tiddler=&lt;&lt;typePath&gt;&gt; field=\&quot;priority\&quot;&gt;1&lt;/$view&gt;\n        &lt;/span&gt;\n        &lt;$button class=\&quot;tc-btn-invisible tmap-link\&quot;&gt;&lt;&lt;id&gt;&gt;\n          &lt;$action-setfield\n              $tiddler=&lt;&lt;qualify \&quot;$:/state/tabs/MapElementTypeManager\&quot;&gt;&gt;\n              text=&lt;&lt;defaultTab&gt;&gt; /&gt;\n          &lt;$action-sendmessage\n              $message=\&quot;tmap:tm-load-type-form\&quot;\n              id=&lt;&lt;id&gt;&gt;\n              mode=&lt;&lt;mode&gt;&gt;\n              output=&lt;&lt;output&gt;&gt; /&gt;\n        &lt;/$button&gt;\n      &lt;/li&gt;\n      &lt;/$list&gt;\n    &lt;/ul&gt;\n  &lt;/div&gt;\n  &lt;div&gt;\n    &lt;$reveal type=\&quot;nomatch\&quot; text=\&quot;\&quot; default={{!!id}} &gt;\n      &lt;$macrocall\n          $name=\&quot;tabs\&quot;\n          default=&lt;&lt;defaultTab&gt;&gt;\n          state=\&quot;$:/state/tabs/MapElementTypeManager\&quot;\n          tabsList=&lt;&lt;tabsFilter&gt;&gt; /&gt;\n    &lt;/$reveal&gt;\n    &lt;$reveal type=\&quot;match\&quot; text=\&quot;\&quot; default={{!!id}} &gt;\n      &lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n        Please select a type from the list or create a new one by\n        entering the type name in the search field on the left.\n      &lt;/div&gt;\n      &lt;div class=\&quot;tmap-flash-message tmap-info tmap-node-type-specific\&quot;&gt;\n        The number next to the node-type label represents it's priority.\n      &lt;/div&gt;\n    &lt;/$reveal&gt;\n  &lt;/div&gt;\n&lt;/div&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/misc/advancedEditorBar&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/misc/advancedEditorBar&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\\define showEdgeField() show-$(curEdgeId)$\n\n&lt;!-- === View Switcher ========================================== --&gt;\n\n&lt;div class=\&quot;tmap-menu-bar\&quot;&gt;\n  View:\n  &lt;$reveal type=\&quot;match\&quot; text=\&quot;false\&quot; default=&lt;&lt;isViewBound&gt;&gt; &gt;\n    &lt;$select\n        tiddler=&lt;&lt;viewHolder&gt;&gt;\n        field=\&quot;text\&quot;\n        default=&lt;&lt;viewLabel&gt;&gt; &gt;\n      &lt;$list filter=&lt;&lt;tmap \&quot;option\&quot; \&quot;selector.allViewsByLabel\&quot;&gt;&gt; &gt;\n        &lt;option value={{!!title}}&gt;\n          &lt;$view tiddler={{!!title}} field=\&quot;title\&quot; /&gt;\n        &lt;/option&gt;\n      &lt;/$list&gt;\n    &lt;/$select&gt;\n  &lt;/$reveal&gt;\n  &lt;$reveal type=\&quot;match\&quot; text=\&quot;true\&quot; default=&lt;&lt;isViewBound&gt;&gt; &gt;\n    &lt;b&gt;&lt;&lt;viewLabel&gt;&gt;&lt;/b&gt;\n  &lt;/$reveal&gt;\n\n&lt;!-- === Menu =================================================== --&gt;\n\n  &lt;$button\n      popup=&lt;&lt;qualify \&quot;$:/temp/menu\&quot;&gt;&gt;\n      tooltip=\&quot;Open the Menu\&quot;&gt;{{$:/core/images/menu-button}}\n  &lt;/$button&gt;\n  \n  &lt;$reveal type=\&quot;popup\&quot; position=\&quot;below\&quot; state=&lt;&lt;qualify \&quot;$:/temp/menu\&quot;&gt;&gt; &gt;\n    &lt;div class=\&quot;tc-drop-down\&quot;&gt;\n      &lt;a href=\&quot;http://tiddlymap.org#Documentation\&quot; target=\&quot;_blank\&quot;&gt;\n        {{$:/core/images/info-button}} Open online help\n      &lt;/a&gt;\n      &lt;$button class=\&quot;tc-btn-invisible\&quot; message=\&quot;tmap:tm-create-view\&quot;&gt;\n        {{$:/core/images/new-button}} Create new view\n      &lt;/$button&gt;\n      &lt;$button class=\&quot;tc-btn-invisible\&quot; message=\&quot;tmap:tm-generate-widget\&quot;&gt;\n        {{$:/core/images/permalink-button}} Grab widget code\n      &lt;/$button&gt;\n      &lt;div class=\&quot;tmap-list-separator\&quot;&gt;Global configurations:&lt;/div&gt;\n      &lt;$button class=\&quot;tc-btn-invisible\&quot; message=\&quot;tmap:tm-configure-system\&quot;&gt;\n        {{$:/core/images/options-button}} Configure TiddlyMap\n      &lt;/$button&gt;\n      &lt;$button class=\&quot;tc-btn-invisible\&quot; message=\&quot;tmap:tm-manage-edge-types\&quot;&gt;\n        &lt;span class=\&quot;tmap-unicode-icon\&quot;&gt;◭&lt;/span&gt; Manage edge-types\n      &lt;/$button&gt;\n      &lt;$button class=\&quot;tc-btn-invisible\&quot; message=\&quot;tmap:tm-manage-node-types\&quot;&gt;\n        &lt;span class=\&quot;tmap-unicode-icon\&quot;&gt;▢&lt;/span&gt; Manage node-types\n      &lt;/$button&gt;\n      &lt;div class=\&quot;tmap-view-actions\&quot;&gt;\n        &lt;div class=\&quot;tmap-list-separator\&quot;&gt;Actions for this view:&lt;/div&gt;\n        &lt;$button class=\&quot;tc-btn-invisible\&quot; message=\&quot;tmap:tm-edit-view\&quot;&gt;\n          {{$:/core/images/options-button}} Configure view\n        &lt;/$button&gt;\n        &lt;$button class=\&quot;tc-btn-invisible\&quot; message=\&quot;tmap:tm-store-position\&quot;&gt;\n          {{$:/core/images/globe}} Save positions\n        &lt;/$button&gt;\n        &lt;$button class=\&quot;tc-btn-invisible\&quot; message=\&quot;tmap:tm-rename-view\&quot;&gt;\n          {{$:/core/images/tag-button}} Rename view\n        &lt;/$button&gt;\n        &lt;$button class=\&quot;tc-btn-invisible\&quot; message=\&quot;tmap:tm-delete-view\&quot;&gt;\n          {{$:/core/images/delete-button}} Delete view\n        &lt;/$button&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/$reveal&gt;\n  \n&lt;!-- === Neighbourhood menu ===================================== --&gt;\n\n  &lt;$reveal\n      type=\&quot;match\&quot;\n      text=\&quot;true\&quot;\n      default=&lt;&lt;tmap \&quot;option\&quot;\n                     \&quot;config.sys.editorMenuBar.showNeighScopeButton\&quot;&gt;&gt;&gt;\n    &lt;$button\n        class=&lt;&lt;neighScopeBtnClass&gt;&gt;\n        tooltip=\&quot;Change the neighbourhood scope\&quot;\n        popup=&lt;&lt;qualify \&quot;$:/temp/neighScope\&quot;&gt;&gt;&gt;☀\n    &lt;/$button&gt;\n  &lt;/$reveal&gt;\n  \n  &lt;$reveal type=\&quot;popup\&quot; position=\&quot;below\&quot; state=&lt;&lt;qualify \&quot;$:/temp/neighScope\&quot;&gt;&gt; &gt;\n    &lt;div class=\&quot;tc-drop-down\&quot;&gt;\n      &lt;div class=\&quot;tmap-list-separator\&quot;&gt;Neighbourhood scope&lt;/div&gt;\n      &lt;$button class=\&quot;tc-btn-invisible\&quot;&gt;None\n        &lt;$action-setfield\n            $tiddler=&lt;&lt;viewRoot&gt;&gt;\n            config.neighbourhood_scope=\&quot;\&quot; /&gt;\n      &lt;/$button&gt;\n      &lt;$list filter=\&quot;[[1|1 step distance]]\n                     [[2|2 step distance]]\n                     [[3|3 step distance]]\n                     [[4|4 step distance]]\n                     [[5|5 step distance]]\&quot;&gt;\n        &lt;$button class=\&quot;tc-btn-invisible\&quot;&gt;\n          &lt;&lt;tmap \&quot;splitAndSelect\&quot; \&quot;|\&quot; \&quot;1\&quot;&gt;&gt;\n          &lt;$action-setfield\n              $tiddler=&lt;&lt;viewRoot&gt;&gt;\n              config.neighbourhood_scope=&lt;&lt;tmap \&quot;splitAndSelect\&quot; \&quot;|\&quot; \&quot;0\&quot;&gt;&gt; /&gt;\n        &lt;/$button&gt;\n      &lt;/$list&gt;\n      &lt;$button class=\&quot;tc-btn-invisible\&quot;&gt;No limit\n        &lt;$action-setfield\n            $tiddler=&lt;&lt;viewRoot&gt;&gt;\n            config.neighbourhood_scope=\&quot;100\&quot; /&gt;\n      &lt;/$button&gt;\n      &lt;div class=\&quot;tmap-list-separator\&quot;&gt;Neighbourhood traversal&lt;/div&gt;\n      &lt;$radio field=\&quot;config.neighbourhood_directions\&quot; value=\&quot;in\&quot;&gt; Incoming&lt;/$radio&gt;&lt;br /&gt;\n      &lt;$radio field=\&quot;config.neighbourhood_directions\&quot; value=\&quot;out\&quot;&gt; Outgoing&lt;/$radio&gt;&lt;br /&gt;\n      &lt;$radio field=\&quot;config.neighbourhood_directions\&quot; value=\&quot;\&quot;&gt; Both&lt;/$radio&gt;\n      &lt;div class=\&quot;tmap-list-separator\&quot;&gt;Other&lt;/div&gt;\n      &lt;$checkbox field=\&quot;config.show_inter_neighbour_edges\&quot;\n          checked=\&quot;true\&quot; unchecked=\&quot;false\&quot;&gt; Inter-neighbour edges&lt;/$checkbox&gt;\n      \n    &lt;/div&gt;\n  &lt;/$reveal&gt;\n  \n&lt;!-- === Export menu ============================================ --&gt;\n  \n  &lt;$reveal\n      type=\&quot;match\&quot;\n      text=\&quot;true\&quot;\n      default=&lt;&lt;tmap \&quot;option\&quot;\n                     \&quot;config.sys.editorMenuBar.showScreenshotButton\&quot;&gt;&gt;&gt;\n    &lt;$button\n        tooltip=\&quot;Open the map-export menu\&quot;\n        popup=&lt;&lt;qualify \&quot;$:/temp/mapExport\&quot;&gt;&gt;&gt;\n      {{$:/core/images/download-button}}\n    &lt;/$button&gt;\n  &lt;/$reveal&gt;\n  \n  &lt;$reveal\n      type=\&quot;popup\&quot;\n      position=\&quot;below\&quot;\n      state=&lt;&lt;qualify \&quot;$:/temp/mapExport\&quot;&gt;&gt;&gt;\n    &lt;div class=\&quot;tc-drop-down\&quot;&gt;\n    &lt;$button\n        class=\&quot;tc-btn-invisible\&quot;\n        tooltip=\&quot;Export the graph and all its elements\n                 in form of a JSON file\&quot;&gt;\n        {{$:/core/images/permalink-button}} Save as JSON file\n      &lt;$action-sendmessage\n          $message=\&quot;tmap:tm-download-graph\&quot;\n          view=&lt;&lt;viewLabel&gt;&gt; /&gt;\n    &lt;/$button&gt;\n    &lt;$button\n        class=\&quot;tc-btn-invisible\&quot;\n        tooltip=\&quot;Create a png image to download or save it\n                 as image or view-placeholder in your wiki\&quot;&gt;\n        {{$:/core/images/palette}} Save as png image\n      &lt;$action-sendmessage $message=\&quot;tmap:tm-save-canvas\&quot; /&gt;\n    &lt;/$button&gt;\n    &lt;/div&gt;\n  &lt;/$reveal&gt;\n    \n&lt;/div&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/misc/focusButton&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/misc/focusButton&quot;,
            &quot;text&quot;: &quot;\\define filter() [list[$:/temp/tmap/nodes/$(viewLabel)$]search:title{$:/temp/tmap/bar/search}]\n\\define concat(str) $str$\n\n\\define state() $(widgetPopupsPath)$/focus\n\n&lt;div class=\&quot;tmap-focus-button\&quot;&gt;\n  &lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;state&gt;&gt; text=\&quot;\&quot;&gt;\n    &lt;$button\n        tooltip=\&quot;Zoom on a specific node\&quot;\n        class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;{{$:/core/images/advanced-search-button}}\n     &lt;$action-setfield $tiddler=\&quot;$:/temp/tmap/bar/search\&quot; text=\&quot;\&quot; /&gt;\n     &lt;$action-setfield $tiddler=&lt;&lt;state&gt;&gt; text=\&quot;1\&quot; /&gt;\n    &lt;/$button&gt;\n  &lt;/$reveal&gt;\n  &lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;state&gt;&gt; text=\&quot;\&quot;&gt;\n    &lt;$button\n        tooltip=\&quot;Close zoom popup\&quot;\n        class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;{{$:/core/images/advanced-search-button}}\n     &lt;$action-setfield $tiddler=&lt;&lt;state&gt;&gt; text=\&quot;\&quot; /&gt;\n    &lt;/$button&gt;\n    &lt;div class=\&quot;tmap-search-dropdown\&quot;&gt;\n      &lt;div class=\&quot;tc-drop-down\&quot;&gt;\n        &lt;$edit-text\n            focus=\&quot;true\&quot;\n            tiddler=\&quot;$:/temp/tmap/bar/search\&quot;\n            field=\&quot;text\&quot;\n            type=\&quot;text\&quot;\n            tag=\&quot;input\&quot;\n            default=\&quot;\&quot; /&gt;\n        &lt;small&gt;&lt;$count filter=&lt;&lt;filter&gt;&gt; /&gt; results&lt;/small&gt;\n        &lt;hr /&gt;\n        &lt;div class=\&quot;tmap-very-small-list\&quot;&gt;\n          &lt;$list filter=&lt;&lt;filter&gt;&gt;\n              variable=\&quot;item\&quot;\n              emptyMessage=\&quot;//No results//\&quot;&gt;\n            &lt;$button\n                class=\&quot;tc-btn-invisible\&quot;\n                message=\&quot;tmap:tm-focus-node\&quot;\n                param=&lt;&lt;item&gt;&gt;&gt;\n              &lt;$view tiddler=&lt;&lt;item&gt;&gt; field=\&quot;title\&quot; /&gt;\n            &lt;/$button&gt;\n          &lt;/$list&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/$reveal&gt;\n&lt;/div&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/hook/editor&quot;: {
            &quot;caption&quot;: &quot;Map&quot;,
            &quot;tags&quot;: &quot;$:/tags/SideBar&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/hook/editor&quot;,
            &quot;text&quot;: &quot;\\define width() calc(100% - 15px)\n\n&lt;div class=\&quot;tmap-mobile-editor\&quot;&gt;\n  &lt;div class=\&quot;tmap-flash-message tmap-warning\&quot;&gt;\n    The editor is not displayed in mobile mode.\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\&quot;tmap-desktop-editor\&quot;&gt;\n  &lt;$tiddlymap\n    class=\&quot;tmap-sidebar-map-editor\&quot;\n    editor=\&quot;advanced\&quot;\n    object-id=\&quot;main_editor\&quot;\n    click-to-use=\&quot;false\&quot;&gt;\n  &lt;/$tiddlymap&gt;\n&lt;/div&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/hook/liveTab&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/hook/liveTab&quot;,
            &quot;caption&quot;: &quot;Live&quot;,
            &quot;text&quot;: &quot;\\define width() calc(100% - 15px)\n\n&lt;div class=\&quot;tmap-mobile-editor\&quot;&gt;\n  &lt;div class=\&quot;tmap-flash-message tmap-warning\&quot;&gt;\n    The live tab is not displayed in mobile mode.\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\&quot;tmap-desktop-editor\&quot;&gt;\n  &lt;$set name=\&quot;view\&quot;\n      filter=\&quot;[{$:/temp/tmap/currentTiddler}get[tmap.open-view]]\&quot;\n      emptyValue=&lt;&lt;tmap \&quot;option\&quot; \&quot;config.sys.liveTab.fallbackView\&quot;&gt;&gt;&gt;\n  &lt;div&gt;\n    &lt;$tiddlymap\n        view=&lt;&lt;view&gt;&gt;\n        click-to-use=\&quot;false\&quot;\n        refresh-triggers=\&quot;$:/temp/tmap/currentTiddler\&quot;\n        object-id=\&quot;live_tab\&quot;&gt;\n    &lt;/$tiddlymap&gt;\n  &lt;/div&gt;\n  &lt;/$set&gt; \n&lt;/div&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/misc/quickConnectButton&quot;: {
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/misc/quickConnectButton&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/TiddlyMap/Hint}}&quot;,
            &quot;caption&quot;: &quot;{{$:/plugins/felixhayashi/tiddlymap/icon}} {{$:/language/Buttons/TiddlyMap/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define buttonClass() $(tv-config-toolbar-class)$ $(additional-classes)$\n\n\\define nonExistentItem()\n&lt;&lt;item&gt;&gt; &lt;span style=\&quot;color: #9E9E9E\&quot;&gt;(will be created)&lt;/span&gt;\n\\end\n\n\\define noConnectionsMsg()\n&lt;tr&gt;&lt;td colspan=\&quot;4\&quot;&gt;//No connections found!//&lt;/td&gt;&lt;/tr&gt;\n\\end\n\n\\define normalSearchFilter()\n[!is[system]!has[draft.of]search:title{$:/temp/quickConnectSearch}sortcs[title]limit[50]]\n\\end\n\n\\define regexSearchFilter()\n[!is[system]!has[draft.of]regexp{$:/temp/quickConnectSearch}sortcs[title]limit[50]]\n\\end\n\n\\define showButton(state)\n&lt;$button set=\&quot;$:/temp/tmap/state/popup/quickConnect\&quot;\n         setTo=\&quot;$state$\&quot; tooltip={{$:/language/Buttons/TiddlyMap/Hint}} \n         aria-label={{$:/language/Buttons/TiddlyMap/Caption}}\n         class=&lt;&lt;buttonClass&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;{{$:/plugins/felixhayashi/tiddlymap/icon}}&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/TiddlyMap/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n\\end\n\n\\define searchResults()\n&lt;td&gt;\n  &lt;$button tooltip=\&quot;Create incoming edge\&quot;&gt;\n    &lt;&lt;tmap \&quot;option\&quot; \&quot;misc.arrows.in\&quot;&gt;&gt;\n    &lt;$action-sendmessage $message=\&quot;tmap:tm-create-edge\&quot;\n                         from=&lt;&lt;item&gt;&gt;\n                         to=&lt;&lt;currentTiddler&gt;&gt;\n                         force=\&quot;true\&quot;\n                         label={{$:/temp/quickConnectSearch/type}}\n                         view={{$:/temp/quickConnectSearch/view}} /&gt;\n  &lt;/$button&gt;\n&lt;/td&gt;\n&lt;td&gt;\n  &lt;$button tooltip=\&quot;Create outgoing edge\&quot;&gt;\n    &lt;&lt;tmap \&quot;option\&quot; \&quot;misc.arrows.out\&quot;&gt;&gt;\n    &lt;$action-sendmessage $message=\&quot;tmap:tm-create-edge\&quot;\n                         from=&lt;&lt;currentTiddler&gt;&gt;\n                         to=&lt;&lt;item&gt;&gt;\n                         force=\&quot;true\&quot;\n                         label={{$:/temp/quickConnectSearch/type}}\n                         view={{$:/temp/quickConnectSearch/view}} /&gt;\n  &lt;/$button&gt;\n&lt;/td&gt;\n&lt;td&gt;\n  &lt;$list\n      filter=\&quot;[&lt;item&gt;is[tiddler]]\&quot;\n      emptyMessage=&lt;&lt;nonExistentItem&gt;&gt;&gt;\n    &lt;$view tiddler=&lt;&lt;item&gt;&gt; field=\&quot;title\&quot; /&gt;\n  &lt;/$list&gt;\n&lt;/td&gt;\n\\end\n\n\\define hidePopup()\n&lt;$macrocall $name=\&quot;showButton\&quot; state=&lt;&lt;qualify&gt;&gt; /&gt;\n\\end\n\n\\define showPopup()\n&lt;$set name=\&quot;additional-classes\&quot; value=\&quot;tmap-active-button\&quot;&gt;\n  &lt;$macrocall $name=\&quot;showButton\&quot; state=\&quot;\&quot; /&gt;\n&lt;/$set&gt;\n&lt;$set\n    name=\&quot;searchFilter\&quot;\n    filter=\&quot;[field:title[$:/state/tmap/tid-toolbar]has[re-filter]]\&quot;\n    value=&lt;&lt;regexSearchFilter&gt;&gt;\n    emptyValue=&lt;&lt;normalSearchFilter&gt;&gt;&gt;\n&lt;div class=\&quot;tmap-quick-connect tc-reveal tc-popup\&quot;&gt;\n  &lt;div class=\&quot;tc-drop-down\&quot;&gt;\n    &lt;div class=\&quot;title\&quot;&gt;Create connection&lt;/div&gt;\n    &lt;table class=\&quot;tmap-quick-connect-search-bar\&quot;&gt;\n      &lt;tr&gt;\n        &lt;td&gt;Type:&lt;/td&gt;\n        &lt;td&gt;\n          &lt;$edit-text\n              tiddler=\&quot;$:/temp/quickConnectSearch/type\&quot;\n              field=\&quot;text\&quot;\n              type=\&quot;text\&quot;\n              tag=\&quot;input\&quot;\n              default=\&quot;\&quot; /&gt;\n          &lt;$select tiddler=\&quot;$:/temp/quickConnectSearch/type\&quot; default=\&quot;\&quot;&gt;\n            &lt;option&gt;&lt;/option&gt;\n            &lt;$list filter=&lt;&lt;tmap \&quot;option\&quot; \&quot;selector.allEdgeTypesById\&quot;&gt;&gt;&gt;\n              &lt;option&gt;{{!!title}}&lt;/option&gt;\n            &lt;/$list&gt;\n          &lt;/$select&gt;\n        &lt;/td&gt;\n      &lt;/tr&gt;\n      &lt;tr&gt;\n        &lt;td&gt;Search:&lt;/td&gt;\n        &lt;td&gt;\n          &lt;$edit-text tiddler=\&quot;$:/temp/quickConnectSearch\&quot; type=\&quot;text\&quot; tag=\&quot;input\&quot; default=\&quot;\&quot;&gt;&lt;/$edit-text&gt;\n          &lt;$checkbox\n              tiddler=\&quot;$:/state/tmap/tid-toolbar\&quot;\n              field=\&quot;re-filter\&quot;\n              checked=\&quot;1\&quot;\n              unchecked=\&quot;\&quot;\n              default=\&quot;\&quot;&gt; regexp\n          &lt;/$checkbox&gt;\n&lt;!--\n          &lt;small&gt;(&lt;$count filter=&lt;&lt;searchFilter&gt;&gt; /&gt; results)&lt;/small&gt;\n--&gt;\n        &lt;/td&gt;\n      &lt;/tr&gt;\n      &lt;/table&gt;\n      &lt;table class=\&quot;tmap-create-connection-table\&quot;&gt;\n      &lt;tr&gt;\n        &lt;td colspan=\&quot;2\&quot;&gt;\n          &lt;table class=\&quot;tmap-very-small-list\&quot;&gt;\n            &lt;$list\n                filter=&lt;&lt;searchFilter&gt;&gt;\n                variable=\&quot;item\&quot;&gt;\n            &lt;tr&gt;&lt;&lt;searchResults&gt;&gt;&lt;/tr&gt;\n            &lt;/$list&gt;\n            &lt;tr&gt;\n            &lt;$list filter=\&quot;[{$:/temp/quickConnectSearch}regexp[.+]] -[is[tiddler]]\&quot; variable=\&quot;item\&quot;&gt;\n              &lt;&lt;searchResults&gt;&gt;\n            &lt;/$list&gt;\n            &lt;/tr&gt;\n          &lt;/table&gt;\n        &lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/table&gt;\n    &lt;div class=\&quot;title\&quot;&gt;Existing Connections&lt;/div&gt;\n    &lt;div class=\&quot;tmap-quick-connect-existing-bar\&quot;&gt;\n      &lt;$select\n          tiddler=\&quot;$:/state/tmap/tid-toolbar\&quot;\n          field=\&quot;direction\&quot;\n          default=\&quot;both\&quot;&gt;\n          &lt;option value=\&quot;both\&quot;&gt;both&lt;/option&gt;\n          &lt;option value=\&quot;in\&quot;&gt;incoming&lt;/option&gt;\n          &lt;option value=\&quot;out\&quot;&gt;outgoing&lt;/option&gt;\n      &lt;/$select&gt;\n      &lt;$checkbox\n          tiddler=\&quot;$:/state/tmap/tid-toolbar\&quot;\n          field=\&quot;filter.links\&quot;\n          checked=\&quot;-[[tw-body:link]]\&quot;\n          unchecked=\&quot;\&quot;\n          default=\&quot;\&quot;&gt; hide links\n      &lt;/$checkbox&gt;\n    &lt;/div&gt;\n    &lt;table class=\&quot;tmap-connection-table\&quot;&gt;\n&lt;!--\n    &lt;tr&gt;\n      &lt;th&gt;&lt;/th&gt;\n      &lt;th&gt;Tiddler&lt;/th&gt;\n      &lt;th&gt;Type&lt;/th&gt;\n      &lt;th&gt;&lt;/th&gt;\n    &lt;/tr&gt;\n--&gt;\n    \n    &lt;$tmap-connections\n        filter=&lt;&lt;tmap mergeFields \&quot;$:/state/tmap/tid-toolbar\&quot; \&quot;filter.\&quot;&gt;&gt;\n        direction={{$:/state/tmap/tid-toolbar!!direction}}\n        emptyMessage=&lt;&lt;noConnectionsMsg&gt;&gt;&gt;\n      &lt;tr&gt;\n        &lt;td title=&lt;&lt;direction&gt;&gt;&gt;&lt;&lt;directionSymbol&gt;&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;$link to=&lt;&lt;neighbour&gt;&gt;&gt;&lt;$view field=\&quot;title\&quot; /&gt;&lt;/$link&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;&lt;edge.type&gt;&gt;&lt;/td&gt;\n        &lt;td&gt;\n          &lt;$button\n              tooltip=\&quot;Delete this connection\&quot;\n              class=\&quot;tc-btn-invisible\&quot;&gt;{{$:/core/images/close-button}}\n            &lt;$action-sendmessage $message=\&quot;tmap:tm-remove-edge\&quot;\n                id=&lt;&lt;edge.id&gt;&gt;\n                from=&lt;&lt;edge.from&gt;&gt;\n                to=&lt;&lt;edge.to&gt;&gt;\n                type=&lt;&lt;edge.type&gt;&gt; /&gt;\n          &lt;/$button&gt;\n        &lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/$tmap-connections&gt;\n    &lt;/table&gt;   \n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;/$set&gt;\n\\end\n\n&lt;$list filter=\&quot;[all[current]is[tiddler]]\&quot;&gt;&lt;$list filter=\&quot;[{$:/temp/tmap/state/popup/quickConnect}prefix&lt;qualify&gt;]\&quot; variable=\&quot;item\&quot; emptyMessage=&lt;&lt;hidePopup&gt;&gt;&gt;&lt;&lt;showPopup&gt;&gt;&lt;/$list&gt;&lt;/$list&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/media/fullscreen.png&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/media/fullscreen.png&quot;,
            &quot;type&quot;: &quot;image/png&quot;,
            &quot;text&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQffARwOKQxPfTsHAAAEcUlEQVRIx72XX0xTZxjGn+c9JcYQ50qM5RjKkOOG1NQEQiMV1tkLIbLsypCahsTojIkX6kgBr7aG7Wo6ou7STHbnjdGb/Ymb2ABODdiIxKR/IdoeR1PIKJAZdZntLnZq0CEWtHtuzjk57/l+3/e9J8/7fkQB8vv9DIfDHyqK8nEul2sSkS0AzABAMkNyAsBNAD9qmna9t7c397oxudzLXbt2icVi+YxkH0mQ/4YvdRWRxZ/6EonEmcHBweyKwR6P5wCAfhEBSWzatClls9mS27ZtS1dVVc1v3LgxAwDT09PmBw8erI9Go5ZIJFKZSqVUEUE2mwXJg/39/d8XDN63b9+XAD4nie3bt0dbWlpC9fX1eiFpGR8ftwYCAVsoFKoxdumrc+fOffFynLIE9AyAHpLYvXv3yNGjR4dUVV1AgSovL19wOp2Tjx49QiKRqCD5kcPhMAeDwSuvBHs8nq9FxEcSXq93wOPx3MUqZbfbf1+zZs2f0Wi0mmSjw+EoDQaDV/8D9ng8B0ieFBHs37//17a2tjDeUJqmzZSWls6HQiFNUZQmh8ORvH379t3nOW5vb1dMJtPfJLFnz56bHR0dQQDwer3HlhrwwoUL3y5+fl3cpUuXGoaHh3cCQCqVMl28ePGZAICiKMdJwm63R/PQt6m9e/cGbTZbhCRUVT0OACa/3894PN4HAK2traFCVriaHXC5XKFYLLYVQJ/f7z8tsVjMBQBWqzVVV1eno0iqra19qKpqSkSwsLDgEpJtJFFbW5tEkaVpWlJEUFJS0iYkdxrgdLHB1dXVacNenSaS75NEVVXV/EpzW2jO87JarfOGp39gImkWEeS9t5gqKyvLGGCzKV8E/i/lq5jkcrkMSUxPT5uLDZ2dnTWLCEQkIyISFxEkk8n1Lwd6vd5jr3Kl5fSq76amptYbFSsmInKLJOLxuKXYK9Z13WKAbwnJnwAgGo1WFhucTCYrFUUBgJ+loqJimCTS6bR67969imJBJyYmKmZnZ1URgcvlum7q7e3NHT582Aegb3Bw0Ga32x8ulbPVVKfFunPnjk1EkMvlfG63OysAkMlkzhrbvfXy5csNb3u1gUCg4f79+1sB4MmTJ2df6LmOHDlyUETOK4qC9vb2X5qbm6NvAzo2NlYzMDDQShLZbPbQiRMnzr/QgQSDwbEdO3aUkmyKRCJb1q1bN1dZWfnHm0IDgUCr8Sef6unpOblkzzU6Onq1sbHRTLIxEolsefr06bOampqp1UCHhoYabty44Tbyerarq8u3bJc5MjJyxel0liqK0qTrulXX9XfXrl3714YNGwrqNCcnJ63Xrl1zhsPhOsMeT/l8Pl/BDX13d/enAL4zLA4WiyWlaVpi8+bNaVVVF8rKyjJ5G5yZmXknkUhYdF1/b25uTs2fOkge6uzsPL/iI4zf75fHjx93KoryjclkgtGfgSQMI0B+YovvSXbV19efdrvdKz/CvDyBbDbbTPITkjtFRBOR54ZPclJEbgL4weFw/LYcMK9/AFcdm7xTEIntAAAAAElFTkSuQmCC&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/media/halfscreen.png&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/media/halfscreen.png&quot;,
            &quot;type&quot;: &quot;image/png&quot;,
            &quot;text&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQffBAgRIDS2XJMlAAAEdklEQVRIx72XX2xTZRjGn+f9TiAEGHYhlMIObut0dGTAQlP2R2e9GUmNN0vYRrkgICEhIeDSdXeaE70SJIKXZNM7bkjmhX+CMgZVM3BpGIHM9nQOtlO0ac3oSiRkxlEvPF0AYXaw+lydnO/L+X3v95687/MSRcgwDMZisdeVUm/l8/kWkjUAHCRBMgvgF5LDAL5yu90/GIaR/69vcqFFv98vTqfzXRE5CQDkP9tF5LF9IjK/Zis0NTV16vLlyw8XDe7s7NxP8jM7KmzcuDHl8XisLVu2pCsrK3Pr1q3LAkAmk3FMTk6uMU3TaZrmplQq5SKJfD4Pkgf6+/s/Lxq8Z8+eDwC8BwDbtm0z29rafm5oaEgWk5YbN27oQ0NDdWNjY7X2zXx45syZ95/cp5580dXVdYpkLwC0tbX9dOTIkYjL5bqHIuV0Ou81NjZO3L9/H5OTkxUk3/D5fI5oNHr+meCurq6PSIYAIBgMDnZ0dFzHc6q+vv7X5cuX/5FIJKpJNnq93pXRaPTCv8CdnZ37ReQ4Sezbt++7QCAQwwvK7Xb/vmrVqtzY2JhbKdXi8/mskZGR6/M53r17t9I07S+SCAQCw3v37o0uBhAMBo8+7f3Zs2c/BYCBgQFvJBJpBoBUKqWdO3duTgBA07RjJLF161ZzsdBi1N7eHq2rq4uLCDZs2HAMAGgYBhOJxEMACIfDX2zfvj35oqDCDRQiBoBYLFbR19fXDgBlZWUipmm2AoCu66mlgD5LHo/njsvlSimlkMvlWkVEAiICj8djocSqqamxSGLZsmUBIdlsnyhdanBVVVVaRCAiTRqAV0QElZWVuaUCPJrbR6Xres6u6a9qIuIgiULtLaXKy8uzSikAcGiFJvB/ab7DAciKCDKZjKPU0Lt37zrsHGeF5DhJWJa1ZqkAwWDw6NOqWSqVWmPfcEJE5ApJjI+PO0sdcTKZdNoRXxGSX5OEaZqbSg22LGuT3aO/EV3XvyeJdDrtunnzZkWpoBMTExXT09MuEUFra+sPmmEY+UOHDoVInoxEInX19fV3nrc2L6Rr167ViQjy+XzI7/c/FADIZrOnASAej28eGBjwLnW0Q0ND3tu3b28midnZ2dOPea7Dhw8fEJF+pRQ6Ojq+bWlpMZcCOjo6Wjs4OLjLNoAHe3t7+x9zINFodHTnzp0rRaQlHo/XrF69ekbX9ekXhV66dGmXbX9PhMPh40/1XCMjIxeampocJBvj8XjN7OzsXG1t7W/PA41EIt7h4eE37UhP9/T0hBZ0mVevXj3f3Ny8UinVYlmWnkwmX1qxYsWfa9euLcpp3rp1S7948WJTPB5vsMvjiVAoFCra0IfD4XdI9hWmhPXr16eqq6unqqqq0i6X6155eXnW/jEdmUymzLIsZzKZfHlmZsZVqMkkD3Z3d/cveoQxDEMePHjQLSIfa5oGkrArz/wYU3guNBu7+/Ts2LHjE7/fv/gR5skDzM3NvSYibwNoVkq5STqUUiCZJTmhlBrO5/Nf+ny+HxcCFvQ3ae6MHdgDqpkAAAAASUVORK5CYII=&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/icon&quot;: {
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/icon&quot;,
            &quot;text&quot;: &quot;&lt;svg\n   xmlns:dc=\&quot;http://purl.org/dc/elements/1.1/\&quot;\n   xmlns:cc=\&quot;http://creativecommons.org/ns#\&quot;\n   xmlns:rdf=\&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#\&quot;\n   xmlns:svg=\&quot;http://www.w3.org/2000/svg\&quot;\n   xmlns=\&quot;http://www.w3.org/2000/svg\&quot;\n   xmlns:inkscape=\&quot;http://www.inkscape.org/namespaces/inkscape\&quot;\n   class=\&quot;tc-image-tiddlymap-button tc-image-button\&quot;\n   version=\&quot;1.1\&quot;\n   width=\&quot;22pt\&quot;\n   height=\&quot;22pt\&quot;\n   viewBox=\&quot;0 0 128 128\&quot;&gt;\n  &lt;defs\n     id=\&quot;defs4\&quot;&gt;\n    &lt;marker\n       refX=\&quot;0\&quot;\n       refY=\&quot;0\&quot;\n       orient=\&quot;auto\&quot;\n       id=\&quot;Arrow1Lend\&quot;\n       style=\&quot;overflow:visible\&quot;&gt;\n      &lt;path\n         d=\&quot;M 0,0 5,-5 -12.5,0 5,5 0,0 z\&quot;\n         transform=\&quot;matrix(-0.8,0,0,-0.8,-10,0)\&quot;\n         id=\&quot;path3850\&quot;\n         style=\&quot;fill-rule:evenodd;stroke:#000000;stroke-width:1pt\&quot; /&gt;\n    &lt;/marker&gt;\n    &lt;marker\n       refX=\&quot;0\&quot;\n       refY=\&quot;0\&quot;\n       orient=\&quot;auto\&quot;\n       id=\&quot;Arrow1Lstart\&quot;\n       style=\&quot;overflow:visible\&quot;&gt;\n      &lt;path\n         d=\&quot;M 0,0 5,-5 -12.5,0 5,5 0,0 z\&quot;\n         transform=\&quot;matrix(0.8,0,0,0.8,10,0)\&quot;\n         id=\&quot;path3847\&quot;\n         style=\&quot;fill-rule:evenodd;stroke:#000000;stroke-width:1pt\&quot; /&gt;\n    &lt;/marker&gt;\n    &lt;inkscape:path-effect\n       effect=\&quot;skeletal\&quot;\n       id=\&quot;path-effect4329\&quot; /&gt;\n    &lt;inkscape:path-effect\n       effect=\&quot;skeletal\&quot;\n       id=\&quot;path-effect4321\&quot; /&gt;\n    &lt;inkscape:path-effect\n       effect=\&quot;skeletal\&quot;\n       id=\&quot;path-effect4315\&quot; /&gt;\n    &lt;inkscape:path-effect\n       effect=\&quot;skeletal\&quot;\n       id=\&quot;path-effect4307\&quot; /&gt;\n    &lt;inkscape:path-effect\n       effect=\&quot;skeletal\&quot;\n       id=\&quot;path-effect4299\&quot; /&gt;\n    &lt;inkscape:path-effect\n       effect=\&quot;skeletal\&quot;\n       id=\&quot;path-effect4293\&quot; /&gt;\n  &lt;/defs&gt;\n  &lt;g\n     transform=\&quot;translate(0,-1024.5289)\&quot;\n     id=\&quot;layer1\&quot;&gt;\n    &lt;path\n       d=\&quot;m 17.867073,4.5821643 a 3.7249374,3.7249374 0 1 1 -7.449875,0 3.7249374,3.7249374 0 1 1 7.449875,0 z\&quot;\n       transform=\&quot;matrix(-6.3328802,0,0,6.2775831,193.9581,1100.3667)\&quot;\n       id=\&quot;path4139-1-14\&quot;\n       style=\&quot;fill-opacity:1;fill-rule:nonzero\&quot; /&gt;\n    &lt;path\n       d=\&quot;M 77.450496,1064.5069 C 58.849552,1025.9634 15.704158,1023.3858 2.8821873e-7,1034.558 L 0.02388589,1035.2674 C 24.502636,1022.2072 44.810725,1042.1507 60.163934,1074.112 z\&quot;\n       id=\&quot;path4337\&quot;\n       style=\&quot;fill-opacity:1;stroke-width:0.58181816;stroke-miterlimit:4;stroke-dasharray:none;marker-start:none;marker-end:none\&quot; /&gt;\n    &lt;path\n       d=\&quot;m 12.878637,11.280739 4.75937,-2.7478243 4.759371,-2.7478236 0,5.4956479 0,5.495648 -4.759371,-2.747824 z\&quot;\n       transform=\&quot;matrix(4.6545455,0,0,4.6545455,-13.580429,1027.7638)\&quot;\n       id=\&quot;path3004\&quot;\n       style=\&quot;fill-opacity:1;fill-rule:nonzero\&quot; /&gt;\n  &lt;/g&gt;\n  &lt;metadata\n     id=\&quot;metadata3772\&quot;&gt;\n    &lt;rdf:RDF&gt;\n      &lt;cc:Work\n         rdf:about=\&quot;\&quot;&gt;\n        &lt;dc:title&gt;&lt;/dc:title&gt;\n        &lt;dc:format&gt;image/svg+xml&lt;/dc:format&gt;\n        &lt;dc:type\n           rdf:resource=\&quot;http://purl.org/dc/dcmitype/StillImage\&quot; /&gt;\n      &lt;/cc:Work&gt;\n    &lt;/rdf:RDF&gt;\n  &lt;/metadata&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/media/surface.png&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/media/surface.png&quot;,
            &quot;type&quot;: &quot;image/png&quot;,
            &quot;text&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAGYktHRAAmALMAAQfdEQQAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfeDBYVBDLiNMeiAAAFvUlEQVRIx7WXbUxTZxTH/+c8VwQLlAKuEotF2mJRlMFEqeCUiMzojH7YEjMSlM1EY2Z04vbBbUrcZqbOTZfFOKMOcWRuZMyoS4xUN16EMUVUMkAFJ6VQkdFSoOIL9O5DBREFX/l/vOf+z+88z715znkITyMZZMjDTLfEC0iWE0hAD0DlZhkC7HCDagWoxA0cvzq/uwgE+UkpachoJjhiCta6mXYwATLfN7AnM923MzGIuC8hARn/lN3ZiUy4nxlsyEM6QAcgPECdb6TNFDTbMn10UnOkMsap9dE5AMDSVaeqdlYoz9qL1WftReOuuS6HMDHcshsEfrdyXscPTw3W/cabieRPmYAEdcrltLD3q2ar32x4mq9S2HIi9LBl78QzracnMDEI9FlFin3jE8G6PN5JLK9hAt4Zv6ps0+TvyvAc+rLmo+m5DfungwhEvKs8uWVt/7h4CPorb2VJzmACPpy01bzO+MUFPKcSg+c2+kijOs85zoQTKF6TplA0ZrvyHwEb8pAOgW0kgE8m7zyZHr6uGi+o6IDpLQEjAp1/tZ7WMUkJY5f6WRqzOy48AP8CETSCylkAS3VrS1YbNl7CS9IkZcx/rm5XT1XHxVBBvCh+gfPzqlzIDAD6kVgDBhJGp1z+OPLrc3jJWhOx6ZwpKKmGiGEL1q4BAIYMYqYdBCBt/OoqDJPeGpteJZEEiUfsgAxi/TG8DgAG/yjb7FcWNAwXOD5oljVcMcEmSELSH/rXmYjngwnTgmZZHmeIPaFcPlTCJ8UH/GwWIoYkjZzPRDSDQJgWNKt54Is513drb3W7vIdK5uru9BkslnN9t3amWZPaB/aPaxYQYBImBsFAxJiojHEONB6u/z5mpPC+N1jihQXRi72Fz92hCrPfaQnIub5bCwB6/ygnEYNBEczEKiLGuPtnb3/dvN2o8mbvQRO33WtVyPLgjWhP7ZbEcF9jY74tzwAAY701DokkCJJU7KmAHzEtK01OjvR/tcFLeN/trXjganUKY7PSS9X5uPiMk2PSetzdYol2RUWdq0b94JD2dDKGDAcRw9pVp+pvAoAsk9m8Ur+heE/tlsSB367tXqsiy2Q26xTG5t4V9fdH+EU1laTcyE4NW1Xffq/Nd2FB9GLbbatKIgFBwiEJ4qtMrK5uv6TU+OgcM82aVIPfpKYsk9kMAKlhq+pTw1bVx55QLldIfl06hbG5zlWjLkq25vQWN9OsSV1YEL14iXZFRb4tzxDhF9XnB4CYgPg6ALjmqlF61oorDOZSAqPcUaoGgJX6DcUHTafMA7fu/DznvpX6DcUyZPRCe1WUbM0J9Aru3FO7JVGGjP7Q3uKyTGZzVUelmjxbXUqTT/rOkmTpT51vpC13RkkuhlHrK5e93XCrPkR298zmyrmdhTIR/r1VG3KmJV8zXNCKtjJNU5c1RJDAJNOcIgZBJlAGg/Czdf/E4QKbbx6dyCQgwBmZlOn2dKc2+y4AOGsvMn57ZfPUlw3NseydeslZbiQQ7tQH7Orrx1W5kEPTfBuIeFF158XQwJHBbUa/6NaXAT118/iEvKZDSUwCIHn5TylHyx+aQBoPuSpC05QKJk4osxfqVV7BbUa/Ka0vCs1p2PsGEwPg7dlxv2977MxlzW7PH7dMpSJQ/Fl7of5Wj6snLjCx6Xmgh60Hph5pykliYshw78qKO5Yx6LAHAJaDbSfC0gMVTFJCTcel0MsdlQF+kv/dsT7a9qcBXnT+HfqjZY+pzF4Q4xlvsf3A1IehQw70cwoi3yPQPkECRIzxowy2aOW0+skBsc3higntY7w1DgC4cbtRZem65l/dflFd01GpvXnHFkIgeMZaWr4v9sj+Z77CZMrg0sKoD4jFV17sBYAgSAITQ5Dk2TLP2QuA+p4TaP2412K/yaTMZ7/CDCzgfElcIhEvJNAMiSQdEasESSBiB4PrBIsSctOx8XHTiocC9up/PG8QrAaKLngAAAAASUVORK5CYII=&quot;
        },
        &quot;$:/language/Buttons/TiddlyMap/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/TiddlyMap/Caption&quot;,
            &quot;text&quot;: &quot;tiddlymap&quot;
        },
        &quot;$:/language/Buttons/TiddlyMap/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/TiddlyMap/Hint&quot;,
            &quot;text&quot;: &quot;Toggle TiddlyMap actions&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/misc/macros&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/misc/macros&quot;,
            &quot;text&quot;: &quot;\\define concat(str) $str$\n\n\\define input-text(field, index, default, readonly)\n  &lt;$reveal type=\&quot;match\&quot; text=\&quot;\&quot; default=\&quot;$readonly$\&quot;&gt;\n    &lt;$edit-text tiddler=&lt;&lt;output&gt;&gt; field=\&quot;$field$\&quot; index=\&quot;$index$\&quot; type=\&quot;text\&quot; tag=\&quot;input\&quot; default=\&quot;$default$\&quot; /&gt;\n  &lt;/$reveal&gt;\n  &lt;$reveal type=\&quot;nomatch\&quot; text=\&quot;\&quot; default=\&quot;$readonly$\&quot;&gt;\n    &lt;input type=\&quot;text\&quot; value=\&quot;$default$\&quot; readonly=\&quot;true\&quot; disabled=\&quot;true\&quot; /&gt;\n  &lt;/$reveal&gt;\n\\end\n\n\\define input-button(field, index, default, default, label:\&quot;Proceed\&quot;)\n  &lt;div class=\&quot;tmap-button-wrapper\&quot;&gt;\n  &lt;$button&gt;$label$\n    &lt;$action-setfield $tiddler=&lt;&lt;output&gt;&gt; $field=\&quot;$field$\&quot; index=\&quot;$index$\&quot; $value=\&quot;$default$\&quot; /&gt;\n  &lt;/$button&gt;\n  &lt;/div&gt;\n\\end\n\n\\define input-textarea(field, index, default, default)\n  &lt;$edit-text tiddler=&lt;&lt;output&gt;&gt; field=\&quot;$field$\&quot; index=\&quot;$index$\&quot; autoHeight=\&quot;no\&quot; type=\&quot;text\&quot; tag=\&quot;textarea\&quot; default=\&quot;$default$\&quot; /&gt;\n\\end\n\n\\define input-checkbox(field, index, readonly, default)\n  &lt;$reveal type=\&quot;match\&quot; text=\&quot;\&quot; default=\&quot;$readonly$\&quot;&gt;\n    &lt;$checkbox\n        tiddler=&lt;&lt;output&gt;&gt;\n        field=\&quot;$field$\&quot;\n        index=\&quot;$index$\&quot;\n        checked=\&quot;true\&quot;\n        unchecked=\&quot;false\&quot;\n        default=\&quot;$default$\&quot; /&gt;\n  &lt;/$reveal&gt;\n  &lt;$reveal type=\&quot;nomatch\&quot; text=\&quot;\&quot; default=\&quot;$readonly$\&quot;&gt;\n    &lt;input type=\&quot;checkbox\&quot; value=\&quot;$default$\&quot; readonly=\&quot;true\&quot; disabled=\&quot;true\&quot; /&gt;\n  &lt;/$reveal&gt;\n\\end\n\n\\define input-multi-checkbox(selectFilter, invert:\&quot;no\&quot;, default)\n  &lt;div class=\&quot;tmap-no-stretch\&quot;&gt;\n  &lt;$list\n      filter=\&quot;$selectFilter$\&quot;\n      emptyMessage=\&quot;– This list contains no items –\&quot;&gt;\n    &lt;$checkbox\n        tiddler=&lt;&lt;output&gt;&gt;\n        tag=&lt;&lt;tmap \&quot;splitAndSelect\&quot; \&quot;|\&quot; \&quot;0\&quot;&gt;&gt;&gt;\n      &lt;$view\n          tiddler=&lt;&lt;tmap \&quot;splitAndSelect\&quot; \&quot;|\&quot; \&quot;1\&quot;&gt;&gt;\n          field=\&quot;title\&quot; /&gt;\n    &lt;/$checkbox&gt;&lt;br /&gt;\n  &lt;/$list&gt;\n  &lt;/div&gt;\n\\end\n\n\\define input-select(field, index, selectFilter, default, nochoice)\n  &lt;$select\n      tiddler=&lt;&lt;output&gt;&gt;\n      field=\&quot;$field$\&quot;\n      index=\&quot;$index$\&quot;\n      default=\&quot;$default$\&quot;&gt;\n    &lt;$set name=\&quot;nochoice\&quot; value=\&quot;$nochoice$\&quot;&gt;\n      &lt;$list filter=\&quot;[&lt;nochoice&gt;regexp[.+]]\&quot;&gt;\n        &lt;option value=\&quot;\&quot;&gt;&lt;b&gt;&lt;&lt;nochoice&gt;&gt;&lt;/b&gt;&lt;/option&gt;\n      &lt;/$list&gt;\n    &lt;/$set&gt;\n    &lt;$list filter=\&quot;$selectFilter$\&quot;&gt;\n      &lt;option value=&lt;&lt;tmap \&quot;splitAndSelect\&quot; \&quot;|\&quot; \&quot;0\&quot;&gt;&gt; &gt;\n        &lt;$view tiddler=&lt;&lt;tmap \&quot;splitAndSelect\&quot; \&quot;|\&quot; \&quot;1\&quot;&gt;&gt; field=\&quot;title\&quot; /&gt;   \n      &lt;/option&gt;\n    &lt;/$list&gt; \n  &lt;/$select&gt;\n\\end\n\n\\define input-radio(field, index, selectFilter, default)\n  &lt;$list filter=\&quot;$selectFilter$\&quot;&gt;\n    &lt;$radio\n        tiddler=&lt;&lt;output&gt;&gt;\n        field=\&quot;$field$\&quot;\n        index=\&quot;$index$\&quot;\n        value=&lt;&lt;tmap \&quot;splitAndSelect\&quot; \&quot;|\&quot; \&quot;0\&quot;&gt;&gt;&gt;\n      &lt;&lt;tmap \&quot;splitAndSelect\&quot; \&quot;|\&quot; \&quot;1\&quot;&gt;&gt;\n    &lt;/$radio&gt;&lt;br /&gt;\n  &lt;/$list&gt;\n\\end\n\n\\define tmap-row(title, field, index, type, descr, note, label, default, readonly, reset, selectFilter, nochoice, invert)\n  &lt;tr&gt;\n    &lt;td class=\&quot;tmap-title\&quot;&gt;$title$:&lt;/td&gt;\n    &lt;td&gt;\n        &lt;&lt;$type$\n          field:\&quot;$field$\&quot;\n          index:\&quot;$index$\&quot;\n          readonly:\&quot;$readonly$\&quot;\n          default:\&quot;$default$\&quot;\n          label:\&quot;$label$\&quot;\n          invert:\&quot;$invert$\&quot;\n          selectFilter:\&quot;$selectFilter$\&quot;\n          nochoice:\&quot;$nochoice$\&quot; &gt;&gt;\n        &lt;$reveal type=\&quot;match\&quot; text=\&quot;true\&quot; default=\&quot;$reset$\&quot;&gt;\n          &lt;$button&gt;reset\n            &lt;$action-setfield $tiddler=&lt;&lt;output&gt;&gt; $field=\&quot;$field$\&quot; $index=\&quot;$index$\&quot; $value=\&quot;$default$\&quot; /&gt;\n          &lt;/$button&gt;\n        &lt;/$reveal&gt;\n    &lt;/td&gt;\n    &lt;td&gt;\n      &lt;span class=\&quot;tmap-description\&quot;&gt;$descr$&lt;/span&gt;\n      &lt;$reveal type=\&quot;nomatch\&quot; text=\&quot;\&quot; default=\&quot;$note$\&quot;&gt;\n        &lt;div class=\&quot;tmap-note\&quot;&gt;''Note:'' $note$&lt;/div&gt;\n      &lt;/$reveal&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n\\end\n\n\\define visConfiguration(inheritedList,\n                         extensionField,\n                         styleName:\&quot;style\&quot;)\n                         \n  &lt;fieldset&gt;&lt;legend&gt;Visjs configurations ($styleName$)&lt;/legend&gt;\n    &lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n      Only config items that you actually changed have an effect on\n      the graph. Other options are visible, yet, inactive.\n    &lt;/div&gt;\n    &lt;$tmap-config\n        mode=\&quot;manage-node-types\&quot;\n        inherited=\&quot;$inheritedList$\&quot;\n        extension=\&quot;$extensionField$\&quot;\n    /&gt;\n  &lt;/fieldset&gt;\n\\end&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/misc/defaultViewHolder&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/misc/defaultViewHolder&quot;,
            &quot;text&quot;: &quot;Default&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/nodeTypes/tmap:neighbour&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/nodeTypes/tmap:neighbour&quot;,
            &quot;description&quot;: &quot;Neighbours are all nodes that are not part of the original set of nodes (\&quot;matches\&quot;) but are connected (either outgoing or incoming) to a node of the original set.&quot;,
            &quot;style&quot;: &quot;{\&quot;color\&quot;:\&quot;#565656\&quot;}&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Default/filter/edges&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Default/filter/edges&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Default/filter/nodes&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Default/filter/nodes&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Default&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Default&quot;,
            &quot;config.physics_mode&quot;: &quot;false&quot;,
            &quot;isview&quot;: &quot;true&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Live View/filter/edges&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Live View/filter/edges&quot;,
            &quot;filter&quot;: &quot;[prefix[$:/plugins/felixhayashi/tiddlymap/graph/edgeTypes]]&quot;,
            &quot;text&quot;: &quot;\n\n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Live View/filter/nodes&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Live View/filter/nodes&quot;,
            &quot;filter&quot;: &quot;[field:title{$:/temp/tmap/currentTiddler}]&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Live View&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Live View&quot;,
            &quot;config.neighbourhood_scope&quot;: &quot;1&quot;,
            &quot;config.refresh-triggers&quot;: &quot;$:/temp/tmap/currentTiddler&quot;,
            &quot;config.physics_mode&quot;: &quot;true&quot;,
            &quot;config.vis&quot;: &quot;{\&quot;physics\&quot;:{\&quot;forceAtlas2Based\&quot;:{\&quot;springLength\&quot;:0,\&quot;springConstant\&quot;:0.09}}}&quot;,
            &quot;isview&quot;: &quot;true&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Graph search/filter/nodes&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Graph search/filter/nodes&quot;,
            &quot;filter&quot;: &quot;[!is[system]search{$:/temp/search}] [!is[system]search:tags{$:/temp/search}] [!is[system]search:text{$:/temp/search}limit[10]]&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Graph search&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Graph search&quot;,
            &quot;config.refresh-triggers&quot;: &quot;$:/temp/search&quot;,
            &quot;config.neighbourhood_scope&quot;: &quot;1&quot;,
            &quot;config.physics_mode&quot;: &quot;true&quot;
        }
    }
}</pre>
</div>
<div description="Neighbours are all nodes that are not part of the original set of nodes (&quot;matches&quot;) but are connected (either outgoing or incoming) to a node of the original set." priority="1" style="{&quot;color&quot;:&quot;#565656&quot;}" title="$:/plugins/felixhayashi/tiddlymap/graph/nodeTypes/tmap:neighbour">
<pre></pre>
</div>
<div filter=" -[prefix[_]] -[[tw-body:link]] -[[tw-list:tags]] -[[tw-list:list]]" title="$:/plugins/felixhayashi/tiddlymap/graph/views/Default/filter/edges">
<pre></pre>
</div>
<div filter=" [field:tmap.id[11c9ce2c-8cb1-489a-b8f3-d7cf84eefc60]] [field:tmap.id[20237575-a86c-4729-83a8-68f961a0e335]]" title="$:/plugins/felixhayashi/tiddlymap/graph/views/Default/filter/nodes">
<pre></pre>
</div>
<div title="$:/plugins/felixhayashi/tiddlymap/graph/views/Default/map">
<pre>{&quot;20237575-a86c-4729-83a8-68f961a0e335&quot;:{&quot;x&quot;:100,&quot;y&quot;:100},&quot;11c9ce2c-8cb1-489a-b8f3-d7cf84eefc60&quot;:{&quot;x&quot;:11,&quot;y&quot;:-5}}</pre>
</div>
<div filter="-[prefix[_]] " title="$:/plugins/felixhayashi/tiddlymap/graph/views/Live View/filter/edges">
<pre></pre>
</div>
<div created="20160323105758455" modified="20160323105802586" title="$:/plugins/felixhayashi/tiddlymap/misc/meta" type="application/json">
<pre>{
    &quot;originalVersion&quot;: &quot;0.11.2+8941&quot;,
    &quot;dataStructureState&quot;: &quot;0.11.0&quot;,
    &quot;showWelcomeMessage&quot;: false
}</pre>
</div>
<div author="Felix Küppers" core-version="&gt;=5.1.5" dependents="" description="TopStoryView – Always scroll navigated tiddlers to the top" list="Configuration License Readme" modified="20160323105811606" plugin-type="plugin" released="" source="https://github.com/felixhayashi/TW5-TopStoryView" title="$:/plugins/felixhayashi/topstoryview" type="application/json" version="0.2.0">
<pre>{
    &quot;tiddlers&quot;: {
        &quot;$:/plugins/felixhayashi/topstoryview/config.js&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/topstoryview/config.js\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n(function(){\&quot;use strict\&quot;;exports.config={classNames:{storyRiver:\&quot;tc-story-river\&quot;,backDrop:\&quot;story-backdrop\&quot;,tiddlerFrame:\&quot;tc-tiddler-frame\&quot;,tiddlerTitle:\&quot;tc-title\&quot;},references:{userConfig:\&quot;$:/config/topStoryView\&quot;,focussedTiddlerStore:\&quot;$:/temp/focussedTiddler\&quot;,refreshTrigger:\&quot;$:/temp/focussedTiddler/refresh\&quot;},checkbackTime:$tw.utils.getAnimationDuration()}})();&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/topstoryview/config.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/topstoryview/layout&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/topstoryview/layout&quot;,
            &quot;type&quot;: &quot;text/vnd.tiddlywiki&quot;,
            &quot;tags&quot;: [
                &quot;$:/tags/Stylesheet&quot;
            ],
            &quot;text&quot;: &quot;html .tc-story-river:after {\n  content: \&quot;\&quot;;\n  display: block; }\n&quot;
        },
        &quot;$:/plugins/felixhayashi/topstoryview/Configuration&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/topstoryview/Configuration&quot;,
            &quot;text&quot;: &quot;Please see the [[GitHub page|https://github.com/felixhayashi/TW5-TopStoryView]] for more information on the options.\n\nSave and reload the wiki to activate changes.\n\n&lt;table&gt;\n  &lt;tr&gt;\n    &lt;th align=\&quot;left\&quot;&gt;Scroll offset:&lt;/th&gt;\n    &lt;td&gt;&lt;$edit-text tiddler=\&quot;$:/config/topStoryView\&quot; field=\&quot;scroll-offset\&quot; tag=\&quot;input\&quot; default=\&quot;150px\&quot; /&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/topstoryview/License&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/topstoryview/License&quot;,
            &quot;text&quot;: &quot;This code is released under the BSD license. For the exact terms visit:\n\nhttps://github.com/felixhayashi/TW5-TopStoryView/blob/master/LICENSE&quot;
        },
        &quot;$:/plugins/felixhayashi/topstoryview/Readme&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/topstoryview/Readme&quot;,
            &quot;text&quot;: &quot;Please visit the [[GitHub page|https://github.com/felixhayashi/TW5-TopStoryView]] for more information.&quot;
        },
        &quot;$:/plugins/felixhayashi/topstoryview/top.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/plugins/felixhayashi/topstoryview/top.js\ntype: application/javascript\nmodule-type: storyview\n\nViews the story as a linear sequence\n\n@preserve\n\n\\*/\n(function(){\&quot;use strict\&quot;;var t=require(\&quot;$:/plugins/felixhayashi/topstoryview/config.js\&quot;).config;var e=\&quot;cubic-bezier(0.645, 0.045, 0.355, 1)\&quot;;var i=function(e){this.listWidget=e;this.pageScroller=new $tw.utils.PageScroller;this.pageScroller.scrollIntoView=this.scrollIntoView;this.pageScroller.storyRiverDomNode=document.getElementsByClassName(t.classNames.storyRiver)[0];var i=$tw.wiki.getTiddler(t.references.userConfig);var o=i?i.fields:{};$tw.hooks.addHook(\&quot;th-opening-default-tiddlers-list\&quot;,this.hookOpenDefaultTiddlers);var r=parseInt(o[\&quot;scroll-offset\&quot;]);this.pageScroller.scrollOffset=isNaN(r)?71:r;this.recalculateBottomSpace()};i.prototype.refreshStart=function(t,e){};i.prototype.refreshEnd=function(t,e){};i.prototype.hookOpenDefaultTiddlers=function(t){return t};i.prototype.navigateTo=function(t){var e=this.listWidget.findListItem(0,t.title);if(e===undefined)return;var i=this.listWidget.children[e];var o=i.findFirstDomNode();if(!(o instanceof Element))return;this.pageScroller.scrollIntoView(o)};i.prototype.insert=function(t){if(!t)return;var e=t.findFirstDomNode();if(!(e instanceof Element))return;this.startInsertAnimation(e,function(){this.recalculateBottomSpace()}.bind(this))};i.prototype.remove=function(t){if(!t)return;var e=t.findFirstDomNode();if(!(e instanceof Element)){t.removeChildDomNodes();return}var i=this.getLastFrame()===e;this.startRemoveAnimation(t,e,function(){t.removeChildDomNodes();this.recalculateBottomSpace();if(i){this.pageScroller.scrollIntoView(this.getLastFrame())}}.bind(this))};i.prototype.getLastFrame=function(){var t=this.listWidget.children[this.listWidget.children.length-1];return t?t.findFirstDomNode():null};i.prototype.recalculateBottomSpace=function(){var t=this.pageScroller.storyRiverDomNode;if(this.getLastFrame()){var e=this.getLastFrame().getBoundingClientRect();var i=window.innerHeight;if(e.height&lt;i){t.style[\&quot;paddingBottom\&quot;]=i-e.height+\&quot;px\&quot;;return}}t.style[\&quot;paddingBottom\&quot;]=\&quot;\&quot;};i.prototype.scrollIntoView=function(t){if(this.preventNextScrollAttempt){this.preventNextScrollAttempt=false}if(!t)return;var e=$tw.utils.getAnimationDuration();this.cancelScroll();this.startTime=Date.now();var i=$tw.utils.getScrollPosition();var o=t.getBoundingClientRect(),r={left:o.left+i.x,top:o.top+i.y,width:o.width,height:o.height};var n=function(t,e,i,o){if(t&lt;=i){return t}else if(e&lt;o&amp;&amp;i&lt;t+e-o){return t+e-o}else if(i&lt;t){return t}else{return i}},s=n(r.left,r.width,i.x,window.innerWidth),a=r.top-this.scrollOffset;if(s!==i.x||a!==i.y){var l=this,c;c=function(){var t;if(e&lt;=0){t=1}else{t=(Date.now()-l.startTime)/e}if(t&gt;=1){l.cancelScroll();t=1}t=$tw.utils.slowInSlowOut(t);window.scrollTo(i.x+(s-i.x)*t,i.y+(a-i.y)*t);if(t&lt;1){l.idRequestFrame=l.requestAnimationFrame.call(window,c)}};c()}};i.prototype.startInsertAnimation=function(t,i){var o=$tw.utils.getAnimationDuration();var r=window.getComputedStyle(t),n=parseInt(r.marginBottom,10),s=parseInt(r.marginTop,10),a=t.offsetHeight+s;setTimeout(function(){$tw.utils.setStyle(t,[{transition:\&quot;none\&quot;},{marginBottom:\&quot;\&quot;}]);i()},o);$tw.utils.setStyle(t,[{transition:\&quot;none\&quot;},{marginBottom:-a+\&quot;px\&quot;},{opacity:\&quot;0.0\&quot;}]);$tw.utils.forceLayout(t);$tw.utils.setStyle(t,[{transition:\&quot;opacity \&quot;+o+\&quot;ms \&quot;+e+\&quot;, \&quot;+\&quot;margin-bottom \&quot;+o+\&quot;ms \&quot;+e},{marginBottom:n+\&quot;px\&quot;},{opacity:\&quot;1.0\&quot;}])};i.prototype.startRemoveAnimation=function(t,i,o){var r=$tw.utils.getAnimationDuration();var n=i.offsetWidth,s=window.getComputedStyle(i),a=parseInt(s.marginBottom,10),l=parseInt(s.marginTop,10),c=i.offsetHeight+l;setTimeout(o,r);$tw.utils.setStyle(i,[{transition:\&quot;none\&quot;},{transform:\&quot;translateX(0px)\&quot;},{marginBottom:a+\&quot;px\&quot;},{opacity:\&quot;1.0\&quot;}]);$tw.utils.forceLayout(i);$tw.utils.setStyle(i,[{transition:$tw.utils.roundTripPropertyName(\&quot;transform\&quot;)+\&quot; \&quot;+r+\&quot;ms \&quot;+e+\&quot;, \&quot;+\&quot;opacity \&quot;+r+\&quot;ms \&quot;+e+\&quot;, \&quot;+\&quot;margin-bottom \&quot;+r+\&quot;ms \&quot;+e},{transform:\&quot;translateX(-\&quot;+n+\&quot;px)\&quot;},{marginBottom:-c+\&quot;px\&quot;},{opacity:\&quot;0.0\&quot;}])};exports.top=i})();&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/topstoryview/top.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;storyview&quot;
        }
    }
}</pre>
</div>
<div author="Felix Küppers" core-version="&gt;=5.0.0" dependents="" description="Visjs – TiddlyWiki5 plugin for the vis.js library" list="readme" plugin-type="plugin" source="https://github.com/felixhayashi/TW5-Vis.js" title="$:/plugins/felixhayashi/vis" type="application/json" version="4.13.0">
<pre>{
    &quot;tiddlers&quot;: {
        &quot;$:/plugins/felixhayashi/vis/img/network/acceptDeleteIcon.png&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/vis/img/network/acceptDeleteIcon.png&quot;,
            &quot;type&quot;: &quot;image/png&quot;,
            &quot;text&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNVQxNjo0NTowOCswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDVUMTY6NDU6MDgrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjBmYzFjNjhhLTcwZTYtMGY0Ni05ZDk4LWFhNDVjNjYxYThjODwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDpiYzZmYmUxNi1mOTBkLWI1NDQtODUzOC05MjFkNjBiZjU0ZWI8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDVUMTY6NDU6MDgrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjBmYzFjNjhhLTcwZTYtMGY0Ni05ZDk4LWFhNDVjNjYxYThjODwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNVQxNjo0NTowOCswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOmJjNmZiZTE2LWY5MGQtYjU0NC04NTM4LTkyMWQ2MGJmNTRlYjwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz450LuoAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAATUSURBVHjajJZtTJVlGMd/13U/z+F4sBQOCiovZiMt8YiKZrMtypdh09StbLOtzA1RUmuTkppzIilJOB0Oa21tbaV+6UP5Mlnm5heVkfhyQJ1ONITAkAMqcTDonNOHA6g9qF3b/eF5/vf18r/u676uWwoLC3G73QCoKiICgIhQeGejVw3LMOTIP0xGdRQAFi1E9DyGSkLsKxtWEmAQuXfvHrJlyxZiYmIQkQHjeac/jjfKBsJ8YlnRzQKIgBoIh8ByaRSICAilRCjdk1UeAIhEIogIPT09SFFRER6PZ4DByqr1+WpRoYAquKYuqCPz9SZeeCVA4vggAC2XPVw54eXi0WTOH8yIslIIs+bryTsq+hl0d3cjxcXFuN1uVJVVp9dvEigSwP3iYj9vfV7L6IldPE5uXvZwcKuPsz/7+qLc/I1vexFAMBjEzJ49G9u2WV1TsEaVUhOBmJxVVeR9X8NTI3t5kgxN6GXakia67/bSeC4ZkexprccCZxLnVodCIRRgdU1BgsBuBVzz8qt49yv/oMb2f5TJd7kzBsXeLPHzal4VaiAmZnfupY0JIoKqKqoUGAHX9MV+llf4HxmtMaDyaDZLtvqZushPWEHsAlVFP/3rswSNsEEt4O0v/E9MCebx8PxCP5YNlr3hg7+/TFBEl6mClflGHUl9VdIvGycuJdDgvm/bAtu6j3c0uSmZufQhnRHPBsnIqcOyQGSZAjlEgCkLGh3RDHk6yJWTCQCUZi+gav8Mzh3KpGzeQgCuV3sZEhd06D2f3QgCas9XIuozCjw3q92xMXF8O8218QDM/fAMGLAsmLO2Jnof6rwkpjv10rLaURtEJimWJomtMDLdGUlyRhuBei8AU5Y0M2ZCMyPSW8hc2AxAW4OXUeOdbcKbFsQ2YKwkizCg1uAH9kxWOzU/+ga+X8s/Q/iBKur4w8tL79c69ESiTFXFQvQmyhhu1XsYNeHhW5s2o4OuwDB6ug2uISF8fZED9HQbgh1PM3Zah8PB7UYPGBBalDB+MFB/Kt6x0e0JMSzpDr9XxzmwprNxDB95F9eQkANrrI3HssFQq4hWAnDxaMqgaUoYF6DJ73X8b74Qz/C0Qds016tSUANqVypG92EMnD+SwZ9XPc5KSg/QWu900HotgRHjnA5uN3m4diojmiKzV3cNL25DdTvGwJESn0NhzMR2Ohqc6etoiidpgrNET3zrix6yKf3Bld8WLZ8IZcAG6ip9/LQpyOIt91vG2BltHCwezbbpKzEKYoFodKVO+fUh48f3+Lh20oexIBQqExFk586dxMbGkntp41rELscozFpRxaLN/6Mv/cf4hcMzCYdAzboDKXm7Ozs7MTk5ObhcLs4lzqmeeus4GCublgvJtF61Sc1qxR0beqzh7g4Xx3ZN5/KxaagCsvlASl4pQG9vb5TB0KFDibZtZfmlonxcVgVhAcuGjJxa0l9uImVKO3GpXahA4EYsjbXx3PgtmYbTk1CiKYM1h1LzKvrncmdnJ1JeXo7b7cYYQ9+A4L2r21IJR9ZhXOuxXGAZBvKv/Uui8wELVHYgUn44bdWNfmKRSIRgMIiUlJQQGxs78Krof7oYY8jt2TUCy3oH0XmI+MAejW0gYpoxxg/mF4zu3a8rbvXrPuigq6uLfwcA6IKAIsDf9kIAAAAASUVORK5CYII=&quot;
        },
        &quot;$:/plugins/felixhayashi/vis/img/network/addNodeIcon.png&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/vis/img/network/addNodeIcon.png&quot;,
            &quot;type&quot;: &quot;image/png&quot;,
            &quot;text&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNDo0MDoyOSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTQ6NDA6MjkrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjVkNWIwNmQwLTVmMjAtOGE0NC1hMzIwLWZmMTEzMzQwNDc0YjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo2OWVmYWE1NS01ZTI5LTIzNGUtYTUzMy0xNDkxYjM1NDNmYmE8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTQ6NDA6MjkrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjVkNWIwNmQwLTVmMjAtOGE0NC1hMzIwLWZmMTEzMzQwNDc0Yjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNDo0MDoyOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjY5ZWZhYTU1LTVlMjktMjM0ZS1hNTMzLTE0OTFiMzU0M2ZiYTwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz5WKqp9AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYXSURBVHjafFZtUFTXGX7e9z27sveuMCwYV8ElrA7YSFYHtJUPkaaI0aRqG8wP00zUzljDINNSA/2ROtpO24SxnahlxjYd7SSjmUkymcxYlDhQPzHGisEVp8HwYWCVVVgEsrsuLnL74+5uqTF9Z+7cO/d8PO95zvO851BlZSV0XQcAMDOYGQBARDhX3JRmMDYZwLPMWAzGHACYIgwS46oBNBNwtOL8CwE8EkSEUCgE2rJlC2w2G4go8Zwo/bMDgnoG6gxLfAAAYvPDMCCszKTAMIAGAhrWnf15AAAMwwARIRKJgDZv3gy73Q4iAjPjxIr9VVOMRhbAYKB8zvrO0llrfEsdKwLZek6YAPSFvtSu3GtLawu0ZJ6625SHGBQB1T88t6MxvopgMAjaunUrdF0HM+P4yv27DMYeJmB1RqW3Jnf3tQX2p0L4P9EXuqEd7PmDp+XuMU9sRbvXnnt1TxxACgoKYLVacbzsQDUJGkSATe6qi28uPtzusM6Kxie6NHLGUX3lxVUNX9StPHnn4wy3njuUYcu6n2pNi66avcEXnByP/nv8aiaIyrqz2gO5A9+9FI1GIfn5+WhZdTAdjFMkwMvZOy7uWnTAOz3L4Yk71m3t69fdfTDoUGTBeHTUfiHQ6lo7Z2OXJvpDAChKe+aOCdKRKWxZ2+1qb3yyd3GYmRkQ7GQBVs99wfv6on3eR2k4PdTkDEbH7IuS8/svld/561PJS/pDk1/bzwx94pze7xc5v/H+YPY6r5BAkdrJzODTK46lE6PeYEJt7u+8j+OZwCBiEAgAoNgKJoEQf6PvNvdrXgtZoNhSf7q0KZ3B2AQmVMze0Jmt54S/DcDCVig2NcvEUGxJAE4Pl+YOr0iv6BRSIPAmBeBZAmHlE2sH4p1uhrq1s0MnnEQMBsf8wRASAICQQCCITN1X7/sOuc0kgOVp3/fPs2WHv+coG7gQOJUnLGsUCTxEjPzUohEA+NfIWUdtx0+efzA1kSSkIGyBAQNCKgHAEBAJ3u79U7kiAcWoem/gb5Fd33nrH3kp+SMWtuAB+GllMJxMjCx9QRgA3uiqL5kwHiTlpxb3smlfMDGYGPP1hcMAkJvs8ScpfdJspdj+MK6Pf+5+u29vyb4lR4+BGEziVESAkEpw6Av1OhUpHCz4qOXbzFWz4Ncdj/v/o08Lt92ODDgZDCEFJYoUGH4mzugP92puPTf0pD3H7wvfdFZdqSxnMtWjoGAAmG9fOLxjwesdjT2/XzIQ7ks3sycYMSEwGHNtWf5bkX5NkYCJBxUBXiGV0XHvosOt54Zey33j/K+8P33++vjnbiGJbbLE+J9SANAb6nJ2B79wcUwETAwQQ7fMjPzMvfP8ja87HUIKMOiaAqMZhrGmLdAy78eZrwwsTS0eObTs+IdtgVanxBUExqGbb5VzrIISGIoUXsmqbgEhJldCQWqRf27SvPAn/o8XmgLhZsUkR4ll37mhk3n94Z4OlzY/7NLcYZfm7o1z2zT4vsvUNSXqprBCkmiTFbPX90/fh8GIT2sf+zTPdDMf4dVnNg4z+E0ixsGeBs9jd5ViSgLHjCb/peaR+MD3d4/ZJg2llyuG2Vwy7QWAs8PNnn1f7vkGSGxAzE6mk+kxkx/p/4unffSCR0hAoL1EBCYiPNdWNcwkNQTCR7feWX6g+7f/A7I8rcw/U6UEe0Ndrhc/W7mtL9ztmqlSgstSS/zTJ28dalpOpkRryrwbhwBACgsLMWPGDOT4ll3qyeqAkJTdCF7P/CrUY/GkLL1rE+2hTbSH8+0Lb/WEuhzhyaA905blf9Vd/895WnZwLHrPevir/cvOB1oLYpTtLrm6oYGIMDExAaqtrUVKSgqYGSKCk0WHq5ikkWEWtNL0imv5qUW+RclLRjJsrhBAuH1/QL8R7HR4xy5nescuP23E6hOA6mLv+sb4uTw6Ogqqq6uDpmkQkcStorX4XRcM1FjZ+kvFFjCJKU1WpkNJJUqIMtX1RyLeX3JtQ0JRhmGYZ/L27duRnJycuFGISOJ9pqh5lrB6iYgqGOxRrOaa54DcZmKvkJxk8JHC9rKh+KVhOsD4+Dj+MwADIf8n5m4xGwAAAABJRU5ErkJggg==&quot;
        },
        &quot;$:/plugins/felixhayashi/vis/img/network/backIcon.png&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/vis/img/network/backIcon.png&quot;,
            &quot;type&quot;: &quot;image/png&quot;,
            &quot;text&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNTowMTowOSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTU6MDE6MDkrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOmI2YjQwMjVkLTAxNjQtMzU0OC1hOTdlLTQ4ZmYxMWM3NTYzMzwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDpmOWQ3OGY4ZC1lNzY0LTc1NDgtODZiNy1iNmQ1OGMzZDg2OTc8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTU6MDE6MDkrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmI2YjQwMjVkLTAxNjQtMzU0OC1hOTdlLTQ4ZmYxMWM3NTYzMzwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNTowMTowOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOmY5ZDc4ZjhkLWU3NjQtNzU0OC04NmI3LWI2ZDU4YzNkODY5Nzwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4jq1U/AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAVTSURBVHjanFVfTFNnFP+d77ve8qeVFbBrpcVgRrCRFikFByLxwSAaE32oRCHD6JMxxhhn8G2RxxH3MsOTbyYsmCAxPMmMMYtkIUYmK60OO0qAK23BFlNob0uh3x7WS5jLZPpLbm6+k/P9zrm5v9855PF4UFhYCABgjIExBgAgIqRSqRIi6gDQRkQ1RGTB3wgR0e8AHgH4Sa/XR/EBiAiJRAJ04cIF5Ofng4g2n0gkUkxENwF0c843LzHGQEQQQkCLExEA9ALotVgsUQAQQmgNQhJCbF5kjCEUCl0moj4t5na7fTU1NUpVVVXUYrEkASAcDhe8efOmxOfzWScmJqoBdBNR99LS0hWz2dynNSSEAF28eBGFhYVgjCEcDn9HRD1EhIMHD3o9Hs9kWVlZAh9BKBQqGB4edr58+dKZ+6JbJpOpBwBWV1fB6+rqIMsyIpHIFcZYL2MMra2tY5cuXRrfuXNnBtvAYDBk3G63oqpqZm5uzgrgSDKZjBoMhueZTAbc5XIhFouVEtFTxhiOHTs2dv78eS8+Efv374+oqpqZnZ21cs5PJJPJPlmWkyynnBuMMTQ0NHi7uro+mVyDx+Pxulwu71ZOlkqlSonoJhGhvb39s8k1nDx50ss5hyRJN9PpdKlERB2aWjSVaEilUvzBgwcORVEs5eXloXPnzk1sV8BkMiUdDofP7/dXZ7PZDilnIhw4cGBeS1pbW2P37t1zBwKBikQiUUREWFhYsHHO0d7evm0Ru90+/+rVq2rO+XGJiJxEhMrKyhgAjI6OWoeHh5tWVla+4JzDZrO9bW5unhwcHGzz+/32np4e+xaDbfoHAMxmc6ijo2O0oqIiJkkSNjY2HBIRmRljMJvNyWfPnln7+/tPMMZQXl6+0NbW9qK2tjYcj8floaEhqKpq+HCkbD3PzMwYBgYG0NXV9UuusFna2kEgELAQEQ4dOvSis7PzN41Ar9dnrl27NqCNkv/C3bt3zy4tLVmICJxzEBFJRBQmorLFxcWCqqqq0Pj4eO3Y2JhbUZTdra2tL2pra8OJRGLHnTt3zkqS9K+huHU4EhHMZnMoGo0W5OIh7nK5jjLGKq1W69vDhw8rRqMxMjc3t2t5eXnX5ORklc/nM+fl5SWnpqa+0uv1K/n5+Ws6nW5NluXNd15e3ppOp1uz2WyzZ86cGQ0Gg6ZAIFCZzWZ/lYjokRDiuN/vt7W0tMw3NTUpbrd78P79++5gMFgRiUTKHj58WMYYQ3V19etTp05tq6Lp6Wkb5xxCiEfc7XZPM8a6FxcXTfX19a/1en2Gcy5qamreNjY2/qGq6joRZe12+9Tp06e3JY/FYgWPHz8+mhvr3/CWlpbk+vp6PmOseWVlBS6XS9GSJUkSdrs93NDQ8Oe+ffvC/8fJIyMjddFo9Esi6pVleVjT2m0A8Hq9zqGhIefnjoknT544A4GAM/eDbxMReFNTE0pKSpKqqsaI6Pj8/LxVVdWM3W6PfCr5xMTE1zllXS0uLn6aSqXAGxsbodPpoNfrn6uqCs75EUVRrJFIZMfevXsXdTrdxseIE4mEPDIyUu/3++tynd8yGo29RIR0Og26fv06ioqKwBgD5xzv3r27zBjrIyJIkgSHwzFZWVmp7NmzJ1ZaWpoAgGg0WqgoSvHMzIw1GAw6tvjhitFo7NPW5fv370Hd3d0oKCgA53zTQMvLy+VCiKuSJH0rSdLmztZytIWv5RPRD0T0Y3Fx8dzWfby6ugopHo//w4mcc8iyPMc5v5FOp7/PZrOdQohWInIC2C2EgBBigYi8Qoifs9lsv06nWyIiaFxagXg8jr8GAGxuIe7LBeWhAAAAAElFTkSuQmCC&quot;
        },
        &quot;$:/plugins/felixhayashi/vis/img/network/connectIcon.png&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/vis/img/network/connectIcon.png&quot;,
            &quot;type&quot;: &quot;image/png&quot;,
            &quot;text&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNDozODo1NyswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTQ6Mzg6NTcrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjlmYjUwMDU0LWE3ODEtMWQ0OC05ZTllLTU2ZWQ5YzhlYjdjNjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo3ZWRhMjI0MC0yYTQxLTNlNDQtYWM2My1iNzNiYTE5OWI3Y2E8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTQ6Mzg6NTcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjlmYjUwMDU0LWE3ODEtMWQ0OC05ZTllLTU2ZWQ5YzhlYjdjNjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNDozODo1NyswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjdlZGEyMjQwLTJhNDEtM2U0NC1hYzYzLWI3M2JhMTk5YjdjYTwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4ubxs+AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAUtSURBVHjajJZ/bNT1Gcdfz/P53PV6B4W7VltLqdAaplIOiMOoyxxJCSs/Gv/yB4gzJroAosmmDklwkYWR0bQsdmkykoojTpcsWYLxD/lRZdMQkTHRtkLZRqG0tIVe7662vTu43n32x/VKZ/jh89cn38/zvN7P5/l88zwf2blzJz6fDwARQUSm1n8s31CM0/VAnbNmsUPuAsDpgEO+Bg4C7//iyv5hvmMiQiqVQpqamvB6vVNwEeG1JZtCBrYi/MrkAwDNgjhwAlbzICBLA0rDb0+/839C6XQaaWxspLCw8Dp86cbNmqVFJQddE6KzdjZ9D89g+B6fSyCOcyn1nxil+O9xKg5HqWFSHGXLjrP7W/ICqVQK2bNnDz6fDxFh65KNvxbHDhF4rJj2bXPo+IGfcW5h5xL4f99P+FCEMIAob75x9t0dAMlkElNXV4e1lteXbNqiQoMaeOFOjrdU868SD2luYyEP6dUh+sYmSHeOU6GO5Z8VLx5+NNZxIpPJ5AS2L3upROCoCvz8Lo7vnkf77cAHhpiz/zIL9vWz8L8p/NvupmM0Q7pjnAoLqz8tDrc8MnQqYVUVhVdF4LEg7b+rvDn8wDDlH0WoPpukLJImSBaMwjcJqmwWts2jPZLG/8kwYVFeVdXXZcFf4yVDc2cNKfBFmD9X+0ncCP58F48eG+Feo2CAUkvs4dl0V/uJvdXLiiV+ut++n7YLSfxPfMMG54ChzB3WIesVWB2i82bw1AR6fJR7C4VsfYiv6u/k3A9nEgP4zXke8DiYHyAOMK+QxPIgnZ9GqSHr1itQJ8DK2fTerDQ+S/bHRXQJaHSCwNIZ2Xh+7+S3VAmwNMBA/tuPZtErgKquUmdMWIFlRURvdamRNEXGwIWrlP47pTMzLiunxghGMwTLvcTWlHAp77s4QNSrYMQtss6ZMgWqCm5cHoDHO1nbk6K8zEN8+3zatv2Hn1b59EqJZdxmYUERg9P9KwpIiAOTdWUWBXuLzB/vZG3P1Un4PNp2d1MbmyD45TWCxuCsQm0x56bHGHFYEZwxok7toAA9Sfw3hCcoL/NOwi9QO5wmWO1j4JEgZxTkodmcWRGkf3pcX0r8xoAaBixKu4U5/xwndM+0tpAvS6mP+PZK2nb1UBvPEKwKMLDvPj4ESGc55lGy303sdJKQdZB2rkMdctAB/4gzN+/Q2ENNd4LyUi/xN+bTtquX2thk5nk4wI3gAF+OMNcA1nFQDfK+BY5GqbkwWabTY5QZhXWlnNx1ntrY1Rz87fuvw29m/Sn8J+PUGAFj5T19baA1IspuBZp7cx1x4SwG1cEf+lgRSROs8jGwb+Ht4QB/GSSsAhYano39LWIBxNEIbP14hPDuiyS2VtJuHXQlKKvxM/jiXDq/D/xPlwifGMkJZB2NIoKpr69nxeiZxLHicFSFVWfGqBidIP3LSjrWltD94CyufF/4kQgPuVz2Lz93+dDRa9eu5QQ8Hg8/iXee+Dy4CKMs7xqn4nwKz9IirhQqmVuB42m8ey+x7LMoD6iAON782eChhqmRuXfvXgKBAKqKqtI0/8nNKrQI4BVYXkzHgzPpC88gWuHL/caXrhLoGiN0apSKr0ZZRBZM7q2w5ZnLR1oAnHOMjY0hra2tFBQUYIyZmstvVT1Z6eDlAuEVq7merxmwueNPDXy9PvybjKP5mctHLk4/XTKZRJqbm/H7/VNw1VyEMYbW4FN3WNWnnchKoy5sHeVGBRX6VWi3ymFx7r11Ix8MTX/y5C2RSPC/AQB61erowbpqSwAAAABJRU5ErkJggg==&quot;
        },
        &quot;$:/plugins/felixhayashi/vis/img/network/cross.png&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/vis/img/network/cross.png&quot;,
            &quot;type&quot;: &quot;image/png&quot;,
            &quot;text&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAADvGaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDItMTRUMTE6NTU6MzUrMDE6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE0LTAyLTE0VDEyOjA1OjE3KzAxOjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wMi0xNFQxMjowNToxNyswMTowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6NjU0YmM5YmQtMWI2Yi1jYjRhLTllOWQtNWY2MzgxNDVjZjk0PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjk4MmM2MGIwLWUzZjMtMDk0MC04MjU0LTFiZTliNWE0ZTE4MzwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjk4MmM2MGIwLWUzZjMtMDk0MC04MjU0LTFiZTliNWE0ZTE4MzwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo5ODJjNjBiMC1lM2YzLTA5NDAtODI1NC0xYmU5YjVhNGUxODM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMTRUMTE6NTU6MzUrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjIxODYxNmM2LTM1MWMtNDI0OS04YWFkLWJkZDQ2ZTczNWE0NDwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0xNFQxMTo1NTozNSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NjU0YmM5YmQtMWI2Yi1jYjRhLTllOWQtNWY2MzgxNDVjZjk0PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAyLTE0VDEyOjA1OjE3KzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjc8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NzwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+cZUZMwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAA2ElEQVR42gDLADT/AS0tLUQFBQUVFxcXtPHx8fPl5eUNCAgITCkpKesEHx8fGgYGBjH+/v4a+Pj4qgQEBFU6OjodMTExzwQUFBSvEBAQEfX19SD19fVqNDQ0CElJSd/9/f2vAwEBAfrn5+fkBwcHLRYWFgsXFxfz29vbo9LS0uwDDQ0NDfPz81orKysXIyMj+ODg4Avh4eEa/f391gMkJCRYPz8/KUhISOMCAgKh8fHxHRsbGx4UFBQQBDk5OeY7Ozv7CAgItPb29vMEBASaJSUlTQ0NDesDAEwpT0Ko8Ri2AAAAAElFTkSuQmCC&quot;
        },
        &quot;$:/plugins/felixhayashi/vis/img/network/cross2.png&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/vis/img/network/cross2.png&quot;,
            &quot;type&quot;: &quot;image/png&quot;,
            &quot;text&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAADoRaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDItMTRUMTE6NTY6MTUrMDE6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE0LTAyLTE0VDExOjU2OjE1KzAxOjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wMi0xNFQxMTo1NjoxNSswMTowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6OWIwNjRhODctYWNlZi1jMjQ5LTg5MWUtNDAxOTVmMWJjMTNkPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjlmYTI2M2QyLTljOWMtNWY0OC1iYjNiLThmYmQ5NmI5ZTBhMjwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjlmYTI2M2QyLTljOWMtNWY0OC1iYjNiLThmYmQ5NmI5ZTBhMjwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo5ZmEyNjNkMi05YzljLTVmNDgtYmIzYi04ZmJkOTZiOWUwYTI8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMTRUMTE6NTY6MTUrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjliMDY0YTg3LWFjZWYtYzI0OS04OTFlLTQwMTk1ZjFiYzEzZDwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0xNFQxMTo1NjoxNSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8cGhvdG9zaG9wOkNvbG9yTW9kZT4zPC9waG90b3Nob3A6Q29sb3JNb2RlPgogICAgICAgICA8cGhvdG9zaG9wOklDQ1Byb2ZpbGU+c1JHQiBJRUM2MTk2Ni0yLjE8L3Bob3Rvc2hvcDpJQ0NQcm9maWxlPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT4xPC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj41PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjU8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PvQ0yV0AAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAHZJREFUeNoAaQCW/wE1NTWrERER3+3t7Xbp6emKOTk5IgQtLS3kBAQEdfLy8ipOTk5LQ0NDkAE0NDQAEhISxiEhITkTExPH9PT0OgMGBgaPMzMzVS8vL7XU1NRC7+/vEQNfX19lUFBQtfPz82EEBAQMNTU1HwMAMI4nIAoe9RQAAAAASUVORK5CYII=&quot;
        },
        &quot;$:/plugins/felixhayashi/vis/img/network/deleteIcon.png&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/vis/img/network/deleteIcon.png&quot;,
            &quot;type&quot;: &quot;image/png&quot;,
            &quot;text&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNDo0MTowNCswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTQ6NDE6MDQrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjc3NDkzYmUxLTEyZGItOTg0NC1iNDYyLTg2NGVmNGIzMzM3MTwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDowNmE3NWYwMy04MDdhLWUzNGYtYjk1Zi1jZGU2MjM0Mzg4OGY8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTQ6NDE6MDQrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjc3NDkzYmUxLTEyZGItOTg0NC1iNDYyLTg2NGVmNGIzMzM3MTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNDo0MTowNCswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjA2YTc1ZjAzLTgwN2EtZTM0Zi1iOTVmLWNkZTYyMzQzODg4Zjwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4aYJzYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYGSURBVHjalJZ7UJTnFcZ/73m/72PdJY1RbhoQp6lkXRAvmIYxdCUadLVOozPNtGObap1JsKipjiShbdoRbeKEiQHpQK3xj0xa03aamTbaTGyAYV1QGeqFi+JyiZFLAlmESBkWRmS3fyzslGkmnZ5/v/M873Oe75zzvqqoqAibzQaAiKCUAkApRdHIK/NFsx2NR91nOSILADDoJyzNaM4xxbtvPHh0iC+JiYkJ1OHDh4mJiUEpFSXPv/ziPC28TIiXDCOSrAClQDSEpsCwJPIhrEBRQpiSytXlQwDhcBilFPfu3UMVFxdjt9ujFTzfcLBADCoEEAFr1ZbrrNjch2vtEImPBgHob7fTcWE+bVXJNJ/NiFQlEGLvieXHKmYqGB8fRx05cgSbzYaIsPvywV8pKFaA7fGtLTzz61YWpo/xVTHQbufsq5lcez9zWuWhk5mvFwMEg0H0+vXrMU2Tn1wp3CtCiQ5DjGd3A/m/v8IDCZP8r4iNmyRrWx/j/5qktykZpXKzAjVDVxPzGqemptDr1q1jX3NRnIJarcDKK2hgR2ULXRfncv7UYv7xpovhnhiW5Mz+kefeSKO6LJ1A1xzEuk/Ojm4mRibpuZaMZW3OCtRUND60NmiICCIUShisx7a2sLMiQn4s77uEQgIabnqdfHIlgT1/qQeg8vs5dHhdCNB1wYn3RIiC995j26stjAbsNH+YiZJCESnS1Y/XxIXu8r4YIPv/VkVs3CTnTy2ms34xro1+sp9po6sxlTu34ultmsPVvy6is86FCHgO+DDs49zpjufBpCG+seYOC9OHaTidieicb9ouVAhKtouAseI710ma7pLuqwmgYfHqAFt+6WdLoQ/LBl11Lm7VudAa8vb72PCin9TlAWIsGGhLACD+kSAZnusYBii1XQAPYWDllt6ov2lrBkDBR2+6Ofuak2//3M+G/T4wAAPW7fPhKfRTVeqk9qQbFKRmDUTxS3N7QYGYmwzCkqklBGlPDEcTNv+sg9tNCbTXuvBWujE0bHrZj9JE1B/wU1Pm5PwJN6YBS9a2kVvQEcWnrh5GTFD3lxkYkqRMgYQlwVldUvDnen73LHTUuqitdKM0eAr9AFQfd1J/yo2aJn+2sn4Wdn5qEFODJskgBIjx5T0uCrQA08pnIjS9PERDjPnfOKXAMEBECUoGEIHBj+2zkt76UQ6dXheGAev3+cg74Kf6uJPqcicbfuond7cPy4SOiy7+tD9nFvZurx00KOk3CNEC+mE+vjSPBc7IWqgqTaPT60IMcO/xsXGa3HfKjRgRdbl7/KDg0jtubje6aHj7c7J3dgLQ2zoPwwQ91SooOQdAW1VKVMHty0kA5Bb48BycJn/LjWFGbLv4thvvb53kFvjJ+XEdWkPfjQVR/CcNKYgGMc8JWt5Fa2j+MIPPuyI2pa4IoHSkt6vLIuRaQ9q32khzt4GCxtNu6k46GeiIR2lIfDQQsafPzq1LGRGL9Gk9d+vrwewvfHPQOoexQVjxdB/auk/zmaUMdsfz6bVUtIalT7bxveP1ZHh6GPDPYeSzeD69kcpIfxymFWLNrka+ljhBTWkWwz2JiJT84YHnz2iPx0P20PkmRF5i6HYiwZFJsn/YzdezbzE3cQibY5xV266z6RfXohakb+xB9CjanCD9qTbW7Grk4WV38VZm0l6dhQiEw9taHSuDqrS0FIfDwXM3X9mHMsvRAk/sauDpQy38P+GtzOTGB9mEpkD0C2dS8n8zOjqK9ng8WJZFU+JTjasGvaCNXPpvJBPoMlm0OoDNMfWVxONfWNSUPUZ7TUQ56tCZlPwSgMnJSVRpaSmxsbFE1raw82ZxAZZRQUiBYUKGp5UlOX2krBzmoUVjiIKhHge9rfPo+Wcy3ZeXIYASgL1/X5RfMXMvj46OosrLy7HZbGitUUohIuzoem0RofALaOsghgWGjky0MiJTL8b0lOvI8hN1DKXKP0jd3TNTWDgcJhgMoo4ePYrD4Yi+KmaeLlprnrtXFo9h/AAlG1AqE8yFmBrC+jO0bgH9EVpO/1F2Dc5g//OAsbEx/j0Af+USsQynL1UAAAAASUVORK5CYII=&quot;
        },
        &quot;$:/plugins/felixhayashi/vis/img/network/downArrow.png&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/vis/img/network/downArrow.png&quot;,
            &quot;type&quot;: &quot;image/png&quot;,
            &quot;text&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQffARwOJDdL2KxuAAAGRklEQVRIx52XXWwTVxaAzznXDn9xLUcFjyOShowhEzuwSSQXMN38gEJEoOwDaxkCCMr2FaXhJ0/sWmmfCkULSAgUtdknHpBWEYi2oGhlmc2fWrwJCDL+wYF4XEicZBMbgrFDY/eh4wjMmJjel5m595z73XPuPeeeQcihORwO9Hg8f2aM7UylUluIyAgAOgAARJxBxAAA9APA9zzP97S3t6cWmxPfNVhXV0d6vf4LRDyLiID4u7jSk4heVz0eDAbPuVyu5HuD7Xb7ZwDQSUSAiFBYWDhmMpkks9kcLikpiWq12gQAQDQaXTI6Oqr1+Xx6r9dbPDY2ZiAiSCaTgIhHOjs7/5UzeO/evV8CwN8RETZs2ODbvn27WF1dPZnLtty7d2+l0+k0iaJYJnvpq46Ojn9kyjEF6DkAaENEaGho+Ono0aM/GQyGGOTYOI6Lbd68OfjixYtfg8HgakSstVgsOrfbfSurxXa7/WsiagMAaG5u/s+uXbseZU7s8XgKrly58sn4+DiHiMBx3Pj+/ft7BUGYzpTt7u7mr127tk3+PHPp0qW2tyy22+2fIeJpIoJDhw51NzU1PVay6MKFCw3hcJgjImCMQSwWyw8GgwV1dXW+TFme52dWrFjxf1EUecbYFovFIt25c+cuAAABANhsNkZEnUQEO3bs6G9sbBzN5sqJiQmOiKCjo6Pj8uXLHYgIExMT3DsiY3Tr1q398kI7bTYbWwAzxloQEdavX+87cODAg3fGX0boMMYyQ+mttmfPngcmk8mLiGAwGFoAAMjhcCARnQUAaGxsFBcN/D8ABgCoqakRGWOgUqnOOhwOJL/fXwMAUFRUNFZVVbVoyCiBcgGXl5dPGQyGMSKCZ8+e1RAiNiEilJeXS7mES6bFKpUqJ7B82CQiArVa3USIaJXB4VyUiegNUDqz5dJKS0vD8sI3qxBxLSJCSUlJNJuC3+8v8Hg8XDwez8sEp3N4V1dX5bJly+bWrl07bjQap5XmKSoqisq661SIqCMiSOdeJejFixf/+rq1Snvsdrs/BgDo7e2FI0eO/Jvn+bfgGo0mIevqVIu5yuPxcAAAFRUV4tKlS+dev6UAAKqqqu6m++bm5vL8fr9pZGSEUwK/fhBVqVRqhoj00Wh0yapVq15mCs7PzzP5QMwfPHjw58zxffv2LfRdvXp1EyLCq1evVErQ58+fL5HBM0RED4kIJEnSKgmXlZWNExGIomgOBAIF2Tzz6NGjAq/XW0FEwPP8uJLM06dPtbJ3/EREA4gIDx8+1CsJm83mSUEQvMlkkq5fv27NBr5165YVAGjdunVeQRAmlGRCoZBeBg8QIv4AAODz+YqzTXr48OFenU4XmZycLOzp6SnNHO/r6yudmpoq1Gq1EZvN1pttHkmSihljAAA/0urVq/+LiBAOhw3379//UElBrVYnKysrRSICl8u1KR6PL+xhIpFQDQwMbEJEMJvNolqtVix3AoHAh9PT0wYigpqamh5qb29PIeJxAACXy2XKttqdO3c+4Djul0QikX/jxo2qdP/NmzcrY7FYPsdxvzQ0NGS9YAYHB01yBB2vr69P/n7EZmbOy+4Wurq6KrIp19bWDhERDA8PbwiFQtonT55oh4eH/8QYA6vVejebntPprHj8+LEAABCPx88vFAKiKKYsFksIEf8iSVKRRqOZKi4ujiqUNbOSJOVHIpGV4XD4g0AgUDQ7O6srLS31bdu2TdHaoaGhj/r6+urlMPr81KlT/3ujAnG73UMbN25cgYhbvF6vMRvcaDSODQ0NGSORyMpYLKZdvnz5bHNzc3deXt68EtTpdDbKJ/lMW1vb6axVZktLyzlEbCEiqK2t7d+9e/dblszOzuZ5vV4OAEAQhPH8/Py5TJnbt29XuN1uq1zqnj9x4sQXi5a3ra2tpxljJxERBEHwWa1WURCEnMrbkZGRlYODgyZJkspk9545duxYW84F/cmTJ/8GAN+mLwW9Xj/G83xwzZo1YYPB8Eyj0STSaXBycvKDYDCoD4VCH0UiEUM6dyPi562trd+99y+Mw+Ggly9ftjLGvlGpVAsVCCKCnAjeuK3S74h4orq6+p/19fXv/wuTuYBkMvkJIn6KiFYi4olIJ4NmEHGEiPoB4IbFYul9FzDdfgOenj3/W2qSyQAAAABJRU5ErkJggg==&quot;
        },
        &quot;$:/plugins/felixhayashi/vis/img/network/editIcon.png&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/vis/img/network/editIcon.png&quot;,
            &quot;type&quot;: &quot;image/png&quot;,
            &quot;text&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNVQxNDoxMjoyNSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDVUMTQ6MTI6MjUrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjY5OTM3ZGZjLTJjNzQtYTU0YS05OTIzLTQyMmZhNDNkMjljNDwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDozOWNhNzE5ZC03YzNlLTUyNGEtYmY1NS03NGVmMmM1MzE0YTc8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDVUMTQ6MTI6MjUrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjY5OTM3ZGZjLTJjNzQtYTU0YS05OTIzLTQyMmZhNDNkMjljNDwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNVQxNDoxMjoyNSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjM5Y2E3MTlkLTdjM2UtNTI0YS1iZjU1LTc0ZWYyYzUzMTRhNzwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4ykninAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYpSURBVHjafFZtTFvnFX7Oea+NudiY2Hwam4CBlgQwXdKREDKUoYg0jbRJ29RJ2VZ1mjRFUxSpA3VTfkzJfkQbS7spU6rtx5Z2UtppScjaHxvLuiatWi2jLEoMIUDCh23g2gbj7+tPuPvhOurawPl1dc99n+c55z33fV46ceIEZFkGADAziAgAQERoe/9ZK4GPM/AcgbsIXAcABCgMvkfAqAa89eDoJyF8LogIqqqChoaGYDAYHr8kItS8uc8iIH6iAa9IkAo5EAQX8pqmgUVBCBggYFgDhv0/GAsBgKZpICJkMhnQ4OAgZFkGEYGZUXmp+0cS+CKBwWA0DVRPOg5Zl2q6zaHyJlnVAMQXVTkwHrUqH0Xsvn+tdQAAMQDgpPLS2MViFY8rkGUZzIzaS/t/xqCzGggtz9e697zsnKhoLUtim4jOq/LE6x7X0nsh16dEZ5a/O3a2SCAOHjwInU6Hujd6ThJ4mCDQ+b2G232v7v6vwarPbQn8MGlMr+X0kpE3Wr5Zt5hL5HPhqYSdQIfKJ+yhxDPKWC6Xg+jt7UXD5b5KBt1kCHS85Ljd8/On3NupfnhFaZj4rWff1B98B1R/hnUmKd36bdtCNl4g0en4edNE/cXwLq8qMTMIPAQwmo/WuHvObA8+9c58k/dKtD0TyZWXN5YGA7ej7epKxspM//7SoNOdWc/Jyq2wiwhDzPxT8cP0jys3VMM7OmL0/77zn4Ydui3b8uiK0jD7RrA77c9Wd57cefPpF+2T6bWsFPWkaiPTCWvTsZpHFU+XrS+8G3AR08F6X+1FJvBxQQzHQOWk2SmrW4FPX/U2LVwPuDZj+fJKl2khPpeyAqA9rzR/YqwuiWXX8taN/CabGkrVuq9YJlkQQDjOAJ5jAhz9Vt9W4N5/rNp8I+vtMV/aZm4zLnUNNt0urdYnF68HWoJj4Wo1mLGUNRr8LEgDgNqeCh8xQIKOsgC7iAjVe83rT9zQa8uNM28u70kspessu8q8zq/V3NcZpVzb9+0zmVhOvvvrhaMVzrJg0zeq7xMVCCwdpnWSGBqjUyJwLTFgbvxie3w31uoWR1Y74r60rdxZqrR8q85t2W2MGCp12bm/KC3hyaSTiMhxuGrKcahqpbjOaDOoEhOEoFqJQCCJvqA85I6bfTdDjQlf2lbxVNlS6wt19yy7jRHZZlDnrinNj/6sHMhnNw2Ogco7O79e5fm/xQywRBBCEAuwn4gQ96bkYj4Vyuq9N1Z3Bj4Od5bs0MXt/dZZ21ctiqFan174q985P+Lfp+U1g7XDON/1ctP458WlVjLyJhOISZE0wM0S1QfuRC3lTjkJAKKEtNC9eIOhSh9xHLZOJRZTFuXDsEoStLkR/768ummsaJG9Pb9oe+9J+xaeSVokiQDSJphAo5uaBuWjiKP4QTqS1cUWU7ayesN66wu22frD1vmVW6GW6T8u9eVjGyZzs+w78Nqu0a2mbvVu1KEJQAgeZRL0liQYyx+GOmKeQpu0rMYsAJPNEFGD2dLodLIy6c9Ys7G8yeSUl3tf2/X3rcBVJSOv34l3sCBogi7z1LH/rBHjl4IJ93/ncQFAnjeImJD0Z8zuCwu9q3djDXqTlAKID5xv+9t2R8n8VcUFBljQ8Gyfe40BYBM4DwDLt8Kue79ZcFkbzfEdbUbv+oN4c9KTtsfm1MbYQqqh+2zrVZYKs/7Ef+byimt1POYiJhDhPBFBIiIEXhxfs7/dfYoIF+auBfYTE/pebx/V8hqBP2ODvD34yvuh/WCAmU75Bx6sIgaI/v5+6PV6JLqUsYr7dpDAoehs0h73pHTWrvKgThYbRSt9UmSjef3MpaUvBz4O72UmADgTOPJguGiZor+/HyUlJWBmJFz+D8xTtlUiOpbwpmrmrweeSXrT+g11k4SBN3RGKUcAVCVdFhyP1nreDbY//NPyEXUlU/Pp4XYycGT6V0Ux2WwWdO7cOZSWlkII8diX7SPPNgDaKdbxoNAxwATBAEkEEgSWCEQAqPAMwqvMdCEwMO0tVqZpWsGTT58+DaPR+PhGIYQAAAgh0P7B3ioW/B0iGiCGiwXbCuOHFSJys6AbYFye2T+xWhT3WYJEIoH/DQBMw3kes8OJPgAAAABJRU5ErkJggg==&quot;
        },
        &quot;$:/plugins/felixhayashi/vis/img/network/leftArrow.png&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/vis/img/network/leftArrow.png&quot;,
            &quot;type&quot;: &quot;image/png&quot;,
            &quot;text&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQffARwOIyX3IEvhAAAGn0lEQVRIx62XX1BT+RXHzzn3FgYhIjuBcC2BwCVIYGEIcIGopTiiO7I6OLE2jujYbXf6os5WAV9KyWj74m7/bH3TsfTBFx+Y6dhWZ6eLDNkV1oRsoqI3CX9mTTIC2dD8U0ICNLcPTRx0+efW83LvzO/8zud3z+/3+55zETZhRqMRHQ7HjxiGeV+SpF1EVAoAOQAAiBhExEkAGAGAf/I8/+XFixeljWLieoMtLS2kUCh+hYh/QERA/J/7ak8iWjm10+12fzo0NJR4Y7DBYPgAAPqICBARtm/fPlNRUeGprKz0qVSqcHZ2dhwAIBwOpz99+jTb5XIpnE5n4czMDEdEkEgkABF/3tfX99dNg48dO3YJAH6DiFBdXe3av3+/WFtb69/Mtjx8+DB3cHCwQhTFHcks/fbatWu9r/sxq0A/BYALiAj79u0znz171sxxXBQ2afn5+VGdTueen59fdrvdBYj4Y0EQcqxW62drgg0Gw2Ui6kREOH78+IDBYHDC97Sqqipfenp6yOVylSBikyAImVar9fPvgA0GwweI+DERwalTp/7V1tb2DfyfxvN8MDMz89+iKPIMw+wSBMEzOjr64CX46NGjDMMwXxMRHDhwYESv14/DWzKVShWKxWJxj8ejJKL2wsLC34miKLEAAAzDfISIUFVV5Tpx4sTjjYKNjY3lOhyO/LS0tP9UVFTMlpWVBdbzP3LkyOO5ubl3HA5HOcdxHwHAH9FoNOLExEQCAKCrq+tvWq12zdO7tLREV69e3e1wOMpT95aI4MyZM/1qtXpduMPhkF+/fl0PACCTyYgdHx9vRkRQKpUz60H7+/srbTZbZSQS2caybKK6uvrJ8vIyI4pihdPpzN8IrNFo5jiOm/H5fFwkEmlmEbENEUGj0XhWm2CxWLiBgYGaZ8+eKREROI6bNhgMw6WlpcEbN240sCwL8Xg8bZOHzeP3+zkiamMRcWcS7FvpFIlE0vr6+na6XK4yIgKZTPaitbXV3NraOvVSfZJSef/+/YbR0dEGAABJkl5uAQBAXl7ebHt7+z2e5wMlJSU+s9kMiKhjEVGNiKBSqcKpgM+fP0+7dOnST6LRaBbLsglBEB7q9foHWVlZS6/IXlK/EREkSQIiAoZhXtHxubm5/Fu3bu0+f/7835VKZTi5oDIWEXOICFLaCwBgs9nyo9FoVlFRkcdgMIyoVKrIaqnr6OiwdHR0WNZLb29v7y9DoVB+8lDFk+AcNlUEVpokSbhKxXkrlorJSpIUJCJFOBxOz8vLWwAA0Gq1M3fu3Hnh8XgKr1y58sO6urpHer3enpGRsbwyyM2bNxsePXpUQ0SvLPL1d7lcPpvcwvTkWJCIaIKIwOPxZKecs7OzF3t6evrLy8vHJUlibDab9vLlyz81mUwlr69+JTT1ntp3IoK8vLzZgwcP3gMAmJ6ezk6OjbNE9BUi7p6YmFDU19fPpoJu3bp18fTp00M2m801NDSknZ6eLrh9+3arzWabPnz48HBxcXEwFbyurs7S3t7+YKM0e71eRXJbv2Jqa2sXEfFni4uLTEtLy3c0muO4FzqdbiIej8cjkYgsFArl2u12jd/vT19aWvpBMBjM5Xn+G57nN6zXg4ODDbFYTCZJ0q+poKDgC0QEn8/HjY2NydeadOjQocfd3d39ZWVlToZhSBTFqsnJyQoAALVaPbsRdHJyUh4IBDgigubm5i8Zk8kE9fX1zxHxvfn5eWxsbHSvNZlhGKmmpsbNcZwnMzMzrFKpnu7du9eiUqkCG4EHBgbqw+GwHAA6T548OcIAAJSUlFi2bNnSGwgE5LFYLK7RaL5dL4hcLo+q1Wofz/P+bdu2LWwixe8+efJECwAQi8XeN5lMEgMAIIqiJAiCFxHbPR6PUiaTzRUWFobfxr212+1Fw8PDe5In/8Oenp6vX+lArFarvbGxMRMRdzmdztK3Abfb7UWDg4PvJa/QJxcuXPh41Z7LYrF83tTUlIOITU6nszQej8d37Njx7feBmkymd1NfKknSn7u6ujrX7TLNZvNnOp0uk2GYXV6vV+n1erMyMjKicrl8U53m1NRU7t27dwWHw6FNpveTzs7Ozk039N3d3b8AgOspNVIoFDM8z7uLi4t9HMdFZDJZPCWDfr9/q9vtVni93qJQKMStqFofnjt37i9v/AtjNBppYWHhHMMwv2dZNnWlABFflr81JLOrtrb2T3v27HnzX5jXF5BIJHYj4iFE3ElEPBHlJEFBRJwiohEA+IcgCPfWA6bsv6nEjVSaQsrEAAAAAElFTkSuQmCC&quot;
        },
        &quot;$:/plugins/felixhayashi/vis/img/network/minus.png&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/vis/img/network/minus.png&quot;,
            &quot;type&quot;: &quot;image/png&quot;,
            &quot;text&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQffARwOJCdWb7wKAAAE/UlEQVRIx7WXXUwUVxTH/+fcMcTQLaFZd3cMu66MBVnFBOJEELqVByVSGxKNWWNMjK3xjViyyBNlQ9uXak31xQfS0kfeTOxXTK0bbP3I6io1mtldPoI7mwjLCuxiFDZpdvrgDtlStKjwTyYzc++d+7tzztxzzhCWoUAgQJFI5AMhxEeGYTQw8yYApQBARDNENALgJoCfFUX5s6enx/i/OelVnbt27WK73f4ZEZ0lIhC9GL7UmZkLH/XH4/FzAwMDudcG+3y+YwD6mBlEhPXr1497PB59y5YtSbfbnSkpKckCQCaTKXr06FFJLBazR6NR1/j4uMzMyOVyIKJP+vr6flg2+NChQ18A+JyIsG3bttiePXu02tra1HLccv/+/XXBYNCjaVpl3kpf9vb2di8eJ5aAngPQSUTYvXt3qK2tLSTL8nMsUw6H43l9fX382bNnf8fj8TIi+lBV1dJwOHz5pWCfz/c1M/uJCIcPH/7d5/NF8Yaqrq5OFhUVpWOxWDkR1amqWhwOh6/8B+zz+Y4R0WlmxtGjR39raWkZw1tKUZSZ4uLiKU3TFCFEg6qq+p07d/5aAB88eFAIIe4yM/bu3Xtz//79Q1ghud3u9Pz8fFbXdSczt7pcrq80TTMYAIQQJ4kI1dXVsSNHjjzECuvAgQMPPR5PlIggy/JJAOBAIEDMfBYAmpubNaySvF6vJoSAJElnA4EA8dDQkBcAnE7neE1NTWq1wFVVVU9kWR5nZszOznqZiFqICFVVVTpWWYqi6MyMNWvWtEhEtDMPTpoDIpHIe/39/Y2Tk5MOMxyaIdG8Lrw3DANCvNgghmEstNtstonW1tbriqJMA0B5eXkyFAqBiOqZiN4nIrjd7owJ7u/vb0ylUo5CyOLDjNHmwgzDABFBkiRIkgQhBKamphyXLl1qNOd1Op2ZfAiukIiolJlhxl4ASCaTDiEELly40Ps2pu3u7j6RTqcd5r3FYsnmF10qmUmgUEu1rZRMa0mGYcwwsz2TyRTZbLY5AJBleWJyctLR1tZ2otC8helvKb8vnpyZYbVaJ8z2p0+fFuX7ZpiZh5kZuq6XFCSK6w6HY+JlvpUkacn2wgUSEWw228S+ffuum/M+fvy4JN83JDHzLSJqHB4etm/fvn0CACoqKqa7urp+XGkzJxIJe96Ft5iIfgGAWCzmWu19rOu6K7/tfuWysrI/iAjJZFJ+8OCBdbWgIyMj1unpaZmZ4fV6/+Senh6DiPwAMDAw4Fkt8L179zx5//ubmppyLz6xmZnzeXNvvnjx4taVhgaDwa1jY2ObAWB+fv78Qj7WNM1QVTVBRK26rjstFssTl8uVWQno4ODghhs3bjTlv/zjXV1dd/9VgYTD4cEdO3YUE1FDNBrdtBLwwcHBDcFgsDm/hc50dnaeXrLmun379pW6urpSIqqLRqObstlstrKycvJNoNeuXdtqvqlhGOc7Ojr8r6wyQ6HQ5fr6+mIhREMikXAmEol31q5d+9xqtS6r0hwdHV139epVNRKJ1OTNe8bv9/uXXdCfOnXqUwDfmdHIbrePK4oS37hxY1KW5VmLxZI1w2AqlXo3Ho/bE4nEhnQ6LZuRi4iOt7e3f//avzCBQIDn5ubahRDfSJKEfH0GIlrIvy8JmR21tbXfNjU1vf4vzOIF5HK5RiL6mIh2MrPCzKV50AwRjTLzTQA/qap6/VVAU/8Apxa13K97LqUAAAAASUVORK5CYII=&quot;
        },
        &quot;$:/plugins/felixhayashi/vis/img/network/plus.png&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/vis/img/network/plus.png&quot;,
            &quot;type&quot;: &quot;image/png&quot;,
            &quot;text&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQffARwOJQd0Gq2DAAAFq0lEQVRIx61XbUxTZxR+znmvMQY7xJT2XieI1jmoHwlIY1CG4KIExuSHITVqYtwM/wgSEI1hNrhfw5mpP9Q0G/tl+Gd0XzFkNoCIaex0RtJSPwZto7RFPooRMFm4++G9BGuBYnaS5va+99zzvOc5H++5hCTE4XCQz+f7TAjxhaqqO5h5PYA0ACCiUSJ6CqAHwG8Wi+V2c3OzupBNmu9hcXExm83mY0R0johA9FY90ZWZZ79aHwgEznd0dEwvGthutx8B0MrMICKsWrVq0Gq1Bjdu3BjJysqKpaamvgGAWCy2dGBgINXv95v7+voyBwcHFWbG9PQ0iOir1tbWn5MG3r9//xkA3xARtmzZ4t+zZ483Ly9vKJmwPHz4MN3lclm9Xu+nGkvfOp3O0/F6IgHoeQCNRITdu3e7a2pq3IqiTCBJkWV5oqCgIPD69et/A4HAaiLaabPZ0jwez805Pbbb7d8xcyMAHDhw4M+Kiop/4g37fL6VV69eLQyHwzIRQZbl8MGDB7uzs7NH4nXb29st169f/1y7PXv58uXG9zy22+1HiKiFmXH48OH28vLy/kQeXbx4cXckEpGZGUIITExMLA8EAiuLi4v98boWi2U0JSVl2Ov1WoQQO2w2W/DevXt/AwADQFVVlWDmVmZGWVlZT2lp6cBcVEajUZmZ4XQ6nVeuXHESEaLRqDxPZQzs2rWrR9toa1VVlZgBFkLUEhE2b97sP3ToUO+89RdXOkKI+FJ6T/bt29drtVr7iAiKotQCADscDmLmcwBQWlrqXbDwPwAYAIqKirxCCEiSdM7hcBA/fvy4CAAyMjIGc3NzFyyZREDJAOfk5LxUFGWQmTE+Pl7ERFRORMjJyQkmUy7xHkuSlBSwlmxBZsaSJUvKJSLargFHZpdMW1tbYTQalXUg3fjs//q9qqo4ceJENQCoqjqzbjKZwpWVld0Wi2UEANatWxdxu90gogImok+ICFlZWTHdWFtbW+HQ0JCsgyT6xTOgqiqICJIkQZIkCCEwPDws37hxo1DXzcjIiGkteINERGnMDL33AkAkEpGFELh06ZJzIfpaWlrm1Dl9+nT12NjYTKkZDIY32qbTJP0QiE+W+LX/S3S2JFVVR5nZHIvFlppMpkkAUBQlHI1G5ZqamurZ9M5OLN3TU6dOVSeKu341Go1hff3Vq1dLtWejzMxPmBnBYDB11kHRLctyeK7YSpL0Dkh84ulnt8lkCldUVHTrui9evEjVnj2WmPkuERU+efLEnJ+fHwaADRs2jDQ1Nf2SiKqTJ09WJ6LuzJkzC+ZDKBQyayG8y0T0OwD4/f7MxcQokccLSTAYzBRCAMAfvHr16i4iQiQSUR49emRMxsBsqpPtXE+fPjWOjIwozIyioqLb3NzcrBJRPQB0dHRYP8TjZOT+/ftWLf71JSUl029TbHT0gkZ39rVr1zYtBpiIoNE3p7hcrk39/f3ZADA1NXVhZhDwer2qzWYLEVFlMBjMMBgMLzMzM2OJjPT29n48NTW1vLOzc2tXV9dWZkZ6eno4Pz/fn0j/wYMHa+7cuVOibfhoU1PTX+9MIB6P58G2bdtSiGhHX1/f+rnA09PTh54/f75ycnJyuRACRqMxXFZW1r1ixYrJRKAul6tUK6GzjY2NLXNOmbW1teeJqJaZsXPnzp69e/f2fkiH6uzs3OTxeLZro+6FhoaGY/NOmW63+2ZBQUGKEGJHKBTKCIVCy5ctWzZhNBqTmjSfPXuWfuvWLZvP58vV6D1bX19fn/RAf/z48a8B/KjXqdlsHrRYLIG1a9dGFEUZNxgMb/Q2ODQ09FEgEDCHQqE1Y2Njit65iOhoXV3dT4v+hHE4HDw5OVknhPher10hxDuZPEfLbMjLy/uhpKRk8Z8w8RuYnp4uJKIviWg7M1uYOU0DGiWiZ8zcA+BXm83WPR+gLv8BUhzshlEbZ/0AAAAASUVORK5CYII=&quot;
        },
        &quot;$:/plugins/felixhayashi/vis/img/network/rightArrow.png&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/vis/img/network/rightArrow.png&quot;,
            &quot;type&quot;: &quot;image/png&quot;,
            &quot;text&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQffARwOJRIZx0loAAAGfElEQVRIx61XXUwb2RU+5147CIPrOoLYQ2LjYAdqjKOAmGAw1YYHsgqrCilZy1YUlG5ZVcoD2kYQP9G10valu/0hipSHKE0fiaiqRu0SrXYTFxdDBHhlIojH5kfgcWMwJoYpBeyksftQT+QQCE6aTxrNaGbu+c4959zvnouQB1wuF3Ic90NK6UeZTMZKCDEAgBIAABHXEHEOAEYB4Cu9Xj989erVzH428U0fT506RVQq1c8Q8beICIj/+323OyEkd2h3OBzuGxoaSr81sd1u/wQAbhNCABGhrKxsqbq6mjeZTDGdTicoFIoUAIAgCAWLi4uKUCikCgaD2qWlJYYQAul0GhDxJ7dv3/5j3sQOh+MXAPBzRITjx4+HTp8+Hairq4vnk5ZHjx6Vut3u6kAgUJWN0i9v3rz5+c7/6C6kfQDgRERobW0d6+rqGmMYZgvyhFqt3mpsbAxvbm7+JxwOH0HED1iWVfp8vq/3JLbb7b8mhHQjIpw/f/6+3W4PwjvCbDbHCgoK1kOhUAUiWliWLfL5fN++Rmy32z9BxC8IIXDx4sVv2traFuD/hF6vXysqKnoaCAT0lFIry7L8xMTE5Etim81GKaXfEULgzJkzo2fPnp2B9wSdTreeTCZTPM9rCCHtWq32V4FAICMBAKCUfoaIYDabQxcuXJjOx2AoFDrIcZz6+fPn1Gg0LtfU1OxZfOfOnZteXV09yHHcDxiG+QwAfoculwtnZ2fTAAA9PT1/qa2t3bd6Z2ZmDl6/fv1jAHi5fo1GY7Czs9MrlUp3Xbscx5XcunXrLACAXC4ntKys7ANE/LFGo1nq6Ojw5zNbr9d7dHFxUWsymQIMwyw/ffq0NJFIlPp8vgpBEKCqquo150tLS7empqbKtra25Mlk8u8EEdsQEYxGI59v3pLJ5AFCCMhksmednZ0PL1269GeVShUVBOH7w8PD1mvXrp2ZnJxkdik2nhACUqm0TYKITVniWE5YDvb39zevrKyoRTkUQyo+i4oGAGAwGNacTudXQ0NDeo/H0/DkyRPNnTt3ND6fb8Zut4/K5fJnAAAVFRWxsbExQMRGgojHEBF0Op0gEvf39zfH43F1LsnOK1erc7R93ul0/ollWb9UKk0vLCxU9vX1fbyxsXEAAECj0QhZhysliKgkhICovQAAsVhMTSmFGzdu3Hzb5VNYWPjcZrNNWCyW0ODgYFM0GtVyHKc+efIkL5fLU1mnlZLckInY7d27QLSRyWQw1zYAgCSTyawRQlSCIBQcOnRoGwCAYZjllZUVdVdX10935jQ31ydOnJh0OBzjOwpPcu/evdrp6enj6XSaymSyf1dXVy8BAGxsbBRkx69JCCGzhBAVz/MKkdjhcHgHBgZey7M4A4lE8or3IkZGRiq8Xq8lmUwWZ4tupr29/WVxRaNRRdbGjIQQ8hARm2dnZ1X19fXLAACVlZWJ3t7ev+4Vwrt3754YHx8/KToSDoeVg4OD1ng8Xpbdu//Z1NTkN5lMS7njIpGIKjvmoQQRBwHgSigU0gLAozwL6JlEIoFUKnVgYGCgkeM4EyIShUKxbjKZAq2trbvKLs/zWkopvHjx4p7kyJEj/4hGoxCLxZipqakSs9m8uh/xsWPHlkdHR2Fubq5aDLnBYAjabLY9JXNubq4kkUgwhBCwWq3D1OPxQH19/QYifri5uYkNDQ3h/YiVSuV2eXn5QnFxceLw4cPR5ubmiZaWFo5SumeTd//+/XpBEEoAoLujo2OUZhVlXCaTfZ5IJEqSyWTKaDSu5EOu1+vjBoMhVlJS8sYOxe121zx+/Lg2W/UfeTyeDAUACAQCGZZlI4jYzvO8Ri6Xr2q1WuF97Md+v798ZGSkJbsCPu3t7f3ulQ7E5/P5GxoaihDRGgwGDe+D3O/3l7vd7g+zTd+XTqfzi117rvHx8W8tFosSES3BYNCQSqVSVVVVK+9C6vF4asSZZjKZaz09Pd1v7DLHxsa+bmxsLKKUWiORiCYSiRQXFhZu7ZdHEfPz86UPHjxgOY6rzYb3y+7u7u68G/orV650AsAtUbVUKtWSXq8PHz16NMYwzL/kcnlKlMF4PP69cDisikQi5evr64x46kDETy9fvvyHtz7CuFwusr29fZlS+htRJimlgIhAKX1lf859RsSeurq637e0tLz9EWanA+l0uhkRf4SITYQQPSFEmSVaQ8R5QsgoAPyNZVnvmwhF/BfnjYAmDVlf5AAAAABJRU5ErkJggg==&quot;
        },
        &quot;$:/plugins/felixhayashi/vis/img/network/upArrow.png&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/vis/img/network/upArrow.png&quot;,
            &quot;type&quot;: &quot;image/png&quot;,
            &quot;text&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQffARwOJTG7oDgaAAAGZUlEQVRIx7WXXWxTVxLHZ+ZcY1mON8li44/GruPrsMT5UElzgSRswEIBOdUSARsZoUioHxIPCKUowBPUyrYv2y5aeOABtMsKJJ5YIaR+qBQwCS1u4zihUVw7DqTE1yFOlObDDmDTEHsfeo1SY1NTaefF8j3/md+5c86ZORehAHO5XBgMBv/MGHsrnU43EZEVAEoBABBxHhHvA4AHAD7jef7r7u7u9G/FxJcNbt26lbRa7fuIeBIRAfEXea5fIlrp2hUOh0/19PSkXhnsdDrfBoDzRASICAaDIWqz2cSqqqpps9kcKy4ufgoAEIvF5OPj48WhUEg7MjJiikajeiKCVCoFiPjO+fPn/1MweO/evX8DgBOICLW1taHt27cH6urqZgpZlqGhIY3b7bYFAoE/SVn68Ny5cx9k61gO6CkAOIaI0NLS0nfo0KE+vV7/ZKUmHo+v8ng8r42PjxevXr06IZfLlzNjOp3uSUNDQ/jx48fPwuFwGSJuEQSh1OfzfZkX7HQ6/05EXYgI+/btu+F0OkeyJxaPx1edOHHirwMDAza/32/1eDzWxsbG0Eo4AEBNTc20XC5fCIVCFkTcJAiC0ufzXX8B7HQ630bEj4kI9u/f/1Vra+uDXKk8c+bM5mg0aigvLxdLS0tjs7OzmomJCcWmTZvC2Vqe5+eVSuVsIBDgGWNNgiCI/f393z8Ht7e3M8bYABGBw+Hw7N69ezQXtL+/X3f9+vUmxtjygQMHvqqurp7o6+urnJ2d1eh0uocGg+FRto/ZbF5IJpNPRVE0ElGbyWT6KBAIpAkAgDHWiYhQU1MT6ujo8OfbONeuXatDRBAEYdhiscQsFkusvr5+mIjgxo0bdfn89uzZ47fZbCOICHq9vhMAgFwuFxLRSQCAHTt2BPI5X758uXpiYqKsqKjokdPpHFyxRIMqlerR5ORk2dWrV6vz+Tc3NwcYY8Bx3EmXy4U0OjraDABgNBqj69evz3lklpaWaHBw0MYYA4fD8Z1SqXyWGVMoFM9aWlq+4zgOhoaGbEtLS5QrRmVl5U96vT5KRBCPx5sJEVsRESorK8V8sz179uzmeDxeYjAYJrdt2/Zj9rjdbv9Rp9NNLi4ully8eHFzvjg8z4tEBDKZrJUQsVECT+cSDw8Pq4PB4DqO41Lt7e2efEF37drl4TguFQqF1gWDQU0ujcVimZbKawMhYgUigtlsjuUSh0IhHRFBbW1tYO3atXP5wFarda6qquoHjuNgbGxMl0tjNBpjUgleyyFiKRFBpvZmm0wmSxERLC8v04ULFzZkandHR4cXAODSpUvPn6XTaYaIIJPJlnPFUqlUT6VmUsplnPKZzWabunXrFgSDQRsRwQq9V1qKNzLPAQCICKxW61S+eBkdl06n54lIG4vF5GvWrElkCysqKuYOHjz439HRUV0ikVjl9Xo3ZAciIhAEwatQKH7meX6K5/mcS7K4uCiXwPMcEd0jIq0oisW5wBl4RUXFHACA1+vdwHHcC+C2trbvf6tzTU5OFkvZGiUi+hYR4d69e9pC2l5Ww3/h/8ssEolopVb5LSHi59LuNf1ecKFwURRNjDEAgC+orKzsNiLC9PS0fnh4WF1IgJWpLvSt79+/r56bm9MTETQ3N39N3d3daUTsAgDo6emx/b9SPTg4aJNORJfdbk/9ssXm509L6V535cqV6lcBIyJI6ctrbre7+sGDB+sAAJLJ5Onn/TgQCKQFQYggYpsoikaVSvWTyWTKWcn8fv9ryWSyqLe3983bt2+/SUSg0Wim6uvrQ7n0d+/eff3OnTt2acLvHT9+fOBXNxCfz3d348aNSkRsGhkZseaDazSamYcPH/4xkUgUMcZArVZPORyOb0pKShK5oG63e4e0kz85duzYx3lvmZ2dnacQsZOIYMuWLZ6dO3f64XdYb29vtc/na5SuuqePHDny/ktvmX19fV82NDQoGWNNkUjEGIlEihQKxRO1Wv2kEODY2Jjm5s2bQjAYXC+l95Ourq6ugi/0R48efRcA/pU5p1qtNsrzfLi8vHxar9fHVSrV00wZnJmZ+UM4HNZGIpHXFxYW9JmvDkR87/Dhw/9+5U8Yl8tFiUTiMGPsH5mzyxj71U7ObhDSkTlSV1f3T7vd/uqfMNkTSKVSmxHxL4jYSEQ8EZVKoHlEHCMiDwB8KgjCNy8DZux/ivJJxnpJh8sAAAAASUVORK5CYII=&quot;
        },
        &quot;$:/plugins/felixhayashi/vis/img/network/zoomExtends.png&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/vis/img/network/zoomExtends.png&quot;,
            &quot;type&quot;: &quot;image/png&quot;,
            &quot;text&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQffARwOJgNYWjpZAAAGOElEQVRIx62XUUxUZxbH//9zJxkI4DgRMoxBRsVddDqYQFgHBTvsCxfZXdyYaBoSY9o0PLgm3YZd9EH70D5tu6Q18cmsNtm3No0+rGsYQQK60GABNcI4oxg7M8lepuNlABUdsXP7wL3jQIvF2pNMvnvvd+75fd+Zc853Ltvb2yEiIAkA2WvrniQSiQQB7Cb5BwD1IrIFgNOcTwGYJDlE8oJhGFe/afvCAAACMLAoBGCQ+HP/+zAMA7Zc0HLg1NSUkPwrya7lczmji6RLROoB/B0A6r5o6wDw2chbX2YMEwoAGWQgIotgy6CIZHcMAIlE4m2SZ62FrV+/XvN6vTGv15vYuHHj7Nq1a9MAMDMzY49Go45IJOIKh8Plmqa5RaQrk8l01X3V9s43B778HFkxsvZ5+PDhJVBzpx+SPEES27dvjzQ1NYVqamqSWIXcvHmzpK+vzxsKhSpNj3w0sv+rD2C6/Y9X/gKSUPx+f3bHJvQzkp0k0dTUNHzkyJFht9s9j1VKaWnp/M6dO6OPHz9+Ho1Gy0QkUBb2Of/vvd1NEpVx/4/BU1NT/xCRDpJoa2vrPXDgQBi/UKqqqhJ2u30mEolsJllXdvuNgilvpKcyvmMRXFdXBxGBpmlvk/xYRHDo0KFLLS0t9/GaUlFRkSooKNBDoVCFoij1ZeE3YgUFBTdILgaXpmmKiJwliebm5iFVVb89duxYu+WJ1tbWoN/vj64GNjIy4unu7lat++PHj5+enp4eGhgY2AXgbDKZ/LfL5fpezP/2PZKoqqqKHDx4cNxKlVeFAkBtbW10z549QRHJBu2+ffvGvV5vmCQURXlPRCCaplFEugBAVdWQZYAkWltbgxcuXFCvXbvmWS14dHTUc+nSJbW5uTmoKEr2+e7du0OKokBRlC5d12kTkTcBYMOGDVp1dXU2Zfbu3Rv0+/1RksGLFy+q58+fT83NzTmX572VhiICh8ORstvtTlVVgzU1NVEAQUvH6/U+cLvdWiKRcGcymTcFQAtJbNu2LZa7csu9O3bsiKbT6VR+fv4SqPWz2WzZReTl5TmfPXuWMqGwxpxgi5nvtNhI7jLBiZXcNzc353z06BFOnTp1+mVuPnr0aLthGM6V5jdv3pwYHh4GyZ02kr8hCY/HM7vSC7mB8jIxg2fF+bKyslnTzm9tJJ0iAqv2rgRejeSecj8la9asSZu2nLafU34V+GpsZc8FACmSmJ2dtb+uq38O/PDhQ7tpKyUk74oIYrGY49cAv0xP0zSHmRl3bCS/Jtlw9+5dV21t7dRPveBwOFJ5eXnOzs7O9lzjiqIs6VyKi4uxsLCQWgkci8Vcpv7XIiL/BYBIJFK+vAIBwNjYmCcvL8+5sLCQyoXabLYf5fTz589TdrvdOT4+7gEAa8wBlyuKAhG5aCN5xeyr3Ldu3Squqqp6AADBYFAlGezp6VGbmpqC1dXVq6rX4+PjnsHBQZVkcHBwUPX5fKcBYHJysnh6etpttj5XpbS01CDZAQD9/f3e3Jx8VSgA+Hy+aENDQ9CEZ5+PjY15Tc90rFu3LiPm5EnT3VvPnTvny23oent71Rs3bqz6kJiYmLB2nLXR19fnu3///lZT5SRJ8MSJExARJJPJd0ieURQF+/fvDzY0NETxK8j169c9vb29KkkYhvGu0+k8YxgGlMbGRpBEUVHR9fn5+QKS9eFweEtRUdGD8vLy2deF9vX1Wbv/ZLyx/2NPYttiRgQCgWxUFhYW9jx58sRJsi4cDm9Jp9PpysrK734JtL+/3zc0NPR7M5hOTjQOdJBE+dTWxZoeCASWNOiFhYXdT58+LRCR+ng8viEejxfm5+fPFxcXr6rTvHfvXsnly5d/Fw6Hq83U++R249UOkcXDw/Pd4o5tuVFsjSUlJZ26rkcA/OvOnTuVk5OTlS6XS6uoqIhu2rQp4Xa754qKitJWGUwmk2ui0agrHo97ZmZm3DmNwruhwJUzQmXxK4Ivqppt+YoNw7DgZ3Rd/xzA+wD+qeu6W9d19+jo6JLjL7eoWNeGYfyN5KehwJWM0NSDIGN8vzI4V0pKSjIi0qXr+qcAGkj+yTCMXSQrDMNwmodCCsA9ERki+R8A/5toHMgoVAASxItcFr4osT8Aaa5QMU/uqTYAAAAASUVORK5CYII=&quot;
        },
        &quot;$:/plugins/felixhayashi/vis/img/timeline/delete.png&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/vis/img/timeline/delete.png&quot;,
            &quot;type&quot;: &quot;image/png&quot;,
            &quot;text&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAl2cEFnAAAAEAAAABAAXMatwwAAAVRJREFUOMt108FKG1EUBuBvYtxbRGwxiGBXeYCW0mVpDSKVvIJ0F/syJsFdn6GCkaZ9gro3G1u0ILQgheJKRUwXPQNnxvTAcGf+c/7/nPvfO8UEKLCFJg5w31aNqGtgG3c4xLSZyP0QgI8Tpu0quQhyPwTgsBnkAVYD3MM9DibVId5GbiW+B+VIt7hJha1IdhPWDayVsBvcFtHlDYZ4mgou8D7e+zXyN/TwuUhjbkSXLHIZ61KNvItxaYyayBDrZsf36DyGdilQE+ngA57UyD+xg08luTSxHvP/wRuRewDm7uV9WJ4hsBy5rczJJm7G/tcS6VesjxN2Hj4c5S10Qj2Tz/AunrOEr0VtB+Z6vMJ+zfkfcVQjnMbRvcRC5B/hBU4auMbVjBFHCRsFdp6wK1yXHjz37xItRuejfFQ1nwb4HXVfs4nPYsQv0p+oKlLgNf7gGP4Cw4ZUK7kMJVEAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDExLTA1LTE2VDExOjM1OjIxKzAyOjAw9uVF5gAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMS0wNS0xNlQxMTozNToyMSswMjowMIe4/VoAAAAASUVORK5CYII=&quot;
        },
        &quot;$:/plugins/felixhayashi/vis/readme&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/vis/readme&quot;,
            &quot;text&quot;: &quot;! TW5-Vis.js\n\nA tiddlywiki plugin for the vis.js library.\n\n---\n\n! Notes on Copyright\n\n!! TiddlyWiki\n\nCreated by Jeremy Ruston, (jeremy [at] jermolene [dot] com)\n\nCopyright © Jeremy Ruston 2004-2007 Copyright © UnaMesa Association 2007-2014\n\nPublished under the following [licenses](https://github.com/Jermolene/TiddlyWiki5/tree/master/licenses):\n\n1. BSD 3-clause \&quot;New\&quot; or \&quot;Revised\&quot; License (including any right to adopt any future version of a license if permitted)\n2. Creative Commons Attribution 3.0 (including any right to adopt any future version of a license if permitted)\n\n!! The **vis.js** library\n\nCopyright (c) 2014 [Almende B.V.](https://github.com/almende/vis)\n\nPublished under the following licenses:\n\n1. Apache License Version 2.0, January 2004 http://www.apache.org/licenses/\n2. MIT License (MIT)\n&quot;
        },
        &quot;$:/plugins/felixhayashi/vis/vis.css&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/vis/vis.css&quot;,
            &quot;type&quot;: &quot;text/vnd.tiddlywiki&quot;,
            &quot;tags&quot;: &quot;$:/tags/Stylesheet&quot;,
            &quot;text&quot;: &quot;\\rules except list\n\n\\define datauri(title)\n&lt;$macrocall $name=\&quot;makedatauri\&quot; type={{$title$!!type}} text={{$title$}}/&gt;\n\\end\n\n.vis .overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n\n  /* Must be displayed above for example selected Timeline items */\n  z-index: 10;\n}\n\n.vis-active {\n  box-shadow: 0 0 10px #86d5f8;\n}\n\n/* override some bootstrap styles screwing up the timelines css */\n\n.vis [class*=\&quot;span\&quot;] {\n  min-height: 0;\n  width: auto;\n}\n\ndiv.vis-configuration {\n    position:relative;\n    display:block;\n    float:left;\n    font-size:12px;\n}\n\ndiv.vis-configuration-wrapper {\n    display:block;\n    width:700px;\n}\n\ndiv.vis-configuration-wrapper::after {\n  clear: both;\n  content: \&quot;\&quot;;\n  display: block;\n}\n\ndiv.vis-configuration.vis-config-option-container{\n    display:block;\n    width:495px;\n    background-color: #ffffff;\n    border:2px solid #f7f8fa;\n    border-radius:4px;\n    margin-top:20px;\n    left:10px;\n    padding-left:5px;\n}\n\ndiv.vis-configuration.vis-config-button{\n    display:block;\n    width:495px;\n    height:25px;\n    vertical-align: middle;\n    line-height:25px;\n    background-color: #f7f8fa;\n    border:2px solid #ceced0;\n    border-radius:4px;\n    margin-top:20px;\n    left:10px;\n    padding-left:5px;\n    cursor: pointer;\n    margin-bottom:30px;\n}\n\ndiv.vis-configuration.vis-config-button.hover{\n    background-color: #4588e6;\n    border:2px solid #214373;\n    color:#ffffff;\n}\n\ndiv.vis-configuration.vis-config-item{\n    display:block;\n    float:left;\n    width:495px;\n    height:25px;\n    vertical-align: middle;\n    line-height:25px;\n}\n\n\ndiv.vis-configuration.vis-config-item.vis-config-s2{\n    left:10px;\n    background-color: #f7f8fa;\n    padding-left:5px;\n    border-radius:3px;\n}\ndiv.vis-configuration.vis-config-item.vis-config-s3{\n    left:20px;\n    background-color: #e4e9f0;\n    padding-left:5px;\n    border-radius:3px;\n}\ndiv.vis-configuration.vis-config-item.vis-config-s4{\n    left:30px;\n    background-color: #cfd8e6;\n    padding-left:5px;\n    border-radius:3px;\n}\n\ndiv.vis-configuration.vis-config-header{\n    font-size:18px;\n    font-weight: bold;\n}\n\ndiv.vis-configuration.vis-config-label{\n    width:120px;\n    height:25px;\n    line-height: 25px;\n}\n\ndiv.vis-configuration.vis-config-label.vis-config-s3{\n    width:110px;\n}\ndiv.vis-configuration.vis-config-label.vis-config-s4{\n    width:100px;\n}\n\ndiv.vis-configuration.vis-config-colorBlock{\n    top:1px;\n    width:30px;\n    height:19px;\n    border:1px solid #444444;\n    border-radius:2px;\n    padding:0px;\n    margin:0px;\n    cursor:pointer;\n}\n\ninput.vis-configuration.vis-config-checkbox {\n    left:-5px;\n}\n\n\ninput.vis-configuration.vis-config-rangeinput{\n    position:relative;\n    top:-5px;\n    width:60px;\n    /*height:13px;*/\n    padding:1px;\n    margin:0;\n    pointer-events:none;\n}\n\ninput.vis-configuration.vis-config-range{\n    /*removes default webkit styles*/\n    -webkit-appearance: none;\n\n    /*fix for FF unable to apply focus style bug */\n    border: 0px solid white;\n    background-color:rgba(0,0,0,0);\n\n    /*required for proper track sizing in FF*/\n    width: 300px;\n    height:20px;\n}\ninput.vis-configuration.vis-config-range::-webkit-slider-runnable-track {\n    width: 300px;\n    height: 5px;\n    background: #dedede; /* Old browsers */\n    background: -moz-linear-gradient(top,  #dedede 0%, #c8c8c8 99%); /* FF3.6+ */\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#dedede), color-stop(99%,#c8c8c8)); /* Chrome,Safari4+ */\n    background: -webkit-linear-gradient(top,  #dedede 0%,#c8c8c8 99%); /* Chrome10+,Safari5.1+ */\n    background: -o-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* Opera 11.10+ */\n    background: -ms-linear-gradient(top,  #dedede 0%,#c8c8c8 99%); /* IE10+ */\n    background: linear-gradient(to bottom,  #dedede 0%,#c8c8c8 99%); /* W3C */\n    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */\n\n    border: 1px solid #999999;\n    box-shadow: #aaaaaa 0px 0px 3px 0px;\n    border-radius: 3px;\n}\ninput.vis-configuration.vis-config-range::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    border: 1px solid #14334b;\n    height: 17px;\n    width: 17px;\n    border-radius: 50%;\n    background: #3876c2; /* Old browsers */\n    background: -moz-linear-gradient(top,  #3876c2 0%, #385380 100%); /* FF3.6+ */\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#3876c2), color-stop(100%,#385380)); /* Chrome,Safari4+ */\n    background: -webkit-linear-gradient(top,  #3876c2 0%,#385380 100%); /* Chrome10+,Safari5.1+ */\n    background: -o-linear-gradient(top,  #3876c2 0%,#385380 100%); /* Opera 11.10+ */\n    background: -ms-linear-gradient(top,  #3876c2 0%,#385380 100%); /* IE10+ */\n    background: linear-gradient(to bottom,  #3876c2 0%,#385380 100%); /* W3C */\n    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3876c2', endColorstr='#385380',GradientType=0 ); /* IE6-9 */\n    box-shadow: #111927 0px 0px 1px 0px;\n    margin-top: -7px;\n}\ninput.vis-configuration.vis-config-range:focus {\n    outline: none;\n}\ninput.vis-configuration.vis-config-range:focus::-webkit-slider-runnable-track {\n    background: #9d9d9d; /* Old browsers */\n    background: -moz-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* FF3.6+ */\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#9d9d9d), color-stop(99%,#c8c8c8)); /* Chrome,Safari4+ */\n    background: -webkit-linear-gradient(top,  #9d9d9d 0%,#c8c8c8 99%); /* Chrome10+,Safari5.1+ */\n    background: -o-linear-gradient(top,  #9d9d9d 0%,#c8c8c8 99%); /* Opera 11.10+ */\n    background: -ms-linear-gradient(top,  #9d9d9d 0%,#c8c8c8 99%); /* IE10+ */\n    background: linear-gradient(to bottom,  #9d9d9d 0%,#c8c8c8 99%); /* W3C */\n    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#9d9d9d', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */\n}\n\ninput.vis-configuration.vis-config-range::-moz-range-track {\n    width: 300px;\n    height: 10px;\n    background: #dedede; /* Old browsers */\n    background: -moz-linear-gradient(top,  #dedede 0%, #c8c8c8 99%); /* FF3.6+ */\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#dedede), color-stop(99%,#c8c8c8)); /* Chrome,Safari4+ */\n    background: -webkit-linear-gradient(top,  #dedede 0%,#c8c8c8 99%); /* Chrome10+,Safari5.1+ */\n    background: -o-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* Opera 11.10+ */\n    background: -ms-linear-gradient(top,  #dedede 0%,#c8c8c8 99%); /* IE10+ */\n    background: linear-gradient(to bottom,  #dedede 0%,#c8c8c8 99%); /* W3C */\n    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */\n\n    border: 1px solid #999999;\n    box-shadow: #aaaaaa 0px 0px 3px 0px;\n    border-radius: 3px;\n}\ninput.vis-configuration.vis-config-range::-moz-range-thumb {\n    border: none;\n    height: 16px;\n    width: 16px;\n\n    border-radius: 50%;\n    background:  #385380;\n}\n\n/*hide the outline behind the border*/\ninput.vis-configuration.vis-config-range:-moz-focusring{\n    outline: 1px solid white;\n    outline-offset: -1px;\n}\n\ninput.vis-configuration.vis-config-range::-ms-track {\n    width: 300px;\n    height: 5px;\n\n    /*remove bg colour from the track, we'll use ms-fill-lower and ms-fill-upper instead */\n    background: transparent;\n\n    /*leave room for the larger thumb to overflow with a transparent border */\n    border-color: transparent;\n    border-width: 6px 0;\n\n    /*remove default tick marks*/\n    color: transparent;\n}\ninput.vis-configuration.vis-config-range::-ms-fill-lower {\n    background: #777;\n    border-radius: 10px;\n}\ninput.vis-configuration.vis-config-range::-ms-fill-upper {\n    background: #ddd;\n    border-radius: 10px;\n}\ninput.vis-configuration.vis-config-range::-ms-thumb {\n    border: none;\n    height: 16px;\n    width: 16px;\n    border-radius: 50%;\n    background:  #385380;\n}\ninput.vis-configuration.vis-config-range:focus::-ms-fill-lower {\n    background: #888;\n}\ninput.vis-configuration.vis-config-range:focus::-ms-fill-upper {\n    background: #ccc;\n}\n\n.vis-configuration-popup {\n    position: absolute;\n    background: rgba(57, 76, 89, 0.85);\n    border: 2px solid #f2faff;\n    line-height:30px;\n    height:30px;\n    width:150px;\n    text-align:center;\n    color: #ffffff;\n    font-size:14px;\n    border-radius:4px;\n    -webkit-transition: opacity 0.3s ease-in-out;\n    -moz-transition: opacity 0.3s ease-in-out;\n    transition: opacity 0.3s ease-in-out;\n}\n.vis-configuration-popup:after, .vis-configuration-popup:before {\n    left: 100%;\n    top: 50%;\n    border: solid transparent;\n    content: \&quot; \&quot;;\n    height: 0;\n    width: 0;\n    position: absolute;\n    pointer-events: none;\n}\n\n.vis-configuration-popup:after {\n    border-color: rgba(136, 183, 213, 0);\n    border-left-color: rgba(57, 76, 89, 0.85);\n    border-width: 8px;\n    margin-top: -8px;\n}\n.vis-configuration-popup:before {\n    border-color: rgba(194, 225, 245, 0);\n    border-left-color: #f2faff;\n    border-width: 12px;\n    margin-top: -12px;\n}\n\n.vis-timeline {\n  position: relative;\n  border: 1px solid #bfbfbf;\n\n  overflow: hidden;\n  padding: 0;\n  margin: 0;\n\n  box-sizing: border-box;\n}\n\n\n.vis-panel {\n  position: absolute;\n\n  padding: 0;\n  margin: 0;\n\n  box-sizing: border-box;\n}\n\n.vis-panel.vis-center,\n.vis-panel.vis-left,\n.vis-panel.vis-right,\n.vis-panel.vis-top,\n.vis-panel.vis-bottom {\n  border: 1px #bfbfbf;\n}\n\n.vis-panel.vis-center,\n.vis-panel.vis-left,\n.vis-panel.vis-right {\n  border-top-style: solid;\n  border-bottom-style: solid;\n  overflow: hidden;\n}\n\n.vis-panel.vis-center,\n.vis-panel.vis-top,\n.vis-panel.vis-bottom {\n  border-left-style: solid;\n  border-right-style: solid;\n}\n\n.vis-background {\n  overflow: hidden;\n}\n\n.vis-panel &gt; .vis-content {\n  position: relative;\n}\n\n.vis-panel .vis-shadow {\n  position: absolute;\n  width: 100%;\n  height: 1px;\n  box-shadow: 0 0 10px rgba(0,0,0,0.8);\n  /* TODO: find a nice way to ensure vis-shadows are drawn on top of items\n  z-index: 1;\n  */\n}\n\n.vis-panel .vis-shadow.vis-top {\n  top: -1px;\n  left: 0;\n}\n\n.vis-panel .vis-shadow.vis-bottom {\n  bottom: -1px;\n  left: 0;\n}\n\n.vis-labelset {\n  position: relative;\n\n  overflow: hidden;\n\n  box-sizing: border-box;\n}\n\n.vis-labelset .vis-label {\n  position: relative;\n  left: 0;\n  top: 0;\n  width: 100%;\n  color: #4d4d4d;\n\n  box-sizing: border-box;\n}\n\n.vis-labelset .vis-label {\n  border-bottom: 1px solid #bfbfbf;\n}\n\n.vis-labelset .vis-label.draggable {\n  cursor: pointer;\n}\n\n.vis-labelset .vis-label:last-child {\n  border-bottom: none;\n}\n\n.vis-labelset .vis-label .vis-inner {\n  display: inline-block;\n  padding: 5px;\n}\n\n.vis-labelset .vis-label .vis-inner.vis-hidden {\n  padding: 0;\n}\n\n\n.vis-itemset {\n  position: relative;\n  padding: 0;\n  margin: 0;\n\n  box-sizing: border-box;\n}\n\n.vis-itemset .vis-background,\n.vis-itemset .vis-foreground {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  overflow: visible;\n}\n\n.vis-axis {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  left: 0;\n  z-index: 1;\n}\n\n.vis-foreground .vis-group {\n  position: relative;\n  box-sizing: border-box;\n  border-bottom: 1px solid #bfbfbf;\n}\n\n.vis-foreground .vis-group:last-child {\n  border-bottom: none;\n}\n\n.vis-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 10;\n}\n\n.vis-item {\n  position: absolute;\n  color: #1A1A1A;\n  border-color: #97B0F8;\n  border-width: 1px;\n  background-color: #D5DDF6;\n  display: inline-block;\n  /*overflow: hidden;*/\n}\n\n.vis-item.vis-selected {\n  border-color: #FFC200;\n  background-color: #FFF785;\n\n  /* z-index must be higher than the z-index of custom time bar and current time bar */\n  z-index: 2;\n}\n\n.vis-editable.vis-selected {\n  cursor: move;\n}\n\n.vis-item.vis-point.vis-selected {\n  background-color: #FFF785;\n}\n\n.vis-item.vis-box {\n  text-align: center;\n  border-style: solid;\n  border-radius: 2px;\n}\n\n.vis-item.vis-point {\n  background: none;\n}\n\n.vis-item.vis-dot {\n  position: absolute;\n  padding: 0;\n  border-width: 4px;\n  border-style: solid;\n  border-radius: 4px;\n}\n\n.vis-item.vis-range {\n  border-style: solid;\n  border-radius: 2px;\n  box-sizing: border-box;\n}\n\n.vis-item.vis-background {\n  border: none;\n  background-color: rgba(213, 221, 246, 0.4);\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0;\n}\n\n.vis-item .vis-item-overflow {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  padding: 0;\n  margin: 0;\n  overflow: hidden;\n}\n\n.vis-item.vis-range .vis-item-content {\n  position: relative;\n  display: inline-block;\n}\n\n.vis-item.vis-background .vis-item-content {\n  position: absolute;\n  display: inline-block;\n}\n\n.vis-item.vis-line {\n  padding: 0;\n  position: absolute;\n  width: 0;\n  border-left-width: 1px;\n  border-left-style: solid;\n}\n\n.vis-item .vis-item-content {\n  white-space: nowrap;\n  box-sizing: border-box;\n  padding: 5px;\n}\n\n.vis-item .vis-delete {\n  background: url( &lt;&lt;datauri \&quot;$:/plugins/felixhayashi/vis/img/timeline/delete.png\&quot;&gt;&gt; ) no-repeat center;\n  position: absolute;\n  width: 24px;\n  height: 24px;\n  top: -4px;\n  right: -24px;\n  cursor: pointer;\n}\n\n.vis-item.vis-range .vis-drag-left {\n  position: absolute;\n  width: 24px;\n  max-width: 20%;\n  min-width: 2px;\n  height: 100%;\n  top: 0;\n  left: -4px;\n\n  cursor: w-resize;\n}\n\n.vis-item.vis-range .vis-drag-right {\n  position: absolute;\n  width: 24px;\n  max-width: 20%;\n  min-width: 2px;\n  height: 100%;\n  top: 0;\n  right: -4px;\n\n  cursor: e-resize;\n}\n\n.vis-range.vis-item.vis-readonly .vis-drag-left,\n.vis-range.vis-item.vis-readonly .vis-drag-right {\n  cursor: auto;\n}\n\n.vis-time-axis {\n  position: relative;\n  overflow: hidden;\n}\n\n.vis-time-axis.vis-foreground {\n  top: 0;\n  left: 0;\n  width: 100%;\n}\n\n.vis-time-axis.vis-background {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.vis-time-axis .vis-text {\n  position: absolute;\n  color: #4d4d4d;\n  padding: 3px;\n  overflow: hidden;\n  box-sizing: border-box;\n\n  white-space: nowrap;\n}\n\n.vis-time-axis .vis-text.vis-measure {\n  position: absolute;\n  padding-left: 0;\n  padding-right: 0;\n  margin-left: 0;\n  margin-right: 0;\n  visibility: hidden;\n}\n\n.vis-time-axis .vis-grid.vis-vertical {\n  position: absolute;\n  border-left: 1px solid;\n}\n\n.vis-time-axis .vis-grid.vis-minor {\n  border-color: #e5e5e5;\n}\n\n.vis-time-axis .vis-grid.vis-major {\n  border-color: #bfbfbf;\n}\n\n.vis-current-time {\n  background-color: #FF7F6E;\n  width: 2px;\n  z-index: 1;\n}\n.vis-custom-time {\n  background-color: #6E94FF;\n  width: 2px;\n  cursor: move;\n  z-index: 1;\n}\n.vis-timeline {\n  /*\n  -webkit-transition: height .4s ease-in-out;\n  transition:         height .4s ease-in-out;\n  */\n}\n\n.vis-panel {\n  /*\n  -webkit-transition: height .4s ease-in-out, top .4s ease-in-out;\n  transition:         height .4s ease-in-out, top .4s ease-in-out;\n  */\n}\n\n.vis-axis {\n  /*\n  -webkit-transition: top .4s ease-in-out;\n  transition:         top .4s ease-in-out;\n  */\n}\n\n/* TODO: get animation working nicely\n\n.vis-item {\n  -webkit-transition: top .4s ease-in-out;\n  transition:         top .4s ease-in-out;\n}\n\n.vis-item.line {\n  -webkit-transition: height .4s ease-in-out, top .4s ease-in-out;\n  transition:         height .4s ease-in-out, top .4s ease-in-out;\n}\n/**/\n\n.vis-panel.vis-background.vis-horizontal .vis-grid.vis-horizontal {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  border-bottom: 1px solid;\n}\n\n.vis-panel.vis-background.vis-horizontal .vis-grid.vis-minor {\n  border-color: #e5e5e5;\n}\n\n.vis-panel.vis-background.vis-horizontal .vis-grid.vis-major {\n  border-color: #bfbfbf;\n}\n\n\n.vis-data-axis .vis-y-axis.vis-major {\n  width: 100%;\n  position: absolute;\n  color: #4d4d4d;\n  white-space: nowrap;\n}\n\n.vis-data-axis .vis-y-axis.vis-major.vis-measure {\n  padding: 0;\n  margin: 0;\n  border: 0;\n  visibility: hidden;\n  width: auto;\n}\n\n\n.vis-data-axis .vis-y-axis.vis-minor {\n  position: absolute;\n  width: 100%;\n  color: #bebebe;\n  white-space: nowrap;\n}\n\n.vis-data-axis .vis-y-axis.vis-minor.vis-measure {\n  padding: 0;\n  margin: 0;\n  border: 0;\n  visibility: hidden;\n  width: auto;\n}\n\n.vis-data-axis .vis-y-axis.vis-title {\n  position: absolute;\n  color: #4d4d4d;\n  white-space: nowrap;\n  bottom: 20px;\n  text-align: center;\n}\n\n.vis-data-axis .vis-y-axis.vis-title.vis-measure {\n  padding: 0;\n  margin: 0;\n  visibility: hidden;\n  width: auto;\n}\n\n.vis-data-axis .vis-y-axis.vis-title.vis-left {\n  bottom: 0;\n  -webkit-transform-origin: left top;\n  -moz-transform-origin: left top;\n  -ms-transform-origin: left top;\n  -o-transform-origin: left top;\n  transform-origin: left bottom;\n  -webkit-transform: rotate(-90deg);\n  -moz-transform: rotate(-90deg);\n  -ms-transform: rotate(-90deg);\n  -o-transform: rotate(-90deg);\n  transform: rotate(-90deg);\n}\n\n.vis-data-axis .vis-y-axis.vis-title.vis-right {\n  bottom: 0;\n  -webkit-transform-origin: right bottom;\n  -moz-transform-origin: right bottom;\n  -ms-transform-origin: right bottom;\n  -o-transform-origin: right bottom;\n  transform-origin: right bottom;\n  -webkit-transform: rotate(90deg);\n  -moz-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  -o-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n\n.vis-legend {\n  background-color: rgba(247, 252, 255, 0.65);\n  padding: 5px;\n  border: 1px solid #b3b3b3;\n  box-shadow: 2px 2px 10px rgba(154, 154, 154, 0.55);\n}\n\n.vis-legend-text {\n  /*font-size: 10px;*/\n  white-space: nowrap;\n  display: inline-block\n}\n.vis-graph-group0 {\n    fill:#4f81bd;\n    fill-opacity:0;\n    stroke-width:2px;\n    stroke: #4f81bd;\n}\n\n.vis-graph-group1 {\n    fill:#f79646;\n    fill-opacity:0;\n    stroke-width:2px;\n    stroke: #f79646;\n}\n\n.vis-graph-group2 {\n    fill: #8c51cf;\n    fill-opacity:0;\n    stroke-width:2px;\n    stroke: #8c51cf;\n}\n\n.vis-graph-group3 {\n    fill: #75c841;\n    fill-opacity:0;\n    stroke-width:2px;\n    stroke: #75c841;\n}\n\n.vis-graph-group4 {\n    fill: #ff0100;\n    fill-opacity:0;\n    stroke-width:2px;\n    stroke: #ff0100;\n}\n\n.vis-graph-group5 {\n    fill: #37d8e6;\n    fill-opacity:0;\n    stroke-width:2px;\n    stroke: #37d8e6;\n}\n\n.vis-graph-group6 {\n    fill: #042662;\n    fill-opacity:0;\n    stroke-width:2px;\n    stroke: #042662;\n}\n\n.vis-graph-group7 {\n    fill:#00ff26;\n    fill-opacity:0;\n    stroke-width:2px;\n    stroke: #00ff26;\n}\n\n.vis-graph-group8 {\n    fill:#ff00ff;\n    fill-opacity:0;\n    stroke-width:2px;\n    stroke: #ff00ff;\n}\n\n.vis-graph-group9 {\n    fill: #8f3938;\n    fill-opacity:0;\n    stroke-width:2px;\n    stroke: #8f3938;\n}\n\n.vis-timeline .vis-fill {\n    fill-opacity:0.1;\n    stroke: none;\n}\n\n\n.vis-timeline .vis-bar {\n    fill-opacity:0.5;\n    stroke-width:1px;\n}\n\n.vis-timeline .vis-point {\n    stroke-width:2px;\n    fill-opacity:1.0;\n}\n\n\n.vis-timeline .vis-legend-background {\n    stroke-width:1px;\n    fill-opacity:0.9;\n    fill: #ffffff;\n    stroke: #c2c2c2;\n}\n\n\n.vis-timeline .vis-outline {\n    stroke-width:1px;\n    fill-opacity:1;\n    fill: #ffffff;\n    stroke: #e5e5e5;\n}\n\n.vis-timeline .vis-icon-fill {\n    fill-opacity:0.3;\n    stroke: none;\n}\n\ndiv.vis-network div.vis-manipulation {\n  border-width: 0;\n  border-bottom: 1px;\n  border-style:solid;\n  border-color: #d6d9d8;\n  background: #ffffff; /* Old browsers */\n  background: -moz-linear-gradient(top,  #ffffff 0%, #fcfcfc 48%, #fafafa 50%, #fcfcfc 100%); /* FF3.6+ */\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#ffffff), color-stop(48%,#fcfcfc), color-stop(50%,#fafafa), color-stop(100%,#fcfcfc)); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(top,  #ffffff 0%,#fcfcfc 48%,#fafafa 50%,#fcfcfc 100%); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(top,  #ffffff 0%,#fcfcfc 48%,#fafafa 50%,#fcfcfc 100%); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top,  #ffffff 0%,#fcfcfc 48%,#fafafa 50%,#fcfcfc 100%); /* IE10+ */\n  background: linear-gradient(to bottom,  #ffffff 0%,#fcfcfc 48%,#fafafa 50%,#fcfcfc 100%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#fcfcfc',GradientType=0 ); /* IE6-9 */\n\n  padding-top:4px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 28px;\n}\n\ndiv.vis-network div.vis-edit-mode {\n  position:absolute;\n  left: 0;\n  top: 5px;\n  height: 30px;\n}\n\n/* FIXME: shouldn't the vis-close button be a child of the vis-manipulation div? */\n\ndiv.vis-network div.vis-close {\n  position:absolute;\n  right: 0;\n  top: 0;\n  width: 30px;\n  height: 30px;\n\n  background-position: 20px 3px;\n  background-repeat: no-repeat;\n  background-image: url( &lt;&lt;datauri \&quot;$:/plugins/felixhayashi/vis/img/network/cross.png\&quot;&gt;&gt; );\n  cursor: pointer;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\ndiv.vis-network div.vis-close:hover {\n  opacity: 0.6;\n}\n\ndiv.vis-network div.vis-manipulation div.vis-button,\ndiv.vis-network div.vis-edit-mode div.vis-button {\n  float:left;\n  font-family: verdana;\n  font-size: 12px;\n  -moz-border-radius: 15px;\n  border-radius: 15px;\n  display:inline-block;\n  background-position: 0px 0px;\n  background-repeat:no-repeat;\n  height:24px;\n  margin-left: 10px;\n  /*vertical-align:middle;*/\n  cursor: pointer;\n  padding: 0px 8px 0px 8px;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\ndiv.vis-network div.vis-manipulation div.vis-button:hover {\n  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.20);\n}\n\ndiv.vis-network div.vis-manipulation div.vis-button:active {\n  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.50);\n}\n\ndiv.vis-network div.vis-manipulation div.vis-button.vis-back {\n  background-image: url( &lt;&lt;datauri \&quot;$:/plugins/felixhayashi/vis/img/network/backIcon.png\&quot;&gt;&gt; );\n}\n\ndiv.vis-network div.vis-manipulation div.vis-button.vis-none:hover {\n  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.0);\n  cursor: default;\n}\ndiv.vis-network div.vis-manipulation div.vis-button.vis-none:active {\n  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.0);\n}\ndiv.vis-network div.vis-manipulation div.vis-button.vis-none {\n  padding: 0;\n}\ndiv.vis-network div.vis-manipulation div.notification {\n  margin: 2px;\n  font-weight: bold;\n}\n\ndiv.vis-network div.vis-manipulation div.vis-button.vis-add {\n  background-image: url( &lt;&lt;datauri \&quot;$:/plugins/felixhayashi/vis/img/network/addNodeIcon.png\&quot;&gt;&gt; );\n}\n\ndiv.vis-network div.vis-manipulation div.vis-button.vis-edit,\ndiv.vis-network div.vis-edit-mode div.vis-button.vis-edit {\n  background-image: url( &lt;&lt;datauri \&quot;$:/plugins/felixhayashi/vis/img/network/editIcon.png\&quot;&gt;&gt; );\n}\n\ndiv.vis-network div.vis-edit-mode div.vis-button.vis-edit.vis-edit-mode {\n  background-color: #fcfcfc;\n  border: 1px solid #cccccc;\n}\n\ndiv.vis-network div.vis-manipulation div.vis-button.vis-connect {\n  background-image: url( &lt;&lt;datauri \&quot;$:/plugins/felixhayashi/vis/img/network/connectIcon.png\&quot;&gt;&gt; );\n}\n\ndiv.vis-network div.vis-manipulation div.vis-button.vis-delete {\n  background-image: url( &lt;&lt;datauri \&quot;$:/plugins/felixhayashi/vis/img/network/deleteIcon.png\&quot;&gt;&gt; );\n}\n/* top right bottom left */\ndiv.vis-network div.vis-manipulation div.vis-label,\ndiv.vis-network div.vis-edit-mode div.vis-label {\n  margin: 0 0 0 23px;\n  line-height: 25px;\n}\ndiv.vis-network div.vis-manipulation div.vis-separator-line {\n  float:left;\n  display:inline-block;\n  width:1px;\n  height:21px;\n  background-color: #bdbdbd;\n  margin: 0px 7px 0 15px; /*top right bottom left*/\n}\n\n/* TODO: is this redundant?\ndiv.network-navigation_wrapper {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}\n*/\ndiv.vis-network-tooltip {\n  position: absolute;\n  visibility: hidden;\n  padding: 5px;\n  white-space: nowrap;\n\n  font-family: verdana;\n  font-size:14px;\n  font-color:#000000;\n  background-color: #f5f4ed;\n\n  -moz-border-radius: 3px;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  border: 1px solid #808074;\n\n  box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);\n  pointer-events: none;\n}\ndiv.vis-network div.vis-navigation div.vis-button {\n    width:34px;\n    height:34px;\n    -moz-border-radius: 17px;\n    border-radius: 17px;\n    position:absolute;\n    display:inline-block;\n    background-position: 2px 2px;\n    background-repeat:no-repeat;\n    cursor: pointer;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\ndiv.vis-network div.vis-navigation div.vis-button:hover {\n    box-shadow: 0 0 3px 3px rgba(56, 207, 21, 0.30);\n}\n\ndiv.vis-network div.vis-navigation div.vis-button:active {\n    box-shadow: 0 0 1px 3px rgba(56, 207, 21, 0.95);\n}\n\ndiv.vis-network div.vis-navigation div.vis-button.vis-up {\n    background-image: url( &lt;&lt;datauri \&quot;$:/plugins/felixhayashi/vis/img/network/upArrow.png\&quot;&gt;&gt; );\n    bottom:50px;\n    left:55px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-down {\n    background-image: url( &lt;&lt;datauri \&quot;$:/plugins/felixhayashi/vis/img/network/downArrow.png\&quot;&gt;&gt; );\n    bottom:10px;\n    left:55px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-left {\n    background-image: url( &lt;&lt;datauri \&quot;$:/plugins/felixhayashi/vis/img/network/leftArrow.png\&quot;&gt;&gt; );\n    bottom:10px;\n    left:15px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-right {\n    background-image: url( &lt;&lt;datauri \&quot;$:/plugins/felixhayashi/vis/img/network/rightArrow.png\&quot;&gt;&gt; );\n    bottom:10px;\n    left:95px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-zoomIn {\n    background-image: url( &lt;&lt;datauri \&quot;$:/plugins/felixhayashi/vis/img/network/plus.png\&quot;&gt;&gt; );\n    bottom:10px;\n    right:15px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-zoomOut {\n    background-image: url( &lt;&lt;datauri \&quot;$:/plugins/felixhayashi/vis/img/network/minus.png\&quot;&gt;&gt; );\n    bottom:10px;\n    right:55px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-zoomExtends {\n    background-image: url( &lt;&lt;datauri \&quot;$:/plugins/felixhayashi/vis/img/network/zoomExtends.png\&quot;&gt;&gt; );\n    bottom:50px;\n    right:15px;\n}\n\ndiv.vis-color-picker {\n  position:absolute;\n  top: 0px;\n  left: 30px;\n  margin-top:-140px;\n  margin-left:30px;\n  width:310px;\n  height:444px;\n  z-index: 1;\n  padding: 10px;\n  border-radius:15px;\n  background-color:#ffffff;\n  display: none;\n  box-shadow: rgba(0,0,0,0.5) 0px 0px 10px 0px;\n}\n\ndiv.vis-color-picker div.vis-arrow {\n  position: absolute;\n  top:147px;\n  left:5px;\n}\n\ndiv.vis-color-picker div.vis-arrow::after,\ndiv.vis-color-picker div.vis-arrow::before {\n  right: 100%;\n  top: 50%;\n  border: solid transparent;\n  content: \&quot; \&quot;;\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\ndiv.vis-color-picker div.vis-arrow:after {\n  border-color: rgba(255, 255, 255, 0);\n  border-right-color: #ffffff;\n  border-width: 30px;\n  margin-top: -30px;\n}\n\ndiv.vis-color-picker div.vis-color {\n  position:absolute;\n  width: 289px;\n  height: 289px;\n  cursor: pointer;\n}\n\n\n\ndiv.vis-color-picker div.vis-brightness {\n  position: absolute;\n  top:313px;\n}\n\ndiv.vis-color-picker div.vis-opacity {\n  position:absolute;\n  top:350px;\n}\n\ndiv.vis-color-picker div.vis-selector {\n  position:absolute;\n  top:137px;\n  left:137px;\n  width:15px;\n  height:15px;\n  border-radius:15px;\n  border:1px solid #ffffff;\n  background: #4c4c4c; /* Old browsers */\n  background: -moz-linear-gradient(top,  #4c4c4c 0%, #595959 12%, #666666 25%, #474747 39%, #2c2c2c 50%, #000000 51%, #111111 60%, #2b2b2b 76%, #1c1c1c 91%, #131313 100%); /* FF3.6+ */\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#4c4c4c), color-stop(12%,#595959), color-stop(25%,#666666), color-stop(39%,#474747), color-stop(50%,#2c2c2c), color-stop(51%,#000000), color-stop(60%,#111111), color-stop(76%,#2b2b2b), color-stop(91%,#1c1c1c), color-stop(100%,#131313)); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(top,  #4c4c4c 0%,#595959 12%,#666666 25%,#474747 39%,#2c2c2c 50%,#000000 51%,#111111 60%,#2b2b2b 76%,#1c1c1c 91%,#131313 100%); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(top,  #4c4c4c 0%,#595959 12%,#666666 25%,#474747 39%,#2c2c2c 50%,#000000 51%,#111111 60%,#2b2b2b 76%,#1c1c1c 91%,#131313 100%); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top,  #4c4c4c 0%,#595959 12%,#666666 25%,#474747 39%,#2c2c2c 50%,#000000 51%,#111111 60%,#2b2b2b 76%,#1c1c1c 91%,#131313 100%); /* IE10+ */\n  background: linear-gradient(to bottom,  #4c4c4c 0%,#595959 12%,#666666 25%,#474747 39%,#2c2c2c 50%,#000000 51%,#111111 60%,#2b2b2b 76%,#1c1c1c 91%,#131313 100%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#4c4c4c', endColorstr='#131313',GradientType=0 ); /* IE6-9 */\n}\n\n\n\ndiv.vis-color-picker div.vis-new-color {\n  position:absolute;\n  width:140px;\n  height:20px;\n  border:1px solid rgba(0,0,0,0.1);\n  border-radius:5px;\n  top:380px;\n  left:159px;\n  text-align:right;\n  padding-right:2px;\n  font-size:10px;\n  color:rgba(0,0,0,0.4);\n  vertical-align:middle;\n  line-height:20px;\n\n}\n\ndiv.vis-color-picker div.vis-initial-color {\n  position:absolute;\n  width:140px;\n  height:20px;\n  border:1px solid rgba(0,0,0,0.1);\n  border-radius:5px;\n  top:380px;\n  left:10px;\n  text-align:left;\n  padding-left:2px;\n  font-size:10px;\n  color:rgba(0,0,0,0.4);\n  vertical-align:middle;\n  line-height:20px;\n}\n\ndiv.vis-color-picker div.vis-label {\n  position:absolute;\n  width:300px;\n  left:10px;\n}\n\ndiv.vis-color-picker div.vis-label.vis-brightness {\n  top:300px;\n}\n\ndiv.vis-color-picker div.vis-label.vis-opacity {\n  top:338px;\n}\n\ndiv.vis-color-picker div.vis-button {\n  position:absolute;\n  width:68px;\n  height:25px;\n  border-radius:10px;\n  vertical-align: middle;\n  text-align:center;\n  line-height: 25px;\n  top:410px;\n  border:2px solid #d9d9d9;\n  background-color: #f7f7f7;\n  cursor:pointer;\n}\n\ndiv.vis-color-picker div.vis-button.vis-cancel {\n  /*border:2px solid #ff4e33;*/\n  /*background-color: #ff7761;*/\n  left:5px;\n}\ndiv.vis-color-picker div.vis-button.vis-load {\n  /*border:2px solid #a153e6;*/\n  /*background-color: #cb8dff;*/\n  left:82px;\n}\ndiv.vis-color-picker div.vis-button.vis-apply {\n  /*border:2px solid #4588e6;*/\n  /*background-color: #82b6ff;*/\n  left:159px;\n}\ndiv.vis-color-picker div.vis-button.vis-save {\n  /*border:2px solid #45e655;*/\n  /*background-color: #6dff7c;*/\n  left:236px;\n}\n\n\ndiv.vis-color-picker input.vis-range {\n  width: 290px;\n  height:20px;\n}\n\n/* TODO: is this redundant?\ndiv.vis-color-picker input.vis-range-brightness {\n  width: 289px !important;\n}\n\n\ndiv.vis-color-picker input.vis-saturation-range {\n  width: 289px !important;\n}*/&quot;
        },
        &quot;$:/plugins/felixhayashi/vis/vis.js&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/plugins/felixhayashi/vis/vis.js\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\\*/\n\n/*** TO AVOID STRANGE LIB ERRORS FROM BUBBLING UP *****************/\n\nif($tw.boot.tasks.trapErrors) {\n\n  var defaultHandler = window.onerror;\n  window.onerror = function(errorMsg, url, lineNumber) {\n    \n    if(errorMsg.indexOf(\&quot;NS_ERROR_NOT_AVAILABLE\&quot;) !== -1\n       &amp;&amp; url == \&quot;$:/plugins/felixhayashi/vis/vis.js\&quot;) {\n         \n      var text = \&quot;Strange firefox related vis.js error (see #125)\&quot;;\n      console.error(text, arguments);\n      \n    } else if(errorMsg.indexOf(\&quot;Permission denied to access property\&quot;) !== -1) {\n      \n      var text = \&quot;Strange firefox related vis.js error (see #163)\&quot;;\n      console.error(text, arguments);\n      \n    } else if(defaultHandler) {\n      \n      defaultHandler.apply(this, arguments);\n      \n    }\n    \n  }\n  \n}\n\n/******************************************************************/\n\n/**\n * vis.js\n * https://github.com/almende/vis\n *\n * A dynamic, browser-based visualization library.\n *\n * @version 4.13.0\n * @date    2016-02-01\n *\n * @license\n * Copyright (C) 2011-2016 Almende B.V, http://almende.com\n *\n * Vis.js is dual licensed under both\n *\n * * The Apache 2.0 License\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * and\n *\n * * The MIT License\n *   http://opensource.org/licenses/MIT\n *\n * Vis.js may be distributed under either license.\n */\n\n\&quot;use strict\&quot;;\n\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' &amp;&amp; typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' &amp;&amp; define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\&quot;vis\&quot;] = factory();\n\telse\n\t\troot[\&quot;vis\&quot;] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \&quot;\&quot;;\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n  // utils\n  'use strict';\n\n  exports.util = __webpack_require__(1);\n  exports.DOMutil = __webpack_require__(7);\n\n  // data\n  exports.DataSet = __webpack_require__(8);\n  exports.DataView = __webpack_require__(10);\n  exports.Queue = __webpack_require__(9);\n\n  // Graph3d\n  exports.Graph3d = __webpack_require__(11);\n  exports.graph3d = {\n    Camera: __webpack_require__(15),\n    Filter: __webpack_require__(16),\n    Point2d: __webpack_require__(14),\n    Point3d: __webpack_require__(13),\n    Slider: __webpack_require__(17),\n    StepNumber: __webpack_require__(18)\n  };\n\n  // Timeline\n  exports.Timeline = __webpack_require__(19);\n  exports.Graph2d = __webpack_require__(48);\n  exports.timeline = {\n    Core: __webpack_require__(27),\n    DateUtil: __webpack_require__(26),\n    Range: __webpack_require__(23),\n    stack: __webpack_require__(31),\n    TimeStep: __webpack_require__(29),\n\n    components: {\n      items: {\n        Item: __webpack_require__(33),\n        BackgroundItem: __webpack_require__(37),\n        BoxItem: __webpack_require__(35),\n        PointItem: __webpack_require__(36),\n        RangeItem: __webpack_require__(32)\n      },\n\n      BackgroundGroup: __webpack_require__(34),\n      Component: __webpack_require__(25),\n      CurrentTime: __webpack_require__(43),\n      CustomTime: __webpack_require__(41),\n      DataAxis: __webpack_require__(50),\n      DataScale: __webpack_require__(51),\n      GraphGroup: __webpack_require__(52),\n      Group: __webpack_require__(30),\n      ItemSet: __webpack_require__(28),\n      Legend: __webpack_require__(56),\n      LineGraph: __webpack_require__(49),\n      TimeAxis: __webpack_require__(38)\n    }\n  };\n\n  // Network\n  exports.Network = __webpack_require__(58);\n  exports.network = {\n    Images: __webpack_require__(116),\n    dotparser: __webpack_require__(114),\n    gephiParser: __webpack_require__(115),\n    allOptions: __webpack_require__(110)\n  };\n  exports.network.convertDot = function (input) {\n    return exports.network.dotparser.DOTToGraph(input);\n  };\n  exports.network.convertGephi = function (input, options) {\n    return exports.network.gephiParser.parseGephi(input, options);\n  };\n\n  // bundled external libraries\n  exports.moment = __webpack_require__(2);\n  exports.Hammer = __webpack_require__(20);\n  exports.keycharm = __webpack_require__(40);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n  // utility functions\n\n  // first check if moment.js is already loaded in the browser window, if so,\n  // use this instance. Else, load via commonjs.\n\n  'use strict';\n\n  var moment = __webpack_require__(2);\n  var uuid = __webpack_require__(6);\n\n  /**\n   * Test whether given object is a number\n   * @param {*} object\n   * @return {Boolean} isNumber\n   */\n  exports.isNumber = function (object) {\n    return object instanceof Number || typeof object == 'number';\n  };\n\n  /**\n   * Remove everything in the DOM object\n   * @param DOMobject\n   */\n  exports.recursiveDOMDelete = function (DOMobject) {\n    if (DOMobject) {\n      while (DOMobject.hasChildNodes() === true) {\n        exports.recursiveDOMDelete(DOMobject.firstChild);\n        DOMobject.removeChild(DOMobject.firstChild);\n      }\n    }\n  };\n\n  /**\n   * this function gives you a range between 0 and 1 based on the min and max values in the set, the total sum of all values and the current value.\n   *\n   * @param min\n   * @param max\n   * @param total\n   * @param value\n   * @returns {number}\n   */\n  exports.giveRange = function (min, max, total, value) {\n    if (max == min) {\n      return 0.5;\n    } else {\n      var scale = 1 / (max - min);\n      return Math.max(0, (value - min) * scale);\n    }\n  };\n\n  /**\n   * Test whether given object is a string\n   * @param {*} object\n   * @return {Boolean} isString\n   */\n  exports.isString = function (object) {\n    return object instanceof String || typeof object == 'string';\n  };\n\n  /**\n   * Test whether given object is a Date, or a String containing a Date\n   * @param {Date | String} object\n   * @return {Boolean} isDate\n   */\n  exports.isDate = function (object) {\n    if (object instanceof Date) {\n      return true;\n    } else if (exports.isString(object)) {\n      // test whether this string contains a date\n      var match = ASPDateRegex.exec(object);\n      if (match) {\n        return true;\n      } else if (!isNaN(Date.parse(object))) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  /**\n   * Create a semi UUID\n   * source: http://stackoverflow.com/a/105074/1262753\n   * @return {String} uuid\n   */\n  exports.randomUUID = function () {\n    return uuid.v4();\n  };\n\n  /**\n   * assign all keys of an object that are not nested objects to a certain value (used for color objects).\n   * @param obj\n   * @param value\n   */\n  exports.assignAllKeys = function (obj, value) {\n    for (var prop in obj) {\n      if (obj.hasOwnProperty(prop)) {\n        if (typeof obj[prop] !== 'object') {\n          obj[prop] = value;\n        }\n      }\n    }\n  };\n\n  /**\n   * Fill an object with a possibly partially defined other object. Only copies values if the a object has an object requiring values.\n   * That means an object is not created on a property if only the b object has it.\n   * @param obj\n   * @param value\n   */\n  exports.fillIfDefined = function (a, b) {\n    var allowDeletion = arguments.length &lt;= 2 || arguments[2] === undefined ? false : arguments[2];\n\n    for (var prop in a) {\n      if (b[prop] !== undefined) {\n        if (typeof b[prop] !== 'object') {\n          if ((b[prop] === undefined || b[prop] === null) &amp;&amp; a[prop] !== undefined &amp;&amp; allowDeletion === true) {\n            delete a[prop];\n          } else {\n            a[prop] = b[prop];\n          }\n        } else {\n          if (typeof a[prop] === 'object') {\n            exports.fillIfDefined(a[prop], b[prop], allowDeletion);\n          }\n        }\n      }\n    }\n  };\n\n  /**\n   * Extend object a with the properties of object b or a series of objects\n   * Only properties with defined values are copied\n   * @param {Object} a\n   * @param {... Object} b\n   * @return {Object} a\n   */\n  exports.protoExtend = function (a, b) {\n    for (var i = 1; i &lt; arguments.length; i++) {\n      var other = arguments[i];\n      for (var prop in other) {\n        a[prop] = other[prop];\n      }\n    }\n    return a;\n  };\n\n  /**\n   * Extend object a with the properties of object b or a series of objects\n   * Only properties with defined values are copied\n   * @param {Object} a\n   * @param {... Object} b\n   * @return {Object} a\n   */\n  exports.extend = function (a, b) {\n    for (var i = 1; i &lt; arguments.length; i++) {\n      var other = arguments[i];\n      for (var prop in other) {\n        if (other.hasOwnProperty(prop)) {\n          a[prop] = other[prop];\n        }\n      }\n    }\n    return a;\n  };\n\n  /**\n   * Extend object a with selected properties of object b or a series of objects\n   * Only properties with defined values are copied\n   * @param {Array.&lt;String&gt;} props\n   * @param {Object} a\n   * @param {Object} b\n   * @return {Object} a\n   */\n  exports.selectiveExtend = function (props, a, b) {\n    if (!Array.isArray(props)) {\n      throw new Error('Array with property names expected as first argument');\n    }\n\n    for (var i = 2; i &lt; arguments.length; i++) {\n      var other = arguments[i];\n\n      for (var p = 0; p &lt; props.length; p++) {\n        var prop = props[p];\n        if (other.hasOwnProperty(prop)) {\n          a[prop] = other[prop];\n        }\n      }\n    }\n    return a;\n  };\n\n  /**\n   * Extend object a with selected properties of object b or a series of objects\n   * Only properties with defined values are copied\n   * @param {Array.&lt;String&gt;} props\n   * @param {Object} a\n   * @param {Object} b\n   * @return {Object} a\n   */\n  exports.selectiveDeepExtend = function (props, a, b) {\n    var allowDeletion = arguments.length &lt;= 3 || arguments[3] === undefined ? false : arguments[3];\n\n    // TODO: add support for Arrays to deepExtend\n    if (Array.isArray(b)) {\n      throw new TypeError('Arrays are not supported by deepExtend');\n    }\n    for (var i = 2; i &lt; arguments.length; i++) {\n      var other = arguments[i];\n      for (var p = 0; p &lt; props.length; p++) {\n        var prop = props[p];\n        if (other.hasOwnProperty(prop)) {\n          if (b[prop] &amp;&amp; b[prop].constructor === Object) {\n            if (a[prop] === undefined) {\n              a[prop] = {};\n            }\n            if (a[prop].constructor === Object) {\n              exports.deepExtend(a[prop], b[prop], false, allowDeletion);\n            } else {\n              if (b[prop] === null &amp;&amp; a[prop] !== undefined &amp;&amp; allowDeletion === true) {\n                delete a[prop];\n              } else {\n                a[prop] = b[prop];\n              }\n            }\n          } else if (Array.isArray(b[prop])) {\n            throw new TypeError('Arrays are not supported by deepExtend');\n          } else {\n            if (b[prop] === null &amp;&amp; a[prop] !== undefined &amp;&amp; allowDeletion === true) {\n              delete a[prop];\n            } else {\n              a[prop] = b[prop];\n            }\n          }\n        }\n      }\n    }\n    return a;\n  };\n\n  /**\n   * Extend object a with selected properties of object b or a series of objects\n   * Only properties with defined values are copied\n   * @param {Array.&lt;String&gt;} props\n   * @param {Object} a\n   * @param {Object} b\n   * @return {Object} a\n   */\n  exports.selectiveNotDeepExtend = function (props, a, b) {\n    var allowDeletion = arguments.length &lt;= 3 || arguments[3] === undefined ? false : arguments[3];\n\n    // TODO: add support for Arrays to deepExtend\n    if (Array.isArray(b)) {\n      throw new TypeError('Arrays are not supported by deepExtend');\n    }\n    for (var prop in b) {\n      if (b.hasOwnProperty(prop)) {\n        if (props.indexOf(prop) == -1) {\n          if (b[prop] &amp;&amp; b[prop].constructor === Object) {\n            if (a[prop] === undefined) {\n              a[prop] = {};\n            }\n            if (a[prop].constructor === Object) {\n              exports.deepExtend(a[prop], b[prop]);\n            } else {\n              if (b[prop] === null &amp;&amp; a[prop] !== undefined &amp;&amp; allowDeletion === true) {\n                delete a[prop];\n              } else {\n                a[prop] = b[prop];\n              }\n            }\n          } else if (Array.isArray(b[prop])) {\n            a[prop] = [];\n            for (var i = 0; i &lt; b[prop].length; i++) {\n              a[prop].push(b[prop][i]);\n            }\n          } else {\n            if (b[prop] === null &amp;&amp; a[prop] !== undefined &amp;&amp; allowDeletion === true) {\n              delete a[prop];\n            } else {\n              a[prop] = b[prop];\n            }\n          }\n        }\n      }\n    }\n    return a;\n  };\n\n  /**\n   * Deep extend an object a with the properties of object b\n   * @param {Object} a\n   * @param {Object} b\n   * @param [Boolean] protoExtend --&gt; optional parameter. If true, the prototype values will also be extended.\n   *                                  (ie. the options objects that inherit from others will also get the inherited options)\n   * @param [Boolean] global      --&gt; optional parameter. If true, the values of fields that are null will not deleted\n   * @returns {Object}\n   */\n  exports.deepExtend = function (a, b, protoExtend, allowDeletion) {\n    for (var prop in b) {\n      if (b.hasOwnProperty(prop) || protoExtend === true) {\n        if (b[prop] &amp;&amp; b[prop].constructor === Object) {\n          if (a[prop] === undefined) {\n            a[prop] = {};\n          }\n          if (a[prop].constructor === Object) {\n            exports.deepExtend(a[prop], b[prop], protoExtend);\n          } else {\n            if (b[prop] === null &amp;&amp; a[prop] !== undefined &amp;&amp; allowDeletion === true) {\n              delete a[prop];\n            } else {\n              a[prop] = b[prop];\n            }\n          }\n        } else if (Array.isArray(b[prop])) {\n          a[prop] = [];\n          for (var i = 0; i &lt; b[prop].length; i++) {\n            a[prop].push(b[prop][i]);\n          }\n        } else {\n          if (b[prop] === null &amp;&amp; a[prop] !== undefined &amp;&amp; allowDeletion === true) {\n            delete a[prop];\n          } else {\n            a[prop] = b[prop];\n          }\n        }\n      }\n    }\n    return a;\n  };\n\n  /**\n   * Test whether all elements in two arrays are equal.\n   * @param {Array} a\n   * @param {Array} b\n   * @return {boolean} Returns true if both arrays have the same length and same\n   *                   elements.\n   */\n  exports.equalArray = function (a, b) {\n    if (a.length != b.length) return false;\n\n    for (var i = 0, len = a.length; i &lt; len; i++) {\n      if (a[i] != b[i]) return false;\n    }\n\n    return true;\n  };\n\n  /**\n   * Convert an object to another type\n   * @param {Boolean | Number | String | Date | Moment | Null | undefined} object\n   * @param {String | undefined} type   Name of the type. Available types:\n   *                                    'Boolean', 'Number', 'String',\n   *                                    'Date', 'Moment', ISODate', 'ASPDate'.\n   * @return {*} object\n   * @throws Error\n   */\n  exports.convert = function (object, type) {\n    var match;\n\n    if (object === undefined) {\n      return undefined;\n    }\n    if (object === null) {\n      return null;\n    }\n\n    if (!type) {\n      return object;\n    }\n    if (!(typeof type === 'string') &amp;&amp; !(type instanceof String)) {\n      throw new Error('Type must be a string');\n    }\n\n    //noinspection FallthroughInSwitchStatementJS\n    switch (type) {\n      case 'boolean':\n      case 'Boolean':\n        return Boolean(object);\n\n      case 'number':\n      case 'Number':\n        return Number(object.valueOf());\n\n      case 'string':\n      case 'String':\n        return String(object);\n\n      case 'Date':\n        if (exports.isNumber(object)) {\n          return new Date(object);\n        }\n        if (object instanceof Date) {\n          return new Date(object.valueOf());\n        } else if (moment.isMoment(object)) {\n          return new Date(object.valueOf());\n        }\n        if (exports.isString(object)) {\n          match = ASPDateRegex.exec(object);\n          if (match) {\n            // object is an ASP date\n            return new Date(Number(match[1])); // parse number\n          } else {\n              return moment(object).toDate(); // parse string\n            }\n        } else {\n            throw new Error('Cannot convert object of type ' + exports.getType(object) + ' to type Date');\n          }\n\n      case 'Moment':\n        if (exports.isNumber(object)) {\n          return moment(object);\n        }\n        if (object instanceof Date) {\n          return moment(object.valueOf());\n        } else if (moment.isMoment(object)) {\n          return moment(object);\n        }\n        if (exports.isString(object)) {\n          match = ASPDateRegex.exec(object);\n          if (match) {\n            // object is an ASP date\n            return moment(Number(match[1])); // parse number\n          } else {\n              return moment(object); // parse string\n            }\n        } else {\n            throw new Error('Cannot convert object of type ' + exports.getType(object) + ' to type Date');\n          }\n\n      case 'ISODate':\n        if (exports.isNumber(object)) {\n          return new Date(object);\n        } else if (object instanceof Date) {\n          return object.toISOString();\n        } else if (moment.isMoment(object)) {\n          return object.toDate().toISOString();\n        } else if (exports.isString(object)) {\n          match = ASPDateRegex.exec(object);\n          if (match) {\n            // object is an ASP date\n            return new Date(Number(match[1])).toISOString(); // parse number\n          } else {\n              return new Date(object).toISOString(); // parse string\n            }\n        } else {\n            throw new Error('Cannot convert object of type ' + exports.getType(object) + ' to type ISODate');\n          }\n\n      case 'ASPDate':\n        if (exports.isNumber(object)) {\n          return '/Date(' + object + ')/';\n        } else if (object instanceof Date) {\n          return '/Date(' + object.valueOf() + ')/';\n        } else if (exports.isString(object)) {\n          match = ASPDateRegex.exec(object);\n          var value;\n          if (match) {\n            // object is an ASP date\n            value = new Date(Number(match[1])).valueOf(); // parse number\n          } else {\n              value = new Date(object).valueOf(); // parse string\n            }\n          return '/Date(' + value + ')/';\n        } else {\n          throw new Error('Cannot convert object of type ' + exports.getType(object) + ' to type ASPDate');\n        }\n\n      default:\n        throw new Error('Unknown type \&quot;' + type + '\&quot;');\n    }\n  };\n\n  // parse ASP.Net Date pattern,\n  // for example '/Date(1198908717056)/' or '/Date(1198908717056-0700)/'\n  // code from http://momentjs.com/\n  var ASPDateRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n  /**\n   * Get the type of an object, for example exports.getType([]) returns 'Array'\n   * @param {*} object\n   * @return {String} type\n   */\n  exports.getType = function (object) {\n    var type = typeof object;\n\n    if (type == 'object') {\n      if (object === null) {\n        return 'null';\n      }\n      if (object instanceof Boolean) {\n        return 'Boolean';\n      }\n      if (object instanceof Number) {\n        return 'Number';\n      }\n      if (object instanceof String) {\n        return 'String';\n      }\n      if (Array.isArray(object)) {\n        return 'Array';\n      }\n      if (object instanceof Date) {\n        return 'Date';\n      }\n      return 'Object';\n    } else if (type == 'number') {\n      return 'Number';\n    } else if (type == 'boolean') {\n      return 'Boolean';\n    } else if (type == 'string') {\n      return 'String';\n    } else if (type === undefined) {\n      return 'undefined';\n    }\n\n    return type;\n  };\n\n  /**\n   * Used to extend an array and copy it. This is used to propagate paths recursively.\n   *\n   * @param arr\n   * @param newValue\n   * @returns {Array}\n   */\n  exports.copyAndExtendArray = function (arr, newValue) {\n    var newArr = [];\n    for (var i = 0; i &lt; arr.length; i++) {\n      newArr.push(arr[i]);\n    }\n    newArr.push(newValue);\n    return newArr;\n  };\n\n  /**\n   * Used to extend an array and copy it. This is used to propagate paths recursively.\n   *\n   * @param arr\n   * @param newValue\n   * @returns {Array}\n   */\n  exports.copyArray = function (arr) {\n    var newArr = [];\n    for (var i = 0; i &lt; arr.length; i++) {\n      newArr.push(arr[i]);\n    }\n    return newArr;\n  };\n\n  /**\n   * Retrieve the absolute left value of a DOM element\n   * @param {Element} elem        A dom element, for example a div\n   * @return {number} left        The absolute left position of this element\n   *                              in the browser page.\n   */\n  exports.getAbsoluteLeft = function (elem) {\n    return elem.getBoundingClientRect().left;\n  };\n\n  /**\n   * Retrieve the absolute top value of a DOM element\n   * @param {Element} elem        A dom element, for example a div\n   * @return {number} top        The absolute top position of this element\n   *                              in the browser page.\n   */\n  exports.getAbsoluteTop = function (elem) {\n    return elem.getBoundingClientRect().top;\n  };\n\n  /**\n   * add a className to the given elements style\n   * @param {Element} elem\n   * @param {String} className\n   */\n  exports.addClassName = function (elem, className) {\n    var classes = elem.className.split(' ');\n    if (classes.indexOf(className) == -1) {\n      classes.push(className); // add the class to the array\n      elem.className = classes.join(' ');\n    }\n  };\n\n  /**\n   * add a className to the given elements style\n   * @param {Element} elem\n   * @param {String} className\n   */\n  exports.removeClassName = function (elem, className) {\n    var classes = elem.className.split(' ');\n    var index = classes.indexOf(className);\n    if (index != -1) {\n      classes.splice(index, 1); // remove the class from the array\n      elem.className = classes.join(' ');\n    }\n  };\n\n  /**\n   * For each method for both arrays and objects.\n   * In case of an array, the built-in Array.forEach() is applied.\n   * In case of an Object, the method loops over all properties of the object.\n   * @param {Object | Array} object   An Object or Array\n   * @param {function} callback       Callback method, called for each item in\n   *                                  the object or array with three parameters:\n   *                                  callback(value, index, object)\n   */\n  exports.forEach = function (object, callback) {\n    var i, len;\n    if (Array.isArray(object)) {\n      // array\n      for (i = 0, len = object.length; i &lt; len; i++) {\n        callback(object[i], i, object);\n      }\n    } else {\n      // object\n      for (i in object) {\n        if (object.hasOwnProperty(i)) {\n          callback(object[i], i, object);\n        }\n      }\n    }\n  };\n\n  /**\n   * Convert an object into an array: all objects properties are put into the\n   * array. The resulting array is unordered.\n   * @param {Object} object\n   * @param {Array} array\n   */\n  exports.toArray = function (object) {\n    var array = [];\n\n    for (var prop in object) {\n      if (object.hasOwnProperty(prop)) array.push(object[prop]);\n    }\n\n    return array;\n  };\n\n  /**\n   * Update a property in an object\n   * @param {Object} object\n   * @param {String} key\n   * @param {*} value\n   * @return {Boolean} changed\n   */\n  exports.updateProperty = function (object, key, value) {\n    if (object[key] !== value) {\n      object[key] = value;\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  /**\n   * Throttle the given function to be only executed once every `wait` milliseconds\n   * @param {function} fn\n   * @param {number} wait    Time in milliseconds\n   * @returns {function} Returns the throttled function\n   */\n  exports.throttle = function (fn, wait) {\n    var timeout = null;\n    var needExecution = false;\n\n    return function throttled() {\n      if (!timeout) {\n        needExecution = false;\n        fn();\n\n        timeout = setTimeout(function () {\n          timeout = null;\n          if (needExecution) {\n            throttled();\n          }\n        }, wait);\n      } else {\n        needExecution = true;\n      }\n    };\n  };\n\n  /**\n   * Add and event listener. Works for all browsers\n   * @param {Element}     element    An html element\n   * @param {string}      action     The action, for example \&quot;click\&quot;,\n   *                                 without the prefix \&quot;on\&quot;\n   * @param {function}    listener   The callback function to be executed\n   * @param {boolean}     [useCapture]\n   */\n  exports.addEventListener = function (element, action, listener, useCapture) {\n    if (element.addEventListener) {\n      if (useCapture === undefined) useCapture = false;\n\n      if (action === \&quot;mousewheel\&quot; &amp;&amp; navigator.userAgent.indexOf(\&quot;Firefox\&quot;) &gt;= 0) {\n        action = \&quot;DOMMouseScroll\&quot;; // For Firefox\n      }\n\n      element.addEventListener(action, listener, useCapture);\n    } else {\n      element.attachEvent(\&quot;on\&quot; + action, listener); // IE browsers\n    }\n  };\n\n  /**\n   * Remove an event listener from an element\n   * @param {Element}     element         An html dom element\n   * @param {string}      action          The name of the event, for example \&quot;mousedown\&quot;\n   * @param {function}    listener        The listener function\n   * @param {boolean}     [useCapture]\n   */\n  exports.removeEventListener = function (element, action, listener, useCapture) {\n    if (element.removeEventListener) {\n      // non-IE browsers\n      if (useCapture === undefined) useCapture = false;\n\n      if (action === \&quot;mousewheel\&quot; &amp;&amp; navigator.userAgent.indexOf(\&quot;Firefox\&quot;) &gt;= 0) {\n        action = \&quot;DOMMouseScroll\&quot;; // For Firefox\n      }\n\n      element.removeEventListener(action, listener, useCapture);\n    } else {\n      // IE browsers\n      element.detachEvent(\&quot;on\&quot; + action, listener);\n    }\n  };\n\n  /**\n   * Cancels the event if it is cancelable, without stopping further propagation of the event.\n   */\n  exports.preventDefault = function (event) {\n    if (!event) event = window.event;\n\n    if (event.preventDefault) {\n      event.preventDefault(); // non-IE browsers\n    } else {\n        event.returnValue = false; // IE browsers\n      }\n  };\n\n  /**\n   * Get HTML element which is the target of the event\n   * @param {Event} event\n   * @return {Element} target element\n   */\n  exports.getTarget = function (event) {\n    // code from http://www.quirksmode.org/js/events_properties.html\n    if (!event) {\n      event = window.event;\n    }\n\n    var target;\n\n    if (event.target) {\n      target = event.target;\n    } else if (event.srcElement) {\n      target = event.srcElement;\n    }\n\n    if (target.nodeType != undefined &amp;&amp; target.nodeType == 3) {\n      // defeat Safari bug\n      target = target.parentNode;\n    }\n\n    return target;\n  };\n\n  /**\n   * Check if given element contains given parent somewhere in the DOM tree\n   * @param {Element} element\n   * @param {Element} parent\n   */\n  exports.hasParent = function (element, parent) {\n    var e = element;\n\n    while (e) {\n      if (e === parent) {\n        return true;\n      }\n      e = e.parentNode;\n    }\n\n    return false;\n  };\n\n  exports.option = {};\n\n  /**\n   * Convert a value into a boolean\n   * @param {Boolean | function | undefined} value\n   * @param {Boolean} [defaultValue]\n   * @returns {Boolean} bool\n   */\n  exports.option.asBoolean = function (value, defaultValue) {\n    if (typeof value == 'function') {\n      value = value();\n    }\n\n    if (value != null) {\n      return value != false;\n    }\n\n    return defaultValue || null;\n  };\n\n  /**\n   * Convert a value into a number\n   * @param {Boolean | function | undefined} value\n   * @param {Number} [defaultValue]\n   * @returns {Number} number\n   */\n  exports.option.asNumber = function (value, defaultValue) {\n    if (typeof value == 'function') {\n      value = value();\n    }\n\n    if (value != null) {\n      return Number(value) || defaultValue || null;\n    }\n\n    return defaultValue || null;\n  };\n\n  /**\n   * Convert a value into a string\n   * @param {String | function | undefined} value\n   * @param {String} [defaultValue]\n   * @returns {String} str\n   */\n  exports.option.asString = function (value, defaultValue) {\n    if (typeof value == 'function') {\n      value = value();\n    }\n\n    if (value != null) {\n      return String(value);\n    }\n\n    return defaultValue || null;\n  };\n\n  /**\n   * Convert a size or location into a string with pixels or a percentage\n   * @param {String | Number | function | undefined} value\n   * @param {String} [defaultValue]\n   * @returns {String} size\n   */\n  exports.option.asSize = function (value, defaultValue) {\n    if (typeof value == 'function') {\n      value = value();\n    }\n\n    if (exports.isString(value)) {\n      return value;\n    } else if (exports.isNumber(value)) {\n      return value + 'px';\n    } else {\n      return defaultValue || null;\n    }\n  };\n\n  /**\n   * Convert a value into a DOM element\n   * @param {HTMLElement | function | undefined} value\n   * @param {HTMLElement} [defaultValue]\n   * @returns {HTMLElement | null} dom\n   */\n  exports.option.asElement = function (value, defaultValue) {\n    if (typeof value == 'function') {\n      value = value();\n    }\n\n    return value || defaultValue || null;\n  };\n\n  /**\n   * http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\n   *\n   * @param {String} hex\n   * @returns {{r: *, g: *, b: *}} | 255 range\n   */\n  exports.hexToRGB = function (hex) {\n    // Expand shorthand form (e.g. \&quot;03F\&quot;) to full form (e.g. \&quot;0033FF\&quot;)\n    var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    hex = hex.replace(shorthandRegex, function (m, r, g, b) {\n      return r + r + g + g + b + b;\n    });\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n      r: parseInt(result[1], 16),\n      g: parseInt(result[2], 16),\n      b: parseInt(result[3], 16)\n    } : null;\n  };\n\n  /**\n   * This function takes color in hex format or rgb() or rgba() format and overrides the opacity. Returns rgba() string.\n   * @param color\n   * @param opacity\n   * @returns {*}\n   */\n  exports.overrideOpacity = function (color, opacity) {\n    if (color.indexOf(\&quot;rgba\&quot;) != -1) {\n      return color;\n    } else if (color.indexOf(\&quot;rgb\&quot;) != -1) {\n      var rgb = color.substr(color.indexOf(\&quot;(\&quot;) + 1).replace(\&quot;)\&quot;, \&quot;\&quot;).split(\&quot;,\&quot;);\n      return \&quot;rgba(\&quot; + rgb[0] + \&quot;,\&quot; + rgb[1] + \&quot;,\&quot; + rgb[2] + \&quot;,\&quot; + opacity + \&quot;)\&quot;;\n    } else {\n      var rgb = exports.hexToRGB(color);\n      if (rgb == null) {\n        return color;\n      } else {\n        return \&quot;rgba(\&quot; + rgb.r + \&quot;,\&quot; + rgb.g + \&quot;,\&quot; + rgb.b + \&quot;,\&quot; + opacity + \&quot;)\&quot;;\n      }\n    }\n  };\n\n  /**\n   *\n   * @param red     0 -- 255\n   * @param green   0 -- 255\n   * @param blue    0 -- 255\n   * @returns {string}\n   * @constructor\n   */\n  exports.RGBToHex = function (red, green, blue) {\n    return \&quot;#\&quot; + ((1 &lt;&lt; 24) + (red &lt;&lt; 16) + (green &lt;&lt; 8) + blue).toString(16).slice(1);\n  };\n\n  /**\n   * Parse a color property into an object with border, background, and\n   * highlight colors\n   * @param {Object | String} color\n   * @return {Object} colorObject\n   */\n  exports.parseColor = function (color) {\n    var c;\n    if (exports.isString(color) === true) {\n      if (exports.isValidRGB(color) === true) {\n        var rgb = color.substr(4).substr(0, color.length - 5).split(',').map(function (value) {\n          return parseInt(value);\n        });\n        color = exports.RGBToHex(rgb[0], rgb[1], rgb[2]);\n      }\n      if (exports.isValidHex(color) === true) {\n        var hsv = exports.hexToHSV(color);\n        var lighterColorHSV = { h: hsv.h, s: hsv.s * 0.8, v: Math.min(1, hsv.v * 1.02) };\n        var darkerColorHSV = { h: hsv.h, s: Math.min(1, hsv.s * 1.25), v: hsv.v * 0.8 };\n        var darkerColorHex = exports.HSVToHex(darkerColorHSV.h, darkerColorHSV.s, darkerColorHSV.v);\n        var lighterColorHex = exports.HSVToHex(lighterColorHSV.h, lighterColorHSV.s, lighterColorHSV.v);\n        c = {\n          background: color,\n          border: darkerColorHex,\n          highlight: {\n            background: lighterColorHex,\n            border: darkerColorHex\n          },\n          hover: {\n            background: lighterColorHex,\n            border: darkerColorHex\n          }\n        };\n      } else {\n        c = {\n          background: color,\n          border: color,\n          highlight: {\n            background: color,\n            border: color\n          },\n          hover: {\n            background: color,\n            border: color\n          }\n        };\n      }\n    } else {\n      c = {};\n      c.background = color.background || undefined;\n      c.border = color.border || undefined;\n\n      if (exports.isString(color.highlight)) {\n        c.highlight = {\n          border: color.highlight,\n          background: color.highlight\n        };\n      } else {\n        c.highlight = {};\n        c.highlight.background = color.highlight &amp;&amp; color.highlight.background || undefined;\n        c.highlight.border = color.highlight &amp;&amp; color.highlight.border || undefined;\n      }\n\n      if (exports.isString(color.hover)) {\n        c.hover = {\n          border: color.hover,\n          background: color.hover\n        };\n      } else {\n        c.hover = {};\n        c.hover.background = color.hover &amp;&amp; color.hover.background || undefined;\n        c.hover.border = color.hover &amp;&amp; color.hover.border || undefined;\n      }\n    }\n\n    return c;\n  };\n\n  /**\n   * http://www.javascripter.net/faq/rgb2hsv.htm\n   *\n   * @param red\n   * @param green\n   * @param blue\n   * @returns {*}\n   * @constructor\n   */\n  exports.RGBToHSV = function (red, green, blue) {\n    red = red / 255;green = green / 255;blue = blue / 255;\n    var minRGB = Math.min(red, Math.min(green, blue));\n    var maxRGB = Math.max(red, Math.max(green, blue));\n\n    // Black-gray-white\n    if (minRGB == maxRGB) {\n      return { h: 0, s: 0, v: minRGB };\n    }\n\n    // Colors other than black-gray-white:\n    var d = red == minRGB ? green - blue : blue == minRGB ? red - green : blue - red;\n    var h = red == minRGB ? 3 : blue == minRGB ? 1 : 5;\n    var hue = 60 * (h - d / (maxRGB - minRGB)) / 360;\n    var saturation = (maxRGB - minRGB) / maxRGB;\n    var value = maxRGB;\n    return { h: hue, s: saturation, v: value };\n  };\n\n  var cssUtil = {\n    // split a string with css styles into an object with key/values\n    split: function split(cssText) {\n      var styles = {};\n\n      cssText.split(';').forEach(function (style) {\n        if (style.trim() != '') {\n          var parts = style.split(':');\n          var key = parts[0].trim();\n          var value = parts[1].trim();\n          styles[key] = value;\n        }\n      });\n\n      return styles;\n    },\n\n    // build a css text string from an object with key/values\n    join: function join(styles) {\n      return Object.keys(styles).map(function (key) {\n        return key + ': ' + styles[key];\n      }).join('; ');\n    }\n  };\n\n  /**\n   * Append a string with css styles to an element\n   * @param {Element} element\n   * @param {String} cssText\n   */\n  exports.addCssText = function (element, cssText) {\n    var currentStyles = cssUtil.split(element.style.cssText);\n    var newStyles = cssUtil.split(cssText);\n    var styles = exports.extend(currentStyles, newStyles);\n\n    element.style.cssText = cssUtil.join(styles);\n  };\n\n  /**\n   * Remove a string with css styles from an element\n   * @param {Element} element\n   * @param {String} cssText\n   */\n  exports.removeCssText = function (element, cssText) {\n    var styles = cssUtil.split(element.style.cssText);\n    var removeStyles = cssUtil.split(cssText);\n\n    for (var key in removeStyles) {\n      if (removeStyles.hasOwnProperty(key)) {\n        delete styles[key];\n      }\n    }\n\n    element.style.cssText = cssUtil.join(styles);\n  };\n\n  /**\n   * https://gist.github.com/mjijackson/5311256\n   * @param h\n   * @param s\n   * @param v\n   * @returns {{r: number, g: number, b: number}}\n   * @constructor\n   */\n  exports.HSVToRGB = function (h, s, v) {\n    var r, g, b;\n\n    var i = Math.floor(h * 6);\n    var f = h * 6 - i;\n    var p = v * (1 - s);\n    var q = v * (1 - f * s);\n    var t = v * (1 - (1 - f) * s);\n\n    switch (i % 6) {\n      case 0:\n        r = v, g = t, b = p;break;\n      case 1:\n        r = q, g = v, b = p;break;\n      case 2:\n        r = p, g = v, b = t;break;\n      case 3:\n        r = p, g = q, b = v;break;\n      case 4:\n        r = t, g = p, b = v;break;\n      case 5:\n        r = v, g = p, b = q;break;\n    }\n\n    return { r: Math.floor(r * 255), g: Math.floor(g * 255), b: Math.floor(b * 255) };\n  };\n\n  exports.HSVToHex = function (h, s, v) {\n    var rgb = exports.HSVToRGB(h, s, v);\n    return exports.RGBToHex(rgb.r, rgb.g, rgb.b);\n  };\n\n  exports.hexToHSV = function (hex) {\n    var rgb = exports.hexToRGB(hex);\n    return exports.RGBToHSV(rgb.r, rgb.g, rgb.b);\n  };\n\n  exports.isValidHex = function (hex) {\n    var isOk = /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(hex);\n    return isOk;\n  };\n\n  exports.isValidRGB = function (rgb) {\n    rgb = rgb.replace(\&quot; \&quot;, \&quot;\&quot;);\n    var isOk = /rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)/i.test(rgb);\n    return isOk;\n  };\n  exports.isValidRGBA = function (rgba) {\n    rgba = rgba.replace(\&quot; \&quot;, \&quot;\&quot;);\n    var isOk = /rgba\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3}),(.{1,3})\\)/i.test(rgba);\n    return isOk;\n  };\n\n  /**\n   * This recursively redirects the prototype of JSON objects to the referenceObject\n   * This is used for default options.\n   *\n   * @param referenceObject\n   * @returns {*}\n   */\n  exports.selectiveBridgeObject = function (fields, referenceObject) {\n    if (typeof referenceObject == \&quot;object\&quot;) {\n      var objectTo = Object.create(referenceObject);\n      for (var i = 0; i &lt; fields.length; i++) {\n        if (referenceObject.hasOwnProperty(fields[i])) {\n          if (typeof referenceObject[fields[i]] == \&quot;object\&quot;) {\n            objectTo[fields[i]] = exports.bridgeObject(referenceObject[fields[i]]);\n          }\n        }\n      }\n      return objectTo;\n    } else {\n      return null;\n    }\n  };\n\n  /**\n   * This recursively redirects the prototype of JSON objects to the referenceObject\n   * This is used for default options.\n   *\n   * @param referenceObject\n   * @returns {*}\n   */\n  exports.bridgeObject = function (referenceObject) {\n    if (typeof referenceObject == \&quot;object\&quot;) {\n      var objectTo = Object.create(referenceObject);\n      for (var i in referenceObject) {\n        if (referenceObject.hasOwnProperty(i)) {\n          if (typeof referenceObject[i] == \&quot;object\&quot;) {\n            objectTo[i] = exports.bridgeObject(referenceObject[i]);\n          }\n        }\n      }\n      return objectTo;\n    } else {\n      return null;\n    }\n  };\n\n  /**\n   * This method provides a stable sort implementation, very fast for presorted data\n   *\n   * @param a the array\n   * @param a order comparator\n   * @returns {the array}\n   */\n  exports.insertSort = function (a, compare) {\n    for (var i = 0; i &lt; a.length; i++) {\n      var k = a[i];\n      for (var j = i; j &gt; 0 &amp;&amp; compare(k, a[j - 1]) &lt; 0; j--) {\n        a[j] = a[j - 1];\n      }\n      a[j] = k;\n    }\n    return a;\n  };\n\n  /**\n   * this is used to set the options of subobjects in the options object. A requirement of these subobjects\n   * is that they have an 'enabled' element which is optional for the user but mandatory for the program.\n   *\n   * @param [object] mergeTarget | this is either this.options or the options used for the groups.\n   * @param [object] options     | options\n   * @param [String] option      | this is the option key in the options argument\n   */\n  exports.mergeOptions = function (mergeTarget, options, option) {\n    var allowDeletion = arguments.length &lt;= 3 || arguments[3] === undefined ? false : arguments[3];\n    var globalOptions = arguments.length &lt;= 4 || arguments[4] === undefined ? {} : arguments[4];\n\n    if (options[option] === null) {\n      mergeTarget[option] = Object.create(globalOptions[option]);\n    } else {\n      if (options[option] !== undefined) {\n        if (typeof options[option] === 'boolean') {\n          mergeTarget[option].enabled = options[option];\n        } else {\n          if (options[option].enabled === undefined) {\n            mergeTarget[option].enabled = true;\n          }\n          for (var prop in options[option]) {\n            if (options[option].hasOwnProperty(prop)) {\n              mergeTarget[option][prop] = options[option][prop];\n            }\n          }\n        }\n      }\n    }\n  };\n\n  /**\n   * This function does a binary search for a visible item in a sorted list. If we find a visible item, the code that uses\n   * this function will then iterate in both directions over this sorted list to find all visible items.\n   *\n   * @param {Item[]} orderedItems       | Items ordered by start\n   * @param {function} comparator       | -1 is lower, 0 is equal, 1 is higher\n   * @param {String} field\n   * @param {String} field2\n   * @returns {number}\n   * @private\n   */\n  exports.binarySearchCustom = function (orderedItems, comparator, field, field2) {\n    var maxIterations = 10000;\n    var iteration = 0;\n    var low = 0;\n    var high = orderedItems.length - 1;\n\n    while (low &lt;= high &amp;&amp; iteration &lt; maxIterations) {\n      var middle = Math.floor((low + high) / 2);\n\n      var item = orderedItems[middle];\n      var value = field2 === undefined ? item[field] : item[field][field2];\n\n      var searchResult = comparator(value);\n      if (searchResult == 0) {\n        // jihaa, found a visible item!\n        return middle;\n      } else if (searchResult == -1) {\n        // it is too small --&gt; increase low\n        low = middle + 1;\n      } else {\n        // it is too big --&gt; decrease high\n        high = middle - 1;\n      }\n\n      iteration++;\n    }\n\n    return -1;\n  };\n\n  /**\n   * This function does a binary search for a specific value in a sorted array. If it does not exist but is in between of\n   * two values, we return either the one before or the one after, depending on user input\n   * If it is found, we return the index, else -1.\n   *\n   * @param {Array} orderedItems\n   * @param {{start: number, end: number}} target\n   * @param {String} field\n   * @param {String} sidePreference   'before' or 'after'\n   * @param {function} comparator an optional comparator, returning -1,0,1 for &lt;,==,&gt;.\n   * @returns {number}\n   * @private\n   */\n  exports.binarySearchValue = function (orderedItems, target, field, sidePreference, comparator) {\n    var maxIterations = 10000;\n    var iteration = 0;\n    var low = 0;\n    var high = orderedItems.length - 1;\n    var prevValue, value, nextValue, middle;\n\n    var comparator = comparator != undefined ? comparator : function (a, b) {\n      return a == b ? 0 : a &lt; b ? -1 : 1;\n    };\n\n    while (low &lt;= high &amp;&amp; iteration &lt; maxIterations) {\n      // get a new guess\n      middle = Math.floor(0.5 * (high + low));\n      prevValue = orderedItems[Math.max(0, middle - 1)][field];\n      value = orderedItems[middle][field];\n      nextValue = orderedItems[Math.min(orderedItems.length - 1, middle + 1)][field];\n\n      if (comparator(value, target) == 0) {\n        // we found the target\n        return middle;\n      } else if (comparator(prevValue, target) &lt; 0 &amp;&amp; comparator(value, target) &gt; 0) {\n        // target is in between of the previous and the current\n        return sidePreference == 'before' ? Math.max(0, middle - 1) : middle;\n      } else if (comparator(value, target) &lt; 0 &amp;&amp; comparator(nextValue, target) &gt; 0) {\n        // target is in between of the current and the next\n        return sidePreference == 'before' ? middle : Math.min(orderedItems.length - 1, middle + 1);\n      } else {\n        // didnt find the target, we need to change our boundaries.\n        if (comparator(value, target) &lt; 0) {\n          // it is too small --&gt; increase low\n          low = middle + 1;\n        } else {\n          // it is too big --&gt; decrease high\n          high = middle - 1;\n        }\n      }\n      iteration++;\n    }\n\n    // didnt find anything. Return -1.\n    return -1;\n  };\n\n  /*\n   * Easing Functions - inspired from http://gizma.com/easing/\n   * only considering the t value for the range [0, 1] =&gt; [0, 1]\n   * https://gist.github.com/gre/1650294\n   */\n  exports.easingFunctions = {\n    // no easing, no acceleration\n    linear: function linear(t) {\n      return t;\n    },\n    // accelerating from zero velocity\n    easeInQuad: function easeInQuad(t) {\n      return t * t;\n    },\n    // decelerating to zero velocity\n    easeOutQuad: function easeOutQuad(t) {\n      return t * (2 - t);\n    },\n    // acceleration until halfway, then deceleration\n    easeInOutQuad: function easeInOutQuad(t) {\n      return t &lt; .5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n    },\n    // accelerating from zero velocity\n    easeInCubic: function easeInCubic(t) {\n      return t * t * t;\n    },\n    // decelerating to zero velocity\n    easeOutCubic: function easeOutCubic(t) {\n      return --t * t * t + 1;\n    },\n    // acceleration until halfway, then deceleration\n    easeInOutCubic: function easeInOutCubic(t) {\n      return t &lt; .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n    },\n    // accelerating from zero velocity\n    easeInQuart: function easeInQuart(t) {\n      return t * t * t * t;\n    },\n    // decelerating to zero velocity\n    easeOutQuart: function easeOutQuart(t) {\n      return 1 - --t * t * t * t;\n    },\n    // acceleration until halfway, then deceleration\n    easeInOutQuart: function easeInOutQuart(t) {\n      return t &lt; .5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\n    },\n    // accelerating from zero velocity\n    easeInQuint: function easeInQuint(t) {\n      return t * t * t * t * t;\n    },\n    // decelerating to zero velocity\n    easeOutQuint: function easeOutQuint(t) {\n      return 1 + --t * t * t * t * t;\n    },\n    // acceleration until halfway, then deceleration\n    easeInOutQuint: function easeInOutQuint(t) {\n      return t &lt; .5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n    }\n  };\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n  // first check if moment.js is already loaded in the browser window, if so,\n  // use this instance. Else, load via commonjs.\n  'use strict';\n\n  module.exports = typeof window !== 'undefined' &amp;&amp; window['moment'] || __webpack_require__(3);\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n  /* WEBPACK VAR INJECTION */(function(module) {//! moment.js\n  //! version : 2.11.1\n  //! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n  //! license : MIT\n  //! momentjs.com\n\n  ;(function (global, factory) {\n       true ? module.exports = factory() :\n      typeof define === 'function' &amp;&amp; define.amd ? define(factory) :\n      global.moment = factory()\n  }(this, function () { 'use strict';\n\n      var hookCallback;\n\n      function utils_hooks__hooks () {\n          return hookCallback.apply(null, arguments);\n      }\n\n      // This is done to register the method called with moment()\n      // without creating circular dependencies.\n      function setHookCallback (callback) {\n          hookCallback = callback;\n      }\n\n      function isArray(input) {\n          return Object.prototype.toString.call(input) === '[object Array]';\n      }\n\n      function isDate(input) {\n          return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';\n      }\n\n      function map(arr, fn) {\n          var res = [], i;\n          for (i = 0; i &lt; arr.length; ++i) {\n              res.push(fn(arr[i], i));\n          }\n          return res;\n      }\n\n      function hasOwnProp(a, b) {\n          return Object.prototype.hasOwnProperty.call(a, b);\n      }\n\n      function extend(a, b) {\n          for (var i in b) {\n              if (hasOwnProp(b, i)) {\n                  a[i] = b[i];\n              }\n          }\n\n          if (hasOwnProp(b, 'toString')) {\n              a.toString = b.toString;\n          }\n\n          if (hasOwnProp(b, 'valueOf')) {\n              a.valueOf = b.valueOf;\n          }\n\n          return a;\n      }\n\n      function create_utc__createUTC (input, format, locale, strict) {\n          return createLocalOrUTC(input, format, locale, strict, true).utc();\n      }\n\n      function defaultParsingFlags() {\n          // We need to deep clone this object.\n          return {\n              empty           : false,\n              unusedTokens    : [],\n              unusedInput     : [],\n              overflow        : -2,\n              charsLeftOver   : 0,\n              nullInput       : false,\n              invalidMonth    : null,\n              invalidFormat   : false,\n              userInvalidated : false,\n              iso             : false\n          };\n      }\n\n      function getParsingFlags(m) {\n          if (m._pf == null) {\n              m._pf = defaultParsingFlags();\n          }\n          return m._pf;\n      }\n\n      function valid__isValid(m) {\n          if (m._isValid == null) {\n              var flags = getParsingFlags(m);\n              m._isValid = !isNaN(m._d.getTime()) &amp;&amp;\n                  flags.overflow &lt; 0 &amp;&amp;\n                  !flags.empty &amp;&amp;\n                  !flags.invalidMonth &amp;&amp;\n                  !flags.invalidWeekday &amp;&amp;\n                  !flags.nullInput &amp;&amp;\n                  !flags.invalidFormat &amp;&amp;\n                  !flags.userInvalidated;\n\n              if (m._strict) {\n                  m._isValid = m._isValid &amp;&amp;\n                      flags.charsLeftOver === 0 &amp;&amp;\n                      flags.unusedTokens.length === 0 &amp;&amp;\n                      flags.bigHour === undefined;\n              }\n          }\n          return m._isValid;\n      }\n\n      function valid__createInvalid (flags) {\n          var m = create_utc__createUTC(NaN);\n          if (flags != null) {\n              extend(getParsingFlags(m), flags);\n          }\n          else {\n              getParsingFlags(m).userInvalidated = true;\n          }\n\n          return m;\n      }\n\n      function isUndefined(input) {\n          return input === void 0;\n      }\n\n      // Plugins that add properties should also add the key here (null value),\n      // so we can properly clone ourselves.\n      var momentProperties = utils_hooks__hooks.momentProperties = [];\n\n      function copyConfig(to, from) {\n          var i, prop, val;\n\n          if (!isUndefined(from._isAMomentObject)) {\n              to._isAMomentObject = from._isAMomentObject;\n          }\n          if (!isUndefined(from._i)) {\n              to._i = from._i;\n          }\n          if (!isUndefined(from._f)) {\n              to._f = from._f;\n          }\n          if (!isUndefined(from._l)) {\n              to._l = from._l;\n          }\n          if (!isUndefined(from._strict)) {\n              to._strict = from._strict;\n          }\n          if (!isUndefined(from._tzm)) {\n              to._tzm = from._tzm;\n          }\n          if (!isUndefined(from._isUTC)) {\n              to._isUTC = from._isUTC;\n          }\n          if (!isUndefined(from._offset)) {\n              to._offset = from._offset;\n          }\n          if (!isUndefined(from._pf)) {\n              to._pf = getParsingFlags(from);\n          }\n          if (!isUndefined(from._locale)) {\n              to._locale = from._locale;\n          }\n\n          if (momentProperties.length &gt; 0) {\n              for (i in momentProperties) {\n                  prop = momentProperties[i];\n                  val = from[prop];\n                  if (!isUndefined(val)) {\n                      to[prop] = val;\n                  }\n              }\n          }\n\n          return to;\n      }\n\n      var updateInProgress = false;\n\n      // Moment prototype object\n      function Moment(config) {\n          copyConfig(this, config);\n          this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n          // Prevent infinite loop in case updateOffset creates new moment\n          // objects.\n          if (updateInProgress === false) {\n              updateInProgress = true;\n              utils_hooks__hooks.updateOffset(this);\n              updateInProgress = false;\n          }\n      }\n\n      function isMoment (obj) {\n          return obj instanceof Moment || (obj != null &amp;&amp; obj._isAMomentObject != null);\n      }\n\n      function absFloor (number) {\n          if (number &lt; 0) {\n              return Math.ceil(number);\n          } else {\n              return Math.floor(number);\n          }\n      }\n\n      function toInt(argumentForCoercion) {\n          var coercedNumber = +argumentForCoercion,\n              value = 0;\n\n          if (coercedNumber !== 0 &amp;&amp; isFinite(coercedNumber)) {\n              value = absFloor(coercedNumber);\n          }\n\n          return value;\n      }\n\n      // compare two arrays, return the number of differences\n      function compareArrays(array1, array2, dontConvert) {\n          var len = Math.min(array1.length, array2.length),\n              lengthDiff = Math.abs(array1.length - array2.length),\n              diffs = 0,\n              i;\n          for (i = 0; i &lt; len; i++) {\n              if ((dontConvert &amp;&amp; array1[i] !== array2[i]) ||\n                  (!dontConvert &amp;&amp; toInt(array1[i]) !== toInt(array2[i]))) {\n                  diffs++;\n              }\n          }\n          return diffs + lengthDiff;\n      }\n\n      function Locale() {\n      }\n\n      // internal storage for locale config files\n      var locales = {};\n      var globalLocale;\n\n      function normalizeLocale(key) {\n          return key ? key.toLowerCase().replace('_', '-') : key;\n      }\n\n      // pick the locale from the array\n      // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n      // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\n      function chooseLocale(names) {\n          var i = 0, j, next, locale, split;\n\n          while (i &lt; names.length) {\n              split = normalizeLocale(names[i]).split('-');\n              j = split.length;\n              next = normalizeLocale(names[i + 1]);\n              next = next ? next.split('-') : null;\n              while (j &gt; 0) {\n                  locale = loadLocale(split.slice(0, j).join('-'));\n                  if (locale) {\n                      return locale;\n                  }\n                  if (next &amp;&amp; next.length &gt;= j &amp;&amp; compareArrays(split, next, true) &gt;= j - 1) {\n                      //the next array item is better than a shallower substring of this one\n                      break;\n                  }\n                  j--;\n              }\n              i++;\n          }\n          return null;\n      }\n\n      function loadLocale(name) {\n          var oldLocale = null;\n          // TODO: Find a better way to register and load all the locales in Node\n          if (!locales[name] &amp;&amp; (typeof module !== 'undefined') &amp;&amp;\n                  module &amp;&amp; module.exports) {\n              try {\n                  oldLocale = globalLocale._abbr;\n                  !(function webpackMissingModule() { var e = new Error(\&quot;Cannot find module \\\&quot;./locale\\\&quot;\&quot;); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n                  // because defineLocale currently also sets the global locale, we\n                  // want to undo that for lazy loaded locales\n                  locale_locales__getSetGlobalLocale(oldLocale);\n              } catch (e) { }\n          }\n          return locales[name];\n      }\n\n      // This function will load locale and then set the global locale.  If\n      // no arguments are passed in, it will simply return the current global\n      // locale key.\n      function locale_locales__getSetGlobalLocale (key, values) {\n          var data;\n          if (key) {\n              if (isUndefined(values)) {\n                  data = locale_locales__getLocale(key);\n              }\n              else {\n                  data = defineLocale(key, values);\n              }\n\n              if (data) {\n                  // moment.duration._locale = moment._locale = data;\n                  globalLocale = data;\n              }\n          }\n\n          return globalLocale._abbr;\n      }\n\n      function defineLocale (name, values) {\n          if (values !== null) {\n              values.abbr = name;\n              locales[name] = locales[name] || new Locale();\n              locales[name].set(values);\n\n              // backwards compat for now: also set the locale\n              locale_locales__getSetGlobalLocale(name);\n\n              return locales[name];\n          } else {\n              // useful for testing\n              delete locales[name];\n              return null;\n          }\n      }\n\n      // returns locale data\n      function locale_locales__getLocale (key) {\n          var locale;\n\n          if (key &amp;&amp; key._locale &amp;&amp; key._locale._abbr) {\n              key = key._locale._abbr;\n          }\n\n          if (!key) {\n              return globalLocale;\n          }\n\n          if (!isArray(key)) {\n              //short-circuit everything else\n              locale = loadLocale(key);\n              if (locale) {\n                  return locale;\n              }\n              key = [key];\n          }\n\n          return chooseLocale(key);\n      }\n\n      var aliases = {};\n\n      function addUnitAlias (unit, shorthand) {\n          var lowerCase = unit.toLowerCase();\n          aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n      }\n\n      function normalizeUnits(units) {\n          return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;\n      }\n\n      function normalizeObjectUnits(inputObject) {\n          var normalizedInput = {},\n              normalizedProp,\n              prop;\n\n          for (prop in inputObject) {\n              if (hasOwnProp(inputObject, prop)) {\n                  normalizedProp = normalizeUnits(prop);\n                  if (normalizedProp) {\n                      normalizedInput[normalizedProp] = inputObject[prop];\n                  }\n              }\n          }\n\n          return normalizedInput;\n      }\n\n      function isFunction(input) {\n          return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';\n      }\n\n      function makeGetSet (unit, keepTime) {\n          return function (value) {\n              if (value != null) {\n                  get_set__set(this, unit, value);\n                  utils_hooks__hooks.updateOffset(this, keepTime);\n                  return this;\n              } else {\n                  return get_set__get(this, unit);\n              }\n          };\n      }\n\n      function get_set__get (mom, unit) {\n          return mom.isValid() ?\n              mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;\n      }\n\n      function get_set__set (mom, unit, value) {\n          if (mom.isValid()) {\n              mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n          }\n      }\n\n      // MOMENTS\n\n      function getSet (units, value) {\n          var unit;\n          if (typeof units === 'object') {\n              for (unit in units) {\n                  this.set(unit, units[unit]);\n              }\n          } else {\n              units = normalizeUnits(units);\n              if (isFunction(this[units])) {\n                  return this[units](value);\n              }\n          }\n          return this;\n      }\n\n      function zeroFill(number, targetLength, forceSign) {\n          var absNumber = '' + Math.abs(number),\n              zerosToFill = targetLength - absNumber.length,\n              sign = number &gt;= 0;\n          return (sign ? (forceSign ? '+' : '') : '-') +\n              Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;\n      }\n\n      var formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;\n\n      var localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\n\n      var formatFunctions = {};\n\n      var formatTokenFunctions = {};\n\n      // token:    'M'\n      // padded:   ['MM', 2]\n      // ordinal:  'Mo'\n      // callback: function () { this.month() + 1 }\n      function addFormatToken (token, padded, ordinal, callback) {\n          var func = callback;\n          if (typeof callback === 'string') {\n              func = function () {\n                  return this[callback]();\n              };\n          }\n          if (token) {\n              formatTokenFunctions[token] = func;\n          }\n          if (padded) {\n              formatTokenFunctions[padded[0]] = function () {\n                  return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n              };\n          }\n          if (ordinal) {\n              formatTokenFunctions[ordinal] = function () {\n                  return this.localeData().ordinal(func.apply(this, arguments), token);\n              };\n          }\n      }\n\n      function removeFormattingTokens(input) {\n          if (input.match(/\\[[\\s\\S]/)) {\n              return input.replace(/^\\[|\\]$/g, '');\n          }\n          return input.replace(/\\\\/g, '');\n      }\n\n      function makeFormatFunction(format) {\n          var array = format.match(formattingTokens), i, length;\n\n          for (i = 0, length = array.length; i &lt; length; i++) {\n              if (formatTokenFunctions[array[i]]) {\n                  array[i] = formatTokenFunctions[array[i]];\n              } else {\n                  array[i] = removeFormattingTokens(array[i]);\n              }\n          }\n\n          return function (mom) {\n              var output = '';\n              for (i = 0; i &lt; length; i++) {\n                  output += array[i] instanceof Function ? array[i].call(mom, format) : array[i];\n              }\n              return output;\n          };\n      }\n\n      // format date using native date object\n      function formatMoment(m, format) {\n          if (!m.isValid()) {\n              return m.localeData().invalidDate();\n          }\n\n          format = expandFormat(format, m.localeData());\n          formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);\n\n          return formatFunctions[format](m);\n      }\n\n      function expandFormat(format, locale) {\n          var i = 5;\n\n          function replaceLongDateFormatTokens(input) {\n              return locale.longDateFormat(input) || input;\n          }\n\n          localFormattingTokens.lastIndex = 0;\n          while (i &gt;= 0 &amp;&amp; localFormattingTokens.test(format)) {\n              format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n              localFormattingTokens.lastIndex = 0;\n              i -= 1;\n          }\n\n          return format;\n      }\n\n      var match1         = /\\d/;            //       0 - 9\n      var match2         = /\\d\\d/;          //      00 - 99\n      var match3         = /\\d{3}/;         //     000 - 999\n      var match4         = /\\d{4}/;         //    0000 - 9999\n      var match6         = /[+-]?\\d{6}/;    // -999999 - 999999\n      var match1to2      = /\\d\\d?/;         //       0 - 99\n      var match3to4      = /\\d\\d\\d\\d?/;     //     999 - 9999\n      var match5to6      = /\\d\\d\\d\\d\\d\\d?/; //   99999 - 999999\n      var match1to3      = /\\d{1,3}/;       //       0 - 999\n      var match1to4      = /\\d{1,4}/;       //       0 - 9999\n      var match1to6      = /[+-]?\\d{1,6}/;  // -999999 - 999999\n\n      var matchUnsigned  = /\\d+/;           //       0 - inf\n      var matchSigned    = /[+-]?\\d+/;      //    -inf - inf\n\n      var matchOffset    = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\n      var matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n\n      var matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\n\n      // any word (or two) characters or numbers including two/three word month in arabic.\n      // includes scottish gaelic two word and hyphenated months\n      var matchWord = /[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i;\n\n\n      var regexes = {};\n\n      function addRegexToken (token, regex, strictRegex) {\n          regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {\n              return (isStrict &amp;&amp; strictRegex) ? strictRegex : regex;\n          };\n      }\n\n      function getParseRegexForToken (token, config) {\n          if (!hasOwnProp(regexes, token)) {\n              return new RegExp(unescapeFormat(token));\n          }\n\n          return regexes[token](config._strict, config._locale);\n      }\n\n      // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n      function unescapeFormat(s) {\n          return regexEscape(s.replace('\\\\', '').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n              return p1 || p2 || p3 || p4;\n          }));\n      }\n\n      function regexEscape(s) {\n          return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&amp;');\n      }\n\n      var tokens = {};\n\n      function addParseToken (token, callback) {\n          var i, func = callback;\n          if (typeof token === 'string') {\n              token = [token];\n          }\n          if (typeof callback === 'number') {\n              func = function (input, array) {\n                  array[callback] = toInt(input);\n              };\n          }\n          for (i = 0; i &lt; token.length; i++) {\n              tokens[token[i]] = func;\n          }\n      }\n\n      function addWeekParseToken (token, callback) {\n          addParseToken(token, function (input, array, config, token) {\n              config._w = config._w || {};\n              callback(input, config._w, config, token);\n          });\n      }\n\n      function addTimeToArrayFromToken(token, input, config) {\n          if (input != null &amp;&amp; hasOwnProp(tokens, token)) {\n              tokens[token](input, config._a, config, token);\n          }\n      }\n\n      var YEAR = 0;\n      var MONTH = 1;\n      var DATE = 2;\n      var HOUR = 3;\n      var MINUTE = 4;\n      var SECOND = 5;\n      var MILLISECOND = 6;\n      var WEEK = 7;\n      var WEEKDAY = 8;\n\n      function daysInMonth(year, month) {\n          return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();\n      }\n\n      // FORMATTING\n\n      addFormatToken('M', ['MM', 2], 'Mo', function () {\n          return this.month() + 1;\n      });\n\n      addFormatToken('MMM', 0, 0, function (format) {\n          return this.localeData().monthsShort(this, format);\n      });\n\n      addFormatToken('MMMM', 0, 0, function (format) {\n          return this.localeData().months(this, format);\n      });\n\n      // ALIASES\n\n      addUnitAlias('month', 'M');\n\n      // PARSING\n\n      addRegexToken('M',    match1to2);\n      addRegexToken('MM',   match1to2, match2);\n      addRegexToken('MMM',  function (isStrict, locale) {\n          return locale.monthsShortRegex(isStrict);\n      });\n      addRegexToken('MMMM', function (isStrict, locale) {\n          return locale.monthsRegex(isStrict);\n      });\n\n      addParseToken(['M', 'MM'], function (input, array) {\n          array[MONTH] = toInt(input) - 1;\n      });\n\n      addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n          var month = config._locale.monthsParse(input, token, config._strict);\n          // if we didn't find a month name, mark the date as invalid.\n          if (month != null) {\n              array[MONTH] = month;\n          } else {\n              getParsingFlags(config).invalidMonth = input;\n          }\n      });\n\n      // LOCALES\n\n      var MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s+)+MMMM?/;\n      var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');\n      function localeMonths (m, format) {\n          return isArray(this._months) ? this._months[m.month()] :\n              this._months[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];\n      }\n\n      var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');\n      function localeMonthsShort (m, format) {\n          return isArray(this._monthsShort) ? this._monthsShort[m.month()] :\n              this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];\n      }\n\n      function localeMonthsParse (monthName, format, strict) {\n          var i, mom, regex;\n\n          if (!this._monthsParse) {\n              this._monthsParse = [];\n              this._longMonthsParse = [];\n              this._shortMonthsParse = [];\n          }\n\n          for (i = 0; i &lt; 12; i++) {\n              // make the regex if we don't have it already\n              mom = create_utc__createUTC([2000, i]);\n              if (strict &amp;&amp; !this._longMonthsParse[i]) {\n                  this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');\n                  this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');\n              }\n              if (!strict &amp;&amp; !this._monthsParse[i]) {\n                  regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n                  this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n              }\n              // test the regex\n              if (strict &amp;&amp; format === 'MMMM' &amp;&amp; this._longMonthsParse[i].test(monthName)) {\n                  return i;\n              } else if (strict &amp;&amp; format === 'MMM' &amp;&amp; this._shortMonthsParse[i].test(monthName)) {\n                  return i;\n              } else if (!strict &amp;&amp; this._monthsParse[i].test(monthName)) {\n                  return i;\n              }\n          }\n      }\n\n      // MOMENTS\n\n      function setMonth (mom, value) {\n          var dayOfMonth;\n\n          if (!mom.isValid()) {\n              // No op\n              return mom;\n          }\n\n          // TODO: Move this out of here!\n          if (typeof value === 'string') {\n              value = mom.localeData().monthsParse(value);\n              // TODO: Another silent failure?\n              if (typeof value !== 'number') {\n                  return mom;\n              }\n          }\n\n          dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n          mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n          return mom;\n      }\n\n      function getSetMonth (value) {\n          if (value != null) {\n              setMonth(this, value);\n              utils_hooks__hooks.updateOffset(this, true);\n              return this;\n          } else {\n              return get_set__get(this, 'Month');\n          }\n      }\n\n      function getDaysInMonth () {\n          return daysInMonth(this.year(), this.month());\n      }\n\n      var defaultMonthsShortRegex = matchWord;\n      function monthsShortRegex (isStrict) {\n          if (this._monthsParseExact) {\n              if (!hasOwnProp(this, '_monthsRegex')) {\n                  computeMonthsParse.call(this);\n              }\n              if (isStrict) {\n                  return this._monthsShortStrictRegex;\n              } else {\n                  return this._monthsShortRegex;\n              }\n          } else {\n              return this._monthsShortStrictRegex &amp;&amp; isStrict ?\n                  this._monthsShortStrictRegex : this._monthsShortRegex;\n          }\n      }\n\n      var defaultMonthsRegex = matchWord;\n      function monthsRegex (isStrict) {\n          if (this._monthsParseExact) {\n              if (!hasOwnProp(this, '_monthsRegex')) {\n                  computeMonthsParse.call(this);\n              }\n              if (isStrict) {\n                  return this._monthsStrictRegex;\n              } else {\n                  return this._monthsRegex;\n              }\n          } else {\n              return this._monthsStrictRegex &amp;&amp; isStrict ?\n                  this._monthsStrictRegex : this._monthsRegex;\n          }\n      }\n\n      function computeMonthsParse () {\n          function cmpLenRev(a, b) {\n              return b.length - a.length;\n          }\n\n          var shortPieces = [], longPieces = [], mixedPieces = [],\n              i, mom;\n          for (i = 0; i &lt; 12; i++) {\n              // make the regex if we don't have it already\n              mom = create_utc__createUTC([2000, i]);\n              shortPieces.push(this.monthsShort(mom, ''));\n              longPieces.push(this.months(mom, ''));\n              mixedPieces.push(this.months(mom, ''));\n              mixedPieces.push(this.monthsShort(mom, ''));\n          }\n          // Sorting makes sure if one month (or abbr) is a prefix of another it\n          // will match the longer piece.\n          shortPieces.sort(cmpLenRev);\n          longPieces.sort(cmpLenRev);\n          mixedPieces.sort(cmpLenRev);\n          for (i = 0; i &lt; 12; i++) {\n              shortPieces[i] = regexEscape(shortPieces[i]);\n              longPieces[i] = regexEscape(longPieces[i]);\n              mixedPieces[i] = regexEscape(mixedPieces[i]);\n          }\n\n          this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n          this._monthsShortRegex = this._monthsRegex;\n          this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')$', 'i');\n          this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')$', 'i');\n      }\n\n      function checkOverflow (m) {\n          var overflow;\n          var a = m._a;\n\n          if (a &amp;&amp; getParsingFlags(m).overflow === -2) {\n              overflow =\n                  a[MONTH]       &lt; 0 || a[MONTH]       &gt; 11  ? MONTH :\n                  a[DATE]        &lt; 1 || a[DATE]        &gt; daysInMonth(a[YEAR], a[MONTH]) ? DATE :\n                  a[HOUR]        &lt; 0 || a[HOUR]        &gt; 24 || (a[HOUR] === 24 &amp;&amp; (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :\n                  a[MINUTE]      &lt; 0 || a[MINUTE]      &gt; 59  ? MINUTE :\n                  a[SECOND]      &lt; 0 || a[SECOND]      &gt; 59  ? SECOND :\n                  a[MILLISECOND] &lt; 0 || a[MILLISECOND] &gt; 999 ? MILLISECOND :\n                  -1;\n\n              if (getParsingFlags(m)._overflowDayOfYear &amp;&amp; (overflow &lt; YEAR || overflow &gt; DATE)) {\n                  overflow = DATE;\n              }\n              if (getParsingFlags(m)._overflowWeeks &amp;&amp; overflow === -1) {\n                  overflow = WEEK;\n              }\n              if (getParsingFlags(m)._overflowWeekday &amp;&amp; overflow === -1) {\n                  overflow = WEEKDAY;\n              }\n\n              getParsingFlags(m).overflow = overflow;\n          }\n\n          return m;\n      }\n\n      function warn(msg) {\n          if (utils_hooks__hooks.suppressDeprecationWarnings === false &amp;&amp;\n                  (typeof console !==  'undefined') &amp;&amp; console.warn) {\n              console.warn('Deprecation warning: ' + msg);\n          }\n      }\n\n      function deprecate(msg, fn) {\n          var firstTime = true;\n\n          return extend(function () {\n              if (firstTime) {\n                  warn(msg + '\\nArguments: ' + Array.prototype.slice.call(arguments).join(', ') + '\\n' + (new Error()).stack);\n                  firstTime = false;\n              }\n              return fn.apply(this, arguments);\n          }, fn);\n      }\n\n      var deprecations = {};\n\n      function deprecateSimple(name, msg) {\n          if (!deprecations[name]) {\n              warn(msg);\n              deprecations[name] = true;\n          }\n      }\n\n      utils_hooks__hooks.suppressDeprecationWarnings = false;\n\n      // iso 8601 regex\n      // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\n      var extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n      var basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n\n      var tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/;\n\n      var isoDates = [\n          ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n          ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n          ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n          ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n          ['YYYY-DDD', /\\d{4}-\\d{3}/],\n          ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n          ['YYYYYYMMDD', /[+-]\\d{10}/],\n          ['YYYYMMDD', /\\d{8}/],\n          // YYYYMM is NOT allowed by the standard\n          ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n          ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n          ['YYYYDDD', /\\d{7}/]\n      ];\n\n      // iso time formats and regexes\n      var isoTimes = [\n          ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n          ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n          ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n          ['HH:mm', /\\d\\d:\\d\\d/],\n          ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n          ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n          ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n          ['HHmm', /\\d\\d\\d\\d/],\n          ['HH', /\\d\\d/]\n      ];\n\n      var aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n      // date from iso format\n      function configFromISO(config) {\n          var i, l,\n              string = config._i,\n              match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n              allowTime, dateFormat, timeFormat, tzFormat;\n\n          if (match) {\n              getParsingFlags(config).iso = true;\n\n              for (i = 0, l = isoDates.length; i &lt; l; i++) {\n                  if (isoDates[i][1].exec(match[1])) {\n                      dateFormat = isoDates[i][0];\n                      allowTime = isoDates[i][2] !== false;\n                      break;\n                  }\n              }\n              if (dateFormat == null) {\n                  config._isValid = false;\n                  return;\n              }\n              if (match[3]) {\n                  for (i = 0, l = isoTimes.length; i &lt; l; i++) {\n                      if (isoTimes[i][1].exec(match[3])) {\n                          // match[2] should be 'T' or space\n                          timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                          break;\n                      }\n                  }\n                  if (timeFormat == null) {\n                      config._isValid = false;\n                      return;\n                  }\n              }\n              if (!allowTime &amp;&amp; timeFormat != null) {\n                  config._isValid = false;\n                  return;\n              }\n              if (match[4]) {\n                  if (tzRegex.exec(match[4])) {\n                      tzFormat = 'Z';\n                  } else {\n                      config._isValid = false;\n                      return;\n                  }\n              }\n              config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n              configFromStringAndFormat(config);\n          } else {\n              config._isValid = false;\n          }\n      }\n\n      // date from iso format or fallback\n      function configFromString(config) {\n          var matched = aspNetJsonRegex.exec(config._i);\n\n          if (matched !== null) {\n              config._d = new Date(+matched[1]);\n              return;\n          }\n\n          configFromISO(config);\n          if (config._isValid === false) {\n              delete config._isValid;\n              utils_hooks__hooks.createFromInputFallback(config);\n          }\n      }\n\n      utils_hooks__hooks.createFromInputFallback = deprecate(\n          'moment construction falls back to js Date. This is ' +\n          'discouraged and will be removed in upcoming major ' +\n          'release. Please refer to ' +\n          'https://github.com/moment/moment/issues/1407 for more info.',\n          function (config) {\n              config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n          }\n      );\n\n      function createDate (y, m, d, h, M, s, ms) {\n          //can't just apply() to create a date:\n          //http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply\n          var date = new Date(y, m, d, h, M, s, ms);\n\n          //the date constructor remaps years 0-99 to 1900-1999\n          if (y &lt; 100 &amp;&amp; y &gt;= 0 &amp;&amp; isFinite(date.getFullYear())) {\n              date.setFullYear(y);\n          }\n          return date;\n      }\n\n      function createUTCDate (y) {\n          var date = new Date(Date.UTC.apply(null, arguments));\n\n          //the Date.UTC function remaps years 0-99 to 1900-1999\n          if (y &lt; 100 &amp;&amp; y &gt;= 0 &amp;&amp; isFinite(date.getUTCFullYear())) {\n              date.setUTCFullYear(y);\n          }\n          return date;\n      }\n\n      // FORMATTING\n\n      addFormatToken('Y', 0, 0, function () {\n          var y = this.year();\n          return y &lt;= 9999 ? '' + y : '+' + y;\n      });\n\n      addFormatToken(0, ['YY', 2], 0, function () {\n          return this.year() % 100;\n      });\n\n      addFormatToken(0, ['YYYY',   4],       0, 'year');\n      addFormatToken(0, ['YYYYY',  5],       0, 'year');\n      addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n      // ALIASES\n\n      addUnitAlias('year', 'y');\n\n      // PARSING\n\n      addRegexToken('Y',      matchSigned);\n      addRegexToken('YY',     match1to2, match2);\n      addRegexToken('YYYY',   match1to4, match4);\n      addRegexToken('YYYYY',  match1to6, match6);\n      addRegexToken('YYYYYY', match1to6, match6);\n\n      addParseToken(['YYYYY', 'YYYYYY'], YEAR);\n      addParseToken('YYYY', function (input, array) {\n          array[YEAR] = input.length === 2 ? utils_hooks__hooks.parseTwoDigitYear(input) : toInt(input);\n      });\n      addParseToken('YY', function (input, array) {\n          array[YEAR] = utils_hooks__hooks.parseTwoDigitYear(input);\n      });\n      addParseToken('Y', function (input, array) {\n          array[YEAR] = parseInt(input, 10);\n      });\n\n      // HELPERS\n\n      function daysInYear(year) {\n          return isLeapYear(year) ? 366 : 365;\n      }\n\n      function isLeapYear(year) {\n          return (year % 4 === 0 &amp;&amp; year % 100 !== 0) || year % 400 === 0;\n      }\n\n      // HOOKS\n\n      utils_hooks__hooks.parseTwoDigitYear = function (input) {\n          return toInt(input) + (toInt(input) &gt; 68 ? 1900 : 2000);\n      };\n\n      // MOMENTS\n\n      var getSetYear = makeGetSet('FullYear', false);\n\n      function getIsLeapYear () {\n          return isLeapYear(this.year());\n      }\n\n      // start-of-first-week - start-of-year\n      function firstWeekOffset(year, dow, doy) {\n          var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n              fwd = 7 + dow - doy,\n              // first-week day local weekday -- which local weekday is fwd\n              fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n          return -fwdlw + fwd - 1;\n      }\n\n      //http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n      function dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n          var localWeekday = (7 + weekday - dow) % 7,\n              weekOffset = firstWeekOffset(year, dow, doy),\n              dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n              resYear, resDayOfYear;\n\n          if (dayOfYear &lt;= 0) {\n              resYear = year - 1;\n              resDayOfYear = daysInYear(resYear) + dayOfYear;\n          } else if (dayOfYear &gt; daysInYear(year)) {\n              resYear = year + 1;\n              resDayOfYear = dayOfYear - daysInYear(year);\n          } else {\n              resYear = year;\n              resDayOfYear = dayOfYear;\n          }\n\n          return {\n              year: resYear,\n              dayOfYear: resDayOfYear\n          };\n      }\n\n      function weekOfYear(mom, dow, doy) {\n          var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n              week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n              resWeek, resYear;\n\n          if (week &lt; 1) {\n              resYear = mom.year() - 1;\n              resWeek = week + weeksInYear(resYear, dow, doy);\n          } else if (week &gt; weeksInYear(mom.year(), dow, doy)) {\n              resWeek = week - weeksInYear(mom.year(), dow, doy);\n              resYear = mom.year() + 1;\n          } else {\n              resYear = mom.year();\n              resWeek = week;\n          }\n\n          return {\n              week: resWeek,\n              year: resYear\n          };\n      }\n\n      function weeksInYear(year, dow, doy) {\n          var weekOffset = firstWeekOffset(year, dow, doy),\n              weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n          return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n      }\n\n      // Pick the first defined of two or three arguments.\n      function defaults(a, b, c) {\n          if (a != null) {\n              return a;\n          }\n          if (b != null) {\n              return b;\n          }\n          return c;\n      }\n\n      function currentDateArray(config) {\n          // hooks is actually the exported moment object\n          var nowValue = new Date(utils_hooks__hooks.now());\n          if (config._useUTC) {\n              return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];\n          }\n          return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n      }\n\n      // convert an array to a date.\n      // the array should mirror the parameters below\n      // note: all values past the year are optional and will default to the lowest possible value.\n      // [year, month, day , hour, minute, second, millisecond]\n      function configFromArray (config) {\n          var i, date, input = [], currentDate, yearToUse;\n\n          if (config._d) {\n              return;\n          }\n\n          currentDate = currentDateArray(config);\n\n          //compute day of the year from weeks and weekdays\n          if (config._w &amp;&amp; config._a[DATE] == null &amp;&amp; config._a[MONTH] == null) {\n              dayOfYearFromWeekInfo(config);\n          }\n\n          //if the day of the year is set, figure out what it is\n          if (config._dayOfYear) {\n              yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n              if (config._dayOfYear &gt; daysInYear(yearToUse)) {\n                  getParsingFlags(config)._overflowDayOfYear = true;\n              }\n\n              date = createUTCDate(yearToUse, 0, config._dayOfYear);\n              config._a[MONTH] = date.getUTCMonth();\n              config._a[DATE] = date.getUTCDate();\n          }\n\n          // Default to current date.\n          // * if no year, month, day of month are given, default to today\n          // * if day of month is given, default month and year\n          // * if month is given, default only year\n          // * if year is given, don't default anything\n          for (i = 0; i &lt; 3 &amp;&amp; config._a[i] == null; ++i) {\n              config._a[i] = input[i] = currentDate[i];\n          }\n\n          // Zero out whatever was not defaulted, including time\n          for (; i &lt; 7; i++) {\n              config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n          }\n\n          // Check for 24:00:00.000\n          if (config._a[HOUR] === 24 &amp;&amp;\n                  config._a[MINUTE] === 0 &amp;&amp;\n                  config._a[SECOND] === 0 &amp;&amp;\n                  config._a[MILLISECOND] === 0) {\n              config._nextDay = true;\n              config._a[HOUR] = 0;\n          }\n\n          config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\n          // Apply timezone offset from input. The actual utcOffset can be changed\n          // with parseZone.\n          if (config._tzm != null) {\n              config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n          }\n\n          if (config._nextDay) {\n              config._a[HOUR] = 24;\n          }\n      }\n\n      function dayOfYearFromWeekInfo(config) {\n          var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;\n\n          w = config._w;\n          if (w.GG != null || w.W != null || w.E != null) {\n              dow = 1;\n              doy = 4;\n\n              // TODO: We need to take the current isoWeekYear, but that depends on\n              // how we interpret now (local, utc, fixed offset). So create\n              // a now version of current config (take local/utc/offset flags, and\n              // create now).\n              weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(local__createLocal(), 1, 4).year);\n              week = defaults(w.W, 1);\n              weekday = defaults(w.E, 1);\n              if (weekday &lt; 1 || weekday &gt; 7) {\n                  weekdayOverflow = true;\n              }\n          } else {\n              dow = config._locale._week.dow;\n              doy = config._locale._week.doy;\n\n              weekYear = defaults(w.gg, config._a[YEAR], weekOfYear(local__createLocal(), dow, doy).year);\n              week = defaults(w.w, 1);\n\n              if (w.d != null) {\n                  // weekday -- low day numbers are considered next week\n                  weekday = w.d;\n                  if (weekday &lt; 0 || weekday &gt; 6) {\n                      weekdayOverflow = true;\n                  }\n              } else if (w.e != null) {\n                  // local weekday -- counting starts from begining of week\n                  weekday = w.e + dow;\n                  if (w.e &lt; 0 || w.e &gt; 6) {\n                      weekdayOverflow = true;\n                  }\n              } else {\n                  // default to begining of week\n                  weekday = dow;\n              }\n          }\n          if (week &lt; 1 || week &gt; weeksInYear(weekYear, dow, doy)) {\n              getParsingFlags(config)._overflowWeeks = true;\n          } else if (weekdayOverflow != null) {\n              getParsingFlags(config)._overflowWeekday = true;\n          } else {\n              temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n              config._a[YEAR] = temp.year;\n              config._dayOfYear = temp.dayOfYear;\n          }\n      }\n\n      // constant that refers to the ISO standard\n      utils_hooks__hooks.ISO_8601 = function () {};\n\n      // date from string and format string\n      function configFromStringAndFormat(config) {\n          // TODO: Move this to another part of the creation flow to prevent circular deps\n          if (config._f === utils_hooks__hooks.ISO_8601) {\n              configFromISO(config);\n              return;\n          }\n\n          config._a = [];\n          getParsingFlags(config).empty = true;\n\n          // This array is used to make a Date, either with `new Date` or `Date.UTC`\n          var string = '' + config._i,\n              i, parsedInput, tokens, token, skipped,\n              stringLength = string.length,\n              totalParsedInputLength = 0;\n\n          tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n          for (i = 0; i &lt; tokens.length; i++) {\n              token = tokens[i];\n              parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n              // console.log('token', token, 'parsedInput', parsedInput,\n              //         'regex', getParseRegexForToken(token, config));\n              if (parsedInput) {\n                  skipped = string.substr(0, string.indexOf(parsedInput));\n                  if (skipped.length &gt; 0) {\n                      getParsingFlags(config).unusedInput.push(skipped);\n                  }\n                  string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n                  totalParsedInputLength += parsedInput.length;\n              }\n              // don't parse if it's not a known token\n              if (formatTokenFunctions[token]) {\n                  if (parsedInput) {\n                      getParsingFlags(config).empty = false;\n                  }\n                  else {\n                      getParsingFlags(config).unusedTokens.push(token);\n                  }\n                  addTimeToArrayFromToken(token, parsedInput, config);\n              }\n              else if (config._strict &amp;&amp; !parsedInput) {\n                  getParsingFlags(config).unusedTokens.push(token);\n              }\n          }\n\n          // add remaining unparsed input length to the string\n          getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;\n          if (string.length &gt; 0) {\n              getParsingFlags(config).unusedInput.push(string);\n          }\n\n          // clear _12h flag if hour is &lt;= 12\n          if (getParsingFlags(config).bigHour === true &amp;&amp;\n                  config._a[HOUR] &lt;= 12 &amp;&amp;\n                  config._a[HOUR] &gt; 0) {\n              getParsingFlags(config).bigHour = undefined;\n          }\n          // handle meridiem\n          config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\n\n          configFromArray(config);\n          checkOverflow(config);\n      }\n\n\n      function meridiemFixWrap (locale, hour, meridiem) {\n          var isPm;\n\n          if (meridiem == null) {\n              // nothing to do\n              return hour;\n          }\n          if (locale.meridiemHour != null) {\n              return locale.meridiemHour(hour, meridiem);\n          } else if (locale.isPM != null) {\n              // Fallback\n              isPm = locale.isPM(meridiem);\n              if (isPm &amp;&amp; hour &lt; 12) {\n                  hour += 12;\n              }\n              if (!isPm &amp;&amp; hour === 12) {\n                  hour = 0;\n              }\n              return hour;\n          } else {\n              // this is not supposed to happen\n              return hour;\n          }\n      }\n\n      // date from string and array of format strings\n      function configFromStringAndArray(config) {\n          var tempConfig,\n              bestMoment,\n\n              scoreToBeat,\n              i,\n              currentScore;\n\n          if (config._f.length === 0) {\n              getParsingFlags(config).invalidFormat = true;\n              config._d = new Date(NaN);\n              return;\n          }\n\n          for (i = 0; i &lt; config._f.length; i++) {\n              currentScore = 0;\n              tempConfig = copyConfig({}, config);\n              if (config._useUTC != null) {\n                  tempConfig._useUTC = config._useUTC;\n              }\n              tempConfig._f = config._f[i];\n              configFromStringAndFormat(tempConfig);\n\n              if (!valid__isValid(tempConfig)) {\n                  continue;\n              }\n\n              // if there is any input that was not parsed add a penalty for that format\n              currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n              //or tokens\n              currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n              getParsingFlags(tempConfig).score = currentScore;\n\n              if (scoreToBeat == null || currentScore &lt; scoreToBeat) {\n                  scoreToBeat = currentScore;\n                  bestMoment = tempConfig;\n              }\n          }\n\n          extend(config, bestMoment || tempConfig);\n      }\n\n      function configFromObject(config) {\n          if (config._d) {\n              return;\n          }\n\n          var i = normalizeObjectUnits(config._i);\n          config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {\n              return obj &amp;&amp; parseInt(obj, 10);\n          });\n\n          configFromArray(config);\n      }\n\n      function createFromConfig (config) {\n          var res = new Moment(checkOverflow(prepareConfig(config)));\n          if (res._nextDay) {\n              // Adding is smart enough around DST\n              res.add(1, 'd');\n              res._nextDay = undefined;\n          }\n\n          return res;\n      }\n\n      function prepareConfig (config) {\n          var input = config._i,\n              format = config._f;\n\n          config._locale = config._locale || locale_locales__getLocale(config._l);\n\n          if (input === null || (format === undefined &amp;&amp; input === '')) {\n              return valid__createInvalid({nullInput: true});\n          }\n\n          if (typeof input === 'string') {\n              config._i = input = config._locale.preparse(input);\n          }\n\n          if (isMoment(input)) {\n              return new Moment(checkOverflow(input));\n          } else if (isArray(format)) {\n              configFromStringAndArray(config);\n          } else if (format) {\n              configFromStringAndFormat(config);\n          } else if (isDate(input)) {\n              config._d = input;\n          } else {\n              configFromInput(config);\n          }\n\n          if (!valid__isValid(config)) {\n              config._d = null;\n          }\n\n          return config;\n      }\n\n      function configFromInput(config) {\n          var input = config._i;\n          if (input === undefined) {\n              config._d = new Date(utils_hooks__hooks.now());\n          } else if (isDate(input)) {\n              config._d = new Date(+input);\n          } else if (typeof input === 'string') {\n              configFromString(config);\n          } else if (isArray(input)) {\n              config._a = map(input.slice(0), function (obj) {\n                  return parseInt(obj, 10);\n              });\n              configFromArray(config);\n          } else if (typeof(input) === 'object') {\n              configFromObject(config);\n          } else if (typeof(input) === 'number') {\n              // from milliseconds\n              config._d = new Date(input);\n          } else {\n              utils_hooks__hooks.createFromInputFallback(config);\n          }\n      }\n\n      function createLocalOrUTC (input, format, locale, strict, isUTC) {\n          var c = {};\n\n          if (typeof(locale) === 'boolean') {\n              strict = locale;\n              locale = undefined;\n          }\n          // object construction must be done this way.\n          // https://github.com/moment/moment/issues/1423\n          c._isAMomentObject = true;\n          c._useUTC = c._isUTC = isUTC;\n          c._l = locale;\n          c._i = input;\n          c._f = format;\n          c._strict = strict;\n\n          return createFromConfig(c);\n      }\n\n      function local__createLocal (input, format, locale, strict) {\n          return createLocalOrUTC(input, format, locale, strict, false);\n      }\n\n      var prototypeMin = deprecate(\n           'moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548',\n           function () {\n               var other = local__createLocal.apply(null, arguments);\n               if (this.isValid() &amp;&amp; other.isValid()) {\n                   return other &lt; this ? this : other;\n               } else {\n                   return valid__createInvalid();\n               }\n           }\n       );\n\n      var prototypeMax = deprecate(\n          'moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548',\n          function () {\n              var other = local__createLocal.apply(null, arguments);\n              if (this.isValid() &amp;&amp; other.isValid()) {\n                  return other &gt; this ? this : other;\n              } else {\n                  return valid__createInvalid();\n              }\n          }\n      );\n\n      // Pick a moment m from moments so that m[fn](other) is true for all\n      // other. This relies on the function fn to be transitive.\n      //\n      // moments should either be an array of moment objects or an array, whose\n      // first element is an array of moment objects.\n      function pickBy(fn, moments) {\n          var res, i;\n          if (moments.length === 1 &amp;&amp; isArray(moments[0])) {\n              moments = moments[0];\n          }\n          if (!moments.length) {\n              return local__createLocal();\n          }\n          res = moments[0];\n          for (i = 1; i &lt; moments.length; ++i) {\n              if (!moments[i].isValid() || moments[i][fn](res)) {\n                  res = moments[i];\n              }\n          }\n          return res;\n      }\n\n      // TODO: Use [].sort instead?\n      function min () {\n          var args = [].slice.call(arguments, 0);\n\n          return pickBy('isBefore', args);\n      }\n\n      function max () {\n          var args = [].slice.call(arguments, 0);\n\n          return pickBy('isAfter', args);\n      }\n\n      var now = function () {\n          return Date.now ? Date.now() : +(new Date());\n      };\n\n      function Duration (duration) {\n          var normalizedInput = normalizeObjectUnits(duration),\n              years = normalizedInput.year || 0,\n              quarters = normalizedInput.quarter || 0,\n              months = normalizedInput.month || 0,\n              weeks = normalizedInput.week || 0,\n              days = normalizedInput.day || 0,\n              hours = normalizedInput.hour || 0,\n              minutes = normalizedInput.minute || 0,\n              seconds = normalizedInput.second || 0,\n              milliseconds = normalizedInput.millisecond || 0;\n\n          // representation for dateAddRemove\n          this._milliseconds = +milliseconds +\n              seconds * 1e3 + // 1000\n              minutes * 6e4 + // 1000 * 60\n              hours * 36e5; // 1000 * 60 * 60\n          // Because of dateAddRemove treats 24 hours as different from a\n          // day when working around DST, we need to store them separately\n          this._days = +days +\n              weeks * 7;\n          // It is impossible translate months into days without knowing\n          // which months you are are talking about, so we have to store\n          // it separately.\n          this._months = +months +\n              quarters * 3 +\n              years * 12;\n\n          this._data = {};\n\n          this._locale = locale_locales__getLocale();\n\n          this._bubble();\n      }\n\n      function isDuration (obj) {\n          return obj instanceof Duration;\n      }\n\n      // FORMATTING\n\n      function offset (token, separator) {\n          addFormatToken(token, 0, 0, function () {\n              var offset = this.utcOffset();\n              var sign = '+';\n              if (offset &lt; 0) {\n                  offset = -offset;\n                  sign = '-';\n              }\n              return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);\n          });\n      }\n\n      offset('Z', ':');\n      offset('ZZ', '');\n\n      // PARSING\n\n      addRegexToken('Z',  matchShortOffset);\n      addRegexToken('ZZ', matchShortOffset);\n      addParseToken(['Z', 'ZZ'], function (input, array, config) {\n          config._useUTC = true;\n          config._tzm = offsetFromString(matchShortOffset, input);\n      });\n\n      // HELPERS\n\n      // timezone chunker\n      // '+10:00' &gt; ['10',  '00']\n      // '-1530'  &gt; ['-15', '30']\n      var chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\n      function offsetFromString(matcher, string) {\n          var matches = ((string || '').match(matcher) || []);\n          var chunk   = matches[matches.length - 1] || [];\n          var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n          var minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n          return parts[0] === '+' ? minutes : -minutes;\n      }\n\n      // Return a moment from input, that is local/utc/zone equivalent to model.\n      function cloneWithOffset(input, model) {\n          var res, diff;\n          if (model._isUTC) {\n              res = model.clone();\n              diff = (isMoment(input) || isDate(input) ? +input : +local__createLocal(input)) - (+res);\n              // Use low-level api, because this fn is low-level api.\n              res._d.setTime(+res._d + diff);\n              utils_hooks__hooks.updateOffset(res, false);\n              return res;\n          } else {\n              return local__createLocal(input).local();\n          }\n      }\n\n      function getDateOffset (m) {\n          // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n          // https://github.com/moment/moment/pull/1871\n          return -Math.round(m._d.getTimezoneOffset() / 15) * 15;\n      }\n\n      // HOOKS\n\n      // This function will be called whenever a moment is mutated.\n      // It is intended to keep the offset in sync with the timezone.\n      utils_hooks__hooks.updateOffset = function () {};\n\n      // MOMENTS\n\n      // keepLocalTime = true means only change the timezone, without\n      // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]--&gt;\n      // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n      // +0200, so we adjust the time as needed, to be valid.\n      //\n      // Keeping the time actually adds/subtracts (one hour)\n      // from the actual represented time. That is why we call updateOffset\n      // a second time. In case it wants us to change the offset again\n      // _changeInProgress == true case, then we have to adjust, because\n      // there is no such time in the given timezone.\n      function getSetOffset (input, keepLocalTime) {\n          var offset = this._offset || 0,\n              localAdjust;\n          if (!this.isValid()) {\n              return input != null ? this : NaN;\n          }\n          if (input != null) {\n              if (typeof input === 'string') {\n                  input = offsetFromString(matchShortOffset, input);\n              } else if (Math.abs(input) &lt; 16) {\n                  input = input * 60;\n              }\n              if (!this._isUTC &amp;&amp; keepLocalTime) {\n                  localAdjust = getDateOffset(this);\n              }\n              this._offset = input;\n              this._isUTC = true;\n              if (localAdjust != null) {\n                  this.add(localAdjust, 'm');\n              }\n              if (offset !== input) {\n                  if (!keepLocalTime || this._changeInProgress) {\n                      add_subtract__addSubtract(this, create__createDuration(input - offset, 'm'), 1, false);\n                  } else if (!this._changeInProgress) {\n                      this._changeInProgress = true;\n                      utils_hooks__hooks.updateOffset(this, true);\n                      this._changeInProgress = null;\n                  }\n              }\n              return this;\n          } else {\n              return this._isUTC ? offset : getDateOffset(this);\n          }\n      }\n\n      function getSetZone (input, keepLocalTime) {\n          if (input != null) {\n              if (typeof input !== 'string') {\n                  input = -input;\n              }\n\n              this.utcOffset(input, keepLocalTime);\n\n              return this;\n          } else {\n              return -this.utcOffset();\n          }\n      }\n\n      function setOffsetToUTC (keepLocalTime) {\n          return this.utcOffset(0, keepLocalTime);\n      }\n\n      function setOffsetToLocal (keepLocalTime) {\n          if (this._isUTC) {\n              this.utcOffset(0, keepLocalTime);\n              this._isUTC = false;\n\n              if (keepLocalTime) {\n                  this.subtract(getDateOffset(this), 'm');\n              }\n          }\n          return this;\n      }\n\n      function setOffsetToParsedOffset () {\n          if (this._tzm) {\n              this.utcOffset(this._tzm);\n          } else if (typeof this._i === 'string') {\n              this.utcOffset(offsetFromString(matchOffset, this._i));\n          }\n          return this;\n      }\n\n      function hasAlignedHourOffset (input) {\n          if (!this.isValid()) {\n              return false;\n          }\n          input = input ? local__createLocal(input).utcOffset() : 0;\n\n          return (this.utcOffset() - input) % 60 === 0;\n      }\n\n      function isDaylightSavingTime () {\n          return (\n              this.utcOffset() &gt; this.clone().month(0).utcOffset() ||\n              this.utcOffset() &gt; this.clone().month(5).utcOffset()\n          );\n      }\n\n      function isDaylightSavingTimeShifted () {\n          if (!isUndefined(this._isDSTShifted)) {\n              return this._isDSTShifted;\n          }\n\n          var c = {};\n\n          copyConfig(c, this);\n          c = prepareConfig(c);\n\n          if (c._a) {\n              var other = c._isUTC ? create_utc__createUTC(c._a) : local__createLocal(c._a);\n              this._isDSTShifted = this.isValid() &amp;&amp;\n                  compareArrays(c._a, other.toArray()) &gt; 0;\n          } else {\n              this._isDSTShifted = false;\n          }\n\n          return this._isDSTShifted;\n      }\n\n      function isLocal () {\n          return this.isValid() ? !this._isUTC : false;\n      }\n\n      function isUtcOffset () {\n          return this.isValid() ? this._isUTC : false;\n      }\n\n      function isUtc () {\n          return this.isValid() ? this._isUTC &amp;&amp; this._offset === 0 : false;\n      }\n\n      // ASP.NET json date format regex\n      var aspNetRegex = /(\\-)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)\\.?(\\d{3})?)?/;\n\n      // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n      // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n      var isoRegex = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;\n\n      function create__createDuration (input, key) {\n          var duration = input,\n              // matching against regexp is expensive, do it on demand\n              match = null,\n              sign,\n              ret,\n              diffRes;\n\n          if (isDuration(input)) {\n              duration = {\n                  ms : input._milliseconds,\n                  d  : input._days,\n                  M  : input._months\n              };\n          } else if (typeof input === 'number') {\n              duration = {};\n              if (key) {\n                  duration[key] = input;\n              } else {\n                  duration.milliseconds = input;\n              }\n          } else if (!!(match = aspNetRegex.exec(input))) {\n              sign = (match[1] === '-') ? -1 : 1;\n              duration = {\n                  y  : 0,\n                  d  : toInt(match[DATE])        * sign,\n                  h  : toInt(match[HOUR])        * sign,\n                  m  : toInt(match[MINUTE])      * sign,\n                  s  : toInt(match[SECOND])      * sign,\n                  ms : toInt(match[MILLISECOND]) * sign\n              };\n          } else if (!!(match = isoRegex.exec(input))) {\n              sign = (match[1] === '-') ? -1 : 1;\n              duration = {\n                  y : parseIso(match[2], sign),\n                  M : parseIso(match[3], sign),\n                  d : parseIso(match[4], sign),\n                  h : parseIso(match[5], sign),\n                  m : parseIso(match[6], sign),\n                  s : parseIso(match[7], sign),\n                  w : parseIso(match[8], sign)\n              };\n          } else if (duration == null) {// checks for null or undefined\n              duration = {};\n          } else if (typeof duration === 'object' &amp;&amp; ('from' in duration || 'to' in duration)) {\n              diffRes = momentsDifference(local__createLocal(duration.from), local__createLocal(duration.to));\n\n              duration = {};\n              duration.ms = diffRes.milliseconds;\n              duration.M = diffRes.months;\n          }\n\n          ret = new Duration(duration);\n\n          if (isDuration(input) &amp;&amp; hasOwnProp(input, '_locale')) {\n              ret._locale = input._locale;\n          }\n\n          return ret;\n      }\n\n      create__createDuration.fn = Duration.prototype;\n\n      function parseIso (inp, sign) {\n          // We'd normally use ~~inp for this, but unfortunately it also\n          // converts floats to ints.\n          // inp may be undefined, so careful calling replace on it.\n          var res = inp &amp;&amp; parseFloat(inp.replace(',', '.'));\n          // apply sign while we're at it\n          return (isNaN(res) ? 0 : res) * sign;\n      }\n\n      function positiveMomentsDifference(base, other) {\n          var res = {milliseconds: 0, months: 0};\n\n          res.months = other.month() - base.month() +\n              (other.year() - base.year()) * 12;\n          if (base.clone().add(res.months, 'M').isAfter(other)) {\n              --res.months;\n          }\n\n          res.milliseconds = +other - +(base.clone().add(res.months, 'M'));\n\n          return res;\n      }\n\n      function momentsDifference(base, other) {\n          var res;\n          if (!(base.isValid() &amp;&amp; other.isValid())) {\n              return {milliseconds: 0, months: 0};\n          }\n\n          other = cloneWithOffset(other, base);\n          if (base.isBefore(other)) {\n              res = positiveMomentsDifference(base, other);\n          } else {\n              res = positiveMomentsDifference(other, base);\n              res.milliseconds = -res.milliseconds;\n              res.months = -res.months;\n          }\n\n          return res;\n      }\n\n      // TODO: remove 'name' arg after deprecation is removed\n      function createAdder(direction, name) {\n          return function (val, period) {\n              var dur, tmp;\n              //invert the arguments, but complain about it\n              if (period !== null &amp;&amp; !isNaN(+period)) {\n                  deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period).');\n                  tmp = val; val = period; period = tmp;\n              }\n\n              val = typeof val === 'string' ? +val : val;\n              dur = create__createDuration(val, period);\n              add_subtract__addSubtract(this, dur, direction);\n              return this;\n          };\n      }\n\n      function add_subtract__addSubtract (mom, duration, isAdding, updateOffset) {\n          var milliseconds = duration._milliseconds,\n              days = duration._days,\n              months = duration._months;\n\n          if (!mom.isValid()) {\n              // No op\n              return;\n          }\n\n          updateOffset = updateOffset == null ? true : updateOffset;\n\n          if (milliseconds) {\n              mom._d.setTime(+mom._d + milliseconds * isAdding);\n          }\n          if (days) {\n              get_set__set(mom, 'Date', get_set__get(mom, 'Date') + days * isAdding);\n          }\n          if (months) {\n              setMonth(mom, get_set__get(mom, 'Month') + months * isAdding);\n          }\n          if (updateOffset) {\n              utils_hooks__hooks.updateOffset(mom, days || months);\n          }\n      }\n\n      var add_subtract__add      = createAdder(1, 'add');\n      var add_subtract__subtract = createAdder(-1, 'subtract');\n\n      function moment_calendar__calendar (time, formats) {\n          // We want to compare the start of today, vs this.\n          // Getting start-of-today depends on whether we're local/utc/offset or not.\n          var now = time || local__createLocal(),\n              sod = cloneWithOffset(now, this).startOf('day'),\n              diff = this.diff(sod, 'days', true),\n              format = diff &lt; -6 ? 'sameElse' :\n                  diff &lt; -1 ? 'lastWeek' :\n                  diff &lt; 0 ? 'lastDay' :\n                  diff &lt; 1 ? 'sameDay' :\n                  diff &lt; 2 ? 'nextDay' :\n                  diff &lt; 7 ? 'nextWeek' : 'sameElse';\n\n          var output = formats &amp;&amp; (isFunction(formats[format]) ? formats[format]() : formats[format]);\n\n          return this.format(output || this.localeData().calendar(format, this, local__createLocal(now)));\n      }\n\n      function clone () {\n          return new Moment(this);\n      }\n\n      function isAfter (input, units) {\n          var localInput = isMoment(input) ? input : local__createLocal(input);\n          if (!(this.isValid() &amp;&amp; localInput.isValid())) {\n              return false;\n          }\n          units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n          if (units === 'millisecond') {\n              return +this &gt; +localInput;\n          } else {\n              return +localInput &lt; +this.clone().startOf(units);\n          }\n      }\n\n      function isBefore (input, units) {\n          var localInput = isMoment(input) ? input : local__createLocal(input);\n          if (!(this.isValid() &amp;&amp; localInput.isValid())) {\n              return false;\n          }\n          units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n          if (units === 'millisecond') {\n              return +this &lt; +localInput;\n          } else {\n              return +this.clone().endOf(units) &lt; +localInput;\n          }\n      }\n\n      function isBetween (from, to, units) {\n          return this.isAfter(from, units) &amp;&amp; this.isBefore(to, units);\n      }\n\n      function isSame (input, units) {\n          var localInput = isMoment(input) ? input : local__createLocal(input),\n              inputMs;\n          if (!(this.isValid() &amp;&amp; localInput.isValid())) {\n              return false;\n          }\n          units = normalizeUnits(units || 'millisecond');\n          if (units === 'millisecond') {\n              return +this === +localInput;\n          } else {\n              inputMs = +localInput;\n              return +(this.clone().startOf(units)) &lt;= inputMs &amp;&amp; inputMs &lt;= +(this.clone().endOf(units));\n          }\n      }\n\n      function isSameOrAfter (input, units) {\n          return this.isSame(input, units) || this.isAfter(input,units);\n      }\n\n      function isSameOrBefore (input, units) {\n          return this.isSame(input, units) || this.isBefore(input,units);\n      }\n\n      function diff (input, units, asFloat) {\n          var that,\n              zoneDelta,\n              delta, output;\n\n          if (!this.isValid()) {\n              return NaN;\n          }\n\n          that = cloneWithOffset(input, this);\n\n          if (!that.isValid()) {\n              return NaN;\n          }\n\n          zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n          units = normalizeUnits(units);\n\n          if (units === 'year' || units === 'month' || units === 'quarter') {\n              output = monthDiff(this, that);\n              if (units === 'quarter') {\n                  output = output / 3;\n              } else if (units === 'year') {\n                  output = output / 12;\n              }\n          } else {\n              delta = this - that;\n              output = units === 'second' ? delta / 1e3 : // 1000\n                  units === 'minute' ? delta / 6e4 : // 1000 * 60\n                  units === 'hour' ? delta / 36e5 : // 1000 * 60 * 60\n                  units === 'day' ? (delta - zoneDelta) / 864e5 : // 1000 * 60 * 60 * 24, negate dst\n                  units === 'week' ? (delta - zoneDelta) / 6048e5 : // 1000 * 60 * 60 * 24 * 7, negate dst\n                  delta;\n          }\n          return asFloat ? output : absFloor(output);\n      }\n\n      function monthDiff (a, b) {\n          // difference in months\n          var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),\n              // b is in (anchor - 1 month, anchor + 1 month)\n              anchor = a.clone().add(wholeMonthDiff, 'months'),\n              anchor2, adjust;\n\n          if (b - anchor &lt; 0) {\n              anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n              // linear across the month\n              adjust = (b - anchor) / (anchor - anchor2);\n          } else {\n              anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n              // linear across the month\n              adjust = (b - anchor) / (anchor2 - anchor);\n          }\n\n          return -(wholeMonthDiff + adjust);\n      }\n\n      utils_hooks__hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\n\n      function toString () {\n          return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n      }\n\n      function moment_format__toISOString () {\n          var m = this.clone().utc();\n          if (0 &lt; m.year() &amp;&amp; m.year() &lt;= 9999) {\n              if (isFunction(Date.prototype.toISOString)) {\n                  // native implementation is ~50x faster, use it when we can\n                  return this.toDate().toISOString();\n              } else {\n                  return formatMoment(m, 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n              }\n          } else {\n              return formatMoment(m, 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n          }\n      }\n\n      function format (inputString) {\n          var output = formatMoment(this, inputString || utils_hooks__hooks.defaultFormat);\n          return this.localeData().postformat(output);\n      }\n\n      function from (time, withoutSuffix) {\n          if (this.isValid() &amp;&amp;\n                  ((isMoment(time) &amp;&amp; time.isValid()) ||\n                   local__createLocal(time).isValid())) {\n              return create__createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);\n          } else {\n              return this.localeData().invalidDate();\n          }\n      }\n\n      function fromNow (withoutSuffix) {\n          return this.from(local__createLocal(), withoutSuffix);\n      }\n\n      function to (time, withoutSuffix) {\n          if (this.isValid() &amp;&amp;\n                  ((isMoment(time) &amp;&amp; time.isValid()) ||\n                   local__createLocal(time).isValid())) {\n              return create__createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);\n          } else {\n              return this.localeData().invalidDate();\n          }\n      }\n\n      function toNow (withoutSuffix) {\n          return this.to(local__createLocal(), withoutSuffix);\n      }\n\n      // If passed a locale key, it will set the locale for this\n      // instance.  Otherwise, it will return the locale configuration\n      // variables for this instance.\n      function locale (key) {\n          var newLocaleData;\n\n          if (key === undefined) {\n              return this._locale._abbr;\n          } else {\n              newLocaleData = locale_locales__getLocale(key);\n              if (newLocaleData != null) {\n                  this._locale = newLocaleData;\n              }\n              return this;\n          }\n      }\n\n      var lang = deprecate(\n          'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n          function (key) {\n              if (key === undefined) {\n                  return this.localeData();\n              } else {\n                  return this.locale(key);\n              }\n          }\n      );\n\n      function localeData () {\n          return this._locale;\n      }\n\n      function startOf (units) {\n          units = normalizeUnits(units);\n          // the following switch intentionally omits break keywords\n          // to utilize falling through the cases.\n          switch (units) {\n          case 'year':\n              this.month(0);\n              /* falls through */\n          case 'quarter':\n          case 'month':\n              this.date(1);\n              /* falls through */\n          case 'week':\n          case 'isoWeek':\n          case 'day':\n              this.hours(0);\n              /* falls through */\n          case 'hour':\n              this.minutes(0);\n              /* falls through */\n          case 'minute':\n              this.seconds(0);\n              /* falls through */\n          case 'second':\n              this.milliseconds(0);\n          }\n\n          // weeks are a special case\n          if (units === 'week') {\n              this.weekday(0);\n          }\n          if (units === 'isoWeek') {\n              this.isoWeekday(1);\n          }\n\n          // quarters are also special\n          if (units === 'quarter') {\n              this.month(Math.floor(this.month() / 3) * 3);\n          }\n\n          return this;\n      }\n\n      function endOf (units) {\n          units = normalizeUnits(units);\n          if (units === undefined || units === 'millisecond') {\n              return this;\n          }\n          return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');\n      }\n\n      function to_type__valueOf () {\n          return +this._d - ((this._offset || 0) * 60000);\n      }\n\n      function unix () {\n          return Math.floor(+this / 1000);\n      }\n\n      function toDate () {\n          return this._offset ? new Date(+this) : this._d;\n      }\n\n      function toArray () {\n          var m = this;\n          return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];\n      }\n\n      function toObject () {\n          var m = this;\n          return {\n              years: m.year(),\n              months: m.month(),\n              date: m.date(),\n              hours: m.hours(),\n              minutes: m.minutes(),\n              seconds: m.seconds(),\n              milliseconds: m.milliseconds()\n          };\n      }\n\n      function toJSON () {\n          // JSON.stringify(new Date(NaN)) === 'null'\n          return this.isValid() ? this.toISOString() : 'null';\n      }\n\n      function moment_valid__isValid () {\n          return valid__isValid(this);\n      }\n\n      function parsingFlags () {\n          return extend({}, getParsingFlags(this));\n      }\n\n      function invalidAt () {\n          return getParsingFlags(this).overflow;\n      }\n\n      function creationData() {\n          return {\n              input: this._i,\n              format: this._f,\n              locale: this._locale,\n              isUTC: this._isUTC,\n              strict: this._strict\n          };\n      }\n\n      // FORMATTING\n\n      addFormatToken(0, ['gg', 2], 0, function () {\n          return this.weekYear() % 100;\n      });\n\n      addFormatToken(0, ['GG', 2], 0, function () {\n          return this.isoWeekYear() % 100;\n      });\n\n      function addWeekYearFormatToken (token, getter) {\n          addFormatToken(0, [token, token.length], 0, getter);\n      }\n\n      addWeekYearFormatToken('gggg',     'weekYear');\n      addWeekYearFormatToken('ggggg',    'weekYear');\n      addWeekYearFormatToken('GGGG',  'isoWeekYear');\n      addWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n      // ALIASES\n\n      addUnitAlias('weekYear', 'gg');\n      addUnitAlias('isoWeekYear', 'GG');\n\n      // PARSING\n\n      addRegexToken('G',      matchSigned);\n      addRegexToken('g',      matchSigned);\n      addRegexToken('GG',     match1to2, match2);\n      addRegexToken('gg',     match1to2, match2);\n      addRegexToken('GGGG',   match1to4, match4);\n      addRegexToken('gggg',   match1to4, match4);\n      addRegexToken('GGGGG',  match1to6, match6);\n      addRegexToken('ggggg',  match1to6, match6);\n\n      addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {\n          week[token.substr(0, 2)] = toInt(input);\n      });\n\n      addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n          week[token] = utils_hooks__hooks.parseTwoDigitYear(input);\n      });\n\n      // MOMENTS\n\n      function getSetWeekYear (input) {\n          return getSetWeekYearHelper.call(this,\n                  input,\n                  this.week(),\n                  this.weekday(),\n                  this.localeData()._week.dow,\n                  this.localeData()._week.doy);\n      }\n\n      function getSetISOWeekYear (input) {\n          return getSetWeekYearHelper.call(this,\n                  input, this.isoWeek(), this.isoWeekday(), 1, 4);\n      }\n\n      function getISOWeeksInYear () {\n          return weeksInYear(this.year(), 1, 4);\n      }\n\n      function getWeeksInYear () {\n          var weekInfo = this.localeData()._week;\n          return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n      }\n\n      function getSetWeekYearHelper(input, week, weekday, dow, doy) {\n          var weeksTarget;\n          if (input == null) {\n              return weekOfYear(this, dow, doy).year;\n          } else {\n              weeksTarget = weeksInYear(input, dow, doy);\n              if (week &gt; weeksTarget) {\n                  week = weeksTarget;\n              }\n              return setWeekAll.call(this, input, week, weekday, dow, doy);\n          }\n      }\n\n      function setWeekAll(weekYear, week, weekday, dow, doy) {\n          var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n              date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n          // console.log(\&quot;got\&quot;, weekYear, week, weekday, \&quot;set\&quot;, date.toISOString());\n          this.year(date.getUTCFullYear());\n          this.month(date.getUTCMonth());\n          this.date(date.getUTCDate());\n          return this;\n      }\n\n      // FORMATTING\n\n      addFormatToken('Q', 0, 'Qo', 'quarter');\n\n      // ALIASES\n\n      addUnitAlias('quarter', 'Q');\n\n      // PARSING\n\n      addRegexToken('Q', match1);\n      addParseToken('Q', function (input, array) {\n          array[MONTH] = (toInt(input) - 1) * 3;\n      });\n\n      // MOMENTS\n\n      function getSetQuarter (input) {\n          return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n      }\n\n      // FORMATTING\n\n      addFormatToken('w', ['ww', 2], 'wo', 'week');\n      addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n      // ALIASES\n\n      addUnitAlias('week', 'w');\n      addUnitAlias('isoWeek', 'W');\n\n      // PARSING\n\n      addRegexToken('w',  match1to2);\n      addRegexToken('ww', match1to2, match2);\n      addRegexToken('W',  match1to2);\n      addRegexToken('WW', match1to2, match2);\n\n      addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {\n          week[token.substr(0, 1)] = toInt(input);\n      });\n\n      // HELPERS\n\n      // LOCALES\n\n      function localeWeek (mom) {\n          return weekOfYear(mom, this._week.dow, this._week.doy).week;\n      }\n\n      var defaultLocaleWeek = {\n          dow : 0, // Sunday is the first day of the week.\n          doy : 6  // The week that contains Jan 1st is the first week of the year.\n      };\n\n      function localeFirstDayOfWeek () {\n          return this._week.dow;\n      }\n\n      function localeFirstDayOfYear () {\n          return this._week.doy;\n      }\n\n      // MOMENTS\n\n      function getSetWeek (input) {\n          var week = this.localeData().week(this);\n          return input == null ? week : this.add((input - week) * 7, 'd');\n      }\n\n      function getSetISOWeek (input) {\n          var week = weekOfYear(this, 1, 4).week;\n          return input == null ? week : this.add((input - week) * 7, 'd');\n      }\n\n      // FORMATTING\n\n      addFormatToken('D', ['DD', 2], 'Do', 'date');\n\n      // ALIASES\n\n      addUnitAlias('date', 'D');\n\n      // PARSING\n\n      addRegexToken('D',  match1to2);\n      addRegexToken('DD', match1to2, match2);\n      addRegexToken('Do', function (isStrict, locale) {\n          return isStrict ? locale._ordinalParse : locale._ordinalParseLenient;\n      });\n\n      addParseToken(['D', 'DD'], DATE);\n      addParseToken('Do', function (input, array) {\n          array[DATE] = toInt(input.match(match1to2)[0], 10);\n      });\n\n      // MOMENTS\n\n      var getSetDayOfMonth = makeGetSet('Date', true);\n\n      // FORMATTING\n\n      addFormatToken('d', 0, 'do', 'day');\n\n      addFormatToken('dd', 0, 0, function (format) {\n          return this.localeData().weekdaysMin(this, format);\n      });\n\n      addFormatToken('ddd', 0, 0, function (format) {\n          return this.localeData().weekdaysShort(this, format);\n      });\n\n      addFormatToken('dddd', 0, 0, function (format) {\n          return this.localeData().weekdays(this, format);\n      });\n\n      addFormatToken('e', 0, 0, 'weekday');\n      addFormatToken('E', 0, 0, 'isoWeekday');\n\n      // ALIASES\n\n      addUnitAlias('day', 'd');\n      addUnitAlias('weekday', 'e');\n      addUnitAlias('isoWeekday', 'E');\n\n      // PARSING\n\n      addRegexToken('d',    match1to2);\n      addRegexToken('e',    match1to2);\n      addRegexToken('E',    match1to2);\n      addRegexToken('dd',   matchWord);\n      addRegexToken('ddd',  matchWord);\n      addRegexToken('dddd', matchWord);\n\n      addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n          var weekday = config._locale.weekdaysParse(input, token, config._strict);\n          // if we didn't get a weekday name, mark the date as invalid\n          if (weekday != null) {\n              week.d = weekday;\n          } else {\n              getParsingFlags(config).invalidWeekday = input;\n          }\n      });\n\n      addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n          week[token] = toInt(input);\n      });\n\n      // HELPERS\n\n      function parseWeekday(input, locale) {\n          if (typeof input !== 'string') {\n              return input;\n          }\n\n          if (!isNaN(input)) {\n              return parseInt(input, 10);\n          }\n\n          input = locale.weekdaysParse(input);\n          if (typeof input === 'number') {\n              return input;\n          }\n\n          return null;\n      }\n\n      // LOCALES\n\n      var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');\n      function localeWeekdays (m, format) {\n          return isArray(this._weekdays) ? this._weekdays[m.day()] :\n              this._weekdays[this._weekdays.isFormat.test(format) ? 'format' : 'standalone'][m.day()];\n      }\n\n      var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');\n      function localeWeekdaysShort (m) {\n          return this._weekdaysShort[m.day()];\n      }\n\n      var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');\n      function localeWeekdaysMin (m) {\n          return this._weekdaysMin[m.day()];\n      }\n\n      function localeWeekdaysParse (weekdayName, format, strict) {\n          var i, mom, regex;\n\n          if (!this._weekdaysParse) {\n              this._weekdaysParse = [];\n              this._minWeekdaysParse = [];\n              this._shortWeekdaysParse = [];\n              this._fullWeekdaysParse = [];\n          }\n\n          for (i = 0; i &lt; 7; i++) {\n              // make the regex if we don't have it already\n\n              mom = local__createLocal([2000, 1]).day(i);\n              if (strict &amp;&amp; !this._fullWeekdaysParse[i]) {\n                  this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\.?') + '$', 'i');\n                  this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\.?') + '$', 'i');\n                  this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\.?') + '$', 'i');\n              }\n              if (!this._weekdaysParse[i]) {\n                  regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n                  this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n              }\n              // test the regex\n              if (strict &amp;&amp; format === 'dddd' &amp;&amp; this._fullWeekdaysParse[i].test(weekdayName)) {\n                  return i;\n              } else if (strict &amp;&amp; format === 'ddd' &amp;&amp; this._shortWeekdaysParse[i].test(weekdayName)) {\n                  return i;\n              } else if (strict &amp;&amp; format === 'dd' &amp;&amp; this._minWeekdaysParse[i].test(weekdayName)) {\n                  return i;\n              } else if (!strict &amp;&amp; this._weekdaysParse[i].test(weekdayName)) {\n                  return i;\n              }\n          }\n      }\n\n      // MOMENTS\n\n      function getSetDayOfWeek (input) {\n          if (!this.isValid()) {\n              return input != null ? this : NaN;\n          }\n          var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n          if (input != null) {\n              input = parseWeekday(input, this.localeData());\n              return this.add(input - day, 'd');\n          } else {\n              return day;\n          }\n      }\n\n      function getSetLocaleDayOfWeek (input) {\n          if (!this.isValid()) {\n              return input != null ? this : NaN;\n          }\n          var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n          return input == null ? weekday : this.add(input - weekday, 'd');\n      }\n\n      function getSetISODayOfWeek (input) {\n          if (!this.isValid()) {\n              return input != null ? this : NaN;\n          }\n          // behaves the same as moment#day except\n          // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n          // as a setter, sunday should belong to the previous week.\n          return input == null ? this.day() || 7 : this.day(this.day() % 7 ? input : input - 7);\n      }\n\n      // FORMATTING\n\n      addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n      // ALIASES\n\n      addUnitAlias('dayOfYear', 'DDD');\n\n      // PARSING\n\n      addRegexToken('DDD',  match1to3);\n      addRegexToken('DDDD', match3);\n      addParseToken(['DDD', 'DDDD'], function (input, array, config) {\n          config._dayOfYear = toInt(input);\n      });\n\n      // HELPERS\n\n      // MOMENTS\n\n      function getSetDayOfYear (input) {\n          var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;\n          return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');\n      }\n\n      // FORMATTING\n\n      function hFormat() {\n          return this.hours() % 12 || 12;\n      }\n\n      addFormatToken('H', ['HH', 2], 0, 'hour');\n      addFormatToken('h', ['hh', 2], 0, hFormat);\n\n      addFormatToken('hmm', 0, 0, function () {\n          return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n      });\n\n      addFormatToken('hmmss', 0, 0, function () {\n          return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +\n              zeroFill(this.seconds(), 2);\n      });\n\n      addFormatToken('Hmm', 0, 0, function () {\n          return '' + this.hours() + zeroFill(this.minutes(), 2);\n      });\n\n      addFormatToken('Hmmss', 0, 0, function () {\n          return '' + this.hours() + zeroFill(this.minutes(), 2) +\n              zeroFill(this.seconds(), 2);\n      });\n\n      function meridiem (token, lowercase) {\n          addFormatToken(token, 0, 0, function () {\n              return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);\n          });\n      }\n\n      meridiem('a', true);\n      meridiem('A', false);\n\n      // ALIASES\n\n      addUnitAlias('hour', 'h');\n\n      // PARSING\n\n      function matchMeridiem (isStrict, locale) {\n          return locale._meridiemParse;\n      }\n\n      addRegexToken('a',  matchMeridiem);\n      addRegexToken('A',  matchMeridiem);\n      addRegexToken('H',  match1to2);\n      addRegexToken('h',  match1to2);\n      addRegexToken('HH', match1to2, match2);\n      addRegexToken('hh', match1to2, match2);\n\n      addRegexToken('hmm', match3to4);\n      addRegexToken('hmmss', match5to6);\n      addRegexToken('Hmm', match3to4);\n      addRegexToken('Hmmss', match5to6);\n\n      addParseToken(['H', 'HH'], HOUR);\n      addParseToken(['a', 'A'], function (input, array, config) {\n          config._isPm = config._locale.isPM(input);\n          config._meridiem = input;\n      });\n      addParseToken(['h', 'hh'], function (input, array, config) {\n          array[HOUR] = toInt(input);\n          getParsingFlags(config).bigHour = true;\n      });\n      addParseToken('hmm', function (input, array, config) {\n          var pos = input.length - 2;\n          array[HOUR] = toInt(input.substr(0, pos));\n          array[MINUTE] = toInt(input.substr(pos));\n          getParsingFlags(config).bigHour = true;\n      });\n      addParseToken('hmmss', function (input, array, config) {\n          var pos1 = input.length - 4;\n          var pos2 = input.length - 2;\n          array[HOUR] = toInt(input.substr(0, pos1));\n          array[MINUTE] = toInt(input.substr(pos1, 2));\n          array[SECOND] = toInt(input.substr(pos2));\n          getParsingFlags(config).bigHour = true;\n      });\n      addParseToken('Hmm', function (input, array, config) {\n          var pos = input.length - 2;\n          array[HOUR] = toInt(input.substr(0, pos));\n          array[MINUTE] = toInt(input.substr(pos));\n      });\n      addParseToken('Hmmss', function (input, array, config) {\n          var pos1 = input.length - 4;\n          var pos2 = input.length - 2;\n          array[HOUR] = toInt(input.substr(0, pos1));\n          array[MINUTE] = toInt(input.substr(pos1, 2));\n          array[SECOND] = toInt(input.substr(pos2));\n      });\n\n      // LOCALES\n\n      function localeIsPM (input) {\n          // IE8 Quirks Mode &amp; IE7 Standards Mode do not allow accessing strings like arrays\n          // Using charAt should be more compatible.\n          return ((input + '').toLowerCase().charAt(0) === 'p');\n      }\n\n      var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\n      function localeMeridiem (hours, minutes, isLower) {\n          if (hours &gt; 11) {\n              return isLower ? 'pm' : 'PM';\n          } else {\n              return isLower ? 'am' : 'AM';\n          }\n      }\n\n\n      // MOMENTS\n\n      // Setting the hour should keep the time, because the user explicitly\n      // specified which hour he wants. So trying to maintain the same hour (in\n      // a new timezone) makes sense. Adding/subtracting hours does not follow\n      // this rule.\n      var getSetHour = makeGetSet('Hours', true);\n\n      // FORMATTING\n\n      addFormatToken('m', ['mm', 2], 0, 'minute');\n\n      // ALIASES\n\n      addUnitAlias('minute', 'm');\n\n      // PARSING\n\n      addRegexToken('m',  match1to2);\n      addRegexToken('mm', match1to2, match2);\n      addParseToken(['m', 'mm'], MINUTE);\n\n      // MOMENTS\n\n      var getSetMinute = makeGetSet('Minutes', false);\n\n      // FORMATTING\n\n      addFormatToken('s', ['ss', 2], 0, 'second');\n\n      // ALIASES\n\n      addUnitAlias('second', 's');\n\n      // PARSING\n\n      addRegexToken('s',  match1to2);\n      addRegexToken('ss', match1to2, match2);\n      addParseToken(['s', 'ss'], SECOND);\n\n      // MOMENTS\n\n      var getSetSecond = makeGetSet('Seconds', false);\n\n      // FORMATTING\n\n      addFormatToken('S', 0, 0, function () {\n          return ~~(this.millisecond() / 100);\n      });\n\n      addFormatToken(0, ['SS', 2], 0, function () {\n          return ~~(this.millisecond() / 10);\n      });\n\n      addFormatToken(0, ['SSS', 3], 0, 'millisecond');\n      addFormatToken(0, ['SSSS', 4], 0, function () {\n          return this.millisecond() * 10;\n      });\n      addFormatToken(0, ['SSSSS', 5], 0, function () {\n          return this.millisecond() * 100;\n      });\n      addFormatToken(0, ['SSSSSS', 6], 0, function () {\n          return this.millisecond() * 1000;\n      });\n      addFormatToken(0, ['SSSSSSS', 7], 0, function () {\n          return this.millisecond() * 10000;\n      });\n      addFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n          return this.millisecond() * 100000;\n      });\n      addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n          return this.millisecond() * 1000000;\n      });\n\n\n      // ALIASES\n\n      addUnitAlias('millisecond', 'ms');\n\n      // PARSING\n\n      addRegexToken('S',    match1to3, match1);\n      addRegexToken('SS',   match1to3, match2);\n      addRegexToken('SSS',  match1to3, match3);\n\n      var token;\n      for (token = 'SSSS'; token.length &lt;= 9; token += 'S') {\n          addRegexToken(token, matchUnsigned);\n      }\n\n      function parseMs(input, array) {\n          array[MILLISECOND] = toInt(('0.' + input) * 1000);\n      }\n\n      for (token = 'S'; token.length &lt;= 9; token += 'S') {\n          addParseToken(token, parseMs);\n      }\n      // MOMENTS\n\n      var getSetMillisecond = makeGetSet('Milliseconds', false);\n\n      // FORMATTING\n\n      addFormatToken('z',  0, 0, 'zoneAbbr');\n      addFormatToken('zz', 0, 0, 'zoneName');\n\n      // MOMENTS\n\n      function getZoneAbbr () {\n          return this._isUTC ? 'UTC' : '';\n      }\n\n      function getZoneName () {\n          return this._isUTC ? 'Coordinated Universal Time' : '';\n      }\n\n      var momentPrototype__proto = Moment.prototype;\n\n      momentPrototype__proto.add               = add_subtract__add;\n      momentPrototype__proto.calendar          = moment_calendar__calendar;\n      momentPrototype__proto.clone             = clone;\n      momentPrototype__proto.diff              = diff;\n      momentPrototype__proto.endOf             = endOf;\n      momentPrototype__proto.format            = format;\n      momentPrototype__proto.from              = from;\n      momentPrototype__proto.fromNow           = fromNow;\n      momentPrototype__proto.to                = to;\n      momentPrototype__proto.toNow             = toNow;\n      momentPrototype__proto.get               = getSet;\n      momentPrototype__proto.invalidAt         = invalidAt;\n      momentPrototype__proto.isAfter           = isAfter;\n      momentPrototype__proto.isBefore          = isBefore;\n      momentPrototype__proto.isBetween         = isBetween;\n      momentPrototype__proto.isSame            = isSame;\n      momentPrototype__proto.isSameOrAfter     = isSameOrAfter;\n      momentPrototype__proto.isSameOrBefore    = isSameOrBefore;\n      momentPrototype__proto.isValid           = moment_valid__isValid;\n      momentPrototype__proto.lang              = lang;\n      momentPrototype__proto.locale            = locale;\n      momentPrototype__proto.localeData        = localeData;\n      momentPrototype__proto.max               = prototypeMax;\n      momentPrototype__proto.min               = prototypeMin;\n      momentPrototype__proto.parsingFlags      = parsingFlags;\n      momentPrototype__proto.set               = getSet;\n      momentPrototype__proto.startOf           = startOf;\n      momentPrototype__proto.subtract          = add_subtract__subtract;\n      momentPrototype__proto.toArray           = toArray;\n      momentPrototype__proto.toObject          = toObject;\n      momentPrototype__proto.toDate            = toDate;\n      momentPrototype__proto.toISOString       = moment_format__toISOString;\n      momentPrototype__proto.toJSON            = toJSON;\n      momentPrototype__proto.toString          = toString;\n      momentPrototype__proto.unix              = unix;\n      momentPrototype__proto.valueOf           = to_type__valueOf;\n      momentPrototype__proto.creationData      = creationData;\n\n      // Year\n      momentPrototype__proto.year       = getSetYear;\n      momentPrototype__proto.isLeapYear = getIsLeapYear;\n\n      // Week Year\n      momentPrototype__proto.weekYear    = getSetWeekYear;\n      momentPrototype__proto.isoWeekYear = getSetISOWeekYear;\n\n      // Quarter\n      momentPrototype__proto.quarter = momentPrototype__proto.quarters = getSetQuarter;\n\n      // Month\n      momentPrototype__proto.month       = getSetMonth;\n      momentPrototype__proto.daysInMonth = getDaysInMonth;\n\n      // Week\n      momentPrototype__proto.week           = momentPrototype__proto.weeks        = getSetWeek;\n      momentPrototype__proto.isoWeek        = momentPrototype__proto.isoWeeks     = getSetISOWeek;\n      momentPrototype__proto.weeksInYear    = getWeeksInYear;\n      momentPrototype__proto.isoWeeksInYear = getISOWeeksInYear;\n\n      // Day\n      momentPrototype__proto.date       = getSetDayOfMonth;\n      momentPrototype__proto.day        = momentPrototype__proto.days             = getSetDayOfWeek;\n      momentPrototype__proto.weekday    = getSetLocaleDayOfWeek;\n      momentPrototype__proto.isoWeekday = getSetISODayOfWeek;\n      momentPrototype__proto.dayOfYear  = getSetDayOfYear;\n\n      // Hour\n      momentPrototype__proto.hour = momentPrototype__proto.hours = getSetHour;\n\n      // Minute\n      momentPrototype__proto.minute = momentPrototype__proto.minutes = getSetMinute;\n\n      // Second\n      momentPrototype__proto.second = momentPrototype__proto.seconds = getSetSecond;\n\n      // Millisecond\n      momentPrototype__proto.millisecond = momentPrototype__proto.milliseconds = getSetMillisecond;\n\n      // Offset\n      momentPrototype__proto.utcOffset            = getSetOffset;\n      momentPrototype__proto.utc                  = setOffsetToUTC;\n      momentPrototype__proto.local                = setOffsetToLocal;\n      momentPrototype__proto.parseZone            = setOffsetToParsedOffset;\n      momentPrototype__proto.hasAlignedHourOffset = hasAlignedHourOffset;\n      momentPrototype__proto.isDST                = isDaylightSavingTime;\n      momentPrototype__proto.isDSTShifted         = isDaylightSavingTimeShifted;\n      momentPrototype__proto.isLocal              = isLocal;\n      momentPrototype__proto.isUtcOffset          = isUtcOffset;\n      momentPrototype__proto.isUtc                = isUtc;\n      momentPrototype__proto.isUTC                = isUtc;\n\n      // Timezone\n      momentPrototype__proto.zoneAbbr = getZoneAbbr;\n      momentPrototype__proto.zoneName = getZoneName;\n\n      // Deprecations\n      momentPrototype__proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);\n      momentPrototype__proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);\n      momentPrototype__proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);\n      momentPrototype__proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779', getSetZone);\n\n      var momentPrototype = momentPrototype__proto;\n\n      function moment__createUnix (input) {\n          return local__createLocal(input * 1000);\n      }\n\n      function moment__createInZone () {\n          return local__createLocal.apply(null, arguments).parseZone();\n      }\n\n      var defaultCalendar = {\n          sameDay : '[Today at] LT',\n          nextDay : '[Tomorrow at] LT',\n          nextWeek : 'dddd [at] LT',\n          lastDay : '[Yesterday at] LT',\n          lastWeek : '[Last] dddd [at] LT',\n          sameElse : 'L'\n      };\n\n      function locale_calendar__calendar (key, mom, now) {\n          var output = this._calendar[key];\n          return isFunction(output) ? output.call(mom, now) : output;\n      }\n\n      var defaultLongDateFormat = {\n          LTS  : 'h:mm:ss A',\n          LT   : 'h:mm A',\n          L    : 'MM/DD/YYYY',\n          LL   : 'MMMM D, YYYY',\n          LLL  : 'MMMM D, YYYY h:mm A',\n          LLLL : 'dddd, MMMM D, YYYY h:mm A'\n      };\n\n      function longDateFormat (key) {\n          var format = this._longDateFormat[key],\n              formatUpper = this._longDateFormat[key.toUpperCase()];\n\n          if (format || !formatUpper) {\n              return format;\n          }\n\n          this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {\n              return val.slice(1);\n          });\n\n          return this._longDateFormat[key];\n      }\n\n      var defaultInvalidDate = 'Invalid date';\n\n      function invalidDate () {\n          return this._invalidDate;\n      }\n\n      var defaultOrdinal = '%d';\n      var defaultOrdinalParse = /\\d{1,2}/;\n\n      function ordinal (number) {\n          return this._ordinal.replace('%d', number);\n      }\n\n      function preParsePostFormat (string) {\n          return string;\n      }\n\n      var defaultRelativeTime = {\n          future : 'in %s',\n          past   : '%s ago',\n          s  : 'a few seconds',\n          m  : 'a minute',\n          mm : '%d minutes',\n          h  : 'an hour',\n          hh : '%d hours',\n          d  : 'a day',\n          dd : '%d days',\n          M  : 'a month',\n          MM : '%d months',\n          y  : 'a year',\n          yy : '%d years'\n      };\n\n      function relative__relativeTime (number, withoutSuffix, string, isFuture) {\n          var output = this._relativeTime[string];\n          return (isFunction(output)) ?\n              output(number, withoutSuffix, string, isFuture) :\n              output.replace(/%d/i, number);\n      }\n\n      function pastFuture (diff, output) {\n          var format = this._relativeTime[diff &gt; 0 ? 'future' : 'past'];\n          return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n      }\n\n      function locale_set__set (config) {\n          var prop, i;\n          for (i in config) {\n              prop = config[i];\n              if (isFunction(prop)) {\n                  this[i] = prop;\n              } else {\n                  this['_' + i] = prop;\n              }\n          }\n          // Lenient ordinal parsing accepts just a number in addition to\n          // number + (possibly) stuff coming from _ordinalParseLenient.\n          this._ordinalParseLenient = new RegExp(this._ordinalParse.source + '|' + (/\\d{1,2}/).source);\n      }\n\n      var prototype__proto = Locale.prototype;\n\n      prototype__proto._calendar       = defaultCalendar;\n      prototype__proto.calendar        = locale_calendar__calendar;\n      prototype__proto._longDateFormat = defaultLongDateFormat;\n      prototype__proto.longDateFormat  = longDateFormat;\n      prototype__proto._invalidDate    = defaultInvalidDate;\n      prototype__proto.invalidDate     = invalidDate;\n      prototype__proto._ordinal        = defaultOrdinal;\n      prototype__proto.ordinal         = ordinal;\n      prototype__proto._ordinalParse   = defaultOrdinalParse;\n      prototype__proto.preparse        = preParsePostFormat;\n      prototype__proto.postformat      = preParsePostFormat;\n      prototype__proto._relativeTime   = defaultRelativeTime;\n      prototype__proto.relativeTime    = relative__relativeTime;\n      prototype__proto.pastFuture      = pastFuture;\n      prototype__proto.set             = locale_set__set;\n\n      // Month\n      prototype__proto.months            =        localeMonths;\n      prototype__proto._months           = defaultLocaleMonths;\n      prototype__proto.monthsShort       =        localeMonthsShort;\n      prototype__proto._monthsShort      = defaultLocaleMonthsShort;\n      prototype__proto.monthsParse       =        localeMonthsParse;\n      prototype__proto._monthsRegex      = defaultMonthsRegex;\n      prototype__proto.monthsRegex       = monthsRegex;\n      prototype__proto._monthsShortRegex = defaultMonthsShortRegex;\n      prototype__proto.monthsShortRegex  = monthsShortRegex;\n\n      // Week\n      prototype__proto.week = localeWeek;\n      prototype__proto._week = defaultLocaleWeek;\n      prototype__proto.firstDayOfYear = localeFirstDayOfYear;\n      prototype__proto.firstDayOfWeek = localeFirstDayOfWeek;\n\n      // Day of Week\n      prototype__proto.weekdays       =        localeWeekdays;\n      prototype__proto._weekdays      = defaultLocaleWeekdays;\n      prototype__proto.weekdaysMin    =        localeWeekdaysMin;\n      prototype__proto._weekdaysMin   = defaultLocaleWeekdaysMin;\n      prototype__proto.weekdaysShort  =        localeWeekdaysShort;\n      prototype__proto._weekdaysShort = defaultLocaleWeekdaysShort;\n      prototype__proto.weekdaysParse  =        localeWeekdaysParse;\n\n      // Hours\n      prototype__proto.isPM = localeIsPM;\n      prototype__proto._meridiemParse = defaultLocaleMeridiemParse;\n      prototype__proto.meridiem = localeMeridiem;\n\n      function lists__get (format, index, field, setter) {\n          var locale = locale_locales__getLocale();\n          var utc = create_utc__createUTC().set(setter, index);\n          return locale[field](utc, format);\n      }\n\n      function list (format, index, field, count, setter) {\n          if (typeof format === 'number') {\n              index = format;\n              format = undefined;\n          }\n\n          format = format || '';\n\n          if (index != null) {\n              return lists__get(format, index, field, setter);\n          }\n\n          var i;\n          var out = [];\n          for (i = 0; i &lt; count; i++) {\n              out[i] = lists__get(format, i, field, setter);\n          }\n          return out;\n      }\n\n      function lists__listMonths (format, index) {\n          return list(format, index, 'months', 12, 'month');\n      }\n\n      function lists__listMonthsShort (format, index) {\n          return list(format, index, 'monthsShort', 12, 'month');\n      }\n\n      function lists__listWeekdays (format, index) {\n          return list(format, index, 'weekdays', 7, 'day');\n      }\n\n      function lists__listWeekdaysShort (format, index) {\n          return list(format, index, 'weekdaysShort', 7, 'day');\n      }\n\n      function lists__listWeekdaysMin (format, index) {\n          return list(format, index, 'weekdaysMin', 7, 'day');\n      }\n\n      locale_locales__getSetGlobalLocale('en', {\n          ordinalParse: /\\d{1,2}(th|st|nd|rd)/,\n          ordinal : function (number) {\n              var b = number % 10,\n                  output = (toInt(number % 100 / 10) === 1) ? 'th' :\n                  (b === 1) ? 'st' :\n                  (b === 2) ? 'nd' :\n                  (b === 3) ? 'rd' : 'th';\n              return number + output;\n          }\n      });\n\n      // Side effect imports\n      utils_hooks__hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', locale_locales__getSetGlobalLocale);\n      utils_hooks__hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', locale_locales__getLocale);\n\n      var mathAbs = Math.abs;\n\n      function duration_abs__abs () {\n          var data           = this._data;\n\n          this._milliseconds = mathAbs(this._milliseconds);\n          this._days         = mathAbs(this._days);\n          this._months       = mathAbs(this._months);\n\n          data.milliseconds  = mathAbs(data.milliseconds);\n          data.seconds       = mathAbs(data.seconds);\n          data.minutes       = mathAbs(data.minutes);\n          data.hours         = mathAbs(data.hours);\n          data.months        = mathAbs(data.months);\n          data.years         = mathAbs(data.years);\n\n          return this;\n      }\n\n      function duration_add_subtract__addSubtract (duration, input, value, direction) {\n          var other = create__createDuration(input, value);\n\n          duration._milliseconds += direction * other._milliseconds;\n          duration._days         += direction * other._days;\n          duration._months       += direction * other._months;\n\n          return duration._bubble();\n      }\n\n      // supports only 2.0-style add(1, 's') or add(duration)\n      function duration_add_subtract__add (input, value) {\n          return duration_add_subtract__addSubtract(this, input, value, 1);\n      }\n\n      // supports only 2.0-style subtract(1, 's') or subtract(duration)\n      function duration_add_subtract__subtract (input, value) {\n          return duration_add_subtract__addSubtract(this, input, value, -1);\n      }\n\n      function absCeil (number) {\n          if (number &lt; 0) {\n              return Math.floor(number);\n          } else {\n              return Math.ceil(number);\n          }\n      }\n\n      function bubble () {\n          var milliseconds = this._milliseconds;\n          var days         = this._days;\n          var months       = this._months;\n          var data         = this._data;\n          var seconds, minutes, hours, years, monthsFromDays;\n\n          // if we have a mix of positive and negative values, bubble down first\n          // check: https://github.com/moment/moment/issues/2166\n          if (!((milliseconds &gt;= 0 &amp;&amp; days &gt;= 0 &amp;&amp; months &gt;= 0) ||\n                  (milliseconds &lt;= 0 &amp;&amp; days &lt;= 0 &amp;&amp; months &lt;= 0))) {\n              milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n              days = 0;\n              months = 0;\n          }\n\n          // The following code bubbles up values, see the tests for\n          // examples of what that means.\n          data.milliseconds = milliseconds % 1000;\n\n          seconds           = absFloor(milliseconds / 1000);\n          data.seconds      = seconds % 60;\n\n          minutes           = absFloor(seconds / 60);\n          data.minutes      = minutes % 60;\n\n          hours             = absFloor(minutes / 60);\n          data.hours        = hours % 24;\n\n          days += absFloor(hours / 24);\n\n          // convert days to months\n          monthsFromDays = absFloor(daysToMonths(days));\n          months += monthsFromDays;\n          days -= absCeil(monthsToDays(monthsFromDays));\n\n          // 12 months -&gt; 1 year\n          years = absFloor(months / 12);\n          months %= 12;\n\n          data.days   = days;\n          data.months = months;\n          data.years  = years;\n\n          return this;\n      }\n\n      function daysToMonths (days) {\n          // 400 years have 146097 days (taking into account leap year rules)\n          // 400 years have 12 months === 4800\n          return days * 4800 / 146097;\n      }\n\n      function monthsToDays (months) {\n          // the reverse of daysToMonths\n          return months * 146097 / 4800;\n      }\n\n      function as (units) {\n          var days;\n          var months;\n          var milliseconds = this._milliseconds;\n\n          units = normalizeUnits(units);\n\n          if (units === 'month' || units === 'year') {\n              days   = this._days   + milliseconds / 864e5;\n              months = this._months + daysToMonths(days);\n              return units === 'month' ? months : months / 12;\n          } else {\n              // handle milliseconds separately because of floating point math errors (issue #1867)\n              days = this._days + Math.round(monthsToDays(this._months));\n              switch (units) {\n                  case 'week'   : return days / 7     + milliseconds / 6048e5;\n                  case 'day'    : return days         + milliseconds / 864e5;\n                  case 'hour'   : return days * 24    + milliseconds / 36e5;\n                  case 'minute' : return days * 1440  + milliseconds / 6e4;\n                  case 'second' : return days * 86400 + milliseconds / 1000;\n                  // Math.floor prevents floating point math errors here\n                  case 'millisecond': return Math.floor(days * 864e5) + milliseconds;\n                  default: throw new Error('Unknown unit ' + units);\n              }\n          }\n      }\n\n      // TODO: Use this.as('ms')?\n      function duration_as__valueOf () {\n          return (\n              this._milliseconds +\n              this._days * 864e5 +\n              (this._months % 12) * 2592e6 +\n              toInt(this._months / 12) * 31536e6\n          );\n      }\n\n      function makeAs (alias) {\n          return function () {\n              return this.as(alias);\n          };\n      }\n\n      var asMilliseconds = makeAs('ms');\n      var asSeconds      = makeAs('s');\n      var asMinutes      = makeAs('m');\n      var asHours        = makeAs('h');\n      var asDays         = makeAs('d');\n      var asWeeks        = makeAs('w');\n      var asMonths       = makeAs('M');\n      var asYears        = makeAs('y');\n\n      function duration_get__get (units) {\n          units = normalizeUnits(units);\n          return this[units + 's']();\n      }\n\n      function makeGetter(name) {\n          return function () {\n              return this._data[name];\n          };\n      }\n\n      var milliseconds = makeGetter('milliseconds');\n      var seconds      = makeGetter('seconds');\n      var minutes      = makeGetter('minutes');\n      var hours        = makeGetter('hours');\n      var days         = makeGetter('days');\n      var months       = makeGetter('months');\n      var years        = makeGetter('years');\n\n      function weeks () {\n          return absFloor(this.days() / 7);\n      }\n\n      var round = Math.round;\n      var thresholds = {\n          s: 45,  // seconds to minute\n          m: 45,  // minutes to hour\n          h: 22,  // hours to day\n          d: 26,  // days to month\n          M: 11   // months to year\n      };\n\n      // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n      function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n          return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n      }\n\n      function duration_humanize__relativeTime (posNegDuration, withoutSuffix, locale) {\n          var duration = create__createDuration(posNegDuration).abs();\n          var seconds  = round(duration.as('s'));\n          var minutes  = round(duration.as('m'));\n          var hours    = round(duration.as('h'));\n          var days     = round(duration.as('d'));\n          var months   = round(duration.as('M'));\n          var years    = round(duration.as('y'));\n\n          var a = seconds &lt; thresholds.s &amp;&amp; ['s', seconds]  ||\n                  minutes &lt;= 1           &amp;&amp; ['m']           ||\n                  minutes &lt; thresholds.m &amp;&amp; ['mm', minutes] ||\n                  hours   &lt;= 1           &amp;&amp; ['h']           ||\n                  hours   &lt; thresholds.h &amp;&amp; ['hh', hours]   ||\n                  days    &lt;= 1           &amp;&amp; ['d']           ||\n                  days    &lt; thresholds.d &amp;&amp; ['dd', days]    ||\n                  months  &lt;= 1           &amp;&amp; ['M']           ||\n                  months  &lt; thresholds.M &amp;&amp; ['MM', months]  ||\n                  years   &lt;= 1           &amp;&amp; ['y']           || ['yy', years];\n\n          a[2] = withoutSuffix;\n          a[3] = +posNegDuration &gt; 0;\n          a[4] = locale;\n          return substituteTimeAgo.apply(null, a);\n      }\n\n      // This function allows you to set a threshold for relative time strings\n      function duration_humanize__getSetRelativeTimeThreshold (threshold, limit) {\n          if (thresholds[threshold] === undefined) {\n              return false;\n          }\n          if (limit === undefined) {\n              return thresholds[threshold];\n          }\n          thresholds[threshold] = limit;\n          return true;\n      }\n\n      function humanize (withSuffix) {\n          var locale = this.localeData();\n          var output = duration_humanize__relativeTime(this, !withSuffix, locale);\n\n          if (withSuffix) {\n              output = locale.pastFuture(+this, output);\n          }\n\n          return locale.postformat(output);\n      }\n\n      var iso_string__abs = Math.abs;\n\n      function iso_string__toISOString() {\n          // for ISO strings we do not use the normal bubbling rules:\n          //  * milliseconds bubble up until they become hours\n          //  * days do not bubble at all\n          //  * months bubble up until they become years\n          // This is because there is no context-free conversion between hours and days\n          // (think of clock changes)\n          // and also not between days and months (28-31 days per month)\n          var seconds = iso_string__abs(this._milliseconds) / 1000;\n          var days         = iso_string__abs(this._days);\n          var months       = iso_string__abs(this._months);\n          var minutes, hours, years;\n\n          // 3600 seconds -&gt; 60 minutes -&gt; 1 hour\n          minutes           = absFloor(seconds / 60);\n          hours             = absFloor(minutes / 60);\n          seconds %= 60;\n          minutes %= 60;\n\n          // 12 months -&gt; 1 year\n          years  = absFloor(months / 12);\n          months %= 12;\n\n\n          // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n          var Y = years;\n          var M = months;\n          var D = days;\n          var h = hours;\n          var m = minutes;\n          var s = seconds;\n          var total = this.asSeconds();\n\n          if (!total) {\n              // this is the same as C#'s (Noda) and python (isodate)...\n              // but not other JS (goog.date)\n              return 'P0D';\n          }\n\n          return (total &lt; 0 ? '-' : '') +\n              'P' +\n              (Y ? Y + 'Y' : '') +\n              (M ? M + 'M' : '') +\n              (D ? D + 'D' : '') +\n              ((h || m || s) ? 'T' : '') +\n              (h ? h + 'H' : '') +\n              (m ? m + 'M' : '') +\n              (s ? s + 'S' : '');\n      }\n\n      var duration_prototype__proto = Duration.prototype;\n\n      duration_prototype__proto.abs            = duration_abs__abs;\n      duration_prototype__proto.add            = duration_add_subtract__add;\n      duration_prototype__proto.subtract       = duration_add_subtract__subtract;\n      duration_prototype__proto.as             = as;\n      duration_prototype__proto.asMilliseconds = asMilliseconds;\n      duration_prototype__proto.asSeconds      = asSeconds;\n      duration_prototype__proto.asMinutes      = asMinutes;\n      duration_prototype__proto.asHours        = asHours;\n      duration_prototype__proto.asDays         = asDays;\n      duration_prototype__proto.asWeeks        = asWeeks;\n      duration_prototype__proto.asMonths       = asMonths;\n      duration_prototype__proto.asYears        = asYears;\n      duration_prototype__proto.valueOf        = duration_as__valueOf;\n      duration_prototype__proto._bubble        = bubble;\n      duration_prototype__proto.get            = duration_get__get;\n      duration_prototype__proto.milliseconds   = milliseconds;\n      duration_prototype__proto.seconds        = seconds;\n      duration_prototype__proto.minutes        = minutes;\n      duration_prototype__proto.hours          = hours;\n      duration_prototype__proto.days           = days;\n      duration_prototype__proto.weeks          = weeks;\n      duration_prototype__proto.months         = months;\n      duration_prototype__proto.years          = years;\n      duration_prototype__proto.humanize       = humanize;\n      duration_prototype__proto.toISOString    = iso_string__toISOString;\n      duration_prototype__proto.toString       = iso_string__toISOString;\n      duration_prototype__proto.toJSON         = iso_string__toISOString;\n      duration_prototype__proto.locale         = locale;\n      duration_prototype__proto.localeData     = localeData;\n\n      // Deprecations\n      duration_prototype__proto.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', iso_string__toISOString);\n      duration_prototype__proto.lang = lang;\n\n      // Side effect imports\n\n      // FORMATTING\n\n      addFormatToken('X', 0, 0, 'unix');\n      addFormatToken('x', 0, 0, 'valueOf');\n\n      // PARSING\n\n      addRegexToken('x', matchSigned);\n      addRegexToken('X', matchTimestamp);\n      addParseToken('X', function (input, array, config) {\n          config._d = new Date(parseFloat(input, 10) * 1000);\n      });\n      addParseToken('x', function (input, array, config) {\n          config._d = new Date(toInt(input));\n      });\n\n      // Side effect imports\n\n\n      utils_hooks__hooks.version = '2.11.1';\n\n      setHookCallback(local__createLocal);\n\n      utils_hooks__hooks.fn                    = momentPrototype;\n      utils_hooks__hooks.min                   = min;\n      utils_hooks__hooks.max                   = max;\n      utils_hooks__hooks.now                   = now;\n      utils_hooks__hooks.utc                   = create_utc__createUTC;\n      utils_hooks__hooks.unix                  = moment__createUnix;\n      utils_hooks__hooks.months                = lists__listMonths;\n      utils_hooks__hooks.isDate                = isDate;\n      utils_hooks__hooks.locale                = locale_locales__getSetGlobalLocale;\n      utils_hooks__hooks.invalid               = valid__createInvalid;\n      utils_hooks__hooks.duration              = create__createDuration;\n      utils_hooks__hooks.isMoment              = isMoment;\n      utils_hooks__hooks.weekdays              = lists__listWeekdays;\n      utils_hooks__hooks.parseZone             = moment__createInZone;\n      utils_hooks__hooks.localeData            = locale_locales__getLocale;\n      utils_hooks__hooks.isDuration            = isDuration;\n      utils_hooks__hooks.monthsShort           = lists__listMonthsShort;\n      utils_hooks__hooks.weekdaysMin           = lists__listWeekdaysMin;\n      utils_hooks__hooks.defineLocale          = defineLocale;\n      utils_hooks__hooks.weekdaysShort         = lists__listWeekdaysShort;\n      utils_hooks__hooks.normalizeUnits        = normalizeUnits;\n      utils_hooks__hooks.relativeTimeThreshold = duration_humanize__getSetRelativeTimeThreshold;\n      utils_hooks__hooks.prototype             = momentPrototype;\n\n      var _moment = utils_hooks__hooks;\n\n      return _moment;\n\n  }));\n  /* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(4)(module)))\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n  module.exports = function(module) {\n  \tif(!module.webpackPolyfill) {\n  \t\tmodule.deprecate = function() {};\n  \t\tmodule.paths = [];\n  \t\t// module.parent = undefined by default\n  \t\tmodule.children = [];\n  \t\tmodule.webpackPolyfill = 1;\n  \t}\n  \treturn module;\n  }\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n  function webpackContext(req) {\n  \tthrow new Error(\&quot;Cannot find module '\&quot; + req + \&quot;'.\&quot;);\n  }\n  webpackContext.keys = function() { return []; };\n  webpackContext.resolve = webpackContext;\n  module.exports = webpackContext;\n  webpackContext.id = 5;\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n  /* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\n  var _rng;\n\n  var globalVar = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : null;\n\n  if (globalVar &amp;&amp; globalVar.crypto &amp;&amp; crypto.getRandomValues) {\n    // WHATWG crypto-based RNG - http://wiki.whatwg.org/wiki/Crypto\n    // Moderately fast, high quality\n    var _rnds8 = new Uint8Array(16);\n    _rng = function whatwgRNG() {\n      crypto.getRandomValues(_rnds8);\n      return _rnds8;\n    };\n  }\n\n  if (!_rng) {\n    // Math.random()-based (RNG)\n    //\n    // If all else fails, use Math.random().  It's fast, but is of unspecified\n    // quality.\n    var _rnds = new Array(16);\n    _rng = function () {\n      for (var i = 0, r; i &lt; 16; i++) {\n        if ((i &amp; 0x03) === 0) r = Math.random() * 0x100000000;\n        _rnds[i] = r &gt;&gt;&gt; ((i &amp; 0x03) &lt;&lt; 3) &amp; 0xff;\n      }\n\n      return _rnds;\n    };\n  }\n\n  //     uuid.js\n  //\n  //     Copyright (c) 2010-2012 Robert Kieffer\n  //     MIT License - http://opensource.org/licenses/mit-license.php\n\n  // Unique ID creation requires a high quality random # generator.  We feature\n  // detect to determine the best RNG source, normalizing to a function that\n  // returns 128-bits of randomness, since that's what's usually required\n\n  //var _rng = require('./rng');\n\n  // Maps for number &lt;-&gt; hex string conversion\n  var _byteToHex = [];\n  var _hexToByte = {};\n  for (var i = 0; i &lt; 256; i++) {\n    _byteToHex[i] = (i + 0x100).toString(16).substr(1);\n    _hexToByte[_byteToHex[i]] = i;\n  }\n\n  // **`parse()` - Parse a UUID into it's component bytes**\n  function parse(s, buf, offset) {\n    var i = buf &amp;&amp; offset || 0,\n        ii = 0;\n\n    buf = buf || [];\n    s.toLowerCase().replace(/[0-9a-f]{2}/g, function (oct) {\n      if (ii &lt; 16) {\n        // Don't overflow!\n        buf[i + ii++] = _hexToByte[oct];\n      }\n    });\n\n    // Zero out remaining bytes if string was short\n    while (ii &lt; 16) {\n      buf[i + ii++] = 0;\n    }\n\n    return buf;\n  }\n\n  // **`unparse()` - Convert UUID byte array (ala parse()) into a string**\n  function unparse(buf, offset) {\n    var i = offset || 0,\n        bth = _byteToHex;\n    return bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]] + '-' + bth[buf[i++]] + bth[buf[i++]] + '-' + bth[buf[i++]] + bth[buf[i++]] + '-' + bth[buf[i++]] + bth[buf[i++]] + '-' + bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]];\n  }\n\n  // **`v1()` - Generate time-based UUID**\n  //\n  // Inspired by https://github.com/LiosK/UUID.js\n  // and http://docs.python.org/library/uuid.html\n\n  // random #'s we need to init node and clockseq\n  var _seedBytes = _rng();\n\n  // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n  var _nodeId = [_seedBytes[0] | 0x01, _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]];\n\n  // Per 4.2.2, randomize (14 bit) clockseq\n  var _clockseq = (_seedBytes[6] &lt;&lt; 8 | _seedBytes[7]) &amp; 0x3fff;\n\n  // Previous uuid creation time\n  var _lastMSecs = 0,\n      _lastNSecs = 0;\n\n  // See https://github.com/broofa/node-uuid for API details\n  function v1(options, buf, offset) {\n    var i = buf &amp;&amp; offset || 0;\n    var b = buf || [];\n\n    options = options || {};\n\n    var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n    // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n    // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n    // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n    // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n    var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n    // Per 4.2.1.2, use count of uuid's generated during the current clock\n    // cycle to simulate higher resolution clock\n    var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n    // Time since last uuid creation (in msecs)\n    var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000;\n\n    // Per 4.2.1.2, Bump clockseq on clock regression\n    if (dt &lt; 0 &amp;&amp; options.clockseq === undefined) {\n      clockseq = clockseq + 1 &amp; 0x3fff;\n    }\n\n    // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n    // time interval\n    if ((dt &lt; 0 || msecs &gt; _lastMSecs) &amp;&amp; options.nsecs === undefined) {\n      nsecs = 0;\n    }\n\n    // Per 4.2.1.2 Throw error if too many uuids are requested\n    if (nsecs &gt;= 10000) {\n      throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n    }\n\n    _lastMSecs = msecs;\n    _lastNSecs = nsecs;\n    _clockseq = clockseq;\n\n    // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n    msecs += 12219292800000;\n\n    // `time_low`\n    var tl = ((msecs &amp; 0xfffffff) * 10000 + nsecs) % 0x100000000;\n    b[i++] = tl &gt;&gt;&gt; 24 &amp; 0xff;\n    b[i++] = tl &gt;&gt;&gt; 16 &amp; 0xff;\n    b[i++] = tl &gt;&gt;&gt; 8 &amp; 0xff;\n    b[i++] = tl &amp; 0xff;\n\n    // `time_mid`\n    var tmh = msecs / 0x100000000 * 10000 &amp; 0xfffffff;\n    b[i++] = tmh &gt;&gt;&gt; 8 &amp; 0xff;\n    b[i++] = tmh &amp; 0xff;\n\n    // `time_high_and_version`\n    b[i++] = tmh &gt;&gt;&gt; 24 &amp; 0xf | 0x10; // include version\n    b[i++] = tmh &gt;&gt;&gt; 16 &amp; 0xff;\n\n    // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n    b[i++] = clockseq &gt;&gt;&gt; 8 | 0x80;\n\n    // `clock_seq_low`\n    b[i++] = clockseq &amp; 0xff;\n\n    // `node`\n    var node = options.node || _nodeId;\n    for (var n = 0; n &lt; 6; n++) {\n      b[i + n] = node[n];\n    }\n\n    return buf ? buf : unparse(b);\n  }\n\n  // **`v4()` - Generate random UUID**\n\n  // See https://github.com/broofa/node-uuid for API details\n  function v4(options, buf, offset) {\n    // Deprecated - 'format' argument, as supported in v1.2\n    var i = buf &amp;&amp; offset || 0;\n\n    if (typeof options == 'string') {\n      buf = options == 'binary' ? new Array(16) : null;\n      options = null;\n    }\n    options = options || {};\n\n    var rnds = options.random || (options.rng || _rng)();\n\n    // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n    rnds[6] = rnds[6] &amp; 0x0f | 0x40;\n    rnds[8] = rnds[8] &amp; 0x3f | 0x80;\n\n    // Copy bytes to buffer, if provided\n    if (buf) {\n      for (var ii = 0; ii &lt; 16; ii++) {\n        buf[i + ii] = rnds[ii];\n      }\n    }\n\n    return buf || unparse(rnds);\n  }\n\n  // Export public API\n  var uuid = v4;\n  uuid.v1 = v1;\n  uuid.v4 = v4;\n  uuid.parse = parse;\n  uuid.unparse = unparse;\n\n  module.exports = uuid;\n  /* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n  // DOM utility methods\n\n  /**\n   * this prepares the JSON container for allocating SVG elements\n   * @param JSONcontainer\n   * @private\n   */\n  'use strict';\n\n  exports.prepareElements = function (JSONcontainer) {\n    // cleanup the redundant svgElements;\n    for (var elementType in JSONcontainer) {\n      if (JSONcontainer.hasOwnProperty(elementType)) {\n        JSONcontainer[elementType].redundant = JSONcontainer[elementType].used;\n        JSONcontainer[elementType].used = [];\n      }\n    }\n  };\n\n  /**\n   * this cleans up all the unused SVG elements. By asking for the parentNode, we only need to supply the JSON container from\n   * which to remove the redundant elements.\n   *\n   * @param JSONcontainer\n   * @private\n   */\n  exports.cleanupElements = function (JSONcontainer) {\n    // cleanup the redundant svgElements;\n    for (var elementType in JSONcontainer) {\n      if (JSONcontainer.hasOwnProperty(elementType)) {\n        if (JSONcontainer[elementType].redundant) {\n          for (var i = 0; i &lt; JSONcontainer[elementType].redundant.length; i++) {\n            JSONcontainer[elementType].redundant[i].parentNode.removeChild(JSONcontainer[elementType].redundant[i]);\n          }\n          JSONcontainer[elementType].redundant = [];\n        }\n      }\n    }\n  };\n\n  /**\n   * Ensures that all elements are removed first up so they can be recreated cleanly\n   * @param JSONcontainer\n   */\n  exports.resetElements = function (JSONcontainer) {\n    exports.prepareElements(JSONcontainer);\n    exports.cleanupElements(JSONcontainer);\n    exports.prepareElements(JSONcontainer);\n  };\n\n  /**\n   * Allocate or generate an SVG element if needed. Store a reference to it in the JSON container and draw it in the svgContainer\n   * the JSON container and the SVG container have to be supplied so other svg containers (like the legend) can use this.\n   *\n   * @param elementType\n   * @param JSONcontainer\n   * @param svgContainer\n   * @returns {*}\n   * @private\n   */\n  exports.getSVGElement = function (elementType, JSONcontainer, svgContainer) {\n    var element;\n    // allocate SVG element, if it doesnt yet exist, create one.\n    if (JSONcontainer.hasOwnProperty(elementType)) {\n      // this element has been created before\n      // check if there is an redundant element\n      if (JSONcontainer[elementType].redundant.length &gt; 0) {\n        element = JSONcontainer[elementType].redundant[0];\n        JSONcontainer[elementType].redundant.shift();\n      } else {\n        // create a new element and add it to the SVG\n        element = document.createElementNS('http://www.w3.org/2000/svg', elementType);\n        svgContainer.appendChild(element);\n      }\n    } else {\n      // create a new element and add it to the SVG, also create a new object in the svgElements to keep track of it.\n      element = document.createElementNS('http://www.w3.org/2000/svg', elementType);\n      JSONcontainer[elementType] = { used: [], redundant: [] };\n      svgContainer.appendChild(element);\n    }\n    JSONcontainer[elementType].used.push(element);\n    return element;\n  };\n\n  /**\n   * Allocate or generate an SVG element if needed. Store a reference to it in the JSON container and draw it in the svgContainer\n   * the JSON container and the SVG container have to be supplied so other svg containers (like the legend) can use this.\n   *\n   * @param elementType\n   * @param JSONcontainer\n   * @param DOMContainer\n   * @returns {*}\n   * @private\n   */\n  exports.getDOMElement = function (elementType, JSONcontainer, DOMContainer, insertBefore) {\n    var element;\n    // allocate DOM element, if it doesnt yet exist, create one.\n    if (JSONcontainer.hasOwnProperty(elementType)) {\n      // this element has been created before\n      // check if there is an redundant element\n      if (JSONcontainer[elementType].redundant.length &gt; 0) {\n        element = JSONcontainer[elementType].redundant[0];\n        JSONcontainer[elementType].redundant.shift();\n      } else {\n        // create a new element and add it to the SVG\n        element = document.createElement(elementType);\n        if (insertBefore !== undefined) {\n          DOMContainer.insertBefore(element, insertBefore);\n        } else {\n          DOMContainer.appendChild(element);\n        }\n      }\n    } else {\n      // create a new element and add it to the SVG, also create a new object in the svgElements to keep track of it.\n      element = document.createElement(elementType);\n      JSONcontainer[elementType] = { used: [], redundant: [] };\n      if (insertBefore !== undefined) {\n        DOMContainer.insertBefore(element, insertBefore);\n      } else {\n        DOMContainer.appendChild(element);\n      }\n    }\n    JSONcontainer[elementType].used.push(element);\n    return element;\n  };\n\n  /**\n   * Draw a point object. This is a separate function because it can also be called by the legend.\n   * The reason the JSONcontainer and the target SVG svgContainer have to be supplied is so the legend can use these functions\n   * as well.\n   *\n   * @param x\n   * @param y\n   * @param groupTemplate: A template containing the necessary information to draw the datapoint e.g., {style: 'circle', size: 5, className: 'className' }\n   * @param JSONcontainer\n   * @param svgContainer\n   * @param labelObj\n   * @returns {*}\n   */\n  exports.drawPoint = function (x, y, groupTemplate, JSONcontainer, svgContainer, labelObj) {\n    var point;\n    if (groupTemplate.style == 'circle') {\n      point = exports.getSVGElement('circle', JSONcontainer, svgContainer);\n      point.setAttributeNS(null, \&quot;cx\&quot;, x);\n      point.setAttributeNS(null, \&quot;cy\&quot;, y);\n      point.setAttributeNS(null, \&quot;r\&quot;, 0.5 * groupTemplate.size);\n    } else {\n      point = exports.getSVGElement('rect', JSONcontainer, svgContainer);\n      point.setAttributeNS(null, \&quot;x\&quot;, x - 0.5 * groupTemplate.size);\n      point.setAttributeNS(null, \&quot;y\&quot;, y - 0.5 * groupTemplate.size);\n      point.setAttributeNS(null, \&quot;width\&quot;, groupTemplate.size);\n      point.setAttributeNS(null, \&quot;height\&quot;, groupTemplate.size);\n    }\n\n    if (groupTemplate.styles !== undefined) {\n      point.setAttributeNS(null, \&quot;style\&quot;, groupTemplate.styles);\n    }\n    point.setAttributeNS(null, \&quot;class\&quot;, groupTemplate.className + \&quot; vis-point\&quot;);\n    //handle label\n\n    if (labelObj) {\n      var label = exports.getSVGElement('text', JSONcontainer, svgContainer);\n      if (labelObj.xOffset) {\n        x = x + labelObj.xOffset;\n      }\n\n      if (labelObj.yOffset) {\n        y = y + labelObj.yOffset;\n      }\n      if (labelObj.content) {\n        label.textContent = labelObj.content;\n      }\n\n      if (labelObj.className) {\n        label.setAttributeNS(null, \&quot;class\&quot;, labelObj.className + \&quot; vis-label\&quot;);\n      }\n      label.setAttributeNS(null, \&quot;x\&quot;, x);\n      label.setAttributeNS(null, \&quot;y\&quot;, y);\n    }\n\n    return point;\n  };\n\n  /**\n   * draw a bar SVG element centered on the X coordinate\n   *\n   * @param x\n   * @param y\n   * @param className\n   */\n  exports.drawBar = function (x, y, width, height, className, JSONcontainer, svgContainer, style) {\n    if (height != 0) {\n      if (height &lt; 0) {\n        height *= -1;\n        y -= height;\n      }\n      var rect = exports.getSVGElement('rect', JSONcontainer, svgContainer);\n      rect.setAttributeNS(null, \&quot;x\&quot;, x - 0.5 * width);\n      rect.setAttributeNS(null, \&quot;y\&quot;, y);\n      rect.setAttributeNS(null, \&quot;width\&quot;, width);\n      rect.setAttributeNS(null, \&quot;height\&quot;, height);\n      rect.setAttributeNS(null, \&quot;class\&quot;, className);\n      if (style) {\n        rect.setAttributeNS(null, \&quot;style\&quot;, style);\n      }\n    }\n  };\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var util = __webpack_require__(1);\n  var Queue = __webpack_require__(9);\n\n  /**\n   * DataSet\n   *\n   * Usage:\n   *     var dataSet = new DataSet({\n   *         fieldId: '_id',\n   *         type: {\n   *             // ...\n   *         }\n   *     });\n   *\n   *     dataSet.add(item);\n   *     dataSet.add(data);\n   *     dataSet.update(item);\n   *     dataSet.update(data);\n   *     dataSet.remove(id);\n   *     dataSet.remove(ids);\n   *     var data = dataSet.get();\n   *     var data = dataSet.get(id);\n   *     var data = dataSet.get(ids);\n   *     var data = dataSet.get(ids, options, data);\n   *     dataSet.clear();\n   *\n   * A data set can:\n   * - add/remove/update data\n   * - gives triggers upon changes in the data\n   * - can  import/export data in various data formats\n   *\n   * @param {Array} [data]    Optional array with initial data\n   * @param {Object} [options]   Available options:\n   *                             {String} fieldId Field name of the id in the\n   *                                              items, 'id' by default.\n   *                             {Object.&lt;String, String} type\n   *                                              A map with field names as key,\n   *                                              and the field type as value.\n   *                             {Object} queue   Queue changes to the DataSet,\n   *                                              flush them all at once.\n   *                                              Queue options:\n   *                                              - {number} delay  Delay in ms, null by default\n   *                                              - {number} max    Maximum number of entries in the queue, Infinity by default\n   * @constructor DataSet\n   */\n  // TODO: add a DataSet constructor DataSet(data, options)\n  function DataSet(data, options) {\n    // correctly read optional arguments\n    if (data &amp;&amp; !Array.isArray(data)) {\n      options = data;\n      data = null;\n    }\n\n    this._options = options || {};\n    this._data = {}; // map with data indexed by id\n    this.length = 0; // number of items in the DataSet\n    this._fieldId = this._options.fieldId || 'id'; // name of the field containing id\n    this._type = {}; // internal field types (NOTE: this can differ from this._options.type)\n\n    // all variants of a Date are internally stored as Date, so we can convert\n    // from everything to everything (also from ISODate to Number for example)\n    if (this._options.type) {\n      var fields = Object.keys(this._options.type);\n      for (var i = 0, len = fields.length; i &lt; len; i++) {\n        var field = fields[i];\n        var value = this._options.type[field];\n        if (value == 'Date' || value == 'ISODate' || value == 'ASPDate') {\n          this._type[field] = 'Date';\n        } else {\n          this._type[field] = value;\n        }\n      }\n    }\n\n    // TODO: deprecated since version 1.1.1 (or 2.0.0?)\n    if (this._options.convert) {\n      throw new Error('Option \&quot;convert\&quot; is deprecated. Use \&quot;type\&quot; instead.');\n    }\n\n    this._subscribers = {}; // event subscribers\n\n    // add initial data when provided\n    if (data) {\n      this.add(data);\n    }\n\n    this.setOptions(options);\n  }\n\n  /**\n   * @param {Object} [options]   Available options:\n   *                             {Object} queue   Queue changes to the DataSet,\n   *                                              flush them all at once.\n   *                                              Queue options:\n   *                                              - {number} delay  Delay in ms, null by default\n   *                                              - {number} max    Maximum number of entries in the queue, Infinity by default\n   * @param options\n   */\n  DataSet.prototype.setOptions = function (options) {\n    if (options &amp;&amp; options.queue !== undefined) {\n      if (options.queue === false) {\n        // delete queue if loaded\n        if (this._queue) {\n          this._queue.destroy();\n          delete this._queue;\n        }\n      } else {\n        // create queue and update its options\n        if (!this._queue) {\n          this._queue = Queue.extend(this, {\n            replace: ['add', 'update', 'remove']\n          });\n        }\n\n        if (typeof options.queue === 'object') {\n          this._queue.setOptions(options.queue);\n        }\n      }\n    }\n  };\n\n  /**\n   * Subscribe to an event, add an event listener\n   * @param {String} event        Event name. Available events: 'put', 'update',\n   *                              'remove'\n   * @param {function} callback   Callback method. Called with three parameters:\n   *                                  {String} event\n   *                                  {Object | null} params\n   *                                  {String | Number} senderId\n   */\n  DataSet.prototype.on = function (event, callback) {\n    var subscribers = this._subscribers[event];\n    if (!subscribers) {\n      subscribers = [];\n      this._subscribers[event] = subscribers;\n    }\n\n    subscribers.push({\n      callback: callback\n    });\n  };\n\n  // TODO: remove this deprecated function some day (replaced with `on` since version 0.5, deprecated since v4.0)\n  DataSet.prototype.subscribe = function () {\n    throw new Error('DataSet.subscribe is deprecated. Use DataSet.on instead.');\n  };\n\n  /**\n   * Unsubscribe from an event, remove an event listener\n   * @param {String} event\n   * @param {function} callback\n   */\n  DataSet.prototype.off = function (event, callback) {\n    var subscribers = this._subscribers[event];\n    if (subscribers) {\n      this._subscribers[event] = subscribers.filter(function (listener) {\n        return listener.callback != callback;\n      });\n    }\n  };\n\n  // TODO: remove this deprecated function some day (replaced with `on` since version 0.5, deprecated since v4.0)\n  DataSet.prototype.unsubscribe = function () {\n    throw new Error('DataSet.unsubscribe is deprecated. Use DataSet.off instead.');\n  };\n\n  /**\n   * Trigger an event\n   * @param {String} event\n   * @param {Object | null} params\n   * @param {String} [senderId]       Optional id of the sender.\n   * @private\n   */\n  DataSet.prototype._trigger = function (event, params, senderId) {\n    if (event == '*') {\n      throw new Error('Cannot trigger event *');\n    }\n\n    var subscribers = [];\n    if (event in this._subscribers) {\n      subscribers = subscribers.concat(this._subscribers[event]);\n    }\n    if ('*' in this._subscribers) {\n      subscribers = subscribers.concat(this._subscribers['*']);\n    }\n\n    for (var i = 0, len = subscribers.length; i &lt; len; i++) {\n      var subscriber = subscribers[i];\n      if (subscriber.callback) {\n        subscriber.callback(event, params, senderId || null);\n      }\n    }\n  };\n\n  /**\n   * Add data.\n   * Adding an item will fail when there already is an item with the same id.\n   * @param {Object | Array} data\n   * @param {String} [senderId] Optional sender id\n   * @return {Array} addedIds      Array with the ids of the added items\n   */\n  DataSet.prototype.add = function (data, senderId) {\n    var addedIds = [],\n        id,\n        me = this;\n\n    if (Array.isArray(data)) {\n      // Array\n      for (var i = 0, len = data.length; i &lt; len; i++) {\n        id = me._addItem(data[i]);\n        addedIds.push(id);\n      }\n    } else if (data instanceof Object) {\n      // Single item\n      id = me._addItem(data);\n      addedIds.push(id);\n    } else {\n      throw new Error('Unknown dataType');\n    }\n\n    if (addedIds.length) {\n      this._trigger('add', { items: addedIds }, senderId);\n    }\n\n    return addedIds;\n  };\n\n  /**\n   * Update existing items. When an item does not exist, it will be created\n   * @param {Object | Array} data\n   * @param {String} [senderId] Optional sender id\n   * @return {Array} updatedIds     The ids of the added or updated items\n   */\n  DataSet.prototype.update = function (data, senderId) {\n    var addedIds = [];\n    var updatedIds = [];\n    var oldData = [];\n    var updatedData = [];\n    var me = this;\n    var fieldId = me._fieldId;\n\n    var addOrUpdate = function addOrUpdate(item) {\n      var id = item[fieldId];\n      if (me._data[id]) {\n        var oldItem = util.extend({}, me._data[id]);\n        // update item\n        id = me._updateItem(item);\n        updatedIds.push(id);\n        updatedData.push(item);\n        oldData.push(oldItem);\n      } else {\n        // add new item\n        id = me._addItem(item);\n        addedIds.push(id);\n      }\n    };\n\n    if (Array.isArray(data)) {\n      // Array\n      for (var i = 0, len = data.length; i &lt; len; i++) {\n        if (data[i] instanceof Object) {\n          addOrUpdate(data[i]);\n        } else {\n          console.warn('Ignoring input item, which is not an object at index ' + i);\n        }\n      }\n    } else if (data instanceof Object) {\n      // Single item\n      addOrUpdate(data);\n    } else {\n      throw new Error('Unknown dataType');\n    }\n\n    if (addedIds.length) {\n      this._trigger('add', { items: addedIds }, senderId);\n    }\n    if (updatedIds.length) {\n      var props = { items: updatedIds, oldData: oldData, data: updatedData };\n      // TODO: remove deprecated property 'data' some day\n      //Object.defineProperty(props, 'data', {\n      //  'get': (function() {\n      //    console.warn('Property data is deprecated. Use DataSet.get(ids) to retrieve the new data, use the oldData property on this object to get the old data');\n      //    return updatedData;\n      //  }).bind(this)\n      //});\n      this._trigger('update', props, senderId);\n    }\n\n    return addedIds.concat(updatedIds);\n  };\n\n  /**\n   * Get a data item or multiple items.\n   *\n   * Usage:\n   *\n   *     get()\n   *     get(options: Object)\n   *\n   *     get(id: Number | String)\n   *     get(id: Number | String, options: Object)\n   *\n   *     get(ids: Number[] | String[])\n   *     get(ids: Number[] | String[], options: Object)\n   *\n   * Where:\n   *\n   * {Number | String} id         The id of an item\n   * {Number[] | String{}} ids    An array with ids of items\n   * {Object} options             An Object with options. Available options:\n   * {String} [returnType]        Type of data to be returned.\n   *                              Can be 'Array' (default) or 'Object'.\n   * {Object.&lt;String, String&gt;} [type]\n   * {String[]} [fields]          field names to be returned\n   * {function} [filter]          filter items\n   * {String | function} [order]  Order the items by a field name or custom sort function.\n   * @throws Error\n   */\n  DataSet.prototype.get = function (args) {\n    var me = this;\n\n    // parse the arguments\n    var id, ids, options;\n    var firstType = util.getType(arguments[0]);\n    if (firstType == 'String' || firstType == 'Number') {\n      // get(id [, options])\n      id = arguments[0];\n      options = arguments[1];\n    } else if (firstType == 'Array') {\n      // get(ids [, options])\n      ids = arguments[0];\n      options = arguments[1];\n    } else {\n      // get([, options])\n      options = arguments[0];\n    }\n\n    // determine the return type\n    var returnType;\n    if (options &amp;&amp; options.returnType) {\n      var allowedValues = ['Array', 'Object'];\n      returnType = allowedValues.indexOf(options.returnType) == -1 ? 'Array' : options.returnType;\n    } else {\n      returnType = 'Array';\n    }\n\n    // build options\n    var type = options &amp;&amp; options.type || this._options.type;\n    var filter = options &amp;&amp; options.filter;\n    var items = [],\n        item,\n        itemIds,\n        itemId,\n        i,\n        len;\n\n    // convert items\n    if (id != undefined) {\n      // return a single item\n      item = me._getItem(id, type);\n      if (item &amp;&amp; filter &amp;&amp; !filter(item)) {\n        item = null;\n      }\n    } else if (ids != undefined) {\n      // return a subset of items\n      for (i = 0, len = ids.length; i &lt; len; i++) {\n        item = me._getItem(ids[i], type);\n        if (!filter || filter(item)) {\n          items.push(item);\n        }\n      }\n    } else {\n      // return all items\n      itemIds = Object.keys(this._data);\n      for (i = 0, len = itemIds.length; i &lt; len; i++) {\n        itemId = itemIds[i];\n        item = me._getItem(itemId, type);\n        if (!filter || filter(item)) {\n          items.push(item);\n        }\n      }\n    }\n\n    // order the results\n    if (options &amp;&amp; options.order &amp;&amp; id == undefined) {\n      this._sort(items, options.order);\n    }\n\n    // filter fields of the items\n    if (options &amp;&amp; options.fields) {\n      var fields = options.fields;\n      if (id != undefined) {\n        item = this._filterFields(item, fields);\n      } else {\n        for (i = 0, len = items.length; i &lt; len; i++) {\n          items[i] = this._filterFields(items[i], fields);\n        }\n      }\n    }\n\n    // return the results\n    if (returnType == 'Object') {\n      var result = {},\n          resultant;\n      for (i = 0, len = items.length; i &lt; len; i++) {\n        resultant = items[i];\n        result[resultant.id] = resultant;\n      }\n      return result;\n    } else {\n      if (id != undefined) {\n        // a single item\n        return item;\n      } else {\n        // just return our array\n        return items;\n      }\n    }\n  };\n\n  /**\n   * Get ids of all items or from a filtered set of items.\n   * @param {Object} [options]    An Object with options. Available options:\n   *                              {function} [filter] filter items\n   *                              {String | function} [order] Order the items by\n   *                                  a field name or custom sort function.\n   * @return {Array} ids\n   */\n  DataSet.prototype.getIds = function (options) {\n    var data = this._data,\n        filter = options &amp;&amp; options.filter,\n        order = options &amp;&amp; options.order,\n        type = options &amp;&amp; options.type || this._options.type,\n        itemIds = Object.keys(data),\n        i,\n        len,\n        id,\n        item,\n        items,\n        ids = [];\n\n    if (filter) {\n      // get filtered items\n      if (order) {\n        // create ordered list\n        items = [];\n        for (i = 0, len = itemIds.length; i &lt; len; i++) {\n          id = itemIds[i];\n          item = this._getItem(id, type);\n          if (filter(item)) {\n            items.push(item);\n          }\n        }\n\n        this._sort(items, order);\n\n        for (i = 0, len = items.length; i &lt; len; i++) {\n          ids.push(items[i][this._fieldId]);\n        }\n      } else {\n        // create unordered list\n        for (i = 0, len = itemIds.length; i &lt; len; i++) {\n          id = itemIds[i];\n          item = this._getItem(id, type);\n          if (filter(item)) {\n            ids.push(item[this._fieldId]);\n          }\n        }\n      }\n    } else {\n      // get all items\n      if (order) {\n        // create an ordered list\n        items = [];\n        for (i = 0, len = itemIds.length; i &lt; len; i++) {\n          id = itemIds[i];\n          items.push(data[id]);\n        }\n\n        this._sort(items, order);\n\n        for (i = 0, len = items.length; i &lt; len; i++) {\n          ids.push(items[i][this._fieldId]);\n        }\n      } else {\n        // create unordered list\n        for (i = 0, len = itemIds.length; i &lt; len; i++) {\n          id = itemIds[i];\n          item = data[id];\n          ids.push(item[this._fieldId]);\n        }\n      }\n    }\n\n    return ids;\n  };\n\n  /**\n   * Returns the DataSet itself. Is overwritten for example by the DataView,\n   * which returns the DataSet it is connected to instead.\n   */\n  DataSet.prototype.getDataSet = function () {\n    return this;\n  };\n\n  /**\n   * Execute a callback function for every item in the dataset.\n   * @param {function} callback\n   * @param {Object} [options]    Available options:\n   *                              {Object.&lt;String, String&gt;} [type]\n   *                              {String[]} [fields] filter fields\n   *                              {function} [filter] filter items\n   *                              {String | function} [order] Order the items by\n   *                                  a field name or custom sort function.\n   */\n  DataSet.prototype.forEach = function (callback, options) {\n    var filter = options &amp;&amp; options.filter,\n        type = options &amp;&amp; options.type || this._options.type,\n        data = this._data,\n        itemIds = Object.keys(data),\n        i,\n        len,\n        item,\n        id;\n\n    if (options &amp;&amp; options.order) {\n      // execute forEach on ordered list\n      var items = this.get(options);\n\n      for (i = 0, len = items.length; i &lt; len; i++) {\n        item = items[i];\n        id = item[this._fieldId];\n        callback(item, id);\n      }\n    } else {\n      // unordered\n      for (i = 0, len = itemIds.length; i &lt; len; i++) {\n        id = itemIds[i];\n        item = this._getItem(id, type);\n        if (!filter || filter(item)) {\n          callback(item, id);\n        }\n      }\n    }\n  };\n\n  /**\n   * Map every item in the dataset.\n   * @param {function} callback\n   * @param {Object} [options]    Available options:\n   *                              {Object.&lt;String, String&gt;} [type]\n   *                              {String[]} [fields] filter fields\n   *                              {function} [filter] filter items\n   *                              {String | function} [order] Order the items by\n   *                                  a field name or custom sort function.\n   * @return {Object[]} mappedItems\n   */\n  DataSet.prototype.map = function (callback, options) {\n    var filter = options &amp;&amp; options.filter,\n        type = options &amp;&amp; options.type || this._options.type,\n        mappedItems = [],\n        data = this._data,\n        itemIds = Object.keys(data),\n        i,\n        len,\n        id,\n        item;\n\n    // convert and filter items\n    for (i = 0, len = itemIds.length; i &lt; len; i++) {\n      id = itemIds[i];\n      item = this._getItem(id, type);\n      if (!filter || filter(item)) {\n        mappedItems.push(callback(item, id));\n      }\n    }\n\n    // order items\n    if (options &amp;&amp; options.order) {\n      this._sort(mappedItems, options.order);\n    }\n\n    return mappedItems;\n  };\n\n  /**\n   * Filter the fields of an item\n   * @param {Object | null} item\n   * @param {String[]} fields     Field names\n   * @return {Object | null} filteredItem or null if no item is provided\n   * @private\n   */\n  DataSet.prototype._filterFields = function (item, fields) {\n    if (!item) {\n      // item is null\n      return item;\n    }\n\n    var filteredItem = {},\n        itemFields = Object.keys(item),\n        len = itemFields.length,\n        i,\n        field;\n\n    if (Array.isArray(fields)) {\n      for (i = 0; i &lt; len; i++) {\n        field = itemFields[i];\n        if (fields.indexOf(field) != -1) {\n          filteredItem[field] = item[field];\n        }\n      }\n    } else {\n      for (i = 0; i &lt; len; i++) {\n        field = itemFields[i];\n        if (fields.hasOwnProperty(field)) {\n          filteredItem[fields[field]] = item[field];\n        }\n      }\n    }\n\n    return filteredItem;\n  };\n\n  /**\n   * Sort the provided array with items\n   * @param {Object[]} items\n   * @param {String | function} order      A field name or custom sort function.\n   * @private\n   */\n  DataSet.prototype._sort = function (items, order) {\n    if (util.isString(order)) {\n      // order by provided field name\n      var name = order; // field name\n      items.sort(function (a, b) {\n        var av = a[name];\n        var bv = b[name];\n        return av &gt; bv ? 1 : av &lt; bv ? -1 : 0;\n      });\n    } else if (typeof order === 'function') {\n      // order by sort function\n      items.sort(order);\n    }\n    // TODO: extend order by an Object {field:String, direction:String}\n    //       where direction can be 'asc' or 'desc'\n    else {\n        throw new TypeError('Order must be a function or a string');\n      }\n  };\n\n  /**\n   * Remove an object by pointer or by id\n   * @param {String | Number | Object | Array} id Object or id, or an array with\n   *                                              objects or ids to be removed\n   * @param {String} [senderId] Optional sender id\n   * @return {Array} removedIds\n   */\n  DataSet.prototype.remove = function (id, senderId) {\n    var removedIds = [],\n        i,\n        len,\n        removedId;\n\n    if (Array.isArray(id)) {\n      for (i = 0, len = id.length; i &lt; len; i++) {\n        removedId = this._remove(id[i]);\n        if (removedId != null) {\n          removedIds.push(removedId);\n        }\n      }\n    } else {\n      removedId = this._remove(id);\n      if (removedId != null) {\n        removedIds.push(removedId);\n      }\n    }\n\n    if (removedIds.length) {\n      this._trigger('remove', { items: removedIds }, senderId);\n    }\n\n    return removedIds;\n  };\n\n  /**\n   * Remove an item by its id\n   * @param {Number | String | Object} id   id or item\n   * @returns {Number | String | null} id\n   * @private\n   */\n  DataSet.prototype._remove = function (id) {\n    if (util.isNumber(id) || util.isString(id)) {\n      if (this._data[id]) {\n        delete this._data[id];\n        this.length--;\n        return id;\n      }\n    } else if (id instanceof Object) {\n      var itemId = id[this._fieldId];\n      if (itemId !== undefined &amp;&amp; this._data[itemId]) {\n        delete this._data[itemId];\n        this.length--;\n        return itemId;\n      }\n    }\n    return null;\n  };\n\n  /**\n   * Clear the data\n   * @param {String} [senderId] Optional sender id\n   * @return {Array} removedIds    The ids of all removed items\n   */\n  DataSet.prototype.clear = function (senderId) {\n    var ids = Object.keys(this._data);\n\n    this._data = {};\n    this.length = 0;\n\n    this._trigger('remove', { items: ids }, senderId);\n\n    return ids;\n  };\n\n  /**\n   * Find the item with maximum value of a specified field\n   * @param {String} field\n   * @return {Object | null} item  Item containing max value, or null if no items\n   */\n  DataSet.prototype.max = function (field) {\n    var data = this._data,\n        itemIds = Object.keys(data),\n        max = null,\n        maxField = null,\n        i,\n        len;\n\n    for (i = 0, len = itemIds.length; i &lt; len; i++) {\n      var id = itemIds[i];\n      var item = data[id];\n      var itemField = item[field];\n      if (itemField != null &amp;&amp; (!max || itemField &gt; maxField)) {\n        max = item;\n        maxField = itemField;\n      }\n    }\n\n    return max;\n  };\n\n  /**\n   * Find the item with minimum value of a specified field\n   * @param {String} field\n   * @return {Object | null} item  Item containing max value, or null if no items\n   */\n  DataSet.prototype.min = function (field) {\n    var data = this._data,\n        itemIds = Object.keys(data),\n        min = null,\n        minField = null,\n        i,\n        len;\n\n    for (i = 0, len = itemIds.length; i &lt; len; i++) {\n      var id = itemIds[i];\n      var item = data[id];\n      var itemField = item[field];\n      if (itemField != null &amp;&amp; (!min || itemField &lt; minField)) {\n        min = item;\n        minField = itemField;\n      }\n    }\n\n    return min;\n  };\n\n  /**\n   * Find all distinct values of a specified field\n   * @param {String} field\n   * @return {Array} values  Array containing all distinct values. If data items\n   *                         do not contain the specified field are ignored.\n   *                         The returned array is unordered.\n   */\n  DataSet.prototype.distinct = function (field) {\n    var data = this._data;\n    var itemIds = Object.keys(data);\n    var values = [];\n    var fieldType = this._options.type &amp;&amp; this._options.type[field] || null;\n    var count = 0;\n    var i, j, len;\n\n    for (i = 0, len = itemIds.length; i &lt; len; i++) {\n      var id = itemIds[i];\n      var item = data[id];\n      var value = item[field];\n      var exists = false;\n      for (j = 0; j &lt; count; j++) {\n        if (values[j] == value) {\n          exists = true;\n          break;\n        }\n      }\n      if (!exists &amp;&amp; value !== undefined) {\n        values[count] = value;\n        count++;\n      }\n    }\n\n    if (fieldType) {\n      for (i = 0, len = values.length; i &lt; len; i++) {\n        values[i] = util.convert(values[i], fieldType);\n      }\n    }\n\n    return values;\n  };\n\n  /**\n   * Add a single item. Will fail when an item with the same id already exists.\n   * @param {Object} item\n   * @return {String} id\n   * @private\n   */\n  DataSet.prototype._addItem = function (item) {\n    var id = item[this._fieldId];\n\n    if (id != undefined) {\n      // check whether this id is already taken\n      if (this._data[id]) {\n        // item already exists\n        throw new Error('Cannot add item: item with id ' + id + ' already exists');\n      }\n    } else {\n      // generate an id\n      id = util.randomUUID();\n      item[this._fieldId] = id;\n    }\n\n    var d = {},\n        fields = Object.keys(item),\n        i,\n        len;\n    for (i = 0, len = fields.length; i &lt; len; i++) {\n      var field = fields[i];\n      var fieldType = this._type[field]; // type may be undefined\n      d[field] = util.convert(item[field], fieldType);\n    }\n    this._data[id] = d;\n    this.length++;\n\n    return id;\n  };\n\n  /**\n   * Get an item. Fields can be converted to a specific type\n   * @param {String} id\n   * @param {Object.&lt;String, String&gt;} [types]  field types to convert\n   * @return {Object | null} item\n   * @private\n   */\n  DataSet.prototype._getItem = function (id, types) {\n    var field, value, i, len;\n\n    // get the item from the dataset\n    var raw = this._data[id];\n    if (!raw) {\n      return null;\n    }\n\n    // convert the items field types\n    var converted = {},\n        fields = Object.keys(raw);\n\n    if (types) {\n      for (i = 0, len = fields.length; i &lt; len; i++) {\n        field = fields[i];\n        value = raw[field];\n        converted[field] = util.convert(value, types[field]);\n      }\n    } else {\n      // no field types specified, no converting needed\n      for (i = 0, len = fields.length; i &lt; len; i++) {\n        field = fields[i];\n        value = raw[field];\n        converted[field] = value;\n      }\n    }\n    return converted;\n  };\n\n  /**\n   * Update a single item: merge with existing item.\n   * Will fail when the item has no id, or when there does not exist an item\n   * with the same id.\n   * @param {Object} item\n   * @return {String} id\n   * @private\n   */\n  DataSet.prototype._updateItem = function (item) {\n    var id = item[this._fieldId];\n    if (id == undefined) {\n      throw new Error('Cannot update item: item has no id (item: ' + JSON.stringify(item) + ')');\n    }\n    var d = this._data[id];\n    if (!d) {\n      // item doesn't exist\n      throw new Error('Cannot update item: no item with id ' + id + ' found');\n    }\n\n    // merge with current item\n    var fields = Object.keys(item);\n    for (var i = 0, len = fields.length; i &lt; len; i++) {\n      var field = fields[i];\n      var fieldType = this._type[field]; // type may be undefined\n      d[field] = util.convert(item[field], fieldType);\n    }\n\n    return id;\n  };\n\n  module.exports = DataSet;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n  /**\n   * A queue\n   * @param {Object} options\n   *            Available options:\n   *            - delay: number    When provided, the queue will be flushed\n   *                               automatically after an inactivity of this delay\n   *                               in milliseconds.\n   *                               Default value is null.\n   *            - max: number      When the queue exceeds the given maximum number\n   *                               of entries, the queue is flushed automatically.\n   *                               Default value of max is Infinity.\n   * @constructor\n   */\n  'use strict';\n\n  function Queue(options) {\n    // options\n    this.delay = null;\n    this.max = Infinity;\n\n    // properties\n    this._queue = [];\n    this._timeout = null;\n    this._extended = null;\n\n    this.setOptions(options);\n  }\n\n  /**\n   * Update the configuration of the queue\n   * @param {Object} options\n   *            Available options:\n   *            - delay: number    When provided, the queue will be flushed\n   *                               automatically after an inactivity of this delay\n   *                               in milliseconds.\n   *                               Default value is null.\n   *            - max: number      When the queue exceeds the given maximum number\n   *                               of entries, the queue is flushed automatically.\n   *                               Default value of max is Infinity.\n   * @param options\n   */\n  Queue.prototype.setOptions = function (options) {\n    if (options &amp;&amp; typeof options.delay !== 'undefined') {\n      this.delay = options.delay;\n    }\n    if (options &amp;&amp; typeof options.max !== 'undefined') {\n      this.max = options.max;\n    }\n\n    this._flushIfNeeded();\n  };\n\n  /**\n   * Extend an object with queuing functionality.\n   * The object will be extended with a function flush, and the methods provided\n   * in options.replace will be replaced with queued ones.\n   * @param {Object} object\n   * @param {Object} options\n   *            Available options:\n   *            - replace: Array.&lt;string&gt;\n   *                               A list with method names of the methods\n   *                               on the object to be replaced with queued ones.\n   *            - delay: number    When provided, the queue will be flushed\n   *                               automatically after an inactivity of this delay\n   *                               in milliseconds.\n   *                               Default value is null.\n   *            - max: number      When the queue exceeds the given maximum number\n   *                               of entries, the queue is flushed automatically.\n   *                               Default value of max is Infinity.\n   * @return {Queue} Returns the created queue\n   */\n  Queue.extend = function (object, options) {\n    var queue = new Queue(options);\n\n    if (object.flush !== undefined) {\n      throw new Error('Target object already has a property flush');\n    }\n    object.flush = function () {\n      queue.flush();\n    };\n\n    var methods = [{\n      name: 'flush',\n      original: undefined\n    }];\n\n    if (options &amp;&amp; options.replace) {\n      for (var i = 0; i &lt; options.replace.length; i++) {\n        var name = options.replace[i];\n        methods.push({\n          name: name,\n          original: object[name]\n        });\n        queue.replace(object, name);\n      }\n    }\n\n    queue._extended = {\n      object: object,\n      methods: methods\n    };\n\n    return queue;\n  };\n\n  /**\n   * Destroy the queue. The queue will first flush all queued actions, and in\n   * case it has extended an object, will restore the original object.\n   */\n  Queue.prototype.destroy = function () {\n    this.flush();\n\n    if (this._extended) {\n      var object = this._extended.object;\n      var methods = this._extended.methods;\n      for (var i = 0; i &lt; methods.length; i++) {\n        var method = methods[i];\n        if (method.original) {\n          object[method.name] = method.original;\n        } else {\n          delete object[method.name];\n        }\n      }\n      this._extended = null;\n    }\n  };\n\n  /**\n   * Replace a method on an object with a queued version\n   * @param {Object} object   Object having the method\n   * @param {string} method   The method name\n   */\n  Queue.prototype.replace = function (object, method) {\n    var me = this;\n    var original = object[method];\n    if (!original) {\n      throw new Error('Method ' + method + ' undefined');\n    }\n\n    object[method] = function () {\n      // create an Array with the arguments\n      var args = [];\n      for (var i = 0; i &lt; arguments.length; i++) {\n        args[i] = arguments[i];\n      }\n\n      // add this call to the queue\n      me.queue({\n        args: args,\n        fn: original,\n        context: this\n      });\n    };\n  };\n\n  /**\n   * Queue a call\n   * @param {function | {fn: function, args: Array} | {fn: function, args: Array, context: Object}} entry\n   */\n  Queue.prototype.queue = function (entry) {\n    if (typeof entry === 'function') {\n      this._queue.push({ fn: entry });\n    } else {\n      this._queue.push(entry);\n    }\n\n    this._flushIfNeeded();\n  };\n\n  /**\n   * Check whether the queue needs to be flushed\n   * @private\n   */\n  Queue.prototype._flushIfNeeded = function () {\n    // flush when the maximum is exceeded.\n    if (this._queue.length &gt; this.max) {\n      this.flush();\n    }\n\n    // flush after a period of inactivity when a delay is configured\n    clearTimeout(this._timeout);\n    if (this.queue.length &gt; 0 &amp;&amp; typeof this.delay === 'number') {\n      var me = this;\n      this._timeout = setTimeout(function () {\n        me.flush();\n      }, this.delay);\n    }\n  };\n\n  /**\n   * Flush all queued calls\n   */\n  Queue.prototype.flush = function () {\n    while (this._queue.length &gt; 0) {\n      var entry = this._queue.shift();\n      entry.fn.apply(entry.context || entry.fn, entry.args || []);\n    }\n  };\n\n  module.exports = Queue;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var util = __webpack_require__(1);\n  var DataSet = __webpack_require__(8);\n\n  /**\n   * DataView\n   *\n   * a dataview offers a filtered view on a dataset or an other dataview.\n   *\n   * @param {DataSet | DataView} data\n   * @param {Object} [options]   Available options: see method get\n   *\n   * @constructor DataView\n   */\n  function DataView(data, options) {\n    this._data = null;\n    this._ids = {}; // ids of the items currently in memory (just contains a boolean true)\n    this.length = 0; // number of items in the DataView\n    this._options = options || {};\n    this._fieldId = 'id'; // name of the field containing id\n    this._subscribers = {}; // event subscribers\n\n    var me = this;\n    this.listener = function () {\n      me._onEvent.apply(me, arguments);\n    };\n\n    this.setData(data);\n  }\n\n  // TODO: implement a function .config() to dynamically update things like configured filter\n  // and trigger changes accordingly\n\n  /**\n   * Set a data source for the view\n   * @param {DataSet | DataView} data\n   */\n  DataView.prototype.setData = function (data) {\n    var ids, id, i, len;\n\n    if (this._data) {\n      // unsubscribe from current dataset\n      if (this._data.off) {\n        this._data.off('*', this.listener);\n      }\n\n      // trigger a remove of all items in memory\n      ids = Object.keys(this._ids);\n      this._ids = {};\n      this.length = 0;\n      this._trigger('remove', { items: ids });\n    }\n\n    this._data = data;\n\n    if (this._data) {\n      // update fieldId\n      this._fieldId = this._options.fieldId || this._data &amp;&amp; this._data.options &amp;&amp; this._data.options.fieldId || 'id';\n\n      // trigger an add of all added items\n      ids = this._data.getIds({ filter: this._options &amp;&amp; this._options.filter });\n      for (i = 0, len = ids.length; i &lt; len; i++) {\n        id = ids[i];\n        this._ids[id] = true;\n      }\n      this.length = ids.length;\n      this._trigger('add', { items: ids });\n\n      // subscribe to new dataset\n      if (this._data.on) {\n        this._data.on('*', this.listener);\n      }\n    }\n  };\n\n  /**\n   * Refresh the DataView. Useful when the DataView has a filter function\n   * containing a variable parameter.\n   */\n  DataView.prototype.refresh = function () {\n    var id, i, len;\n    var ids = this._data.getIds({ filter: this._options &amp;&amp; this._options.filter });\n    var oldIds = Object.keys(this._ids);\n    var newIds = {};\n    var added = [];\n    var removed = [];\n\n    // check for additions\n    for (i = 0, len = ids.length; i &lt; len; i++) {\n      id = ids[i];\n      newIds[id] = true;\n      if (!this._ids[id]) {\n        added.push(id);\n        this._ids[id] = true;\n      }\n    }\n\n    // check for removals\n    for (i = 0, len = oldIds.length; i &lt; len; i++) {\n      id = oldIds[i];\n      if (!newIds[id]) {\n        removed.push(id);\n        delete this._ids[id];\n      }\n    }\n\n    this.length += added.length - removed.length;\n\n    // trigger events\n    if (added.length) {\n      this._trigger('add', { items: added });\n    }\n    if (removed.length) {\n      this._trigger('remove', { items: removed });\n    }\n  };\n\n  /**\n   * Get data from the data view\n   *\n   * Usage:\n   *\n   *     get()\n   *     get(options: Object)\n   *     get(options: Object, data: Array | DataTable)\n   *\n   *     get(id: Number)\n   *     get(id: Number, options: Object)\n   *     get(id: Number, options: Object, data: Array | DataTable)\n   *\n   *     get(ids: Number[])\n   *     get(ids: Number[], options: Object)\n   *     get(ids: Number[], options: Object, data: Array | DataTable)\n   *\n   * Where:\n   *\n   * {Number | String} id         The id of an item\n   * {Number[] | String{}} ids    An array with ids of items\n   * {Object} options             An Object with options. Available options:\n   *                              {String} [type] Type of data to be returned. Can\n   *                                              be 'DataTable' or 'Array' (default)\n   *                              {Object.&lt;String, String&gt;} [convert]\n   *                              {String[]} [fields] field names to be returned\n   *                              {function} [filter] filter items\n   *                              {String | function} [order] Order the items by\n   *                                  a field name or custom sort function.\n   * {Array | DataTable} [data]   If provided, items will be appended to this\n   *                              array or table. Required in case of Google\n   *                              DataTable.\n   * @param args\n   */\n  DataView.prototype.get = function (args) {\n    var me = this;\n\n    // parse the arguments\n    var ids, options, data;\n    var firstType = util.getType(arguments[0]);\n    if (firstType == 'String' || firstType == 'Number' || firstType == 'Array') {\n      // get(id(s) [, options] [, data])\n      ids = arguments[0]; // can be a single id or an array with ids\n      options = arguments[1];\n      data = arguments[2];\n    } else {\n      // get([, options] [, data])\n      options = arguments[0];\n      data = arguments[1];\n    }\n\n    // extend the options with the default options and provided options\n    var viewOptions = util.extend({}, this._options, options);\n\n    // create a combined filter method when needed\n    if (this._options.filter &amp;&amp; options &amp;&amp; options.filter) {\n      viewOptions.filter = function (item) {\n        return me._options.filter(item) &amp;&amp; options.filter(item);\n      };\n    }\n\n    // build up the call to the linked data set\n    var getArguments = [];\n    if (ids != undefined) {\n      getArguments.push(ids);\n    }\n    getArguments.push(viewOptions);\n    getArguments.push(data);\n\n    return this._data &amp;&amp; this._data.get.apply(this._data, getArguments);\n  };\n\n  /**\n   * Get ids of all items or from a filtered set of items.\n   * @param {Object} [options]    An Object with options. Available options:\n   *                              {function} [filter] filter items\n   *                              {String | function} [order] Order the items by\n   *                                  a field name or custom sort function.\n   * @return {Array} ids\n   */\n  DataView.prototype.getIds = function (options) {\n    var ids;\n\n    if (this._data) {\n      var defaultFilter = this._options.filter;\n      var filter;\n\n      if (options &amp;&amp; options.filter) {\n        if (defaultFilter) {\n          filter = function (item) {\n            return defaultFilter(item) &amp;&amp; options.filter(item);\n          };\n        } else {\n          filter = options.filter;\n        }\n      } else {\n        filter = defaultFilter;\n      }\n\n      ids = this._data.getIds({\n        filter: filter,\n        order: options &amp;&amp; options.order\n      });\n    } else {\n      ids = [];\n    }\n\n    return ids;\n  };\n\n  /**\n   * Map every item in the dataset.\n   * @param {function} callback\n   * @param {Object} [options]    Available options:\n   *                              {Object.&lt;String, String&gt;} [type]\n   *                              {String[]} [fields] filter fields\n   *                              {function} [filter] filter items\n   *                              {String | function} [order] Order the items by\n   *                                  a field name or custom sort function.\n   * @return {Object[]} mappedItems\n   */\n  DataView.prototype.map = function (callback, options) {\n    var mappedItems = [];\n    if (this._data) {\n      var defaultFilter = this._options.filter;\n      var filter;\n\n      if (options &amp;&amp; options.filter) {\n        if (defaultFilter) {\n          filter = function (item) {\n            return defaultFilter(item) &amp;&amp; options.filter(item);\n          };\n        } else {\n          filter = options.filter;\n        }\n      } else {\n        filter = defaultFilter;\n      }\n\n      mappedItems = this._data.map(callback, {\n        filter: filter,\n        order: options &amp;&amp; options.order\n      });\n    } else {\n      mappedItems = [];\n    }\n\n    return mappedItems;\n  };\n\n  /**\n   * Get the DataSet to which this DataView is connected. In case there is a chain\n   * of multiple DataViews, the root DataSet of this chain is returned.\n   * @return {DataSet} dataSet\n   */\n  DataView.prototype.getDataSet = function () {\n    var dataSet = this;\n    while (dataSet instanceof DataView) {\n      dataSet = dataSet._data;\n    }\n    return dataSet || null;\n  };\n\n  /**\n   * Event listener. Will propagate all events from the connected data set to\n   * the subscribers of the DataView, but will filter the items and only trigger\n   * when there are changes in the filtered data set.\n   * @param {String} event\n   * @param {Object | null} params\n   * @param {String} senderId\n   * @private\n   */\n  DataView.prototype._onEvent = function (event, params, senderId) {\n    var i, len, id, item;\n    var ids = params &amp;&amp; params.items;\n    var data = this._data;\n    var updatedData = [];\n    var added = [];\n    var updated = [];\n    var removed = [];\n\n    if (ids &amp;&amp; data) {\n      switch (event) {\n        case 'add':\n          // filter the ids of the added items\n          for (i = 0, len = ids.length; i &lt; len; i++) {\n            id = ids[i];\n            item = this.get(id);\n            if (item) {\n              this._ids[id] = true;\n              added.push(id);\n            }\n          }\n\n          break;\n\n        case 'update':\n          // determine the event from the views viewpoint: an updated\n          // item can be added, updated, or removed from this view.\n          for (i = 0, len = ids.length; i &lt; len; i++) {\n            id = ids[i];\n            item = this.get(id);\n\n            if (item) {\n              if (this._ids[id]) {\n                updated.push(id);\n                updatedData.push(params.data[i]);\n              } else {\n                this._ids[id] = true;\n                added.push(id);\n              }\n            } else {\n              if (this._ids[id]) {\n                delete this._ids[id];\n                removed.push(id);\n              } else {\n                // nothing interesting for me :-(\n              }\n            }\n          }\n\n          break;\n\n        case 'remove':\n          // filter the ids of the removed items\n          for (i = 0, len = ids.length; i &lt; len; i++) {\n            id = ids[i];\n            if (this._ids[id]) {\n              delete this._ids[id];\n              removed.push(id);\n            }\n          }\n\n          break;\n      }\n\n      this.length += added.length - removed.length;\n\n      if (added.length) {\n        this._trigger('add', { items: added }, senderId);\n      }\n      if (updated.length) {\n        this._trigger('update', { items: updated, data: updatedData }, senderId);\n      }\n      if (removed.length) {\n        this._trigger('remove', { items: removed }, senderId);\n      }\n    }\n  };\n\n  // copy subscription functionality from DataSet\n  DataView.prototype.on = DataSet.prototype.on;\n  DataView.prototype.off = DataSet.prototype.off;\n  DataView.prototype._trigger = DataSet.prototype._trigger;\n\n  // TODO: make these functions deprecated (replaced with `on` and `off` since version 0.5)\n  DataView.prototype.subscribe = DataView.prototype.on;\n  DataView.prototype.unsubscribe = DataView.prototype.off;\n\n  module.exports = DataView;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var Emitter = __webpack_require__(12);\n  var DataSet = __webpack_require__(8);\n  var DataView = __webpack_require__(10);\n  var util = __webpack_require__(1);\n  var Point3d = __webpack_require__(13);\n  var Point2d = __webpack_require__(14);\n  var Camera = __webpack_require__(15);\n  var Filter = __webpack_require__(16);\n  var Slider = __webpack_require__(17);\n  var StepNumber = __webpack_require__(18);\n\n  /**\n   * @constructor Graph3d\n   * Graph3d displays data in 3d.\n   *\n   * Graph3d is developed in javascript as a Google Visualization Chart.\n   *\n   * @param {Element} container   The DOM element in which the Graph3d will\n   *                              be created. Normally a div element.\n   * @param {DataSet | DataView | Array} [data]\n   * @param {Object} [options]\n   */\n  function Graph3d(container, data, options) {\n    if (!(this instanceof Graph3d)) {\n      throw new SyntaxError('Constructor must be called with the new operator');\n    }\n\n    // create variables and set default values\n    this.containerElement = container;\n    this.width = '400px';\n    this.height = '400px';\n    this.margin = 10; // px\n    this.defaultXCenter = '55%';\n    this.defaultYCenter = '50%';\n\n    this.xLabel = 'x';\n    this.yLabel = 'y';\n    this.zLabel = 'z';\n\n    var passValueFn = function passValueFn(v) {\n      return v;\n    };\n    this.xValueLabel = passValueFn;\n    this.yValueLabel = passValueFn;\n    this.zValueLabel = passValueFn;\n\n    this.filterLabel = 'time';\n    this.legendLabel = 'value';\n\n    this.style = Graph3d.STYLE.DOT;\n    this.showPerspective = true;\n    this.showGrid = true;\n    this.keepAspectRatio = true;\n    this.showShadow = false;\n    this.showGrayBottom = false; // TODO: this does not work correctly\n    this.showTooltip = false;\n    this.verticalRatio = 0.5; // 0.1 to 1.0, where 1.0 results in a 'cube'\n\n    this.animationInterval = 1000; // milliseconds\n    this.animationPreload = false;\n\n    this.camera = new Camera();\n    this.camera.setArmRotation(1.0, 0.5);\n    this.camera.setArmLength(1.7);\n    this.eye = new Point3d(0, 0, -1); // TODO: set eye.z about 3/4 of the width of the window?\n\n    this.dataTable = null; // The original data table\n    this.dataPoints = null; // The table with point objects\n\n    // the column indexes\n    this.colX = undefined;\n    this.colY = undefined;\n    this.colZ = undefined;\n    this.colValue = undefined;\n    this.colFilter = undefined;\n\n    this.xMin = 0;\n    this.xStep = undefined; // auto by default\n    this.xMax = 1;\n    this.yMin = 0;\n    this.yStep = undefined; // auto by default\n    this.yMax = 1;\n    this.zMin = 0;\n    this.zStep = undefined; // auto by default\n    this.zMax = 1;\n    this.valueMin = 0;\n    this.valueMax = 1;\n    this.xBarWidth = 1;\n    this.yBarWidth = 1;\n    // TODO: customize axis range\n\n    // colors\n    this.axisColor = '#4D4D4D';\n    this.gridColor = '#D3D3D3';\n    this.dataColor = {\n      fill: '#7DC1FF',\n      stroke: '#3267D2',\n      strokeWidth: 1 // px\n    };\n\n    // create a frame and canvas\n    this.create();\n\n    // apply options (also when undefined)\n    this.setOptions(options);\n\n    // apply data\n    if (data) {\n      this.setData(data);\n    }\n  }\n\n  // Extend Graph3d with an Emitter mixin\n  Emitter(Graph3d.prototype);\n\n  /**\n   * Calculate the scaling values, dependent on the range in x, y, and z direction\n   */\n  Graph3d.prototype._setScale = function () {\n    this.scale = new Point3d(1 / (this.xMax - this.xMin), 1 / (this.yMax - this.yMin), 1 / (this.zMax - this.zMin));\n\n    // keep aspect ration between x and y scale if desired\n    if (this.keepAspectRatio) {\n      if (this.scale.x &lt; this.scale.y) {\n        //noinspection JSSuspiciousNameCombination\n        this.scale.y = this.scale.x;\n      } else {\n        //noinspection JSSuspiciousNameCombination\n        this.scale.x = this.scale.y;\n      }\n    }\n\n    // scale the vertical axis\n    this.scale.z *= this.verticalRatio;\n    // TODO: can this be automated? verticalRatio?\n\n    // determine scale for (optional) value\n    this.scale.value = 1 / (this.valueMax - this.valueMin);\n\n    // position the camera arm\n    var xCenter = (this.xMax + this.xMin) / 2 * this.scale.x;\n    var yCenter = (this.yMax + this.yMin) / 2 * this.scale.y;\n    var zCenter = (this.zMax + this.zMin) / 2 * this.scale.z;\n    this.camera.setArmLocation(xCenter, yCenter, zCenter);\n  };\n\n  /**\n   * Convert a 3D location to a 2D location on screen\n   * http://en.wikipedia.org/wiki/3D_projection\n   * @param {Point3d} point3d   A 3D point with parameters x, y, z\n   * @return {Point2d} point2d  A 2D point with parameters x, y\n   */\n  Graph3d.prototype._convert3Dto2D = function (point3d) {\n    var translation = this._convertPointToTranslation(point3d);\n    return this._convertTranslationToScreen(translation);\n  };\n\n  /**\n   * Convert a 3D location its translation seen from the camera\n   * http://en.wikipedia.org/wiki/3D_projection\n   * @param {Point3d} point3d    A 3D point with parameters x, y, z\n   * @return {Point3d} translation A 3D point with parameters x, y, z This is\n   *                   the translation of the point, seen from the\n   *                   camera\n   */\n  Graph3d.prototype._convertPointToTranslation = function (point3d) {\n    var ax = point3d.x * this.scale.x,\n        ay = point3d.y * this.scale.y,\n        az = point3d.z * this.scale.z,\n        cx = this.camera.getCameraLocation().x,\n        cy = this.camera.getCameraLocation().y,\n        cz = this.camera.getCameraLocation().z,\n\n    // calculate angles\n    sinTx = Math.sin(this.camera.getCameraRotation().x),\n        cosTx = Math.cos(this.camera.getCameraRotation().x),\n        sinTy = Math.sin(this.camera.getCameraRotation().y),\n        cosTy = Math.cos(this.camera.getCameraRotation().y),\n        sinTz = Math.sin(this.camera.getCameraRotation().z),\n        cosTz = Math.cos(this.camera.getCameraRotation().z),\n\n    // calculate translation\n    dx = cosTy * (sinTz * (ay - cy) + cosTz * (ax - cx)) - sinTy * (az - cz),\n        dy = sinTx * (cosTy * (az - cz) + sinTy * (sinTz * (ay - cy) + cosTz * (ax - cx))) + cosTx * (cosTz * (ay - cy) - sinTz * (ax - cx)),\n        dz = cosTx * (cosTy * (az - cz) + sinTy * (sinTz * (ay - cy) + cosTz * (ax - cx))) - sinTx * (cosTz * (ay - cy) - sinTz * (ax - cx));\n\n    return new Point3d(dx, dy, dz);\n  };\n\n  /**\n   * Convert a translation point to a point on the screen\n   * @param {Point3d} translation   A 3D point with parameters x, y, z This is\n   *                    the translation of the point, seen from the\n   *                    camera\n   * @return {Point2d} point2d    A 2D point with parameters x, y\n   */\n  Graph3d.prototype._convertTranslationToScreen = function (translation) {\n    var ex = this.eye.x,\n        ey = this.eye.y,\n        ez = this.eye.z,\n        dx = translation.x,\n        dy = translation.y,\n        dz = translation.z;\n\n    // calculate position on screen from translation\n    var bx;\n    var by;\n    if (this.showPerspective) {\n      bx = (dx - ex) * (ez / dz);\n      by = (dy - ey) * (ez / dz);\n    } else {\n      bx = dx * -(ez / this.camera.getArmLength());\n      by = dy * -(ez / this.camera.getArmLength());\n    }\n\n    // shift and scale the point to the center of the screen\n    // use the width of the graph to scale both horizontally and vertically.\n    return new Point2d(this.xcenter + bx * this.frame.canvas.clientWidth, this.ycenter - by * this.frame.canvas.clientWidth);\n  };\n\n  /**\n   * Set the background styling for the graph\n   * @param {string | {fill: string, stroke: string, strokeWidth: string}} backgroundColor\n   */\n  Graph3d.prototype._setBackgroundColor = function (backgroundColor) {\n    var fill = 'white';\n    var stroke = 'gray';\n    var strokeWidth = 1;\n\n    if (typeof backgroundColor === 'string') {\n      fill = backgroundColor;\n      stroke = 'none';\n      strokeWidth = 0;\n    } else if (typeof backgroundColor === 'object') {\n      if (backgroundColor.fill !== undefined) fill = backgroundColor.fill;\n      if (backgroundColor.stroke !== undefined) stroke = backgroundColor.stroke;\n      if (backgroundColor.strokeWidth !== undefined) strokeWidth = backgroundColor.strokeWidth;\n    } else if (backgroundColor === undefined) {\n      // use use defaults\n    } else {\n        throw 'Unsupported type of backgroundColor';\n      }\n\n    this.frame.style.backgroundColor = fill;\n    this.frame.style.borderColor = stroke;\n    this.frame.style.borderWidth = strokeWidth + 'px';\n    this.frame.style.borderStyle = 'solid';\n  };\n\n  /// enumerate the available styles\n  Graph3d.STYLE = {\n    BAR: 0,\n    BARCOLOR: 1,\n    BARSIZE: 2,\n    DOT: 3,\n    DOTLINE: 4,\n    DOTCOLOR: 5,\n    DOTSIZE: 6,\n    GRID: 7,\n    LINE: 8,\n    SURFACE: 9\n  };\n\n  /**\n   * Retrieve the style index from given styleName\n   * @param {string} styleName  Style name such as 'dot', 'grid', 'dot-line'\n   * @return {Number} styleNumber Enumeration value representing the style, or -1\n   *                when not found\n   */\n  Graph3d.prototype._getStyleNumber = function (styleName) {\n    switch (styleName) {\n      case 'dot':\n        return Graph3d.STYLE.DOT;\n      case 'dot-line':\n        return Graph3d.STYLE.DOTLINE;\n      case 'dot-color':\n        return Graph3d.STYLE.DOTCOLOR;\n      case 'dot-size':\n        return Graph3d.STYLE.DOTSIZE;\n      case 'line':\n        return Graph3d.STYLE.LINE;\n      case 'grid':\n        return Graph3d.STYLE.GRID;\n      case 'surface':\n        return Graph3d.STYLE.SURFACE;\n      case 'bar':\n        return Graph3d.STYLE.BAR;\n      case 'bar-color':\n        return Graph3d.STYLE.BARCOLOR;\n      case 'bar-size':\n        return Graph3d.STYLE.BARSIZE;\n    }\n\n    return -1;\n  };\n\n  /**\n   * Determine the indexes of the data columns, based on the given style and data\n   * @param {DataSet} data\n   * @param {Number}  style\n   */\n  Graph3d.prototype._determineColumnIndexes = function (data, style) {\n    if (this.style === Graph3d.STYLE.DOT || this.style === Graph3d.STYLE.DOTLINE || this.style === Graph3d.STYLE.LINE || this.style === Graph3d.STYLE.GRID || this.style === Graph3d.STYLE.SURFACE || this.style === Graph3d.STYLE.BAR) {\n      // 3 columns expected, and optionally a 4th with filter values\n      this.colX = 0;\n      this.colY = 1;\n      this.colZ = 2;\n      this.colValue = undefined;\n\n      if (data.getNumberOfColumns() &gt; 3) {\n        this.colFilter = 3;\n      }\n    } else if (this.style === Graph3d.STYLE.DOTCOLOR || this.style === Graph3d.STYLE.DOTSIZE || this.style === Graph3d.STYLE.BARCOLOR || this.style === Graph3d.STYLE.BARSIZE) {\n      // 4 columns expected, and optionally a 5th with filter values\n      this.colX = 0;\n      this.colY = 1;\n      this.colZ = 2;\n      this.colValue = 3;\n\n      if (data.getNumberOfColumns() &gt; 4) {\n        this.colFilter = 4;\n      }\n    } else {\n      throw 'Unknown style \&quot;' + this.style + '\&quot;';\n    }\n  };\n\n  Graph3d.prototype.getNumberOfRows = function (data) {\n    return data.length;\n  };\n\n  Graph3d.prototype.getNumberOfColumns = function (data) {\n    var counter = 0;\n    for (var column in data[0]) {\n      if (data[0].hasOwnProperty(column)) {\n        counter++;\n      }\n    }\n    return counter;\n  };\n\n  Graph3d.prototype.getDistinctValues = function (data, column) {\n    var distinctValues = [];\n    for (var i = 0; i &lt; data.length; i++) {\n      if (distinctValues.indexOf(data[i][column]) == -1) {\n        distinctValues.push(data[i][column]);\n      }\n    }\n    return distinctValues;\n  };\n\n  Graph3d.prototype.getColumnRange = function (data, column) {\n    var minMax = { min: data[0][column], max: data[0][column] };\n    for (var i = 0; i &lt; data.length; i++) {\n      if (minMax.min &gt; data[i][column]) {\n        minMax.min = data[i][column];\n      }\n      if (minMax.max &lt; data[i][column]) {\n        minMax.max = data[i][column];\n      }\n    }\n    return minMax;\n  };\n\n  /**\n   * Initialize the data from the data table. Calculate minimum and maximum values\n   * and column index values\n   * @param {Array | DataSet | DataView} rawData   The data containing the items for the Graph.\n   * @param {Number}     style   Style Number\n   */\n  Graph3d.prototype._dataInitialize = function (rawData, style) {\n    var me = this;\n\n    // unsubscribe from the dataTable\n    if (this.dataSet) {\n      this.dataSet.off('*', this._onChange);\n    }\n\n    if (rawData === undefined) return;\n\n    if (Array.isArray(rawData)) {\n      rawData = new DataSet(rawData);\n    }\n\n    var data;\n    if (rawData instanceof DataSet || rawData instanceof DataView) {\n      data = rawData.get();\n    } else {\n      throw new Error('Array, DataSet, or DataView expected');\n    }\n\n    if (data.length == 0) return;\n\n    this.dataSet = rawData;\n    this.dataTable = data;\n\n    // subscribe to changes in the dataset\n    this._onChange = function () {\n      me.setData(me.dataSet);\n    };\n    this.dataSet.on('*', this._onChange);\n\n    // _determineColumnIndexes\n    // getNumberOfRows (points)\n    // getNumberOfColumns (x,y,z,v,t,t1,t2...)\n    // getDistinctValues (unique values?)\n    // getColumnRange\n\n    // determine the location of x,y,z,value,filter columns\n    this.colX = 'x';\n    this.colY = 'y';\n    this.colZ = 'z';\n    this.colValue = 'style';\n    this.colFilter = 'filter';\n\n    // check if a filter column is provided\n    if (data[0].hasOwnProperty('filter')) {\n      if (this.dataFilter === undefined) {\n        this.dataFilter = new Filter(rawData, this.colFilter, this);\n        this.dataFilter.setOnLoadCallback(function () {\n          me.redraw();\n        });\n      }\n    }\n\n    var withBars = this.style == Graph3d.STYLE.BAR || this.style == Graph3d.STYLE.BARCOLOR || this.style == Graph3d.STYLE.BARSIZE;\n\n    // determine barWidth from data\n    if (withBars) {\n      if (this.defaultXBarWidth !== undefined) {\n        this.xBarWidth = this.defaultXBarWidth;\n      } else {\n        var dataX = this.getDistinctValues(data, this.colX);\n        this.xBarWidth = dataX[1] - dataX[0] || 1;\n      }\n\n      if (this.defaultYBarWidth !== undefined) {\n        this.yBarWidth = this.defaultYBarWidth;\n      } else {\n        var dataY = this.getDistinctValues(data, this.colY);\n        this.yBarWidth = dataY[1] - dataY[0] || 1;\n      }\n    }\n\n    // calculate minimums and maximums\n    var xRange = this.getColumnRange(data, this.colX);\n    if (withBars) {\n      xRange.min -= this.xBarWidth / 2;\n      xRange.max += this.xBarWidth / 2;\n    }\n    this.xMin = this.defaultXMin !== undefined ? this.defaultXMin : xRange.min;\n    this.xMax = this.defaultXMax !== undefined ? this.defaultXMax : xRange.max;\n    if (this.xMax &lt;= this.xMin) this.xMax = this.xMin + 1;\n    this.xStep = this.defaultXStep !== undefined ? this.defaultXStep : (this.xMax - this.xMin) / 5;\n\n    var yRange = this.getColumnRange(data, this.colY);\n    if (withBars) {\n      yRange.min -= this.yBarWidth / 2;\n      yRange.max += this.yBarWidth / 2;\n    }\n    this.yMin = this.defaultYMin !== undefined ? this.defaultYMin : yRange.min;\n    this.yMax = this.defaultYMax !== undefined ? this.defaultYMax : yRange.max;\n    if (this.yMax &lt;= this.yMin) this.yMax = this.yMin + 1;\n    this.yStep = this.defaultYStep !== undefined ? this.defaultYStep : (this.yMax - this.yMin) / 5;\n\n    var zRange = this.getColumnRange(data, this.colZ);\n    this.zMin = this.defaultZMin !== undefined ? this.defaultZMin : zRange.min;\n    this.zMax = this.defaultZMax !== undefined ? this.defaultZMax : zRange.max;\n    if (this.zMax &lt;= this.zMin) this.zMax = this.zMin + 1;\n    this.zStep = this.defaultZStep !== undefined ? this.defaultZStep : (this.zMax - this.zMin) / 5;\n\n    if (this.colValue !== undefined) {\n      var valueRange = this.getColumnRange(data, this.colValue);\n      this.valueMin = this.defaultValueMin !== undefined ? this.defaultValueMin : valueRange.min;\n      this.valueMax = this.defaultValueMax !== undefined ? this.defaultValueMax : valueRange.max;\n      if (this.valueMax &lt;= this.valueMin) this.valueMax = this.valueMin + 1;\n    }\n\n    // set the scale dependent on the ranges.\n    this._setScale();\n  };\n\n  /**\n   * Filter the data based on the current filter\n   * @param {Array} data\n   * @return {Array} dataPoints   Array with point objects which can be drawn on screen\n   */\n  Graph3d.prototype._getDataPoints = function (data) {\n    // TODO: store the created matrix dataPoints in the filters instead of reloading each time\n    var x, y, i, z, obj, point;\n\n    var dataPoints = [];\n\n    if (this.style === Graph3d.STYLE.GRID || this.style === Graph3d.STYLE.SURFACE) {\n      // copy all values from the google data table to a matrix\n      // the provided values are supposed to form a grid of (x,y) positions\n\n      // create two lists with all present x and y values\n      var dataX = [];\n      var dataY = [];\n      for (i = 0; i &lt; this.getNumberOfRows(data); i++) {\n        x = data[i][this.colX] || 0;\n        y = data[i][this.colY] || 0;\n\n        if (dataX.indexOf(x) === -1) {\n          dataX.push(x);\n        }\n        if (dataY.indexOf(y) === -1) {\n          dataY.push(y);\n        }\n      }\n\n      var sortNumber = function sortNumber(a, b) {\n        return a - b;\n      };\n      dataX.sort(sortNumber);\n      dataY.sort(sortNumber);\n\n      // create a grid, a 2d matrix, with all values.\n      var dataMatrix = []; // temporary data matrix\n      for (i = 0; i &lt; data.length; i++) {\n        x = data[i][this.colX] || 0;\n        y = data[i][this.colY] || 0;\n        z = data[i][this.colZ] || 0;\n\n        var xIndex = dataX.indexOf(x); // TODO: implement Array().indexOf() for Internet Explorer\n        var yIndex = dataY.indexOf(y);\n\n        if (dataMatrix[xIndex] === undefined) {\n          dataMatrix[xIndex] = [];\n        }\n\n        var point3d = new Point3d();\n        point3d.x = x;\n        point3d.y = y;\n        point3d.z = z;\n\n        obj = {};\n        obj.point = point3d;\n        obj.trans = undefined;\n        obj.screen = undefined;\n        obj.bottom = new Point3d(x, y, this.zMin);\n\n        dataMatrix[xIndex][yIndex] = obj;\n\n        dataPoints.push(obj);\n      }\n\n      // fill in the pointers to the neighbors.\n      for (x = 0; x &lt; dataMatrix.length; x++) {\n        for (y = 0; y &lt; dataMatrix[x].length; y++) {\n          if (dataMatrix[x][y]) {\n            dataMatrix[x][y].pointRight = x &lt; dataMatrix.length - 1 ? dataMatrix[x + 1][y] : undefined;\n            dataMatrix[x][y].pointTop = y &lt; dataMatrix[x].length - 1 ? dataMatrix[x][y + 1] : undefined;\n            dataMatrix[x][y].pointCross = x &lt; dataMatrix.length - 1 &amp;&amp; y &lt; dataMatrix[x].length - 1 ? dataMatrix[x + 1][y + 1] : undefined;\n          }\n        }\n      }\n    } else {\n      // 'dot', 'dot-line', etc.\n      // copy all values from the google data table to a list with Point3d objects\n      for (i = 0; i &lt; data.length; i++) {\n        point = new Point3d();\n        point.x = data[i][this.colX] || 0;\n        point.y = data[i][this.colY] || 0;\n        point.z = data[i][this.colZ] || 0;\n\n        if (this.colValue !== undefined) {\n          point.value = data[i][this.colValue] || 0;\n        }\n\n        obj = {};\n        obj.point = point;\n        obj.bottom = new Point3d(point.x, point.y, this.zMin);\n        obj.trans = undefined;\n        obj.screen = undefined;\n\n        dataPoints.push(obj);\n      }\n    }\n\n    return dataPoints;\n  };\n\n  /**\n   * Create the main frame for the Graph3d.\n   * This function is executed once when a Graph3d object is created. The frame\n   * contains a canvas, and this canvas contains all objects like the axis and\n   * nodes.\n   */\n  Graph3d.prototype.create = function () {\n    // remove all elements from the container element.\n    while (this.containerElement.hasChildNodes()) {\n      this.containerElement.removeChild(this.containerElement.firstChild);\n    }\n\n    this.frame = document.createElement('div');\n    this.frame.style.position = 'relative';\n    this.frame.style.overflow = 'hidden';\n\n    // create the graph canvas (HTML canvas element)\n    this.frame.canvas = document.createElement('canvas');\n    this.frame.canvas.style.position = 'relative';\n    this.frame.appendChild(this.frame.canvas);\n    //if (!this.frame.canvas.getContext) {\n    {\n      var noCanvas = document.createElement('DIV');\n      noCanvas.style.color = 'red';\n      noCanvas.style.fontWeight = 'bold';\n      noCanvas.style.padding = '10px';\n      noCanvas.innerHTML = 'Error: your browser does not support HTML canvas';\n      this.frame.canvas.appendChild(noCanvas);\n    }\n\n    this.frame.filter = document.createElement('div');\n    this.frame.filter.style.position = 'absolute';\n    this.frame.filter.style.bottom = '0px';\n    this.frame.filter.style.left = '0px';\n    this.frame.filter.style.width = '100%';\n    this.frame.appendChild(this.frame.filter);\n\n    // add event listeners to handle moving and zooming the contents\n    var me = this;\n    var onmousedown = function onmousedown(event) {\n      me._onMouseDown(event);\n    };\n    var ontouchstart = function ontouchstart(event) {\n      me._onTouchStart(event);\n    };\n    var onmousewheel = function onmousewheel(event) {\n      me._onWheel(event);\n    };\n    var ontooltip = function ontooltip(event) {\n      me._onTooltip(event);\n    };\n    // TODO: these events are never cleaned up... can give a 'memory leakage'\n\n    util.addEventListener(this.frame.canvas, 'keydown', onkeydown);\n    util.addEventListener(this.frame.canvas, 'mousedown', onmousedown);\n    util.addEventListener(this.frame.canvas, 'touchstart', ontouchstart);\n    util.addEventListener(this.frame.canvas, 'mousewheel', onmousewheel);\n    util.addEventListener(this.frame.canvas, 'mousemove', ontooltip);\n\n    // add the new graph to the container element\n    this.containerElement.appendChild(this.frame);\n  };\n\n  /**\n   * Set a new size for the graph\n   * @param {string} width   Width in pixels or percentage (for example '800px'\n   *             or '50%')\n   * @param {string} height  Height in pixels or percentage  (for example '400px'\n   *             or '30%')\n   */\n  Graph3d.prototype.setSize = function (width, height) {\n    this.frame.style.width = width;\n    this.frame.style.height = height;\n\n    this._resizeCanvas();\n  };\n\n  /**\n   * Resize the canvas to the current size of the frame\n   */\n  Graph3d.prototype._resizeCanvas = function () {\n    this.frame.canvas.style.width = '100%';\n    this.frame.canvas.style.height = '100%';\n\n    this.frame.canvas.width = this.frame.canvas.clientWidth;\n    this.frame.canvas.height = this.frame.canvas.clientHeight;\n\n    // adjust with for margin\n    this.frame.filter.style.width = this.frame.canvas.clientWidth - 2 * 10 + 'px';\n  };\n\n  /**\n   * Start animation\n   */\n  Graph3d.prototype.animationStart = function () {\n    if (!this.frame.filter || !this.frame.filter.slider) throw 'No animation available';\n\n    this.frame.filter.slider.play();\n  };\n\n  /**\n   * Stop animation\n   */\n  Graph3d.prototype.animationStop = function () {\n    if (!this.frame.filter || !this.frame.filter.slider) return;\n\n    this.frame.filter.slider.stop();\n  };\n\n  /**\n   * Resize the center position based on the current values in this.defaultXCenter\n   * and this.defaultYCenter (which are strings with a percentage or a value\n   * in pixels). The center positions are the variables this.xCenter\n   * and this.yCenter\n   */\n  Graph3d.prototype._resizeCenter = function () {\n    // calculate the horizontal center position\n    if (this.defaultXCenter.charAt(this.defaultXCenter.length - 1) === '%') {\n      this.xcenter = parseFloat(this.defaultXCenter) / 100 * this.frame.canvas.clientWidth;\n    } else {\n      this.xcenter = parseFloat(this.defaultXCenter); // supposed to be in px\n    }\n\n    // calculate the vertical center position\n    if (this.defaultYCenter.charAt(this.defaultYCenter.length - 1) === '%') {\n      this.ycenter = parseFloat(this.defaultYCenter) / 100 * (this.frame.canvas.clientHeight - this.frame.filter.clientHeight);\n    } else {\n      this.ycenter = parseFloat(this.defaultYCenter); // supposed to be in px\n    }\n  };\n\n  /**\n   * Set the rotation and distance of the camera\n   * @param {Object} pos   An object with the camera position. The object\n   *             contains three parameters:\n   *             - horizontal {Number}\n   *             The horizontal rotation, between 0 and 2*PI.\n   *             Optional, can be left undefined.\n   *             - vertical {Number}\n   *             The vertical rotation, between 0 and 0.5*PI\n   *             if vertical=0.5*PI, the graph is shown from the\n   *             top. Optional, can be left undefined.\n   *             - distance {Number}\n   *             The (normalized) distance of the camera to the\n   *             center of the graph, a value between 0.71 and 5.0.\n   *             Optional, can be left undefined.\n   */\n  Graph3d.prototype.setCameraPosition = function (pos) {\n    if (pos === undefined) {\n      return;\n    }\n\n    if (pos.horizontal !== undefined &amp;&amp; pos.vertical !== undefined) {\n      this.camera.setArmRotation(pos.horizontal, pos.vertical);\n    }\n\n    if (pos.distance !== undefined) {\n      this.camera.setArmLength(pos.distance);\n    }\n\n    this.redraw();\n  };\n\n  /**\n   * Retrieve the current camera rotation\n   * @return {object}   An object with parameters horizontal, vertical, and\n   *          distance\n   */\n  Graph3d.prototype.getCameraPosition = function () {\n    var pos = this.camera.getArmRotation();\n    pos.distance = this.camera.getArmLength();\n    return pos;\n  };\n\n  /**\n   * Load data into the 3D Graph\n   */\n  Graph3d.prototype._readData = function (data) {\n    // read the data\n    this._dataInitialize(data, this.style);\n\n    if (this.dataFilter) {\n      // apply filtering\n      this.dataPoints = this.dataFilter._getDataPoints();\n    } else {\n      // no filtering. load all data\n      this.dataPoints = this._getDataPoints(this.dataTable);\n    }\n\n    // draw the filter\n    this._redrawFilter();\n  };\n\n  /**\n   * Replace the dataset of the Graph3d\n   * @param {Array | DataSet | DataView} data\n   */\n  Graph3d.prototype.setData = function (data) {\n    this._readData(data);\n    this.redraw();\n\n    // start animation when option is true\n    if (this.animationAutoStart &amp;&amp; this.dataFilter) {\n      this.animationStart();\n    }\n  };\n\n  /**\n   * Update the options. Options will be merged with current options\n   * @param {Object} options\n   */\n  Graph3d.prototype.setOptions = function (options) {\n    var cameraPosition = undefined;\n\n    this.animationStop();\n\n    if (options !== undefined) {\n      // retrieve parameter values\n      if (options.width !== undefined) this.width = options.width;\n      if (options.height !== undefined) this.height = options.height;\n\n      if (options.xCenter !== undefined) this.defaultXCenter = options.xCenter;\n      if (options.yCenter !== undefined) this.defaultYCenter = options.yCenter;\n\n      if (options.filterLabel !== undefined) this.filterLabel = options.filterLabel;\n      if (options.legendLabel !== undefined) this.legendLabel = options.legendLabel;\n      if (options.xLabel !== undefined) this.xLabel = options.xLabel;\n      if (options.yLabel !== undefined) this.yLabel = options.yLabel;\n      if (options.zLabel !== undefined) this.zLabel = options.zLabel;\n\n      if (options.xValueLabel !== undefined) this.xValueLabel = options.xValueLabel;\n      if (options.yValueLabel !== undefined) this.yValueLabel = options.yValueLabel;\n      if (options.zValueLabel !== undefined) this.zValueLabel = options.zValueLabel;\n\n      if (options.style !== undefined) {\n        var styleNumber = this._getStyleNumber(options.style);\n        if (styleNumber !== -1) {\n          this.style = styleNumber;\n        }\n      }\n      if (options.showGrid !== undefined) this.showGrid = options.showGrid;\n      if (options.showPerspective !== undefined) this.showPerspective = options.showPerspective;\n      if (options.showShadow !== undefined) this.showShadow = options.showShadow;\n      if (options.tooltip !== undefined) this.showTooltip = options.tooltip;\n      if (options.showAnimationControls !== undefined) this.showAnimationControls = options.showAnimationControls;\n      if (options.keepAspectRatio !== undefined) this.keepAspectRatio = options.keepAspectRatio;\n      if (options.verticalRatio !== undefined) this.verticalRatio = options.verticalRatio;\n\n      if (options.animationInterval !== undefined) this.animationInterval = options.animationInterval;\n      if (options.animationPreload !== undefined) this.animationPreload = options.animationPreload;\n      if (options.animationAutoStart !== undefined) this.animationAutoStart = options.animationAutoStart;\n\n      if (options.xBarWidth !== undefined) this.defaultXBarWidth = options.xBarWidth;\n      if (options.yBarWidth !== undefined) this.defaultYBarWidth = options.yBarWidth;\n\n      if (options.xMin !== undefined) this.defaultXMin = options.xMin;\n      if (options.xStep !== undefined) this.defaultXStep = options.xStep;\n      if (options.xMax !== undefined) this.defaultXMax = options.xMax;\n      if (options.yMin !== undefined) this.defaultYMin = options.yMin;\n      if (options.yStep !== undefined) this.defaultYStep = options.yStep;\n      if (options.yMax !== undefined) this.defaultYMax = options.yMax;\n      if (options.zMin !== undefined) this.defaultZMin = options.zMin;\n      if (options.zStep !== undefined) this.defaultZStep = options.zStep;\n      if (options.zMax !== undefined) this.defaultZMax = options.zMax;\n      if (options.valueMin !== undefined) this.defaultValueMin = options.valueMin;\n      if (options.valueMax !== undefined) this.defaultValueMax = options.valueMax;\n      if (options.backgroundColor !== undefined) this._setBackgroundColor(options.backgroundColor);\n\n      if (options.cameraPosition !== undefined) cameraPosition = options.cameraPosition;\n\n      if (cameraPosition !== undefined) {\n        this.camera.setArmRotation(cameraPosition.horizontal, cameraPosition.vertical);\n        this.camera.setArmLength(cameraPosition.distance);\n      }\n\n      // colors\n      if (options.axisColor !== undefined) this.axisColor = options.axisColor;\n      if (options.gridColor !== undefined) this.gridColor = options.gridColor;\n      if (options.dataColor) {\n        if (typeof options.dataColor === 'string') {\n          this.dataColor.fill = options.dataColor;\n          this.dataColor.stroke = options.dataColor;\n        } else {\n          if (options.dataColor.fill) {\n            this.dataColor.fill = options.dataColor.fill;\n          }\n          if (options.dataColor.stroke) {\n            this.dataColor.stroke = options.dataColor.stroke;\n          }\n          if (options.dataColor.strokeWidth !== undefined) {\n            this.dataColor.strokeWidth = options.dataColor.strokeWidth;\n          }\n        }\n      }\n    }\n\n    this.setSize(this.width, this.height);\n\n    // re-load the data\n    if (this.dataTable) {\n      this.setData(this.dataTable);\n    }\n\n    // start animation when option is true\n    if (this.animationAutoStart &amp;&amp; this.dataFilter) {\n      this.animationStart();\n    }\n  };\n\n  /**\n   * Redraw the Graph.\n   */\n  Graph3d.prototype.redraw = function () {\n    if (this.dataPoints === undefined) {\n      throw 'Error: graph data not initialized';\n    }\n\n    this._resizeCanvas();\n    this._resizeCenter();\n    this._redrawSlider();\n    this._redrawClear();\n    this._redrawAxis();\n\n    if (this.style === Graph3d.STYLE.GRID || this.style === Graph3d.STYLE.SURFACE) {\n      this._redrawDataGrid();\n    } else if (this.style === Graph3d.STYLE.LINE) {\n      this._redrawDataLine();\n    } else if (this.style === Graph3d.STYLE.BAR || this.style === Graph3d.STYLE.BARCOLOR || this.style === Graph3d.STYLE.BARSIZE) {\n      this._redrawDataBar();\n    } else {\n      // style is DOT, DOTLINE, DOTCOLOR, DOTSIZE\n      this._redrawDataDot();\n    }\n\n    this._redrawInfo();\n    this._redrawLegend();\n  };\n\n  /**\n   * Clear the canvas before redrawing\n   */\n  Graph3d.prototype._redrawClear = function () {\n    var canvas = this.frame.canvas;\n    var ctx = canvas.getContext('2d');\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n  };\n\n  /**\n   * Redraw the legend showing the colors\n   */\n  Graph3d.prototype._redrawLegend = function () {\n    var y;\n\n    if (this.style === Graph3d.STYLE.DOTCOLOR || this.style === Graph3d.STYLE.DOTSIZE) {\n\n      var dotSize = this.frame.clientWidth * 0.02;\n\n      var widthMin, widthMax;\n      if (this.style === Graph3d.STYLE.DOTSIZE) {\n        widthMin = dotSize / 2; // px\n        widthMax = dotSize / 2 + dotSize * 2; // Todo: put this in one function\n      } else {\n          widthMin = 20; // px\n          widthMax = 20; // px\n        }\n\n      var height = Math.max(this.frame.clientHeight * 0.25, 100);\n      var top = this.margin;\n      var right = this.frame.clientWidth - this.margin;\n      var left = right - widthMax;\n      var bottom = top + height;\n    }\n\n    var canvas = this.frame.canvas;\n    var ctx = canvas.getContext('2d');\n    ctx.lineWidth = 1;\n    ctx.font = '14px arial'; // TODO: put in options\n\n    if (this.style === Graph3d.STYLE.DOTCOLOR) {\n      // draw the color bar\n      var ymin = 0;\n      var ymax = height; // Todo: make height customizable\n      for (y = ymin; y &lt; ymax; y++) {\n        var f = (y - ymin) / (ymax - ymin);\n\n        //var width = (dotSize / 2 + (1-f) * dotSize * 2); // Todo: put this in one function\n        var hue = f * 240;\n        var color = this._hsv2rgb(hue, 1, 1);\n\n        ctx.strokeStyle = color;\n        ctx.beginPath();\n        ctx.moveTo(left, top + y);\n        ctx.lineTo(right, top + y);\n        ctx.stroke();\n      }\n\n      ctx.strokeStyle = this.axisColor;\n      ctx.strokeRect(left, top, widthMax, height);\n    }\n\n    if (this.style === Graph3d.STYLE.DOTSIZE) {\n      // draw border around color bar\n      ctx.strokeStyle = this.axisColor;\n      ctx.fillStyle = this.dataColor.fill;\n      ctx.beginPath();\n      ctx.moveTo(left, top);\n      ctx.lineTo(right, top);\n      ctx.lineTo(right - widthMax + widthMin, bottom);\n      ctx.lineTo(left, bottom);\n      ctx.closePath();\n      ctx.fill();\n      ctx.stroke();\n    }\n\n    if (this.style === Graph3d.STYLE.DOTCOLOR || this.style === Graph3d.STYLE.DOTSIZE) {\n      // print values along the color bar\n      var gridLineLen = 5; // px\n      var step = new StepNumber(this.valueMin, this.valueMax, (this.valueMax - this.valueMin) / 5, true);\n      step.start();\n      if (step.getCurrent() &lt; this.valueMin) {\n        step.next();\n      }\n      while (!step.end()) {\n        y = bottom - (step.getCurrent() - this.valueMin) / (this.valueMax - this.valueMin) * height;\n\n        ctx.beginPath();\n        ctx.moveTo(left - gridLineLen, y);\n        ctx.lineTo(left, y);\n        ctx.stroke();\n\n        ctx.textAlign = 'right';\n        ctx.textBaseline = 'middle';\n        ctx.fillStyle = this.axisColor;\n        ctx.fillText(step.getCurrent(), left - 2 * gridLineLen, y);\n\n        step.next();\n      }\n\n      ctx.textAlign = 'right';\n      ctx.textBaseline = 'top';\n      var label = this.legendLabel;\n      ctx.fillText(label, right, bottom + this.margin);\n    }\n  };\n\n  /**\n   * Redraw the filter\n   */\n  Graph3d.prototype._redrawFilter = function () {\n    this.frame.filter.innerHTML = '';\n\n    if (this.dataFilter) {\n      var options = {\n        'visible': this.showAnimationControls\n      };\n      var slider = new Slider(this.frame.filter, options);\n      this.frame.filter.slider = slider;\n\n      // TODO: css here is not nice here...\n      this.frame.filter.style.padding = '10px';\n      //this.frame.filter.style.backgroundColor = '#EFEFEF';\n\n      slider.setValues(this.dataFilter.values);\n      slider.setPlayInterval(this.animationInterval);\n\n      // create an event handler\n      var me = this;\n      var onchange = function onchange() {\n        var index = slider.getIndex();\n\n        me.dataFilter.selectValue(index);\n        me.dataPoints = me.dataFilter._getDataPoints();\n\n        me.redraw();\n      };\n      slider.setOnChangeCallback(onchange);\n    } else {\n      this.frame.filter.slider = undefined;\n    }\n  };\n\n  /**\n   * Redraw the slider\n   */\n  Graph3d.prototype._redrawSlider = function () {\n    if (this.frame.filter.slider !== undefined) {\n      this.frame.filter.slider.redraw();\n    }\n  };\n\n  /**\n   * Redraw common information\n   */\n  Graph3d.prototype._redrawInfo = function () {\n    if (this.dataFilter) {\n      var canvas = this.frame.canvas;\n      var ctx = canvas.getContext('2d');\n\n      ctx.font = '14px arial'; // TODO: put in options\n      ctx.lineStyle = 'gray';\n      ctx.fillStyle = 'gray';\n      ctx.textAlign = 'left';\n      ctx.textBaseline = 'top';\n\n      var x = this.margin;\n      var y = this.margin;\n      ctx.fillText(this.dataFilter.getLabel() + ': ' + this.dataFilter.getSelectedValue(), x, y);\n    }\n  };\n\n  /**\n   * Redraw the axis\n   */\n  Graph3d.prototype._redrawAxis = function () {\n    var canvas = this.frame.canvas,\n        ctx = canvas.getContext('2d'),\n        from,\n        to,\n        step,\n        prettyStep,\n        text,\n        xText,\n        yText,\n        zText,\n        offset,\n        xOffset,\n        yOffset,\n        xMin2d,\n        xMax2d;\n\n    // TODO: get the actual rendered style of the containerElement\n    //ctx.font = this.containerElement.style.font;\n    ctx.font = 24 / this.camera.getArmLength() + 'px arial';\n\n    // calculate the length for the short grid lines\n    var gridLenX = 0.025 / this.scale.x;\n    var gridLenY = 0.025 / this.scale.y;\n    var textMargin = 5 / this.camera.getArmLength(); // px\n    var armAngle = this.camera.getArmRotation().horizontal;\n\n    // draw x-grid lines\n    ctx.lineWidth = 1;\n    prettyStep = this.defaultXStep === undefined;\n    step = new StepNumber(this.xMin, this.xMax, this.xStep, prettyStep);\n    step.start();\n    if (step.getCurrent() &lt; this.xMin) {\n      step.next();\n    }\n    while (!step.end()) {\n      var x = step.getCurrent();\n\n      if (this.showGrid) {\n        from = this._convert3Dto2D(new Point3d(x, this.yMin, this.zMin));\n        to = this._convert3Dto2D(new Point3d(x, this.yMax, this.zMin));\n        ctx.strokeStyle = this.gridColor;\n        ctx.beginPath();\n        ctx.moveTo(from.x, from.y);\n        ctx.lineTo(to.x, to.y);\n        ctx.stroke();\n      } else {\n        from = this._convert3Dto2D(new Point3d(x, this.yMin, this.zMin));\n        to = this._convert3Dto2D(new Point3d(x, this.yMin + gridLenX, this.zMin));\n        ctx.strokeStyle = this.axisColor;\n        ctx.beginPath();\n        ctx.moveTo(from.x, from.y);\n        ctx.lineTo(to.x, to.y);\n        ctx.stroke();\n\n        from = this._convert3Dto2D(new Point3d(x, this.yMax, this.zMin));\n        to = this._convert3Dto2D(new Point3d(x, this.yMax - gridLenX, this.zMin));\n        ctx.strokeStyle = this.axisColor;\n        ctx.beginPath();\n        ctx.moveTo(from.x, from.y);\n        ctx.lineTo(to.x, to.y);\n        ctx.stroke();\n      }\n\n      yText = Math.cos(armAngle) &gt; 0 ? this.yMin : this.yMax;\n      text = this._convert3Dto2D(new Point3d(x, yText, this.zMin));\n      if (Math.cos(armAngle * 2) &gt; 0) {\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'top';\n        text.y += textMargin;\n      } else if (Math.sin(armAngle * 2) &lt; 0) {\n        ctx.textAlign = 'right';\n        ctx.textBaseline = 'middle';\n      } else {\n        ctx.textAlign = 'left';\n        ctx.textBaseline = 'middle';\n      }\n      ctx.fillStyle = this.axisColor;\n      ctx.fillText('  ' + this.xValueLabel(step.getCurrent()) + '  ', text.x, text.y);\n\n      step.next();\n    }\n\n    // draw y-grid lines\n    ctx.lineWidth = 1;\n    prettyStep = this.defaultYStep === undefined;\n    step = new StepNumber(this.yMin, this.yMax, this.yStep, prettyStep);\n    step.start();\n    if (step.getCurrent() &lt; this.yMin) {\n      step.next();\n    }\n    while (!step.end()) {\n      if (this.showGrid) {\n        from = this._convert3Dto2D(new Point3d(this.xMin, step.getCurrent(), this.zMin));\n        to = this._convert3Dto2D(new Point3d(this.xMax, step.getCurrent(), this.zMin));\n        ctx.strokeStyle = this.gridColor;\n        ctx.beginPath();\n        ctx.moveTo(from.x, from.y);\n        ctx.lineTo(to.x, to.y);\n        ctx.stroke();\n      } else {\n        from = this._convert3Dto2D(new Point3d(this.xMin, step.getCurrent(), this.zMin));\n        to = this._convert3Dto2D(new Point3d(this.xMin + gridLenY, step.getCurrent(), this.zMin));\n        ctx.strokeStyle = this.axisColor;\n        ctx.beginPath();\n        ctx.moveTo(from.x, from.y);\n        ctx.lineTo(to.x, to.y);\n        ctx.stroke();\n\n        from = this._convert3Dto2D(new Point3d(this.xMax, step.getCurrent(), this.zMin));\n        to = this._convert3Dto2D(new Point3d(this.xMax - gridLenY, step.getCurrent(), this.zMin));\n        ctx.strokeStyle = this.axisColor;\n        ctx.beginPath();\n        ctx.moveTo(from.x, from.y);\n        ctx.lineTo(to.x, to.y);\n        ctx.stroke();\n      }\n\n      xText = Math.sin(armAngle) &gt; 0 ? this.xMin : this.xMax;\n      text = this._convert3Dto2D(new Point3d(xText, step.getCurrent(), this.zMin));\n      if (Math.cos(armAngle * 2) &lt; 0) {\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'top';\n        text.y += textMargin;\n      } else if (Math.sin(armAngle * 2) &gt; 0) {\n        ctx.textAlign = 'right';\n        ctx.textBaseline = 'middle';\n      } else {\n        ctx.textAlign = 'left';\n        ctx.textBaseline = 'middle';\n      }\n      ctx.fillStyle = this.axisColor;\n      ctx.fillText('  ' + this.yValueLabel(step.getCurrent()) + '  ', text.x, text.y);\n\n      step.next();\n    }\n\n    // draw z-grid lines and axis\n    ctx.lineWidth = 1;\n    prettyStep = this.defaultZStep === undefined;\n    step = new StepNumber(this.zMin, this.zMax, this.zStep, prettyStep);\n    step.start();\n    if (step.getCurrent() &lt; this.zMin) {\n      step.next();\n    }\n    xText = Math.cos(armAngle) &gt; 0 ? this.xMin : this.xMax;\n    yText = Math.sin(armAngle) &lt; 0 ? this.yMin : this.yMax;\n    while (!step.end()) {\n      // TODO: make z-grid lines really 3d?\n      from = this._convert3Dto2D(new Point3d(xText, yText, step.getCurrent()));\n      ctx.strokeStyle = this.axisColor;\n      ctx.beginPath();\n      ctx.moveTo(from.x, from.y);\n      ctx.lineTo(from.x - textMargin, from.y);\n      ctx.stroke();\n\n      ctx.textAlign = 'right';\n      ctx.textBaseline = 'middle';\n      ctx.fillStyle = this.axisColor;\n      ctx.fillText(this.zValueLabel(step.getCurrent()) + ' ', from.x - 5, from.y);\n\n      step.next();\n    }\n    ctx.lineWidth = 1;\n    from = this._convert3Dto2D(new Point3d(xText, yText, this.zMin));\n    to = this._convert3Dto2D(new Point3d(xText, yText, this.zMax));\n    ctx.strokeStyle = this.axisColor;\n    ctx.beginPath();\n    ctx.moveTo(from.x, from.y);\n    ctx.lineTo(to.x, to.y);\n    ctx.stroke();\n\n    // draw x-axis\n    ctx.lineWidth = 1;\n    // line at yMin\n    xMin2d = this._convert3Dto2D(new Point3d(this.xMin, this.yMin, this.zMin));\n    xMax2d = this._convert3Dto2D(new Point3d(this.xMax, this.yMin, this.zMin));\n    ctx.strokeStyle = this.axisColor;\n    ctx.beginPath();\n    ctx.moveTo(xMin2d.x, xMin2d.y);\n    ctx.lineTo(xMax2d.x, xMax2d.y);\n    ctx.stroke();\n    // line at ymax\n    xMin2d = this._convert3Dto2D(new Point3d(this.xMin, this.yMax, this.zMin));\n    xMax2d = this._convert3Dto2D(new Point3d(this.xMax, this.yMax, this.zMin));\n    ctx.strokeStyle = this.axisColor;\n    ctx.beginPath();\n    ctx.moveTo(xMin2d.x, xMin2d.y);\n    ctx.lineTo(xMax2d.x, xMax2d.y);\n    ctx.stroke();\n\n    // draw y-axis\n    ctx.lineWidth = 1;\n    // line at xMin\n    from = this._convert3Dto2D(new Point3d(this.xMin, this.yMin, this.zMin));\n    to = this._convert3Dto2D(new Point3d(this.xMin, this.yMax, this.zMin));\n    ctx.strokeStyle = this.axisColor;\n    ctx.beginPath();\n    ctx.moveTo(from.x, from.y);\n    ctx.lineTo(to.x, to.y);\n    ctx.stroke();\n    // line at xMax\n    from = this._convert3Dto2D(new Point3d(this.xMax, this.yMin, this.zMin));\n    to = this._convert3Dto2D(new Point3d(this.xMax, this.yMax, this.zMin));\n    ctx.strokeStyle = this.axisColor;\n    ctx.beginPath();\n    ctx.moveTo(from.x, from.y);\n    ctx.lineTo(to.x, to.y);\n    ctx.stroke();\n\n    // draw x-label\n    var xLabel = this.xLabel;\n    if (xLabel.length &gt; 0) {\n      yOffset = 0.1 / this.scale.y;\n      xText = (this.xMin + this.xMax) / 2;\n      yText = Math.cos(armAngle) &gt; 0 ? this.yMin - yOffset : this.yMax + yOffset;\n      text = this._convert3Dto2D(new Point3d(xText, yText, this.zMin));\n      if (Math.cos(armAngle * 2) &gt; 0) {\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'top';\n      } else if (Math.sin(armAngle * 2) &lt; 0) {\n        ctx.textAlign = 'right';\n        ctx.textBaseline = 'middle';\n      } else {\n        ctx.textAlign = 'left';\n        ctx.textBaseline = 'middle';\n      }\n      ctx.fillStyle = this.axisColor;\n      ctx.fillText(xLabel, text.x, text.y);\n    }\n\n    // draw y-label\n    var yLabel = this.yLabel;\n    if (yLabel.length &gt; 0) {\n      xOffset = 0.1 / this.scale.x;\n      xText = Math.sin(armAngle) &gt; 0 ? this.xMin - xOffset : this.xMax + xOffset;\n      yText = (this.yMin + this.yMax) / 2;\n      text = this._convert3Dto2D(new Point3d(xText, yText, this.zMin));\n      if (Math.cos(armAngle * 2) &lt; 0) {\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'top';\n      } else if (Math.sin(armAngle * 2) &gt; 0) {\n        ctx.textAlign = 'right';\n        ctx.textBaseline = 'middle';\n      } else {\n        ctx.textAlign = 'left';\n        ctx.textBaseline = 'middle';\n      }\n      ctx.fillStyle = this.axisColor;\n      ctx.fillText(yLabel, text.x, text.y);\n    }\n\n    // draw z-label\n    var zLabel = this.zLabel;\n    if (zLabel.length &gt; 0) {\n      offset = 30; // pixels.  // TODO: relate to the max width of the values on the z axis?\n      xText = Math.cos(armAngle) &gt; 0 ? this.xMin : this.xMax;\n      yText = Math.sin(armAngle) &lt; 0 ? this.yMin : this.yMax;\n      zText = (this.zMin + this.zMax) / 2;\n      text = this._convert3Dto2D(new Point3d(xText, yText, zText));\n      ctx.textAlign = 'right';\n      ctx.textBaseline = 'middle';\n      ctx.fillStyle = this.axisColor;\n      ctx.fillText(zLabel, text.x - offset, text.y);\n    }\n  };\n\n  /**\n   * Calculate the color based on the given value.\n   * @param {Number} H   Hue, a value be between 0 and 360\n   * @param {Number} S   Saturation, a value between 0 and 1\n   * @param {Number} V   Value, a value between 0 and 1\n   */\n  Graph3d.prototype._hsv2rgb = function (H, S, V) {\n    var R, G, B, C, Hi, X;\n\n    C = V * S;\n    Hi = Math.floor(H / 60); // hi = 0,1,2,3,4,5\n    X = C * (1 - Math.abs(H / 60 % 2 - 1));\n\n    switch (Hi) {\n      case 0:\n        R = C;G = X;B = 0;break;\n      case 1:\n        R = X;G = C;B = 0;break;\n      case 2:\n        R = 0;G = C;B = X;break;\n      case 3:\n        R = 0;G = X;B = C;break;\n      case 4:\n        R = X;G = 0;B = C;break;\n      case 5:\n        R = C;G = 0;B = X;break;\n\n      default:\n        R = 0;G = 0;B = 0;break;\n    }\n\n    return 'RGB(' + parseInt(R * 255) + ',' + parseInt(G * 255) + ',' + parseInt(B * 255) + ')';\n  };\n\n  /**\n   * Draw all datapoints as a grid\n   * This function can be used when the style is 'grid'\n   */\n  Graph3d.prototype._redrawDataGrid = function () {\n    var canvas = this.frame.canvas,\n        ctx = canvas.getContext('2d'),\n        point,\n        right,\n        top,\n        cross,\n        i,\n        topSideVisible,\n        fillStyle,\n        strokeStyle,\n        lineWidth,\n        h,\n        s,\n        v,\n        zAvg;\n\n    ctx.lineJoin = 'round';\n    ctx.lineCap = 'round';\n\n    if (this.dataPoints === undefined || this.dataPoints.length &lt;= 0) return; // TODO: throw exception?\n\n    // calculate the translations and screen position of all points\n    for (i = 0; i &lt; this.dataPoints.length; i++) {\n      var trans = this._convertPointToTranslation(this.dataPoints[i].point);\n      var screen = this._convertTranslationToScreen(trans);\n\n      this.dataPoints[i].trans = trans;\n      this.dataPoints[i].screen = screen;\n\n      // calculate the translation of the point at the bottom (needed for sorting)\n      var transBottom = this._convertPointToTranslation(this.dataPoints[i].bottom);\n      this.dataPoints[i].dist = this.showPerspective ? transBottom.length() : -transBottom.z;\n    }\n\n    // sort the points on depth of their (x,y) position (not on z)\n    var sortDepth = function sortDepth(a, b) {\n      return b.dist - a.dist;\n    };\n    this.dataPoints.sort(sortDepth);\n\n    if (this.style === Graph3d.STYLE.SURFACE) {\n      for (i = 0; i &lt; this.dataPoints.length; i++) {\n        point = this.dataPoints[i];\n        right = this.dataPoints[i].pointRight;\n        top = this.dataPoints[i].pointTop;\n        cross = this.dataPoints[i].pointCross;\n\n        if (point !== undefined &amp;&amp; right !== undefined &amp;&amp; top !== undefined &amp;&amp; cross !== undefined) {\n\n          if (this.showGrayBottom || this.showShadow) {\n            // calculate the cross product of the two vectors from center\n            // to left and right, in order to know whether we are looking at the\n            // bottom or at the top side. We can also use the cross product\n            // for calculating light intensity\n            var aDiff = Point3d.subtract(cross.trans, point.trans);\n            var bDiff = Point3d.subtract(top.trans, right.trans);\n            var crossproduct = Point3d.crossProduct(aDiff, bDiff);\n            var len = crossproduct.length();\n            // FIXME: there is a bug with determining the surface side (shadow or colored)\n\n            topSideVisible = crossproduct.z &gt; 0;\n          } else {\n            topSideVisible = true;\n          }\n\n          if (topSideVisible) {\n            // calculate Hue from the current value. At zMin the hue is 240, at zMax the hue is 0\n            zAvg = (point.point.z + right.point.z + top.point.z + cross.point.z) / 4;\n            h = (1 - (zAvg - this.zMin) * this.scale.z / this.verticalRatio) * 240;\n            s = 1; // saturation\n\n            if (this.showShadow) {\n              v = Math.min(1 + crossproduct.x / len / 2, 1); // value. TODO: scale\n              fillStyle = this._hsv2rgb(h, s, v);\n              strokeStyle = fillStyle;\n            } else {\n              v = 1;\n              fillStyle = this._hsv2rgb(h, s, v);\n              strokeStyle = this.axisColor; // TODO: should be customizable\n            }\n          } else {\n              fillStyle = 'gray';\n              strokeStyle = this.axisColor;\n            }\n\n          ctx.lineWidth = this._getStrokeWidth(point);\n          ctx.fillStyle = fillStyle;\n          ctx.strokeStyle = strokeStyle;\n          ctx.beginPath();\n          ctx.moveTo(point.screen.x, point.screen.y);\n          ctx.lineTo(right.screen.x, right.screen.y);\n          ctx.lineTo(cross.screen.x, cross.screen.y);\n          ctx.lineTo(top.screen.x, top.screen.y);\n          ctx.closePath();\n          ctx.fill();\n          ctx.stroke(); // TODO: only draw stroke when strokeWidth &gt; 0\n        }\n      }\n    } else {\n        // grid style\n        for (i = 0; i &lt; this.dataPoints.length; i++) {\n          point = this.dataPoints[i];\n          right = this.dataPoints[i].pointRight;\n          top = this.dataPoints[i].pointTop;\n\n          if (point !== undefined &amp;&amp; right !== undefined) {\n            // calculate Hue from the current value. At zMin the hue is 240, at zMax the hue is 0\n            zAvg = (point.point.z + right.point.z) / 2;\n            h = (1 - (zAvg - this.zMin) * this.scale.z / this.verticalRatio) * 240;\n\n            ctx.lineWidth = this._getStrokeWidth(point) * 2;\n            ctx.strokeStyle = this._hsv2rgb(h, 1, 1);\n            ctx.beginPath();\n            ctx.moveTo(point.screen.x, point.screen.y);\n            ctx.lineTo(right.screen.x, right.screen.y);\n            ctx.stroke();\n          }\n\n          if (point !== undefined &amp;&amp; top !== undefined) {\n            // calculate Hue from the current value. At zMin the hue is 240, at zMax the hue is 0\n            zAvg = (point.point.z + top.point.z) / 2;\n            h = (1 - (zAvg - this.zMin) * this.scale.z / this.verticalRatio) * 240;\n\n            ctx.lineWidth = this._getStrokeWidth(point) * 2;\n            ctx.strokeStyle = this._hsv2rgb(h, 1, 1);\n            ctx.beginPath();\n            ctx.moveTo(point.screen.x, point.screen.y);\n            ctx.lineTo(top.screen.x, top.screen.y);\n            ctx.stroke();\n          }\n        }\n      }\n  };\n\n  Graph3d.prototype._getStrokeWidth = function (point) {\n    if (point !== undefined) {\n      if (this.showPerspective) {\n        return 1 / -point.trans.z * this.dataColor.strokeWidth;\n      } else {\n        return -(this.eye.z / this.camera.getArmLength()) * this.dataColor.strokeWidth;\n      }\n    }\n\n    return this.dataColor.strokeWidth;\n  };\n\n  /**\n   * Draw all datapoints as dots.\n   * This function can be used when the style is 'dot' or 'dot-line'\n   */\n  Graph3d.prototype._redrawDataDot = function () {\n    var canvas = this.frame.canvas;\n    var ctx = canvas.getContext('2d');\n    var i;\n\n    if (this.dataPoints === undefined || this.dataPoints.length &lt;= 0) return; // TODO: throw exception?\n\n    // calculate the translations of all points\n    for (i = 0; i &lt; this.dataPoints.length; i++) {\n      var trans = this._convertPointToTranslation(this.dataPoints[i].point);\n      var screen = this._convertTranslationToScreen(trans);\n      this.dataPoints[i].trans = trans;\n      this.dataPoints[i].screen = screen;\n\n      // calculate the distance from the point at the bottom to the camera\n      var transBottom = this._convertPointToTranslation(this.dataPoints[i].bottom);\n      this.dataPoints[i].dist = this.showPerspective ? transBottom.length() : -transBottom.z;\n    }\n\n    // order the translated points by depth\n    var sortDepth = function sortDepth(a, b) {\n      return b.dist - a.dist;\n    };\n    this.dataPoints.sort(sortDepth);\n\n    // draw the datapoints as colored circles\n    var dotSize = this.frame.clientWidth * 0.02; // px\n    for (i = 0; i &lt; this.dataPoints.length; i++) {\n      var point = this.dataPoints[i];\n\n      if (this.style === Graph3d.STYLE.DOTLINE) {\n        // draw a vertical line from the bottom to the graph value\n        //var from = this._convert3Dto2D(new Point3d(point.point.x, point.point.y, this.zMin));\n        var from = this._convert3Dto2D(point.bottom);\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = this.gridColor;\n        ctx.beginPath();\n        ctx.moveTo(from.x, from.y);\n        ctx.lineTo(point.screen.x, point.screen.y);\n        ctx.stroke();\n      }\n\n      // calculate radius for the circle\n      var size;\n      if (this.style === Graph3d.STYLE.DOTSIZE) {\n        size = dotSize / 2 + 2 * dotSize * (point.point.value - this.valueMin) / (this.valueMax - this.valueMin);\n      } else {\n        size = dotSize;\n      }\n\n      var radius;\n      if (this.showPerspective) {\n        radius = size / -point.trans.z;\n      } else {\n        radius = size * -(this.eye.z / this.camera.getArmLength());\n      }\n      if (radius &lt; 0) {\n        radius = 0;\n      }\n\n      var hue, color, borderColor;\n      if (this.style === Graph3d.STYLE.DOTCOLOR) {\n        // calculate the color based on the value\n        hue = (1 - (point.point.value - this.valueMin) * this.scale.value) * 240;\n        color = this._hsv2rgb(hue, 1, 1);\n        borderColor = this._hsv2rgb(hue, 1, 0.8);\n      } else if (this.style === Graph3d.STYLE.DOTSIZE) {\n        color = this.dataColor.fill;\n        borderColor = this.dataColor.stroke;\n      } else {\n        // calculate Hue from the current value. At zMin the hue is 240, at zMax the hue is 0\n        hue = (1 - (point.point.z - this.zMin) * this.scale.z / this.verticalRatio) * 240;\n        color = this._hsv2rgb(hue, 1, 1);\n        borderColor = this._hsv2rgb(hue, 1, 0.8);\n      }\n\n      // draw the circle\n      ctx.lineWidth = this._getStrokeWidth(point);\n      ctx.strokeStyle = borderColor;\n      ctx.fillStyle = color;\n      ctx.beginPath();\n      ctx.arc(point.screen.x, point.screen.y, radius, 0, Math.PI * 2, true);\n      ctx.fill();\n      ctx.stroke();\n    }\n  };\n\n  /**\n   * Draw all datapoints as bars.\n   * This function can be used when the style is 'bar', 'bar-color', or 'bar-size'\n   */\n  Graph3d.prototype._redrawDataBar = function () {\n    var canvas = this.frame.canvas;\n    var ctx = canvas.getContext('2d');\n    var i, j, surface, corners;\n\n    if (this.dataPoints === undefined || this.dataPoints.length &lt;= 0) return; // TODO: throw exception?\n\n    // calculate the translations of all points\n    for (i = 0; i &lt; this.dataPoints.length; i++) {\n      var trans = this._convertPointToTranslation(this.dataPoints[i].point);\n      var screen = this._convertTranslationToScreen(trans);\n      this.dataPoints[i].trans = trans;\n      this.dataPoints[i].screen = screen;\n\n      // calculate the distance from the point at the bottom to the camera\n      var transBottom = this._convertPointToTranslation(this.dataPoints[i].bottom);\n      this.dataPoints[i].dist = this.showPerspective ? transBottom.length() : -transBottom.z;\n    }\n\n    // order the translated points by depth\n    var sortDepth = function sortDepth(a, b) {\n      return b.dist - a.dist;\n    };\n    this.dataPoints.sort(sortDepth);\n\n    ctx.lineJoin = 'round';\n    ctx.lineCap = 'round';\n\n    // draw the datapoints as bars\n    var xWidth = this.xBarWidth / 2;\n    var yWidth = this.yBarWidth / 2;\n    for (i = 0; i &lt; this.dataPoints.length; i++) {\n      var point = this.dataPoints[i];\n\n      // determine color\n      var hue, color, borderColor;\n      if (this.style === Graph3d.STYLE.BARCOLOR) {\n        // calculate the color based on the value\n        hue = (1 - (point.point.value - this.valueMin) * this.scale.value) * 240;\n        color = this._hsv2rgb(hue, 1, 1);\n        borderColor = this._hsv2rgb(hue, 1, 0.8);\n      } else if (this.style === Graph3d.STYLE.BARSIZE) {\n        color = this.dataColor.fill;\n        borderColor = this.dataColor.stroke;\n      } else {\n        // calculate Hue from the current value. At zMin the hue is 240, at zMax the hue is 0\n        hue = (1 - (point.point.z - this.zMin) * this.scale.z / this.verticalRatio) * 240;\n        color = this._hsv2rgb(hue, 1, 1);\n        borderColor = this._hsv2rgb(hue, 1, 0.8);\n      }\n\n      // calculate size for the bar\n      if (this.style === Graph3d.STYLE.BARSIZE) {\n        xWidth = this.xBarWidth / 2 * ((point.point.value - this.valueMin) / (this.valueMax - this.valueMin) * 0.8 + 0.2);\n        yWidth = this.yBarWidth / 2 * ((point.point.value - this.valueMin) / (this.valueMax - this.valueMin) * 0.8 + 0.2);\n      }\n\n      // calculate all corner points\n      var me = this;\n      var point3d = point.point;\n      var top = [{ point: new Point3d(point3d.x - xWidth, point3d.y - yWidth, point3d.z) }, { point: new Point3d(point3d.x + xWidth, point3d.y - yWidth, point3d.z) }, { point: new Point3d(point3d.x + xWidth, point3d.y + yWidth, point3d.z) }, { point: new Point3d(point3d.x - xWidth, point3d.y + yWidth, point3d.z) }];\n      var bottom = [{ point: new Point3d(point3d.x - xWidth, point3d.y - yWidth, this.zMin) }, { point: new Point3d(point3d.x + xWidth, point3d.y - yWidth, this.zMin) }, { point: new Point3d(point3d.x + xWidth, point3d.y + yWidth, this.zMin) }, { point: new Point3d(point3d.x - xWidth, point3d.y + yWidth, this.zMin) }];\n\n      // calculate screen location of the points\n      top.forEach(function (obj) {\n        obj.screen = me._convert3Dto2D(obj.point);\n      });\n      bottom.forEach(function (obj) {\n        obj.screen = me._convert3Dto2D(obj.point);\n      });\n\n      // create five sides, calculate both corner points and center points\n      var surfaces = [{ corners: top, center: Point3d.avg(bottom[0].point, bottom[2].point) }, { corners: [top[0], top[1], bottom[1], bottom[0]], center: Point3d.avg(bottom[1].point, bottom[0].point) }, { corners: [top[1], top[2], bottom[2], bottom[1]], center: Point3d.avg(bottom[2].point, bottom[1].point) }, { corners: [top[2], top[3], bottom[3], bottom[2]], center: Point3d.avg(bottom[3].point, bottom[2].point) }, { corners: [top[3], top[0], bottom[0], bottom[3]], center: Point3d.avg(bottom[0].point, bottom[3].point) }];\n      point.surfaces = surfaces;\n\n      // calculate the distance of each of the surface centers to the camera\n      for (j = 0; j &lt; surfaces.length; j++) {\n        surface = surfaces[j];\n        var transCenter = this._convertPointToTranslation(surface.center);\n        surface.dist = this.showPerspective ? transCenter.length() : -transCenter.z;\n        // TODO: this dept calculation doesn't work 100% of the cases due to perspective,\n        //     but the current solution is fast/simple and works in 99.9% of all cases\n        //     the issue is visible in example 14, with graph.setCameraPosition({horizontal: 2.97, vertical: 0.5, distance: 0.9})\n      }\n\n      // order the surfaces by their (translated) depth\n      surfaces.sort(function (a, b) {\n        var diff = b.dist - a.dist;\n        if (diff) return diff;\n\n        // if equal depth, sort the top surface last\n        if (a.corners === top) return 1;\n        if (b.corners === top) return -1;\n\n        // both are equal\n        return 0;\n      });\n\n      // draw the ordered surfaces\n      ctx.lineWidth = this._getStrokeWidth(point);\n      ctx.strokeStyle = borderColor;\n      ctx.fillStyle = color;\n      // NOTE: we start at j=2 instead of j=0 as we don't need to draw the two surfaces at the backside\n      for (j = 2; j &lt; surfaces.length; j++) {\n        surface = surfaces[j];\n        corners = surface.corners;\n        ctx.beginPath();\n        ctx.moveTo(corners[3].screen.x, corners[3].screen.y);\n        ctx.lineTo(corners[0].screen.x, corners[0].screen.y);\n        ctx.lineTo(corners[1].screen.x, corners[1].screen.y);\n        ctx.lineTo(corners[2].screen.x, corners[2].screen.y);\n        ctx.lineTo(corners[3].screen.x, corners[3].screen.y);\n        ctx.fill();\n        ctx.stroke();\n      }\n    }\n  };\n\n  /**\n   * Draw a line through all datapoints.\n   * This function can be used when the style is 'line'\n   */\n  Graph3d.prototype._redrawDataLine = function () {\n    var canvas = this.frame.canvas,\n        ctx = canvas.getContext('2d'),\n        point,\n        i;\n\n    if (this.dataPoints === undefined || this.dataPoints.length &lt;= 0) return; // TODO: throw exception?\n\n    // calculate the translations of all points\n    for (i = 0; i &lt; this.dataPoints.length; i++) {\n      var trans = this._convertPointToTranslation(this.dataPoints[i].point);\n      var screen = this._convertTranslationToScreen(trans);\n\n      this.dataPoints[i].trans = trans;\n      this.dataPoints[i].screen = screen;\n    }\n\n    // start the line\n    if (this.dataPoints.length &gt; 0) {\n      point = this.dataPoints[0];\n\n      ctx.lineWidth = this._getStrokeWidth(point);\n      ctx.lineJoin = 'round';\n      ctx.lineCap = 'round';\n      ctx.strokeStyle = this.dataColor.stroke;\n      ctx.beginPath();\n      ctx.moveTo(point.screen.x, point.screen.y);\n\n      // draw the datapoints as colored circles\n      for (i = 1; i &lt; this.dataPoints.length; i++) {\n        point = this.dataPoints[i];\n        ctx.lineTo(point.screen.x, point.screen.y);\n      }\n\n      // finish the line\n      ctx.stroke();\n    }\n  };\n\n  /**\n   * Start a moving operation inside the provided parent element\n   * @param {Event}     event     The event that occurred (required for\n   *                  retrieving the  mouse position)\n   */\n  Graph3d.prototype._onMouseDown = function (event) {\n    event = event || window.event;\n\n    // check if mouse is still down (may be up when focus is lost for example\n    // in an iframe)\n    if (this.leftButtonDown) {\n      this._onMouseUp(event);\n    }\n\n    // only react on left mouse button down\n    this.leftButtonDown = event.which ? event.which === 1 : event.button === 1;\n    if (!this.leftButtonDown &amp;&amp; !this.touchDown) return;\n\n    // get mouse position (different code for IE and all other browsers)\n    this.startMouseX = getMouseX(event);\n    this.startMouseY = getMouseY(event);\n\n    this.startStart = new Date(this.start);\n    this.startEnd = new Date(this.end);\n    this.startArmRotation = this.camera.getArmRotation();\n\n    this.frame.style.cursor = 'move';\n\n    // add event listeners to handle moving the contents\n    // we store the function onmousemove and onmouseup in the graph, so we can\n    // remove the eventlisteners lateron in the function mouseUp()\n    var me = this;\n    this.onmousemove = function (event) {\n      me._onMouseMove(event);\n    };\n    this.onmouseup = function (event) {\n      me._onMouseUp(event);\n    };\n    util.addEventListener(document, 'mousemove', me.onmousemove);\n    util.addEventListener(document, 'mouseup', me.onmouseup);\n    util.preventDefault(event);\n  };\n\n  /**\n   * Perform moving operating.\n   * This function activated from within the funcion Graph.mouseDown().\n   * @param {Event}   event  Well, eehh, the event\n   */\n  Graph3d.prototype._onMouseMove = function (event) {\n    event = event || window.event;\n\n    // calculate change in mouse position\n    var diffX = parseFloat(getMouseX(event)) - this.startMouseX;\n    var diffY = parseFloat(getMouseY(event)) - this.startMouseY;\n\n    var horizontalNew = this.startArmRotation.horizontal + diffX / 200;\n    var verticalNew = this.startArmRotation.vertical + diffY / 200;\n\n    var snapAngle = 4; // degrees\n    var snapValue = Math.sin(snapAngle / 360 * 2 * Math.PI);\n\n    // snap horizontally to nice angles at 0pi, 0.5pi, 1pi, 1.5pi, etc...\n    // the -0.001 is to take care that the vertical axis is always drawn at the left front corner\n    if (Math.abs(Math.sin(horizontalNew)) &lt; snapValue) {\n      horizontalNew = Math.round(horizontalNew / Math.PI) * Math.PI - 0.001;\n    }\n    if (Math.abs(Math.cos(horizontalNew)) &lt; snapValue) {\n      horizontalNew = (Math.round(horizontalNew / Math.PI - 0.5) + 0.5) * Math.PI - 0.001;\n    }\n\n    // snap vertically to nice angles\n    if (Math.abs(Math.sin(verticalNew)) &lt; snapValue) {\n      verticalNew = Math.round(verticalNew / Math.PI) * Math.PI;\n    }\n    if (Math.abs(Math.cos(verticalNew)) &lt; snapValue) {\n      verticalNew = (Math.round(verticalNew / Math.PI - 0.5) + 0.5) * Math.PI;\n    }\n\n    this.camera.setArmRotation(horizontalNew, verticalNew);\n    this.redraw();\n\n    // fire a cameraPositionChange event\n    var parameters = this.getCameraPosition();\n    this.emit('cameraPositionChange', parameters);\n\n    util.preventDefault(event);\n  };\n\n  /**\n   * Stop moving operating.\n   * This function activated from within the funcion Graph.mouseDown().\n   * @param {event}  event   The event\n   */\n  Graph3d.prototype._onMouseUp = function (event) {\n    this.frame.style.cursor = 'auto';\n    this.leftButtonDown = false;\n\n    // remove event listeners here\n    util.removeEventListener(document, 'mousemove', this.onmousemove);\n    util.removeEventListener(document, 'mouseup', this.onmouseup);\n    util.preventDefault(event);\n  };\n\n  /**\n   * After having moved the mouse, a tooltip should pop up when the mouse is resting on a data point\n   * @param {Event}  event   A mouse move event\n   */\n  Graph3d.prototype._onTooltip = function (event) {\n    var delay = 300; // ms\n    var boundingRect = this.frame.getBoundingClientRect();\n    var mouseX = getMouseX(event) - boundingRect.left;\n    var mouseY = getMouseY(event) - boundingRect.top;\n\n    if (!this.showTooltip) {\n      return;\n    }\n\n    if (this.tooltipTimeout) {\n      clearTimeout(this.tooltipTimeout);\n    }\n\n    // (delayed) display of a tooltip only if no mouse button is down\n    if (this.leftButtonDown) {\n      this._hideTooltip();\n      return;\n    }\n\n    if (this.tooltip &amp;&amp; this.tooltip.dataPoint) {\n      // tooltip is currently visible\n      var dataPoint = this._dataPointFromXY(mouseX, mouseY);\n      if (dataPoint !== this.tooltip.dataPoint) {\n        // datapoint changed\n        if (dataPoint) {\n          this._showTooltip(dataPoint);\n        } else {\n          this._hideTooltip();\n        }\n      }\n    } else {\n      // tooltip is currently not visible\n      var me = this;\n      this.tooltipTimeout = setTimeout(function () {\n        me.tooltipTimeout = null;\n\n        // show a tooltip if we have a data point\n        var dataPoint = me._dataPointFromXY(mouseX, mouseY);\n        if (dataPoint) {\n          me._showTooltip(dataPoint);\n        }\n      }, delay);\n    }\n  };\n\n  /**\n   * Event handler for touchstart event on mobile devices\n   */\n  Graph3d.prototype._onTouchStart = function (event) {\n    this.touchDown = true;\n\n    var me = this;\n    this.ontouchmove = function (event) {\n      me._onTouchMove(event);\n    };\n    this.ontouchend = function (event) {\n      me._onTouchEnd(event);\n    };\n    util.addEventListener(document, 'touchmove', me.ontouchmove);\n    util.addEventListener(document, 'touchend', me.ontouchend);\n\n    this._onMouseDown(event);\n  };\n\n  /**\n   * Event handler for touchmove event on mobile devices\n   */\n  Graph3d.prototype._onTouchMove = function (event) {\n    this._onMouseMove(event);\n  };\n\n  /**\n   * Event handler for touchend event on mobile devices\n   */\n  Graph3d.prototype._onTouchEnd = function (event) {\n    this.touchDown = false;\n\n    util.removeEventListener(document, 'touchmove', this.ontouchmove);\n    util.removeEventListener(document, 'touchend', this.ontouchend);\n\n    this._onMouseUp(event);\n  };\n\n  /**\n   * Event handler for mouse wheel event, used to zoom the graph\n   * Code from http://adomas.org/javascript-mouse-wheel/\n   * @param {event}  event   The event\n   */\n  Graph3d.prototype._onWheel = function (event) {\n    if (!event) /* For IE. */\n      event = window.event;\n\n    // retrieve delta\n    var delta = 0;\n    if (event.wheelDelta) {\n      /* IE/Opera. */\n      delta = event.wheelDelta / 120;\n    } else if (event.detail) {\n      /* Mozilla case. */\n      // In Mozilla, sign of delta is different than in IE.\n      // Also, delta is multiple of 3.\n      delta = -event.detail / 3;\n    }\n\n    // If delta is nonzero, handle it.\n    // Basically, delta is now positive if wheel was scrolled up,\n    // and negative, if wheel was scrolled down.\n    if (delta) {\n      var oldLength = this.camera.getArmLength();\n      var newLength = oldLength * (1 - delta / 10);\n\n      this.camera.setArmLength(newLength);\n      this.redraw();\n\n      this._hideTooltip();\n    }\n\n    // fire a cameraPositionChange event\n    var parameters = this.getCameraPosition();\n    this.emit('cameraPositionChange', parameters);\n\n    // Prevent default actions caused by mouse wheel.\n    // That might be ugly, but we handle scrolls somehow\n    // anyway, so don't bother here..\n    util.preventDefault(event);\n  };\n\n  /**\n   * Test whether a point lies inside given 2D triangle\n   * @param {Point2d} point\n   * @param {Point2d[]} triangle\n   * @return {boolean} Returns true if given point lies inside or on the edge of the triangle\n   * @private\n   */\n  Graph3d.prototype._insideTriangle = function (point, triangle) {\n    var a = triangle[0],\n        b = triangle[1],\n        c = triangle[2];\n\n    function sign(x) {\n      return x &gt; 0 ? 1 : x &lt; 0 ? -1 : 0;\n    }\n\n    var as = sign((b.x - a.x) * (point.y - a.y) - (b.y - a.y) * (point.x - a.x));\n    var bs = sign((c.x - b.x) * (point.y - b.y) - (c.y - b.y) * (point.x - b.x));\n    var cs = sign((a.x - c.x) * (point.y - c.y) - (a.y - c.y) * (point.x - c.x));\n\n    // each of the three signs must be either equal to each other or zero\n    return (as == 0 || bs == 0 || as == bs) &amp;&amp; (bs == 0 || cs == 0 || bs == cs) &amp;&amp; (as == 0 || cs == 0 || as == cs);\n  };\n\n  /**\n   * Find a data point close to given screen position (x, y)\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Object | null} The closest data point or null if not close to any data point\n   * @private\n   */\n  Graph3d.prototype._dataPointFromXY = function (x, y) {\n    var i,\n        distMax = 100,\n        // px\n    dataPoint = null,\n        closestDataPoint = null,\n        closestDist = null,\n        center = new Point2d(x, y);\n\n    if (this.style === Graph3d.STYLE.BAR || this.style === Graph3d.STYLE.BARCOLOR || this.style === Graph3d.STYLE.BARSIZE) {\n      // the data points are ordered from far away to closest\n      for (i = this.dataPoints.length - 1; i &gt;= 0; i--) {\n        dataPoint = this.dataPoints[i];\n        var surfaces = dataPoint.surfaces;\n        if (surfaces) {\n          for (var s = surfaces.length - 1; s &gt;= 0; s--) {\n            // split each surface in two triangles, and see if the center point is inside one of these\n            var surface = surfaces[s];\n            var corners = surface.corners;\n            var triangle1 = [corners[0].screen, corners[1].screen, corners[2].screen];\n            var triangle2 = [corners[2].screen, corners[3].screen, corners[0].screen];\n            if (this._insideTriangle(center, triangle1) || this._insideTriangle(center, triangle2)) {\n              // return immediately at the first hit\n              return dataPoint;\n            }\n          }\n        }\n      }\n    } else {\n      // find the closest data point, using distance to the center of the point on 2d screen\n      for (i = 0; i &lt; this.dataPoints.length; i++) {\n        dataPoint = this.dataPoints[i];\n        var point = dataPoint.screen;\n        if (point) {\n          var distX = Math.abs(x - point.x);\n          var distY = Math.abs(y - point.y);\n          var dist = Math.sqrt(distX * distX + distY * distY);\n\n          if ((closestDist === null || dist &lt; closestDist) &amp;&amp; dist &lt; distMax) {\n            closestDist = dist;\n            closestDataPoint = dataPoint;\n          }\n        }\n      }\n    }\n\n    return closestDataPoint;\n  };\n\n  /**\n   * Display a tooltip for given data point\n   * @param {Object} dataPoint\n   * @private\n   */\n  Graph3d.prototype._showTooltip = function (dataPoint) {\n    var content, line, dot;\n\n    if (!this.tooltip) {\n      content = document.createElement('div');\n      content.style.position = 'absolute';\n      content.style.padding = '10px';\n      content.style.border = '1px solid #4d4d4d';\n      content.style.color = '#1a1a1a';\n      content.style.background = 'rgba(255,255,255,0.7)';\n      content.style.borderRadius = '2px';\n      content.style.boxShadow = '5px 5px 10px rgba(128,128,128,0.5)';\n\n      line = document.createElement('div');\n      line.style.position = 'absolute';\n      line.style.height = '40px';\n      line.style.width = '0';\n      line.style.borderLeft = '1px solid #4d4d4d';\n\n      dot = document.createElement('div');\n      dot.style.position = 'absolute';\n      dot.style.height = '0';\n      dot.style.width = '0';\n      dot.style.border = '5px solid #4d4d4d';\n      dot.style.borderRadius = '5px';\n\n      this.tooltip = {\n        dataPoint: null,\n        dom: {\n          content: content,\n          line: line,\n          dot: dot\n        }\n      };\n    } else {\n      content = this.tooltip.dom.content;\n      line = this.tooltip.dom.line;\n      dot = this.tooltip.dom.dot;\n    }\n\n    this._hideTooltip();\n\n    this.tooltip.dataPoint = dataPoint;\n    if (typeof this.showTooltip === 'function') {\n      content.innerHTML = this.showTooltip(dataPoint.point);\n    } else {\n      content.innerHTML = '&lt;table&gt;' + '&lt;tr&gt;&lt;td&gt;x:&lt;/td&gt;&lt;td&gt;' + dataPoint.point.x + '&lt;/td&gt;&lt;/tr&gt;' + '&lt;tr&gt;&lt;td&gt;y:&lt;/td&gt;&lt;td&gt;' + dataPoint.point.y + '&lt;/td&gt;&lt;/tr&gt;' + '&lt;tr&gt;&lt;td&gt;z:&lt;/td&gt;&lt;td&gt;' + dataPoint.point.z + '&lt;/td&gt;&lt;/tr&gt;' + '&lt;/table&gt;';\n    }\n\n    content.style.left = '0';\n    content.style.top = '0';\n    this.frame.appendChild(content);\n    this.frame.appendChild(line);\n    this.frame.appendChild(dot);\n\n    // calculate sizes\n    var contentWidth = content.offsetWidth;\n    var contentHeight = content.offsetHeight;\n    var lineHeight = line.offsetHeight;\n    var dotWidth = dot.offsetWidth;\n    var dotHeight = dot.offsetHeight;\n\n    var left = dataPoint.screen.x - contentWidth / 2;\n    left = Math.min(Math.max(left, 10), this.frame.clientWidth - 10 - contentWidth);\n\n    line.style.left = dataPoint.screen.x + 'px';\n    line.style.top = dataPoint.screen.y - lineHeight + 'px';\n    content.style.left = left + 'px';\n    content.style.top = dataPoint.screen.y - lineHeight - contentHeight + 'px';\n    dot.style.left = dataPoint.screen.x - dotWidth / 2 + 'px';\n    dot.style.top = dataPoint.screen.y - dotHeight / 2 + 'px';\n  };\n\n  /**\n   * Hide the tooltip when displayed\n   * @private\n   */\n  Graph3d.prototype._hideTooltip = function () {\n    if (this.tooltip) {\n      this.tooltip.dataPoint = null;\n\n      for (var prop in this.tooltip.dom) {\n        if (this.tooltip.dom.hasOwnProperty(prop)) {\n          var elem = this.tooltip.dom[prop];\n          if (elem &amp;&amp; elem.parentNode) {\n            elem.parentNode.removeChild(elem);\n          }\n        }\n      }\n    }\n  };\n\n  /**--------------------------------------------------------------------------**/\n\n  /**\n   * Get the horizontal mouse position from a mouse event\n   * @param {Event} event\n   * @return {Number} mouse x\n   */\n  function getMouseX(event) {\n    if ('clientX' in event) return event.clientX;\n    return event.targetTouches[0] &amp;&amp; event.targetTouches[0].clientX || 0;\n  }\n\n  /**\n   * Get the vertical mouse position from a mouse event\n   * @param {Event} event\n   * @return {Number} mouse y\n   */\n  function getMouseY(event) {\n    if ('clientY' in event) return event.clientY;\n    return event.targetTouches[0] &amp;&amp; event.targetTouches[0].clientY || 0;\n  }\n\n  module.exports = Graph3d;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n  \n  /**\n   * Expose `Emitter`.\n   */\n\n  module.exports = Emitter;\n\n  /**\n   * Initialize a new `Emitter`.\n   *\n   * @api public\n   */\n\n  function Emitter(obj) {\n    if (obj) return mixin(obj);\n  };\n\n  /**\n   * Mixin the emitter properties.\n   *\n   * @param {Object} obj\n   * @return {Object}\n   * @api private\n   */\n\n  function mixin(obj) {\n    for (var key in Emitter.prototype) {\n      obj[key] = Emitter.prototype[key];\n    }\n    return obj;\n  }\n\n  /**\n   * Listen on the given `event` with `fn`.\n   *\n   * @param {String} event\n   * @param {Function} fn\n   * @return {Emitter}\n   * @api public\n   */\n\n  Emitter.prototype.on =\n  Emitter.prototype.addEventListener = function(event, fn){\n    this._callbacks = this._callbacks || {};\n    (this._callbacks[event] = this._callbacks[event] || [])\n      .push(fn);\n    return this;\n  };\n\n  /**\n   * Adds an `event` listener that will be invoked a single\n   * time then automatically removed.\n   *\n   * @param {String} event\n   * @param {Function} fn\n   * @return {Emitter}\n   * @api public\n   */\n\n  Emitter.prototype.once = function(event, fn){\n    var self = this;\n    this._callbacks = this._callbacks || {};\n\n    function on() {\n      self.off(event, on);\n      fn.apply(this, arguments);\n    }\n\n    on.fn = fn;\n    this.on(event, on);\n    return this;\n  };\n\n  /**\n   * Remove the given callback for `event` or all\n   * registered callbacks.\n   *\n   * @param {String} event\n   * @param {Function} fn\n   * @return {Emitter}\n   * @api public\n   */\n\n  Emitter.prototype.off =\n  Emitter.prototype.removeListener =\n  Emitter.prototype.removeAllListeners =\n  Emitter.prototype.removeEventListener = function(event, fn){\n    this._callbacks = this._callbacks || {};\n\n    // all\n    if (0 == arguments.length) {\n      this._callbacks = {};\n      return this;\n    }\n\n    // specific event\n    var callbacks = this._callbacks[event];\n    if (!callbacks) return this;\n\n    // remove all handlers\n    if (1 == arguments.length) {\n      delete this._callbacks[event];\n      return this;\n    }\n\n    // remove specific handler\n    var cb;\n    for (var i = 0; i &lt; callbacks.length; i++) {\n      cb = callbacks[i];\n      if (cb === fn || cb.fn === fn) {\n        callbacks.splice(i, 1);\n        break;\n      }\n    }\n    return this;\n  };\n\n  /**\n   * Emit `event` with the given args.\n   *\n   * @param {String} event\n   * @param {Mixed} ...\n   * @return {Emitter}\n   */\n\n  Emitter.prototype.emit = function(event){\n    this._callbacks = this._callbacks || {};\n    var args = [].slice.call(arguments, 1)\n      , callbacks = this._callbacks[event];\n\n    if (callbacks) {\n      callbacks = callbacks.slice(0);\n      for (var i = 0, len = callbacks.length; i &lt; len; ++i) {\n        callbacks[i].apply(this, args);\n      }\n    }\n\n    return this;\n  };\n\n  /**\n   * Return array of callbacks for `event`.\n   *\n   * @param {String} event\n   * @return {Array}\n   * @api public\n   */\n\n  Emitter.prototype.listeners = function(event){\n    this._callbacks = this._callbacks || {};\n    return this._callbacks[event] || [];\n  };\n\n  /**\n   * Check if this emitter has `event` handlers.\n   *\n   * @param {String} event\n   * @return {Boolean}\n   * @api public\n   */\n\n  Emitter.prototype.hasListeners = function(event){\n    return !! this.listeners(event).length;\n  };\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n  /**\n   * @prototype Point3d\n   * @param {Number} [x]\n   * @param {Number} [y]\n   * @param {Number} [z]\n   */\n  \&quot;use strict\&quot;;\n\n  function Point3d(x, y, z) {\n    this.x = x !== undefined ? x : 0;\n    this.y = y !== undefined ? y : 0;\n    this.z = z !== undefined ? z : 0;\n  };\n\n  /**\n   * Subtract the two provided points, returns a-b\n   * @param {Point3d} a\n   * @param {Point3d} b\n   * @return {Point3d} a-b\n   */\n  Point3d.subtract = function (a, b) {\n    var sub = new Point3d();\n    sub.x = a.x - b.x;\n    sub.y = a.y - b.y;\n    sub.z = a.z - b.z;\n    return sub;\n  };\n\n  /**\n   * Add the two provided points, returns a+b\n   * @param {Point3d} a\n   * @param {Point3d} b\n   * @return {Point3d} a+b\n   */\n  Point3d.add = function (a, b) {\n    var sum = new Point3d();\n    sum.x = a.x + b.x;\n    sum.y = a.y + b.y;\n    sum.z = a.z + b.z;\n    return sum;\n  };\n\n  /**\n   * Calculate the average of two 3d points\n   * @param {Point3d} a\n   * @param {Point3d} b\n   * @return {Point3d} The average, (a+b)/2\n   */\n  Point3d.avg = function (a, b) {\n    return new Point3d((a.x + b.x) / 2, (a.y + b.y) / 2, (a.z + b.z) / 2);\n  };\n\n  /**\n   * Calculate the cross product of the two provided points, returns axb\n   * Documentation: http://en.wikipedia.org/wiki/Cross_product\n   * @param {Point3d} a\n   * @param {Point3d} b\n   * @return {Point3d} cross product axb\n   */\n  Point3d.crossProduct = function (a, b) {\n    var crossproduct = new Point3d();\n\n    crossproduct.x = a.y * b.z - a.z * b.y;\n    crossproduct.y = a.z * b.x - a.x * b.z;\n    crossproduct.z = a.x * b.y - a.y * b.x;\n\n    return crossproduct;\n  };\n\n  /**\n   * Rtrieve the length of the vector (or the distance from this point to the origin\n   * @return {Number}  length\n   */\n  Point3d.prototype.length = function () {\n    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n  };\n\n  module.exports = Point3d;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n  /**\n   * @prototype Point2d\n   * @param {Number} [x]\n   * @param {Number} [y]\n   */\n  \&quot;use strict\&quot;;\n\n  function Point2d(x, y) {\n    this.x = x !== undefined ? x : 0;\n    this.y = y !== undefined ? y : 0;\n  }\n\n  module.exports = Point2d;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var Point3d = __webpack_require__(13);\n\n  /**\n   * @class Camera\n   * The camera is mounted on a (virtual) camera arm. The camera arm can rotate\n   * The camera is always looking in the direction of the origin of the arm.\n   * This way, the camera always rotates around one fixed point, the location\n   * of the camera arm.\n   *\n   * Documentation:\n   *   http://en.wikipedia.org/wiki/3D_projection\n   */\n  function Camera() {\n    this.armLocation = new Point3d();\n    this.armRotation = {};\n    this.armRotation.horizontal = 0;\n    this.armRotation.vertical = 0;\n    this.armLength = 1.7;\n\n    this.cameraLocation = new Point3d();\n    this.cameraRotation = new Point3d(0.5 * Math.PI, 0, 0);\n\n    this.calculateCameraOrientation();\n  }\n\n  /**\n   * Set the location (origin) of the arm\n   * @param {Number} x  Normalized value of x\n   * @param {Number} y  Normalized value of y\n   * @param {Number} z  Normalized value of z\n   */\n  Camera.prototype.setArmLocation = function (x, y, z) {\n    this.armLocation.x = x;\n    this.armLocation.y = y;\n    this.armLocation.z = z;\n\n    this.calculateCameraOrientation();\n  };\n\n  /**\n   * Set the rotation of the camera arm\n   * @param {Number} horizontal   The horizontal rotation, between 0 and 2*PI.\n   *                Optional, can be left undefined.\n   * @param {Number} vertical   The vertical rotation, between 0 and 0.5*PI\n   *                if vertical=0.5*PI, the graph is shown from the\n   *                top. Optional, can be left undefined.\n   */\n  Camera.prototype.setArmRotation = function (horizontal, vertical) {\n    if (horizontal !== undefined) {\n      this.armRotation.horizontal = horizontal;\n    }\n\n    if (vertical !== undefined) {\n      this.armRotation.vertical = vertical;\n      if (this.armRotation.vertical &lt; 0) this.armRotation.vertical = 0;\n      if (this.armRotation.vertical &gt; 0.5 * Math.PI) this.armRotation.vertical = 0.5 * Math.PI;\n    }\n\n    if (horizontal !== undefined || vertical !== undefined) {\n      this.calculateCameraOrientation();\n    }\n  };\n\n  /**\n   * Retrieve the current arm rotation\n   * @return {object}   An object with parameters horizontal and vertical\n   */\n  Camera.prototype.getArmRotation = function () {\n    var rot = {};\n    rot.horizontal = this.armRotation.horizontal;\n    rot.vertical = this.armRotation.vertical;\n\n    return rot;\n  };\n\n  /**\n   * Set the (normalized) length of the camera arm.\n   * @param {Number} length A length between 0.71 and 5.0\n   */\n  Camera.prototype.setArmLength = function (length) {\n    if (length === undefined) return;\n\n    this.armLength = length;\n\n    // Radius must be larger than the corner of the graph,\n    // which has a distance of sqrt(0.5^2+0.5^2) = 0.71 from the center of the\n    // graph\n    if (this.armLength &lt; 0.71) this.armLength = 0.71;\n    if (this.armLength &gt; 5.0) this.armLength = 5.0;\n\n    this.calculateCameraOrientation();\n  };\n\n  /**\n   * Retrieve the arm length\n   * @return {Number} length\n   */\n  Camera.prototype.getArmLength = function () {\n    return this.armLength;\n  };\n\n  /**\n   * Retrieve the camera location\n   * @return {Point3d} cameraLocation\n   */\n  Camera.prototype.getCameraLocation = function () {\n    return this.cameraLocation;\n  };\n\n  /**\n   * Retrieve the camera rotation\n   * @return {Point3d} cameraRotation\n   */\n  Camera.prototype.getCameraRotation = function () {\n    return this.cameraRotation;\n  };\n\n  /**\n   * Calculate the location and rotation of the camera based on the\n   * position and orientation of the camera arm\n   */\n  Camera.prototype.calculateCameraOrientation = function () {\n    // calculate location of the camera\n    this.cameraLocation.x = this.armLocation.x - this.armLength * Math.sin(this.armRotation.horizontal) * Math.cos(this.armRotation.vertical);\n    this.cameraLocation.y = this.armLocation.y - this.armLength * Math.cos(this.armRotation.horizontal) * Math.cos(this.armRotation.vertical);\n    this.cameraLocation.z = this.armLocation.z + this.armLength * Math.sin(this.armRotation.vertical);\n\n    // calculate rotation of the camera\n    this.cameraRotation.x = Math.PI / 2 - this.armRotation.vertical;\n    this.cameraRotation.y = 0;\n    this.cameraRotation.z = -this.armRotation.horizontal;\n  };\n\n  module.exports = Camera;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var DataView = __webpack_require__(10);\n\n  /**\n   * @class Filter\n   *\n   * @param {DataSet} data The google data table\n   * @param {Number}  column             The index of the column to be filtered\n   * @param {Graph} graph           The graph\n   */\n  function Filter(data, column, graph) {\n    this.data = data;\n    this.column = column;\n    this.graph = graph; // the parent graph\n\n    this.index = undefined;\n    this.value = undefined;\n\n    // read all distinct values and select the first one\n    this.values = graph.getDistinctValues(data.get(), this.column);\n\n    // sort both numeric and string values correctly\n    this.values.sort(function (a, b) {\n      return a &gt; b ? 1 : a &lt; b ? -1 : 0;\n    });\n\n    if (this.values.length &gt; 0) {\n      this.selectValue(0);\n    }\n\n    // create an array with the filtered datapoints. this will be loaded afterwards\n    this.dataPoints = [];\n\n    this.loaded = false;\n    this.onLoadCallback = undefined;\n\n    if (graph.animationPreload) {\n      this.loaded = false;\n      this.loadInBackground();\n    } else {\n      this.loaded = true;\n    }\n  };\n\n  /**\n   * Return the label\n   * @return {string} label\n   */\n  Filter.prototype.isLoaded = function () {\n    return this.loaded;\n  };\n\n  /**\n   * Return the loaded progress\n   * @return {Number} percentage between 0 and 100\n   */\n  Filter.prototype.getLoadedProgress = function () {\n    var len = this.values.length;\n\n    var i = 0;\n    while (this.dataPoints[i]) {\n      i++;\n    }\n\n    return Math.round(i / len * 100);\n  };\n\n  /**\n   * Return the label\n   * @return {string} label\n   */\n  Filter.prototype.getLabel = function () {\n    return this.graph.filterLabel;\n  };\n\n  /**\n   * Return the columnIndex of the filter\n   * @return {Number} columnIndex\n   */\n  Filter.prototype.getColumn = function () {\n    return this.column;\n  };\n\n  /**\n   * Return the currently selected value. Returns undefined if there is no selection\n   * @return {*} value\n   */\n  Filter.prototype.getSelectedValue = function () {\n    if (this.index === undefined) return undefined;\n\n    return this.values[this.index];\n  };\n\n  /**\n   * Retrieve all values of the filter\n   * @return {Array} values\n   */\n  Filter.prototype.getValues = function () {\n    return this.values;\n  };\n\n  /**\n   * Retrieve one value of the filter\n   * @param {Number}  index\n   * @return {*} value\n   */\n  Filter.prototype.getValue = function (index) {\n    if (index &gt;= this.values.length) throw 'Error: index out of range';\n\n    return this.values[index];\n  };\n\n  /**\n   * Retrieve the (filtered) dataPoints for the currently selected filter index\n   * @param {Number} [index] (optional)\n   * @return {Array} dataPoints\n   */\n  Filter.prototype._getDataPoints = function (index) {\n    if (index === undefined) index = this.index;\n\n    if (index === undefined) return [];\n\n    var dataPoints;\n    if (this.dataPoints[index]) {\n      dataPoints = this.dataPoints[index];\n    } else {\n      var f = {};\n      f.column = this.column;\n      f.value = this.values[index];\n\n      var dataView = new DataView(this.data, { filter: function filter(item) {\n          return item[f.column] == f.value;\n        } }).get();\n      dataPoints = this.graph._getDataPoints(dataView);\n\n      this.dataPoints[index] = dataPoints;\n    }\n\n    return dataPoints;\n  };\n\n  /**\n   * Set a callback function when the filter is fully loaded.\n   */\n  Filter.prototype.setOnLoadCallback = function (callback) {\n    this.onLoadCallback = callback;\n  };\n\n  /**\n   * Add a value to the list with available values for this filter\n   * No double entries will be created.\n   * @param {Number} index\n   */\n  Filter.prototype.selectValue = function (index) {\n    if (index &gt;= this.values.length) throw 'Error: index out of range';\n\n    this.index = index;\n    this.value = this.values[index];\n  };\n\n  /**\n   * Load all filtered rows in the background one by one\n   * Start this method without providing an index!\n   */\n  Filter.prototype.loadInBackground = function (index) {\n    if (index === undefined) index = 0;\n\n    var frame = this.graph.frame;\n\n    if (index &lt; this.values.length) {\n      var dataPointsTemp = this._getDataPoints(index);\n      //this.graph.redrawInfo(); // TODO: not neat\n\n      // create a progress box\n      if (frame.progress === undefined) {\n        frame.progress = document.createElement('DIV');\n        frame.progress.style.position = 'absolute';\n        frame.progress.style.color = 'gray';\n        frame.appendChild(frame.progress);\n      }\n      var progress = this.getLoadedProgress();\n      frame.progress.innerHTML = 'Loading animation... ' + progress + '%';\n      // TODO: this is no nice solution...\n      frame.progress.style.bottom = 60 + 'px'; // TODO: use height of slider\n      frame.progress.style.left = 10 + 'px';\n\n      var me = this;\n      setTimeout(function () {\n        me.loadInBackground(index + 1);\n      }, 10);\n      this.loaded = false;\n    } else {\n      this.loaded = true;\n\n      // remove the progress box\n      if (frame.progress !== undefined) {\n        frame.removeChild(frame.progress);\n        frame.progress = undefined;\n      }\n\n      if (this.onLoadCallback) this.onLoadCallback();\n    }\n  };\n\n  module.exports = Filter;\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var util = __webpack_require__(1);\n\n  /**\n   * @constructor Slider\n   *\n   * An html slider control with start/stop/prev/next buttons\n   * @param {Element} container  The element where the slider will be created\n   * @param {Object} options   Available options:\n   *                 {boolean} visible   If true (default) the\n   *                           slider is visible.\n   */\n  function Slider(container, options) {\n    if (container === undefined) {\n      throw 'Error: No container element defined';\n    }\n    this.container = container;\n    this.visible = options &amp;&amp; options.visible != undefined ? options.visible : true;\n\n    if (this.visible) {\n      this.frame = document.createElement('DIV');\n      //this.frame.style.backgroundColor = '#E5E5E5';\n      this.frame.style.width = '100%';\n      this.frame.style.position = 'relative';\n      this.container.appendChild(this.frame);\n\n      this.frame.prev = document.createElement('INPUT');\n      this.frame.prev.type = 'BUTTON';\n      this.frame.prev.value = 'Prev';\n      this.frame.appendChild(this.frame.prev);\n\n      this.frame.play = document.createElement('INPUT');\n      this.frame.play.type = 'BUTTON';\n      this.frame.play.value = 'Play';\n      this.frame.appendChild(this.frame.play);\n\n      this.frame.next = document.createElement('INPUT');\n      this.frame.next.type = 'BUTTON';\n      this.frame.next.value = 'Next';\n      this.frame.appendChild(this.frame.next);\n\n      this.frame.bar = document.createElement('INPUT');\n      this.frame.bar.type = 'BUTTON';\n      this.frame.bar.style.position = 'absolute';\n      this.frame.bar.style.border = '1px solid red';\n      this.frame.bar.style.width = '100px';\n      this.frame.bar.style.height = '6px';\n      this.frame.bar.style.borderRadius = '2px';\n      this.frame.bar.style.MozBorderRadius = '2px';\n      this.frame.bar.style.border = '1px solid #7F7F7F';\n      this.frame.bar.style.backgroundColor = '#E5E5E5';\n      this.frame.appendChild(this.frame.bar);\n\n      this.frame.slide = document.createElement('INPUT');\n      this.frame.slide.type = 'BUTTON';\n      this.frame.slide.style.margin = '0px';\n      this.frame.slide.value = ' ';\n      this.frame.slide.style.position = 'relative';\n      this.frame.slide.style.left = '-100px';\n      this.frame.appendChild(this.frame.slide);\n\n      // create events\n      var me = this;\n      this.frame.slide.onmousedown = function (event) {\n        me._onMouseDown(event);\n      };\n      this.frame.prev.onclick = function (event) {\n        me.prev(event);\n      };\n      this.frame.play.onclick = function (event) {\n        me.togglePlay(event);\n      };\n      this.frame.next.onclick = function (event) {\n        me.next(event);\n      };\n    }\n\n    this.onChangeCallback = undefined;\n\n    this.values = [];\n    this.index = undefined;\n\n    this.playTimeout = undefined;\n    this.playInterval = 1000; // milliseconds\n    this.playLoop = true;\n  }\n\n  /**\n   * Select the previous index\n   */\n  Slider.prototype.prev = function () {\n    var index = this.getIndex();\n    if (index &gt; 0) {\n      index--;\n      this.setIndex(index);\n    }\n  };\n\n  /**\n   * Select the next index\n   */\n  Slider.prototype.next = function () {\n    var index = this.getIndex();\n    if (index &lt; this.values.length - 1) {\n      index++;\n      this.setIndex(index);\n    }\n  };\n\n  /**\n   * Select the next index\n   */\n  Slider.prototype.playNext = function () {\n    var start = new Date();\n\n    var index = this.getIndex();\n    if (index &lt; this.values.length - 1) {\n      index++;\n      this.setIndex(index);\n    } else if (this.playLoop) {\n      // jump to the start\n      index = 0;\n      this.setIndex(index);\n    }\n\n    var end = new Date();\n    var diff = end - start;\n\n    // calculate how much time it to to set the index and to execute the callback\n    // function.\n    var interval = Math.max(this.playInterval - diff, 0);\n    // document.title = diff // TODO: cleanup\n\n    var me = this;\n    this.playTimeout = setTimeout(function () {\n      me.playNext();\n    }, interval);\n  };\n\n  /**\n   * Toggle start or stop playing\n   */\n  Slider.prototype.togglePlay = function () {\n    if (this.playTimeout === undefined) {\n      this.play();\n    } else {\n      this.stop();\n    }\n  };\n\n  /**\n   * Start playing\n   */\n  Slider.prototype.play = function () {\n    // Test whether already playing\n    if (this.playTimeout) return;\n\n    this.playNext();\n\n    if (this.frame) {\n      this.frame.play.value = 'Stop';\n    }\n  };\n\n  /**\n   * Stop playing\n   */\n  Slider.prototype.stop = function () {\n    clearInterval(this.playTimeout);\n    this.playTimeout = undefined;\n\n    if (this.frame) {\n      this.frame.play.value = 'Play';\n    }\n  };\n\n  /**\n   * Set a callback function which will be triggered when the value of the\n   * slider bar has changed.\n   */\n  Slider.prototype.setOnChangeCallback = function (callback) {\n    this.onChangeCallback = callback;\n  };\n\n  /**\n   * Set the interval for playing the list\n   * @param {Number} interval   The interval in milliseconds\n   */\n  Slider.prototype.setPlayInterval = function (interval) {\n    this.playInterval = interval;\n  };\n\n  /**\n   * Retrieve the current play interval\n   * @return {Number} interval   The interval in milliseconds\n   */\n  Slider.prototype.getPlayInterval = function (interval) {\n    return this.playInterval;\n  };\n\n  /**\n   * Set looping on or off\n   * @pararm {boolean} doLoop  If true, the slider will jump to the start when\n   *               the end is passed, and will jump to the end\n   *               when the start is passed.\n   */\n  Slider.prototype.setPlayLoop = function (doLoop) {\n    this.playLoop = doLoop;\n  };\n\n  /**\n   * Execute the onchange callback function\n   */\n  Slider.prototype.onChange = function () {\n    if (this.onChangeCallback !== undefined) {\n      this.onChangeCallback();\n    }\n  };\n\n  /**\n   * redraw the slider on the correct place\n   */\n  Slider.prototype.redraw = function () {\n    if (this.frame) {\n      // resize the bar\n      this.frame.bar.style.top = this.frame.clientHeight / 2 - this.frame.bar.offsetHeight / 2 + 'px';\n      this.frame.bar.style.width = this.frame.clientWidth - this.frame.prev.clientWidth - this.frame.play.clientWidth - this.frame.next.clientWidth - 30 + 'px';\n\n      // position the slider button\n      var left = this.indexToLeft(this.index);\n      this.frame.slide.style.left = left + 'px';\n    }\n  };\n\n  /**\n   * Set the list with values for the slider\n   * @param {Array} values   A javascript array with values (any type)\n   */\n  Slider.prototype.setValues = function (values) {\n    this.values = values;\n\n    if (this.values.length &gt; 0) this.setIndex(0);else this.index = undefined;\n  };\n\n  /**\n   * Select a value by its index\n   * @param {Number} index\n   */\n  Slider.prototype.setIndex = function (index) {\n    if (index &lt; this.values.length) {\n      this.index = index;\n\n      this.redraw();\n      this.onChange();\n    } else {\n      throw 'Error: index out of range';\n    }\n  };\n\n  /**\n   * retrieve the index of the currently selected vaue\n   * @return {Number} index\n   */\n  Slider.prototype.getIndex = function () {\n    return this.index;\n  };\n\n  /**\n   * retrieve the currently selected value\n   * @return {*} value\n   */\n  Slider.prototype.get = function () {\n    return this.values[this.index];\n  };\n\n  Slider.prototype._onMouseDown = function (event) {\n    // only react on left mouse button down\n    var leftButtonDown = event.which ? event.which === 1 : event.button === 1;\n    if (!leftButtonDown) return;\n\n    this.startClientX = event.clientX;\n    this.startSlideX = parseFloat(this.frame.slide.style.left);\n\n    this.frame.style.cursor = 'move';\n\n    // add event listeners to handle moving the contents\n    // we store the function onmousemove and onmouseup in the graph, so we can\n    // remove the eventlisteners lateron in the function mouseUp()\n    var me = this;\n    this.onmousemove = function (event) {\n      me._onMouseMove(event);\n    };\n    this.onmouseup = function (event) {\n      me._onMouseUp(event);\n    };\n    util.addEventListener(document, 'mousemove', this.onmousemove);\n    util.addEventListener(document, 'mouseup', this.onmouseup);\n    util.preventDefault(event);\n  };\n\n  Slider.prototype.leftToIndex = function (left) {\n    var width = parseFloat(this.frame.bar.style.width) - this.frame.slide.clientWidth - 10;\n    var x = left - 3;\n\n    var index = Math.round(x / width * (this.values.length - 1));\n    if (index &lt; 0) index = 0;\n    if (index &gt; this.values.length - 1) index = this.values.length - 1;\n\n    return index;\n  };\n\n  Slider.prototype.indexToLeft = function (index) {\n    var width = parseFloat(this.frame.bar.style.width) - this.frame.slide.clientWidth - 10;\n\n    var x = index / (this.values.length - 1) * width;\n    var left = x + 3;\n\n    return left;\n  };\n\n  Slider.prototype._onMouseMove = function (event) {\n    var diff = event.clientX - this.startClientX;\n    var x = this.startSlideX + diff;\n\n    var index = this.leftToIndex(x);\n\n    this.setIndex(index);\n\n    util.preventDefault();\n  };\n\n  Slider.prototype._onMouseUp = function (event) {\n    this.frame.style.cursor = 'auto';\n\n    // remove event listeners\n    util.removeEventListener(document, 'mousemove', this.onmousemove);\n    util.removeEventListener(document, 'mouseup', this.onmouseup);\n\n    util.preventDefault();\n  };\n\n  module.exports = Slider;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n  /**\n   * @prototype StepNumber\n   * The class StepNumber is an iterator for Numbers. You provide a start and end\n   * value, and a best step size. StepNumber itself rounds to fixed values and\n   * a finds the step that best fits the provided step.\n   *\n   * If prettyStep is true, the step size is chosen as close as possible to the\n   * provided step, but being a round value like 1, 2, 5, 10, 20, 50, ....\n   *\n   * Example usage:\n   *   var step = new StepNumber(0, 10, 2.5, true);\n   *   step.start();\n   *   while (!step.end()) {\n   *   alert(step.getCurrent());\n   *   step.next();\n   *   }\n   *\n   * Version: 1.0\n   *\n   * @param {Number} start     The start value\n   * @param {Number} end     The end value\n   * @param {Number} step    Optional. Step size. Must be a positive value.\n   * @param {boolean} prettyStep Optional. If true, the step size is rounded\n   *               To a pretty step size (like 1, 2, 5, 10, 20, 50, ...)\n   */\n  \&quot;use strict\&quot;;\n\n  function StepNumber(start, end, step, prettyStep) {\n    // set default values\n    this._start = 0;\n    this._end = 0;\n    this._step = 1;\n    this.prettyStep = true;\n    this.precision = 5;\n\n    this._current = 0;\n    this.setRange(start, end, step, prettyStep);\n  };\n\n  /**\n   * Set a new range: start, end and step.\n   *\n   * @param {Number} start     The start value\n   * @param {Number} end     The end value\n   * @param {Number} step    Optional. Step size. Must be a positive value.\n   * @param {boolean} prettyStep Optional. If true, the step size is rounded\n   *               To a pretty step size (like 1, 2, 5, 10, 20, 50, ...)\n   */\n  StepNumber.prototype.setRange = function (start, end, step, prettyStep) {\n    this._start = start ? start : 0;\n    this._end = end ? end : 0;\n\n    this.setStep(step, prettyStep);\n  };\n\n  /**\n   * Set a new step size\n   * @param {Number} step    New step size. Must be a positive value\n   * @param {boolean} prettyStep Optional. If true, the provided step is rounded\n   *               to a pretty step size (like 1, 2, 5, 10, 20, 50, ...)\n   */\n  StepNumber.prototype.setStep = function (step, prettyStep) {\n    if (step === undefined || step &lt;= 0) return;\n\n    if (prettyStep !== undefined) this.prettyStep = prettyStep;\n\n    if (this.prettyStep === true) this._step = StepNumber.calculatePrettyStep(step);else this._step = step;\n  };\n\n  /**\n   * Calculate a nice step size, closest to the desired step size.\n   * Returns a value in one of the ranges 1*10^n, 2*10^n, or 5*10^n, where n is an\n   * integer Number. For example 1, 2, 5, 10, 20, 50, etc...\n   * @param {Number}  step  Desired step size\n   * @return {Number}     Nice step size\n   */\n  StepNumber.calculatePrettyStep = function (step) {\n    var log10 = function log10(x) {\n      return Math.log(x) / Math.LN10;\n    };\n\n    // try three steps (multiple of 1, 2, or 5\n    var step1 = Math.pow(10, Math.round(log10(step))),\n        step2 = 2 * Math.pow(10, Math.round(log10(step / 2))),\n        step5 = 5 * Math.pow(10, Math.round(log10(step / 5)));\n\n    // choose the best step (closest to minimum step)\n    var prettyStep = step1;\n    if (Math.abs(step2 - step) &lt;= Math.abs(prettyStep - step)) prettyStep = step2;\n    if (Math.abs(step5 - step) &lt;= Math.abs(prettyStep - step)) prettyStep = step5;\n\n    // for safety\n    if (prettyStep &lt;= 0) {\n      prettyStep = 1;\n    }\n\n    return prettyStep;\n  };\n\n  /**\n   * returns the current value of the step\n   * @return {Number} current value\n   */\n  StepNumber.prototype.getCurrent = function () {\n    return parseFloat(this._current.toPrecision(this.precision));\n  };\n\n  /**\n   * returns the current step size\n   * @return {Number} current step size\n   */\n  StepNumber.prototype.getStep = function () {\n    return this._step;\n  };\n\n  /**\n   * Set the current value to the largest value smaller than start, which\n   * is a multiple of the step size\n   */\n  StepNumber.prototype.start = function () {\n    this._current = this._start - this._start % this._step;\n  };\n\n  /**\n   * Do a step, add the step size to the current value\n   */\n  StepNumber.prototype.next = function () {\n    this._current += this._step;\n  };\n\n  /**\n   * Returns true whether the end is reached\n   * @return {boolean}  True if the current value has passed the end value.\n   */\n  StepNumber.prototype.end = function () {\n    return this._current &gt; this._end;\n  };\n\n  module.exports = StepNumber;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var Emitter = __webpack_require__(12);\n  var Hammer = __webpack_require__(20);\n  var moment = __webpack_require__(2);\n  var util = __webpack_require__(1);\n  var DataSet = __webpack_require__(8);\n  var DataView = __webpack_require__(10);\n  var Range = __webpack_require__(23);\n  var Core = __webpack_require__(27);\n  var TimeAxis = __webpack_require__(38);\n  var CurrentTime = __webpack_require__(43);\n  var CustomTime = __webpack_require__(41);\n  var ItemSet = __webpack_require__(28);\n\n  var Configurator = __webpack_require__(44);\n  var Validator = __webpack_require__(46)['default'];\n  var printStyle = __webpack_require__(46).printStyle;\n  var allOptions = __webpack_require__(47).allOptions;\n  var configureOptions = __webpack_require__(47).configureOptions;\n\n  /**\n   * Create a timeline visualization\n   * @param {HTMLElement} container\n   * @param {vis.DataSet | vis.DataView | Array} [items]\n   * @param {vis.DataSet | vis.DataView | Array} [groups]\n   * @param {Object} [options]  See Timeline.setOptions for the available options.\n   * @constructor\n   * @extends Core\n   */\n  function Timeline(container, items, groups, options) {\n    if (!(this instanceof Timeline)) {\n      throw new SyntaxError('Constructor must be called with the new operator');\n    }\n\n    // if the third element is options, the forth is groups (optionally);\n    if (!(Array.isArray(groups) || groups instanceof DataSet || groups instanceof DataView) &amp;&amp; groups instanceof Object) {\n      var forthArgument = options;\n      options = groups;\n      groups = forthArgument;\n    }\n\n    var me = this;\n    this.defaultOptions = {\n      start: null,\n      end: null,\n\n      autoResize: true,\n      throttleRedraw: 0, // ms\n\n      orientation: {\n        axis: 'bottom', // axis orientation: 'bottom', 'top', or 'both'\n        item: 'bottom' // not relevant\n      },\n\n      moment: moment,\n\n      width: null,\n      height: null,\n      maxHeight: null,\n      minHeight: null\n    };\n    this.options = util.deepExtend({}, this.defaultOptions);\n\n    // Create the DOM, props, and emitter\n    this._create(container);\n\n    // all components listed here will be repainted automatically\n    this.components = [];\n\n    this.body = {\n      dom: this.dom,\n      domProps: this.props,\n      emitter: {\n        on: this.on.bind(this),\n        off: this.off.bind(this),\n        emit: this.emit.bind(this)\n      },\n      hiddenDates: [],\n      util: {\n        getScale: function getScale() {\n          return me.timeAxis.step.scale;\n        },\n        getStep: function getStep() {\n          return me.timeAxis.step.step;\n        },\n\n        toScreen: me._toScreen.bind(me),\n        toGlobalScreen: me._toGlobalScreen.bind(me), // this refers to the root.width\n        toTime: me._toTime.bind(me),\n        toGlobalTime: me._toGlobalTime.bind(me)\n      }\n    };\n\n    // range\n    this.range = new Range(this.body);\n    this.components.push(this.range);\n    this.body.range = this.range;\n\n    // time axis\n    this.timeAxis = new TimeAxis(this.body);\n    this.timeAxis2 = null; // used in case of orientation option 'both'\n    this.components.push(this.timeAxis);\n\n    // current time bar\n    this.currentTime = new CurrentTime(this.body);\n    this.components.push(this.currentTime);\n\n    // item set\n    this.itemSet = new ItemSet(this.body);\n    this.components.push(this.itemSet);\n\n    this.itemsData = null; // DataSet\n    this.groupsData = null; // DataSet\n\n    this.on('tap', function (event) {\n      me.emit('click', me.getEventProperties(event));\n    });\n    this.on('doubletap', function (event) {\n      me.emit('doubleClick', me.getEventProperties(event));\n    });\n    this.dom.root.oncontextmenu = function (event) {\n      me.emit('contextmenu', me.getEventProperties(event));\n    };\n\n    //Single time autoscale/fit\n    this.fitDone = false;\n    this.on('changed', function () {\n      if (this.itemsData == null) return;\n      if (!me.fitDone) {\n        me.fitDone = true;\n        if (me.options.start != undefined || me.options.end != undefined) {\n          if (me.options.start == undefined || me.options.end == undefined) {\n            var range = me.getItemRange();\n          }\n\n          var start = me.options.start != undefined ? me.options.start : range.min;\n          var end = me.options.end != undefined ? me.options.end : range.max;\n\n          me.setWindow(start, end, { animation: false });\n        } else {\n          me.fit({ animation: false });\n        }\n      }\n    });\n\n    // apply options\n    if (options) {\n      this.setOptions(options);\n    }\n\n    // IMPORTANT: THIS HAPPENS BEFORE SET ITEMS!\n    if (groups) {\n      this.setGroups(groups);\n    }\n\n    // create itemset\n    if (items) {\n      this.setItems(items);\n    }\n\n    // draw for the first time\n    this._redraw();\n  }\n\n  // Extend the functionality from Core\n  Timeline.prototype = new Core();\n\n  /**\n   * Load a configurator\n   * @return {Object}\n   * @private\n   */\n  Timeline.prototype._createConfigurator = function () {\n    return new Configurator(this, this.dom.container, configureOptions);\n  };\n\n  /**\n   * Force a redraw. The size of all items will be recalculated.\n   * Can be useful to manually redraw when option autoResize=false and the window\n   * has been resized, or when the items CSS has been changed.\n   *\n   * Note: this function will be overridden on construction with a trottled version\n   */\n  Timeline.prototype.redraw = function () {\n    this.itemSet &amp;&amp; this.itemSet.markDirty({ refreshItems: true });\n    this._redraw();\n  };\n\n  Timeline.prototype.setOptions = function (options) {\n    // validate options\n    var errorFound = Validator.validate(options, allOptions);\n    if (errorFound === true) {\n      console.log('%cErrors have been found in the supplied options object.', printStyle);\n    }\n\n    Core.prototype.setOptions.call(this, options);\n\n    if ('type' in options) {\n      if (options.type !== this.options.type) {\n        this.options.type = options.type;\n\n        // force recreation of all items\n        var itemsData = this.itemsData;\n        if (itemsData) {\n          var selection = this.getSelection();\n          this.setItems(null); // remove all\n          this.setItems(itemsData); // add all\n          this.setSelection(selection); // restore selection\n        }\n      }\n    }\n  };\n\n  /**\n   * Set items\n   * @param {vis.DataSet | Array | null} items\n   */\n  Timeline.prototype.setItems = function (items) {\n    // convert to type DataSet when needed\n    var newDataSet;\n    if (!items) {\n      newDataSet = null;\n    } else if (items instanceof DataSet || items instanceof DataView) {\n      newDataSet = items;\n    } else {\n      // turn an array into a dataset\n      newDataSet = new DataSet(items, {\n        type: {\n          start: 'Date',\n          end: 'Date'\n        }\n      });\n    }\n\n    // set items\n    this.itemsData = newDataSet;\n    this.itemSet &amp;&amp; this.itemSet.setItems(newDataSet);\n  };\n\n  /**\n   * Set groups\n   * @param {vis.DataSet | Array} groups\n   */\n  Timeline.prototype.setGroups = function (groups) {\n    // convert to type DataSet when needed\n    var newDataSet;\n    if (!groups) {\n      newDataSet = null;\n    } else if (groups instanceof DataSet || groups instanceof DataView) {\n      newDataSet = groups;\n    } else {\n      // turn an array into a dataset\n      newDataSet = new DataSet(groups);\n    }\n\n    this.groupsData = newDataSet;\n    this.itemSet.setGroups(newDataSet);\n  };\n\n  /**\n   * Set both items and groups in one go\n   * @param {{items: Array | vis.DataSet, groups: Array | vis.DataSet}} data\n   */\n  Timeline.prototype.setData = function (data) {\n    if (data &amp;&amp; data.groups) {\n      this.setGroups(data.groups);\n    }\n\n    if (data &amp;&amp; data.items) {\n      this.setItems(data.items);\n    }\n  };\n\n  /**\n   * Set selected items by their id. Replaces the current selection\n   * Unknown id's are silently ignored.\n   * @param {string[] | string} [ids]  An array with zero or more id's of the items to be\n   *                                selected. If ids is an empty array, all items will be\n   *                                unselected.\n   * @param {Object} [options]      Available options:\n   *                                `focus: boolean`\n   *                                    If true, focus will be set to the selected item(s)\n   *                                `animation: boolean | {duration: number, easingFunction: string}`\n   *                                    If true (default), the range is animated\n   *                                    smoothly to the new window. An object can be\n   *                                    provided to specify duration and easing function.\n   *                                    Default duration is 500 ms, and default easing\n   *                                    function is 'easeInOutQuad'.\n   *                                    Only applicable when option focus is true.\n   */\n  Timeline.prototype.setSelection = function (ids, options) {\n    this.itemSet &amp;&amp; this.itemSet.setSelection(ids);\n\n    if (options &amp;&amp; options.focus) {\n      this.focus(ids, options);\n    }\n  };\n\n  /**\n   * Get the selected items by their id\n   * @return {Array} ids  The ids of the selected items\n   */\n  Timeline.prototype.getSelection = function () {\n    return this.itemSet &amp;&amp; this.itemSet.getSelection() || [];\n  };\n\n  /**\n   * Adjust the visible window such that the selected item (or multiple items)\n   * are centered on screen.\n   * @param {String | String[]} id     An item id or array with item ids\n   * @param {Object} [options]      Available options:\n   *                                `animation: boolean | {duration: number, easingFunction: string}`\n   *                                    If true (default), the range is animated\n   *                                    smoothly to the new window. An object can be\n   *                                    provided to specify duration and easing function.\n   *                                    Default duration is 500 ms, and default easing\n   *                                    function is 'easeInOutQuad'.\n   */\n  Timeline.prototype.focus = function (id, options) {\n    if (!this.itemsData || id == undefined) return;\n\n    var ids = Array.isArray(id) ? id : [id];\n\n    // get the specified item(s)\n    var itemsData = this.itemsData.getDataSet().get(ids, {\n      type: {\n        start: 'Date',\n        end: 'Date'\n      }\n    });\n\n    // calculate minimum start and maximum end of specified items\n    var start = null;\n    var end = null;\n    itemsData.forEach(function (itemData) {\n      var s = itemData.start.valueOf();\n      var e = 'end' in itemData ? itemData.end.valueOf() : itemData.start.valueOf();\n\n      if (start === null || s &lt; start) {\n        start = s;\n      }\n\n      if (end === null || e &gt; end) {\n        end = e;\n      }\n    });\n\n    if (start !== null &amp;&amp; end !== null) {\n      // calculate the new middle and interval for the window\n      var middle = (start + end) / 2;\n      var interval = Math.max(this.range.end - this.range.start, (end - start) * 1.1);\n\n      var animation = options &amp;&amp; options.animation !== undefined ? options.animation : true;\n      this.range.setRange(middle - interval / 2, middle + interval / 2, animation);\n    }\n  };\n\n  /**\n   * Set Timeline window such that it fits all items\n   * @param {Object} [options]  Available options:\n   *                                `animation: boolean | {duration: number, easingFunction: string}`\n   *                                    If true (default), the range is animated\n   *                                    smoothly to the new window. An object can be\n   *                                    provided to specify duration and easing function.\n   *                                    Default duration is 500 ms, and default easing\n   *                                    function is 'easeInOutQuad'.\n   */\n  Timeline.prototype.fit = function (options) {\n    var animation = options &amp;&amp; options.animation !== undefined ? options.animation : true;\n    var range = this.getItemRange();\n    this.range.setRange(range.min, range.max, animation);\n  };\n\n  /**\n   * Determine the range of the items, taking into account their actual width\n   * and a margin of 10 pixels on both sides.\n   * @return {{min: Date | null, max: Date | null}}\n   */\n  Timeline.prototype.getItemRange = function () {\n    var _this = this;\n\n    // get a rough approximation for the range based on the items start and end dates\n    var range = this.getDataRange();\n    var min = range.min !== null ? range.min.valueOf() : null;\n    var max = range.max !== null ? range.max.valueOf() : null;\n    var minItem = null;\n    var maxItem = null;\n\n    if (min != null &amp;&amp; max != null) {\n      var interval;\n      var factor;\n      var lhs;\n      var rhs;\n      var delta;\n\n      (function () {\n        var getStart = function getStart(item) {\n          return util.convert(item.data.start, 'Date').valueOf();\n        };\n\n        var getEnd = function getEnd(item) {\n          var end = item.data.end != undefined ? item.data.end : item.data.start;\n          return util.convert(end, 'Date').valueOf();\n        }\n\n        // calculate the date of the left side and right side of the items given\n        ;\n\n        interval = max - min;\n        // ms\n        if (interval &lt;= 0) {\n          interval = 10;\n        }\n        factor = interval / _this.props.center.width;\n        util.forEach(_this.itemSet.items, (function (item) {\n          item.show();\n          item.repositionX();\n\n          var start = getStart(item);\n          var end = getEnd(item);\n\n          var left = start - (item.getWidthLeft() + 10) * factor;\n          var right = end + (item.getWidthRight() + 10) * factor;\n\n          if (left &lt; min) {\n            min = left;\n            minItem = item;\n          }\n          if (right &gt; max) {\n            max = right;\n            maxItem = item;\n          }\n        }).bind(_this));\n\n        if (minItem &amp;&amp; maxItem) {\n          lhs = minItem.getWidthLeft() + 10;\n          rhs = maxItem.getWidthRight() + 10;\n          delta = _this.props.center.width - lhs - rhs;\n          // px\n\n          if (delta &gt; 0) {\n            min = getStart(minItem) - lhs * interval / delta; // ms\n            max = getEnd(maxItem) + rhs * interval / delta; // ms\n          }\n        }\n      })();\n    }\n\n    return {\n      min: min != null ? new Date(min) : null,\n      max: max != null ? new Date(max) : null\n    };\n  };\n\n  /**\n   * Calculate the data range of the items start and end dates\n   * @returns {{min: Date | null, max: Date | null}}\n   */\n  Timeline.prototype.getDataRange = function () {\n    var min = null;\n    var max = null;\n\n    var dataset = this.itemsData &amp;&amp; this.itemsData.getDataSet();\n    if (dataset) {\n      dataset.forEach(function (item) {\n        var start = util.convert(item.start, 'Date').valueOf();\n        var end = util.convert(item.end != undefined ? item.end : item.start, 'Date').valueOf();\n        if (min === null || start &lt; min) {\n          min = start;\n        }\n        if (max === null || end &gt; max) {\n          max = end;\n        }\n      });\n    }\n\n    return {\n      min: min != null ? new Date(min) : null,\n      max: max != null ? new Date(max) : null\n    };\n  };\n\n  /**\n   * Generate Timeline related information from an event\n   * @param {Event} event\n   * @return {Object} An object with related information, like on which area\n   *                  The event happened, whether clicked on an item, etc.\n   */\n  Timeline.prototype.getEventProperties = function (event) {\n    var clientX = event.center ? event.center.x : event.clientX;\n    var clientY = event.center ? event.center.y : event.clientY;\n    var x = clientX - util.getAbsoluteLeft(this.dom.centerContainer);\n    var y = clientY - util.getAbsoluteTop(this.dom.centerContainer);\n\n    var item = this.itemSet.itemFromTarget(event);\n    var group = this.itemSet.groupFromTarget(event);\n    var customTime = CustomTime.customTimeFromTarget(event);\n\n    var snap = this.itemSet.options.snap || null;\n    var scale = this.body.util.getScale();\n    var step = this.body.util.getStep();\n    var time = this._toTime(x);\n    var snappedTime = snap ? snap(time, scale, step) : time;\n\n    var element = util.getTarget(event);\n    var what = null;\n    if (item != null) {\n      what = 'item';\n    } else if (customTime != null) {\n      what = 'custom-time';\n    } else if (util.hasParent(element, this.timeAxis.dom.foreground)) {\n      what = 'axis';\n    } else if (this.timeAxis2 &amp;&amp; util.hasParent(element, this.timeAxis2.dom.foreground)) {\n      what = 'axis';\n    } else if (util.hasParent(element, this.itemSet.dom.labelSet)) {\n      what = 'group-label';\n    } else if (util.hasParent(element, this.currentTime.bar)) {\n      what = 'current-time';\n    } else if (util.hasParent(element, this.dom.center)) {\n      what = 'background';\n    }\n\n    return {\n      event: event,\n      item: item ? item.id : null,\n      group: group ? group.groupId : null,\n      what: what,\n      pageX: event.srcEvent ? event.srcEvent.pageX : event.pageX,\n      pageY: event.srcEvent ? event.srcEvent.pageY : event.pageY,\n      x: x,\n      y: y,\n      time: time,\n      snappedTime: snappedTime\n    };\n  };\n\n  module.exports = Timeline;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n  // Only load hammer.js when in a browser environment\n  // (loading hammer.js in a node.js environment gives errors)\n  'use strict';\n\n  if (typeof window !== 'undefined') {\n    var propagating = __webpack_require__(21);\n    var Hammer = window['Hammer'] || __webpack_require__(22);\n    module.exports = propagating(Hammer, {\n      preventDefault: 'mouse'\n    });\n  } else {\n    module.exports = function () {\n      throw Error('hammer.js is only available in a browser, not in node.js.');\n    };\n  }\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n  (function (factory) {\n    if (true) {\n      // AMD. Register as an anonymous module.\n      !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined &amp;&amp; (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports === 'object') {\n      // Node. Does not work with strict CommonJS, but\n      // only CommonJS-like environments that support module.exports,\n      // like Node.\n      module.exports = factory();\n    } else {\n      // Browser globals (root is window)\n      window.propagating = factory();\n    }\n  }(function () {\n    var _firstTarget = null; // singleton, will contain the target element where the touch event started\n    var _processing = false; // singleton, true when a touch event is being handled\n\n    /**\n     * Extend an Hammer.js instance with event propagation.\n     *\n     * Features:\n     * - Events emitted by hammer will propagate in order from child to parent\n     *   elements.\n     * - Events are extended with a function `event.stopPropagation()` to stop\n     *   propagation to parent elements.\n     * - An option `preventDefault` to stop all default browser behavior.\n     *\n     * Usage:\n     *   var hammer = propagatingHammer(new Hammer(element));\n     *   var hammer = propagatingHammer(new Hammer(element), {preventDefault: true});\n     *\n     * @param {Hammer.Manager} hammer   An hammer instance.\n     * @param {Object} [options]        Available options:\n     *                                  - `preventDefault: true | 'mouse' | 'touch' | 'pen'`.\n     *                                    Enforce preventing the default browser behavior.\n     *                                    Cannot be set to `false`.\n     * @return {Hammer.Manager} Returns the same hammer instance with extended\n     *                          functionality\n     */\n    return function propagating(hammer, options) {\n      var _options = options || {\n        preventDefault: false\n      };\n\n      if (hammer.Manager) {\n        // This looks like the Hammer constructor.\n        // Overload the constructors with our own.\n        var Hammer = hammer;\n\n        var PropagatingHammer = function(element, options) {\n          var o = Object.create(_options);\n          if (options) Hammer.assign(o, options);\n          return propagating(new Hammer(element, o), o);\n        };\n        Hammer.assign(PropagatingHammer, Hammer);\n\n        PropagatingHammer.Manager = function (element, options) {\n          var o = Object.create(_options);\n          if (options) Hammer.assign(o, options);\n          return propagating(new Hammer.Manager(element, o), o);\n        };\n\n        return PropagatingHammer;\n      }\n\n      // create a wrapper object which will override the functions\n      // `on`, `off`, `destroy`, and `emit` of the hammer instance\n      var wrapper = Object.create(hammer);\n\n      // attach to DOM element\n      var element = hammer.element;\n\n      if(!element.hammer) element.hammer = [];\n      element.hammer.push(wrapper);\n\n      // register an event to catch the start of a gesture and store the\n      // target in a singleton\n      hammer.on('hammer.input', function (event) {\n        if (_options.preventDefault === true || (_options.preventDefault === event.pointerType)) {\n          event.preventDefault();\n        }\n        if (event.isFirst) {\n          _firstTarget = event.target;\n        }\n      });\n\n      /** @type {Object.&lt;String, Array.&lt;function&gt;&gt;} */\n      wrapper._handlers = {};\n\n      /**\n       * Register a handler for one or multiple events\n       * @param {String} events    A space separated string with events\n       * @param {function} handler A callback function, called as handler(event)\n       * @returns {Hammer.Manager} Returns the hammer instance\n       */\n      wrapper.on = function (events, handler) {\n        // register the handler\n        split(events).forEach(function (event) {\n          var _handlers = wrapper._handlers[event];\n          if (!_handlers) {\n            wrapper._handlers[event] = _handlers = [];\n\n            // register the static, propagated handler\n            hammer.on(event, propagatedHandler);\n          }\n          _handlers.push(handler);\n        });\n\n        return wrapper;\n      };\n\n      /**\n       * Unregister a handler for one or multiple events\n       * @param {String} events      A space separated string with events\n       * @param {function} [handler] Optional. The registered handler. If not\n       *                             provided, all handlers for given events\n       *                             are removed.\n       * @returns {Hammer.Manager}   Returns the hammer instance\n       */\n      wrapper.off = function (events, handler) {\n        // unregister the handler\n        split(events).forEach(function (event) {\n          var _handlers = wrapper._handlers[event];\n          if (_handlers) {\n            _handlers = handler ? _handlers.filter(function (h) {\n              return h !== handler;\n            }) : [];\n\n            if (_handlers.length &gt; 0) {\n              wrapper._handlers[event] = _handlers;\n            }\n            else {\n              // remove static, propagated handler\n              hammer.off(event, propagatedHandler);\n              delete wrapper._handlers[event];\n            }\n          }\n        });\n\n        return wrapper;\n      };\n\n      /**\n       * Emit to the event listeners\n       * @param {string} eventType\n       * @param {Event} event\n       */\n      wrapper.emit = function(eventType, event) {\n        _firstTarget = event.target;\n        hammer.emit(eventType, event);\n      };\n\n      wrapper.destroy = function () {\n        // Detach from DOM element\n        var hammers = hammer.element.hammer;\n        var idx = hammers.indexOf(wrapper);\n        if(idx !== -1) hammers.splice(idx,1);\n        if(!hammers.length) delete hammer.element.hammer;\n\n        // clear all handlers\n        wrapper._handlers = {};\n\n        // call original hammer destroy\n        hammer.destroy();\n      };\n\n      // split a string with space separated words\n      function split(events) {\n        return events.match(/[^ ]+/g);\n      }\n\n      /**\n       * A static event handler, applying event propagation.\n       * @param {Object} event\n       */\n      function propagatedHandler(event) {\n        // let only a single hammer instance handle this event\n        if (event.type !== 'hammer.input') {\n          // it is possible that the same srcEvent is used with multiple hammer events,\n          // we keep track on which events are handled in an object _handled\n          if (!event.srcEvent._handled) {\n            event.srcEvent._handled = {};\n          }\n\n          if (event.srcEvent._handled[event.type]) {\n            return;\n          }\n          else {\n            event.srcEvent._handled[event.type] = true;\n          }\n        }\n\n        // attach a stopPropagation function to the event\n        var stopped = false;\n        event.stopPropagation = function () {\n          stopped = true;\n        };\n\n        //wrap the srcEvent's stopPropagation to also stop hammer propagation:\n        var srcStop = event.srcEvent.stopPropagation;\n        if(typeof srcStop == \&quot;function\&quot;) {\n          event.srcEvent.stopPropagation = function(){\n            srcStop();\n            event.stopPropagation();\n          }\n        }\n\n        // attach firstTarget property to the event\n        event.firstTarget = _firstTarget;\n\n        // propagate over all elements (until stopped)\n        var elem = _firstTarget;\n        while (elem &amp;&amp; !stopped) {\n          var elemHammer = elem.hammer;\n          if(elemHammer){\n            var _handlers;\n            for(var k = 0; k &lt; elemHammer.length; k++){\n              _handlers = elemHammer[k]._handlers[event.type];\n              if(_handlers) for (var i = 0; i &lt; _handlers.length &amp;&amp; !stopped; i++) {\n                _handlers[i](event);\n              }\n            }\n          }\n          elem = elem.parentNode;\n        }\n      }\n\n      return wrapper;\n    };\n  }));\n\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var __WEBPACK_AMD_DEFINE_RESULT__;/*! Hammer.JS - v2.0.6 - 2015-12-23\n   * http://hammerjs.github.io/\n   *\n   * Copyright (c) 2015 Jorik Tangelder;\n   * Licensed under the  license */\n  (function(window, document, exportName, undefined) {\n    'use strict';\n\n  var VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\n  var TEST_ELEMENT = document.createElement('div');\n\n  var TYPE_FUNCTION = 'function';\n\n  var round = Math.round;\n  var abs = Math.abs;\n  var now = Date.now;\n\n  /**\n   * set a timeout with a given scope\n   * @param {Function} fn\n   * @param {Number} timeout\n   * @param {Object} context\n   * @returns {number}\n   */\n  function setTimeoutContext(fn, timeout, context) {\n      return setTimeout(bindFn(fn, context), timeout);\n  }\n\n  /**\n   * if the argument is an array, we want to execute the fn on each entry\n   * if it aint an array we don't want to do a thing.\n   * this is used by all the methods that accept a single and array argument.\n   * @param {*|Array} arg\n   * @param {String} fn\n   * @param {Object} [context]\n   * @returns {Boolean}\n   */\n  function invokeArrayArg(arg, fn, context) {\n      if (Array.isArray(arg)) {\n          each(arg, context[fn], context);\n          return true;\n      }\n      return false;\n  }\n\n  /**\n   * walk objects and arrays\n   * @param {Object} obj\n   * @param {Function} iterator\n   * @param {Object} context\n   */\n  function each(obj, iterator, context) {\n      var i;\n\n      if (!obj) {\n          return;\n      }\n\n      if (obj.forEach) {\n          obj.forEach(iterator, context);\n      } else if (obj.length !== undefined) {\n          i = 0;\n          while (i &lt; obj.length) {\n              iterator.call(context, obj[i], i, obj);\n              i++;\n          }\n      } else {\n          for (i in obj) {\n              obj.hasOwnProperty(i) &amp;&amp; iterator.call(context, obj[i], i, obj);\n          }\n      }\n  }\n\n  /**\n   * wrap a method with a deprecation warning and stack trace\n   * @param {Function} method\n   * @param {String} name\n   * @param {String} message\n   * @returns {Function} A new function wrapping the supplied method.\n   */\n  function deprecate(method, name, message) {\n      var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n      return function() {\n          var e = new Error('get-stack-trace');\n          var stack = e &amp;&amp; e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n              .replace(/^\\s+at\\s+/gm, '')\n              .replace(/^Object.&lt;anonymous&gt;\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n          var log = window.console &amp;&amp; (window.console.warn || window.console.log);\n          if (log) {\n              log.call(window.console, deprecationMessage, stack);\n          }\n          return method.apply(this, arguments);\n      };\n  }\n\n  /**\n   * extend object.\n   * means that properties in dest will be overwritten by the ones in src.\n   * @param {Object} target\n   * @param {...Object} objects_to_assign\n   * @returns {Object} target\n   */\n  var assign;\n  if (typeof Object.assign !== 'function') {\n      assign = function assign(target) {\n          if (target === undefined || target === null) {\n              throw new TypeError('Cannot convert undefined or null to object');\n          }\n\n          var output = Object(target);\n          for (var index = 1; index &lt; arguments.length; index++) {\n              var source = arguments[index];\n              if (source !== undefined &amp;&amp; source !== null) {\n                  for (var nextKey in source) {\n                      if (source.hasOwnProperty(nextKey)) {\n                          output[nextKey] = source[nextKey];\n                      }\n                  }\n              }\n          }\n          return output;\n      };\n  } else {\n      assign = Object.assign;\n  }\n\n  /**\n   * extend object.\n   * means that properties in dest will be overwritten by the ones in src.\n   * @param {Object} dest\n   * @param {Object} src\n   * @param {Boolean=false} [merge]\n   * @returns {Object} dest\n   */\n  var extend = deprecate(function extend(dest, src, merge) {\n      var keys = Object.keys(src);\n      var i = 0;\n      while (i &lt; keys.length) {\n          if (!merge || (merge &amp;&amp; dest[keys[i]] === undefined)) {\n              dest[keys[i]] = src[keys[i]];\n          }\n          i++;\n      }\n      return dest;\n  }, 'extend', 'Use `assign`.');\n\n  /**\n   * merge the values from src in the dest.\n   * means that properties that exist in dest will not be overwritten by src\n   * @param {Object} dest\n   * @param {Object} src\n   * @returns {Object} dest\n   */\n  var merge = deprecate(function merge(dest, src) {\n      return extend(dest, src, true);\n  }, 'merge', 'Use `assign`.');\n\n  /**\n   * simple class inheritance\n   * @param {Function} child\n   * @param {Function} base\n   * @param {Object} [properties]\n   */\n  function inherit(child, base, properties) {\n      var baseP = base.prototype,\n          childP;\n\n      childP = child.prototype = Object.create(baseP);\n      childP.constructor = child;\n      childP._super = baseP;\n\n      if (properties) {\n          assign(childP, properties);\n      }\n  }\n\n  /**\n   * simple function bind\n   * @param {Function} fn\n   * @param {Object} context\n   * @returns {Function}\n   */\n  function bindFn(fn, context) {\n      return function boundFn() {\n          return fn.apply(context, arguments);\n      };\n  }\n\n  /**\n   * let a boolean value also be a function that must return a boolean\n   * this first item in args will be used as the context\n   * @param {Boolean|Function} val\n   * @param {Array} [args]\n   * @returns {Boolean}\n   */\n  function boolOrFn(val, args) {\n      if (typeof val == TYPE_FUNCTION) {\n          return val.apply(args ? args[0] || undefined : undefined, args);\n      }\n      return val;\n  }\n\n  /**\n   * use the val2 when val1 is undefined\n   * @param {*} val1\n   * @param {*} val2\n   * @returns {*}\n   */\n  function ifUndefined(val1, val2) {\n      return (val1 === undefined) ? val2 : val1;\n  }\n\n  /**\n   * addEventListener with multiple events at once\n   * @param {EventTarget} target\n   * @param {String} types\n   * @param {Function} handler\n   */\n  function addEventListeners(target, types, handler) {\n      each(splitStr(types), function(type) {\n          target.addEventListener(type, handler, false);\n      });\n  }\n\n  /**\n   * removeEventListener with multiple events at once\n   * @param {EventTarget} target\n   * @param {String} types\n   * @param {Function} handler\n   */\n  function removeEventListeners(target, types, handler) {\n      each(splitStr(types), function(type) {\n          target.removeEventListener(type, handler, false);\n      });\n  }\n\n  /**\n   * find if a node is in the given parent\n   * @method hasParent\n   * @param {HTMLElement} node\n   * @param {HTMLElement} parent\n   * @return {Boolean} found\n   */\n  function hasParent(node, parent) {\n      while (node) {\n          if (node == parent) {\n              return true;\n          }\n          node = node.parentNode;\n      }\n      return false;\n  }\n\n  /**\n   * small indexOf wrapper\n   * @param {String} str\n   * @param {String} find\n   * @returns {Boolean} found\n   */\n  function inStr(str, find) {\n      return str.indexOf(find) &gt; -1;\n  }\n\n  /**\n   * split string on whitespace\n   * @param {String} str\n   * @returns {Array} words\n   */\n  function splitStr(str) {\n      return str.trim().split(/\\s+/g);\n  }\n\n  /**\n   * find if a array contains the object using indexOf or a simple polyFill\n   * @param {Array} src\n   * @param {String} find\n   * @param {String} [findByKey]\n   * @return {Boolean|Number} false when not found, or the index\n   */\n  function inArray(src, find, findByKey) {\n      if (src.indexOf &amp;&amp; !findByKey) {\n          return src.indexOf(find);\n      } else {\n          var i = 0;\n          while (i &lt; src.length) {\n              if ((findByKey &amp;&amp; src[i][findByKey] == find) || (!findByKey &amp;&amp; src[i] === find)) {\n                  return i;\n              }\n              i++;\n          }\n          return -1;\n      }\n  }\n\n  /**\n   * convert array-like objects to real arrays\n   * @param {Object} obj\n   * @returns {Array}\n   */\n  function toArray(obj) {\n      return Array.prototype.slice.call(obj, 0);\n  }\n\n  /**\n   * unique array with objects based on a key (like 'id') or just by the array's value\n   * @param {Array} src [{id:1},{id:2},{id:1}]\n   * @param {String} [key]\n   * @param {Boolean} [sort=False]\n   * @returns {Array} [{id:1},{id:2}]\n   */\n  function uniqueArray(src, key, sort) {\n      var results = [];\n      var values = [];\n      var i = 0;\n\n      while (i &lt; src.length) {\n          var val = key ? src[i][key] : src[i];\n          if (inArray(values, val) &lt; 0) {\n              results.push(src[i]);\n          }\n          values[i] = val;\n          i++;\n      }\n\n      if (sort) {\n          if (!key) {\n              results = results.sort();\n          } else {\n              results = results.sort(function sortUniqueArray(a, b) {\n                  return a[key] &gt; b[key];\n              });\n          }\n      }\n\n      return results;\n  }\n\n  /**\n   * get the prefixed property\n   * @param {Object} obj\n   * @param {String} property\n   * @returns {String|Undefined} prefixed\n   */\n  function prefixed(obj, property) {\n      var prefix, prop;\n      var camelProp = property[0].toUpperCase() + property.slice(1);\n\n      var i = 0;\n      while (i &lt; VENDOR_PREFIXES.length) {\n          prefix = VENDOR_PREFIXES[i];\n          prop = (prefix) ? prefix + camelProp : property;\n\n          if (prop in obj) {\n              return prop;\n          }\n          i++;\n      }\n      return undefined;\n  }\n\n  /**\n   * get a unique id\n   * @returns {number} uniqueId\n   */\n  var _uniqueId = 1;\n  function uniqueId() {\n      return _uniqueId++;\n  }\n\n  /**\n   * get the window object of an element\n   * @param {HTMLElement} element\n   * @returns {DocumentView|Window}\n   */\n  function getWindowForElement(element) {\n      var doc = element.ownerDocument || element;\n      return (doc.defaultView || doc.parentWindow || window);\n  }\n\n  var MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\n  var SUPPORT_TOUCH = ('ontouchstart' in window);\n  var SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\n  var SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH &amp;&amp; MOBILE_REGEX.test(navigator.userAgent);\n\n  var INPUT_TYPE_TOUCH = 'touch';\n  var INPUT_TYPE_PEN = 'pen';\n  var INPUT_TYPE_MOUSE = 'mouse';\n  var INPUT_TYPE_KINECT = 'kinect';\n\n  var COMPUTE_INTERVAL = 25;\n\n  var INPUT_START = 1;\n  var INPUT_MOVE = 2;\n  var INPUT_END = 4;\n  var INPUT_CANCEL = 8;\n\n  var DIRECTION_NONE = 1;\n  var DIRECTION_LEFT = 2;\n  var DIRECTION_RIGHT = 4;\n  var DIRECTION_UP = 8;\n  var DIRECTION_DOWN = 16;\n\n  var DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\n  var DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\n  var DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\n  var PROPS_XY = ['x', 'y'];\n  var PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n  /**\n   * create new input type manager\n   * @param {Manager} manager\n   * @param {Function} callback\n   * @returns {Input}\n   * @constructor\n   */\n  function Input(manager, callback) {\n      var self = this;\n      this.manager = manager;\n      this.callback = callback;\n      this.element = manager.element;\n      this.target = manager.options.inputTarget;\n\n      // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n      // so when disabled the input events are completely bypassed.\n      this.domHandler = function(ev) {\n          if (boolOrFn(manager.options.enable, [manager])) {\n              self.handler(ev);\n          }\n      };\n\n      this.init();\n\n  }\n\n  Input.prototype = {\n      /**\n       * should handle the inputEvent data and trigger the callback\n       * @virtual\n       */\n      handler: function() { },\n\n      /**\n       * bind the events\n       */\n      init: function() {\n          this.evEl &amp;&amp; addEventListeners(this.element, this.evEl, this.domHandler);\n          this.evTarget &amp;&amp; addEventListeners(this.target, this.evTarget, this.domHandler);\n          this.evWin &amp;&amp; addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n      },\n\n      /**\n       * unbind the events\n       */\n      destroy: function() {\n          this.evEl &amp;&amp; removeEventListeners(this.element, this.evEl, this.domHandler);\n          this.evTarget &amp;&amp; removeEventListeners(this.target, this.evTarget, this.domHandler);\n          this.evWin &amp;&amp; removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n      }\n  };\n\n  /**\n   * create new input type manager\n   * called by the Manager constructor\n   * @param {Hammer} manager\n   * @returns {Input}\n   */\n  function createInputInstance(manager) {\n      var Type;\n      var inputClass = manager.options.inputClass;\n\n      if (inputClass) {\n          Type = inputClass;\n      } else if (SUPPORT_POINTER_EVENTS) {\n          Type = PointerEventInput;\n      } else if (SUPPORT_ONLY_TOUCH) {\n          Type = TouchInput;\n      } else if (!SUPPORT_TOUCH) {\n          Type = MouseInput;\n      } else {\n          Type = TouchMouseInput;\n      }\n      return new (Type)(manager, inputHandler);\n  }\n\n  /**\n   * handle input events\n   * @param {Manager} manager\n   * @param {String} eventType\n   * @param {Object} input\n   */\n  function inputHandler(manager, eventType, input) {\n      var pointersLen = input.pointers.length;\n      var changedPointersLen = input.changedPointers.length;\n      var isFirst = (eventType &amp; INPUT_START &amp;&amp; (pointersLen - changedPointersLen === 0));\n      var isFinal = (eventType &amp; (INPUT_END | INPUT_CANCEL) &amp;&amp; (pointersLen - changedPointersLen === 0));\n\n      input.isFirst = !!isFirst;\n      input.isFinal = !!isFinal;\n\n      if (isFirst) {\n          manager.session = {};\n      }\n\n      // source event is the normalized value of the domEvents\n      // like 'touchstart, mouseup, pointerdown'\n      input.eventType = eventType;\n\n      // compute scale, rotation etc\n      computeInputData(manager, input);\n\n      // emit secret event\n      manager.emit('hammer.input', input);\n\n      manager.recognize(input);\n      manager.session.prevInput = input;\n  }\n\n  /**\n   * extend the data with some usable properties like scale, rotate, velocity etc\n   * @param {Object} manager\n   * @param {Object} input\n   */\n  function computeInputData(manager, input) {\n      var session = manager.session;\n      var pointers = input.pointers;\n      var pointersLength = pointers.length;\n\n      // store the first input to calculate the distance and direction\n      if (!session.firstInput) {\n          session.firstInput = simpleCloneInputData(input);\n      }\n\n      // to compute scale and rotation we need to store the multiple touches\n      if (pointersLength &gt; 1 &amp;&amp; !session.firstMultiple) {\n          session.firstMultiple = simpleCloneInputData(input);\n      } else if (pointersLength === 1) {\n          session.firstMultiple = false;\n      }\n\n      var firstInput = session.firstInput;\n      var firstMultiple = session.firstMultiple;\n      var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n      var center = input.center = getCenter(pointers);\n      input.timeStamp = now();\n      input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n      input.angle = getAngle(offsetCenter, center);\n      input.distance = getDistance(offsetCenter, center);\n\n      computeDeltaXY(session, input);\n      input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n      var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n      input.overallVelocityX = overallVelocity.x;\n      input.overallVelocityY = overallVelocity.y;\n      input.overallVelocity = (abs(overallVelocity.x) &gt; abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n      input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n      input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n      input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length &gt;\n          session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n      computeIntervalInputData(session, input);\n\n      // find the correct target\n      var target = manager.element;\n      if (hasParent(input.srcEvent.target, target)) {\n          target = input.srcEvent.target;\n      }\n      input.target = target;\n  }\n\n  function computeDeltaXY(session, input) {\n      var center = input.center;\n      var offset = session.offsetDelta || {};\n      var prevDelta = session.prevDelta || {};\n      var prevInput = session.prevInput || {};\n\n      if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n          prevDelta = session.prevDelta = {\n              x: prevInput.deltaX || 0,\n              y: prevInput.deltaY || 0\n          };\n\n          offset = session.offsetDelta = {\n              x: center.x,\n              y: center.y\n          };\n      }\n\n      input.deltaX = prevDelta.x + (center.x - offset.x);\n      input.deltaY = prevDelta.y + (center.y - offset.y);\n  }\n\n  /**\n   * velocity is calculated every x ms\n   * @param {Object} session\n   * @param {Object} input\n   */\n  function computeIntervalInputData(session, input) {\n      var last = session.lastInterval || input,\n          deltaTime = input.timeStamp - last.timeStamp,\n          velocity, velocityX, velocityY, direction;\n\n      if (input.eventType != INPUT_CANCEL &amp;&amp; (deltaTime &gt; COMPUTE_INTERVAL || last.velocity === undefined)) {\n          var deltaX = input.deltaX - last.deltaX;\n          var deltaY = input.deltaY - last.deltaY;\n\n          var v = getVelocity(deltaTime, deltaX, deltaY);\n          velocityX = v.x;\n          velocityY = v.y;\n          velocity = (abs(v.x) &gt; abs(v.y)) ? v.x : v.y;\n          direction = getDirection(deltaX, deltaY);\n\n          session.lastInterval = input;\n      } else {\n          // use latest velocity info if it doesn't overtake a minimum period\n          velocity = last.velocity;\n          velocityX = last.velocityX;\n          velocityY = last.velocityY;\n          direction = last.direction;\n      }\n\n      input.velocity = velocity;\n      input.velocityX = velocityX;\n      input.velocityY = velocityY;\n      input.direction = direction;\n  }\n\n  /**\n   * create a simple clone from the input used for storage of firstInput and firstMultiple\n   * @param {Object} input\n   * @returns {Object} clonedInputData\n   */\n  function simpleCloneInputData(input) {\n      // make a simple copy of the pointers because we will get a reference if we don't\n      // we only need clientXY for the calculations\n      var pointers = [];\n      var i = 0;\n      while (i &lt; input.pointers.length) {\n          pointers[i] = {\n              clientX: round(input.pointers[i].clientX),\n              clientY: round(input.pointers[i].clientY)\n          };\n          i++;\n      }\n\n      return {\n          timeStamp: now(),\n          pointers: pointers,\n          center: getCenter(pointers),\n          deltaX: input.deltaX,\n          deltaY: input.deltaY\n      };\n  }\n\n  /**\n   * get the center of all the pointers\n   * @param {Array} pointers\n   * @return {Object} center contains `x` and `y` properties\n   */\n  function getCenter(pointers) {\n      var pointersLength = pointers.length;\n\n      // no need to loop when only one touch\n      if (pointersLength === 1) {\n          return {\n              x: round(pointers[0].clientX),\n              y: round(pointers[0].clientY)\n          };\n      }\n\n      var x = 0, y = 0, i = 0;\n      while (i &lt; pointersLength) {\n          x += pointers[i].clientX;\n          y += pointers[i].clientY;\n          i++;\n      }\n\n      return {\n          x: round(x / pointersLength),\n          y: round(y / pointersLength)\n      };\n  }\n\n  /**\n   * calculate the velocity between two points. unit is in px per ms.\n   * @param {Number} deltaTime\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Object} velocity `x` and `y`\n   */\n  function getVelocity(deltaTime, x, y) {\n      return {\n          x: x / deltaTime || 0,\n          y: y / deltaTime || 0\n      };\n  }\n\n  /**\n   * get the direction between two points\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Number} direction\n   */\n  function getDirection(x, y) {\n      if (x === y) {\n          return DIRECTION_NONE;\n      }\n\n      if (abs(x) &gt;= abs(y)) {\n          return x &lt; 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n      }\n      return y &lt; 0 ? DIRECTION_UP : DIRECTION_DOWN;\n  }\n\n  /**\n   * calculate the absolute distance between two points\n   * @param {Object} p1 {x, y}\n   * @param {Object} p2 {x, y}\n   * @param {Array} [props] containing x and y keys\n   * @return {Number} distance\n   */\n  function getDistance(p1, p2, props) {\n      if (!props) {\n          props = PROPS_XY;\n      }\n      var x = p2[props[0]] - p1[props[0]],\n          y = p2[props[1]] - p1[props[1]];\n\n      return Math.sqrt((x * x) + (y * y));\n  }\n\n  /**\n   * calculate the angle between two coordinates\n   * @param {Object} p1\n   * @param {Object} p2\n   * @param {Array} [props] containing x and y keys\n   * @return {Number} angle\n   */\n  function getAngle(p1, p2, props) {\n      if (!props) {\n          props = PROPS_XY;\n      }\n      var x = p2[props[0]] - p1[props[0]],\n          y = p2[props[1]] - p1[props[1]];\n      return Math.atan2(y, x) * 180 / Math.PI;\n  }\n\n  /**\n   * calculate the rotation degrees between two pointersets\n   * @param {Array} start array of pointers\n   * @param {Array} end array of pointers\n   * @return {Number} rotation\n   */\n  function getRotation(start, end) {\n      return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n  }\n\n  /**\n   * calculate the scale factor between two pointersets\n   * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n   * @param {Array} start array of pointers\n   * @param {Array} end array of pointers\n   * @return {Number} scale\n   */\n  function getScale(start, end) {\n      return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n  }\n\n  var MOUSE_INPUT_MAP = {\n      mousedown: INPUT_START,\n      mousemove: INPUT_MOVE,\n      mouseup: INPUT_END\n  };\n\n  var MOUSE_ELEMENT_EVENTS = 'mousedown';\n  var MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n  /**\n   * Mouse events input\n   * @constructor\n   * @extends Input\n   */\n  function MouseInput() {\n      this.evEl = MOUSE_ELEMENT_EVENTS;\n      this.evWin = MOUSE_WINDOW_EVENTS;\n\n      this.allow = true; // used by Input.TouchMouse to disable mouse events\n      this.pressed = false; // mousedown state\n\n      Input.apply(this, arguments);\n  }\n\n  inherit(MouseInput, Input, {\n      /**\n       * handle mouse events\n       * @param {Object} ev\n       */\n      handler: function MEhandler(ev) {\n          var eventType = MOUSE_INPUT_MAP[ev.type];\n\n          // on start we want to have the left mouse button down\n          if (eventType &amp; INPUT_START &amp;&amp; ev.button === 0) {\n              this.pressed = true;\n          }\n\n          if (eventType &amp; INPUT_MOVE &amp;&amp; ev.which !== 1) {\n              eventType = INPUT_END;\n          }\n\n          // mouse must be down, and mouse events are allowed (see the TouchMouse input)\n          if (!this.pressed || !this.allow) {\n              return;\n          }\n\n          if (eventType &amp; INPUT_END) {\n              this.pressed = false;\n          }\n\n          this.callback(this.manager, eventType, {\n              pointers: [ev],\n              changedPointers: [ev],\n              pointerType: INPUT_TYPE_MOUSE,\n              srcEvent: ev\n          });\n      }\n  });\n\n  var POINTER_INPUT_MAP = {\n      pointerdown: INPUT_START,\n      pointermove: INPUT_MOVE,\n      pointerup: INPUT_END,\n      pointercancel: INPUT_CANCEL,\n      pointerout: INPUT_CANCEL\n  };\n\n  // in IE10 the pointer types is defined as an enum\n  var IE10_POINTER_TYPE_ENUM = {\n      2: INPUT_TYPE_TOUCH,\n      3: INPUT_TYPE_PEN,\n      4: INPUT_TYPE_MOUSE,\n      5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n  };\n\n  var POINTER_ELEMENT_EVENTS = 'pointerdown';\n  var POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n  // IE10 has prefixed support, and case-sensitive\n  if (window.MSPointerEvent &amp;&amp; !window.PointerEvent) {\n      POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n      POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n  }\n\n  /**\n   * Pointer events input\n   * @constructor\n   * @extends Input\n   */\n  function PointerEventInput() {\n      this.evEl = POINTER_ELEMENT_EVENTS;\n      this.evWin = POINTER_WINDOW_EVENTS;\n\n      Input.apply(this, arguments);\n\n      this.store = (this.manager.session.pointerEvents = []);\n  }\n\n  inherit(PointerEventInput, Input, {\n      /**\n       * handle mouse events\n       * @param {Object} ev\n       */\n      handler: function PEhandler(ev) {\n          var store = this.store;\n          var removePointer = false;\n\n          var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n          var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n          var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n          var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n          // get index of the event in the store\n          var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n          // start and mouse must be down\n          if (eventType &amp; INPUT_START &amp;&amp; (ev.button === 0 || isTouch)) {\n              if (storeIndex &lt; 0) {\n                  store.push(ev);\n                  storeIndex = store.length - 1;\n              }\n          } else if (eventType &amp; (INPUT_END | INPUT_CANCEL)) {\n              removePointer = true;\n          }\n\n          // it not found, so the pointer hasn't been down (so it's probably a hover)\n          if (storeIndex &lt; 0) {\n              return;\n          }\n\n          // update the event in the store\n          store[storeIndex] = ev;\n\n          this.callback(this.manager, eventType, {\n              pointers: store,\n              changedPointers: [ev],\n              pointerType: pointerType,\n              srcEvent: ev\n          });\n\n          if (removePointer) {\n              // remove from the store\n              store.splice(storeIndex, 1);\n          }\n      }\n  });\n\n  var SINGLE_TOUCH_INPUT_MAP = {\n      touchstart: INPUT_START,\n      touchmove: INPUT_MOVE,\n      touchend: INPUT_END,\n      touchcancel: INPUT_CANCEL\n  };\n\n  var SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\n  var SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n  /**\n   * Touch events input\n   * @constructor\n   * @extends Input\n   */\n  function SingleTouchInput() {\n      this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n      this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n      this.started = false;\n\n      Input.apply(this, arguments);\n  }\n\n  inherit(SingleTouchInput, Input, {\n      handler: function TEhandler(ev) {\n          var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n          // should we handle the touch events?\n          if (type === INPUT_START) {\n              this.started = true;\n          }\n\n          if (!this.started) {\n              return;\n          }\n\n          var touches = normalizeSingleTouches.call(this, ev, type);\n\n          // when done, reset the started state\n          if (type &amp; (INPUT_END | INPUT_CANCEL) &amp;&amp; touches[0].length - touches[1].length === 0) {\n              this.started = false;\n          }\n\n          this.callback(this.manager, type, {\n              pointers: touches[0],\n              changedPointers: touches[1],\n              pointerType: INPUT_TYPE_TOUCH,\n              srcEvent: ev\n          });\n      }\n  });\n\n  /**\n   * @this {TouchInput}\n   * @param {Object} ev\n   * @param {Number} type flag\n   * @returns {undefined|Array} [all, changed]\n   */\n  function normalizeSingleTouches(ev, type) {\n      var all = toArray(ev.touches);\n      var changed = toArray(ev.changedTouches);\n\n      if (type &amp; (INPUT_END | INPUT_CANCEL)) {\n          all = uniqueArray(all.concat(changed), 'identifier', true);\n      }\n\n      return [all, changed];\n  }\n\n  var TOUCH_INPUT_MAP = {\n      touchstart: INPUT_START,\n      touchmove: INPUT_MOVE,\n      touchend: INPUT_END,\n      touchcancel: INPUT_CANCEL\n  };\n\n  var TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n  /**\n   * Multi-user touch events input\n   * @constructor\n   * @extends Input\n   */\n  function TouchInput() {\n      this.evTarget = TOUCH_TARGET_EVENTS;\n      this.targetIds = {};\n\n      Input.apply(this, arguments);\n  }\n\n  inherit(TouchInput, Input, {\n      handler: function MTEhandler(ev) {\n          var type = TOUCH_INPUT_MAP[ev.type];\n          var touches = getTouches.call(this, ev, type);\n          if (!touches) {\n              return;\n          }\n\n          this.callback(this.manager, type, {\n              pointers: touches[0],\n              changedPointers: touches[1],\n              pointerType: INPUT_TYPE_TOUCH,\n              srcEvent: ev\n          });\n      }\n  });\n\n  /**\n   * @this {TouchInput}\n   * @param {Object} ev\n   * @param {Number} type flag\n   * @returns {undefined|Array} [all, changed]\n   */\n  function getTouches(ev, type) {\n      var allTouches = toArray(ev.touches);\n      var targetIds = this.targetIds;\n\n      // when there is only one touch, the process can be simplified\n      if (type &amp; (INPUT_START | INPUT_MOVE) &amp;&amp; allTouches.length === 1) {\n          targetIds[allTouches[0].identifier] = true;\n          return [allTouches, allTouches];\n      }\n\n      var i,\n          targetTouches,\n          changedTouches = toArray(ev.changedTouches),\n          changedTargetTouches = [],\n          target = this.target;\n\n      // get target touches from touches\n      targetTouches = allTouches.filter(function(touch) {\n          return hasParent(touch.target, target);\n      });\n\n      // collect touches\n      if (type === INPUT_START) {\n          i = 0;\n          while (i &lt; targetTouches.length) {\n              targetIds[targetTouches[i].identifier] = true;\n              i++;\n          }\n      }\n\n      // filter changed touches to only contain touches that exist in the collected target ids\n      i = 0;\n      while (i &lt; changedTouches.length) {\n          if (targetIds[changedTouches[i].identifier]) {\n              changedTargetTouches.push(changedTouches[i]);\n          }\n\n          // cleanup removed touches\n          if (type &amp; (INPUT_END | INPUT_CANCEL)) {\n              delete targetIds[changedTouches[i].identifier];\n          }\n          i++;\n      }\n\n      if (!changedTargetTouches.length) {\n          return;\n      }\n\n      return [\n          // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n          uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n          changedTargetTouches\n      ];\n  }\n\n  /**\n   * Combined touch and mouse input\n   *\n   * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n   * This because touch devices also emit mouse events while doing a touch.\n   *\n   * @constructor\n   * @extends Input\n   */\n  function TouchMouseInput() {\n      Input.apply(this, arguments);\n\n      var handler = bindFn(this.handler, this);\n      this.touch = new TouchInput(this.manager, handler);\n      this.mouse = new MouseInput(this.manager, handler);\n  }\n\n  inherit(TouchMouseInput, Input, {\n      /**\n       * handle mouse and touch events\n       * @param {Hammer} manager\n       * @param {String} inputEvent\n       * @param {Object} inputData\n       */\n      handler: function TMEhandler(manager, inputEvent, inputData) {\n          var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n              isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n          // when we're in a touch event, so  block all upcoming mouse events\n          // most mobile browser also emit mouseevents, right after touchstart\n          if (isTouch) {\n              this.mouse.allow = false;\n          } else if (isMouse &amp;&amp; !this.mouse.allow) {\n              return;\n          }\n\n          // reset the allowMouse when we're done\n          if (inputEvent &amp; (INPUT_END | INPUT_CANCEL)) {\n              this.mouse.allow = true;\n          }\n\n          this.callback(manager, inputEvent, inputData);\n      },\n\n      /**\n       * remove the event listeners\n       */\n      destroy: function destroy() {\n          this.touch.destroy();\n          this.mouse.destroy();\n      }\n  });\n\n  var PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\n  var NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n  // magical touchAction value\n  var TOUCH_ACTION_COMPUTE = 'compute';\n  var TOUCH_ACTION_AUTO = 'auto';\n  var TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\n  var TOUCH_ACTION_NONE = 'none';\n  var TOUCH_ACTION_PAN_X = 'pan-x';\n  var TOUCH_ACTION_PAN_Y = 'pan-y';\n\n  /**\n   * Touch Action\n   * sets the touchAction property or uses the js alternative\n   * @param {Manager} manager\n   * @param {String} value\n   * @constructor\n   */\n  function TouchAction(manager, value) {\n      this.manager = manager;\n      this.set(value);\n  }\n\n  TouchAction.prototype = {\n      /**\n       * set the touchAction value on the element or enable the polyfill\n       * @param {String} value\n       */\n      set: function(value) {\n          // find out the touch-action by the event handlers\n          if (value == TOUCH_ACTION_COMPUTE) {\n              value = this.compute();\n          }\n\n          if (NATIVE_TOUCH_ACTION &amp;&amp; this.manager.element.style) {\n              this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n          }\n          this.actions = value.toLowerCase().trim();\n      },\n\n      /**\n       * just re-set the touchAction value\n       */\n      update: function() {\n          this.set(this.manager.options.touchAction);\n      },\n\n      /**\n       * compute the value for the touchAction property based on the recognizer's settings\n       * @returns {String} value\n       */\n      compute: function() {\n          var actions = [];\n          each(this.manager.recognizers, function(recognizer) {\n              if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                  actions = actions.concat(recognizer.getTouchAction());\n              }\n          });\n          return cleanTouchActions(actions.join(' '));\n      },\n\n      /**\n       * this method is called on each input cycle and provides the preventing of the browser behavior\n       * @param {Object} input\n       */\n      preventDefaults: function(input) {\n          // not needed with native support for the touchAction property\n          if (NATIVE_TOUCH_ACTION) {\n              return;\n          }\n\n          var srcEvent = input.srcEvent;\n          var direction = input.offsetDirection;\n\n          // if the touch action did prevented once this session\n          if (this.manager.session.prevented) {\n              srcEvent.preventDefault();\n              return;\n          }\n\n          var actions = this.actions;\n          var hasNone = inStr(actions, TOUCH_ACTION_NONE);\n          var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n          var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n\n          if (hasNone) {\n              //do not prevent defaults if this is a tap gesture\n\n              var isTapPointer = input.pointers.length === 1;\n              var isTapMovement = input.distance &lt; 2;\n              var isTapTouchTime = input.deltaTime &lt; 250;\n\n              if (isTapPointer &amp;&amp; isTapMovement &amp;&amp; isTapTouchTime) {\n                  return;\n              }\n          }\n\n          if (hasPanX &amp;&amp; hasPanY) {\n              // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n              return;\n          }\n\n          if (hasNone ||\n              (hasPanY &amp;&amp; direction &amp; DIRECTION_HORIZONTAL) ||\n              (hasPanX &amp;&amp; direction &amp; DIRECTION_VERTICAL)) {\n              return this.preventSrc(srcEvent);\n          }\n      },\n\n      /**\n       * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n       * @param {Object} srcEvent\n       */\n      preventSrc: function(srcEvent) {\n          this.manager.session.prevented = true;\n          srcEvent.preventDefault();\n      }\n  };\n\n  /**\n   * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n   * @param {String} actions\n   * @returns {*}\n   */\n  function cleanTouchActions(actions) {\n      // none\n      if (inStr(actions, TOUCH_ACTION_NONE)) {\n          return TOUCH_ACTION_NONE;\n      }\n\n      var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n      var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n      // if both pan-x and pan-y are set (different recognizers\n      // for different directions, e.g. horizontal pan but vertical swipe?)\n      // we need none (as otherwise with pan-x pan-y combined none of these\n      // recognizers will work, since the browser would handle all panning\n      if (hasPanX &amp;&amp; hasPanY) {\n          return TOUCH_ACTION_NONE;\n      }\n\n      // pan-x OR pan-y\n      if (hasPanX || hasPanY) {\n          return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n      }\n\n      // manipulation\n      if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n          return TOUCH_ACTION_MANIPULATION;\n      }\n\n      return TOUCH_ACTION_AUTO;\n  }\n\n  /**\n   * Recognizer flow explained; *\n   * All recognizers have the initial state of POSSIBLE when a input session starts.\n   * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n   * Example session for mouse-input: mousedown -&gt; mousemove -&gt; mouseup\n   *\n   * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n   * which determines with state it should be.\n   *\n   * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n   * POSSIBLE to give it another change on the next cycle.\n   *\n   *               Possible\n   *                  |\n   *            +-----+---------------+\n   *            |                     |\n   *      +-----+-----+               |\n   *      |           |               |\n   *   Failed      Cancelled          |\n   *                          +-------+------+\n   *                          |              |\n   *                      Recognized       Began\n   *                                         |\n   *                                      Changed\n   *                                         |\n   *                                  Ended/Recognized\n   */\n  var STATE_POSSIBLE = 1;\n  var STATE_BEGAN = 2;\n  var STATE_CHANGED = 4;\n  var STATE_ENDED = 8;\n  var STATE_RECOGNIZED = STATE_ENDED;\n  var STATE_CANCELLED = 16;\n  var STATE_FAILED = 32;\n\n  /**\n   * Recognizer\n   * Every recognizer needs to extend from this class.\n   * @constructor\n   * @param {Object} options\n   */\n  function Recognizer(options) {\n      this.options = assign({}, this.defaults, options || {});\n\n      this.id = uniqueId();\n\n      this.manager = null;\n\n      // default is enable true\n      this.options.enable = ifUndefined(this.options.enable, true);\n\n      this.state = STATE_POSSIBLE;\n\n      this.simultaneous = {};\n      this.requireFail = [];\n  }\n\n  Recognizer.prototype = {\n      /**\n       * @virtual\n       * @type {Object}\n       */\n      defaults: {},\n\n      /**\n       * set options\n       * @param {Object} options\n       * @return {Recognizer}\n       */\n      set: function(options) {\n          assign(this.options, options);\n\n          // also update the touchAction, in case something changed about the directions/enabled state\n          this.manager &amp;&amp; this.manager.touchAction.update();\n          return this;\n      },\n\n      /**\n       * recognize simultaneous with an other recognizer.\n       * @param {Recognizer} otherRecognizer\n       * @returns {Recognizer} this\n       */\n      recognizeWith: function(otherRecognizer) {\n          if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n              return this;\n          }\n\n          var simultaneous = this.simultaneous;\n          otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n          if (!simultaneous[otherRecognizer.id]) {\n              simultaneous[otherRecognizer.id] = otherRecognizer;\n              otherRecognizer.recognizeWith(this);\n          }\n          return this;\n      },\n\n      /**\n       * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n       * @param {Recognizer} otherRecognizer\n       * @returns {Recognizer} this\n       */\n      dropRecognizeWith: function(otherRecognizer) {\n          if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n              return this;\n          }\n\n          otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n          delete this.simultaneous[otherRecognizer.id];\n          return this;\n      },\n\n      /**\n       * recognizer can only run when an other is failing\n       * @param {Recognizer} otherRecognizer\n       * @returns {Recognizer} this\n       */\n      requireFailure: function(otherRecognizer) {\n          if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n              return this;\n          }\n\n          var requireFail = this.requireFail;\n          otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n          if (inArray(requireFail, otherRecognizer) === -1) {\n              requireFail.push(otherRecognizer);\n              otherRecognizer.requireFailure(this);\n          }\n          return this;\n      },\n\n      /**\n       * drop the requireFailure link. it does not remove the link on the other recognizer.\n       * @param {Recognizer} otherRecognizer\n       * @returns {Recognizer} this\n       */\n      dropRequireFailure: function(otherRecognizer) {\n          if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n              return this;\n          }\n\n          otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n          var index = inArray(this.requireFail, otherRecognizer);\n          if (index &gt; -1) {\n              this.requireFail.splice(index, 1);\n          }\n          return this;\n      },\n\n      /**\n       * has require failures boolean\n       * @returns {boolean}\n       */\n      hasRequireFailures: function() {\n          return this.requireFail.length &gt; 0;\n      },\n\n      /**\n       * if the recognizer can recognize simultaneous with an other recognizer\n       * @param {Recognizer} otherRecognizer\n       * @returns {Boolean}\n       */\n      canRecognizeWith: function(otherRecognizer) {\n          return !!this.simultaneous[otherRecognizer.id];\n      },\n\n      /**\n       * You should use `tryEmit` instead of `emit` directly to check\n       * that all the needed recognizers has failed before emitting.\n       * @param {Object} input\n       */\n      emit: function(input) {\n          var self = this;\n          var state = this.state;\n\n          function emit(event) {\n              self.manager.emit(event, input);\n          }\n\n          // 'panstart' and 'panmove'\n          if (state &lt; STATE_ENDED) {\n              emit(self.options.event + stateStr(state));\n          }\n\n          emit(self.options.event); // simple 'eventName' events\n\n          if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n              emit(input.additionalEvent);\n          }\n\n          // panend and pancancel\n          if (state &gt;= STATE_ENDED) {\n              emit(self.options.event + stateStr(state));\n          }\n      },\n\n      /**\n       * Check that all the require failure recognizers has failed,\n       * if true, it emits a gesture event,\n       * otherwise, setup the state to FAILED.\n       * @param {Object} input\n       */\n      tryEmit: function(input) {\n          if (this.canEmit()) {\n              return this.emit(input);\n          }\n          // it's failing anyway\n          this.state = STATE_FAILED;\n      },\n\n      /**\n       * can we emit?\n       * @returns {boolean}\n       */\n      canEmit: function() {\n          var i = 0;\n          while (i &lt; this.requireFail.length) {\n              if (!(this.requireFail[i].state &amp; (STATE_FAILED | STATE_POSSIBLE))) {\n                  return false;\n              }\n              i++;\n          }\n          return true;\n      },\n\n      /**\n       * update the recognizer\n       * @param {Object} inputData\n       */\n      recognize: function(inputData) {\n          // make a new copy of the inputData\n          // so we can change the inputData without messing up the other recognizers\n          var inputDataClone = assign({}, inputData);\n\n          // is is enabled and allow recognizing?\n          if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n              this.reset();\n              this.state = STATE_FAILED;\n              return;\n          }\n\n          // reset when we've reached the end\n          if (this.state &amp; (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n              this.state = STATE_POSSIBLE;\n          }\n\n          this.state = this.process(inputDataClone);\n\n          // the recognizer has recognized a gesture\n          // so trigger an event\n          if (this.state &amp; (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n              this.tryEmit(inputDataClone);\n          }\n      },\n\n      /**\n       * return the state of the recognizer\n       * the actual recognizing happens in this method\n       * @virtual\n       * @param {Object} inputData\n       * @returns {Const} STATE\n       */\n      process: function(inputData) { }, // jshint ignore:line\n\n      /**\n       * return the preferred touch-action\n       * @virtual\n       * @returns {Array}\n       */\n      getTouchAction: function() { },\n\n      /**\n       * called when the gesture isn't allowed to recognize\n       * like when another is being recognized or it is disabled\n       * @virtual\n       */\n      reset: function() { }\n  };\n\n  /**\n   * get a usable string, used as event postfix\n   * @param {Const} state\n   * @returns {String} state\n   */\n  function stateStr(state) {\n      if (state &amp; STATE_CANCELLED) {\n          return 'cancel';\n      } else if (state &amp; STATE_ENDED) {\n          return 'end';\n      } else if (state &amp; STATE_CHANGED) {\n          return 'move';\n      } else if (state &amp; STATE_BEGAN) {\n          return 'start';\n      }\n      return '';\n  }\n\n  /**\n   * direction cons to string\n   * @param {Const} direction\n   * @returns {String}\n   */\n  function directionStr(direction) {\n      if (direction == DIRECTION_DOWN) {\n          return 'down';\n      } else if (direction == DIRECTION_UP) {\n          return 'up';\n      } else if (direction == DIRECTION_LEFT) {\n          return 'left';\n      } else if (direction == DIRECTION_RIGHT) {\n          return 'right';\n      }\n      return '';\n  }\n\n  /**\n   * get a recognizer by name if it is bound to a manager\n   * @param {Recognizer|String} otherRecognizer\n   * @param {Recognizer} recognizer\n   * @returns {Recognizer}\n   */\n  function getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n      var manager = recognizer.manager;\n      if (manager) {\n          return manager.get(otherRecognizer);\n      }\n      return otherRecognizer;\n  }\n\n  /**\n   * This recognizer is just used as a base for the simple attribute recognizers.\n   * @constructor\n   * @extends Recognizer\n   */\n  function AttrRecognizer() {\n      Recognizer.apply(this, arguments);\n  }\n\n  inherit(AttrRecognizer, Recognizer, {\n      /**\n       * @namespace\n       * @memberof AttrRecognizer\n       */\n      defaults: {\n          /**\n           * @type {Number}\n           * @default 1\n           */\n          pointers: 1\n      },\n\n      /**\n       * Used to check if it the recognizer receives valid input, like input.distance &gt; 10.\n       * @memberof AttrRecognizer\n       * @param {Object} input\n       * @returns {Boolean} recognized\n       */\n      attrTest: function(input) {\n          var optionPointers = this.options.pointers;\n          return optionPointers === 0 || input.pointers.length === optionPointers;\n      },\n\n      /**\n       * Process the input and return the state for the recognizer\n       * @memberof AttrRecognizer\n       * @param {Object} input\n       * @returns {*} State\n       */\n      process: function(input) {\n          var state = this.state;\n          var eventType = input.eventType;\n\n          var isRecognized = state &amp; (STATE_BEGAN | STATE_CHANGED);\n          var isValid = this.attrTest(input);\n\n          // on cancel input and we've recognized before, return STATE_CANCELLED\n          if (isRecognized &amp;&amp; (eventType &amp; INPUT_CANCEL || !isValid)) {\n              return state | STATE_CANCELLED;\n          } else if (isRecognized || isValid) {\n              if (eventType &amp; INPUT_END) {\n                  return state | STATE_ENDED;\n              } else if (!(state &amp; STATE_BEGAN)) {\n                  return STATE_BEGAN;\n              }\n              return state | STATE_CHANGED;\n          }\n          return STATE_FAILED;\n      }\n  });\n\n  /**\n   * Pan\n   * Recognized when the pointer is down and moved in the allowed direction.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n  function PanRecognizer() {\n      AttrRecognizer.apply(this, arguments);\n\n      this.pX = null;\n      this.pY = null;\n  }\n\n  inherit(PanRecognizer, AttrRecognizer, {\n      /**\n       * @namespace\n       * @memberof PanRecognizer\n       */\n      defaults: {\n          event: 'pan',\n          threshold: 10,\n          pointers: 1,\n          direction: DIRECTION_ALL\n      },\n\n      getTouchAction: function() {\n          var direction = this.options.direction;\n          var actions = [];\n          if (direction &amp; DIRECTION_HORIZONTAL) {\n              actions.push(TOUCH_ACTION_PAN_Y);\n          }\n          if (direction &amp; DIRECTION_VERTICAL) {\n              actions.push(TOUCH_ACTION_PAN_X);\n          }\n          return actions;\n      },\n\n      directionTest: function(input) {\n          var options = this.options;\n          var hasMoved = true;\n          var distance = input.distance;\n          var direction = input.direction;\n          var x = input.deltaX;\n          var y = input.deltaY;\n\n          // lock to axis?\n          if (!(direction &amp; options.direction)) {\n              if (options.direction &amp; DIRECTION_HORIZONTAL) {\n                  direction = (x === 0) ? DIRECTION_NONE : (x &lt; 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                  hasMoved = x != this.pX;\n                  distance = Math.abs(input.deltaX);\n              } else {\n                  direction = (y === 0) ? DIRECTION_NONE : (y &lt; 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                  hasMoved = y != this.pY;\n                  distance = Math.abs(input.deltaY);\n              }\n          }\n          input.direction = direction;\n          return hasMoved &amp;&amp; distance &gt; options.threshold &amp;&amp; direction &amp; options.direction;\n      },\n\n      attrTest: function(input) {\n          return AttrRecognizer.prototype.attrTest.call(this, input) &amp;&amp;\n              (this.state &amp; STATE_BEGAN || (!(this.state &amp; STATE_BEGAN) &amp;&amp; this.directionTest(input)));\n      },\n\n      emit: function(input) {\n\n          this.pX = input.deltaX;\n          this.pY = input.deltaY;\n\n          var direction = directionStr(input.direction);\n\n          if (direction) {\n              input.additionalEvent = this.options.event + direction;\n          }\n          this._super.emit.call(this, input);\n      }\n  });\n\n  /**\n   * Pinch\n   * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n   * @constructor\n   * @extends AttrRecognizer\n   */\n  function PinchRecognizer() {\n      AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(PinchRecognizer, AttrRecognizer, {\n      /**\n       * @namespace\n       * @memberof PinchRecognizer\n       */\n      defaults: {\n          event: 'pinch',\n          threshold: 0,\n          pointers: 2\n      },\n\n      getTouchAction: function() {\n          return [TOUCH_ACTION_NONE];\n      },\n\n      attrTest: function(input) {\n          return this._super.attrTest.call(this, input) &amp;&amp;\n              (Math.abs(input.scale - 1) &gt; this.options.threshold || this.state &amp; STATE_BEGAN);\n      },\n\n      emit: function(input) {\n          if (input.scale !== 1) {\n              var inOut = input.scale &lt; 1 ? 'in' : 'out';\n              input.additionalEvent = this.options.event + inOut;\n          }\n          this._super.emit.call(this, input);\n      }\n  });\n\n  /**\n   * Press\n   * Recognized when the pointer is down for x ms without any movement.\n   * @constructor\n   * @extends Recognizer\n   */\n  function PressRecognizer() {\n      Recognizer.apply(this, arguments);\n\n      this._timer = null;\n      this._input = null;\n  }\n\n  inherit(PressRecognizer, Recognizer, {\n      /**\n       * @namespace\n       * @memberof PressRecognizer\n       */\n      defaults: {\n          event: 'press',\n          pointers: 1,\n          time: 251, // minimal time of the pointer to be pressed\n          threshold: 9 // a minimal movement is ok, but keep it low\n      },\n\n      getTouchAction: function() {\n          return [TOUCH_ACTION_AUTO];\n      },\n\n      process: function(input) {\n          var options = this.options;\n          var validPointers = input.pointers.length === options.pointers;\n          var validMovement = input.distance &lt; options.threshold;\n          var validTime = input.deltaTime &gt; options.time;\n\n          this._input = input;\n\n          // we only allow little movement\n          // and we've reached an end event, so a tap is possible\n          if (!validMovement || !validPointers || (input.eventType &amp; (INPUT_END | INPUT_CANCEL) &amp;&amp; !validTime)) {\n              this.reset();\n          } else if (input.eventType &amp; INPUT_START) {\n              this.reset();\n              this._timer = setTimeoutContext(function() {\n                  this.state = STATE_RECOGNIZED;\n                  this.tryEmit();\n              }, options.time, this);\n          } else if (input.eventType &amp; INPUT_END) {\n              return STATE_RECOGNIZED;\n          }\n          return STATE_FAILED;\n      },\n\n      reset: function() {\n          clearTimeout(this._timer);\n      },\n\n      emit: function(input) {\n          if (this.state !== STATE_RECOGNIZED) {\n              return;\n          }\n\n          if (input &amp;&amp; (input.eventType &amp; INPUT_END)) {\n              this.manager.emit(this.options.event + 'up', input);\n          } else {\n              this._input.timeStamp = now();\n              this.manager.emit(this.options.event, this._input);\n          }\n      }\n  });\n\n  /**\n   * Rotate\n   * Recognized when two or more pointer are moving in a circular motion.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n  function RotateRecognizer() {\n      AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(RotateRecognizer, AttrRecognizer, {\n      /**\n       * @namespace\n       * @memberof RotateRecognizer\n       */\n      defaults: {\n          event: 'rotate',\n          threshold: 0,\n          pointers: 2\n      },\n\n      getTouchAction: function() {\n          return [TOUCH_ACTION_NONE];\n      },\n\n      attrTest: function(input) {\n          return this._super.attrTest.call(this, input) &amp;&amp;\n              (Math.abs(input.rotation) &gt; this.options.threshold || this.state &amp; STATE_BEGAN);\n      }\n  });\n\n  /**\n   * Swipe\n   * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n  function SwipeRecognizer() {\n      AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(SwipeRecognizer, AttrRecognizer, {\n      /**\n       * @namespace\n       * @memberof SwipeRecognizer\n       */\n      defaults: {\n          event: 'swipe',\n          threshold: 10,\n          velocity: 0.3,\n          direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n          pointers: 1\n      },\n\n      getTouchAction: function() {\n          return PanRecognizer.prototype.getTouchAction.call(this);\n      },\n\n      attrTest: function(input) {\n          var direction = this.options.direction;\n          var velocity;\n\n          if (direction &amp; (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n              velocity = input.overallVelocity;\n          } else if (direction &amp; DIRECTION_HORIZONTAL) {\n              velocity = input.overallVelocityX;\n          } else if (direction &amp; DIRECTION_VERTICAL) {\n              velocity = input.overallVelocityY;\n          }\n\n          return this._super.attrTest.call(this, input) &amp;&amp;\n              direction &amp; input.offsetDirection &amp;&amp;\n              input.distance &gt; this.options.threshold &amp;&amp;\n              input.maxPointers == this.options.pointers &amp;&amp;\n              abs(velocity) &gt; this.options.velocity &amp;&amp; input.eventType &amp; INPUT_END;\n      },\n\n      emit: function(input) {\n          var direction = directionStr(input.offsetDirection);\n          if (direction) {\n              this.manager.emit(this.options.event + direction, input);\n          }\n\n          this.manager.emit(this.options.event, input);\n      }\n  });\n\n  /**\n   * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n   * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n   * a single tap.\n   *\n   * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n   * multi-taps being recognized.\n   * @constructor\n   * @extends Recognizer\n   */\n  function TapRecognizer() {\n      Recognizer.apply(this, arguments);\n\n      // previous time and center,\n      // used for tap counting\n      this.pTime = false;\n      this.pCenter = false;\n\n      this._timer = null;\n      this._input = null;\n      this.count = 0;\n  }\n\n  inherit(TapRecognizer, Recognizer, {\n      /**\n       * @namespace\n       * @memberof PinchRecognizer\n       */\n      defaults: {\n          event: 'tap',\n          pointers: 1,\n          taps: 1,\n          interval: 300, // max time between the multi-tap taps\n          time: 250, // max time of the pointer to be down (like finger on the screen)\n          threshold: 9, // a minimal movement is ok, but keep it low\n          posThreshold: 10 // a multi-tap can be a bit off the initial position\n      },\n\n      getTouchAction: function() {\n          return [TOUCH_ACTION_MANIPULATION];\n      },\n\n      process: function(input) {\n          var options = this.options;\n\n          var validPointers = input.pointers.length === options.pointers;\n          var validMovement = input.distance &lt; options.threshold;\n          var validTouchTime = input.deltaTime &lt; options.time;\n\n          this.reset();\n\n          if ((input.eventType &amp; INPUT_START) &amp;&amp; (this.count === 0)) {\n              return this.failTimeout();\n          }\n\n          // we only allow little movement\n          // and we've reached an end event, so a tap is possible\n          if (validMovement &amp;&amp; validTouchTime &amp;&amp; validPointers) {\n              if (input.eventType != INPUT_END) {\n                  return this.failTimeout();\n              }\n\n              var validInterval = this.pTime ? (input.timeStamp - this.pTime &lt; options.interval) : true;\n              var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) &lt; options.posThreshold;\n\n              this.pTime = input.timeStamp;\n              this.pCenter = input.center;\n\n              if (!validMultiTap || !validInterval) {\n                  this.count = 1;\n              } else {\n                  this.count += 1;\n              }\n\n              this._input = input;\n\n              // if tap count matches we have recognized it,\n              // else it has began recognizing...\n              var tapCount = this.count % options.taps;\n              if (tapCount === 0) {\n                  // no failing requirements, immediately trigger the tap event\n                  // or wait as long as the multitap interval to trigger\n                  if (!this.hasRequireFailures()) {\n                      return STATE_RECOGNIZED;\n                  } else {\n                      this._timer = setTimeoutContext(function() {\n                          this.state = STATE_RECOGNIZED;\n                          this.tryEmit();\n                      }, options.interval, this);\n                      return STATE_BEGAN;\n                  }\n              }\n          }\n          return STATE_FAILED;\n      },\n\n      failTimeout: function() {\n          this._timer = setTimeoutContext(function() {\n              this.state = STATE_FAILED;\n          }, this.options.interval, this);\n          return STATE_FAILED;\n      },\n\n      reset: function() {\n          clearTimeout(this._timer);\n      },\n\n      emit: function() {\n          if (this.state == STATE_RECOGNIZED) {\n              this._input.tapCount = this.count;\n              this.manager.emit(this.options.event, this._input);\n          }\n      }\n  });\n\n  /**\n   * Simple way to create a manager with a default set of recognizers.\n   * @param {HTMLElement} element\n   * @param {Object} [options]\n   * @constructor\n   */\n  function Hammer(element, options) {\n      options = options || {};\n      options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n      return new Manager(element, options);\n  }\n\n  /**\n   * @const {string}\n   */\n  Hammer.VERSION = '2.0.6';\n\n  /**\n   * default settings\n   * @namespace\n   */\n  Hammer.defaults = {\n      /**\n       * set if DOM events are being triggered.\n       * But this is slower and unused by simple implementations, so disabled by default.\n       * @type {Boolean}\n       * @default false\n       */\n      domEvents: false,\n\n      /**\n       * The value for the touchAction property/fallback.\n       * When set to `compute` it will magically set the correct value based on the added recognizers.\n       * @type {String}\n       * @default compute\n       */\n      touchAction: TOUCH_ACTION_COMPUTE,\n\n      /**\n       * @type {Boolean}\n       * @default true\n       */\n      enable: true,\n\n      /**\n       * EXPERIMENTAL FEATURE -- can be removed/changed\n       * Change the parent input target element.\n       * If Null, then it is being set the to main element.\n       * @type {Null|EventTarget}\n       * @default null\n       */\n      inputTarget: null,\n\n      /**\n       * force an input class\n       * @type {Null|Function}\n       * @default null\n       */\n      inputClass: null,\n\n      /**\n       * Default recognizer setup when calling `Hammer()`\n       * When creating a new Manager these will be skipped.\n       * @type {Array}\n       */\n      preset: [\n          // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n          [RotateRecognizer, {enable: false}],\n          [PinchRecognizer, {enable: false}, ['rotate']],\n          [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n          [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n          [TapRecognizer],\n          [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n          [PressRecognizer]\n      ],\n\n      /**\n       * Some CSS properties can be used to improve the working of Hammer.\n       * Add them to this method and they will be set when creating a new Manager.\n       * @namespace\n       */\n      cssProps: {\n          /**\n           * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n           * @type {String}\n           * @default 'none'\n           */\n          userSelect: 'none',\n\n          /**\n           * Disable the Windows Phone grippers when pressing an element.\n           * @type {String}\n           * @default 'none'\n           */\n          touchSelect: 'none',\n\n          /**\n           * Disables the default callout shown when you touch and hold a touch target.\n           * On iOS, when you touch and hold a touch target such as a link, Safari displays\n           * a callout containing information about the link. This property allows you to disable that callout.\n           * @type {String}\n           * @default 'none'\n           */\n          touchCallout: 'none',\n\n          /**\n           * Specifies whether zooming is enabled. Used by IE10&gt;\n           * @type {String}\n           * @default 'none'\n           */\n          contentZooming: 'none',\n\n          /**\n           * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n           * @type {String}\n           * @default 'none'\n           */\n          userDrag: 'none',\n\n          /**\n           * Overrides the highlight color shown when the user taps a link or a JavaScript\n           * clickable element in iOS. This property obeys the alpha value, if specified.\n           * @type {String}\n           * @default 'rgba(0,0,0,0)'\n           */\n          tapHighlightColor: 'rgba(0,0,0,0)'\n      }\n  };\n\n  var STOP = 1;\n  var FORCED_STOP = 2;\n\n  /**\n   * Manager\n   * @param {HTMLElement} element\n   * @param {Object} [options]\n   * @constructor\n   */\n  function Manager(element, options) {\n      this.options = assign({}, Hammer.defaults, options || {});\n\n      this.options.inputTarget = this.options.inputTarget || element;\n\n      this.handlers = {};\n      this.session = {};\n      this.recognizers = [];\n\n      this.element = element;\n      this.input = createInputInstance(this);\n      this.touchAction = new TouchAction(this, this.options.touchAction);\n\n      toggleCssProps(this, true);\n\n      each(this.options.recognizers, function(item) {\n          var recognizer = this.add(new (item[0])(item[1]));\n          item[2] &amp;&amp; recognizer.recognizeWith(item[2]);\n          item[3] &amp;&amp; recognizer.requireFailure(item[3]);\n      }, this);\n  }\n\n  Manager.prototype = {\n      /**\n       * set options\n       * @param {Object} options\n       * @returns {Manager}\n       */\n      set: function(options) {\n          assign(this.options, options);\n\n          // Options that need a little more setup\n          if (options.touchAction) {\n              this.touchAction.update();\n          }\n          if (options.inputTarget) {\n              // Clean up existing event listeners and reinitialize\n              this.input.destroy();\n              this.input.target = options.inputTarget;\n              this.input.init();\n          }\n          return this;\n      },\n\n      /**\n       * stop recognizing for this session.\n       * This session will be discarded, when a new [input]start event is fired.\n       * When forced, the recognizer cycle is stopped immediately.\n       * @param {Boolean} [force]\n       */\n      stop: function(force) {\n          this.session.stopped = force ? FORCED_STOP : STOP;\n      },\n\n      /**\n       * run the recognizers!\n       * called by the inputHandler function on every movement of the pointers (touches)\n       * it walks through all the recognizers and tries to detect the gesture that is being made\n       * @param {Object} inputData\n       */\n      recognize: function(inputData) {\n          var session = this.session;\n          if (session.stopped) {\n              return;\n          }\n\n          // run the touch-action polyfill\n          this.touchAction.preventDefaults(inputData);\n\n          var recognizer;\n          var recognizers = this.recognizers;\n\n          // this holds the recognizer that is being recognized.\n          // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n          // if no recognizer is detecting a thing, it is set to `null`\n          var curRecognizer = session.curRecognizer;\n\n          // reset when the last recognizer is recognized\n          // or when we're in a new session\n          if (!curRecognizer || (curRecognizer &amp;&amp; curRecognizer.state &amp; STATE_RECOGNIZED)) {\n              curRecognizer = session.curRecognizer = null;\n          }\n\n          var i = 0;\n          while (i &lt; recognizers.length) {\n              recognizer = recognizers[i];\n\n              // find out if we are allowed try to recognize the input for this one.\n              // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n              // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n              //      that is being recognized.\n              // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n              //      this can be setup with the `recognizeWith()` method on the recognizer.\n              if (session.stopped !== FORCED_STOP &amp;&amp; ( // 1\n                      !curRecognizer || recognizer == curRecognizer || // 2\n                      recognizer.canRecognizeWith(curRecognizer))) { // 3\n                  recognizer.recognize(inputData);\n              } else {\n                  recognizer.reset();\n              }\n\n              // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n              // current active recognizer. but only if we don't already have an active recognizer\n              if (!curRecognizer &amp;&amp; recognizer.state &amp; (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                  curRecognizer = session.curRecognizer = recognizer;\n              }\n              i++;\n          }\n      },\n\n      /**\n       * get a recognizer by its event name.\n       * @param {Recognizer|String} recognizer\n       * @returns {Recognizer|Null}\n       */\n      get: function(recognizer) {\n          if (recognizer instanceof Recognizer) {\n              return recognizer;\n          }\n\n          var recognizers = this.recognizers;\n          for (var i = 0; i &lt; recognizers.length; i++) {\n              if (recognizers[i].options.event == recognizer) {\n                  return recognizers[i];\n              }\n          }\n          return null;\n      },\n\n      /**\n       * add a recognizer to the manager\n       * existing recognizers with the same event name will be removed\n       * @param {Recognizer} recognizer\n       * @returns {Recognizer|Manager}\n       */\n      add: function(recognizer) {\n          if (invokeArrayArg(recognizer, 'add', this)) {\n              return this;\n          }\n\n          // remove existing\n          var existing = this.get(recognizer.options.event);\n          if (existing) {\n              this.remove(existing);\n          }\n\n          this.recognizers.push(recognizer);\n          recognizer.manager = this;\n\n          this.touchAction.update();\n          return recognizer;\n      },\n\n      /**\n       * remove a recognizer by name or instance\n       * @param {Recognizer|String} recognizer\n       * @returns {Manager}\n       */\n      remove: function(recognizer) {\n          if (invokeArrayArg(recognizer, 'remove', this)) {\n              return this;\n          }\n\n          recognizer = this.get(recognizer);\n\n          // let's make sure this recognizer exists\n          if (recognizer) {\n              var recognizers = this.recognizers;\n              var index = inArray(recognizers, recognizer);\n\n              if (index !== -1) {\n                  recognizers.splice(index, 1);\n                  this.touchAction.update();\n              }\n          }\n\n          return this;\n      },\n\n      /**\n       * bind event\n       * @param {String} events\n       * @param {Function} handler\n       * @returns {EventEmitter} this\n       */\n      on: function(events, handler) {\n          var handlers = this.handlers;\n          each(splitStr(events), function(event) {\n              handlers[event] = handlers[event] || [];\n              handlers[event].push(handler);\n          });\n          return this;\n      },\n\n      /**\n       * unbind event, leave emit blank to remove all handlers\n       * @param {String} events\n       * @param {Function} [handler]\n       * @returns {EventEmitter} this\n       */\n      off: function(events, handler) {\n          var handlers = this.handlers;\n          each(splitStr(events), function(event) {\n              if (!handler) {\n                  delete handlers[event];\n              } else {\n                  handlers[event] &amp;&amp; handlers[event].splice(inArray(handlers[event], handler), 1);\n              }\n          });\n          return this;\n      },\n\n      /**\n       * emit event to the listeners\n       * @param {String} event\n       * @param {Object} data\n       */\n      emit: function(event, data) {\n          // we also want to trigger dom events\n          if (this.options.domEvents) {\n              triggerDomEvent(event, data);\n          }\n\n          // no handlers, so skip it all\n          var handlers = this.handlers[event] &amp;&amp; this.handlers[event].slice();\n          if (!handlers || !handlers.length) {\n              return;\n          }\n\n          data.type = event;\n          data.preventDefault = function() {\n              data.srcEvent.preventDefault();\n          };\n\n          var i = 0;\n          while (i &lt; handlers.length) {\n              handlers[i](data);\n              i++;\n          }\n      },\n\n      /**\n       * destroy the manager and unbinds all events\n       * it doesn't unbind dom events, that is the user own responsibility\n       */\n      destroy: function() {\n          this.element &amp;&amp; toggleCssProps(this, false);\n\n          this.handlers = {};\n          this.session = {};\n          this.input.destroy();\n          this.element = null;\n      }\n  };\n\n  /**\n   * add/remove the css properties as defined in manager.options.cssProps\n   * @param {Manager} manager\n   * @param {Boolean} add\n   */\n  function toggleCssProps(manager, add) {\n      var element = manager.element;\n      if (!element.style) {\n          return;\n      }\n      each(manager.options.cssProps, function(value, name) {\n          element.style[prefixed(element.style, name)] = add ? value : '';\n      });\n  }\n\n  /**\n   * trigger dom event\n   * @param {String} event\n   * @param {Object} data\n   */\n  function triggerDomEvent(event, data) {\n      var gestureEvent = document.createEvent('Event');\n      gestureEvent.initEvent(event, true, true);\n      gestureEvent.gesture = data;\n      data.target.dispatchEvent(gestureEvent);\n  }\n\n  assign(Hammer, {\n      INPUT_START: INPUT_START,\n      INPUT_MOVE: INPUT_MOVE,\n      INPUT_END: INPUT_END,\n      INPUT_CANCEL: INPUT_CANCEL,\n\n      STATE_POSSIBLE: STATE_POSSIBLE,\n      STATE_BEGAN: STATE_BEGAN,\n      STATE_CHANGED: STATE_CHANGED,\n      STATE_ENDED: STATE_ENDED,\n      STATE_RECOGNIZED: STATE_RECOGNIZED,\n      STATE_CANCELLED: STATE_CANCELLED,\n      STATE_FAILED: STATE_FAILED,\n\n      DIRECTION_NONE: DIRECTION_NONE,\n      DIRECTION_LEFT: DIRECTION_LEFT,\n      DIRECTION_RIGHT: DIRECTION_RIGHT,\n      DIRECTION_UP: DIRECTION_UP,\n      DIRECTION_DOWN: DIRECTION_DOWN,\n      DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n      DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n      DIRECTION_ALL: DIRECTION_ALL,\n\n      Manager: Manager,\n      Input: Input,\n      TouchAction: TouchAction,\n\n      TouchInput: TouchInput,\n      MouseInput: MouseInput,\n      PointerEventInput: PointerEventInput,\n      TouchMouseInput: TouchMouseInput,\n      SingleTouchInput: SingleTouchInput,\n\n      Recognizer: Recognizer,\n      AttrRecognizer: AttrRecognizer,\n      Tap: TapRecognizer,\n      Pan: PanRecognizer,\n      Swipe: SwipeRecognizer,\n      Pinch: PinchRecognizer,\n      Rotate: RotateRecognizer,\n      Press: PressRecognizer,\n\n      on: addEventListeners,\n      off: removeEventListeners,\n      each: each,\n      merge: merge,\n      extend: extend,\n      assign: assign,\n      inherit: inherit,\n      bindFn: bindFn,\n      prefixed: prefixed\n  });\n\n  // this prevents errors when Hammer is loaded in the presence of an AMD\n  //  style loader but by script tag, not by the loader.\n  var freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\n  freeGlobal.Hammer = Hammer;\n\n  if (true) {\n      !(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n          return Hammer;\n      }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined &amp;&amp; (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else if (typeof module != 'undefined' &amp;&amp; module.exports) {\n      module.exports = Hammer;\n  } else {\n      window[exportName] = Hammer;\n  }\n\n  })(window, document, 'Hammer');\n\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var util = __webpack_require__(1);\n  var hammerUtil = __webpack_require__(24);\n  var moment = __webpack_require__(2);\n  var Component = __webpack_require__(25);\n  var DateUtil = __webpack_require__(26);\n\n  /**\n   * @constructor Range\n   * A Range controls a numeric range with a start and end value.\n   * The Range adjusts the range based on mouse events or programmatic changes,\n   * and triggers events when the range is changing or has been changed.\n   * @param {{dom: Object, domProps: Object, emitter: Emitter}} body\n   * @param {Object} [options]    See description at Range.setOptions\n   */\n  function Range(body, options) {\n    var now = moment().hours(0).minutes(0).seconds(0).milliseconds(0);\n    this.start = now.clone().add(-3, 'days').valueOf(); // Number\n    this.end = now.clone().add(4, 'days').valueOf(); // Number\n\n    this.body = body;\n    this.deltaDifference = 0;\n    this.scaleOffset = 0;\n    this.startToFront = false;\n    this.endToFront = true;\n\n    // default options\n    this.defaultOptions = {\n      start: null,\n      end: null,\n      moment: moment,\n      direction: 'horizontal', // 'horizontal' or 'vertical'\n      moveable: true,\n      zoomable: true,\n      min: null,\n      max: null,\n      zoomMin: 10, // milliseconds\n      zoomMax: 1000 * 60 * 60 * 24 * 365 * 10000 // milliseconds\n    };\n    this.options = util.extend({}, this.defaultOptions);\n\n    this.props = {\n      touch: {}\n    };\n    this.animationTimer = null;\n\n    // drag listeners for dragging\n    this.body.emitter.on('panstart', this._onDragStart.bind(this));\n    this.body.emitter.on('panmove', this._onDrag.bind(this));\n    this.body.emitter.on('panend', this._onDragEnd.bind(this));\n\n    // mouse wheel for zooming\n    this.body.emitter.on('mousewheel', this._onMouseWheel.bind(this));\n\n    // pinch to zoom\n    this.body.emitter.on('touch', this._onTouch.bind(this));\n    this.body.emitter.on('pinch', this._onPinch.bind(this));\n\n    this.setOptions(options);\n  }\n\n  Range.prototype = new Component();\n\n  /**\n   * Set options for the range controller\n   * @param {Object} options      Available options:\n   *                              {Number | Date | String} start  Start date for the range\n   *                              {Number | Date | String} end    End date for the range\n   *                              {Number} min    Minimum value for start\n   *                              {Number} max    Maximum value for end\n   *                              {Number} zoomMin    Set a minimum value for\n   *                                                  (end - start).\n   *                              {Number} zoomMax    Set a maximum value for\n   *                                                  (end - start).\n   *                              {Boolean} moveable Enable moving of the range\n   *                                                 by dragging. True by default\n   *                              {Boolean} zoomable Enable zooming of the range\n   *                                                 by pinching/scrolling. True by default\n   */\n  Range.prototype.setOptions = function (options) {\n    if (options) {\n      // copy the options that we know\n      var fields = ['direction', 'min', 'max', 'zoomMin', 'zoomMax', 'moveable', 'zoomable', 'moment', 'activate', 'hiddenDates', 'zoomKey'];\n      util.selectiveExtend(fields, this.options, options);\n\n      if ('start' in options || 'end' in options) {\n        // apply a new range. both start and end are optional\n        this.setRange(options.start, options.end);\n      }\n    }\n  };\n\n  /**\n   * Test whether direction has a valid value\n   * @param {String} direction    'horizontal' or 'vertical'\n   */\n  function validateDirection(direction) {\n    if (direction != 'horizontal' &amp;&amp; direction != 'vertical') {\n      throw new TypeError('Unknown direction \&quot;' + direction + '\&quot;. ' + 'Choose \&quot;horizontal\&quot; or \&quot;vertical\&quot;.');\n    }\n  }\n\n  /**\n   * Set a new start and end range\n   * @param {Date | Number | String} [start]\n   * @param {Date | Number | String} [end]\n   * @param {boolean | {duration: number, easingFunction: string}} [animation=false]\n   *                                    If true (default), the range is animated\n   *                                    smoothly to the new window. An object can be\n   *                                    provided to specify duration and easing function.\n   *                                    Default duration is 500 ms, and default easing\n   *                                    function is 'easeInOutQuad'.\n   * @param {Boolean} [byUser=false]\n   *\n   */\n  Range.prototype.setRange = function (start, end, animation, byUser) {\n    if (byUser !== true) {\n      byUser = false;\n    }\n    var finalStart = start != undefined ? util.convert(start, 'Date').valueOf() : null;\n    var finalEnd = end != undefined ? util.convert(end, 'Date').valueOf() : null;\n    this._cancelAnimation();\n\n    if (animation) {\n      // true or an Object\n      var me = this;\n      var initStart = this.start;\n      var initEnd = this.end;\n      var duration = typeof animation === 'object' &amp;&amp; 'duration' in animation ? animation.duration : 500;\n      var easingName = typeof animation === 'object' &amp;&amp; 'easingFunction' in animation ? animation.easingFunction : 'easeInOutQuad';\n      var easingFunction = util.easingFunctions[easingName];\n      if (!easingFunction) {\n        throw new Error('Unknown easing function ' + JSON.stringify(easingName) + '. ' + 'Choose from: ' + Object.keys(util.easingFunctions).join(', '));\n      }\n\n      var initTime = new Date().valueOf();\n      var anyChanged = false;\n\n      var next = function next() {\n        if (!me.props.touch.dragging) {\n          var now = new Date().valueOf();\n          var time = now - initTime;\n          var ease = easingFunction(time / duration);\n          var done = time &gt; duration;\n          var s = done || finalStart === null ? finalStart : initStart + (finalStart - initStart) * ease;\n          var e = done || finalEnd === null ? finalEnd : initEnd + (finalEnd - initEnd) * ease;\n\n          changed = me._applyRange(s, e);\n          DateUtil.updateHiddenDates(me.options.moment, me.body, me.options.hiddenDates);\n          anyChanged = anyChanged || changed;\n          if (changed) {\n            me.body.emitter.emit('rangechange', { start: new Date(me.start), end: new Date(me.end), byUser: byUser });\n          }\n\n          if (done) {\n            if (anyChanged) {\n              me.body.emitter.emit('rangechanged', { start: new Date(me.start), end: new Date(me.end), byUser: byUser });\n            }\n          } else {\n            // animate with as high as possible frame rate, leave 20 ms in between\n            // each to prevent the browser from blocking\n            me.animationTimer = setTimeout(next, 20);\n          }\n        }\n      };\n\n      return next();\n    } else {\n      var changed = this._applyRange(finalStart, finalEnd);\n      DateUtil.updateHiddenDates(this.options.moment, this.body, this.options.hiddenDates);\n      if (changed) {\n        var params = { start: new Date(this.start), end: new Date(this.end), byUser: byUser };\n        this.body.emitter.emit('rangechange', params);\n        this.body.emitter.emit('rangechanged', params);\n      }\n    }\n  };\n\n  /**\n   * Stop an animation\n   * @private\n   */\n  Range.prototype._cancelAnimation = function () {\n    if (this.animationTimer) {\n      clearTimeout(this.animationTimer);\n      this.animationTimer = null;\n    }\n  };\n\n  /**\n   * Set a new start and end range. This method is the same as setRange, but\n   * does not trigger a range change and range changed event, and it returns\n   * true when the range is changed\n   * @param {Number} [start]\n   * @param {Number} [end]\n   * @return {Boolean} changed\n   * @private\n   */\n  Range.prototype._applyRange = function (start, end) {\n    var newStart = start != null ? util.convert(start, 'Date').valueOf() : this.start,\n        newEnd = end != null ? util.convert(end, 'Date').valueOf() : this.end,\n        max = this.options.max != null ? util.convert(this.options.max, 'Date').valueOf() : null,\n        min = this.options.min != null ? util.convert(this.options.min, 'Date').valueOf() : null,\n        diff;\n\n    // check for valid number\n    if (isNaN(newStart) || newStart === null) {\n      throw new Error('Invalid start \&quot;' + start + '\&quot;');\n    }\n    if (isNaN(newEnd) || newEnd === null) {\n      throw new Error('Invalid end \&quot;' + end + '\&quot;');\n    }\n\n    // prevent start &lt; end\n    if (newEnd &lt; newStart) {\n      newEnd = newStart;\n    }\n\n    // prevent start &lt; min\n    if (min !== null) {\n      if (newStart &lt; min) {\n        diff = min - newStart;\n        newStart += diff;\n        newEnd += diff;\n\n        // prevent end &gt; max\n        if (max != null) {\n          if (newEnd &gt; max) {\n            newEnd = max;\n          }\n        }\n      }\n    }\n\n    // prevent end &gt; max\n    if (max !== null) {\n      if (newEnd &gt; max) {\n        diff = newEnd - max;\n        newStart -= diff;\n        newEnd -= diff;\n\n        // prevent start &lt; min\n        if (min != null) {\n          if (newStart &lt; min) {\n            newStart = min;\n          }\n        }\n      }\n    }\n\n    // prevent (end-start) &lt; zoomMin\n    if (this.options.zoomMin !== null) {\n      var zoomMin = parseFloat(this.options.zoomMin);\n      if (zoomMin &lt; 0) {\n        zoomMin = 0;\n      }\n      if (newEnd - newStart &lt; zoomMin) {\n        if (this.end - this.start === zoomMin &amp;&amp; newStart &gt; this.start &amp;&amp; newEnd &lt; this.end) {\n          // ignore this action, we are already zoomed to the minimum\n          newStart = this.start;\n          newEnd = this.end;\n        } else {\n          // zoom to the minimum\n          diff = zoomMin - (newEnd - newStart);\n          newStart -= diff / 2;\n          newEnd += diff / 2;\n        }\n      }\n    }\n\n    // prevent (end-start) &gt; zoomMax\n    if (this.options.zoomMax !== null) {\n      var zoomMax = parseFloat(this.options.zoomMax);\n      if (zoomMax &lt; 0) {\n        zoomMax = 0;\n      }\n\n      if (newEnd - newStart &gt; zoomMax) {\n        if (this.end - this.start === zoomMax &amp;&amp; newStart &lt; this.start &amp;&amp; newEnd &gt; this.end) {\n          // ignore this action, we are already zoomed to the maximum\n          newStart = this.start;\n          newEnd = this.end;\n        } else {\n          // zoom to the maximum\n          diff = newEnd - newStart - zoomMax;\n          newStart += diff / 2;\n          newEnd -= diff / 2;\n        }\n      }\n    }\n\n    var changed = this.start != newStart || this.end != newEnd;\n\n    // if the new range does NOT overlap with the old range, emit checkRangedItems to avoid not showing ranged items (ranged meaning has end time, not necessarily of type Range)\n    if (!(newStart &gt;= this.start &amp;&amp; newStart &lt;= this.end || newEnd &gt;= this.start &amp;&amp; newEnd &lt;= this.end) &amp;&amp; !(this.start &gt;= newStart &amp;&amp; this.start &lt;= newEnd || this.end &gt;= newStart &amp;&amp; this.end &lt;= newEnd)) {\n      this.body.emitter.emit('checkRangedItems');\n    }\n\n    this.start = newStart;\n    this.end = newEnd;\n    return changed;\n  };\n\n  /**\n   * Retrieve the current range.\n   * @return {Object} An object with start and end properties\n   */\n  Range.prototype.getRange = function () {\n    return {\n      start: this.start,\n      end: this.end\n    };\n  };\n\n  /**\n   * Calculate the conversion offset and scale for current range, based on\n   * the provided width\n   * @param {Number} width\n   * @returns {{offset: number, scale: number}} conversion\n   */\n  Range.prototype.conversion = function (width, totalHidden) {\n    return Range.conversion(this.start, this.end, width, totalHidden);\n  };\n\n  /**\n   * Static method to calculate the conversion offset and scale for a range,\n   * based on the provided start, end, and width\n   * @param {Number} start\n   * @param {Number} end\n   * @param {Number} width\n   * @returns {{offset: number, scale: number}} conversion\n   */\n  Range.conversion = function (start, end, width, totalHidden) {\n    if (totalHidden === undefined) {\n      totalHidden = 0;\n    }\n    if (width != 0 &amp;&amp; end - start != 0) {\n      return {\n        offset: start,\n        scale: width / (end - start - totalHidden)\n      };\n    } else {\n      return {\n        offset: 0,\n        scale: 1\n      };\n    }\n  };\n\n  /**\n   * Start dragging horizontally or vertically\n   * @param {Event} event\n   * @private\n   */\n  Range.prototype._onDragStart = function (event) {\n    this.deltaDifference = 0;\n    this.previousDelta = 0;\n\n    // only allow dragging when configured as movable\n    if (!this.options.moveable) return;\n\n    // only start dragging when the mouse is inside the current range\n    if (!this._isInsideRange(event)) return;\n\n    // refuse to drag when we where pinching to prevent the timeline make a jump\n    // when releasing the fingers in opposite order from the touch screen\n    if (!this.props.touch.allowDragging) return;\n\n    this.props.touch.start = this.start;\n    this.props.touch.end = this.end;\n    this.props.touch.dragging = true;\n\n    if (this.body.dom.root) {\n      this.body.dom.root.style.cursor = 'move';\n    }\n  };\n\n  /**\n   * Perform dragging operation\n   * @param {Event} event\n   * @private\n   */\n  Range.prototype._onDrag = function (event) {\n    if (!this.props.touch.dragging) return;\n\n    // only allow dragging when configured as movable\n    if (!this.options.moveable) return;\n\n    // TODO: this may be redundant in hammerjs2\n    // refuse to drag when we where pinching to prevent the timeline make a jump\n    // when releasing the fingers in opposite order from the touch screen\n    if (!this.props.touch.allowDragging) return;\n\n    var direction = this.options.direction;\n    validateDirection(direction);\n    var delta = direction == 'horizontal' ? event.deltaX : event.deltaY;\n    delta -= this.deltaDifference;\n    var interval = this.props.touch.end - this.props.touch.start;\n\n    // normalize dragging speed if cutout is in between.\n    var duration = DateUtil.getHiddenDurationBetween(this.body.hiddenDates, this.start, this.end);\n    interval -= duration;\n\n    var width = direction == 'horizontal' ? this.body.domProps.center.width : this.body.domProps.center.height;\n    var diffRange = -delta / width * interval;\n    var newStart = this.props.touch.start + diffRange;\n    var newEnd = this.props.touch.end + diffRange;\n\n    // snapping times away from hidden zones\n    var safeStart = DateUtil.snapAwayFromHidden(this.body.hiddenDates, newStart, this.previousDelta - delta, true);\n    var safeEnd = DateUtil.snapAwayFromHidden(this.body.hiddenDates, newEnd, this.previousDelta - delta, true);\n    if (safeStart != newStart || safeEnd != newEnd) {\n      this.deltaDifference += delta;\n      this.props.touch.start = safeStart;\n      this.props.touch.end = safeEnd;\n      this._onDrag(event);\n      return;\n    }\n\n    this.previousDelta = delta;\n    this._applyRange(newStart, newEnd);\n\n    var startDate = new Date(this.start);\n    var endDate = new Date(this.end);\n\n    // fire a rangechange event\n    this.body.emitter.emit('rangechange', {\n      start: startDate,\n      end: endDate,\n      byUser: true\n    });\n  };\n\n  /**\n   * Stop dragging operation\n   * @param {event} event\n   * @private\n   */\n  Range.prototype._onDragEnd = function (event) {\n    if (!this.props.touch.dragging) return;\n\n    // only allow dragging when configured as movable\n    if (!this.options.moveable) return;\n\n    // TODO: this may be redundant in hammerjs2\n    // refuse to drag when we where pinching to prevent the timeline make a jump\n    // when releasing the fingers in opposite order from the touch screen\n    if (!this.props.touch.allowDragging) return;\n\n    this.props.touch.dragging = false;\n    if (this.body.dom.root) {\n      this.body.dom.root.style.cursor = 'auto';\n    }\n\n    // fire a rangechanged event\n    this.body.emitter.emit('rangechanged', {\n      start: new Date(this.start),\n      end: new Date(this.end),\n      byUser: true\n    });\n  };\n\n  /**\n   * Event handler for mouse wheel event, used to zoom\n   * Code from http://adomas.org/javascript-mouse-wheel/\n   * @param {Event} event\n   * @private\n   */\n  Range.prototype._onMouseWheel = function (event) {\n    // only allow zooming when configured as zoomable and moveable\n    if (!(this.options.zoomable &amp;&amp; this.options.moveable)) return;\n\n    // only zoom when the mouse is inside the current range\n    if (!this._isInsideRange(event)) return;\n\n    // only zoom when the according key is pressed and the zoomKey option is set\n    if (this.options.zoomKey &amp;&amp; !event[this.options.zoomKey]) return;\n\n    // retrieve delta\n    var delta = 0;\n    if (event.wheelDelta) {\n      /* IE/Opera. */\n      delta = event.wheelDelta / 120;\n    } else if (event.detail) {\n      /* Mozilla case. */\n      // In Mozilla, sign of delta is different than in IE.\n      // Also, delta is multiple of 3.\n      delta = -event.detail / 3;\n    }\n\n    // If delta is nonzero, handle it.\n    // Basically, delta is now positive if wheel was scrolled up,\n    // and negative, if wheel was scrolled down.\n    if (delta) {\n      // perform the zoom action. Delta is normally 1 or -1\n\n      // adjust a negative delta such that zooming in with delta 0.1\n      // equals zooming out with a delta -0.1\n      var scale;\n      if (delta &lt; 0) {\n        scale = 1 - delta / 5;\n      } else {\n        scale = 1 / (1 + delta / 5);\n      }\n\n      // calculate center, the date to zoom around\n      var pointer = getPointer({ x: event.clientX, y: event.clientY }, this.body.dom.center);\n      var pointerDate = this._pointerToDate(pointer);\n\n      this.zoom(scale, pointerDate, delta);\n    }\n\n    // Prevent default actions caused by mouse wheel\n    // (else the page and timeline both zoom and scroll)\n    event.preventDefault();\n  };\n\n  /**\n   * Start of a touch gesture\n   * @private\n   */\n  Range.prototype._onTouch = function (event) {\n    this.props.touch.start = this.start;\n    this.props.touch.end = this.end;\n    this.props.touch.allowDragging = true;\n    this.props.touch.center = null;\n    this.scaleOffset = 0;\n    this.deltaDifference = 0;\n  };\n\n  /**\n   * Handle pinch event\n   * @param {Event} event\n   * @private\n   */\n  Range.prototype._onPinch = function (event) {\n    // only allow zooming when configured as zoomable and moveable\n    if (!(this.options.zoomable &amp;&amp; this.options.moveable)) return;\n\n    this.props.touch.allowDragging = false;\n\n    if (!this.props.touch.center) {\n      this.props.touch.center = getPointer(event.center, this.body.dom.center);\n    }\n\n    var scale = 1 / (event.scale + this.scaleOffset);\n    var centerDate = this._pointerToDate(this.props.touch.center);\n\n    var hiddenDuration = DateUtil.getHiddenDurationBetween(this.body.hiddenDates, this.start, this.end);\n    var hiddenDurationBefore = DateUtil.getHiddenDurationBefore(this.options.moment, this.body.hiddenDates, this, centerDate);\n    var hiddenDurationAfter = hiddenDuration - hiddenDurationBefore;\n\n    // calculate new start and end\n    var newStart = centerDate - hiddenDurationBefore + (this.props.touch.start - (centerDate - hiddenDurationBefore)) * scale;\n    var newEnd = centerDate + hiddenDurationAfter + (this.props.touch.end - (centerDate + hiddenDurationAfter)) * scale;\n\n    // snapping times away from hidden zones\n    this.startToFront = 1 - scale &lt;= 0; // used to do the right auto correction with periodic hidden times\n    this.endToFront = scale - 1 &lt;= 0; // used to do the right auto correction with periodic hidden times\n\n    var safeStart = DateUtil.snapAwayFromHidden(this.body.hiddenDates, newStart, 1 - scale, true);\n    var safeEnd = DateUtil.snapAwayFromHidden(this.body.hiddenDates, newEnd, scale - 1, true);\n    if (safeStart != newStart || safeEnd != newEnd) {\n      this.props.touch.start = safeStart;\n      this.props.touch.end = safeEnd;\n      this.scaleOffset = 1 - event.scale;\n      newStart = safeStart;\n      newEnd = safeEnd;\n    }\n\n    this.setRange(newStart, newEnd, false, true);\n\n    this.startToFront = false; // revert to default\n    this.endToFront = true; // revert to default\n  };\n\n  /**\n   * Test whether the mouse from a mouse event is inside the visible window,\n   * between the current start and end date\n   * @param {Object} event\n   * @return {boolean} Returns true when inside the visible window\n   * @private\n   */\n  Range.prototype._isInsideRange = function (event) {\n    // calculate the time where the mouse is, check whether inside\n    // and no scroll action should happen.\n    var clientX = event.center ? event.center.x : event.clientX;\n    var x = clientX - util.getAbsoluteLeft(this.body.dom.centerContainer);\n    var time = this.body.util.toTime(x);\n\n    return time &gt;= this.start &amp;&amp; time &lt;= this.end;\n  };\n\n  /**\n   * Helper function to calculate the center date for zooming\n   * @param {{x: Number, y: Number}} pointer\n   * @return {number} date\n   * @private\n   */\n  Range.prototype._pointerToDate = function (pointer) {\n    var conversion;\n    var direction = this.options.direction;\n\n    validateDirection(direction);\n\n    if (direction == 'horizontal') {\n      return this.body.util.toTime(pointer.x).valueOf();\n    } else {\n      var height = this.body.domProps.center.height;\n      conversion = this.conversion(height);\n      return pointer.y / conversion.scale + conversion.offset;\n    }\n  };\n\n  /**\n   * Get the pointer location relative to the location of the dom element\n   * @param {{x: Number, y: Number}} touch\n   * @param {Element} element   HTML DOM element\n   * @return {{x: Number, y: Number}} pointer\n   * @private\n   */\n  function getPointer(touch, element) {\n    return {\n      x: touch.x - util.getAbsoluteLeft(element),\n      y: touch.y - util.getAbsoluteTop(element)\n    };\n  }\n\n  /**\n   * Zoom the range the given scale in or out. Start and end date will\n   * be adjusted, and the timeline will be redrawn. You can optionally give a\n   * date around which to zoom.\n   * For example, try scale = 0.9 or 1.1\n   * @param {Number} scale      Scaling factor. Values above 1 will zoom out,\n   *                            values below 1 will zoom in.\n   * @param {Number} [center]   Value representing a date around which will\n   *                            be zoomed.\n   */\n  Range.prototype.zoom = function (scale, center, delta) {\n    // if centerDate is not provided, take it half between start Date and end Date\n    if (center == null) {\n      center = (this.start + this.end) / 2;\n    }\n\n    var hiddenDuration = DateUtil.getHiddenDurationBetween(this.body.hiddenDates, this.start, this.end);\n    var hiddenDurationBefore = DateUtil.getHiddenDurationBefore(this.options.moment, this.body.hiddenDates, this, center);\n    var hiddenDurationAfter = hiddenDuration - hiddenDurationBefore;\n\n    // calculate new start and end\n    var newStart = center - hiddenDurationBefore + (this.start - (center - hiddenDurationBefore)) * scale;\n    var newEnd = center + hiddenDurationAfter + (this.end - (center + hiddenDurationAfter)) * scale;\n\n    // snapping times away from hidden zones\n    this.startToFront = delta &gt; 0 ? false : true; // used to do the right autocorrection with periodic hidden times\n    this.endToFront = -delta &gt; 0 ? false : true; // used to do the right autocorrection with periodic hidden times\n    var safeStart = DateUtil.snapAwayFromHidden(this.body.hiddenDates, newStart, delta, true);\n    var safeEnd = DateUtil.snapAwayFromHidden(this.body.hiddenDates, newEnd, -delta, true);\n    if (safeStart != newStart || safeEnd != newEnd) {\n      newStart = safeStart;\n      newEnd = safeEnd;\n    }\n\n    this.setRange(newStart, newEnd, false, true);\n\n    this.startToFront = false; // revert to default\n    this.endToFront = true; // revert to default\n  };\n\n  /**\n   * Move the range with a given delta to the left or right. Start and end\n   * value will be adjusted. For example, try delta = 0.1 or -0.1\n   * @param {Number}  delta     Moving amount. Positive value will move right,\n   *                            negative value will move left\n   */\n  Range.prototype.move = function (delta) {\n    // zoom start Date and end Date relative to the centerDate\n    var diff = this.end - this.start;\n\n    // apply new values\n    var newStart = this.start + diff * delta;\n    var newEnd = this.end + diff * delta;\n\n    // TODO: reckon with min and max range\n\n    this.start = newStart;\n    this.end = newEnd;\n  };\n\n  /**\n   * Move the range to a new center point\n   * @param {Number} moveTo      New center point of the range\n   */\n  Range.prototype.moveTo = function (moveTo) {\n    var center = (this.start + this.end) / 2;\n\n    var diff = center - moveTo;\n\n    // calculate new start and end\n    var newStart = this.start - diff;\n    var newEnd = this.end - diff;\n\n    this.setRange(newStart, newEnd);\n  };\n\n  module.exports = Range;\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var Hammer = __webpack_require__(20);\n\n  /**\n   * Register a touch event, taking place before a gesture\n   * @param {Hammer} hammer       A hammer instance\n   * @param {function} callback   Callback, called as callback(event)\n   */\n  exports.onTouch = function (hammer, callback) {\n    callback.inputHandler = function (event) {\n      if (event.isFirst) {\n        callback(event);\n      }\n    };\n\n    hammer.on('hammer.input', callback.inputHandler);\n  };\n\n  /**\n   * Register a release event, taking place after a gesture\n   * @param {Hammer} hammer       A hammer instance\n   * @param {function} callback   Callback, called as callback(event)\n   */\n  exports.onRelease = function (hammer, callback) {\n    callback.inputHandler = function (event) {\n      if (event.isFinal) {\n        callback(event);\n      }\n    };\n\n    return hammer.on('hammer.input', callback.inputHandler);\n  };\n\n  /**\n   * Unregister a touch event, taking place before a gesture\n   * @param {Hammer} hammer       A hammer instance\n   * @param {function} callback   Callback, called as callback(event)\n   */\n  exports.offTouch = function (hammer, callback) {\n    hammer.off('hammer.input', callback.inputHandler);\n  };\n\n  /**\n   * Unregister a release event, taking place before a gesture\n   * @param {Hammer} hammer       A hammer instance\n   * @param {function} callback   Callback, called as callback(event)\n   */\n  exports.offRelease = exports.offTouch;\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n  /**\n   * Prototype for visual components\n   * @param {{dom: Object, domProps: Object, emitter: Emitter, range: Range}} [body]\n   * @param {Object} [options]\n   */\n  \&quot;use strict\&quot;;\n\n  function Component(body, options) {\n    this.options = null;\n    this.props = null;\n  }\n\n  /**\n   * Set options for the component. The new options will be merged into the\n   * current options.\n   * @param {Object} options\n   */\n  Component.prototype.setOptions = function (options) {\n    if (options) {\n      util.extend(this.options, options);\n    }\n  };\n\n  /**\n   * Repaint the component\n   * @return {boolean} Returns true if the component is resized\n   */\n  Component.prototype.redraw = function () {\n    // should be implemented by the component\n    return false;\n  };\n\n  /**\n   * Destroy the component. Cleanup DOM and event listeners\n   */\n  Component.prototype.destroy = function () {\n    // should be implemented by the component\n  };\n\n  /**\n   * Test whether the component is resized since the last time _isResized() was\n   * called.\n   * @return {Boolean} Returns true if the component is resized\n   * @protected\n   */\n  Component.prototype._isResized = function () {\n    var resized = this.props._previousWidth !== this.props.width || this.props._previousHeight !== this.props.height;\n\n    this.props._previousWidth = this.props.width;\n    this.props._previousHeight = this.props.height;\n\n    return resized;\n  };\n\n  module.exports = Component;\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n  \n  /**\n   * used in Core to convert the options into a volatile variable\n   * \n   * @param {function} moment\n   * @param {Object} body\n   * @param {Array | Object} hiddenDates\n   */\n  \&quot;use strict\&quot;;\n\n  exports.convertHiddenOptions = function (moment, body, hiddenDates) {\n    if (hiddenDates &amp;&amp; !Array.isArray(hiddenDates)) {\n      return exports.convertHiddenOptions(moment, body, [hiddenDates]);\n    }\n\n    body.hiddenDates = [];\n    if (hiddenDates) {\n      if (Array.isArray(hiddenDates) == true) {\n        for (var i = 0; i &lt; hiddenDates.length; i++) {\n          if (hiddenDates[i].repeat === undefined) {\n            var dateItem = {};\n            dateItem.start = moment(hiddenDates[i].start).toDate().valueOf();\n            dateItem.end = moment(hiddenDates[i].end).toDate().valueOf();\n            body.hiddenDates.push(dateItem);\n          }\n        }\n        body.hiddenDates.sort(function (a, b) {\n          return a.start - b.start;\n        }); // sort by start time\n      }\n    }\n  };\n\n  /**\n   * create new entrees for the repeating hidden dates\n   * @param {function} moment\n   * @param {Object} body\n   * @param {Array | Object} hiddenDates\n   */\n  exports.updateHiddenDates = function (moment, body, hiddenDates) {\n    if (hiddenDates &amp;&amp; !Array.isArray(hiddenDates)) {\n      return exports.updateHiddenDates(moment, body, [hiddenDates]);\n    }\n\n    if (hiddenDates &amp;&amp; body.domProps.centerContainer.width !== undefined) {\n      exports.convertHiddenOptions(moment, body, hiddenDates);\n\n      var start = moment(body.range.start);\n      var end = moment(body.range.end);\n\n      var totalRange = body.range.end - body.range.start;\n      var pixelTime = totalRange / body.domProps.centerContainer.width;\n\n      for (var i = 0; i &lt; hiddenDates.length; i++) {\n        if (hiddenDates[i].repeat !== undefined) {\n          var startDate = moment(hiddenDates[i].start);\n          var endDate = moment(hiddenDates[i].end);\n\n          if (startDate._d == \&quot;Invalid Date\&quot;) {\n            throw new Error(\&quot;Supplied start date is not valid: \&quot; + hiddenDates[i].start);\n          }\n          if (endDate._d == \&quot;Invalid Date\&quot;) {\n            throw new Error(\&quot;Supplied end date is not valid: \&quot; + hiddenDates[i].end);\n          }\n\n          var duration = endDate - startDate;\n          if (duration &gt;= 4 * pixelTime) {\n\n            var offset = 0;\n            var runUntil = end.clone();\n            switch (hiddenDates[i].repeat) {\n              case \&quot;daily\&quot;:\n                // case of time\n                if (startDate.day() != endDate.day()) {\n                  offset = 1;\n                }\n                startDate.dayOfYear(start.dayOfYear());\n                startDate.year(start.year());\n                startDate.subtract(7, 'days');\n\n                endDate.dayOfYear(start.dayOfYear());\n                endDate.year(start.year());\n                endDate.subtract(7 - offset, 'days');\n\n                runUntil.add(1, 'weeks');\n                break;\n              case \&quot;weekly\&quot;:\n                var dayOffset = endDate.diff(startDate, 'days');\n                var day = startDate.day();\n\n                // set the start date to the range.start\n                startDate.date(start.date());\n                startDate.month(start.month());\n                startDate.year(start.year());\n                endDate = startDate.clone();\n\n                // force\n                startDate.day(day);\n                endDate.day(day);\n                endDate.add(dayOffset, 'days');\n\n                startDate.subtract(1, 'weeks');\n                endDate.subtract(1, 'weeks');\n\n                runUntil.add(1, 'weeks');\n                break;\n              case \&quot;monthly\&quot;:\n                if (startDate.month() != endDate.month()) {\n                  offset = 1;\n                }\n                startDate.month(start.month());\n                startDate.year(start.year());\n                startDate.subtract(1, 'months');\n\n                endDate.month(start.month());\n                endDate.year(start.year());\n                endDate.subtract(1, 'months');\n                endDate.add(offset, 'months');\n\n                runUntil.add(1, 'months');\n                break;\n              case \&quot;yearly\&quot;:\n                if (startDate.year() != endDate.year()) {\n                  offset = 1;\n                }\n                startDate.year(start.year());\n                startDate.subtract(1, 'years');\n                endDate.year(start.year());\n                endDate.subtract(1, 'years');\n                endDate.add(offset, 'years');\n\n                runUntil.add(1, 'years');\n                break;\n              default:\n                console.log(\&quot;Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:\&quot;, hiddenDates[i].repeat);\n                return;\n            }\n            while (startDate &lt; runUntil) {\n              body.hiddenDates.push({ start: startDate.valueOf(), end: endDate.valueOf() });\n              switch (hiddenDates[i].repeat) {\n                case \&quot;daily\&quot;:\n                  startDate.add(1, 'days');\n                  endDate.add(1, 'days');\n                  break;\n                case \&quot;weekly\&quot;:\n                  startDate.add(1, 'weeks');\n                  endDate.add(1, 'weeks');\n                  break;\n                case \&quot;monthly\&quot;:\n                  startDate.add(1, 'months');\n                  endDate.add(1, 'months');\n                  break;\n                case \&quot;yearly\&quot;:\n                  startDate.add(1, 'y');\n                  endDate.add(1, 'y');\n                  break;\n                default:\n                  console.log(\&quot;Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:\&quot;, hiddenDates[i].repeat);\n                  return;\n              }\n            }\n            body.hiddenDates.push({ start: startDate.valueOf(), end: endDate.valueOf() });\n          }\n        }\n      }\n      // remove duplicates, merge where possible\n      exports.removeDuplicates(body);\n      // ensure the new positions are not on hidden dates\n      var startHidden = exports.isHidden(body.range.start, body.hiddenDates);\n      var endHidden = exports.isHidden(body.range.end, body.hiddenDates);\n      var rangeStart = body.range.start;\n      var rangeEnd = body.range.end;\n      if (startHidden.hidden == true) {\n        rangeStart = body.range.startToFront == true ? startHidden.startDate - 1 : startHidden.endDate + 1;\n      }\n      if (endHidden.hidden == true) {\n        rangeEnd = body.range.endToFront == true ? endHidden.startDate - 1 : endHidden.endDate + 1;\n      }\n      if (startHidden.hidden == true || endHidden.hidden == true) {\n        body.range._applyRange(rangeStart, rangeEnd);\n      }\n    }\n  };\n\n  /**\n   * remove duplicates from the hidden dates list. Duplicates are evil. They mess everything up.\n   * Scales with N^2\n   * @param body\n   */\n  exports.removeDuplicates = function (body) {\n    var hiddenDates = body.hiddenDates;\n    var safeDates = [];\n    for (var i = 0; i &lt; hiddenDates.length; i++) {\n      for (var j = 0; j &lt; hiddenDates.length; j++) {\n        if (i != j &amp;&amp; hiddenDates[j].remove != true &amp;&amp; hiddenDates[i].remove != true) {\n          // j inside i\n          if (hiddenDates[j].start &gt;= hiddenDates[i].start &amp;&amp; hiddenDates[j].end &lt;= hiddenDates[i].end) {\n            hiddenDates[j].remove = true;\n          }\n          // j start inside i\n          else if (hiddenDates[j].start &gt;= hiddenDates[i].start &amp;&amp; hiddenDates[j].start &lt;= hiddenDates[i].end) {\n              hiddenDates[i].end = hiddenDates[j].end;\n              hiddenDates[j].remove = true;\n            }\n            // j end inside i\n            else if (hiddenDates[j].end &gt;= hiddenDates[i].start &amp;&amp; hiddenDates[j].end &lt;= hiddenDates[i].end) {\n                hiddenDates[i].start = hiddenDates[j].start;\n                hiddenDates[j].remove = true;\n              }\n        }\n      }\n    }\n\n    for (var i = 0; i &lt; hiddenDates.length; i++) {\n      if (hiddenDates[i].remove !== true) {\n        safeDates.push(hiddenDates[i]);\n      }\n    }\n\n    body.hiddenDates = safeDates;\n    body.hiddenDates.sort(function (a, b) {\n      return a.start - b.start;\n    }); // sort by start time\n  };\n\n  exports.printDates = function (dates) {\n    for (var i = 0; i &lt; dates.length; i++) {\n      console.log(i, new Date(dates[i].start), new Date(dates[i].end), dates[i].start, dates[i].end, dates[i].remove);\n    }\n  };\n\n  /**\n   * Used in TimeStep to avoid the hidden times.\n   * @param {function} moment\n   * @param {TimeStep} timeStep\n   * @param previousTime\n   */\n  exports.stepOverHiddenDates = function (moment, timeStep, previousTime) {\n    var stepInHidden = false;\n    var currentValue = timeStep.current.valueOf();\n    for (var i = 0; i &lt; timeStep.hiddenDates.length; i++) {\n      var startDate = timeStep.hiddenDates[i].start;\n      var endDate = timeStep.hiddenDates[i].end;\n      if (currentValue &gt;= startDate &amp;&amp; currentValue &lt; endDate) {\n        stepInHidden = true;\n        break;\n      }\n    }\n\n    if (stepInHidden == true &amp;&amp; currentValue &lt; timeStep._end.valueOf() &amp;&amp; currentValue != previousTime) {\n      var prevValue = moment(previousTime);\n      var newValue = moment(endDate);\n      //check if the next step should be major\n      if (prevValue.year() != newValue.year()) {\n        timeStep.switchedYear = true;\n      } else if (prevValue.month() != newValue.month()) {\n        timeStep.switchedMonth = true;\n      } else if (prevValue.dayOfYear() != newValue.dayOfYear()) {\n        timeStep.switchedDay = true;\n      }\n\n      timeStep.current = newValue;\n    }\n  };\n\n  ///**\n  // * Used in TimeStep to avoid the hidden times.\n  // * @param timeStep\n  // * @param previousTime\n  // */\n  //exports.checkFirstStep = function(timeStep) {\n  //  var stepInHidden = false;\n  //  var currentValue = timeStep.current.valueOf();\n  //  for (var i = 0; i &lt; timeStep.hiddenDates.length; i++) {\n  //    var startDate = timeStep.hiddenDates[i].start;\n  //    var endDate = timeStep.hiddenDates[i].end;\n  //    if (currentValue &gt;= startDate &amp;&amp; currentValue &lt; endDate) {\n  //      stepInHidden = true;\n  //      break;\n  //    }\n  //  }\n  //\n  //  if (stepInHidden == true &amp;&amp; currentValue &lt;= timeStep._end.valueOf()) {\n  //    var newValue = moment(endDate);\n  //    timeStep.current = newValue.toDate();\n  //  }\n  //};\n\n  /**\n   * replaces the Core toScreen methods\n   * @param Core\n   * @param time\n   * @param width\n   * @returns {number}\n   */\n  exports.toScreen = function (Core, time, width) {\n    if (Core.body.hiddenDates.length == 0) {\n      var conversion = Core.range.conversion(width);\n      return (time.valueOf() - conversion.offset) * conversion.scale;\n    } else {\n      var hidden = exports.isHidden(time, Core.body.hiddenDates);\n      if (hidden.hidden == true) {\n        time = hidden.startDate;\n      }\n\n      var duration = exports.getHiddenDurationBetween(Core.body.hiddenDates, Core.range.start, Core.range.end);\n      time = exports.correctTimeForHidden(Core.options.moment, Core.body.hiddenDates, Core.range, time);\n\n      var conversion = Core.range.conversion(width, duration);\n      return (time.valueOf() - conversion.offset) * conversion.scale;\n    }\n  };\n\n  /**\n   * Replaces the core toTime methods\n   * @param body\n   * @param range\n   * @param x\n   * @param width\n   * @returns {Date}\n   */\n  exports.toTime = function (Core, x, width) {\n    if (Core.body.hiddenDates.length == 0) {\n      var conversion = Core.range.conversion(width);\n      return new Date(x / conversion.scale + conversion.offset);\n    } else {\n      var hiddenDuration = exports.getHiddenDurationBetween(Core.body.hiddenDates, Core.range.start, Core.range.end);\n      var totalDuration = Core.range.end - Core.range.start - hiddenDuration;\n      var partialDuration = totalDuration * x / width;\n      var accumulatedHiddenDuration = exports.getAccumulatedHiddenDuration(Core.body.hiddenDates, Core.range, partialDuration);\n\n      var newTime = new Date(accumulatedHiddenDuration + partialDuration + Core.range.start);\n      return newTime;\n    }\n  };\n\n  /**\n   * Support function\n   *\n   * @param hiddenDates\n   * @param range\n   * @returns {number}\n   */\n  exports.getHiddenDurationBetween = function (hiddenDates, start, end) {\n    var duration = 0;\n    for (var i = 0; i &lt; hiddenDates.length; i++) {\n      var startDate = hiddenDates[i].start;\n      var endDate = hiddenDates[i].end;\n      // if time after the cutout, and the\n      if (startDate &gt;= start &amp;&amp; endDate &lt; end) {\n        duration += endDate - startDate;\n      }\n    }\n    return duration;\n  };\n\n  /**\n   * Support function\n   * @param moment\n   * @param hiddenDates\n   * @param range\n   * @param time\n   * @returns {{duration: number, time: *, offset: number}}\n   */\n  exports.correctTimeForHidden = function (moment, hiddenDates, range, time) {\n    time = moment(time).toDate().valueOf();\n    time -= exports.getHiddenDurationBefore(moment, hiddenDates, range, time);\n    return time;\n  };\n\n  exports.getHiddenDurationBefore = function (moment, hiddenDates, range, time) {\n    var timeOffset = 0;\n    time = moment(time).toDate().valueOf();\n\n    for (var i = 0; i &lt; hiddenDates.length; i++) {\n      var startDate = hiddenDates[i].start;\n      var endDate = hiddenDates[i].end;\n      // if time after the cutout, and the\n      if (startDate &gt;= range.start &amp;&amp; endDate &lt; range.end) {\n        if (time &gt;= endDate) {\n          timeOffset += endDate - startDate;\n        }\n      }\n    }\n    return timeOffset;\n  };\n\n  /**\n   * sum the duration from start to finish, including the hidden duration,\n   * until the required amount has been reached, return the accumulated hidden duration\n   * @param hiddenDates\n   * @param range\n   * @param time\n   * @returns {{duration: number, time: *, offset: number}}\n   */\n  exports.getAccumulatedHiddenDuration = function (hiddenDates, range, requiredDuration) {\n    var hiddenDuration = 0;\n    var duration = 0;\n    var previousPoint = range.start;\n    //exports.printDates(hiddenDates)\n    for (var i = 0; i &lt; hiddenDates.length; i++) {\n      var startDate = hiddenDates[i].start;\n      var endDate = hiddenDates[i].end;\n      // if time after the cutout, and the\n      if (startDate &gt;= range.start &amp;&amp; endDate &lt; range.end) {\n        duration += startDate - previousPoint;\n        previousPoint = endDate;\n        if (duration &gt;= requiredDuration) {\n          break;\n        } else {\n          hiddenDuration += endDate - startDate;\n        }\n      }\n    }\n\n    return hiddenDuration;\n  };\n\n  /**\n   * used to step over to either side of a hidden block. Correction is disabled on tablets, might be set to true\n   * @param hiddenDates\n   * @param time\n   * @param direction\n   * @param correctionEnabled\n   * @returns {*}\n   */\n  exports.snapAwayFromHidden = function (hiddenDates, time, direction, correctionEnabled) {\n    var isHidden = exports.isHidden(time, hiddenDates);\n    if (isHidden.hidden == true) {\n      if (direction &lt; 0) {\n        if (correctionEnabled == true) {\n          return isHidden.startDate - (isHidden.endDate - time) - 1;\n        } else {\n          return isHidden.startDate - 1;\n        }\n      } else {\n        if (correctionEnabled == true) {\n          return isHidden.endDate + (time - isHidden.startDate) + 1;\n        } else {\n          return isHidden.endDate + 1;\n        }\n      }\n    } else {\n      return time;\n    }\n  };\n\n  /**\n   * Check if a time is hidden\n   *\n   * @param time\n   * @param hiddenDates\n   * @returns {{hidden: boolean, startDate: Window.start, endDate: *}}\n   */\n  exports.isHidden = function (time, hiddenDates) {\n    for (var i = 0; i &lt; hiddenDates.length; i++) {\n      var startDate = hiddenDates[i].start;\n      var endDate = hiddenDates[i].end;\n\n      if (time &gt;= startDate &amp;&amp; time &lt; endDate) {\n        // if the start is entering a hidden zone\n        return { hidden: true, startDate: startDate, endDate: endDate };\n        break;\n      }\n    }\n    return { hidden: false, startDate: startDate, endDate: endDate };\n  };\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var Emitter = __webpack_require__(12);\n  var Hammer = __webpack_require__(20);\n  var hammerUtil = __webpack_require__(24);\n  var util = __webpack_require__(1);\n  var DataSet = __webpack_require__(8);\n  var DataView = __webpack_require__(10);\n  var Range = __webpack_require__(23);\n  var ItemSet = __webpack_require__(28);\n  var TimeAxis = __webpack_require__(38);\n  var Activator = __webpack_require__(39);\n  var DateUtil = __webpack_require__(26);\n  var CustomTime = __webpack_require__(41);\n\n  /**\n   * Create a timeline visualization\n   * @constructor\n   */\n  function Core() {}\n\n  // turn Core into an event emitter\n  Emitter(Core.prototype);\n\n  /**\n   * Create the main DOM for the Core: a root panel containing left, right,\n   * top, bottom, content, and background panel.\n   * @param {Element} container  The container element where the Core will\n   *                             be attached.\n   * @protected\n   */\n  Core.prototype._create = function (container) {\n    this.dom = {};\n    this.options = {};\n\n    this.dom.container = container;\n\n    this.dom.root = document.createElement('div');\n    this.dom.background = document.createElement('div');\n    this.dom.backgroundVertical = document.createElement('div');\n    this.dom.backgroundHorizontal = document.createElement('div');\n    this.dom.centerContainer = document.createElement('div');\n    this.dom.leftContainer = document.createElement('div');\n    this.dom.rightContainer = document.createElement('div');\n    this.dom.center = document.createElement('div');\n    this.dom.left = document.createElement('div');\n    this.dom.right = document.createElement('div');\n    this.dom.top = document.createElement('div');\n    this.dom.bottom = document.createElement('div');\n    this.dom.shadowTop = document.createElement('div');\n    this.dom.shadowBottom = document.createElement('div');\n    this.dom.shadowTopLeft = document.createElement('div');\n    this.dom.shadowBottomLeft = document.createElement('div');\n    this.dom.shadowTopRight = document.createElement('div');\n    this.dom.shadowBottomRight = document.createElement('div');\n\n    this.dom.root.className = 'vis-timeline';\n    this.dom.background.className = 'vis-panel vis-background';\n    this.dom.backgroundVertical.className = 'vis-panel vis-background vis-vertical';\n    this.dom.backgroundHorizontal.className = 'vis-panel vis-background vis-horizontal';\n    this.dom.centerContainer.className = 'vis-panel vis-center';\n    this.dom.leftContainer.className = 'vis-panel vis-left';\n    this.dom.rightContainer.className = 'vis-panel vis-right';\n    this.dom.top.className = 'vis-panel vis-top';\n    this.dom.bottom.className = 'vis-panel vis-bottom';\n    this.dom.left.className = 'vis-content';\n    this.dom.center.className = 'vis-content';\n    this.dom.right.className = 'vis-content';\n    this.dom.shadowTop.className = 'vis-shadow vis-top';\n    this.dom.shadowBottom.className = 'vis-shadow vis-bottom';\n    this.dom.shadowTopLeft.className = 'vis-shadow vis-top';\n    this.dom.shadowBottomLeft.className = 'vis-shadow vis-bottom';\n    this.dom.shadowTopRight.className = 'vis-shadow vis-top';\n    this.dom.shadowBottomRight.className = 'vis-shadow vis-bottom';\n\n    this.dom.root.appendChild(this.dom.background);\n    this.dom.root.appendChild(this.dom.backgroundVertical);\n    this.dom.root.appendChild(this.dom.backgroundHorizontal);\n    this.dom.root.appendChild(this.dom.centerContainer);\n    this.dom.root.appendChild(this.dom.leftContainer);\n    this.dom.root.appendChild(this.dom.rightContainer);\n    this.dom.root.appendChild(this.dom.top);\n    this.dom.root.appendChild(this.dom.bottom);\n\n    this.dom.centerContainer.appendChild(this.dom.center);\n    this.dom.leftContainer.appendChild(this.dom.left);\n    this.dom.rightContainer.appendChild(this.dom.right);\n\n    this.dom.centerContainer.appendChild(this.dom.shadowTop);\n    this.dom.centerContainer.appendChild(this.dom.shadowBottom);\n    this.dom.leftContainer.appendChild(this.dom.shadowTopLeft);\n    this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft);\n    this.dom.rightContainer.appendChild(this.dom.shadowTopRight);\n    this.dom.rightContainer.appendChild(this.dom.shadowBottomRight);\n\n    this.on('rangechange', (function () {\n      if (this.initialDrawDone === true) {\n        this._redraw(); // this allows overriding the _redraw method\n      }\n    }).bind(this));\n    this.on('touch', this._onTouch.bind(this));\n    this.on('pan', this._onDrag.bind(this));\n\n    var me = this;\n    this.on('_change', function (properties) {\n      if (properties &amp;&amp; properties.queue == true) {\n        // redraw once on next tick\n        if (!me._redrawTimer) {\n          me._redrawTimer = setTimeout(function () {\n            me._redrawTimer = null;\n            me._redraw();\n          }, 0);\n        }\n      } else {\n        // redraw immediately\n        me._redraw();\n      }\n    });\n\n    // create event listeners for all interesting events, these events will be\n    // emitted via emitter\n    this.hammer = new Hammer(this.dom.root);\n    this.hammer.get('pinch').set({ enable: true });\n    this.hammer.get('pan').set({ threshold: 5, direction: 30 }); // 30 is ALL_DIRECTIONS in hammer.\n    this.listeners = {};\n\n    var events = ['tap', 'doubletap', 'press', 'pinch', 'pan', 'panstart', 'panmove', 'panend'\n    // TODO: cleanup\n    //'touch', 'pinch',\n    //'tap', 'doubletap', 'hold',\n    //'dragstart', 'drag', 'dragend',\n    //'mousewheel', 'DOMMouseScroll' // DOMMouseScroll is needed for Firefox\n    ];\n    events.forEach(function (type) {\n      var listener = function listener(event) {\n        if (me.isActive()) {\n          me.emit(type, event);\n        }\n      };\n      me.hammer.on(type, listener);\n      me.listeners[type] = listener;\n    });\n\n    // emulate a touch event (emitted before the start of a pan, pinch, tap, or press)\n    hammerUtil.onTouch(this.hammer, (function (event) {\n      me.emit('touch', event);\n    }).bind(this));\n\n    // emulate a release event (emitted after a pan, pinch, tap, or press)\n    hammerUtil.onRelease(this.hammer, (function (event) {\n      me.emit('release', event);\n    }).bind(this));\n\n    function onMouseWheel(event) {\n      if (me.isActive()) {\n        me.emit('mousewheel', event);\n      }\n    }\n    this.dom.root.addEventListener('mousewheel', onMouseWheel);\n    this.dom.root.addEventListener('DOMMouseScroll', onMouseWheel);\n\n    // size properties of each of the panels\n    this.props = {\n      root: {},\n      background: {},\n      centerContainer: {},\n      leftContainer: {},\n      rightContainer: {},\n      center: {},\n      left: {},\n      right: {},\n      top: {},\n      bottom: {},\n      border: {},\n      scrollTop: 0,\n      scrollTopMin: 0\n    };\n\n    this.customTimes = [];\n\n    // store state information needed for touch events\n    this.touch = {};\n\n    this.redrawCount = 0;\n    this.initialDrawDone = false;\n\n    // attach the root panel to the provided container\n    if (!container) throw new Error('No container provided');\n    container.appendChild(this.dom.root);\n  };\n\n  /**\n   * Set options. Options will be passed to all components loaded in the Timeline.\n   * @param {Object} [options]\n   *                           {String} orientation\n   *                              Vertical orientation for the Timeline,\n   *                              can be 'bottom' (default) or 'top'.\n   *                           {String | Number} width\n   *                              Width for the timeline, a number in pixels or\n   *                              a css string like '1000px' or '75%'. '100%' by default.\n   *                           {String | Number} height\n   *                              Fixed height for the Timeline, a number in pixels or\n   *                              a css string like '400px' or '75%'. If undefined,\n   *                              The Timeline will automatically size such that\n   *                              its contents fit.\n   *                           {String | Number} minHeight\n   *                              Minimum height for the Timeline, a number in pixels or\n   *                              a css string like '400px' or '75%'.\n   *                           {String | Number} maxHeight\n   *                              Maximum height for the Timeline, a number in pixels or\n   *                              a css string like '400px' or '75%'.\n   *                           {Number | Date | String} start\n   *                              Start date for the visible window\n   *                           {Number | Date | String} end\n   *                              End date for the visible window\n   */\n  Core.prototype.setOptions = function (options) {\n    if (options) {\n      // copy the known options\n      var fields = ['width', 'height', 'minHeight', 'maxHeight', 'autoResize', 'start', 'end', 'clickToUse', 'dataAttributes', 'hiddenDates', 'locale', 'locales', 'moment', 'throttleRedraw'];\n      util.selectiveExtend(fields, this.options, options);\n\n      this.options.orientation = { item: undefined, axis: undefined };\n      if ('orientation' in options) {\n        if (typeof options.orientation === 'string') {\n          this.options.orientation = {\n            item: options.orientation,\n            axis: options.orientation\n          };\n        } else if (typeof options.orientation === 'object') {\n          if ('item' in options.orientation) {\n            this.options.orientation.item = options.orientation.item;\n          }\n          if ('axis' in options.orientation) {\n            this.options.orientation.axis = options.orientation.axis;\n          }\n        }\n      }\n\n      if (this.options.orientation.axis === 'both') {\n        if (!this.timeAxis2) {\n          var timeAxis2 = this.timeAxis2 = new TimeAxis(this.body);\n          timeAxis2.setOptions = function (options) {\n            var _options = options ? util.extend({}, options) : {};\n            _options.orientation = 'top'; // override the orientation option, always top\n            TimeAxis.prototype.setOptions.call(timeAxis2, _options);\n          };\n          this.components.push(timeAxis2);\n        }\n      } else {\n        if (this.timeAxis2) {\n          var index = this.components.indexOf(this.timeAxis2);\n          if (index !== -1) {\n            this.components.splice(index, 1);\n          }\n          this.timeAxis2.destroy();\n          this.timeAxis2 = null;\n        }\n      }\n\n      // if the graph2d's drawPoints is a function delegate the callback to the onRender property\n      if (typeof options.drawPoints == 'function') {\n        options.drawPoints = {\n          onRender: options.drawPoints\n        };\n      }\n\n      if ('hiddenDates' in this.options) {\n        DateUtil.convertHiddenOptions(this.options.moment, this.body, this.options.hiddenDates);\n      }\n\n      if ('clickToUse' in options) {\n        if (options.clickToUse) {\n          if (!this.activator) {\n            this.activator = new Activator(this.dom.root);\n          }\n        } else {\n          if (this.activator) {\n            this.activator.destroy();\n            delete this.activator;\n          }\n        }\n      }\n\n      if ('showCustomTime' in options) {\n        throw new Error('Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])');\n      }\n\n      // enable/disable autoResize\n      this._initAutoResize();\n    }\n\n    // propagate options to all components\n    this.components.forEach(function (component) {\n      return component.setOptions(options);\n    });\n\n    // enable/disable configure\n    if ('configure' in options) {\n      if (!this.configurator) {\n        this.configurator = this._createConfigurator();\n      }\n\n      this.configurator.setOptions(options.configure);\n\n      // collect the settings of all components, and pass them to the configuration system\n      var appliedOptions = util.deepExtend({}, this.options);\n      this.components.forEach(function (component) {\n        util.deepExtend(appliedOptions, component.options);\n      });\n      this.configurator.setModuleOptions({ global: appliedOptions });\n    }\n\n    // override redraw with a throttled version\n    if (!this._origRedraw) {\n      this._origRedraw = this._redraw.bind(this);\n      this._redraw = util.throttle(this._origRedraw, this.options.throttleRedraw);\n    } else {\n      // Not the initial run: redraw everything\n      this._redraw();\n    }\n  };\n\n  /**\n   * Returns true when the Timeline is active.\n   * @returns {boolean}\n   */\n  Core.prototype.isActive = function () {\n    return !this.activator || this.activator.active;\n  };\n\n  /**\n   * Destroy the Core, clean up all DOM elements and event listeners.\n   */\n  Core.prototype.destroy = function () {\n    // unbind datasets\n    this.setItems(null);\n    this.setGroups(null);\n\n    // remove all event listeners\n    this.off();\n\n    // stop checking for changed size\n    this._stopAutoResize();\n\n    // remove from DOM\n    if (this.dom.root.parentNode) {\n      this.dom.root.parentNode.removeChild(this.dom.root);\n    }\n    this.dom = null;\n\n    // remove Activator\n    if (this.activator) {\n      this.activator.destroy();\n      delete this.activator;\n    }\n\n    // cleanup hammer touch events\n    for (var event in this.listeners) {\n      if (this.listeners.hasOwnProperty(event)) {\n        delete this.listeners[event];\n      }\n    }\n    this.listeners = null;\n    this.hammer = null;\n\n    // give all components the opportunity to cleanup\n    this.components.forEach(function (component) {\n      return component.destroy();\n    });\n\n    this.body = null;\n  };\n\n  /**\n   * Set a custom time bar\n   * @param {Date} time\n   * @param {number} [id=undefined] Optional id of the custom time bar to be adjusted.\n   */\n  Core.prototype.setCustomTime = function (time, id) {\n    var customTimes = this.customTimes.filter(function (component) {\n      return id === component.options.id;\n    });\n\n    if (customTimes.length === 0) {\n      throw new Error('No custom time bar found with id ' + JSON.stringify(id));\n    }\n\n    if (customTimes.length &gt; 0) {\n      customTimes[0].setCustomTime(time);\n    }\n  };\n\n  /**\n   * Retrieve the current custom time.\n   * @param {number} [id=undefined]    Id of the custom time bar.\n   * @return {Date | undefined} customTime\n   */\n  Core.prototype.getCustomTime = function (id) {\n    var customTimes = this.customTimes.filter(function (component) {\n      return component.options.id === id;\n    });\n\n    if (customTimes.length === 0) {\n      throw new Error('No custom time bar found with id ' + JSON.stringify(id));\n    }\n    return customTimes[0].getCustomTime();\n  };\n\n  /**\n   * Set a custom title for the custom time bar.\n   * @param {String} [title] Custom title\n   * @param {number} [id=undefined]    Id of the custom time bar.\n   */\n  Core.prototype.setCustomTimeTitle = function (title, id) {\n    var customTimes = this.customTimes.filter(function (component) {\n      return component.options.id === id;\n    });\n\n    if (customTimes.length === 0) {\n      throw new Error('No custom time bar found with id ' + JSON.stringify(id));\n    }\n    if (customTimes.length &gt; 0) {\n      return customTimes[0].setCustomTitle(title);\n    }\n  };\n\n  /**\n   * Retrieve meta information from an event.\n   * Should be overridden by classes extending Core\n   * @param {Event} event\n   * @return {Object} An object with related information.\n   */\n  Core.prototype.getEventProperties = function (event) {\n    return { event: event };\n  };\n\n  /**\n   * Add custom vertical bar\n   * @param {Date | String | Number} [time]  A Date, unix timestamp, or\n   *                                         ISO date string. Time point where\n   *                                         the new bar should be placed.\n   *                                         If not provided, `new Date()` will\n   *                                         be used.\n   * @param {Number | String} [id=undefined] Id of the new bar. Optional\n   * @return {Number | String}               Returns the id of the new bar\n   */\n  Core.prototype.addCustomTime = function (time, id) {\n    var timestamp = time !== undefined ? util.convert(time, 'Date').valueOf() : new Date();\n\n    var exists = this.customTimes.some(function (customTime) {\n      return customTime.options.id === id;\n    });\n    if (exists) {\n      throw new Error('A custom time with id ' + JSON.stringify(id) + ' already exists');\n    }\n\n    var customTime = new CustomTime(this.body, util.extend({}, this.options, {\n      time: timestamp,\n      id: id\n    }));\n\n    this.customTimes.push(customTime);\n    this.components.push(customTime);\n    this._redraw();\n\n    return id;\n  };\n\n  /**\n   * Remove previously added custom bar\n   * @param {int} id ID of the custom bar to be removed\n   * @return {boolean} True if the bar exists and is removed, false otherwise\n   */\n  Core.prototype.removeCustomTime = function (id) {\n    var customTimes = this.customTimes.filter(function (bar) {\n      return bar.options.id === id;\n    });\n\n    if (customTimes.length === 0) {\n      throw new Error('No custom time bar found with id ' + JSON.stringify(id));\n    }\n\n    customTimes.forEach((function (customTime) {\n      this.customTimes.splice(this.customTimes.indexOf(customTime), 1);\n      this.components.splice(this.components.indexOf(customTime), 1);\n      customTime.destroy();\n    }).bind(this));\n  };\n\n  /**\n   * Get the id's of the currently visible items.\n   * @returns {Array} The ids of the visible items\n   */\n  Core.prototype.getVisibleItems = function () {\n    return this.itemSet &amp;&amp; this.itemSet.getVisibleItems() || [];\n  };\n\n  /**\n   * Set Core window such that it fits all items\n   * @param {Object} [options]  Available options:\n   *                                `animation: boolean | {duration: number, easingFunction: string}`\n   *                                    If true (default), the range is animated\n   *                                    smoothly to the new window. An object can be\n   *                                    provided to specify duration and easing function.\n   *                                    Default duration is 500 ms, and default easing\n   *                                    function is 'easeInOutQuad'.\n   */\n  Core.prototype.fit = function (options) {\n    var range = this.getDataRange();\n\n    // skip range set if there is no min and max date\n    if (range.min === null &amp;&amp; range.max === null) {\n      return;\n    }\n\n    // apply a margin of 1% left and right of the data\n    var interval = range.max - range.min;\n    var min = new Date(range.min.valueOf() - interval * 0.01);\n    var max = new Date(range.max.valueOf() + interval * 0.01);\n\n    var animation = options &amp;&amp; options.animation !== undefined ? options.animation : true;\n    this.range.setRange(min, max, animation);\n  };\n\n  /**\n   * Calculate the data range of the items start and end dates\n   * @returns {{min: Date | null, max: Date | null}}\n   * @protected\n   */\n  Core.prototype.getDataRange = function () {\n    // must be implemented by Timeline and Graph2d\n    throw new Error('Cannot invoke abstract method getDataRange');\n  };\n\n  /**\n   * Set the visible window. Both parameters are optional, you can change only\n   * start or only end. Syntax:\n   *\n   *     TimeLine.setWindow(start, end)\n   *     TimeLine.setWindow(start, end, options)\n   *     TimeLine.setWindow(range)\n   *\n   * Where start and end can be a Date, number, or string, and range is an\n   * object with properties start and end.\n   *\n   * @param {Date | Number | String | Object} [start] Start date of visible window\n   * @param {Date | Number | String} [end]            End date of visible window\n   * @param {Object} [options]  Available options:\n   *                                `animation: boolean | {duration: number, easingFunction: string}`\n   *                                    If true (default), the range is animated\n   *                                    smoothly to the new window. An object can be\n   *                                    provided to specify duration and easing function.\n   *                                    Default duration is 500 ms, and default easing\n   *                                    function is 'easeInOutQuad'.\n   */\n  Core.prototype.setWindow = function (start, end, options) {\n    var animation;\n    if (arguments.length == 1) {\n      var range = arguments[0];\n      animation = range.animation !== undefined ? range.animation : true;\n      this.range.setRange(range.start, range.end, animation);\n    } else {\n      animation = options &amp;&amp; options.animation !== undefined ? options.animation : true;\n      this.range.setRange(start, end, animation);\n    }\n  };\n\n  /**\n   * Move the window such that given time is centered on screen.\n   * @param {Date | Number | String} time\n   * @param {Object} [options]  Available options:\n   *                                `animation: boolean | {duration: number, easingFunction: string}`\n   *                                    If true (default), the range is animated\n   *                                    smoothly to the new window. An object can be\n   *                                    provided to specify duration and easing function.\n   *                                    Default duration is 500 ms, and default easing\n   *                                    function is 'easeInOutQuad'.\n   */\n  Core.prototype.moveTo = function (time, options) {\n    var interval = this.range.end - this.range.start;\n    var t = util.convert(time, 'Date').valueOf();\n\n    var start = t - interval / 2;\n    var end = t + interval / 2;\n    var animation = options &amp;&amp; options.animation !== undefined ? options.animation : true;\n\n    this.range.setRange(start, end, animation);\n  };\n\n  /**\n   * Get the visible window\n   * @return {{start: Date, end: Date}}   Visible range\n   */\n  Core.prototype.getWindow = function () {\n    var range = this.range.getRange();\n    return {\n      start: new Date(range.start),\n      end: new Date(range.end)\n    };\n  };\n\n  /**\n   * Force a redraw. Can be overridden by implementations of Core\n   *\n   * Note: this function will be overridden on construction with a trottled version\n   */\n  Core.prototype.redraw = function () {\n    this._redraw();\n  };\n\n  /**\n   * Redraw for internal use. Redraws all components. See also the public\n   * method redraw.\n   * @protected\n   */\n  Core.prototype._redraw = function () {\n    this.redrawCount++;\n    var resized = false;\n    var options = this.options;\n    var props = this.props;\n    var dom = this.dom;\n\n    if (!dom || !dom.container || dom.container.clientWidth == 0) return; // when destroyed, or invisible\n\n    DateUtil.updateHiddenDates(this.options.moment, this.body, this.options.hiddenDates);\n\n    // update class names\n    if (options.orientation == 'top') {\n      util.addClassName(dom.root, 'vis-top');\n      util.removeClassName(dom.root, 'vis-bottom');\n    } else {\n      util.removeClassName(dom.root, 'vis-top');\n      util.addClassName(dom.root, 'vis-bottom');\n    }\n\n    // update root width and height options\n    dom.root.style.maxHeight = util.option.asSize(options.maxHeight, '');\n    dom.root.style.minHeight = util.option.asSize(options.minHeight, '');\n    dom.root.style.width = util.option.asSize(options.width, '');\n\n    // calculate border widths\n    props.border.left = (dom.centerContainer.offsetWidth - dom.centerContainer.clientWidth) / 2;\n    props.border.right = props.border.left;\n    props.border.top = (dom.centerContainer.offsetHeight - dom.centerContainer.clientHeight) / 2;\n    props.border.bottom = props.border.top;\n    var borderRootHeight = dom.root.offsetHeight - dom.root.clientHeight;\n    var borderRootWidth = dom.root.offsetWidth - dom.root.clientWidth;\n\n    // workaround for a bug in IE: the clientWidth of an element with\n    // a height:0px and overflow:hidden is not calculated and always has value 0\n    if (dom.centerContainer.clientHeight === 0) {\n      props.border.left = props.border.top;\n      props.border.right = props.border.left;\n    }\n    if (dom.root.clientHeight === 0) {\n      borderRootWidth = borderRootHeight;\n    }\n\n    // calculate the heights. If any of the side panels is empty, we set the height to\n    // minus the border width, such that the border will be invisible\n    props.center.height = dom.center.offsetHeight;\n    props.left.height = dom.left.offsetHeight;\n    props.right.height = dom.right.offsetHeight;\n    props.top.height = dom.top.clientHeight || -props.border.top;\n    props.bottom.height = dom.bottom.clientHeight || -props.border.bottom;\n\n    // TODO: compensate borders when any of the panels is empty.\n\n    // apply auto height\n    // TODO: only calculate autoHeight when needed (else we cause an extra reflow/repaint of the DOM)\n    var contentHeight = Math.max(props.left.height, props.center.height, props.right.height);\n    var autoHeight = props.top.height + contentHeight + props.bottom.height + borderRootHeight + props.border.top + props.border.bottom;\n    dom.root.style.height = util.option.asSize(options.height, autoHeight + 'px');\n\n    // calculate heights of the content panels\n    props.root.height = dom.root.offsetHeight;\n    props.background.height = props.root.height - borderRootHeight;\n    var containerHeight = props.root.height - props.top.height - props.bottom.height - borderRootHeight;\n    props.centerContainer.height = containerHeight;\n    props.leftContainer.height = containerHeight;\n    props.rightContainer.height = props.leftContainer.height;\n\n    // calculate the widths of the panels\n    props.root.width = dom.root.offsetWidth;\n    props.background.width = props.root.width - borderRootWidth;\n    props.left.width = dom.leftContainer.clientWidth || -props.border.left;\n    props.leftContainer.width = props.left.width;\n    props.right.width = dom.rightContainer.clientWidth || -props.border.right;\n    props.rightContainer.width = props.right.width;\n    var centerWidth = props.root.width - props.left.width - props.right.width - borderRootWidth;\n    props.center.width = centerWidth;\n    props.centerContainer.width = centerWidth;\n    props.top.width = centerWidth;\n    props.bottom.width = centerWidth;\n\n    // resize the panels\n    dom.background.style.height = props.background.height + 'px';\n    dom.backgroundVertical.style.height = props.background.height + 'px';\n    dom.backgroundHorizontal.style.height = props.centerContainer.height + 'px';\n    dom.centerContainer.style.height = props.centerContainer.height + 'px';\n    dom.leftContainer.style.height = props.leftContainer.height + 'px';\n    dom.rightContainer.style.height = props.rightContainer.height + 'px';\n\n    dom.background.style.width = props.background.width + 'px';\n    dom.backgroundVertical.style.width = props.centerContainer.width + 'px';\n    dom.backgroundHorizontal.style.width = props.background.width + 'px';\n    dom.centerContainer.style.width = props.center.width + 'px';\n    dom.top.style.width = props.top.width + 'px';\n    dom.bottom.style.width = props.bottom.width + 'px';\n\n    // reposition the panels\n    dom.background.style.left = '0';\n    dom.background.style.top = '0';\n    dom.backgroundVertical.style.left = props.left.width + props.border.left + 'px';\n    dom.backgroundVertical.style.top = '0';\n    dom.backgroundHorizontal.style.left = '0';\n    dom.backgroundHorizontal.style.top = props.top.height + 'px';\n    dom.centerContainer.style.left = props.left.width + 'px';\n    dom.centerContainer.style.top = props.top.height + 'px';\n    dom.leftContainer.style.left = '0';\n    dom.leftContainer.style.top = props.top.height + 'px';\n    dom.rightContainer.style.left = props.left.width + props.center.width + 'px';\n    dom.rightContainer.style.top = props.top.height + 'px';\n    dom.top.style.left = props.left.width + 'px';\n    dom.top.style.top = '0';\n    dom.bottom.style.left = props.left.width + 'px';\n    dom.bottom.style.top = props.top.height + props.centerContainer.height + 'px';\n\n    // update the scrollTop, feasible range for the offset can be changed\n    // when the height of the Core or of the contents of the center changed\n    this._updateScrollTop();\n\n    // reposition the scrollable contents\n    var offset = this.props.scrollTop;\n    if (options.orientation.item != 'top') {\n      offset += Math.max(this.props.centerContainer.height - this.props.center.height - this.props.border.top - this.props.border.bottom, 0);\n    }\n    dom.center.style.left = '0';\n    dom.center.style.top = offset + 'px';\n    dom.left.style.left = '0';\n    dom.left.style.top = offset + 'px';\n    dom.right.style.left = '0';\n    dom.right.style.top = offset + 'px';\n\n    // show shadows when vertical scrolling is available\n    var visibilityTop = this.props.scrollTop == 0 ? 'hidden' : '';\n    var visibilityBottom = this.props.scrollTop == this.props.scrollTopMin ? 'hidden' : '';\n    dom.shadowTop.style.visibility = visibilityTop;\n    dom.shadowBottom.style.visibility = visibilityBottom;\n    dom.shadowTopLeft.style.visibility = visibilityTop;\n    dom.shadowBottomLeft.style.visibility = visibilityBottom;\n    dom.shadowTopRight.style.visibility = visibilityTop;\n    dom.shadowBottomRight.style.visibility = visibilityBottom;\n\n    // redraw all components\n    this.components.forEach(function (component) {\n      resized = component.redraw() || resized;\n    });\n    var MAX_REDRAW = 5;\n    if (resized) {\n      if (this.redrawCount &lt; MAX_REDRAW) {\n        this.body.emitter.emit('_change');\n        return;\n      } else {\n        console.log('WARNING: infinite loop in redraw?');\n      }\n    } else {\n      this.redrawCount = 0;\n    }\n    this.initialDrawDone = true;\n\n    //Emit public 'changed' event for UI updates, see issue #1592\n    this.body.emitter.emit(\&quot;changed\&quot;);\n  };\n\n  // TODO: deprecated since version 1.1.0, remove some day\n  Core.prototype.repaint = function () {\n    throw new Error('Function repaint is deprecated. Use redraw instead.');\n  };\n\n  /**\n   * Set a current time. This can be used for example to ensure that a client's\n   * time is synchronized with a shared server time.\n   * Only applicable when option `showCurrentTime` is true.\n   * @param {Date | String | Number} time     A Date, unix timestamp, or\n   *                                          ISO date string.\n   */\n  Core.prototype.setCurrentTime = function (time) {\n    if (!this.currentTime) {\n      throw new Error('Option showCurrentTime must be true');\n    }\n\n    this.currentTime.setCurrentTime(time);\n  };\n\n  /**\n   * Get the current time.\n   * Only applicable when option `showCurrentTime` is true.\n   * @return {Date} Returns the current time.\n   */\n  Core.prototype.getCurrentTime = function () {\n    if (!this.currentTime) {\n      throw new Error('Option showCurrentTime must be true');\n    }\n\n    return this.currentTime.getCurrentTime();\n  };\n\n  /**\n   * Convert a position on screen (pixels) to a datetime\n   * @param {int}     x    Position on the screen in pixels\n   * @return {Date}   time The datetime the corresponds with given position x\n   * @protected\n   */\n  // TODO: move this function to Range\n  Core.prototype._toTime = function (x) {\n    return DateUtil.toTime(this, x, this.props.center.width);\n  };\n\n  /**\n   * Convert a position on the global screen (pixels) to a datetime\n   * @param {int}     x    Position on the screen in pixels\n   * @return {Date}   time The datetime the corresponds with given position x\n   * @protected\n   */\n  // TODO: move this function to Range\n  Core.prototype._toGlobalTime = function (x) {\n    return DateUtil.toTime(this, x, this.props.root.width);\n    //var conversion = this.range.conversion(this.props.root.width);\n    //return new Date(x / conversion.scale + conversion.offset);\n  };\n\n  /**\n   * Convert a datetime (Date object) into a position on the screen\n   * @param {Date}   time A date\n   * @return {int}   x    The position on the screen in pixels which corresponds\n   *                      with the given date.\n   * @protected\n   */\n  // TODO: move this function to Range\n  Core.prototype._toScreen = function (time) {\n    return DateUtil.toScreen(this, time, this.props.center.width);\n  };\n\n  /**\n   * Convert a datetime (Date object) into a position on the root\n   * This is used to get the pixel density estimate for the screen, not the center panel\n   * @param {Date}   time A date\n   * @return {int}   x    The position on root in pixels which corresponds\n   *                      with the given date.\n   * @protected\n   */\n  // TODO: move this function to Range\n  Core.prototype._toGlobalScreen = function (time) {\n    return DateUtil.toScreen(this, time, this.props.root.width);\n    //var conversion = this.range.conversion(this.props.root.width);\n    //return (time.valueOf() - conversion.offset) * conversion.scale;\n  };\n\n  /**\n   * Initialize watching when option autoResize is true\n   * @private\n   */\n  Core.prototype._initAutoResize = function () {\n    if (this.options.autoResize == true) {\n      this._startAutoResize();\n    } else {\n      this._stopAutoResize();\n    }\n  };\n\n  /**\n   * Watch for changes in the size of the container. On resize, the Panel will\n   * automatically redraw itself.\n   * @private\n   */\n  Core.prototype._startAutoResize = function () {\n    var me = this;\n\n    this._stopAutoResize();\n\n    this._onResize = function () {\n      if (me.options.autoResize != true) {\n        // stop watching when the option autoResize is changed to false\n        me._stopAutoResize();\n        return;\n      }\n\n      if (me.dom.root) {\n        // check whether the frame is resized\n        // Note: we compare offsetWidth here, not clientWidth. For some reason,\n        // IE does not restore the clientWidth from 0 to the actual width after\n        // changing the timeline's container display style from none to visible\n        if (me.dom.root.offsetWidth != me.props.lastWidth || me.dom.root.offsetHeight != me.props.lastHeight) {\n          me.props.lastWidth = me.dom.root.offsetWidth;\n          me.props.lastHeight = me.dom.root.offsetHeight;\n\n          me.body.emitter.emit('_change');\n        }\n      }\n    };\n\n    // add event listener to window resize\n    util.addEventListener(window, 'resize', this._onResize);\n\n    //Prevent initial unnecessary redraw\n    if (me.dom.root) {\n      me.props.lastWidth = me.dom.root.offsetWidth;\n      me.props.lastHeight = me.dom.root.offsetHeight;\n    }\n\n    this.watchTimer = setInterval(this._onResize, 1000);\n  };\n\n  /**\n   * Stop watching for a resize of the frame.\n   * @private\n   */\n  Core.prototype._stopAutoResize = function () {\n    if (this.watchTimer) {\n      clearInterval(this.watchTimer);\n      this.watchTimer = undefined;\n    }\n\n    // remove event listener on window.resize\n    if (this._onResize) {\n      util.removeEventListener(window, 'resize', this._onResize);\n      this._onResize = null;\n    }\n  };\n\n  /**\n   * Start moving the timeline vertically\n   * @param {Event} event\n   * @private\n   */\n  Core.prototype._onTouch = function (event) {\n    this.touch.allowDragging = true;\n    this.touch.initialScrollTop = this.props.scrollTop;\n  };\n\n  /**\n   * Start moving the timeline vertically\n   * @param {Event} event\n   * @private\n   */\n  Core.prototype._onPinch = function (event) {\n    this.touch.allowDragging = false;\n  };\n\n  /**\n   * Move the timeline vertically\n   * @param {Event} event\n   * @private\n   */\n  Core.prototype._onDrag = function (event) {\n    // refuse to drag when we where pinching to prevent the timeline make a jump\n    // when releasing the fingers in opposite order from the touch screen\n    if (!this.touch.allowDragging) return;\n\n    var delta = event.deltaY;\n\n    var oldScrollTop = this._getScrollTop();\n    var newScrollTop = this._setScrollTop(this.touch.initialScrollTop + delta);\n\n    if (newScrollTop != oldScrollTop) {\n      this.emit(\&quot;verticalDrag\&quot;);\n    }\n  };\n\n  /**\n   * Apply a scrollTop\n   * @param {Number} scrollTop\n   * @returns {Number} scrollTop  Returns the applied scrollTop\n   * @private\n   */\n  Core.prototype._setScrollTop = function (scrollTop) {\n    this.props.scrollTop = scrollTop;\n    this._updateScrollTop();\n    return this.props.scrollTop;\n  };\n\n  /**\n   * Update the current scrollTop when the height of  the containers has been changed\n   * @returns {Number} scrollTop  Returns the applied scrollTop\n   * @private\n   */\n  Core.prototype._updateScrollTop = function () {\n    // recalculate the scrollTopMin\n    var scrollTopMin = Math.min(this.props.centerContainer.height - this.props.center.height, 0); // is negative or zero\n    if (scrollTopMin != this.props.scrollTopMin) {\n      // in case of bottom orientation, change the scrollTop such that the contents\n      // do not move relative to the time axis at the bottom\n      if (this.options.orientation.item != 'top') {\n        this.props.scrollTop += scrollTopMin - this.props.scrollTopMin;\n      }\n      this.props.scrollTopMin = scrollTopMin;\n    }\n\n    // limit the scrollTop to the feasible scroll range\n    if (this.props.scrollTop &gt; 0) this.props.scrollTop = 0;\n    if (this.props.scrollTop &lt; scrollTopMin) this.props.scrollTop = scrollTopMin;\n\n    return this.props.scrollTop;\n  };\n\n  /**\n   * Get the current scrollTop\n   * @returns {number} scrollTop\n   * @private\n   */\n  Core.prototype._getScrollTop = function () {\n    return this.props.scrollTop;\n  };\n\n  /**\n   * Load a configurator\n   * @return {Object}\n   * @private\n   */\n  Core.prototype._createConfigurator = function () {\n    throw new Error('Cannot invoke abstract method _createConfigurator');\n  };\n\n  module.exports = Core;\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var Hammer = __webpack_require__(20);\n  var util = __webpack_require__(1);\n  var DataSet = __webpack_require__(8);\n  var DataView = __webpack_require__(10);\n  var TimeStep = __webpack_require__(29);\n  var Component = __webpack_require__(25);\n  var Group = __webpack_require__(30);\n  var BackgroundGroup = __webpack_require__(34);\n  var BoxItem = __webpack_require__(35);\n  var PointItem = __webpack_require__(36);\n  var RangeItem = __webpack_require__(32);\n  var BackgroundItem = __webpack_require__(37);\n\n  var UNGROUPED = '__ungrouped__'; // reserved group id for ungrouped items\n  var BACKGROUND = '__background__'; // reserved group id for background items without group\n\n  /**\n   * An ItemSet holds a set of items and ranges which can be displayed in a\n   * range. The width is determined by the parent of the ItemSet, and the height\n   * is determined by the size of the items.\n   * @param {{dom: Object, domProps: Object, emitter: Emitter, range: Range}} body\n   * @param {Object} [options]      See ItemSet.setOptions for the available options.\n   * @constructor ItemSet\n   * @extends Component\n   */\n  function ItemSet(body, options) {\n    this.body = body;\n\n    this.defaultOptions = {\n      type: null, // 'box', 'point', 'range', 'background'\n      orientation: {\n        item: 'bottom' // item orientation: 'top' or 'bottom'\n      },\n      align: 'auto', // alignment of box items\n      stack: true,\n      groupOrderSwap: function groupOrderSwap(fromGroup, toGroup, groups) {\n        var targetOrder = toGroup.order;\n        toGroup.order = fromGroup.order;\n        fromGroup.order = targetOrder;\n      },\n      groupOrder: 'order',\n\n      selectable: true,\n      multiselect: false,\n      itemsAlwaysDraggable: false,\n\n      editable: {\n        updateTime: false,\n        updateGroup: false,\n        add: false,\n        remove: false\n      },\n\n      groupEditable: {\n        order: false,\n        add: false,\n        remove: false\n      },\n\n      snap: TimeStep.snap,\n\n      onAdd: function onAdd(item, callback) {\n        callback(item);\n      },\n      onUpdate: function onUpdate(item, callback) {\n        callback(item);\n      },\n      onMove: function onMove(item, callback) {\n        callback(item);\n      },\n      onRemove: function onRemove(item, callback) {\n        callback(item);\n      },\n      onMoving: function onMoving(item, callback) {\n        callback(item);\n      },\n      onAddGroup: function onAddGroup(item, callback) {\n        callback(item);\n      },\n      onMoveGroup: function onMoveGroup(item, callback) {\n        callback(item);\n      },\n      onRemoveGroup: function onRemoveGroup(item, callback) {\n        callback(item);\n      },\n\n      margin: {\n        item: {\n          horizontal: 10,\n          vertical: 10\n        },\n        axis: 20\n      }\n    };\n\n    // options is shared by this ItemSet and all its items\n    this.options = util.extend({}, this.defaultOptions);\n\n    // options for getting items from the DataSet with the correct type\n    this.itemOptions = {\n      type: { start: 'Date', end: 'Date' }\n    };\n\n    this.conversion = {\n      toScreen: body.util.toScreen,\n      toTime: body.util.toTime\n    };\n    this.dom = {};\n    this.props = {};\n    this.hammer = null;\n\n    var me = this;\n    this.itemsData = null; // DataSet\n    this.groupsData = null; // DataSet\n\n    // listeners for the DataSet of the items\n    this.itemListeners = {\n      'add': function add(event, params, senderId) {\n        me._onAdd(params.items);\n      },\n      'update': function update(event, params, senderId) {\n        me._onUpdate(params.items);\n      },\n      'remove': function remove(event, params, senderId) {\n        me._onRemove(params.items);\n      }\n    };\n\n    // listeners for the DataSet of the groups\n    this.groupListeners = {\n      'add': function add(event, params, senderId) {\n        me._onAddGroups(params.items);\n      },\n      'update': function update(event, params, senderId) {\n        me._onUpdateGroups(params.items);\n      },\n      'remove': function remove(event, params, senderId) {\n        me._onRemoveGroups(params.items);\n      }\n    };\n\n    this.items = {}; // object with an Item for every data item\n    this.groups = {}; // Group object for every group\n    this.groupIds = [];\n\n    this.selection = []; // list with the ids of all selected nodes\n    this.stackDirty = true; // if true, all items will be restacked on next redraw\n\n    this.touchParams = {}; // stores properties while dragging\n    this.groupTouchParams = {};\n    // create the HTML DOM\n\n    this._create();\n\n    this.setOptions(options);\n  }\n\n  ItemSet.prototype = new Component();\n\n  // available item types will be registered here\n  ItemSet.types = {\n    background: BackgroundItem,\n    box: BoxItem,\n    range: RangeItem,\n    point: PointItem\n  };\n\n  /**\n   * Create the HTML DOM for the ItemSet\n   */\n  ItemSet.prototype._create = function () {\n    var frame = document.createElement('div');\n    frame.className = 'vis-itemset';\n    frame['timeline-itemset'] = this;\n    this.dom.frame = frame;\n\n    // create background panel\n    var background = document.createElement('div');\n    background.className = 'vis-background';\n    frame.appendChild(background);\n    this.dom.background = background;\n\n    // create foreground panel\n    var foreground = document.createElement('div');\n    foreground.className = 'vis-foreground';\n    frame.appendChild(foreground);\n    this.dom.foreground = foreground;\n\n    // create axis panel\n    var axis = document.createElement('div');\n    axis.className = 'vis-axis';\n    this.dom.axis = axis;\n\n    // create labelset\n    var labelSet = document.createElement('div');\n    labelSet.className = 'vis-labelset';\n    this.dom.labelSet = labelSet;\n\n    // create ungrouped Group\n    this._updateUngrouped();\n\n    // create background Group\n    var backgroundGroup = new BackgroundGroup(BACKGROUND, null, this);\n    backgroundGroup.show();\n    this.groups[BACKGROUND] = backgroundGroup;\n\n    // attach event listeners\n    // Note: we bind to the centerContainer for the case where the height\n    //       of the center container is larger than of the ItemSet, so we\n    //       can click in the empty area to create a new item or deselect an item.\n    this.hammer = new Hammer(this.body.dom.centerContainer);\n\n    // drag items when selected\n    this.hammer.on('hammer.input', (function (event) {\n      if (event.isFirst) {\n        this._onTouch(event);\n      }\n    }).bind(this));\n    this.hammer.on('panstart', this._onDragStart.bind(this));\n    this.hammer.on('panmove', this._onDrag.bind(this));\n    this.hammer.on('panend', this._onDragEnd.bind(this));\n    this.hammer.get('pan').set({ threshold: 5, direction: 30 }); // 30 is ALL_DIRECTIONS in hammer.\n\n    // single select (or unselect) when tapping an item\n    this.hammer.on('tap', this._onSelectItem.bind(this));\n\n    // multi select when holding mouse/touch, or on ctrl+click\n    this.hammer.on('press', this._onMultiSelectItem.bind(this));\n\n    // add item on doubletap\n    this.hammer.on('doubletap', this._onAddItem.bind(this));\n\n    this.groupHammer = new Hammer(this.body.dom.leftContainer);\n    this.groupHammer.on('panstart', this._onGroupDragStart.bind(this));\n    this.groupHammer.on('panmove', this._onGroupDrag.bind(this));\n    this.groupHammer.on('panend', this._onGroupDragEnd.bind(this));\n    this.groupHammer.get('pan').set({ threshold: 5, direction: 30 });\n\n    // attach to the DOM\n    this.show();\n  };\n\n  /**\n   * Set options for the ItemSet. Existing options will be extended/overwritten.\n   * @param {Object} [options] The following options are available:\n   *                           {String} type\n   *                              Default type for the items. Choose from 'box'\n   *                              (default), 'point', 'range', or 'background'.\n   *                              The default style can be overwritten by\n   *                              individual items.\n   *                           {String} align\n   *                              Alignment for the items, only applicable for\n   *                              BoxItem. Choose 'center' (default), 'left', or\n   *                              'right'.\n   *                           {String} orientation.item\n   *                              Orientation of the item set. Choose 'top' or\n   *                              'bottom' (default).\n   *                           {Function} groupOrder\n   *                              A sorting function for ordering groups\n   *                           {Boolean} stack\n   *                              If true (default), items will be stacked on\n   *                              top of each other.\n   *                           {Number} margin.axis\n   *                              Margin between the axis and the items in pixels.\n   *                              Default is 20.\n   *                           {Number} margin.item.horizontal\n   *                              Horizontal margin between items in pixels.\n   *                              Default is 10.\n   *                           {Number} margin.item.vertical\n   *                              Vertical Margin between items in pixels.\n   *                              Default is 10.\n   *                           {Number} margin.item\n   *                              Margin between items in pixels in both horizontal\n   *                              and vertical direction. Default is 10.\n   *                           {Number} margin\n   *                              Set margin for both axis and items in pixels.\n   *                           {Boolean} selectable\n   *                              If true (default), items can be selected.\n   *                           {Boolean} multiselect\n   *                              If true, multiple items can be selected.\n   *                              False by default.\n   *                           {Boolean} editable\n   *                              Set all editable options to true or false\n   *                           {Boolean} editable.updateTime\n   *                              Allow dragging an item to an other moment in time\n   *                           {Boolean} editable.updateGroup\n   *                              Allow dragging an item to an other group\n   *                           {Boolean} editable.add\n   *                              Allow creating new items on double tap\n   *                           {Boolean} editable.remove\n   *                              Allow removing items by clicking the delete button\n   *                              top right of a selected item.\n   *                           {Function(item: Item, callback: Function)} onAdd\n   *                              Callback function triggered when an item is about to be added:\n   *                              when the user double taps an empty space in the Timeline.\n   *                           {Function(item: Item, callback: Function)} onUpdate\n   *                              Callback function fired when an item is about to be updated.\n   *                              This function typically has to show a dialog where the user\n   *                              change the item. If not implemented, nothing happens.\n   *                           {Function(item: Item, callback: Function)} onMove\n   *                              Fired when an item has been moved. If not implemented,\n   *                              the move action will be accepted.\n   *                           {Function(item: Item, callback: Function)} onRemove\n   *                              Fired when an item is about to be deleted.\n   *                              If not implemented, the item will be always removed.\n   */\n  ItemSet.prototype.setOptions = function (options) {\n    if (options) {\n      // copy all options that we know\n      var fields = ['type', 'align', 'order', 'stack', 'selectable', 'multiselect', 'itemsAlwaysDraggable', 'multiselectPerGroup', 'groupOrder', 'dataAttributes', 'template', 'groupTemplate', 'hide', 'snap', 'groupOrderSwap'];\n      util.selectiveExtend(fields, this.options, options);\n\n      if ('orientation' in options) {\n        if (typeof options.orientation === 'string') {\n          this.options.orientation.item = options.orientation === 'top' ? 'top' : 'bottom';\n        } else if (typeof options.orientation === 'object' &amp;&amp; 'item' in options.orientation) {\n          this.options.orientation.item = options.orientation.item;\n        }\n      }\n\n      if ('margin' in options) {\n        if (typeof options.margin === 'number') {\n          this.options.margin.axis = options.margin;\n          this.options.margin.item.horizontal = options.margin;\n          this.options.margin.item.vertical = options.margin;\n        } else if (typeof options.margin === 'object') {\n          util.selectiveExtend(['axis'], this.options.margin, options.margin);\n          if ('item' in options.margin) {\n            if (typeof options.margin.item === 'number') {\n              this.options.margin.item.horizontal = options.margin.item;\n              this.options.margin.item.vertical = options.margin.item;\n            } else if (typeof options.margin.item === 'object') {\n              util.selectiveExtend(['horizontal', 'vertical'], this.options.margin.item, options.margin.item);\n            }\n          }\n        }\n      }\n\n      if ('editable' in options) {\n        if (typeof options.editable === 'boolean') {\n          this.options.editable.updateTime = options.editable;\n          this.options.editable.updateGroup = options.editable;\n          this.options.editable.add = options.editable;\n          this.options.editable.remove = options.editable;\n        } else if (typeof options.editable === 'object') {\n          util.selectiveExtend(['updateTime', 'updateGroup', 'add', 'remove'], this.options.editable, options.editable);\n        }\n      }\n\n      if ('groupEditable' in options) {\n        if (typeof options.groupEditable === 'boolean') {\n          this.options.groupEditable.order = options.groupEditable;\n          this.options.groupEditable.add = options.groupEditable;\n          this.options.groupEditable.remove = options.groupEditable;\n        } else if (typeof options.groupEditable === 'object') {\n          util.selectiveExtend(['order', 'add', 'remove'], this.options.groupEditable, options.groupEditable);\n        }\n      }\n\n      // callback functions\n      var addCallback = (function (name) {\n        var fn = options[name];\n        if (fn) {\n          if (!(fn instanceof Function)) {\n            throw new Error('option ' + name + ' must be a function ' + name + '(item, callback)');\n          }\n          this.options[name] = fn;\n        }\n      }).bind(this);\n      ['onAdd', 'onUpdate', 'onRemove', 'onMove', 'onMoving', 'onAddGroup', 'onMoveGroup', 'onRemoveGroup'].forEach(addCallback);\n\n      // force the itemSet to refresh: options like orientation and margins may be changed\n      this.markDirty();\n    }\n  };\n\n  /**\n   * Mark the ItemSet dirty so it will refresh everything with next redraw.\n   * Optionally, all items can be marked as dirty and be refreshed.\n   * @param {{refreshItems: boolean}} [options]\n   */\n  ItemSet.prototype.markDirty = function (options) {\n    this.groupIds = [];\n    this.stackDirty = true;\n\n    if (options &amp;&amp; options.refreshItems) {\n      util.forEach(this.items, function (item) {\n        item.dirty = true;\n        if (item.displayed) item.redraw();\n      });\n    }\n  };\n\n  /**\n   * Destroy the ItemSet\n   */\n  ItemSet.prototype.destroy = function () {\n    this.hide();\n    this.setItems(null);\n    this.setGroups(null);\n\n    this.hammer = null;\n\n    this.body = null;\n    this.conversion = null;\n  };\n\n  /**\n   * Hide the component from the DOM\n   */\n  ItemSet.prototype.hide = function () {\n    // remove the frame containing the items\n    if (this.dom.frame.parentNode) {\n      this.dom.frame.parentNode.removeChild(this.dom.frame);\n    }\n\n    // remove the axis with dots\n    if (this.dom.axis.parentNode) {\n      this.dom.axis.parentNode.removeChild(this.dom.axis);\n    }\n\n    // remove the labelset containing all group labels\n    if (this.dom.labelSet.parentNode) {\n      this.dom.labelSet.parentNode.removeChild(this.dom.labelSet);\n    }\n  };\n\n  /**\n   * Show the component in the DOM (when not already visible).\n   * @return {Boolean} changed\n   */\n  ItemSet.prototype.show = function () {\n    // show frame containing the items\n    if (!this.dom.frame.parentNode) {\n      this.body.dom.center.appendChild(this.dom.frame);\n    }\n\n    // show axis with dots\n    if (!this.dom.axis.parentNode) {\n      this.body.dom.backgroundVertical.appendChild(this.dom.axis);\n    }\n\n    // show labelset containing labels\n    if (!this.dom.labelSet.parentNode) {\n      this.body.dom.left.appendChild(this.dom.labelSet);\n    }\n  };\n\n  /**\n   * Set selected items by their id. Replaces the current selection\n   * Unknown id's are silently ignored.\n   * @param {string[] | string} [ids] An array with zero or more id's of the items to be\n   *                                  selected, or a single item id. If ids is undefined\n   *                                  or an empty array, all items will be unselected.\n   */\n  ItemSet.prototype.setSelection = function (ids) {\n    var i, ii, id, item;\n\n    if (ids == undefined) ids = [];\n    if (!Array.isArray(ids)) ids = [ids];\n\n    // unselect currently selected items\n    for (i = 0, ii = this.selection.length; i &lt; ii; i++) {\n      id = this.selection[i];\n      item = this.items[id];\n      if (item) item.unselect();\n    }\n\n    // select items\n    this.selection = [];\n    for (i = 0, ii = ids.length; i &lt; ii; i++) {\n      id = ids[i];\n      item = this.items[id];\n      if (item) {\n        this.selection.push(id);\n        item.select();\n      }\n    }\n  };\n\n  /**\n   * Get the selected items by their id\n   * @return {Array} ids  The ids of the selected items\n   */\n  ItemSet.prototype.getSelection = function () {\n    return this.selection.concat([]);\n  };\n\n  /**\n   * Get the id's of the currently visible items.\n   * @returns {Array} The ids of the visible items\n   */\n  ItemSet.prototype.getVisibleItems = function () {\n    var range = this.body.range.getRange();\n    var left = this.body.util.toScreen(range.start);\n    var right = this.body.util.toScreen(range.end);\n\n    var ids = [];\n    for (var groupId in this.groups) {\n      if (this.groups.hasOwnProperty(groupId)) {\n        var group = this.groups[groupId];\n        var rawVisibleItems = group.visibleItems;\n\n        // filter the \&quot;raw\&quot; set with visibleItems into a set which is really\n        // visible by pixels\n        for (var i = 0; i &lt; rawVisibleItems.length; i++) {\n          var item = rawVisibleItems[i];\n          // TODO: also check whether visible vertically\n          if (item.left &lt; right &amp;&amp; item.left + item.width &gt; left) {\n            ids.push(item.id);\n          }\n        }\n      }\n    }\n\n    return ids;\n  };\n\n  /**\n   * Deselect a selected item\n   * @param {String | Number} id\n   * @private\n   */\n  ItemSet.prototype._deselect = function (id) {\n    var selection = this.selection;\n    for (var i = 0, ii = selection.length; i &lt; ii; i++) {\n      if (selection[i] == id) {\n        // non-strict comparison!\n        selection.splice(i, 1);\n        break;\n      }\n    }\n  };\n\n  /**\n   * Repaint the component\n   * @return {boolean} Returns true if the component is resized\n   */\n  ItemSet.prototype.redraw = function () {\n    var margin = this.options.margin,\n        range = this.body.range,\n        asSize = util.option.asSize,\n        options = this.options,\n        orientation = options.orientation.item,\n        resized = false,\n        frame = this.dom.frame;\n\n    // recalculate absolute position (before redrawing groups)\n    this.props.top = this.body.domProps.top.height + this.body.domProps.border.top;\n    this.props.left = this.body.domProps.left.width + this.body.domProps.border.left;\n\n    // update class name\n    frame.className = 'vis-itemset';\n\n    // reorder the groups (if needed)\n    resized = this._orderGroups() || resized;\n\n    // check whether zoomed (in that case we need to re-stack everything)\n    // TODO: would be nicer to get this as a trigger from Range\n    var visibleInterval = range.end - range.start;\n    var zoomed = visibleInterval != this.lastVisibleInterval || this.props.width != this.props.lastWidth;\n    if (zoomed) this.stackDirty = true;\n    this.lastVisibleInterval = visibleInterval;\n    this.props.lastWidth = this.props.width;\n\n    var restack = this.stackDirty;\n    var firstGroup = this._firstGroup();\n    var firstMargin = {\n      item: margin.item,\n      axis: margin.axis\n    };\n    var nonFirstMargin = {\n      item: margin.item,\n      axis: margin.item.vertical / 2\n    };\n    var height = 0;\n    var minHeight = margin.axis + margin.item.vertical;\n\n    // redraw the background group\n    this.groups[BACKGROUND].redraw(range, nonFirstMargin, restack);\n\n    // redraw all regular groups\n    util.forEach(this.groups, function (group) {\n      var groupMargin = group == firstGroup ? firstMargin : nonFirstMargin;\n      var groupResized = group.redraw(range, groupMargin, restack);\n      resized = groupResized || resized;\n      height += group.height;\n    });\n    height = Math.max(height, minHeight);\n    this.stackDirty = false;\n\n    // update frame height\n    frame.style.height = asSize(height);\n\n    // calculate actual size\n    this.props.width = frame.offsetWidth;\n    this.props.height = height;\n\n    // reposition axis\n    this.dom.axis.style.top = asSize(orientation == 'top' ? this.body.domProps.top.height + this.body.domProps.border.top : this.body.domProps.top.height + this.body.domProps.centerContainer.height);\n    this.dom.axis.style.left = '0';\n\n    // check if this component is resized\n    resized = this._isResized() || resized;\n\n    return resized;\n  };\n\n  /**\n   * Get the first group, aligned with the axis\n   * @return {Group | null} firstGroup\n   * @private\n   */\n  ItemSet.prototype._firstGroup = function () {\n    var firstGroupIndex = this.options.orientation.item == 'top' ? 0 : this.groupIds.length - 1;\n    var firstGroupId = this.groupIds[firstGroupIndex];\n    var firstGroup = this.groups[firstGroupId] || this.groups[UNGROUPED];\n\n    return firstGroup || null;\n  };\n\n  /**\n   * Create or delete the group holding all ungrouped items. This group is used when\n   * there are no groups specified.\n   * @protected\n   */\n  ItemSet.prototype._updateUngrouped = function () {\n    var ungrouped = this.groups[UNGROUPED];\n    var background = this.groups[BACKGROUND];\n    var item, itemId;\n\n    if (this.groupsData) {\n      // remove the group holding all ungrouped items\n      if (ungrouped) {\n        ungrouped.hide();\n        delete this.groups[UNGROUPED];\n\n        for (itemId in this.items) {\n          if (this.items.hasOwnProperty(itemId)) {\n            item = this.items[itemId];\n            item.parent &amp;&amp; item.parent.remove(item);\n            var groupId = this._getGroupId(item.data);\n            var group = this.groups[groupId];\n            group &amp;&amp; group.add(item) || item.hide();\n          }\n        }\n      }\n    } else {\n      // create a group holding all (unfiltered) items\n      if (!ungrouped) {\n        var id = null;\n        var data = null;\n        ungrouped = new Group(id, data, this);\n        this.groups[UNGROUPED] = ungrouped;\n\n        for (itemId in this.items) {\n          if (this.items.hasOwnProperty(itemId)) {\n            item = this.items[itemId];\n            ungrouped.add(item);\n          }\n        }\n\n        ungrouped.show();\n      }\n    }\n  };\n\n  /**\n   * Get the element for the labelset\n   * @return {HTMLElement} labelSet\n   */\n  ItemSet.prototype.getLabelSet = function () {\n    return this.dom.labelSet;\n  };\n\n  /**\n   * Set items\n   * @param {vis.DataSet | null} items\n   */\n  ItemSet.prototype.setItems = function (items) {\n    var me = this,\n        ids,\n        oldItemsData = this.itemsData;\n\n    // replace the dataset\n    if (!items) {\n      this.itemsData = null;\n    } else if (items instanceof DataSet || items instanceof DataView) {\n      this.itemsData = items;\n    } else {\n      throw new TypeError('Data must be an instance of DataSet or DataView');\n    }\n\n    if (oldItemsData) {\n      // unsubscribe from old dataset\n      util.forEach(this.itemListeners, function (callback, event) {\n        oldItemsData.off(event, callback);\n      });\n\n      // remove all drawn items\n      ids = oldItemsData.getIds();\n      this._onRemove(ids);\n    }\n\n    if (this.itemsData) {\n      // subscribe to new dataset\n      var id = this.id;\n      util.forEach(this.itemListeners, function (callback, event) {\n        me.itemsData.on(event, callback, id);\n      });\n\n      // add all new items\n      ids = this.itemsData.getIds();\n      this._onAdd(ids);\n\n      // update the group holding all ungrouped items\n      this._updateUngrouped();\n    }\n\n    this.body.emitter.emit('_change', { queue: true });\n  };\n\n  /**\n   * Get the current items\n   * @returns {vis.DataSet | null}\n   */\n  ItemSet.prototype.getItems = function () {\n    return this.itemsData;\n  };\n\n  /**\n   * Set groups\n   * @param {vis.DataSet} groups\n   */\n  ItemSet.prototype.setGroups = function (groups) {\n    var me = this,\n        ids;\n\n    // unsubscribe from current dataset\n    if (this.groupsData) {\n      util.forEach(this.groupListeners, function (callback, event) {\n        me.groupsData.off(event, callback);\n      });\n\n      // remove all drawn groups\n      ids = this.groupsData.getIds();\n      this.groupsData = null;\n      this._onRemoveGroups(ids); // note: this will cause a redraw\n    }\n\n    // replace the dataset\n    if (!groups) {\n      this.groupsData = null;\n    } else if (groups instanceof DataSet || groups instanceof DataView) {\n      this.groupsData = groups;\n    } else {\n      throw new TypeError('Data must be an instance of DataSet or DataView');\n    }\n\n    if (this.groupsData) {\n      // subscribe to new dataset\n      var id = this.id;\n      util.forEach(this.groupListeners, function (callback, event) {\n        me.groupsData.on(event, callback, id);\n      });\n\n      // draw all ms\n      ids = this.groupsData.getIds();\n      this._onAddGroups(ids);\n    }\n\n    // update the group holding all ungrouped items\n    this._updateUngrouped();\n\n    // update the order of all items in each group\n    this._order();\n\n    this.body.emitter.emit('_change', { queue: true });\n  };\n\n  /**\n   * Get the current groups\n   * @returns {vis.DataSet | null} groups\n   */\n  ItemSet.prototype.getGroups = function () {\n    return this.groupsData;\n  };\n\n  /**\n   * Remove an item by its id\n   * @param {String | Number} id\n   */\n  ItemSet.prototype.removeItem = function (id) {\n    var item = this.itemsData.get(id),\n        dataset = this.itemsData.getDataSet();\n\n    if (item) {\n      // confirm deletion\n      this.options.onRemove(item, function (item) {\n        if (item) {\n          // remove by id here, it is possible that an item has no id defined\n          // itself, so better not delete by the item itself\n          dataset.remove(id);\n        }\n      });\n    }\n  };\n\n  /**\n   * Get the time of an item based on it's data and options.type\n   * @param {Object} itemData\n   * @returns {string} Returns the type\n   * @private\n   */\n  ItemSet.prototype._getType = function (itemData) {\n    return itemData.type || this.options.type || (itemData.end ? 'range' : 'box');\n  };\n\n  /**\n   * Get the group id for an item\n   * @param {Object} itemData\n   * @returns {string} Returns the groupId\n   * @private\n   */\n  ItemSet.prototype._getGroupId = function (itemData) {\n    var type = this._getType(itemData);\n    if (type == 'background' &amp;&amp; itemData.group == undefined) {\n      return BACKGROUND;\n    } else {\n      return this.groupsData ? itemData.group : UNGROUPED;\n    }\n  };\n\n  /**\n   * Handle updated items\n   * @param {Number[]} ids\n   * @protected\n   */\n  ItemSet.prototype._onUpdate = function (ids) {\n    var me = this;\n\n    ids.forEach((function (id) {\n      var itemData = me.itemsData.get(id, me.itemOptions);\n      var item = me.items[id];\n      var type = me._getType(itemData);\n\n      var constructor = ItemSet.types[type];\n      var selected;\n\n      if (item) {\n        // update item\n        if (!constructor || !(item instanceof constructor)) {\n          // item type has changed, delete the item and recreate it\n          selected = item.selected; // preserve selection of this item\n          me._removeItem(item);\n          item = null;\n        } else {\n          me._updateItem(item, itemData);\n        }\n      }\n\n      if (!item) {\n        // create item\n        if (constructor) {\n          item = new constructor(itemData, me.conversion, me.options);\n          item.id = id; // TODO: not so nice setting id afterwards\n          me._addItem(item);\n          if (selected) {\n            this.selection.push(id);\n            item.select();\n          }\n        } else if (type == 'rangeoverflow') {\n          // TODO: deprecated since version 2.1.0 (or 3.0.0?). cleanup some day\n          throw new TypeError('Item type \&quot;rangeoverflow\&quot; is deprecated. Use css styling instead: ' + '.vis-item.vis-range .vis-item-content {overflow: visible;}');\n        } else {\n          throw new TypeError('Unknown item type \&quot;' + type + '\&quot;');\n        }\n      }\n    }).bind(this));\n\n    this._order();\n    this.stackDirty = true; // force re-stacking of all items next redraw\n    this.body.emitter.emit('_change', { queue: true });\n  };\n\n  /**\n   * Handle added items\n   * @param {Number[]} ids\n   * @protected\n   */\n  ItemSet.prototype._onAdd = ItemSet.prototype._onUpdate;\n\n  /**\n   * Handle removed items\n   * @param {Number[]} ids\n   * @protected\n   */\n  ItemSet.prototype._onRemove = function (ids) {\n    var count = 0;\n    var me = this;\n    ids.forEach(function (id) {\n      var item = me.items[id];\n      if (item) {\n        count++;\n        me._removeItem(item);\n      }\n    });\n\n    if (count) {\n      // update order\n      this._order();\n      this.stackDirty = true; // force re-stacking of all items next redraw\n      this.body.emitter.emit('_change', { queue: true });\n    }\n  };\n\n  /**\n   * Update the order of item in all groups\n   * @private\n   */\n  ItemSet.prototype._order = function () {\n    // reorder the items in all groups\n    // TODO: optimization: only reorder groups affected by the changed items\n    util.forEach(this.groups, function (group) {\n      group.order();\n    });\n  };\n\n  /**\n   * Handle updated groups\n   * @param {Number[]} ids\n   * @private\n   */\n  ItemSet.prototype._onUpdateGroups = function (ids) {\n    this._onAddGroups(ids);\n  };\n\n  /**\n   * Handle changed groups (added or updated)\n   * @param {Number[]} ids\n   * @private\n   */\n  ItemSet.prototype._onAddGroups = function (ids) {\n    var me = this;\n\n    ids.forEach(function (id) {\n      var groupData = me.groupsData.get(id);\n      var group = me.groups[id];\n\n      if (!group) {\n        // check for reserved ids\n        if (id == UNGROUPED || id == BACKGROUND) {\n          throw new Error('Illegal group id. ' + id + ' is a reserved id.');\n        }\n\n        var groupOptions = Object.create(me.options);\n        util.extend(groupOptions, {\n          height: null\n        });\n\n        group = new Group(id, groupData, me);\n        me.groups[id] = group;\n\n        // add items with this groupId to the new group\n        for (var itemId in me.items) {\n          if (me.items.hasOwnProperty(itemId)) {\n            var item = me.items[itemId];\n            if (item.data.group == id) {\n              group.add(item);\n            }\n          }\n        }\n\n        group.order();\n        group.show();\n      } else {\n        // update group\n        group.setData(groupData);\n      }\n    });\n\n    this.body.emitter.emit('_change', { queue: true });\n  };\n\n  /**\n   * Handle removed groups\n   * @param {Number[]} ids\n   * @private\n   */\n  ItemSet.prototype._onRemoveGroups = function (ids) {\n    var groups = this.groups;\n    ids.forEach(function (id) {\n      var group = groups[id];\n\n      if (group) {\n        group.hide();\n        delete groups[id];\n      }\n    });\n\n    this.markDirty();\n\n    this.body.emitter.emit('_change', { queue: true });\n  };\n\n  /**\n   * Reorder the groups if needed\n   * @return {boolean} changed\n   * @private\n   */\n  ItemSet.prototype._orderGroups = function () {\n    if (this.groupsData) {\n      // reorder the groups\n      var groupIds = this.groupsData.getIds({\n        order: this.options.groupOrder\n      });\n\n      var changed = !util.equalArray(groupIds, this.groupIds);\n      if (changed) {\n        // hide all groups, removes them from the DOM\n        var groups = this.groups;\n        groupIds.forEach(function (groupId) {\n          groups[groupId].hide();\n        });\n\n        // show the groups again, attach them to the DOM in correct order\n        groupIds.forEach(function (groupId) {\n          groups[groupId].show();\n        });\n\n        this.groupIds = groupIds;\n      }\n\n      return changed;\n    } else {\n      return false;\n    }\n  };\n\n  /**\n   * Add a new item\n   * @param {Item} item\n   * @private\n   */\n  ItemSet.prototype._addItem = function (item) {\n    this.items[item.id] = item;\n\n    // add to group\n    var groupId = this._getGroupId(item.data);\n    var group = this.groups[groupId];\n    if (group) group.add(item);\n  };\n\n  /**\n   * Update an existing item\n   * @param {Item} item\n   * @param {Object} itemData\n   * @private\n   */\n  ItemSet.prototype._updateItem = function (item, itemData) {\n    var oldGroupId = item.data.group;\n    var oldSubGroupId = item.data.subgroup;\n\n    // update the items data (will redraw the item when displayed)\n    item.setData(itemData);\n\n    // update group\n    if (oldGroupId != item.data.group || oldSubGroupId != item.data.subgroup) {\n      var oldGroup = this.groups[oldGroupId];\n      if (oldGroup) oldGroup.remove(item);\n\n      var groupId = this._getGroupId(item.data);\n      var group = this.groups[groupId];\n      if (group) group.add(item);\n    }\n  };\n\n  /**\n   * Delete an item from the ItemSet: remove it from the DOM, from the map\n   * with items, and from the map with visible items, and from the selection\n   * @param {Item} item\n   * @private\n   */\n  ItemSet.prototype._removeItem = function (item) {\n    // remove from DOM\n    item.hide();\n\n    // remove from items\n    delete this.items[item.id];\n\n    // remove from selection\n    var index = this.selection.indexOf(item.id);\n    if (index != -1) this.selection.splice(index, 1);\n\n    // remove from group\n    item.parent &amp;&amp; item.parent.remove(item);\n  };\n\n  /**\n   * Create an array containing all items being a range (having an end date)\n   * @param array\n   * @returns {Array}\n   * @private\n   */\n  ItemSet.prototype._constructByEndArray = function (array) {\n    var endArray = [];\n\n    for (var i = 0; i &lt; array.length; i++) {\n      if (array[i] instanceof RangeItem) {\n        endArray.push(array[i]);\n      }\n    }\n    return endArray;\n  };\n\n  /**\n   * Register the clicked item on touch, before dragStart is initiated.\n   *\n   * dragStart is initiated from a mousemove event, AFTER the mouse/touch is\n   * already moving. Therefore, the mouse/touch can sometimes be above an other\n   * DOM element than the item itself.\n   *\n   * @param {Event} event\n   * @private\n   */\n  ItemSet.prototype._onTouch = function (event) {\n    // store the touched item, used in _onDragStart\n    this.touchParams.item = this.itemFromTarget(event);\n    this.touchParams.dragLeftItem = event.target.dragLeftItem || false;\n    this.touchParams.dragRightItem = event.target.dragRightItem || false;\n    this.touchParams.itemProps = null;\n  };\n\n  /**\n   * Given an group id, returns the index it has.\n   *\n   * @param {Number} groupID\n   * @private\n   */\n  ItemSet.prototype._getGroupIndex = function (groupId) {\n    for (var i = 0; i &lt; this.groupIds.length; i++) {\n      if (groupId == this.groupIds[i]) return i;\n    }\n  };\n\n  /**\n   * Start dragging the selected events\n   * @param {Event} event\n   * @private\n   */\n  ItemSet.prototype._onDragStart = function (event) {\n    var item = this.touchParams.item || null;\n    var me = this;\n    var props;\n\n    if (item &amp;&amp; (item.selected || this.options.itemsAlwaysDraggable)) {\n\n      if (!this.options.editable.updateTime &amp;&amp; !this.options.editable.updateGroup &amp;&amp; !item.editable) {\n        return;\n      }\n\n      // override options.editable\n      if (item.editable === false) {\n        return;\n      }\n\n      var dragLeftItem = this.touchParams.dragLeftItem;\n      var dragRightItem = this.touchParams.dragRightItem;\n\n      if (dragLeftItem) {\n        props = {\n          item: dragLeftItem,\n          initialX: event.center.x,\n          dragLeft: true,\n          data: this._cloneItemData(item.data)\n        };\n\n        this.touchParams.itemProps = [props];\n      } else if (dragRightItem) {\n        props = {\n          item: dragRightItem,\n          initialX: event.center.x,\n          dragRight: true,\n          data: this._cloneItemData(item.data)\n        };\n\n        this.touchParams.itemProps = [props];\n      } else {\n        this.touchParams.selectedItem = item;\n\n        var baseGroupIndex = this._getGroupIndex(item.data.group);\n\n        var itemsToDrag = this.options.itemsAlwaysDraggable &amp;&amp; !item.selected ? [item.id] : this.getSelection();\n\n        this.touchParams.itemProps = itemsToDrag.map((function (id) {\n          var item = me.items[id];\n          var groupIndex = me._getGroupIndex(item.data.group);\n          return {\n            item: item,\n            initialX: event.center.x,\n            groupOffset: baseGroupIndex - groupIndex,\n            data: this._cloneItemData(item.data)\n          };\n        }).bind(this));\n      }\n\n      event.stopPropagation();\n    } else if (this.options.editable.add &amp;&amp; (event.srcEvent.ctrlKey || event.srcEvent.metaKey)) {\n      // create a new range item when dragging with ctrl key down\n      this._onDragStartAddItem(event);\n    }\n  };\n\n  /**\n   * Start creating a new range item by dragging.\n   * @param {Event} event\n   * @private\n   */\n  ItemSet.prototype._onDragStartAddItem = function (event) {\n    var snap = this.options.snap || null;\n    var xAbs = util.getAbsoluteLeft(this.dom.frame);\n    var x = event.center.x - xAbs - 10; // minus 10 to compensate for the drag starting as soon as you've moved 10px\n    var time = this.body.util.toTime(x);\n    var scale = this.body.util.getScale();\n    var step = this.body.util.getStep();\n    var start = snap ? snap(time, scale, step) : time;\n    var end = start;\n\n    var itemData = {\n      type: 'range',\n      start: start,\n      end: end,\n      content: 'new item'\n    };\n\n    var id = util.randomUUID();\n    itemData[this.itemsData._fieldId] = id;\n\n    var group = this.groupFromTarget(event);\n    if (group) {\n      itemData.group = group.groupId;\n    }\n\n    var newItem = new RangeItem(itemData, this.conversion, this.options);\n    newItem.id = id; // TODO: not so nice setting id afterwards\n    newItem.data = this._cloneItemData(itemData);\n    this._addItem(newItem);\n\n    var props = {\n      item: newItem,\n      dragRight: true,\n      initialX: event.center.x,\n      data: newItem.data\n    };\n    this.touchParams.itemProps = [props];\n\n    event.stopPropagation();\n  };\n\n  /**\n   * Drag selected items\n   * @param {Event} event\n   * @private\n   */\n  ItemSet.prototype._onDrag = function (event) {\n    if (this.touchParams.itemProps) {\n      event.stopPropagation();\n\n      var me = this;\n      var snap = this.options.snap || null;\n      var xOffset = this.body.dom.root.offsetLeft + this.body.domProps.left.width;\n      var scale = this.body.util.getScale();\n      var step = this.body.util.getStep();\n\n      //only calculate the new group for the item that's actually dragged\n      var selectedItem = this.touchParams.selectedItem;\n      var updateGroupAllowed = me.options.editable.updateGroup;\n      var newGroupBase = null;\n      if (updateGroupAllowed &amp;&amp; selectedItem) {\n        if (selectedItem.data.group != undefined) {\n          // drag from one group to another\n          var group = me.groupFromTarget(event);\n          if (group) {\n            //we know the offset for all items, so the new group for all items\n            //will be relative to this one.\n            newGroupBase = this._getGroupIndex(group.groupId);\n          }\n        }\n      }\n\n      // move\n      this.touchParams.itemProps.forEach((function (props) {\n        var current = me.body.util.toTime(event.center.x - xOffset);\n        var initial = me.body.util.toTime(props.initialX - xOffset);\n        var offset = current - initial; // ms\n\n        var itemData = this._cloneItemData(props.item.data); // clone the data\n        if (props.item.editable === false) {\n          return;\n        }\n\n        var updateTimeAllowed = me.options.editable.updateTime || props.item.editable === true;\n\n        if (updateTimeAllowed) {\n          if (props.dragLeft) {\n            // drag left side of a range item\n            if (itemData.start != undefined) {\n              var initialStart = util.convert(props.data.start, 'Date');\n              var start = new Date(initialStart.valueOf() + offset);\n              // TODO: pass a Moment instead of a Date to snap(). (Breaking change)\n              itemData.start = snap ? snap(start, scale, step) : start;\n            }\n          } else if (props.dragRight) {\n            // drag right side of a range item\n            if (itemData.end != undefined) {\n              var initialEnd = util.convert(props.data.end, 'Date');\n              var end = new Date(initialEnd.valueOf() + offset);\n              // TODO: pass a Moment instead of a Date to snap(). (Breaking change)\n              itemData.end = snap ? snap(end, scale, step) : end;\n            }\n          } else {\n            // drag both start and end\n            if (itemData.start != undefined) {\n              var initialStart = util.convert(props.data.start, 'Date').valueOf();\n              var start = new Date(initialStart + offset);\n\n              if (itemData.end != undefined) {\n                var initialEnd = util.convert(props.data.end, 'Date');\n                var duration = initialEnd.valueOf() - initialStart.valueOf();\n\n                // TODO: pass a Moment instead of a Date to snap(). (Breaking change)\n                itemData.start = snap ? snap(start, scale, step) : start;\n                itemData.end = new Date(itemData.start.valueOf() + duration);\n              } else {\n                // TODO: pass a Moment instead of a Date to snap(). (Breaking change)\n                itemData.start = snap ? snap(start, scale, step) : start;\n              }\n            }\n          }\n        }\n\n        var updateGroupAllowed = me.options.editable.updateGroup || props.item.editable === true;\n\n        if (updateGroupAllowed &amp;&amp; !props.dragLeft &amp;&amp; !props.dragRight &amp;&amp; newGroupBase != null) {\n          if (itemData.group != undefined) {\n            var newOffset = newGroupBase - props.groupOffset;\n\n            //make sure we stay in bounds\n            newOffset = Math.max(0, newOffset);\n            newOffset = Math.min(me.groupIds.length - 1, newOffset);\n\n            itemData.group = me.groupIds[newOffset];\n          }\n        }\n\n        // confirm moving the item\n        itemData = this._cloneItemData(itemData); // convert start and end to the correct type\n        me.options.onMoving(itemData, (function (itemData) {\n          if (itemData) {\n            props.item.setData(this._cloneItemData(itemData, 'Date'));\n          }\n        }).bind(this));\n      }).bind(this));\n\n      this.stackDirty = true; // force re-stacking of all items next redraw\n      this.body.emitter.emit('_change');\n    }\n  };\n\n  /**\n   * Move an item to another group\n   * @param {Item} item\n   * @param {String | Number} groupId\n   * @private\n   */\n  ItemSet.prototype._moveToGroup = function (item, groupId) {\n    var group = this.groups[groupId];\n    if (group &amp;&amp; group.groupId != item.data.group) {\n      var oldGroup = item.parent;\n      oldGroup.remove(item);\n      oldGroup.order();\n      group.add(item);\n      group.order();\n\n      item.data.group = group.groupId;\n    }\n  };\n\n  /**\n   * End of dragging selected items\n   * @param {Event} event\n   * @private\n   */\n  ItemSet.prototype._onDragEnd = function (event) {\n    if (this.touchParams.itemProps) {\n      event.stopPropagation();\n\n      var me = this;\n      var dataset = this.itemsData.getDataSet();\n      var itemProps = this.touchParams.itemProps;\n      this.touchParams.itemProps = null;\n\n      itemProps.forEach((function (props) {\n        var id = props.item.id;\n        var exists = me.itemsData.get(id, me.itemOptions) != null;\n\n        if (!exists) {\n          // add a new item\n          me.options.onAdd(props.item.data, function (itemData) {\n            me._removeItem(props.item); // remove temporary item\n            if (itemData) {\n              me.itemsData.getDataSet().add(itemData);\n            }\n\n            // force re-stacking of all items next redraw\n            me.stackDirty = true;\n            me.body.emitter.emit('_change');\n          });\n        } else {\n          // update existing item\n          var itemData = this._cloneItemData(props.item.data); // convert start and end to the correct type\n          me.options.onMove(itemData, function (itemData) {\n            if (itemData) {\n              // apply changes\n              itemData[dataset._fieldId] = id; // ensure the item contains its id (can be undefined)\n              dataset.update(itemData);\n            } else {\n              // restore original values\n              props.item.setData(props.data);\n\n              me.stackDirty = true; // force re-stacking of all items next redraw\n              me.body.emitter.emit('_change');\n            }\n          });\n        }\n      }).bind(this));\n    }\n  };\n\n  ItemSet.prototype._onGroupDragStart = function (event) {\n    if (this.options.groupEditable.order) {\n      this.groupTouchParams.group = this.groupFromTarget(event);\n\n      if (this.groupTouchParams.group) {\n        event.stopPropagation();\n\n        this.groupTouchParams.originalOrder = this.groupsData.getIds({\n          order: this.options.groupOrder\n        });\n      }\n    }\n  };\n\n  ItemSet.prototype._onGroupDrag = function (event) {\n    if (this.options.groupEditable.order &amp;&amp; this.groupTouchParams.group) {\n      event.stopPropagation();\n\n      // drag from one group to another\n      var group = this.groupFromTarget(event);\n\n      // try to avoid toggling when groups differ in height\n      if (group &amp;&amp; group.height != this.groupTouchParams.group.height) {\n        var movingUp = group.top &lt; this.groupTouchParams.group.top;\n        var clientY = event.center ? event.center.y : event.clientY;\n        var targetGroupTop = util.getAbsoluteTop(group.dom.foreground);\n        var draggedGroupHeight = this.groupTouchParams.group.height;\n        if (movingUp) {\n          // skip swapping the groups when the dragged group is not below clientY afterwards\n          if (targetGroupTop + draggedGroupHeight &lt; clientY) {\n            return;\n          }\n        } else {\n          var targetGroupHeight = group.height;\n          // skip swapping the groups when the dragged group is not below clientY afterwards\n          if (targetGroupTop + targetGroupHeight - draggedGroupHeight &gt; clientY) {\n            return;\n          }\n        }\n      }\n\n      if (group &amp;&amp; group != this.groupTouchParams.group) {\n        var groupsData = this.groupsData;\n        var targetGroup = groupsData.get(group.groupId);\n        var draggedGroup = groupsData.get(this.groupTouchParams.group.groupId);\n\n        // switch groups\n        if (draggedGroup &amp;&amp; targetGroup) {\n          this.options.groupOrderSwap(draggedGroup, targetGroup, this.groupsData);\n          this.groupsData.update(draggedGroup);\n          this.groupsData.update(targetGroup);\n        }\n\n        // fetch current order of groups\n        var newOrder = this.groupsData.getIds({\n          order: this.options.groupOrder\n        });\n\n        // in case of changes since _onGroupDragStart\n        if (!util.equalArray(newOrder, this.groupTouchParams.originalOrder)) {\n          var groupsData = this.groupsData;\n          var origOrder = this.groupTouchParams.originalOrder;\n          var draggedId = this.groupTouchParams.group.groupId;\n          var numGroups = Math.min(origOrder.length, newOrder.length);\n          var curPos = 0;\n          var newOffset = 0;\n          var orgOffset = 0;\n          while (curPos &lt; numGroups) {\n            // as long as the groups are where they should be step down along the groups order\n            while (curPos + newOffset &lt; numGroups &amp;&amp; curPos + orgOffset &lt; numGroups &amp;&amp; newOrder[curPos + newOffset] == origOrder[curPos + orgOffset]) {\n              curPos++;\n            }\n\n            // all ok\n            if (curPos + newOffset &gt;= numGroups) {\n              break;\n            }\n\n            // not all ok\n            // if dragged group was move upwards everything below should have an offset\n            if (newOrder[curPos + newOffset] == draggedId) {\n              newOffset = 1;\n              continue;\n            }\n            // if dragged group was move downwards everything above should have an offset\n            else if (origOrder[curPos + orgOffset] == draggedId) {\n                orgOffset = 1;\n                continue;\n              }\n              // found a group (apart from dragged group) that has the wrong position -&gt; switch with the\n              // group at the position where other one should be, fix index arrays and continue\n              else {\n                  var slippedPosition = newOrder.indexOf(origOrder[curPos + orgOffset]);\n                  var switchGroup = groupsData.get(newOrder[curPos + newOffset]);\n                  var shouldBeGroup = groupsData.get(origOrder[curPos + orgOffset]);\n                  this.options.groupOrderSwap(switchGroup, shouldBeGroup, groupsData);\n                  groupsData.update(switchGroup);\n                  groupsData.update(shouldBeGroup);\n\n                  var switchGroupId = newOrder[curPos + newOffset];\n                  newOrder[curPos + newOffset] = origOrder[curPos + orgOffset];\n                  newOrder[slippedPosition] = switchGroupId;\n\n                  curPos++;\n                }\n          }\n        }\n      }\n    }\n  };\n\n  ItemSet.prototype._onGroupDragEnd = function (event) {\n    if (this.options.groupEditable.order &amp;&amp; this.groupTouchParams.group) {\n      event.stopPropagation();\n\n      // update existing group\n      var me = this;\n      var id = me.groupTouchParams.group.groupId;\n      var dataset = me.groupsData.getDataSet();\n      var groupData = util.extend({}, dataset.get(id)); // clone the data\n      me.options.onMoveGroup(groupData, function (groupData) {\n        if (groupData) {\n          // apply changes\n          groupData[dataset._fieldId] = id; // ensure the group contains its id (can be undefined)\n          dataset.update(groupData);\n        } else {\n\n          // fetch current order of groups\n          var newOrder = dataset.getIds({\n            order: me.options.groupOrder\n          });\n\n          // restore original order\n          if (!util.equalArray(newOrder, me.groupTouchParams.originalOrder)) {\n            var origOrder = me.groupTouchParams.originalOrder;\n            var numGroups = Math.min(origOrder.length, newOrder.length);\n            var curPos = 0;\n            while (curPos &lt; numGroups) {\n              // as long as the groups are where they should be step down along the groups order\n              while (curPos &lt; numGroups &amp;&amp; newOrder[curPos] == origOrder[curPos]) {\n                curPos++;\n              }\n\n              // all ok\n              if (curPos &gt;= numGroups) {\n                break;\n              }\n\n              // found a group that has the wrong position -&gt; switch with the\n              // group at the position where other one should be, fix index arrays and continue\n              var slippedPosition = newOrder.indexOf(origOrder[curPos]);\n              var switchGroup = dataset.get(newOrder[curPos]);\n              var shouldBeGroup = dataset.get(origOrder[curPos]);\n              me.options.groupOrderSwap(switchGroup, shouldBeGroup, dataset);\n              groupsData.update(switchGroup);\n              groupsData.update(shouldBeGroup);\n\n              var switchGroupId = newOrder[curPos];\n              newOrder[curPos] = origOrder[curPos];\n              newOrder[slippedPosition] = switchGroupId;\n\n              curPos++;\n            }\n          }\n        }\n      });\n\n      me.body.emitter.emit('groupDragged', { groupId: id });\n    }\n  };\n\n  /**\n   * Handle selecting/deselecting an item when tapping it\n   * @param {Event} event\n   * @private\n   */\n  ItemSet.prototype._onSelectItem = function (event) {\n    if (!this.options.selectable) return;\n\n    var ctrlKey = event.srcEvent &amp;&amp; (event.srcEvent.ctrlKey || event.srcEvent.metaKey);\n    var shiftKey = event.srcEvent &amp;&amp; event.srcEvent.shiftKey;\n    if (ctrlKey || shiftKey) {\n      this._onMultiSelectItem(event);\n      return;\n    }\n\n    var oldSelection = this.getSelection();\n\n    var item = this.itemFromTarget(event);\n    var selection = item ? [item.id] : [];\n    this.setSelection(selection);\n\n    var newSelection = this.getSelection();\n\n    // emit a select event,\n    // except when old selection is empty and new selection is still empty\n    if (newSelection.length &gt; 0 || oldSelection.length &gt; 0) {\n      this.body.emitter.emit('select', {\n        items: newSelection,\n        event: event\n      });\n    }\n  };\n\n  /**\n   * Handle creation and updates of an item on double tap\n   * @param event\n   * @private\n   */\n  ItemSet.prototype._onAddItem = function (event) {\n    if (!this.options.selectable) return;\n    if (!this.options.editable.add) return;\n\n    var me = this;\n    var snap = this.options.snap || null;\n    var item = this.itemFromTarget(event);\n\n    if (item) {\n      // update item\n\n      // execute async handler to update the item (or cancel it)\n      var itemData = me.itemsData.get(item.id); // get a clone of the data from the dataset\n      this.options.onUpdate(itemData, function (itemData) {\n        if (itemData) {\n          me.itemsData.getDataSet().update(itemData);\n        }\n      });\n    } else {\n      // add item\n      var xAbs = util.getAbsoluteLeft(this.dom.frame);\n      var x = event.center.x - xAbs;\n      var start = this.body.util.toTime(x);\n      var scale = this.body.util.getScale();\n      var step = this.body.util.getStep();\n\n      var newItemData = {\n        start: snap ? snap(start, scale, step) : start,\n        content: 'new item'\n      };\n\n      // when default type is a range, add a default end date to the new item\n      if (this.options.type === 'range') {\n        var end = this.body.util.toTime(x + this.props.width / 5);\n        newItemData.end = snap ? snap(end, scale, step) : end;\n      }\n\n      newItemData[this.itemsData._fieldId] = util.randomUUID();\n\n      var group = this.groupFromTarget(event);\n      if (group) {\n        newItemData.group = group.groupId;\n      }\n\n      // execute async handler to customize (or cancel) adding an item\n      newItemData = this._cloneItemData(newItemData); // convert start and end to the correct type\n      this.options.onAdd(newItemData, function (item) {\n        if (item) {\n          me.itemsData.getDataSet().add(item);\n          // TODO: need to trigger a redraw?\n        }\n      });\n    }\n  };\n\n  /**\n   * Handle selecting/deselecting multiple items when holding an item\n   * @param {Event} event\n   * @private\n   */\n  ItemSet.prototype._onMultiSelectItem = function (event) {\n    if (!this.options.selectable) return;\n\n    var item = this.itemFromTarget(event);\n\n    if (item) {\n      // multi select items (if allowed)\n\n      var selection = this.options.multiselect ? this.getSelection() // take current selection\n      : []; // deselect current selection\n\n      var shiftKey = event.srcEvent &amp;&amp; event.srcEvent.shiftKey || false;\n\n      if (shiftKey &amp;&amp; this.options.multiselect) {\n        // select all items between the old selection and the tapped item\n        var itemGroup = this.itemsData.get(item.id).group;\n\n        // when filtering get the group of the last selected item\n        var lastSelectedGroup = undefined;\n        if (this.options.multiselectPerGroup) {\n          if (selection.length &gt; 0) {\n            lastSelectedGroup = this.itemsData.get(selection[0]).group;\n          }\n        }\n\n        // determine the selection range\n        if (!this.options.multiselectPerGroup || lastSelectedGroup == undefined || lastSelectedGroup == itemGroup) {\n          selection.push(item.id);\n        }\n        var range = ItemSet._getItemRange(this.itemsData.get(selection, this.itemOptions));\n\n        if (!this.options.multiselectPerGroup || lastSelectedGroup == itemGroup) {\n          // select all items within the selection range\n          selection = [];\n          for (var id in this.items) {\n            if (this.items.hasOwnProperty(id)) {\n              var _item = this.items[id];\n              var start = _item.data.start;\n              var end = _item.data.end !== undefined ? _item.data.end : start;\n\n              if (start &gt;= range.min &amp;&amp; end &lt;= range.max &amp;&amp; (!this.options.multiselectPerGroup || lastSelectedGroup == this.itemsData.get(_item.id).group) &amp;&amp; !(_item instanceof BackgroundItem)) {\n                selection.push(_item.id); // do not use id but item.id, id itself is stringified\n              }\n            }\n          }\n        }\n      } else {\n          // add/remove this item from the current selection\n          var index = selection.indexOf(item.id);\n          if (index == -1) {\n            // item is not yet selected -&gt; select it\n            selection.push(item.id);\n          } else {\n            // item is already selected -&gt; deselect it\n            selection.splice(index, 1);\n          }\n        }\n\n      this.setSelection(selection);\n\n      this.body.emitter.emit('select', {\n        items: this.getSelection(),\n        event: event\n      });\n    }\n  };\n\n  /**\n   * Calculate the time range of a list of items\n   * @param {Array.&lt;Object&gt;} itemsData\n   * @return {{min: Date, max: Date}} Returns the range of the provided items\n   * @private\n   */\n  ItemSet._getItemRange = function (itemsData) {\n    var max = null;\n    var min = null;\n\n    itemsData.forEach(function (data) {\n      if (min == null || data.start &lt; min) {\n        min = data.start;\n      }\n\n      if (data.end != undefined) {\n        if (max == null || data.end &gt; max) {\n          max = data.end;\n        }\n      } else {\n        if (max == null || data.start &gt; max) {\n          max = data.start;\n        }\n      }\n    });\n\n    return {\n      min: min,\n      max: max\n    };\n  };\n\n  /**\n   * Find an item from an event target:\n   * searches for the attribute 'timeline-item' in the event target's element tree\n   * @param {Event} event\n   * @return {Item | null} item\n   */\n  ItemSet.prototype.itemFromTarget = function (event) {\n    var target = event.target;\n    while (target) {\n      if (target.hasOwnProperty('timeline-item')) {\n        return target['timeline-item'];\n      }\n      target = target.parentNode;\n    }\n\n    return null;\n  };\n\n  /**\n   * Find the Group from an event target:\n   * searches for the attribute 'timeline-group' in the event target's element tree\n   * @param {Event} event\n   * @return {Group | null} group\n   */\n  ItemSet.prototype.groupFromTarget = function (event) {\n    var clientY = event.center ? event.center.y : event.clientY;\n    for (var i = 0; i &lt; this.groupIds.length; i++) {\n      var groupId = this.groupIds[i];\n      var group = this.groups[groupId];\n      var foreground = group.dom.foreground;\n      var top = util.getAbsoluteTop(foreground);\n      if (clientY &gt; top &amp;&amp; clientY &lt; top + foreground.offsetHeight) {\n        return group;\n      }\n\n      if (this.options.orientation.item === 'top') {\n        if (i === this.groupIds.length - 1 &amp;&amp; clientY &gt; top) {\n          return group;\n        }\n      } else {\n        if (i === 0 &amp;&amp; clientY &lt; top + foreground.offset) {\n          return group;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  /**\n   * Find the ItemSet from an event target:\n   * searches for the attribute 'timeline-itemset' in the event target's element tree\n   * @param {Event} event\n   * @return {ItemSet | null} item\n   */\n  ItemSet.itemSetFromTarget = function (event) {\n    var target = event.target;\n    while (target) {\n      if (target.hasOwnProperty('timeline-itemset')) {\n        return target['timeline-itemset'];\n      }\n      target = target.parentNode;\n    }\n\n    return null;\n  };\n\n  /**\n   * Clone the data of an item, and \&quot;normalize\&quot; it: convert the start and end date\n   * to the type (Date, Moment, ...) configured in the DataSet. If not configured,\n   * start and end are converted to Date.\n   * @param {Object} itemData, typically `item.data`\n   * @param {string} [type]  Optional Date type. If not provided, the type from the DataSet is taken\n   * @return {Object} The cloned object\n   * @private\n   */\n  ItemSet.prototype._cloneItemData = function (itemData, type) {\n    var clone = util.extend({}, itemData);\n\n    if (!type) {\n      // convert start and end date to the type (Date, Moment, ...) configured in the DataSet\n      type = this.itemsData.getDataSet()._options.type;\n    }\n\n    if (clone.start != undefined) {\n      clone.start = util.convert(clone.start, type &amp;&amp; type.start || 'Date');\n    }\n    if (clone.end != undefined) {\n      clone.end = util.convert(clone.end, type &amp;&amp; type.end || 'Date');\n    }\n\n    return clone;\n  };\n\n  module.exports = ItemSet;\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var moment = __webpack_require__(2);\n  var DateUtil = __webpack_require__(26);\n  var util = __webpack_require__(1);\n\n  /**\n   * @constructor  TimeStep\n   * The class TimeStep is an iterator for dates. You provide a start date and an\n   * end date. The class itself determines the best scale (step size) based on the\n   * provided start Date, end Date, and minimumStep.\n   *\n   * If minimumStep is provided, the step size is chosen as close as possible\n   * to the minimumStep but larger than minimumStep. If minimumStep is not\n   * provided, the scale is set to 1 DAY.\n   * The minimumStep should correspond with the onscreen size of about 6 characters\n   *\n   * Alternatively, you can set a scale by hand.\n   * After creation, you can initialize the class by executing first(). Then you\n   * can iterate from the start date to the end date via next(). You can check if\n   * the end date is reached with the function hasNext(). After each step, you can\n   * retrieve the current date via getCurrent().\n   * The TimeStep has scales ranging from milliseconds, seconds, minutes, hours,\n   * days, to years.\n   *\n   * Version: 1.2\n   *\n   * @param {Date} [start]         The start date, for example new Date(2010, 9, 21)\n   *                               or new Date(2010, 9, 21, 23, 45, 00)\n   * @param {Date} [end]           The end date\n   * @param {Number} [minimumStep] Optional. Minimum step size in milliseconds\n   */\n  function TimeStep(start, end, minimumStep, hiddenDates) {\n    this.moment = moment;\n\n    // variables\n    this.current = this.moment();\n    this._start = this.moment();\n    this._end = this.moment();\n\n    this.autoScale = true;\n    this.scale = 'day';\n    this.step = 1;\n\n    // initialize the range\n    this.setRange(start, end, minimumStep);\n\n    // hidden Dates options\n    this.switchedDay = false;\n    this.switchedMonth = false;\n    this.switchedYear = false;\n    if (Array.isArray(hiddenDates)) {\n      this.hiddenDates = hiddenDates;\n    } else if (hiddenDates != undefined) {\n      this.hiddenDates = [hiddenDates];\n    } else {\n      this.hiddenDates = [];\n    }\n\n    this.format = TimeStep.FORMAT; // default formatting\n  }\n\n  // Time formatting\n  TimeStep.FORMAT = {\n    minorLabels: {\n      millisecond: 'SSS',\n      second: 's',\n      minute: 'HH:mm',\n      hour: 'HH:mm',\n      weekday: 'ddd D',\n      day: 'D',\n      month: 'MMM',\n      year: 'YYYY'\n    },\n    majorLabels: {\n      millisecond: 'HH:mm:ss',\n      second: 'D MMMM HH:mm',\n      minute: 'ddd D MMMM',\n      hour: 'ddd D MMMM',\n      weekday: 'MMMM YYYY',\n      day: 'MMMM YYYY',\n      month: 'YYYY',\n      year: ''\n    }\n  };\n\n  /**\n   * Set custom constructor function for moment. Can be used to set dates\n   * to UTC or to set a utcOffset.\n   * @param {function} moment\n   */\n  TimeStep.prototype.setMoment = function (moment) {\n    this.moment = moment;\n\n    // update the date properties, can have a new utcOffset\n    this.current = this.moment(this.current);\n    this._start = this.moment(this._start);\n    this._end = this.moment(this._end);\n  };\n\n  /**\n   * Set custom formatting for the minor an major labels of the TimeStep.\n   * Both `minorLabels` and `majorLabels` are an Object with properties:\n   * 'millisecond', 'second', 'minute', 'hour', 'weekday', 'day', 'month', 'year'.\n   * @param {{minorLabels: Object, majorLabels: Object}} format\n   */\n  TimeStep.prototype.setFormat = function (format) {\n    var defaultFormat = util.deepExtend({}, TimeStep.FORMAT);\n    this.format = util.deepExtend(defaultFormat, format);\n  };\n\n  /**\n   * Set a new range\n   * If minimumStep is provided, the step size is chosen as close as possible\n   * to the minimumStep but larger than minimumStep. If minimumStep is not\n   * provided, the scale is set to 1 DAY.\n   * The minimumStep should correspond with the onscreen size of about 6 characters\n   * @param {Date} [start]      The start date and time.\n   * @param {Date} [end]        The end date and time.\n   * @param {int} [minimumStep] Optional. Minimum step size in milliseconds\n   */\n  TimeStep.prototype.setRange = function (start, end, minimumStep) {\n    if (!(start instanceof Date) || !(end instanceof Date)) {\n      throw \&quot;No legal start or end date in method setRange\&quot;;\n    }\n\n    this._start = start != undefined ? this.moment(start.valueOf()) : new Date();\n    this._end = end != undefined ? this.moment(end.valueOf()) : new Date();\n\n    if (this.autoScale) {\n      this.setMinimumStep(minimumStep);\n    }\n  };\n\n  /**\n   * Set the range iterator to the start date.\n   */\n  TimeStep.prototype.start = function () {\n    this.current = this._start.clone();\n    this.roundToMinor();\n  };\n\n  /**\n   * Round the current date to the first minor date value\n   * This must be executed once when the current date is set to start Date\n   */\n  TimeStep.prototype.roundToMinor = function () {\n    // round to floor\n    // IMPORTANT: we have no breaks in this switch! (this is no bug)\n    // noinspection FallThroughInSwitchStatementJS\n    switch (this.scale) {\n      case 'year':\n        this.current.year(this.step * Math.floor(this.current.year() / this.step));\n        this.current.month(0);\n      case 'month':\n        this.current.date(1);\n      case 'day': // intentional fall through\n      case 'weekday':\n        this.current.hours(0);\n      case 'hour':\n        this.current.minutes(0);\n      case 'minute':\n        this.current.seconds(0);\n      case 'second':\n        this.current.milliseconds(0);\n      //case 'millisecond': // nothing to do for milliseconds\n    }\n\n    if (this.step != 1) {\n      // round down to the first minor value that is a multiple of the current step size\n      switch (this.scale) {\n        case 'millisecond':\n          this.current.subtract(this.current.milliseconds() % this.step, 'milliseconds');break;\n        case 'second':\n          this.current.subtract(this.current.seconds() % this.step, 'seconds');break;\n        case 'minute':\n          this.current.subtract(this.current.minutes() % this.step, 'minutes');break;\n        case 'hour':\n          this.current.subtract(this.current.hours() % this.step, 'hours');break;\n        case 'weekday': // intentional fall through\n        case 'day':\n          this.current.subtract((this.current.date() - 1) % this.step, 'day');break;\n        case 'month':\n          this.current.subtract(this.current.month() % this.step, 'month');break;\n        case 'year':\n          this.current.subtract(this.current.year() % this.step, 'year');break;\n        default:\n          break;\n      }\n    }\n  };\n\n  /**\n   * Check if the there is a next step\n   * @return {boolean}  true if the current date has not passed the end date\n   */\n  TimeStep.prototype.hasNext = function () {\n    return this.current.valueOf() &lt;= this._end.valueOf();\n  };\n\n  /**\n   * Do the next step\n   */\n  TimeStep.prototype.next = function () {\n    var prev = this.current.valueOf();\n\n    // Two cases, needed to prevent issues with switching daylight savings\n    // (end of March and end of October)\n    if (this.current.month() &lt; 6) {\n      switch (this.scale) {\n        case 'millisecond':\n          this.current.add(this.step, 'millisecond');break;\n        case 'second':\n          this.current.add(this.step, 'second');break;\n        case 'minute':\n          this.current.add(this.step, 'minute');break;\n        case 'hour':\n          this.current.add(this.step, 'hour');\n          // in case of skipping an hour for daylight savings, adjust the hour again (else you get: 0h 5h 9h ... instead of 0h 4h 8h ...)\n          // TODO: is this still needed now we use the function of moment.js?\n          this.current.subtract(this.current.hours() % this.step, 'hour');\n          break;\n        case 'weekday': // intentional fall through\n        case 'day':\n          this.current.add(this.step, 'day');break;\n        case 'month':\n          this.current.add(this.step, 'month');break;\n        case 'year':\n          this.current.add(this.step, 'year');break;\n        default:\n          break;\n      }\n    } else {\n      switch (this.scale) {\n        case 'millisecond':\n          this.current.add(this.step, 'millisecond');break;\n        case 'second':\n          this.current.add(this.step, 'second');break;\n        case 'minute':\n          this.current.add(this.step, 'minute');break;\n        case 'hour':\n          this.current.add(this.step, 'hour');break;\n        case 'weekday': // intentional fall through\n        case 'day':\n          this.current.add(this.step, 'day');break;\n        case 'month':\n          this.current.add(this.step, 'month');break;\n        case 'year':\n          this.current.add(this.step, 'year');break;\n        default:\n          break;\n      }\n    }\n\n    if (this.step != 1) {\n      // round down to the correct major value\n      switch (this.scale) {\n        case 'millisecond':\n          if (this.current.milliseconds() &lt; this.step) this.current.milliseconds(0);break;\n        case 'second':\n          if (this.current.seconds() &lt; this.step) this.current.seconds(0);break;\n        case 'minute':\n          if (this.current.minutes() &lt; this.step) this.current.minutes(0);break;\n        case 'hour':\n          if (this.current.hours() &lt; this.step) this.current.hours(0);break;\n        case 'weekday': // intentional fall through\n        case 'day':\n          if (this.current.date() &lt; this.step + 1) this.current.date(1);break;\n        case 'month':\n          if (this.current.month() &lt; this.step) this.current.month(0);break;\n        case 'year':\n          break; // nothing to do for year\n        default:\n          break;\n      }\n    }\n\n    // safety mechanism: if current time is still unchanged, move to the end\n    if (this.current.valueOf() == prev) {\n      this.current = this._end.clone();\n    }\n\n    DateUtil.stepOverHiddenDates(this.moment, this, prev);\n  };\n\n  /**\n   * Get the current datetime\n   * @return {Moment}  current The current date\n   */\n  TimeStep.prototype.getCurrent = function () {\n    return this.current;\n  };\n\n  /**\n   * Set a custom scale. Autoscaling will be disabled.\n   * For example setScale('minute', 5) will result\n   * in minor steps of 5 minutes, and major steps of an hour.\n   *\n   * @param {{scale: string, step: number}} params\n   *                               An object containing two properties:\n   *                               - A string 'scale'. Choose from 'millisecond', 'second',\n   *                                 'minute', 'hour', 'weekday', 'day', 'month', 'year'.\n   *                               - A number 'step'. A step size, by default 1.\n   *                                 Choose for example 1, 2, 5, or 10.\n   */\n  TimeStep.prototype.setScale = function (params) {\n    if (params &amp;&amp; typeof params.scale == 'string') {\n      this.scale = params.scale;\n      this.step = params.step &gt; 0 ? params.step : 1;\n      this.autoScale = false;\n    }\n  };\n\n  /**\n   * Enable or disable autoscaling\n   * @param {boolean} enable  If true, autoascaling is set true\n   */\n  TimeStep.prototype.setAutoScale = function (enable) {\n    this.autoScale = enable;\n  };\n\n  /**\n   * Automatically determine the scale that bests fits the provided minimum step\n   * @param {Number} [minimumStep]  The minimum step size in milliseconds\n   */\n  TimeStep.prototype.setMinimumStep = function (minimumStep) {\n    if (minimumStep == undefined) {\n      return;\n    }\n\n    //var b = asc + ds;\n\n    var stepYear = 1000 * 60 * 60 * 24 * 30 * 12;\n    var stepMonth = 1000 * 60 * 60 * 24 * 30;\n    var stepDay = 1000 * 60 * 60 * 24;\n    var stepHour = 1000 * 60 * 60;\n    var stepMinute = 1000 * 60;\n    var stepSecond = 1000;\n    var stepMillisecond = 1;\n\n    // find the smallest step that is larger than the provided minimumStep\n    if (stepYear * 1000 &gt; minimumStep) {\n      this.scale = 'year';this.step = 1000;\n    }\n    if (stepYear * 500 &gt; minimumStep) {\n      this.scale = 'year';this.step = 500;\n    }\n    if (stepYear * 100 &gt; minimumStep) {\n      this.scale = 'year';this.step = 100;\n    }\n    if (stepYear * 50 &gt; minimumStep) {\n      this.scale = 'year';this.step = 50;\n    }\n    if (stepYear * 10 &gt; minimumStep) {\n      this.scale = 'year';this.step = 10;\n    }\n    if (stepYear * 5 &gt; minimumStep) {\n      this.scale = 'year';this.step = 5;\n    }\n    if (stepYear &gt; minimumStep) {\n      this.scale = 'year';this.step = 1;\n    }\n    if (stepMonth * 3 &gt; minimumStep) {\n      this.scale = 'month';this.step = 3;\n    }\n    if (stepMonth &gt; minimumStep) {\n      this.scale = 'month';this.step = 1;\n    }\n    if (stepDay * 5 &gt; minimumStep) {\n      this.scale = 'day';this.step = 5;\n    }\n    if (stepDay * 2 &gt; minimumStep) {\n      this.scale = 'day';this.step = 2;\n    }\n    if (stepDay &gt; minimumStep) {\n      this.scale = 'day';this.step = 1;\n    }\n    if (stepDay / 2 &gt; minimumStep) {\n      this.scale = 'weekday';this.step = 1;\n    }\n    if (stepHour * 4 &gt; minimumStep) {\n      this.scale = 'hour';this.step = 4;\n    }\n    if (stepHour &gt; minimumStep) {\n      this.scale = 'hour';this.step = 1;\n    }\n    if (stepMinute * 15 &gt; minimumStep) {\n      this.scale = 'minute';this.step = 15;\n    }\n    if (stepMinute * 10 &gt; minimumStep) {\n      this.scale = 'minute';this.step = 10;\n    }\n    if (stepMinute * 5 &gt; minimumStep) {\n      this.scale = 'minute';this.step = 5;\n    }\n    if (stepMinute &gt; minimumStep) {\n      this.scale = 'minute';this.step = 1;\n    }\n    if (stepSecond * 15 &gt; minimumStep) {\n      this.scale = 'second';this.step = 15;\n    }\n    if (stepSecond * 10 &gt; minimumStep) {\n      this.scale = 'second';this.step = 10;\n    }\n    if (stepSecond * 5 &gt; minimumStep) {\n      this.scale = 'second';this.step = 5;\n    }\n    if (stepSecond &gt; minimumStep) {\n      this.scale = 'second';this.step = 1;\n    }\n    if (stepMillisecond * 200 &gt; minimumStep) {\n      this.scale = 'millisecond';this.step = 200;\n    }\n    if (stepMillisecond * 100 &gt; minimumStep) {\n      this.scale = 'millisecond';this.step = 100;\n    }\n    if (stepMillisecond * 50 &gt; minimumStep) {\n      this.scale = 'millisecond';this.step = 50;\n    }\n    if (stepMillisecond * 10 &gt; minimumStep) {\n      this.scale = 'millisecond';this.step = 10;\n    }\n    if (stepMillisecond * 5 &gt; minimumStep) {\n      this.scale = 'millisecond';this.step = 5;\n    }\n    if (stepMillisecond &gt; minimumStep) {\n      this.scale = 'millisecond';this.step = 1;\n    }\n  };\n\n  /**\n   * Snap a date to a rounded value.\n   * The snap intervals are dependent on the current scale and step.\n   * Static function\n   * @param {Date} date    the date to be snapped.\n   * @param {string} scale Current scale, can be 'millisecond', 'second',\n   *                       'minute', 'hour', 'weekday, 'day', 'month', 'year'.\n   * @param {number} step  Current step (1, 2, 4, 5, ...\n   * @return {Date} snappedDate\n   */\n  TimeStep.snap = function (date, scale, step) {\n    var clone = moment(date);\n\n    if (scale == 'year') {\n      var year = clone.year() + Math.round(clone.month() / 12);\n      clone.year(Math.round(year / step) * step);\n      clone.month(0);\n      clone.date(0);\n      clone.hours(0);\n      clone.minutes(0);\n      clone.seconds(0);\n      clone.milliseconds(0);\n    } else if (scale == 'month') {\n      if (clone.date() &gt; 15) {\n        clone.date(1);\n        clone.add(1, 'month');\n        // important: first set Date to 1, after that change the month.\n      } else {\n          clone.date(1);\n        }\n\n      clone.hours(0);\n      clone.minutes(0);\n      clone.seconds(0);\n      clone.milliseconds(0);\n    } else if (scale == 'day') {\n      //noinspection FallthroughInSwitchStatementJS\n      switch (step) {\n        case 5:\n        case 2:\n          clone.hours(Math.round(clone.hours() / 24) * 24);break;\n        default:\n          clone.hours(Math.round(clone.hours() / 12) * 12);break;\n      }\n      clone.minutes(0);\n      clone.seconds(0);\n      clone.milliseconds(0);\n    } else if (scale == 'weekday') {\n      //noinspection FallthroughInSwitchStatementJS\n      switch (step) {\n        case 5:\n        case 2:\n          clone.hours(Math.round(clone.hours() / 12) * 12);break;\n        default:\n          clone.hours(Math.round(clone.hours() / 6) * 6);break;\n      }\n      clone.minutes(0);\n      clone.seconds(0);\n      clone.milliseconds(0);\n    } else if (scale == 'hour') {\n      switch (step) {\n        case 4:\n          clone.minutes(Math.round(clone.minutes() / 60) * 60);break;\n        default:\n          clone.minutes(Math.round(clone.minutes() / 30) * 30);break;\n      }\n      clone.seconds(0);\n      clone.milliseconds(0);\n    } else if (scale == 'minute') {\n      //noinspection FallthroughInSwitchStatementJS\n      switch (step) {\n        case 15:\n        case 10:\n          clone.minutes(Math.round(clone.minutes() / 5) * 5);\n          clone.seconds(0);\n          break;\n        case 5:\n          clone.seconds(Math.round(clone.seconds() / 60) * 60);break;\n        default:\n          clone.seconds(Math.round(clone.seconds() / 30) * 30);break;\n      }\n      clone.milliseconds(0);\n    } else if (scale == 'second') {\n      //noinspection FallthroughInSwitchStatementJS\n      switch (step) {\n        case 15:\n        case 10:\n          clone.seconds(Math.round(clone.seconds() / 5) * 5);\n          clone.milliseconds(0);\n          break;\n        case 5:\n          clone.milliseconds(Math.round(clone.milliseconds() / 1000) * 1000);break;\n        default:\n          clone.milliseconds(Math.round(clone.milliseconds() / 500) * 500);break;\n      }\n    } else if (scale == 'millisecond') {\n      var _step = step &gt; 5 ? step / 2 : 1;\n      clone.milliseconds(Math.round(clone.milliseconds() / _step) * _step);\n    }\n\n    return clone;\n  };\n\n  /**\n   * Check if the current value is a major value (for example when the step\n   * is DAY, a major value is each first day of the MONTH)\n   * @return {boolean} true if current date is major, else false.\n   */\n  TimeStep.prototype.isMajor = function () {\n    if (this.switchedYear == true) {\n      this.switchedYear = false;\n      switch (this.scale) {\n        case 'year':\n        case 'month':\n        case 'weekday':\n        case 'day':\n        case 'hour':\n        case 'minute':\n        case 'second':\n        case 'millisecond':\n          return true;\n        default:\n          return false;\n      }\n    } else if (this.switchedMonth == true) {\n      this.switchedMonth = false;\n      switch (this.scale) {\n        case 'weekday':\n        case 'day':\n        case 'hour':\n        case 'minute':\n        case 'second':\n        case 'millisecond':\n          return true;\n        default:\n          return false;\n      }\n    } else if (this.switchedDay == true) {\n      this.switchedDay = false;\n      switch (this.scale) {\n        case 'millisecond':\n        case 'second':\n        case 'minute':\n        case 'hour':\n          return true;\n        default:\n          return false;\n      }\n    }\n\n    var date = this.moment(this.current);\n    switch (this.scale) {\n      case 'millisecond':\n        return date.milliseconds() == 0;\n      case 'second':\n        return date.seconds() == 0;\n      case 'minute':\n        return date.hours() == 0 &amp;&amp; date.minutes() == 0;\n      case 'hour':\n        return date.hours() == 0;\n      case 'weekday': // intentional fall through\n      case 'day':\n        return date.date() == 1;\n      case 'month':\n        return date.month() == 0;\n      case 'year':\n        return false;\n      default:\n        return false;\n    }\n  };\n\n  /**\n   * Returns formatted text for the minor axislabel, depending on the current\n   * date and the scale. For example when scale is MINUTE, the current time is\n   * formatted as \&quot;hh:mm\&quot;.\n   * @param {Date} [date] custom date. if not provided, current date is taken\n   */\n  TimeStep.prototype.getLabelMinor = function (date) {\n    if (date == undefined) {\n      date = this.current;\n    }\n\n    var format = this.format.minorLabels[this.scale];\n    return format &amp;&amp; format.length &gt; 0 ? this.moment(date).format(format) : '';\n  };\n\n  /**\n   * Returns formatted text for the major axis label, depending on the current\n   * date and the scale. For example when scale is MINUTE, the major scale is\n   * hours, and the hour will be formatted as \&quot;hh\&quot;.\n   * @param {Date} [date] custom date. if not provided, current date is taken\n   */\n  TimeStep.prototype.getLabelMajor = function (date) {\n    if (date == undefined) {\n      date = this.current;\n    }\n\n    var format = this.format.majorLabels[this.scale];\n    return format &amp;&amp; format.length &gt; 0 ? this.moment(date).format(format) : '';\n  };\n\n  TimeStep.prototype.getClassName = function () {\n    var _moment = this.moment;\n    var m = this.moment(this.current);\n    var current = m.locale ? m.locale('en') : m.lang('en'); // old versions of moment have .lang() function\n    var step = this.step;\n\n    function even(value) {\n      return value / step % 2 == 0 ? ' vis-even' : ' vis-odd';\n    }\n\n    function today(date) {\n      if (date.isSame(new Date(), 'day')) {\n        return ' vis-today';\n      }\n      if (date.isSame(_moment().add(1, 'day'), 'day')) {\n        return ' vis-tomorrow';\n      }\n      if (date.isSame(_moment().add(-1, 'day'), 'day')) {\n        return ' vis-yesterday';\n      }\n      return '';\n    }\n\n    function currentWeek(date) {\n      return date.isSame(new Date(), 'week') ? ' vis-current-week' : '';\n    }\n\n    function currentMonth(date) {\n      return date.isSame(new Date(), 'month') ? ' vis-current-month' : '';\n    }\n\n    function currentYear(date) {\n      return date.isSame(new Date(), 'year') ? ' vis-current-year' : '';\n    }\n\n    switch (this.scale) {\n      case 'millisecond':\n        return even(current.milliseconds()).trim();\n\n      case 'second':\n        return even(current.seconds()).trim();\n\n      case 'minute':\n        return even(current.minutes()).trim();\n\n      case 'hour':\n        var hours = current.hours();\n        if (this.step == 4) {\n          hours = hours + '-h' + (hours + 4);\n        }\n        return 'vis-h' + hours + today(current) + even(current.hours());\n\n      case 'weekday':\n        return 'vis-' + current.format('dddd').toLowerCase() + today(current) + currentWeek(current) + even(current.date());\n\n      case 'day':\n        var day = current.date();\n        var month = current.format('MMMM').toLowerCase();\n        return 'vis-day' + day + ' vis-' + month + currentMonth(current) + even(day - 1);\n\n      case 'month':\n        return 'vis-' + current.format('MMMM').toLowerCase() + currentMonth(current) + even(current.month());\n\n      case 'year':\n        var year = current.year();\n        return 'vis-year' + year + currentYear(current) + even(year);\n\n      default:\n        return '';\n    }\n  };\n\n  module.exports = TimeStep;\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var util = __webpack_require__(1);\n  var stack = __webpack_require__(31);\n  var RangeItem = __webpack_require__(32);\n\n  /**\n   * @constructor Group\n   * @param {Number | String} groupId\n   * @param {Object} data\n   * @param {ItemSet} itemSet\n   */\n  function Group(groupId, data, itemSet) {\n    this.groupId = groupId;\n    this.subgroups = {};\n    this.subgroupIndex = 0;\n    this.subgroupOrderer = data &amp;&amp; data.subgroupOrder;\n    this.itemSet = itemSet;\n\n    this.dom = {};\n    this.props = {\n      label: {\n        width: 0,\n        height: 0\n      }\n    };\n    this.className = null;\n\n    this.items = {}; // items filtered by groupId of this group\n    this.visibleItems = []; // items currently visible in window\n    this.orderedItems = {\n      byStart: [],\n      byEnd: []\n    };\n    this.checkRangedItems = false; // needed to refresh the ranged items if the window is programatically changed with NO overlap.\n    var me = this;\n    this.itemSet.body.emitter.on(\&quot;checkRangedItems\&quot;, function () {\n      me.checkRangedItems = true;\n    });\n\n    this._create();\n\n    this.setData(data);\n  }\n\n  /**\n   * Create DOM elements for the group\n   * @private\n   */\n  Group.prototype._create = function () {\n    var label = document.createElement('div');\n    if (this.itemSet.options.groupEditable.order) {\n      label.className = 'vis-label draggable';\n    } else {\n      label.className = 'vis-label';\n    }\n    this.dom.label = label;\n\n    var inner = document.createElement('div');\n    inner.className = 'vis-inner';\n    label.appendChild(inner);\n    this.dom.inner = inner;\n\n    var foreground = document.createElement('div');\n    foreground.className = 'vis-group';\n    foreground['timeline-group'] = this;\n    this.dom.foreground = foreground;\n\n    this.dom.background = document.createElement('div');\n    this.dom.background.className = 'vis-group';\n\n    this.dom.axis = document.createElement('div');\n    this.dom.axis.className = 'vis-group';\n\n    // create a hidden marker to detect when the Timelines container is attached\n    // to the DOM, or the style of a parent of the Timeline is changed from\n    // display:none is changed to visible.\n    this.dom.marker = document.createElement('div');\n    this.dom.marker.style.visibility = 'hidden';\n    this.dom.marker.innerHTML = '?';\n    this.dom.background.appendChild(this.dom.marker);\n  };\n\n  /**\n   * Set the group data for this group\n   * @param {Object} data   Group data, can contain properties content and className\n   */\n  Group.prototype.setData = function (data) {\n    // update contents\n    var content;\n    if (this.itemSet.options &amp;&amp; this.itemSet.options.groupTemplate) {\n      content = this.itemSet.options.groupTemplate(data);\n    } else {\n      content = data &amp;&amp; data.content;\n    }\n\n    if (content instanceof Element) {\n      this.dom.inner.appendChild(content);\n      while (this.dom.inner.firstChild) {\n        this.dom.inner.removeChild(this.dom.inner.firstChild);\n      }\n      this.dom.inner.appendChild(content);\n    } else if (content !== undefined &amp;&amp; content !== null) {\n      this.dom.inner.innerHTML = content;\n    } else {\n      this.dom.inner.innerHTML = this.groupId || ''; // groupId can be null\n    }\n\n    // update title\n    this.dom.label.title = data &amp;&amp; data.title || '';\n\n    if (!this.dom.inner.firstChild) {\n      util.addClassName(this.dom.inner, 'vis-hidden');\n    } else {\n      util.removeClassName(this.dom.inner, 'vis-hidden');\n    }\n\n    // update className\n    var className = data &amp;&amp; data.className || null;\n    if (className != this.className) {\n      if (this.className) {\n        util.removeClassName(this.dom.label, this.className);\n        util.removeClassName(this.dom.foreground, this.className);\n        util.removeClassName(this.dom.background, this.className);\n        util.removeClassName(this.dom.axis, this.className);\n      }\n      util.addClassName(this.dom.label, className);\n      util.addClassName(this.dom.foreground, className);\n      util.addClassName(this.dom.background, className);\n      util.addClassName(this.dom.axis, className);\n      this.className = className;\n    }\n\n    // update style\n    if (this.style) {\n      util.removeCssText(this.dom.label, this.style);\n      this.style = null;\n    }\n    if (data &amp;&amp; data.style) {\n      util.addCssText(this.dom.label, data.style);\n      this.style = data.style;\n    }\n  };\n\n  /**\n   * Get the width of the group label\n   * @return {number} width\n   */\n  Group.prototype.getLabelWidth = function () {\n    return this.props.label.width;\n  };\n\n  /**\n   * Repaint this group\n   * @param {{start: number, end: number}} range\n   * @param {{item: {horizontal: number, vertical: number}, axis: number}} margin\n   * @param {boolean} [restack=false]  Force restacking of all items\n   * @return {boolean} Returns true if the group is resized\n   */\n  Group.prototype.redraw = function (range, margin, restack) {\n    var resized = false;\n\n    // force recalculation of the height of the items when the marker height changed\n    // (due to the Timeline being attached to the DOM or changed from display:none to visible)\n    var markerHeight = this.dom.marker.clientHeight;\n    if (markerHeight != this.lastMarkerHeight) {\n      this.lastMarkerHeight = markerHeight;\n\n      util.forEach(this.items, function (item) {\n        item.dirty = true;\n        if (item.displayed) item.redraw();\n      });\n\n      restack = true;\n    }\n\n    // recalculate the height of the subgroups\n    this._calculateSubGroupHeights();\n\n    // reposition visible items vertically\n    if (typeof this.itemSet.options.order === 'function') {\n      // a custom order function\n\n      if (restack) {\n        // brute force restack of all items\n\n        // show all items\n        var me = this;\n        var limitSize = false;\n        util.forEach(this.items, function (item) {\n          if (!item.displayed) {\n            item.redraw();\n            me.visibleItems.push(item);\n          }\n          item.repositionX(limitSize);\n        });\n\n        // order all items and force a restacking\n        var customOrderedItems = this.orderedItems.byStart.slice().sort(function (a, b) {\n          return me.itemSet.options.order(a.data, b.data);\n        });\n        stack.stack(customOrderedItems, margin, true /* restack=true */);\n      }\n\n      this.visibleItems = this._updateVisibleItems(this.orderedItems, this.visibleItems, range);\n    } else {\n      // no custom order function, lazy stacking\n      this.visibleItems = this._updateVisibleItems(this.orderedItems, this.visibleItems, range);\n\n      if (this.itemSet.options.stack) {\n        // TODO: ugly way to access options...\n        stack.stack(this.visibleItems, margin, restack);\n      } else {\n        // no stacking\n        stack.nostack(this.visibleItems, margin, this.subgroups);\n      }\n    }\n\n    // recalculate the height of the group\n    var height = this._calculateHeight(margin);\n\n    // calculate actual size and position\n    var foreground = this.dom.foreground;\n    this.top = foreground.offsetTop;\n    this.left = foreground.offsetLeft;\n    this.width = foreground.offsetWidth;\n    resized = util.updateProperty(this, 'height', height) || resized;\n\n    // recalculate size of label\n    resized = util.updateProperty(this.props.label, 'width', this.dom.inner.clientWidth) || resized;\n    resized = util.updateProperty(this.props.label, 'height', this.dom.inner.clientHeight) || resized;\n\n    // apply new height\n    this.dom.background.style.height = height + 'px';\n    this.dom.foreground.style.height = height + 'px';\n    this.dom.label.style.height = height + 'px';\n\n    // update vertical position of items after they are re-stacked and the height of the group is calculated\n    for (var i = 0, ii = this.visibleItems.length; i &lt; ii; i++) {\n      var item = this.visibleItems[i];\n      item.repositionY(margin);\n    }\n\n    return resized;\n  };\n\n  /**\n   * recalculate the height of the subgroups\n   * @private\n   */\n  Group.prototype._calculateSubGroupHeights = function () {\n    if (Object.keys(this.subgroups).length &gt; 0) {\n      var me = this;\n\n      this.resetSubgroups();\n\n      util.forEach(this.visibleItems, function (item) {\n        if (item.data.subgroup !== undefined) {\n          me.subgroups[item.data.subgroup].height = Math.max(me.subgroups[item.data.subgroup].height, item.height);\n          me.subgroups[item.data.subgroup].visible = true;\n        }\n      });\n    }\n  };\n\n  /**\n   * recalculate the height of the group\n   * @param {{item: {horizontal: number, vertical: number}, axis: number}} margin\n   * @returns {number} Returns the height\n   * @private\n   */\n  Group.prototype._calculateHeight = function (margin) {\n    // recalculate the height of the group\n    var height;\n    var visibleItems = this.visibleItems;\n    if (visibleItems.length &gt; 0) {\n      var min = visibleItems[0].top;\n      var max = visibleItems[0].top + visibleItems[0].height;\n      util.forEach(visibleItems, function (item) {\n        min = Math.min(min, item.top);\n        max = Math.max(max, item.top + item.height);\n      });\n      if (min &gt; margin.axis) {\n        // there is an empty gap between the lowest item and the axis\n        var offset = min - margin.axis;\n        max -= offset;\n        util.forEach(visibleItems, function (item) {\n          item.top -= offset;\n        });\n      }\n      height = max + margin.item.vertical / 2;\n    } else {\n      height = 0;\n    }\n    height = Math.max(height, this.props.label.height);\n\n    return height;\n  };\n\n  /**\n   * Show this group: attach to the DOM\n   */\n  Group.prototype.show = function () {\n    if (!this.dom.label.parentNode) {\n      this.itemSet.dom.labelSet.appendChild(this.dom.label);\n    }\n\n    if (!this.dom.foreground.parentNode) {\n      this.itemSet.dom.foreground.appendChild(this.dom.foreground);\n    }\n\n    if (!this.dom.background.parentNode) {\n      this.itemSet.dom.background.appendChild(this.dom.background);\n    }\n\n    if (!this.dom.axis.parentNode) {\n      this.itemSet.dom.axis.appendChild(this.dom.axis);\n    }\n  };\n\n  /**\n   * Hide this group: remove from the DOM\n   */\n  Group.prototype.hide = function () {\n    var label = this.dom.label;\n    if (label.parentNode) {\n      label.parentNode.removeChild(label);\n    }\n\n    var foreground = this.dom.foreground;\n    if (foreground.parentNode) {\n      foreground.parentNode.removeChild(foreground);\n    }\n\n    var background = this.dom.background;\n    if (background.parentNode) {\n      background.parentNode.removeChild(background);\n    }\n\n    var axis = this.dom.axis;\n    if (axis.parentNode) {\n      axis.parentNode.removeChild(axis);\n    }\n  };\n\n  /**\n   * Add an item to the group\n   * @param {Item} item\n   */\n  Group.prototype.add = function (item) {\n    this.items[item.id] = item;\n    item.setParent(this);\n\n    // add to\n    if (item.data.subgroup !== undefined) {\n      if (this.subgroups[item.data.subgroup] === undefined) {\n        this.subgroups[item.data.subgroup] = { height: 0, visible: false, index: this.subgroupIndex, items: [] };\n        this.subgroupIndex++;\n      }\n      this.subgroups[item.data.subgroup].items.push(item);\n    }\n    this.orderSubgroups();\n\n    if (this.visibleItems.indexOf(item) == -1) {\n      var range = this.itemSet.body.range; // TODO: not nice accessing the range like this\n      this._checkIfVisible(item, this.visibleItems, range);\n    }\n  };\n\n  Group.prototype.orderSubgroups = function () {\n    if (this.subgroupOrderer !== undefined) {\n      var sortArray = [];\n      if (typeof this.subgroupOrderer == 'string') {\n        for (var subgroup in this.subgroups) {\n          sortArray.push({ subgroup: subgroup, sortField: this.subgroups[subgroup].items[0].data[this.subgroupOrderer] });\n        }\n        sortArray.sort(function (a, b) {\n          return a.sortField - b.sortField;\n        });\n      } else if (typeof this.subgroupOrderer == 'function') {\n        for (var subgroup in this.subgroups) {\n          sortArray.push(this.subgroups[subgroup].items[0].data);\n        }\n        sortArray.sort(this.subgroupOrderer);\n      }\n\n      if (sortArray.length &gt; 0) {\n        for (var i = 0; i &lt; sortArray.length; i++) {\n          this.subgroups[sortArray[i].subgroup].index = i;\n        }\n      }\n    }\n  };\n\n  Group.prototype.resetSubgroups = function () {\n    for (var subgroup in this.subgroups) {\n      if (this.subgroups.hasOwnProperty(subgroup)) {\n        this.subgroups[subgroup].visible = false;\n      }\n    }\n  };\n\n  /**\n   * Remove an item from the group\n   * @param {Item} item\n   */\n  Group.prototype.remove = function (item) {\n    delete this.items[item.id];\n    item.setParent(null);\n\n    // remove from visible items\n    var index = this.visibleItems.indexOf(item);\n    if (index != -1) this.visibleItems.splice(index, 1);\n\n    if (item.data.subgroup !== undefined) {\n      var subgroup = this.subgroups[item.data.subgroup];\n      if (subgroup) {\n        var itemIndex = subgroup.items.indexOf(item);\n        subgroup.items.splice(itemIndex, 1);\n        if (!subgroup.items.length) {\n          delete this.subgroups[item.data.subgroup];\n          this.subgroupIndex--;\n        }\n        this.orderSubgroups();\n      }\n    }\n  };\n\n  /**\n   * Remove an item from the corresponding DataSet\n   * @param {Item} item\n   */\n  Group.prototype.removeFromDataSet = function (item) {\n    this.itemSet.removeItem(item.id);\n  };\n\n  /**\n   * Reorder the items\n   */\n  Group.prototype.order = function () {\n    var array = util.toArray(this.items);\n    var startArray = [];\n    var endArray = [];\n\n    for (var i = 0; i &lt; array.length; i++) {\n      if (array[i].data.end !== undefined) {\n        endArray.push(array[i]);\n      }\n      startArray.push(array[i]);\n    }\n    this.orderedItems = {\n      byStart: startArray,\n      byEnd: endArray\n    };\n\n    stack.orderByStart(this.orderedItems.byStart);\n    stack.orderByEnd(this.orderedItems.byEnd);\n  };\n\n  /**\n   * Update the visible items\n   * @param {{byStart: Item[], byEnd: Item[]}} orderedItems   All items ordered by start date and by end date\n   * @param {Item[]} visibleItems                             The previously visible items.\n   * @param {{start: number, end: number}} range              Visible range\n   * @return {Item[]} visibleItems                            The new visible items.\n   * @private\n   */\n  Group.prototype._updateVisibleItems = function (orderedItems, oldVisibleItems, range) {\n    var visibleItems = [];\n    var visibleItemsLookup = {}; // we keep this to quickly look up if an item already exists in the list without using indexOf on visibleItems\n    var interval = (range.end - range.start) / 4;\n    var lowerBound = range.start - interval;\n    var upperBound = range.end + interval;\n    var item, i;\n\n    // this function is used to do the binary search.\n    var searchFunction = function searchFunction(value) {\n      if (value &lt; lowerBound) {\n        return -1;\n      } else if (value &lt;= upperBound) {\n        return 0;\n      } else {\n        return 1;\n      }\n    };\n\n    // first check if the items that were in view previously are still in view.\n    // IMPORTANT: this handles the case for the items with startdate before the window and enddate after the window!\n    // also cleans up invisible items.\n    if (oldVisibleItems.length &gt; 0) {\n      for (i = 0; i &lt; oldVisibleItems.length; i++) {\n        this._checkIfVisibleWithReference(oldVisibleItems[i], visibleItems, visibleItemsLookup, range);\n      }\n    }\n\n    // we do a binary search for the items that have only start values.\n    var initialPosByStart = util.binarySearchCustom(orderedItems.byStart, searchFunction, 'data', 'start');\n\n    // trace the visible items from the inital start pos both ways until an invisible item is found, we only look at the start values.\n    this._traceVisible(initialPosByStart, orderedItems.byStart, visibleItems, visibleItemsLookup, function (item) {\n      return item.data.start &lt; lowerBound || item.data.start &gt; upperBound;\n    });\n\n    // if the window has changed programmatically without overlapping the old window, the ranged items with start &lt; lowerBound and end &gt; upperbound are not shown.\n    // We therefore have to brute force check all items in the byEnd list\n    if (this.checkRangedItems == true) {\n      this.checkRangedItems = false;\n      for (i = 0; i &lt; orderedItems.byEnd.length; i++) {\n        this._checkIfVisibleWithReference(orderedItems.byEnd[i], visibleItems, visibleItemsLookup, range);\n      }\n    } else {\n      // we do a binary search for the items that have defined end times.\n      var initialPosByEnd = util.binarySearchCustom(orderedItems.byEnd, searchFunction, 'data', 'end');\n\n      // trace the visible items from the inital start pos both ways until an invisible item is found, we only look at the end values.\n      this._traceVisible(initialPosByEnd, orderedItems.byEnd, visibleItems, visibleItemsLookup, function (item) {\n        return item.data.end &lt; lowerBound || item.data.end &gt; upperBound;\n      });\n    }\n\n    // finally, we reposition all the visible items.\n    for (i = 0; i &lt; visibleItems.length; i++) {\n      item = visibleItems[i];\n      if (!item.displayed) item.show();\n      // reposition item horizontally\n      item.repositionX();\n    }\n\n    // debug\n    //console.log(\&quot;new line\&quot;)\n    //if (this.groupId == null) {\n    //  for (i = 0; i &lt; orderedItems.byStart.length; i++) {\n    //    item = orderedItems.byStart[i].data;\n    //    console.log('start',i,initialPosByStart, item.start.valueOf(), item.content, item.start &gt;= lowerBound &amp;&amp; item.start &lt;= upperBound,i == initialPosByStart ? \&quot;&lt;------------------- HEREEEE\&quot; : \&quot;\&quot;)\n    //  }\n    //  for (i = 0; i &lt; orderedItems.byEnd.length; i++) {\n    //    item = orderedItems.byEnd[i].data;\n    //    console.log('rangeEnd',i,initialPosByEnd, item.end.valueOf(), item.content, item.end &gt;= range.start &amp;&amp; item.end &lt;= range.end,i == initialPosByEnd ? \&quot;&lt;------------------- HEREEEE\&quot; : \&quot;\&quot;)\n    //  }\n    //}\n\n    return visibleItems;\n  };\n\n  Group.prototype._traceVisible = function (initialPos, items, visibleItems, visibleItemsLookup, breakCondition) {\n    var item;\n    var i;\n\n    if (initialPos != -1) {\n      for (i = initialPos; i &gt;= 0; i--) {\n        item = items[i];\n        if (breakCondition(item)) {\n          break;\n        } else {\n          if (visibleItemsLookup[item.id] === undefined) {\n            visibleItemsLookup[item.id] = true;\n            visibleItems.push(item);\n          }\n        }\n      }\n\n      for (i = initialPos + 1; i &lt; items.length; i++) {\n        item = items[i];\n        if (breakCondition(item)) {\n          break;\n        } else {\n          if (visibleItemsLookup[item.id] === undefined) {\n            visibleItemsLookup[item.id] = true;\n            visibleItems.push(item);\n          }\n        }\n      }\n    }\n  };\n\n  /**\n   * this function is very similar to the _checkIfInvisible() but it does not\n   * return booleans, hides the item if it should not be seen and always adds to\n   * the visibleItems.\n   * this one is for brute forcing and hiding.\n   *\n   * @param {Item} item\n   * @param {Array} visibleItems\n   * @param {{start:number, end:number}} range\n   * @private\n   */\n  Group.prototype._checkIfVisible = function (item, visibleItems, range) {\n    if (item.isVisible(range)) {\n      if (!item.displayed) item.show();\n      // reposition item horizontally\n      item.repositionX();\n      visibleItems.push(item);\n    } else {\n      if (item.displayed) item.hide();\n    }\n  };\n\n  /**\n   * this function is very similar to the _checkIfInvisible() but it does not\n   * return booleans, hides the item if it should not be seen and always adds to\n   * the visibleItems.\n   * this one is for brute forcing and hiding.\n   *\n   * @param {Item} item\n   * @param {Array} visibleItems\n   * @param {{start:number, end:number}} range\n   * @private\n   */\n  Group.prototype._checkIfVisibleWithReference = function (item, visibleItems, visibleItemsLookup, range) {\n    if (item.isVisible(range)) {\n      if (visibleItemsLookup[item.id] === undefined) {\n        visibleItemsLookup[item.id] = true;\n        visibleItems.push(item);\n      }\n    } else {\n      if (item.displayed) item.hide();\n    }\n  };\n\n  module.exports = Group;\n\n/***/ },\n/* 31 */\n/***/ function(module, exports) {\n\n  // Utility functions for ordering and stacking of items\n  'use strict';\n\n  var EPSILON = 0.001; // used when checking collisions, to prevent round-off errors\n\n  /**\n   * Order items by their start data\n   * @param {Item[]} items\n   */\n  exports.orderByStart = function (items) {\n    items.sort(function (a, b) {\n      return a.data.start - b.data.start;\n    });\n  };\n\n  /**\n   * Order items by their end date. If they have no end date, their start date\n   * is used.\n   * @param {Item[]} items\n   */\n  exports.orderByEnd = function (items) {\n    items.sort(function (a, b) {\n      var aTime = 'end' in a.data ? a.data.end : a.data.start,\n          bTime = 'end' in b.data ? b.data.end : b.data.start;\n\n      return aTime - bTime;\n    });\n  };\n\n  /**\n   * Adjust vertical positions of the items such that they don't overlap each\n   * other.\n   * @param {Item[]} items\n   *            All visible items\n   * @param {{item: {horizontal: number, vertical: number}, axis: number}} margin\n   *            Margins between items and between items and the axis.\n   * @param {boolean} [force=false]\n   *            If true, all items will be repositioned. If false (default), only\n   *            items having a top===null will be re-stacked\n   */\n  exports.stack = function (items, margin, force) {\n    var i, iMax;\n\n    if (force) {\n      // reset top position of all items\n      for (i = 0, iMax = items.length; i &lt; iMax; i++) {\n        items[i].top = null;\n      }\n    }\n\n    // calculate new, non-overlapping positions\n    for (i = 0, iMax = items.length; i &lt; iMax; i++) {\n      var item = items[i];\n      if (item.stack &amp;&amp; item.top === null) {\n        // initialize top position\n        item.top = margin.axis;\n\n        do {\n          // TODO: optimize checking for overlap. when there is a gap without items,\n          //       you only need to check for items from the next item on, not from zero\n          var collidingItem = null;\n          for (var j = 0, jj = items.length; j &lt; jj; j++) {\n            var other = items[j];\n            if (other.top !== null &amp;&amp; other !== item &amp;&amp; other.stack &amp;&amp; exports.collision(item, other, margin.item)) {\n              collidingItem = other;\n              break;\n            }\n          }\n\n          if (collidingItem != null) {\n            // There is a collision. Reposition the items above the colliding element\n            item.top = collidingItem.top + collidingItem.height + margin.item.vertical;\n          }\n        } while (collidingItem);\n      }\n    }\n  };\n\n  /**\n   * Adjust vertical positions of the items without stacking them\n   * @param {Item[]} items\n   *            All visible items\n   * @param {{item: {horizontal: number, vertical: number}, axis: number}} margin\n   *            Margins between items and between items and the axis.\n   */\n  exports.nostack = function (items, margin, subgroups) {\n    var i, iMax, newTop;\n\n    // reset top position of all items\n    for (i = 0, iMax = items.length; i &lt; iMax; i++) {\n      if (items[i].data.subgroup !== undefined) {\n        newTop = margin.axis;\n        for (var subgroup in subgroups) {\n          if (subgroups.hasOwnProperty(subgroup)) {\n            if (subgroups[subgroup].visible == true &amp;&amp; subgroups[subgroup].index &lt; subgroups[items[i].data.subgroup].index) {\n              newTop += subgroups[subgroup].height + margin.item.vertical;\n            }\n          }\n        }\n        items[i].top = newTop;\n      } else {\n        items[i].top = margin.axis;\n      }\n    }\n  };\n\n  /**\n   * Test if the two provided items collide\n   * The items must have parameters left, width, top, and height.\n   * @param {Item} a          The first item\n   * @param {Item} b          The second item\n   * @param {{horizontal: number, vertical: number}} margin\n   *                          An object containing a horizontal and vertical\n   *                          minimum required margin.\n   * @return {boolean}        true if a and b collide, else false\n   */\n  exports.collision = function (a, b, margin) {\n    return a.left - margin.horizontal + EPSILON &lt; b.left + b.width &amp;&amp; a.left + a.width + margin.horizontal - EPSILON &gt; b.left &amp;&amp; a.top - margin.vertical + EPSILON &lt; b.top + b.height &amp;&amp; a.top + a.height + margin.vertical - EPSILON &gt; b.top;\n  };\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var Hammer = __webpack_require__(20);\n  var Item = __webpack_require__(33);\n\n  /**\n   * @constructor RangeItem\n   * @extends Item\n   * @param {Object} data             Object containing parameters start, end\n   *                                  content, className.\n   * @param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} [options]        Configuration options\n   *                                  // TODO: describe options\n   */\n  function RangeItem(data, conversion, options) {\n    this.props = {\n      content: {\n        width: 0\n      }\n    };\n    this.overflow = false; // if contents can overflow (css styling), this flag is set to true\n\n    // validate data\n    if (data) {\n      if (data.start == undefined) {\n        throw new Error('Property \&quot;start\&quot; missing in item ' + data.id);\n      }\n      if (data.end == undefined) {\n        throw new Error('Property \&quot;end\&quot; missing in item ' + data.id);\n      }\n    }\n\n    Item.call(this, data, conversion, options);\n  }\n\n  RangeItem.prototype = new Item(null, null, null);\n\n  RangeItem.prototype.baseClassName = 'vis-item vis-range';\n\n  /**\n   * Check whether this item is visible inside given range\n   * @returns {{start: Number, end: Number}} range with a timestamp for start and end\n   * @returns {boolean} True if visible\n   */\n  RangeItem.prototype.isVisible = function (range) {\n    // determine visibility\n    return this.data.start &lt; range.end &amp;&amp; this.data.end &gt; range.start;\n  };\n\n  /**\n   * Repaint the item\n   */\n  RangeItem.prototype.redraw = function () {\n    var dom = this.dom;\n    if (!dom) {\n      // create DOM\n      this.dom = {};\n      dom = this.dom;\n\n      // background box\n      dom.box = document.createElement('div');\n      // className is updated in redraw()\n\n      // frame box (to prevent the item contents from overflowing\n      dom.frame = document.createElement('div');\n      dom.frame.className = 'vis-item-overflow';\n      dom.box.appendChild(dom.frame);\n\n      // contents box\n      dom.content = document.createElement('div');\n      dom.content.className = 'vis-item-content';\n      dom.frame.appendChild(dom.content);\n\n      // attach this item as attribute\n      dom.box['timeline-item'] = this;\n\n      this.dirty = true;\n    }\n\n    // append DOM to parent DOM\n    if (!this.parent) {\n      throw new Error('Cannot redraw item: no parent attached');\n    }\n    if (!dom.box.parentNode) {\n      var foreground = this.parent.dom.foreground;\n      if (!foreground) {\n        throw new Error('Cannot redraw item: parent has no foreground container element');\n      }\n      foreground.appendChild(dom.box);\n    }\n    this.displayed = true;\n\n    // Update DOM when item is marked dirty. An item is marked dirty when:\n    // - the item is not yet rendered\n    // - the item's data is changed\n    // - the item is selected/deselected\n    if (this.dirty) {\n      this._updateContents(this.dom.content);\n      this._updateTitle(this.dom.box);\n      this._updateDataAttributes(this.dom.box);\n      this._updateStyle(this.dom.box);\n\n      var editable = (this.options.editable.updateTime || this.options.editable.updateGroup || this.editable === true) &amp;&amp; this.editable !== false;\n\n      // update class\n      var className = (this.data.className ? ' ' + this.data.className : '') + (this.selected ? ' vis-selected' : '') + (editable ? ' vis-editable' : ' vis-readonly');\n      dom.box.className = this.baseClassName + className;\n\n      // determine from css whether this box has overflow\n      this.overflow = window.getComputedStyle(dom.frame).overflow !== 'hidden';\n\n      // recalculate size\n      // turn off max-width to be able to calculate the real width\n      // this causes an extra browser repaint/reflow, but so be it\n      this.dom.content.style.maxWidth = 'none';\n      this.props.content.width = this.dom.content.offsetWidth;\n      this.height = this.dom.box.offsetHeight;\n      this.dom.content.style.maxWidth = '';\n\n      this.dirty = false;\n    }\n\n    this._repaintDeleteButton(dom.box);\n    this._repaintDragLeft();\n    this._repaintDragRight();\n  };\n\n  /**\n   * Show the item in the DOM (when not already visible). The items DOM will\n   * be created when needed.\n   */\n  RangeItem.prototype.show = function () {\n    if (!this.displayed) {\n      this.redraw();\n    }\n  };\n\n  /**\n   * Hide the item from the DOM (when visible)\n   * @return {Boolean} changed\n   */\n  RangeItem.prototype.hide = function () {\n    if (this.displayed) {\n      var box = this.dom.box;\n\n      if (box.parentNode) {\n        box.parentNode.removeChild(box);\n      }\n\n      this.displayed = false;\n    }\n  };\n\n  /**\n   * Reposition the item horizontally\n   * @param {boolean} [limitSize=true] If true (default), the width of the range\n   *                                   item will be limited, as the browser cannot\n   *                                   display very wide divs. This means though\n   *                                   that the applied left and width may\n   *                                   not correspond to the ranges start and end\n   * @Override\n   */\n  RangeItem.prototype.repositionX = function (limitSize) {\n    var parentWidth = this.parent.width;\n    var start = this.conversion.toScreen(this.data.start);\n    var end = this.conversion.toScreen(this.data.end);\n    var contentLeft;\n    var contentWidth;\n\n    // limit the width of the range, as browsers cannot draw very wide divs\n    if (limitSize === undefined || limitSize === true) {\n      if (start &lt; -parentWidth) {\n        start = -parentWidth;\n      }\n      if (end &gt; 2 * parentWidth) {\n        end = 2 * parentWidth;\n      }\n    }\n    var boxWidth = Math.max(end - start, 1);\n\n    if (this.overflow) {\n      this.left = start;\n      this.width = boxWidth + this.props.content.width;\n      contentWidth = this.props.content.width;\n\n      // Note: The calculation of width is an optimistic calculation, giving\n      //       a width which will not change when moving the Timeline\n      //       So no re-stacking needed, which is nicer for the eye;\n    } else {\n        this.left = start;\n        this.width = boxWidth;\n        contentWidth = Math.min(end - start, this.props.content.width);\n      }\n\n    this.dom.box.style.left = this.left + 'px';\n    this.dom.box.style.width = boxWidth + 'px';\n\n    switch (this.options.align) {\n      case 'left':\n        this.dom.content.style.left = '0';\n        break;\n\n      case 'right':\n        this.dom.content.style.left = Math.max(boxWidth - contentWidth, 0) + 'px';\n        break;\n\n      case 'center':\n        this.dom.content.style.left = Math.max((boxWidth - contentWidth) / 2, 0) + 'px';\n        break;\n\n      default:\n        // 'auto'\n        // when range exceeds left of the window, position the contents at the left of the visible area\n        if (this.overflow) {\n          if (end &gt; 0) {\n            contentLeft = Math.max(-start, 0);\n          } else {\n            contentLeft = -contentWidth; // ensure it's not visible anymore\n          }\n        } else {\n            if (start &lt; 0) {\n              contentLeft = -start;\n            } else {\n              contentLeft = 0;\n            }\n          }\n        this.dom.content.style.left = contentLeft + 'px';\n    }\n  };\n\n  /**\n   * Reposition the item vertically\n   * @Override\n   */\n  RangeItem.prototype.repositionY = function () {\n    var orientation = this.options.orientation.item;\n    var box = this.dom.box;\n\n    if (orientation == 'top') {\n      box.style.top = this.top + 'px';\n    } else {\n      box.style.top = this.parent.height - this.top - this.height + 'px';\n    }\n  };\n\n  /**\n   * Repaint a drag area on the left side of the range when the range is selected\n   * @protected\n   */\n  RangeItem.prototype._repaintDragLeft = function () {\n    if (this.selected &amp;&amp; this.options.editable.updateTime &amp;&amp; !this.dom.dragLeft) {\n      // create and show drag area\n      var dragLeft = document.createElement('div');\n      dragLeft.className = 'vis-drag-left';\n      dragLeft.dragLeftItem = this;\n\n      this.dom.box.appendChild(dragLeft);\n      this.dom.dragLeft = dragLeft;\n    } else if (!this.selected &amp;&amp; this.dom.dragLeft) {\n      // delete drag area\n      if (this.dom.dragLeft.parentNode) {\n        this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft);\n      }\n      this.dom.dragLeft = null;\n    }\n  };\n\n  /**\n   * Repaint a drag area on the right side of the range when the range is selected\n   * @protected\n   */\n  RangeItem.prototype._repaintDragRight = function () {\n    if (this.selected &amp;&amp; this.options.editable.updateTime &amp;&amp; !this.dom.dragRight) {\n      // create and show drag area\n      var dragRight = document.createElement('div');\n      dragRight.className = 'vis-drag-right';\n      dragRight.dragRightItem = this;\n\n      this.dom.box.appendChild(dragRight);\n      this.dom.dragRight = dragRight;\n    } else if (!this.selected &amp;&amp; this.dom.dragRight) {\n      // delete drag area\n      if (this.dom.dragRight.parentNode) {\n        this.dom.dragRight.parentNode.removeChild(this.dom.dragRight);\n      }\n      this.dom.dragRight = null;\n    }\n  };\n\n  module.exports = RangeItem;\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var Hammer = __webpack_require__(20);\n  var util = __webpack_require__(1);\n\n  /**\n   * @constructor Item\n   * @param {Object} data             Object containing (optional) parameters type,\n   *                                  start, end, content, group, className.\n   * @param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} options          Configuration options\n   *                                  // TODO: describe available options\n   */\n  function Item(data, conversion, options) {\n    this.id = null;\n    this.parent = null;\n    this.data = data;\n    this.dom = null;\n    this.conversion = conversion || {};\n    this.options = options || {};\n\n    this.selected = false;\n    this.displayed = false;\n    this.dirty = true;\n\n    this.top = null;\n    this.left = null;\n    this.width = null;\n    this.height = null;\n\n    this.editable = null;\n    if (this.data &amp;&amp; this.data.hasOwnProperty('editable') &amp;&amp; typeof this.data.editable === 'boolean') {\n      this.editable = data.editable;\n    }\n  }\n\n  Item.prototype.stack = true;\n\n  /**\n   * Select current item\n   */\n  Item.prototype.select = function () {\n    this.selected = true;\n    this.dirty = true;\n    if (this.displayed) this.redraw();\n  };\n\n  /**\n   * Unselect current item\n   */\n  Item.prototype.unselect = function () {\n    this.selected = false;\n    this.dirty = true;\n    if (this.displayed) this.redraw();\n  };\n\n  /**\n   * Set data for the item. Existing data will be updated. The id should not\n   * be changed. When the item is displayed, it will be redrawn immediately.\n   * @param {Object} data\n   */\n  Item.prototype.setData = function (data) {\n    var groupChanged = data.group != undefined &amp;&amp; this.data.group != data.group;\n    if (groupChanged) {\n      this.parent.itemSet._moveToGroup(this, data.group);\n    }\n\n    if (data.hasOwnProperty('editable') &amp;&amp; typeof data.editable === 'boolean') {\n      this.editable = data.editable;\n    }\n\n    this.data = data;\n    this.dirty = true;\n    if (this.displayed) this.redraw();\n  };\n\n  /**\n   * Set a parent for the item\n   * @param {ItemSet | Group} parent\n   */\n  Item.prototype.setParent = function (parent) {\n    if (this.displayed) {\n      this.hide();\n      this.parent = parent;\n      if (this.parent) {\n        this.show();\n      }\n    } else {\n      this.parent = parent;\n    }\n  };\n\n  /**\n   * Check whether this item is visible inside given range\n   * @returns {{start: Number, end: Number}} range with a timestamp for start and end\n   * @returns {boolean} True if visible\n   */\n  Item.prototype.isVisible = function (range) {\n    // Should be implemented by Item implementations\n    return false;\n  };\n\n  /**\n   * Show the Item in the DOM (when not already visible)\n   * @return {Boolean} changed\n   */\n  Item.prototype.show = function () {\n    return false;\n  };\n\n  /**\n   * Hide the Item from the DOM (when visible)\n   * @return {Boolean} changed\n   */\n  Item.prototype.hide = function () {\n    return false;\n  };\n\n  /**\n   * Repaint the item\n   */\n  Item.prototype.redraw = function () {\n    // should be implemented by the item\n  };\n\n  /**\n   * Reposition the Item horizontally\n   */\n  Item.prototype.repositionX = function () {\n    // should be implemented by the item\n  };\n\n  /**\n   * Reposition the Item vertically\n   */\n  Item.prototype.repositionY = function () {\n    // should be implemented by the item\n  };\n\n  /**\n   * Repaint a delete button on the top right of the item when the item is selected\n   * @param {HTMLElement} anchor\n   * @protected\n   */\n  Item.prototype._repaintDeleteButton = function (anchor) {\n    var editable = (this.options.editable.remove || this.data.editable === true) &amp;&amp; this.data.editable !== false;\n\n    if (this.selected &amp;&amp; editable &amp;&amp; !this.dom.deleteButton) {\n      // create and show button\n      var me = this;\n\n      var deleteButton = document.createElement('div');\n      deleteButton.className = 'vis-delete';\n      deleteButton.title = 'Delete this item';\n\n      // TODO: be able to destroy the delete button\n      new Hammer(deleteButton).on('tap', function (event) {\n        event.stopPropagation();\n        me.parent.removeFromDataSet(me);\n      });\n\n      anchor.appendChild(deleteButton);\n      this.dom.deleteButton = deleteButton;\n    } else if (!this.selected &amp;&amp; this.dom.deleteButton) {\n      // remove button\n      if (this.dom.deleteButton.parentNode) {\n        this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton);\n      }\n      this.dom.deleteButton = null;\n    }\n  };\n\n  /**\n   * Set HTML contents for the item\n   * @param {Element} element   HTML element to fill with the contents\n   * @private\n   */\n  Item.prototype._updateContents = function (element) {\n    var content;\n    if (this.options.template) {\n      var itemData = this.parent.itemSet.itemsData.get(this.id); // get a clone of the data from the dataset\n      content = this.options.template(itemData);\n    } else {\n      content = this.data.content;\n    }\n\n    var changed = this._contentToString(this.content) !== this._contentToString(content);\n    if (changed) {\n      // only replace the content when changed\n      if (content instanceof Element) {\n        element.innerHTML = '';\n        element.appendChild(content);\n      } else if (content != undefined) {\n        element.innerHTML = content;\n      } else {\n        if (!(this.data.type == 'background' &amp;&amp; this.data.content === undefined)) {\n          throw new Error('Property \&quot;content\&quot; missing in item ' + this.id);\n        }\n      }\n\n      this.content = content;\n    }\n  };\n\n  /**\n   * Set HTML contents for the item\n   * @param {Element} element   HTML element to fill with the contents\n   * @private\n   */\n  Item.prototype._updateTitle = function (element) {\n    if (this.data.title != null) {\n      element.title = this.data.title || '';\n    } else {\n      element.removeAttribute('vis-title');\n    }\n  };\n\n  /**\n   * Process dataAttributes timeline option and set as data- attributes on dom.content\n   * @param {Element} element   HTML element to which the attributes will be attached\n   * @private\n   */\n  Item.prototype._updateDataAttributes = function (element) {\n    if (this.options.dataAttributes &amp;&amp; this.options.dataAttributes.length &gt; 0) {\n      var attributes = [];\n\n      if (Array.isArray(this.options.dataAttributes)) {\n        attributes = this.options.dataAttributes;\n      } else if (this.options.dataAttributes == 'all') {\n        attributes = Object.keys(this.data);\n      } else {\n        return;\n      }\n\n      for (var i = 0; i &lt; attributes.length; i++) {\n        var name = attributes[i];\n        var value = this.data[name];\n\n        if (value != null) {\n          element.setAttribute('data-' + name, value);\n        } else {\n          element.removeAttribute('data-' + name);\n        }\n      }\n    }\n  };\n\n  /**\n   * Update custom styles of the element\n   * @param element\n   * @private\n   */\n  Item.prototype._updateStyle = function (element) {\n    // remove old styles\n    if (this.style) {\n      util.removeCssText(element, this.style);\n      this.style = null;\n    }\n\n    // append new styles\n    if (this.data.style) {\n      util.addCssText(element, this.data.style);\n      this.style = this.data.style;\n    }\n  };\n\n  /**\n   * Stringify the items contents\n   * @param {string | Element | undefined} content\n   * @returns {string | undefined}\n   * @private\n   */\n  Item.prototype._contentToString = function (content) {\n    if (typeof content === 'string') return content;\n    if (content &amp;&amp; 'outerHTML' in content) return content.outerHTML;\n    return content;\n  };\n\n  /**\n   * Return the width of the item left from its start date\n   * @return {number}\n   */\n  Item.prototype.getWidthLeft = function () {\n    return 0;\n  };\n\n  /**\n   * Return the width of the item right from the max of its start and end date\n   * @return {number}\n   */\n  Item.prototype.getWidthRight = function () {\n    return 0;\n  };\n\n  module.exports = Item;\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var util = __webpack_require__(1);\n  var Group = __webpack_require__(30);\n\n  /**\n   * @constructor BackgroundGroup\n   * @param {Number | String} groupId\n   * @param {Object} data\n   * @param {ItemSet} itemSet\n   */\n  function BackgroundGroup(groupId, data, itemSet) {\n    Group.call(this, groupId, data, itemSet);\n\n    this.width = 0;\n    this.height = 0;\n    this.top = 0;\n    this.left = 0;\n  }\n\n  BackgroundGroup.prototype = Object.create(Group.prototype);\n\n  /**\n   * Repaint this group\n   * @param {{start: number, end: number}} range\n   * @param {{item: {horizontal: number, vertical: number}, axis: number}} margin\n   * @param {boolean} [restack=false]  Force restacking of all items\n   * @return {boolean} Returns true if the group is resized\n   */\n  BackgroundGroup.prototype.redraw = function (range, margin, restack) {\n    var resized = false;\n\n    this.visibleItems = this._updateVisibleItems(this.orderedItems, this.visibleItems, range);\n\n    // calculate actual size\n    this.width = this.dom.background.offsetWidth;\n\n    // apply new height (just always zero for BackgroundGroup\n    this.dom.background.style.height = '0';\n\n    // update vertical position of items after they are re-stacked and the height of the group is calculated\n    for (var i = 0, ii = this.visibleItems.length; i &lt; ii; i++) {\n      var item = this.visibleItems[i];\n      item.repositionY(margin);\n    }\n\n    return resized;\n  };\n\n  /**\n   * Show this group: attach to the DOM\n   */\n  BackgroundGroup.prototype.show = function () {\n    if (!this.dom.background.parentNode) {\n      this.itemSet.dom.background.appendChild(this.dom.background);\n    }\n  };\n\n  module.exports = BackgroundGroup;\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var Item = __webpack_require__(33);\n  var util = __webpack_require__(1);\n\n  /**\n   * @constructor BoxItem\n   * @extends Item\n   * @param {Object} data             Object containing parameters start\n   *                                  content, className.\n   * @param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} [options]        Configuration options\n   *                                  // TODO: describe available options\n   */\n  function BoxItem(data, conversion, options) {\n    this.props = {\n      dot: {\n        width: 0,\n        height: 0\n      },\n      line: {\n        width: 0,\n        height: 0\n      }\n    };\n\n    // validate data\n    if (data) {\n      if (data.start == undefined) {\n        throw new Error('Property \&quot;start\&quot; missing in item ' + data);\n      }\n    }\n\n    Item.call(this, data, conversion, options);\n  }\n\n  BoxItem.prototype = new Item(null, null, null);\n\n  /**\n   * Check whether this item is visible inside given range\n   * @returns {{start: Number, end: Number}} range with a timestamp for start and end\n   * @returns {boolean} True if visible\n   */\n  BoxItem.prototype.isVisible = function (range) {\n    // determine visibility\n    // TODO: account for the real width of the item. Right now we just add 1/4 to the window\n    var interval = (range.end - range.start) / 4;\n    return this.data.start &gt; range.start - interval &amp;&amp; this.data.start &lt; range.end + interval;\n  };\n\n  /**\n   * Repaint the item\n   */\n  BoxItem.prototype.redraw = function () {\n    var dom = this.dom;\n    if (!dom) {\n      // create DOM\n      this.dom = {};\n      dom = this.dom;\n\n      // create main box\n      dom.box = document.createElement('DIV');\n\n      // contents box (inside the background box). used for making margins\n      dom.content = document.createElement('DIV');\n      dom.content.className = 'vis-item-content';\n      dom.box.appendChild(dom.content);\n\n      // line to axis\n      dom.line = document.createElement('DIV');\n      dom.line.className = 'vis-line';\n\n      // dot on axis\n      dom.dot = document.createElement('DIV');\n      dom.dot.className = 'vis-dot';\n\n      // attach this item as attribute\n      dom.box['timeline-item'] = this;\n\n      this.dirty = true;\n    }\n\n    // append DOM to parent DOM\n    if (!this.parent) {\n      throw new Error('Cannot redraw item: no parent attached');\n    }\n    if (!dom.box.parentNode) {\n      var foreground = this.parent.dom.foreground;\n      if (!foreground) throw new Error('Cannot redraw item: parent has no foreground container element');\n      foreground.appendChild(dom.box);\n    }\n    if (!dom.line.parentNode) {\n      var background = this.parent.dom.background;\n      if (!background) throw new Error('Cannot redraw item: parent has no background container element');\n      background.appendChild(dom.line);\n    }\n    if (!dom.dot.parentNode) {\n      var axis = this.parent.dom.axis;\n      if (!background) throw new Error('Cannot redraw item: parent has no axis container element');\n      axis.appendChild(dom.dot);\n    }\n    this.displayed = true;\n\n    // Update DOM when item is marked dirty. An item is marked dirty when:\n    // - the item is not yet rendered\n    // - the item's data is changed\n    // - the item is selected/deselected\n    if (this.dirty) {\n      this._updateContents(this.dom.content);\n      this._updateTitle(this.dom.box);\n      this._updateDataAttributes(this.dom.box);\n      this._updateStyle(this.dom.box);\n\n      var editable = (this.options.editable.updateTime || this.options.editable.updateGroup || this.editable === true) &amp;&amp; this.editable !== false;\n\n      // update class\n      var className = (this.data.className ? ' ' + this.data.className : '') + (this.selected ? ' vis-selected' : '') + (editable ? ' vis-editable' : ' vis-readonly');\n      dom.box.className = 'vis-item vis-box' + className;\n      dom.line.className = 'vis-item vis-line' + className;\n      dom.dot.className = 'vis-item vis-dot' + className;\n\n      // recalculate size\n      this.props.dot.height = dom.dot.offsetHeight;\n      this.props.dot.width = dom.dot.offsetWidth;\n      this.props.line.width = dom.line.offsetWidth;\n      this.width = dom.box.offsetWidth;\n      this.height = dom.box.offsetHeight;\n\n      this.dirty = false;\n    }\n\n    this._repaintDeleteButton(dom.box);\n  };\n\n  /**\n   * Show the item in the DOM (when not already displayed). The items DOM will\n   * be created when needed.\n   */\n  BoxItem.prototype.show = function () {\n    if (!this.displayed) {\n      this.redraw();\n    }\n  };\n\n  /**\n   * Hide the item from the DOM (when visible)\n   */\n  BoxItem.prototype.hide = function () {\n    if (this.displayed) {\n      var dom = this.dom;\n\n      if (dom.box.parentNode) dom.box.parentNode.removeChild(dom.box);\n      if (dom.line.parentNode) dom.line.parentNode.removeChild(dom.line);\n      if (dom.dot.parentNode) dom.dot.parentNode.removeChild(dom.dot);\n\n      this.displayed = false;\n    }\n  };\n\n  /**\n   * Reposition the item horizontally\n   * @Override\n   */\n  BoxItem.prototype.repositionX = function () {\n    var start = this.conversion.toScreen(this.data.start);\n    var align = this.options.align;\n    var left;\n\n    // calculate left position of the box\n    if (align == 'right') {\n      this.left = start - this.width;\n    } else if (align == 'left') {\n      this.left = start;\n    } else {\n      // default or 'center'\n      this.left = start - this.width / 2;\n    }\n\n    // reposition box\n    this.dom.box.style.left = this.left + 'px';\n\n    // reposition line\n    this.dom.line.style.left = start - this.props.line.width / 2 + 'px';\n\n    // reposition dot\n    this.dom.dot.style.left = start - this.props.dot.width / 2 + 'px';\n  };\n\n  /**\n   * Reposition the item vertically\n   * @Override\n   */\n  BoxItem.prototype.repositionY = function () {\n    var orientation = this.options.orientation.item;\n    var box = this.dom.box;\n    var line = this.dom.line;\n    var dot = this.dom.dot;\n\n    if (orientation == 'top') {\n      box.style.top = (this.top || 0) + 'px';\n\n      line.style.top = '0';\n      line.style.height = this.parent.top + this.top + 1 + 'px';\n      line.style.bottom = '';\n    } else {\n      // orientation 'bottom'\n      var itemSetHeight = this.parent.itemSet.props.height; // TODO: this is nasty\n      var lineHeight = itemSetHeight - this.parent.top - this.parent.height + this.top;\n\n      box.style.top = (this.parent.height - this.top - this.height || 0) + 'px';\n      line.style.top = itemSetHeight - lineHeight + 'px';\n      line.style.bottom = '0';\n    }\n\n    dot.style.top = -this.props.dot.height / 2 + 'px';\n  };\n\n  /**\n   * Return the width of the item left from its start date\n   * @return {number}\n   */\n  BoxItem.prototype.getWidthLeft = function () {\n    return this.width / 2;\n  };\n\n  /**\n   * Return the width of the item right from its start date\n   * @return {number}\n   */\n  BoxItem.prototype.getWidthRight = function () {\n    return this.width / 2;\n  };\n\n  module.exports = BoxItem;\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var Item = __webpack_require__(33);\n\n  /**\n   * @constructor PointItem\n   * @extends Item\n   * @param {Object} data             Object containing parameters start\n   *                                  content, className.\n   * @param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} [options]        Configuration options\n   *                                  // TODO: describe available options\n   */\n  function PointItem(data, conversion, options) {\n    this.props = {\n      dot: {\n        top: 0,\n        width: 0,\n        height: 0\n      },\n      content: {\n        height: 0,\n        marginLeft: 0\n      }\n    };\n\n    // validate data\n    if (data) {\n      if (data.start == undefined) {\n        throw new Error('Property \&quot;start\&quot; missing in item ' + data);\n      }\n    }\n\n    Item.call(this, data, conversion, options);\n  }\n\n  PointItem.prototype = new Item(null, null, null);\n\n  /**\n   * Check whether this item is visible inside given range\n   * @returns {{start: Number, end: Number}} range with a timestamp for start and end\n   * @returns {boolean} True if visible\n   */\n  PointItem.prototype.isVisible = function (range) {\n    // determine visibility\n    // TODO: account for the real width of the item. Right now we just add 1/4 to the window\n    var interval = (range.end - range.start) / 4;\n    return this.data.start &gt; range.start - interval &amp;&amp; this.data.start &lt; range.end + interval;\n  };\n\n  /**\n   * Repaint the item\n   */\n  PointItem.prototype.redraw = function () {\n    var dom = this.dom;\n    if (!dom) {\n      // create DOM\n      this.dom = {};\n      dom = this.dom;\n\n      // background box\n      dom.point = document.createElement('div');\n      // className is updated in redraw()\n\n      // contents box, right from the dot\n      dom.content = document.createElement('div');\n      dom.content.className = 'vis-item-content';\n      dom.point.appendChild(dom.content);\n\n      // dot at start\n      dom.dot = document.createElement('div');\n      dom.point.appendChild(dom.dot);\n\n      // attach this item as attribute\n      dom.point['timeline-item'] = this;\n\n      this.dirty = true;\n    }\n\n    // append DOM to parent DOM\n    if (!this.parent) {\n      throw new Error('Cannot redraw item: no parent attached');\n    }\n    if (!dom.point.parentNode) {\n      var foreground = this.parent.dom.foreground;\n      if (!foreground) {\n        throw new Error('Cannot redraw item: parent has no foreground container element');\n      }\n      foreground.appendChild(dom.point);\n    }\n    this.displayed = true;\n\n    // Update DOM when item is marked dirty. An item is marked dirty when:\n    // - the item is not yet rendered\n    // - the item's data is changed\n    // - the item is selected/deselected\n    if (this.dirty) {\n      this._updateContents(this.dom.content);\n      this._updateTitle(this.dom.point);\n      this._updateDataAttributes(this.dom.point);\n      this._updateStyle(this.dom.point);\n\n      var editable = (this.options.editable.updateTime || this.options.editable.updateGroup || this.editable === true) &amp;&amp; this.editable !== false;\n\n      // update class\n      var className = (this.data.className ? ' ' + this.data.className : '') + (this.selected ? ' vis-selected' : '') + (editable ? ' vis-editable' : ' vis-readonly');\n      dom.point.className = 'vis-item vis-point' + className;\n      dom.dot.className = 'vis-item vis-dot' + className;\n\n      // recalculate size of dot and contents\n      this.props.dot.width = dom.dot.offsetWidth;\n      this.props.dot.height = dom.dot.offsetHeight;\n      this.props.content.height = dom.content.offsetHeight;\n\n      // resize contents\n      dom.content.style.marginLeft = 2 * this.props.dot.width + 'px';\n      //dom.content.style.marginRight = ... + 'px'; // TODO: margin right\n\n      // recalculate size\n      this.width = dom.point.offsetWidth;\n      this.height = dom.point.offsetHeight;\n\n      // reposition the dot\n      dom.dot.style.top = (this.height - this.props.dot.height) / 2 + 'px';\n      dom.dot.style.left = this.props.dot.width / 2 + 'px';\n\n      this.dirty = false;\n    }\n\n    this._repaintDeleteButton(dom.point);\n  };\n\n  /**\n   * Show the item in the DOM (when not already visible). The items DOM will\n   * be created when needed.\n   */\n  PointItem.prototype.show = function () {\n    if (!this.displayed) {\n      this.redraw();\n    }\n  };\n\n  /**\n   * Hide the item from the DOM (when visible)\n   */\n  PointItem.prototype.hide = function () {\n    if (this.displayed) {\n      if (this.dom.point.parentNode) {\n        this.dom.point.parentNode.removeChild(this.dom.point);\n      }\n\n      this.displayed = false;\n    }\n  };\n\n  /**\n   * Reposition the item horizontally\n   * @Override\n   */\n  PointItem.prototype.repositionX = function () {\n    var start = this.conversion.toScreen(this.data.start);\n\n    this.left = start - this.props.dot.width;\n\n    // reposition point\n    this.dom.point.style.left = this.left + 'px';\n  };\n\n  /**\n   * Reposition the item vertically\n   * @Override\n   */\n  PointItem.prototype.repositionY = function () {\n    var orientation = this.options.orientation.item;\n    var point = this.dom.point;\n\n    if (orientation == 'top') {\n      point.style.top = this.top + 'px';\n    } else {\n      point.style.top = this.parent.height - this.top - this.height + 'px';\n    }\n  };\n\n  /**\n   * Return the width of the item left from its start date\n   * @return {number}\n   */\n  PointItem.prototype.getWidthLeft = function () {\n    return this.props.dot.width;\n  };\n\n  /**\n   * Return the width of the item right from  its start date\n   * @return {number}\n   */\n  PointItem.prototype.getWidthRight = function () {\n    return this.width - this.props.dot.width;\n  };\n\n  module.exports = PointItem;\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var Hammer = __webpack_require__(20);\n  var Item = __webpack_require__(33);\n  var BackgroundGroup = __webpack_require__(34);\n  var RangeItem = __webpack_require__(32);\n\n  /**\n   * @constructor BackgroundItem\n   * @extends Item\n   * @param {Object} data             Object containing parameters start, end\n   *                                  content, className.\n   * @param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} [options]        Configuration options\n   *                                  // TODO: describe options\n   */\n  // TODO: implement support for the BackgroundItem just having a start, then being displayed as a sort of an annotation\n  function BackgroundItem(data, conversion, options) {\n    this.props = {\n      content: {\n        width: 0\n      }\n    };\n    this.overflow = false; // if contents can overflow (css styling), this flag is set to true\n\n    // validate data\n    if (data) {\n      if (data.start == undefined) {\n        throw new Error('Property \&quot;start\&quot; missing in item ' + data.id);\n      }\n      if (data.end == undefined) {\n        throw new Error('Property \&quot;end\&quot; missing in item ' + data.id);\n      }\n    }\n\n    Item.call(this, data, conversion, options);\n  }\n\n  BackgroundItem.prototype = new Item(null, null, null);\n\n  BackgroundItem.prototype.baseClassName = 'vis-item vis-background';\n  BackgroundItem.prototype.stack = false;\n\n  /**\n   * Check whether this item is visible inside given range\n   * @returns {{start: Number, end: Number}} range with a timestamp for start and end\n   * @returns {boolean} True if visible\n   */\n  BackgroundItem.prototype.isVisible = function (range) {\n    // determine visibility\n    return this.data.start &lt; range.end &amp;&amp; this.data.end &gt; range.start;\n  };\n\n  /**\n   * Repaint the item\n   */\n  BackgroundItem.prototype.redraw = function () {\n    var dom = this.dom;\n    if (!dom) {\n      // create DOM\n      this.dom = {};\n      dom = this.dom;\n\n      // background box\n      dom.box = document.createElement('div');\n      // className is updated in redraw()\n\n      // frame box (to prevent the item contents from overflowing\n      dom.frame = document.createElement('div');\n      dom.frame.className = 'vis-item-overflow';\n      dom.box.appendChild(dom.frame);\n\n      // contents box\n      dom.content = document.createElement('div');\n      dom.content.className = 'vis-item-content';\n      dom.frame.appendChild(dom.content);\n\n      // Note: we do NOT attach this item as attribute to the DOM,\n      //       such that background items cannot be selected\n      //dom.box['timeline-item'] = this;\n\n      this.dirty = true;\n    }\n\n    // append DOM to parent DOM\n    if (!this.parent) {\n      throw new Error('Cannot redraw item: no parent attached');\n    }\n    if (!dom.box.parentNode) {\n      var background = this.parent.dom.background;\n      if (!background) {\n        throw new Error('Cannot redraw item: parent has no background container element');\n      }\n      background.appendChild(dom.box);\n    }\n    this.displayed = true;\n\n    // Update DOM when item is marked dirty. An item is marked dirty when:\n    // - the item is not yet rendered\n    // - the item's data is changed\n    // - the item is selected/deselected\n    if (this.dirty) {\n      this._updateContents(this.dom.content);\n      this._updateTitle(this.dom.content);\n      this._updateDataAttributes(this.dom.content);\n      this._updateStyle(this.dom.box);\n\n      // update class\n      var className = (this.data.className ? ' ' + this.data.className : '') + (this.selected ? ' vis-selected' : '');\n      dom.box.className = this.baseClassName + className;\n\n      // determine from css whether this box has overflow\n      this.overflow = window.getComputedStyle(dom.content).overflow !== 'hidden';\n\n      // recalculate size\n      this.props.content.width = this.dom.content.offsetWidth;\n      this.height = 0; // set height zero, so this item will be ignored when stacking items\n\n      this.dirty = false;\n    }\n  };\n\n  /**\n   * Show the item in the DOM (when not already visible). The items DOM will\n   * be created when needed.\n   */\n  BackgroundItem.prototype.show = RangeItem.prototype.show;\n\n  /**\n   * Hide the item from the DOM (when visible)\n   * @return {Boolean} changed\n   */\n  BackgroundItem.prototype.hide = RangeItem.prototype.hide;\n\n  /**\n   * Reposition the item horizontally\n   * @Override\n   */\n  BackgroundItem.prototype.repositionX = RangeItem.prototype.repositionX;\n\n  /**\n   * Reposition the item vertically\n   * @Override\n   */\n  BackgroundItem.prototype.repositionY = function (margin) {\n    var onTop = this.options.orientation.item === 'top';\n    this.dom.content.style.top = onTop ? '' : '0';\n    this.dom.content.style.bottom = onTop ? '0' : '';\n    var height;\n\n    // special positioning for subgroups\n    if (this.data.subgroup !== undefined) {\n      // TODO: instead of calculating the top position of the subgroups here for every BackgroundItem, calculate the top of the subgroup once in Itemset\n\n      var itemSubgroup = this.data.subgroup;\n      var subgroups = this.parent.subgroups;\n      var subgroupIndex = subgroups[itemSubgroup].index;\n      // if the orientation is top, we need to take the difference in height into account.\n      if (onTop == true) {\n        // the first subgroup will have to account for the distance from the top to the first item.\n        height = this.parent.subgroups[itemSubgroup].height + margin.item.vertical;\n        height += subgroupIndex == 0 ? margin.axis - 0.5 * margin.item.vertical : 0;\n        var newTop = this.parent.top;\n        for (var subgroup in subgroups) {\n          if (subgroups.hasOwnProperty(subgroup)) {\n            if (subgroups[subgroup].visible == true &amp;&amp; subgroups[subgroup].index &lt; subgroupIndex) {\n              newTop += subgroups[subgroup].height + margin.item.vertical;\n            }\n          }\n        }\n\n        // the others will have to be offset downwards with this same distance.\n        newTop += subgroupIndex != 0 ? margin.axis - 0.5 * margin.item.vertical : 0;\n        this.dom.box.style.top = newTop + 'px';\n        this.dom.box.style.bottom = '';\n      }\n      // and when the orientation is bottom:\n      else {\n          var newTop = this.parent.top;\n          var totalHeight = 0;\n          for (var subgroup in subgroups) {\n            if (subgroups.hasOwnProperty(subgroup)) {\n              if (subgroups[subgroup].visible == true) {\n                var newHeight = subgroups[subgroup].height + margin.item.vertical;\n                totalHeight += newHeight;\n                if (subgroups[subgroup].index &gt; subgroupIndex) {\n                  newTop += newHeight;\n                }\n              }\n            }\n          }\n          height = this.parent.subgroups[itemSubgroup].height + margin.item.vertical;\n          this.dom.box.style.top = this.parent.height - totalHeight + newTop + 'px';\n          this.dom.box.style.bottom = '';\n        }\n    }\n    // and in the case of no subgroups:\n    else {\n        // we want backgrounds with groups to only show in groups.\n        if (this.parent instanceof BackgroundGroup) {\n          // if the item is not in a group:\n          height = Math.max(this.parent.height, this.parent.itemSet.body.domProps.center.height, this.parent.itemSet.body.domProps.centerContainer.height);\n          this.dom.box.style.top = onTop ? '0' : '';\n          this.dom.box.style.bottom = onTop ? '' : '0';\n        } else {\n          height = this.parent.height;\n          // same alignment for items when orientation is top or bottom\n          this.dom.box.style.top = this.parent.top + 'px';\n          this.dom.box.style.bottom = '';\n        }\n      }\n    this.dom.box.style.height = height + 'px';\n  };\n\n  module.exports = BackgroundItem;\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var util = __webpack_require__(1);\n  var Component = __webpack_require__(25);\n  var TimeStep = __webpack_require__(29);\n  var DateUtil = __webpack_require__(26);\n  var moment = __webpack_require__(2);\n\n  /**\n   * A horizontal time axis\n   * @param {{dom: Object, domProps: Object, emitter: Emitter, range: Range}} body\n   * @param {Object} [options]        See TimeAxis.setOptions for the available\n   *                                  options.\n   * @constructor TimeAxis\n   * @extends Component\n   */\n  function TimeAxis(body, options) {\n    this.dom = {\n      foreground: null,\n      lines: [],\n      majorTexts: [],\n      minorTexts: [],\n      redundant: {\n        lines: [],\n        majorTexts: [],\n        minorTexts: []\n      }\n    };\n    this.props = {\n      range: {\n        start: 0,\n        end: 0,\n        minimumStep: 0\n      },\n      lineTop: 0\n    };\n\n    this.defaultOptions = {\n      orientation: {\n        axis: 'bottom'\n      }, // axis orientation: 'top' or 'bottom'\n      showMinorLabels: true,\n      showMajorLabels: true,\n      maxMinorChars: 7,\n      format: TimeStep.FORMAT,\n      moment: moment,\n      timeAxis: null\n    };\n    this.options = util.extend({}, this.defaultOptions);\n\n    this.body = body;\n\n    // create the HTML DOM\n    this._create();\n\n    this.setOptions(options);\n  }\n\n  TimeAxis.prototype = new Component();\n\n  /**\n   * Set options for the TimeAxis.\n   * Parameters will be merged in current options.\n   * @param {Object} options  Available options:\n   *                          {string} [orientation.axis]\n   *                          {boolean} [showMinorLabels]\n   *                          {boolean} [showMajorLabels]\n   */\n  TimeAxis.prototype.setOptions = function (options) {\n    if (options) {\n      // copy all options that we know\n      util.selectiveExtend(['showMinorLabels', 'showMajorLabels', 'maxMinorChars', 'hiddenDates', 'timeAxis', 'moment'], this.options, options);\n\n      // deep copy the format options\n      util.selectiveDeepExtend(['format'], this.options, options);\n\n      if ('orientation' in options) {\n        if (typeof options.orientation === 'string') {\n          this.options.orientation.axis = options.orientation;\n        } else if (typeof options.orientation === 'object' &amp;&amp; 'axis' in options.orientation) {\n          this.options.orientation.axis = options.orientation.axis;\n        }\n      }\n\n      // apply locale to moment.js\n      // TODO: not so nice, this is applied globally to moment.js\n      if ('locale' in options) {\n        if (typeof moment.locale === 'function') {\n          // moment.js 2.8.1+\n          moment.locale(options.locale);\n        } else {\n          moment.lang(options.locale);\n        }\n      }\n    }\n  };\n\n  /**\n   * Create the HTML DOM for the TimeAxis\n   */\n  TimeAxis.prototype._create = function () {\n    this.dom.foreground = document.createElement('div');\n    this.dom.background = document.createElement('div');\n\n    this.dom.foreground.className = 'vis-time-axis vis-foreground';\n    this.dom.background.className = 'vis-time-axis vis-background';\n  };\n\n  /**\n   * Destroy the TimeAxis\n   */\n  TimeAxis.prototype.destroy = function () {\n    // remove from DOM\n    if (this.dom.foreground.parentNode) {\n      this.dom.foreground.parentNode.removeChild(this.dom.foreground);\n    }\n    if (this.dom.background.parentNode) {\n      this.dom.background.parentNode.removeChild(this.dom.background);\n    }\n\n    this.body = null;\n  };\n\n  /**\n   * Repaint the component\n   * @return {boolean} Returns true if the component is resized\n   */\n  TimeAxis.prototype.redraw = function () {\n    var props = this.props;\n    var foreground = this.dom.foreground;\n    var background = this.dom.background;\n\n    // determine the correct parent DOM element (depending on option orientation)\n    var parent = this.options.orientation.axis == 'top' ? this.body.dom.top : this.body.dom.bottom;\n    var parentChanged = foreground.parentNode !== parent;\n\n    // calculate character width and height\n    this._calculateCharSize();\n\n    // TODO: recalculate sizes only needed when parent is resized or options is changed\n    var showMinorLabels = this.options.showMinorLabels &amp;&amp; this.options.orientation.axis !== 'none';\n    var showMajorLabels = this.options.showMajorLabels &amp;&amp; this.options.orientation.axis !== 'none';\n\n    // determine the width and height of the elemens for the axis\n    props.minorLabelHeight = showMinorLabels ? props.minorCharHeight : 0;\n    props.majorLabelHeight = showMajorLabels ? props.majorCharHeight : 0;\n    props.height = props.minorLabelHeight + props.majorLabelHeight;\n    props.width = foreground.offsetWidth;\n\n    props.minorLineHeight = this.body.domProps.root.height - props.majorLabelHeight - (this.options.orientation.axis == 'top' ? this.body.domProps.bottom.height : this.body.domProps.top.height);\n    props.minorLineWidth = 1; // TODO: really calculate width\n    props.majorLineHeight = props.minorLineHeight + props.majorLabelHeight;\n    props.majorLineWidth = 1; // TODO: really calculate width\n\n    //  take foreground and background offline while updating (is almost twice as fast)\n    var foregroundNextSibling = foreground.nextSibling;\n    var backgroundNextSibling = background.nextSibling;\n    foreground.parentNode &amp;&amp; foreground.parentNode.removeChild(foreground);\n    background.parentNode &amp;&amp; background.parentNode.removeChild(background);\n\n    foreground.style.height = this.props.height + 'px';\n\n    this._repaintLabels();\n\n    // put DOM online again (at the same place)\n    if (foregroundNextSibling) {\n      parent.insertBefore(foreground, foregroundNextSibling);\n    } else {\n      parent.appendChild(foreground);\n    }\n    if (backgroundNextSibling) {\n      this.body.dom.backgroundVertical.insertBefore(background, backgroundNextSibling);\n    } else {\n      this.body.dom.backgroundVertical.appendChild(background);\n    }\n\n    return this._isResized() || parentChanged;\n  };\n\n  /**\n   * Repaint major and minor text labels and vertical grid lines\n   * @private\n   */\n  TimeAxis.prototype._repaintLabels = function () {\n    var orientation = this.options.orientation.axis;\n\n    // calculate range and step (step such that we have space for 7 characters per label)\n    var start = util.convert(this.body.range.start, 'Number');\n    var end = util.convert(this.body.range.end, 'Number');\n    var timeLabelsize = this.body.util.toTime((this.props.minorCharWidth || 10) * this.options.maxMinorChars).valueOf();\n    var minimumStep = timeLabelsize - DateUtil.getHiddenDurationBefore(this.options.moment, this.body.hiddenDates, this.body.range, timeLabelsize);\n    minimumStep -= this.body.util.toTime(0).valueOf();\n\n    var step = new TimeStep(new Date(start), new Date(end), minimumStep, this.body.hiddenDates);\n    step.setMoment(this.options.moment);\n    if (this.options.format) {\n      step.setFormat(this.options.format);\n    }\n    if (this.options.timeAxis) {\n      step.setScale(this.options.timeAxis);\n    }\n    this.step = step;\n\n    // Move all DOM elements to a \&quot;redundant\&quot; list, where they\n    // can be picked for re-use, and clear the lists with lines and texts.\n    // At the end of the function _repaintLabels, left over elements will be cleaned up\n    var dom = this.dom;\n    dom.redundant.lines = dom.lines;\n    dom.redundant.majorTexts = dom.majorTexts;\n    dom.redundant.minorTexts = dom.minorTexts;\n    dom.lines = [];\n    dom.majorTexts = [];\n    dom.minorTexts = [];\n\n    var current;\n    var next;\n    var x;\n    var xNext;\n    var isMajor, nextIsMajor;\n    var width = 0,\n        prevWidth;\n    var line;\n    var labelMinor;\n    var xFirstMajorLabel = undefined;\n    var count = 0;\n    var MAX = 1000;\n    var className;\n\n    step.start();\n    next = step.getCurrent();\n    xNext = this.body.util.toScreen(next);\n    while (step.hasNext() &amp;&amp; count &lt; MAX) {\n      count++;\n\n      isMajor = step.isMajor();\n      className = step.getClassName();\n      labelMinor = step.getLabelMinor();\n\n      current = next;\n      x = xNext;\n\n      step.next();\n      next = step.getCurrent();\n      nextIsMajor = step.isMajor();\n      xNext = this.body.util.toScreen(next);\n\n      prevWidth = width;\n      width = xNext - x;\n      var showMinorGrid = width &gt;= prevWidth * 0.4; // prevent displaying of the 31th of the month on a scale of 5 days\n\n      if (this.options.showMinorLabels &amp;&amp; showMinorGrid) {\n        var label = this._repaintMinorText(x, labelMinor, orientation, className);\n        label.style.width = width + 'px'; // set width to prevent overflow\n      }\n\n      if (isMajor &amp;&amp; this.options.showMajorLabels) {\n        if (x &gt; 0) {\n          if (xFirstMajorLabel == undefined) {\n            xFirstMajorLabel = x;\n          }\n          label = this._repaintMajorText(x, step.getLabelMajor(), orientation, className);\n        }\n        line = this._repaintMajorLine(x, width, orientation, className);\n      } else {\n        // minor line\n        if (showMinorGrid) {\n          line = this._repaintMinorLine(x, width, orientation, className);\n        } else {\n          if (line) {\n            // adjust the width of the previous grid\n            line.style.width = parseInt(line.style.width) + width + 'px';\n          }\n        }\n      }\n    }\n\n    if (count === MAX &amp;&amp; !warnedForOverflow) {\n      console.warn('Something is wrong with the Timeline scale. Limited drawing of grid lines to ' + MAX + ' lines.');\n      warnedForOverflow = true;\n    }\n\n    // create a major label on the left when needed\n    if (this.options.showMajorLabels) {\n      var leftTime = this.body.util.toTime(0),\n          leftText = step.getLabelMajor(leftTime),\n          widthText = leftText.length * (this.props.majorCharWidth || 10) + 10; // upper bound estimation\n\n      if (xFirstMajorLabel == undefined || widthText &lt; xFirstMajorLabel) {\n        this._repaintMajorText(0, leftText, orientation, className);\n      }\n    }\n\n    // Cleanup leftover DOM elements from the redundant list\n    util.forEach(this.dom.redundant, function (arr) {\n      while (arr.length) {\n        var elem = arr.pop();\n        if (elem &amp;&amp; elem.parentNode) {\n          elem.parentNode.removeChild(elem);\n        }\n      }\n    });\n  };\n\n  /**\n   * Create a minor label for the axis at position x\n   * @param {Number} x\n   * @param {String} text\n   * @param {String} orientation   \&quot;top\&quot; or \&quot;bottom\&quot; (default)\n   * @param {String} className\n   * @return {Element} Returns the HTML element of the created label\n   * @private\n   */\n  TimeAxis.prototype._repaintMinorText = function (x, text, orientation, className) {\n    // reuse redundant label\n    var label = this.dom.redundant.minorTexts.shift();\n\n    if (!label) {\n      // create new label\n      var content = document.createTextNode('');\n      label = document.createElement('div');\n      label.appendChild(content);\n      this.dom.foreground.appendChild(label);\n    }\n    this.dom.minorTexts.push(label);\n\n    label.childNodes[0].nodeValue = text;\n\n    label.style.top = orientation == 'top' ? this.props.majorLabelHeight + 'px' : '0';\n    label.style.left = x + 'px';\n    label.className = 'vis-text vis-minor ' + className;\n    //label.title = title;  // TODO: this is a heavy operation\n\n    return label;\n  };\n\n  /**\n   * Create a Major label for the axis at position x\n   * @param {Number} x\n   * @param {String} text\n   * @param {String} orientation   \&quot;top\&quot; or \&quot;bottom\&quot; (default)\n   * @param {String} className\n   * @return {Element} Returns the HTML element of the created label\n   * @private\n   */\n  TimeAxis.prototype._repaintMajorText = function (x, text, orientation, className) {\n    // reuse redundant label\n    var label = this.dom.redundant.majorTexts.shift();\n\n    if (!label) {\n      // create label\n      var content = document.createTextNode(text);\n      label = document.createElement('div');\n      label.appendChild(content);\n      this.dom.foreground.appendChild(label);\n    }\n    this.dom.majorTexts.push(label);\n\n    label.childNodes[0].nodeValue = text;\n    label.className = 'vis-text vis-major ' + className;\n    //label.title = title; // TODO: this is a heavy operation\n\n    label.style.top = orientation == 'top' ? '0' : this.props.minorLabelHeight + 'px';\n    label.style.left = x + 'px';\n\n    return label;\n  };\n\n  /**\n   * Create a minor line for the axis at position x\n   * @param {Number} x\n   * @param {Number} width\n   * @param {String} orientation   \&quot;top\&quot; or \&quot;bottom\&quot; (default)\n   * @param {String} className\n   * @return {Element} Returns the created line\n   * @private\n   */\n  TimeAxis.prototype._repaintMinorLine = function (x, width, orientation, className) {\n    // reuse redundant line\n    var line = this.dom.redundant.lines.shift();\n    if (!line) {\n      // create vertical line\n      line = document.createElement('div');\n      this.dom.background.appendChild(line);\n    }\n    this.dom.lines.push(line);\n\n    var props = this.props;\n    if (orientation == 'top') {\n      line.style.top = props.majorLabelHeight + 'px';\n    } else {\n      line.style.top = this.body.domProps.top.height + 'px';\n    }\n    line.style.height = props.minorLineHeight + 'px';\n    line.style.left = x - props.minorLineWidth / 2 + 'px';\n    line.style.width = width + 'px';\n\n    line.className = 'vis-grid vis-vertical vis-minor ' + className;\n\n    return line;\n  };\n\n  /**\n   * Create a Major line for the axis at position x\n   * @param {Number} x\n   * @param {Number} width\n   * @param {String} orientation   \&quot;top\&quot; or \&quot;bottom\&quot; (default)\n   * @param {String} className\n   * @return {Element} Returns the created line\n   * @private\n   */\n  TimeAxis.prototype._repaintMajorLine = function (x, width, orientation, className) {\n    // reuse redundant line\n    var line = this.dom.redundant.lines.shift();\n    if (!line) {\n      // create vertical line\n      line = document.createElement('div');\n      this.dom.background.appendChild(line);\n    }\n    this.dom.lines.push(line);\n\n    var props = this.props;\n    if (orientation == 'top') {\n      line.style.top = '0';\n    } else {\n      line.style.top = this.body.domProps.top.height + 'px';\n    }\n    line.style.left = x - props.majorLineWidth / 2 + 'px';\n    line.style.height = props.majorLineHeight + 'px';\n    line.style.width = width + 'px';\n\n    line.className = 'vis-grid vis-vertical vis-major ' + className;\n\n    return line;\n  };\n\n  /**\n   * Determine the size of text on the axis (both major and minor axis).\n   * The size is calculated only once and then cached in this.props.\n   * @private\n   */\n  TimeAxis.prototype._calculateCharSize = function () {\n    // Note: We calculate char size with every redraw. Size may change, for\n    // example when any of the timelines parents had display:none for example.\n\n    // determine the char width and height on the minor axis\n    if (!this.dom.measureCharMinor) {\n      this.dom.measureCharMinor = document.createElement('DIV');\n      this.dom.measureCharMinor.className = 'vis-text vis-minor vis-measure';\n      this.dom.measureCharMinor.style.position = 'absolute';\n\n      this.dom.measureCharMinor.appendChild(document.createTextNode('0'));\n      this.dom.foreground.appendChild(this.dom.measureCharMinor);\n    }\n    this.props.minorCharHeight = this.dom.measureCharMinor.clientHeight;\n    this.props.minorCharWidth = this.dom.measureCharMinor.clientWidth;\n\n    // determine the char width and height on the major axis\n    if (!this.dom.measureCharMajor) {\n      this.dom.measureCharMajor = document.createElement('DIV');\n      this.dom.measureCharMajor.className = 'vis-text vis-major vis-measure';\n      this.dom.measureCharMajor.style.position = 'absolute';\n\n      this.dom.measureCharMajor.appendChild(document.createTextNode('0'));\n      this.dom.foreground.appendChild(this.dom.measureCharMajor);\n    }\n    this.props.majorCharHeight = this.dom.measureCharMajor.clientHeight;\n    this.props.majorCharWidth = this.dom.measureCharMajor.clientWidth;\n  };\n\n  var warnedForOverflow = false;\n\n  module.exports = TimeAxis;\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var keycharm = __webpack_require__(40);\n  var Emitter = __webpack_require__(12);\n  var Hammer = __webpack_require__(20);\n  var util = __webpack_require__(1);\n\n  /**\n   * Turn an element into an clickToUse element.\n   * When not active, the element has a transparent overlay. When the overlay is\n   * clicked, the mode is changed to active.\n   * When active, the element is displayed with a blue border around it, and\n   * the interactive contents of the element can be used. When clicked outside\n   * the element, the elements mode is changed to inactive.\n   * @param {Element} container\n   * @constructor\n   */\n  function Activator(container) {\n    this.active = false;\n\n    this.dom = {\n      container: container\n    };\n\n    this.dom.overlay = document.createElement('div');\n    this.dom.overlay.className = 'vis-overlay';\n\n    this.dom.container.appendChild(this.dom.overlay);\n\n    this.hammer = Hammer(this.dom.overlay);\n    this.hammer.on('tap', this._onTapOverlay.bind(this));\n\n    // block all touch events (except tap)\n    var me = this;\n    var events = ['tap', 'doubletap', 'press', 'pinch', 'pan', 'panstart', 'panmove', 'panend'];\n    events.forEach(function (event) {\n      me.hammer.on(event, function (event) {\n        event.stopPropagation();\n      });\n    });\n\n    // attach a click event to the window, in order to deactivate when clicking outside the timeline\n    if (document &amp;&amp; document.body) {\n      this.onClick = function (event) {\n        if (!_hasParent(event.target, container)) {\n          me.deactivate();\n        }\n      };\n      document.body.addEventListener('click', this.onClick);\n    }\n\n    if (this.keycharm !== undefined) {\n      this.keycharm.destroy();\n    }\n    this.keycharm = keycharm();\n\n    // keycharm listener only bounded when active)\n    this.escListener = this.deactivate.bind(this);\n  }\n\n  // turn into an event emitter\n  Emitter(Activator.prototype);\n\n  // The currently active activator\n  Activator.current = null;\n\n  /**\n   * Destroy the activator. Cleans up all created DOM and event listeners\n   */\n  Activator.prototype.destroy = function () {\n    this.deactivate();\n\n    // remove dom\n    this.dom.overlay.parentNode.removeChild(this.dom.overlay);\n\n    // remove global event listener\n    if (this.onClick) {\n      document.body.removeEventListener('click', this.onClick);\n    }\n\n    // cleanup hammer instances\n    this.hammer.destroy();\n    this.hammer = null;\n    // FIXME: cleaning up hammer instances doesn't work (Timeline not removed from memory)\n  };\n\n  /**\n   * Activate the element\n   * Overlay is hidden, element is decorated with a blue shadow border\n   */\n  Activator.prototype.activate = function () {\n    // we allow only one active activator at a time\n    if (Activator.current) {\n      Activator.current.deactivate();\n    }\n    Activator.current = this;\n\n    this.active = true;\n    this.dom.overlay.style.display = 'none';\n    util.addClassName(this.dom.container, 'vis-active');\n\n    this.emit('change');\n    this.emit('activate');\n\n    // ugly hack: bind ESC after emitting the events, as the Network rebinds all\n    // keyboard events on a 'change' event\n    this.keycharm.bind('esc', this.escListener);\n  };\n\n  /**\n   * Deactivate the element\n   * Overlay is displayed on top of the element\n   */\n  Activator.prototype.deactivate = function () {\n    this.active = false;\n    this.dom.overlay.style.display = '';\n    util.removeClassName(this.dom.container, 'vis-active');\n    this.keycharm.unbind('esc', this.escListener);\n\n    this.emit('change');\n    this.emit('deactivate');\n  };\n\n  /**\n   * Handle a tap event: activate the container\n   * @param event\n   * @private\n   */\n  Activator.prototype._onTapOverlay = function (event) {\n    // activate the container\n    this.activate();\n    event.stopPropagation();\n  };\n\n  /**\n   * Test whether the element has the requested parent element somewhere in\n   * its chain of parent nodes.\n   * @param {HTMLElement} element\n   * @param {HTMLElement} parent\n   * @returns {boolean} Returns true when the parent is found somewhere in the\n   *                    chain of parent nodes.\n   * @private\n   */\n  function _hasParent(element, parent) {\n    while (element) {\n      if (element === parent) {\n        return true;\n      }\n      element = element.parentNode;\n    }\n    return false;\n  }\n\n  module.exports = Activator;\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\&quot;use strict\&quot;;\n  /**\n   * Created by Alex on 11/6/2014.\n   */\n\n  // https://github.com/umdjs/umd/blob/master/returnExports.js#L40-L60\n  // if the module has no dependencies, the above pattern can be simplified to\n  (function (root, factory) {\n    if (true) {\n      // AMD. Register as an anonymous module.\n      !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined &amp;&amp; (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports === 'object') {\n      // Node. Does not work with strict CommonJS, but\n      // only CommonJS-like environments that support module.exports,\n      // like Node.\n      module.exports = factory();\n    } else {\n      // Browser globals (root is window)\n      root.keycharm = factory();\n    }\n  }(this, function () {\n\n    function keycharm(options) {\n      var preventDefault = options &amp;&amp; options.preventDefault || false;\n\n      var container = options &amp;&amp; options.container || window;\n\n      var _exportFunctions = {};\n      var _bound = {keydown:{}, keyup:{}};\n      var _keys = {};\n      var i;\n\n      // a - z\n      for (i = 97; i &lt;= 122; i++) {_keys[String.fromCharCode(i)] = {code:65 + (i - 97), shift: false};}\n      // A - Z\n      for (i = 65; i &lt;= 90; i++) {_keys[String.fromCharCode(i)] = {code:i, shift: true};}\n      // 0 - 9\n      for (i = 0;  i &lt;= 9;   i++) {_keys['' + i] = {code:48 + i, shift: false};}\n      // F1 - F12\n      for (i = 1;  i &lt;= 12;   i++) {_keys['F' + i] = {code:111 + i, shift: false};}\n      // num0 - num9\n      for (i = 0;  i &lt;= 9;   i++) {_keys['num' + i] = {code:96 + i, shift: false};}\n\n      // numpad misc\n      _keys['num*'] = {code:106, shift: false};\n      _keys['num+'] = {code:107, shift: false};\n      _keys['num-'] = {code:109, shift: false};\n      _keys['num/'] = {code:111, shift: false};\n      _keys['num.'] = {code:110, shift: false};\n      // arrows\n      _keys['left']  = {code:37, shift: false};\n      _keys['up']    = {code:38, shift: false};\n      _keys['right'] = {code:39, shift: false};\n      _keys['down']  = {code:40, shift: false};\n      // extra keys\n      _keys['space'] = {code:32, shift: false};\n      _keys['enter'] = {code:13, shift: false};\n      _keys['shift'] = {code:16, shift: undefined};\n      _keys['esc']   = {code:27, shift: false};\n      _keys['backspace'] = {code:8, shift: false};\n      _keys['tab']       = {code:9, shift: false};\n      _keys['ctrl']      = {code:17, shift: false};\n      _keys['alt']       = {code:18, shift: false};\n      _keys['delete']    = {code:46, shift: false};\n      _keys['pageup']    = {code:33, shift: false};\n      _keys['pagedown']  = {code:34, shift: false};\n      // symbols\n      _keys['=']     = {code:187, shift: false};\n      _keys['-']     = {code:189, shift: false};\n      _keys[']']     = {code:221, shift: false};\n      _keys['[']     = {code:219, shift: false};\n\n\n\n      var down = function(event) {handleEvent(event,'keydown');};\n      var up = function(event) {handleEvent(event,'keyup');};\n\n      // handle the actualy bound key with the event\n      var handleEvent = function(event,type) {\n        if (_bound[type][event.keyCode] !== undefined) {\n          var bound = _bound[type][event.keyCode];\n          for (var i = 0; i &lt; bound.length; i++) {\n            if (bound[i].shift === undefined) {\n              bound[i].fn(event);\n            }\n            else if (bound[i].shift == true &amp;&amp; event.shiftKey == true) {\n              bound[i].fn(event);\n            }\n            else if (bound[i].shift == false &amp;&amp; event.shiftKey == false) {\n              bound[i].fn(event);\n            }\n          }\n\n          if (preventDefault == true) {\n            event.preventDefault();\n          }\n        }\n      };\n\n      // bind a key to a callback\n      _exportFunctions.bind = function(key, callback, type) {\n        if (type === undefined) {\n          type = 'keydown';\n        }\n        if (_keys[key] === undefined) {\n          throw new Error(\&quot;unsupported key: \&quot; + key);\n        }\n        if (_bound[type][_keys[key].code] === undefined) {\n          _bound[type][_keys[key].code] = [];\n        }\n        _bound[type][_keys[key].code].push({fn:callback, shift:_keys[key].shift});\n      };\n\n\n      // bind all keys to a call back (demo purposes)\n      _exportFunctions.bindAll = function(callback, type) {\n        if (type === undefined) {\n          type = 'keydown';\n        }\n        for (var key in _keys) {\n          if (_keys.hasOwnProperty(key)) {\n            _exportFunctions.bind(key,callback,type);\n          }\n        }\n      };\n\n      // get the key label from an event\n      _exportFunctions.getKey = function(event) {\n        for (var key in _keys) {\n          if (_keys.hasOwnProperty(key)) {\n            if (event.shiftKey == true &amp;&amp; _keys[key].shift == true &amp;&amp; event.keyCode == _keys[key].code) {\n              return key;\n            }\n            else if (event.shiftKey == false &amp;&amp; _keys[key].shift == false &amp;&amp; event.keyCode == _keys[key].code) {\n              return key;\n            }\n            else if (event.keyCode == _keys[key].code &amp;&amp; key == 'shift') {\n              return key;\n            }\n          }\n        }\n        return \&quot;unknown key, currently not supported\&quot;;\n      };\n\n      // unbind either a specific callback from a key or all of them (by leaving callback undefined)\n      _exportFunctions.unbind = function(key, callback, type) {\n        if (type === undefined) {\n          type = 'keydown';\n        }\n        if (_keys[key] === undefined) {\n          throw new Error(\&quot;unsupported key: \&quot; + key);\n        }\n        if (callback !== undefined) {\n          var newBindings = [];\n          var bound = _bound[type][_keys[key].code];\n          if (bound !== undefined) {\n            for (var i = 0; i &lt; bound.length; i++) {\n              if (!(bound[i].fn == callback &amp;&amp; bound[i].shift == _keys[key].shift)) {\n                newBindings.push(_bound[type][_keys[key].code][i]);\n              }\n            }\n          }\n          _bound[type][_keys[key].code] = newBindings;\n        }\n        else {\n          _bound[type][_keys[key].code] = [];\n        }\n      };\n\n      // reset all bound variables.\n      _exportFunctions.reset = function() {\n        _bound = {keydown:{}, keyup:{}};\n      };\n\n      // unbind all listeners and reset all variables.\n      _exportFunctions.destroy = function() {\n        _bound = {keydown:{}, keyup:{}};\n        container.removeEventListener('keydown', down, true);\n        container.removeEventListener('keyup', up, true);\n      };\n\n      // create listeners.\n      container.addEventListener('keydown',down,true);\n      container.addEventListener('keyup',up,true);\n\n      // return the public functions.\n      return _exportFunctions;\n    }\n\n    return keycharm;\n  }));\n\n\n\n\n/***/ },\n/* 41 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var Hammer = __webpack_require__(20);\n  var util = __webpack_require__(1);\n  var Component = __webpack_require__(25);\n  var moment = __webpack_require__(2);\n  var locales = __webpack_require__(42);\n\n  /**\n   * A custom time bar\n   * @param {{range: Range, dom: Object}} body\n   * @param {Object} [options]        Available parameters:\n   *                                  {number | string} id\n   *                                  {string} locales\n   *                                  {string} locale\n   * @constructor CustomTime\n   * @extends Component\n   */\n\n  function CustomTime(body, options) {\n    this.body = body;\n\n    // default options\n    this.defaultOptions = {\n      moment: moment,\n      locales: locales,\n      locale: 'en',\n      id: undefined,\n      title: undefined\n    };\n    this.options = util.extend({}, this.defaultOptions);\n\n    if (options &amp;&amp; options.time) {\n      this.customTime = options.time;\n    } else {\n      this.customTime = new Date();\n    }\n\n    this.eventParams = {}; // stores state parameters while dragging the bar\n\n    this.setOptions(options);\n\n    // create the DOM\n    this._create();\n  }\n\n  CustomTime.prototype = new Component();\n\n  /**\n   * Set options for the component. Options will be merged in current options.\n   * @param {Object} options  Available parameters:\n   *                                  {number | string} id\n   *                                  {string} locales\n   *                                  {string} locale\n   */\n  CustomTime.prototype.setOptions = function (options) {\n    if (options) {\n      // copy all options that we know\n      util.selectiveExtend(['moment', 'locale', 'locales', 'id'], this.options, options);\n    }\n  };\n\n  /**\n   * Create the DOM for the custom time\n   * @private\n   */\n  CustomTime.prototype._create = function () {\n    var bar = document.createElement('div');\n    bar['custom-time'] = this;\n    bar.className = 'vis-custom-time ' + (this.options.id || '');\n    bar.style.position = 'absolute';\n    bar.style.top = '0px';\n    bar.style.height = '100%';\n    this.bar = bar;\n\n    var drag = document.createElement('div');\n    drag.style.position = 'relative';\n    drag.style.top = '0px';\n    drag.style.left = '-10px';\n    drag.style.height = '100%';\n    drag.style.width = '20px';\n    bar.appendChild(drag);\n\n    // attach event listeners\n    this.hammer = new Hammer(drag);\n    this.hammer.on('panstart', this._onDragStart.bind(this));\n    this.hammer.on('panmove', this._onDrag.bind(this));\n    this.hammer.on('panend', this._onDragEnd.bind(this));\n    this.hammer.get('pan').set({ threshold: 5, direction: 30 }); // 30 is ALL_DIRECTIONS in hammer.\n  };\n\n  /**\n   * Destroy the CustomTime bar\n   */\n  CustomTime.prototype.destroy = function () {\n    this.hide();\n\n    this.hammer.destroy();\n    this.hammer = null;\n\n    this.body = null;\n  };\n\n  /**\n   * Repaint the component\n   * @return {boolean} Returns true if the component is resized\n   */\n  CustomTime.prototype.redraw = function () {\n    var parent = this.body.dom.backgroundVertical;\n    if (this.bar.parentNode != parent) {\n      // attach to the dom\n      if (this.bar.parentNode) {\n        this.bar.parentNode.removeChild(this.bar);\n      }\n      parent.appendChild(this.bar);\n    }\n\n    var x = this.body.util.toScreen(this.customTime);\n\n    var locale = this.options.locales[this.options.locale];\n    if (!locale) {\n      if (!this.warned) {\n        console.log('WARNING: options.locales[\\'' + this.options.locale + '\\'] not found. See http://visjs.org/docs/timeline.html#Localization');\n        this.warned = true;\n      }\n      locale = this.options.locales['en']; // fall back on english when not available\n    }\n\n    var title = this.options.title;\n    // To hide the title completely use empty string ''.\n    if (title === undefined) {\n      title = locale.time + ': ' + this.options.moment(this.customTime).format('dddd, MMMM Do YYYY, H:mm:ss');\n      title = title.charAt(0).toUpperCase() + title.substring(1);\n    }\n\n    this.bar.style.left = x + 'px';\n    this.bar.title = title;\n\n    return false;\n  };\n\n  /**\n   * Remove the CustomTime from the DOM\n   */\n  CustomTime.prototype.hide = function () {\n    // remove the line from the DOM\n    if (this.bar.parentNode) {\n      this.bar.parentNode.removeChild(this.bar);\n    }\n  };\n\n  /**\n   * Set custom time.\n   * @param {Date | number | string} time\n   */\n  CustomTime.prototype.setCustomTime = function (time) {\n    this.customTime = util.convert(time, 'Date');\n    this.redraw();\n  };\n\n  /**\n   * Retrieve the current custom time.\n   * @return {Date} customTime\n   */\n  CustomTime.prototype.getCustomTime = function () {\n    return new Date(this.customTime.valueOf());\n  };\n\n  /**\n    * Set custom title.\n    * @param {Date | number | string} title\n    */\n  CustomTime.prototype.setCustomTitle = function (title) {\n    this.options.title = title;\n  };\n\n  /**\n   * Start moving horizontally\n   * @param {Event} event\n   * @private\n   */\n  CustomTime.prototype._onDragStart = function (event) {\n    this.eventParams.dragging = true;\n    this.eventParams.customTime = this.customTime;\n\n    event.stopPropagation();\n  };\n\n  /**\n   * Perform moving operating.\n   * @param {Event} event\n   * @private\n   */\n  CustomTime.prototype._onDrag = function (event) {\n    if (!this.eventParams.dragging) return;\n\n    var x = this.body.util.toScreen(this.eventParams.customTime) + event.deltaX;\n    var time = this.body.util.toTime(x);\n\n    this.setCustomTime(time);\n\n    // fire a timechange event\n    this.body.emitter.emit('timechange', {\n      id: this.options.id,\n      time: new Date(this.customTime.valueOf())\n    });\n\n    event.stopPropagation();\n  };\n\n  /**\n   * Stop moving operating.\n   * @param {Event} event\n   * @private\n   */\n  CustomTime.prototype._onDragEnd = function (event) {\n    if (!this.eventParams.dragging) return;\n\n    // fire a timechanged event\n    this.body.emitter.emit('timechanged', {\n      id: this.options.id,\n      time: new Date(this.customTime.valueOf())\n    });\n\n    event.stopPropagation();\n  };\n\n  /**\n   * Find a custom time from an event target:\n   * searches for the attribute 'custom-time' in the event target's element tree\n   * @param {Event} event\n   * @return {CustomTime | null} customTime\n   */\n  CustomTime.customTimeFromTarget = function (event) {\n    var target = event.target;\n    while (target) {\n      if (target.hasOwnProperty('custom-time')) {\n        return target['custom-time'];\n      }\n      target = target.parentNode;\n    }\n\n    return null;\n  };\n\n  module.exports = CustomTime;\n\n/***/ },\n/* 42 */\n/***/ function(module, exports) {\n\n  // English\n  'use strict';\n\n  exports['en'] = {\n    current: 'current',\n    time: 'time'\n  };\n  exports['en_EN'] = exports['en'];\n  exports['en_US'] = exports['en'];\n\n  // Dutch\n  exports['nl'] = {\n    current: 'huidige',\n    time: 'tijd'\n  };\n  exports['nl_NL'] = exports['nl'];\n  exports['nl_BE'] = exports['nl'];\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var util = __webpack_require__(1);\n  var Component = __webpack_require__(25);\n  var moment = __webpack_require__(2);\n  var locales = __webpack_require__(42);\n\n  /**\n   * A current time bar\n   * @param {{range: Range, dom: Object, domProps: Object}} body\n   * @param {Object} [options]        Available parameters:\n   *                                  {Boolean} [showCurrentTime]\n   * @constructor CurrentTime\n   * @extends Component\n   */\n  function CurrentTime(body, options) {\n    this.body = body;\n\n    // default options\n    this.defaultOptions = {\n      showCurrentTime: true,\n\n      moment: moment,\n      locales: locales,\n      locale: 'en'\n    };\n    this.options = util.extend({}, this.defaultOptions);\n    this.offset = 0;\n\n    this._create();\n\n    this.setOptions(options);\n  }\n\n  CurrentTime.prototype = new Component();\n\n  /**\n   * Create the HTML DOM for the current time bar\n   * @private\n   */\n  CurrentTime.prototype._create = function () {\n    var bar = document.createElement('div');\n    bar.className = 'vis-current-time';\n    bar.style.position = 'absolute';\n    bar.style.top = '0px';\n    bar.style.height = '100%';\n\n    this.bar = bar;\n  };\n\n  /**\n   * Destroy the CurrentTime bar\n   */\n  CurrentTime.prototype.destroy = function () {\n    this.options.showCurrentTime = false;\n    this.redraw(); // will remove the bar from the DOM and stop refreshing\n\n    this.body = null;\n  };\n\n  /**\n   * Set options for the component. Options will be merged in current options.\n   * @param {Object} options  Available parameters:\n   *                          {boolean} [showCurrentTime]\n   */\n  CurrentTime.prototype.setOptions = function (options) {\n    if (options) {\n      // copy all options that we know\n      util.selectiveExtend(['showCurrentTime', 'moment', 'locale', 'locales'], this.options, options);\n    }\n  };\n\n  /**\n   * Repaint the component\n   * @return {boolean} Returns true if the component is resized\n   */\n  CurrentTime.prototype.redraw = function () {\n    if (this.options.showCurrentTime) {\n      var parent = this.body.dom.backgroundVertical;\n      if (this.bar.parentNode != parent) {\n        // attach to the dom\n        if (this.bar.parentNode) {\n          this.bar.parentNode.removeChild(this.bar);\n        }\n        parent.appendChild(this.bar);\n\n        this.start();\n      }\n\n      var now = this.options.moment(new Date().valueOf() + this.offset);\n      var x = this.body.util.toScreen(now);\n\n      var locale = this.options.locales[this.options.locale];\n      if (!locale) {\n        if (!this.warned) {\n          console.log('WARNING: options.locales[\\'' + this.options.locale + '\\'] not found. See http://visjs.org/docs/timeline/#Localization');\n          this.warned = true;\n        }\n        locale = this.options.locales['en']; // fall back on english when not available\n      }\n      var title = locale.current + ' ' + locale.time + ': ' + now.format('dddd, MMMM Do YYYY, H:mm:ss');\n      title = title.charAt(0).toUpperCase() + title.substring(1);\n\n      this.bar.style.left = x + 'px';\n      this.bar.title = title;\n    } else {\n      // remove the line from the DOM\n      if (this.bar.parentNode) {\n        this.bar.parentNode.removeChild(this.bar);\n      }\n      this.stop();\n    }\n\n    return false;\n  };\n\n  /**\n   * Start auto refreshing the current time bar\n   */\n  CurrentTime.prototype.start = function () {\n    var me = this;\n\n    function update() {\n      me.stop();\n\n      // determine interval to refresh\n      var scale = me.body.range.conversion(me.body.domProps.center.width).scale;\n      var interval = 1 / scale / 10;\n      if (interval &lt; 30) interval = 30;\n      if (interval &gt; 1000) interval = 1000;\n\n      me.redraw();\n\n      // start a renderTimer to adjust for the new time\n      me.currentTimeTimer = setTimeout(update, interval);\n    }\n\n    update();\n  };\n\n  /**\n   * Stop auto refreshing the current time bar\n   */\n  CurrentTime.prototype.stop = function () {\n    if (this.currentTimeTimer !== undefined) {\n      clearTimeout(this.currentTimeTimer);\n      delete this.currentTimeTimer;\n    }\n  };\n\n  /**\n   * Set a current time. This can be used for example to ensure that a client's\n   * time is synchronized with a shared server time.\n   * @param {Date | String | Number} time     A Date, unix timestamp, or\n   *                                          ISO date string.\n   */\n  CurrentTime.prototype.setCurrentTime = function (time) {\n    var t = util.convert(time, 'Date').valueOf();\n    var now = new Date().valueOf();\n    this.offset = t - now;\n    this.redraw();\n  };\n\n  /**\n   * Get the current time.\n   * @return {Date} Returns the current time.\n   */\n  CurrentTime.prototype.getCurrentTime = function () {\n    return new Date(new Date().valueOf() + this.offset);\n  };\n\n  module.exports = CurrentTime;\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var _ColorPicker = __webpack_require__(45);\n\n  var _ColorPicker2 = _interopRequireDefault(_ColorPicker);\n\n  /**\n   * The way this works is for all properties of this.possible options, you can supply the property name in any form to list the options.\n   * Boolean options are recognised as Boolean\n   * Number options should be written as array: [default value, min value, max value, stepsize]\n   * Colors should be written as array: ['color', '#ffffff']\n   * Strings with should be written as array: [option1, option2, option3, ..]\n   *\n   * The options are matched with their counterparts in each of the modules and the values used in the configuration are\n   *\n   * @param parentModule        | the location where parentModule.setOptions() can be called\n   * @param defaultContainer    | the default container of the module\n   * @param configureOptions    | the fully configured and predefined options set found in allOptions.js\n   * @param pixelRatio          | canvas pixel ratio\n   */\n  var util = __webpack_require__(1);\n\n  var Configurator = (function () {\n    function Configurator(parentModule, defaultContainer, configureOptions) {\n      var pixelRatio = arguments.length &lt;= 3 || arguments[3] === undefined ? 1 : arguments[3];\n\n      _classCallCheck(this, Configurator);\n\n      this.parent = parentModule;\n      this.changedOptions = [];\n      this.container = defaultContainer;\n      this.allowCreation = false;\n\n      this.options = {};\n      this.initialized = false;\n      this.popupCounter = 0;\n      this.defaultOptions = {\n        enabled: false,\n        filter: true,\n        container: undefined,\n        showButton: true\n      };\n      util.extend(this.options, this.defaultOptions);\n\n      this.configureOptions = configureOptions;\n      this.moduleOptions = {};\n      this.domElements = [];\n      this.popupDiv = {};\n      this.popupLimit = 5;\n      this.popupHistory = {};\n      this.colorPicker = new _ColorPicker2['default'](pixelRatio);\n      this.wrapper = undefined;\n    }\n\n    /**\n     * refresh all options.\n     * Because all modules parse their options by themselves, we just use their options. We copy them here.\n     *\n     * @param options\n     */\n\n    _createClass(Configurator, [{\n      key: 'setOptions',\n      value: function setOptions(options) {\n        if (options !== undefined) {\n          // reset the popup history because the indices may have been changed.\n          this.popupHistory = {};\n          this._removePopup();\n\n          var enabled = true;\n          if (typeof options === 'string') {\n            this.options.filter = options;\n          } else if (options instanceof Array) {\n            this.options.filter = options.join();\n          } else if (typeof options === 'object') {\n            if (options.container !== undefined) {\n              this.options.container = options.container;\n            }\n            if (options.filter !== undefined) {\n              this.options.filter = options.filter;\n            }\n            if (options.showButton !== undefined) {\n              this.options.showButton = options.showButton;\n            }\n            if (options.enabled !== undefined) {\n              enabled = options.enabled;\n            }\n          } else if (typeof options === 'boolean') {\n            this.options.filter = true;\n            enabled = options;\n          } else if (typeof options === 'function') {\n            this.options.filter = options;\n            enabled = true;\n          }\n          if (this.options.filter === false) {\n            enabled = false;\n          }\n\n          this.options.enabled = enabled;\n        }\n        this._clean();\n      }\n    }, {\n      key: 'setModuleOptions',\n      value: function setModuleOptions(moduleOptions) {\n        this.moduleOptions = moduleOptions;\n        if (this.options.enabled === true) {\n          this._clean();\n          if (this.options.container !== undefined) {\n            this.container = this.options.container;\n          }\n          this._create();\n        }\n      }\n\n      /**\n       * Create all DOM elements\n       * @private\n       */\n    }, {\n      key: '_create',\n      value: function _create() {\n        var _this = this;\n\n        this._clean();\n        this.changedOptions = [];\n\n        var filter = this.options.filter;\n        var counter = 0;\n        var show = false;\n        for (var option in this.configureOptions) {\n          if (this.configureOptions.hasOwnProperty(option)) {\n            this.allowCreation = false;\n            show = false;\n            if (typeof filter === 'function') {\n              show = filter(option, []);\n              show = show || this._handleObject(this.configureOptions[option], [option], true);\n            } else if (filter === true || filter.indexOf(option) !== -1) {\n              show = true;\n            }\n\n            if (show !== false) {\n              this.allowCreation = true;\n\n              // linebreak between categories\n              if (counter &gt; 0) {\n                this._makeItem([]);\n              }\n              // a header for the category\n              this._makeHeader(option);\n\n              // get the sub options\n              this._handleObject(this.configureOptions[option], [option]);\n            }\n            counter++;\n          }\n        }\n\n        if (this.options.showButton === true) {\n          (function () {\n            var generateButton = document.createElement('div');\n            generateButton.className = 'vis-configuration vis-config-button';\n            generateButton.innerHTML = 'generate options';\n            generateButton.onclick = function () {\n              _this._printOptions();\n            };\n            generateButton.onmouseover = function () {\n              generateButton.className = 'vis-configuration vis-config-button hover';\n            };\n            generateButton.onmouseout = function () {\n              generateButton.className = 'vis-configuration vis-config-button';\n            };\n\n            _this.optionsContainer = document.createElement('div');\n            _this.optionsContainer.className = 'vis-configuration vis-config-option-container';\n\n            _this.domElements.push(_this.optionsContainer);\n            _this.domElements.push(generateButton);\n          })();\n        }\n\n        this._push();\n        //~ this.colorPicker.insertTo(this.container);\n      }\n\n      /**\n       * draw all DOM elements on the screen\n       * @private\n       */\n    }, {\n      key: '_push',\n      value: function _push() {\n        this.wrapper = document.createElement('div');\n        this.wrapper.className = 'vis-configuration-wrapper';\n        this.container.appendChild(this.wrapper);\n        for (var i = 0; i &lt; this.domElements.length; i++) {\n          this.wrapper.appendChild(this.domElements[i]);\n        }\n\n        this._showPopupIfNeeded();\n      }\n\n      /**\n       * delete all DOM elements\n       * @private\n       */\n    }, {\n      key: '_clean',\n      value: function _clean() {\n        for (var i = 0; i &lt; this.domElements.length; i++) {\n          this.wrapper.removeChild(this.domElements[i]);\n        }\n\n        if (this.wrapper !== undefined) {\n          this.container.removeChild(this.wrapper);\n          this.wrapper = undefined;\n        }\n        this.domElements = [];\n\n        this._removePopup();\n      }\n\n      /**\n       * get the value from the actualOptions if it exists\n       * @param {array} path    | where to look for the actual option\n       * @returns {*}\n       * @private\n       */\n    }, {\n      key: '_getValue',\n      value: function _getValue(path) {\n        var base = this.moduleOptions;\n        for (var i = 0; i &lt; path.length; i++) {\n          if (base[path[i]] !== undefined) {\n            base = base[path[i]];\n          } else {\n            base = undefined;\n            break;\n          }\n        }\n        return base;\n      }\n\n      /**\n       * all option elements are wrapped in an item\n       * @param path\n       * @param domElements\n       * @private\n       */\n    }, {\n      key: '_makeItem',\n      value: function _makeItem(path) {\n        var _arguments = arguments,\n            _this2 = this;\n\n        if (this.allowCreation === true) {\n          var _len, domElements, _key;\n\n          var _ret2 = (function () {\n            var item = document.createElement('div');\n            item.className = 'vis-configuration vis-config-item vis-config-s' + path.length;\n\n            for (_len = _arguments.length, domElements = Array(_len &gt; 1 ? _len - 1 : 0), _key = 1; _key &lt; _len; _key++) {\n              domElements[_key - 1] = _arguments[_key];\n            }\n\n            domElements.forEach(function (element) {\n              item.appendChild(element);\n            });\n            _this2.domElements.push(item);\n            return {\n              v: _this2.domElements.length\n            };\n          })();\n\n          if (typeof _ret2 === 'object') return _ret2.v;\n        }\n        return 0;\n      }\n\n      /**\n       * header for major subjects\n       * @param name\n       * @private\n       */\n    }, {\n      key: '_makeHeader',\n      value: function _makeHeader(name) {\n        var div = document.createElement('div');\n        div.className = 'vis-configuration vis-config-header';\n        div.innerHTML = name;\n        this._makeItem([], div);\n      }\n\n      /**\n       * make a label, if it is an object label, it gets different styling.\n       * @param name\n       * @param path\n       * @param objectLabel\n       * @returns {HTMLElement}\n       * @private\n       */\n    }, {\n      key: '_makeLabel',\n      value: function _makeLabel(name, path) {\n        var objectLabel = arguments.length &lt;= 2 || arguments[2] === undefined ? false : arguments[2];\n\n        var div = document.createElement('div');\n        div.className = 'vis-configuration vis-config-label vis-config-s' + path.length;\n        if (objectLabel === true) {\n          div.innerHTML = '&lt;i&gt;&lt;b&gt;' + name + ':&lt;/b&gt;&lt;/i&gt;';\n        } else {\n          div.innerHTML = name + ':';\n        }\n        return div;\n      }\n\n      /**\n       * make a dropdown list for multiple possible string optoins\n       * @param arr\n       * @param value\n       * @param path\n       * @private\n       */\n    }, {\n      key: '_makeDropdown',\n      value: function _makeDropdown(arr, value, path) {\n        var select = document.createElement('select');\n        select.className = 'vis-configuration vis-config-select';\n        var selectedValue = 0;\n        if (value !== undefined) {\n          if (arr.indexOf(value) !== -1) {\n            selectedValue = arr.indexOf(value);\n          }\n        }\n\n        for (var i = 0; i &lt; arr.length; i++) {\n          var option = document.createElement('option');\n          option.value = arr[i];\n          if (i === selectedValue) {\n            option.selected = 'selected';\n          }\n          option.innerHTML = arr[i];\n          select.appendChild(option);\n        }\n\n        var me = this;\n        select.onchange = function () {\n          me._update(this.value, path);\n        };\n\n        var label = this._makeLabel(path[path.length - 1], path);\n        this._makeItem(path, label, select);\n      }\n\n      /**\n       * make a range object for numeric options\n       * @param arr\n       * @param value\n       * @param path\n       * @private\n       */\n    }, {\n      key: '_makeRange',\n      value: function _makeRange(arr, value, path) {\n        var defaultValue = arr[0];\n        var min = arr[1];\n        var max = arr[2];\n        var step = arr[3];\n        var range = document.createElement('input');\n        range.className = 'vis-configuration vis-config-range';\n        try {\n          range.type = 'range'; // not supported on IE9\n          range.min = min;\n          range.max = max;\n        } catch (err) {}\n        range.step = step;\n\n        // set up the popup settings in case they are needed.\n        var popupString = '';\n        var popupValue = 0;\n\n        if (value !== undefined) {\n          var factor = 1.20;\n          if (value &lt; 0 &amp;&amp; value * factor &lt; min) {\n            range.min = Math.ceil(value * factor);\n            popupValue = range.min;\n            popupString = 'range increased';\n          } else if (value / factor &lt; min) {\n            range.min = Math.ceil(value / factor);\n            popupValue = range.min;\n            popupString = 'range increased';\n          }\n          if (value * factor &gt; max &amp;&amp; max !== 1) {\n            range.max = Math.ceil(value * factor);\n            popupValue = range.max;\n            popupString = 'range increased';\n          }\n          range.value = value;\n        } else {\n          range.value = defaultValue;\n        }\n\n        var input = document.createElement('input');\n        input.className = 'vis-configuration vis-config-rangeinput';\n        input.value = range.value;\n\n        var me = this;\n        range.onchange = function () {\n          input.value = this.value;me._update(Number(this.value), path);\n        };\n        range.oninput = function () {\n          input.value = this.value;\n        };\n\n        var label = this._makeLabel(path[path.length - 1], path);\n        var itemIndex = this._makeItem(path, label, range, input);\n\n        // if a popup is needed AND it has not been shown for this value, show it.\n        if (popupString !== '' &amp;&amp; this.popupHistory[itemIndex] !== popupValue) {\n          this.popupHistory[itemIndex] = popupValue;\n          this._setupPopup(popupString, itemIndex);\n        }\n      }\n\n      /**\n       * prepare the popup\n       * @param string\n       * @param index\n       * @private\n       */\n    }, {\n      key: '_setupPopup',\n      value: function _setupPopup(string, index) {\n        var _this3 = this;\n\n        if (this.initialized === true &amp;&amp; this.allowCreation === true &amp;&amp; this.popupCounter &lt; this.popupLimit) {\n          var div = document.createElement(\&quot;div\&quot;);\n          div.id = \&quot;vis-configuration-popup\&quot;;\n          div.className = \&quot;vis-configuration-popup\&quot;;\n          div.innerHTML = string;\n          div.onclick = function () {\n            _this3._removePopup();\n          };\n          this.popupCounter += 1;\n          this.popupDiv = { html: div, index: index };\n        }\n      }\n\n      /**\n       * remove the popup from the dom\n       * @private\n       */\n    }, {\n      key: '_removePopup',\n      value: function _removePopup() {\n        if (this.popupDiv.html !== undefined) {\n          this.popupDiv.html.parentNode.removeChild(this.popupDiv.html);\n          clearTimeout(this.popupDiv.hideTimeout);\n          clearTimeout(this.popupDiv.deleteTimeout);\n          this.popupDiv = {};\n        }\n      }\n\n      /**\n       * Show the popup if it is needed.\n       * @private\n       */\n    }, {\n      key: '_showPopupIfNeeded',\n      value: function _showPopupIfNeeded() {\n        var _this4 = this;\n\n        if (this.popupDiv.html !== undefined) {\n          var correspondingElement = this.domElements[this.popupDiv.index];\n          var rect = correspondingElement.getBoundingClientRect();\n          this.popupDiv.html.style.left = rect.left + \&quot;px\&quot;;\n          this.popupDiv.html.style.top = rect.top - 30 + \&quot;px\&quot;; // 30 is the height;\n          document.body.appendChild(this.popupDiv.html);\n          this.popupDiv.hideTimeout = setTimeout(function () {\n            _this4.popupDiv.html.style.opacity = 0;\n          }, 1500);\n          this.popupDiv.deleteTimeout = setTimeout(function () {\n            _this4._removePopup();\n          }, 1800);\n        }\n      }\n\n      /**\n       * make a checkbox for boolean options.\n       * @param defaultValue\n       * @param value\n       * @param path\n       * @private\n       */\n    }, {\n      key: '_makeCheckbox',\n      value: function _makeCheckbox(defaultValue, value, path) {\n        var checkbox = document.createElement('input');\n        checkbox.type = 'checkbox';\n        checkbox.className = 'vis-configuration vis-config-checkbox';\n        checkbox.checked = defaultValue;\n        if (value !== undefined) {\n          checkbox.checked = value;\n          if (value !== defaultValue) {\n            if (typeof defaultValue === 'object') {\n              if (value !== defaultValue.enabled) {\n                this.changedOptions.push({ path: path, value: value });\n              }\n            } else {\n              this.changedOptions.push({ path: path, value: value });\n            }\n          }\n        }\n\n        var me = this;\n        checkbox.onchange = function () {\n          me._update(this.checked, path);\n        };\n\n        var label = this._makeLabel(path[path.length - 1], path);\n        this._makeItem(path, label, checkbox);\n      }\n\n      /**\n       * make a text input field for string options.\n       * @param defaultValue\n       * @param value\n       * @param path\n       * @private\n       */\n    }, {\n      key: '_makeTextInput',\n      value: function _makeTextInput(defaultValue, value, path) {\n        var checkbox = document.createElement('input');\n        checkbox.type = 'text';\n        checkbox.className = 'vis-configuration vis-config-text';\n        checkbox.value = value;\n        if (value !== defaultValue) {\n          this.changedOptions.push({ path: path, value: value });\n        }\n\n        var me = this;\n        checkbox.onchange = function () {\n          me._update(this.value, path);\n        };\n\n        var label = this._makeLabel(path[path.length - 1], path);\n        this._makeItem(path, label, checkbox);\n      }\n\n      /**\n       * make a color field with a color picker for color fields\n       * @param arr\n       * @param value\n       * @param path\n       * @private\n       */\n    }, {\n      key: '_makeColorField',\n      value: function _makeColorField(arr, value, path) {\n        var _this5 = this;\n\n        var defaultColor = arr[1];\n        var div = document.createElement('div');\n        value = value === undefined ? defaultColor : value;\n\n        if (value !== 'none') {\n          div.className = 'vis-configuration vis-config-colorBlock';\n          div.style.backgroundColor = value;\n        } else {\n          div.className = 'vis-configuration vis-config-colorBlock none';\n        }\n\n        value = value === undefined ? defaultColor : value;\n        div.onclick = function () {\n          _this5._showColorPicker(value, div, path);\n        };\n\n        var label = this._makeLabel(path[path.length - 1], path);\n        this._makeItem(path, label, div);\n      }\n\n      /**\n       * used by the color buttons to call the color picker.\n       * @param event\n       * @param value\n       * @param div\n       * @param path\n       * @private\n       */\n    }, {\n      key: '_showColorPicker',\n      value: function _showColorPicker(value, div, path) {\n        var _this6 = this;\n\n        // clear the callback from this div\n        div.onclick = function () {};\n\n        this.colorPicker.insertTo(div);\n        this.colorPicker.show();\n\n        this.colorPicker.setColor(value);\n        this.colorPicker.setUpdateCallback(function (color) {\n          var colorString = 'rgba(' + color.r + ',' + color.g + ',' + color.b + ',' + color.a + ')';\n          div.style.backgroundColor = colorString;\n          _this6._update(colorString, path);\n        });\n\n        // on close of the colorpicker, restore the callback.\n        this.colorPicker.setCloseCallback(function () {\n          div.onclick = function () {\n            _this6._showColorPicker(value, div, path);\n          };\n        });\n      }\n\n      /**\n       * parse an object and draw the correct items\n       * @param obj\n       * @param path\n       * @private\n       */\n    }, {\n      key: '_handleObject',\n      value: function _handleObject(obj) {\n        var path = arguments.length &lt;= 1 || arguments[1] === undefined ? [] : arguments[1];\n        var checkOnly = arguments.length &lt;= 2 || arguments[2] === undefined ? false : arguments[2];\n\n        var show = false;\n        var filter = this.options.filter;\n        var visibleInSet = false;\n        for (var subObj in obj) {\n          if (obj.hasOwnProperty(subObj)) {\n            show = true;\n            var item = obj[subObj];\n            var newPath = util.copyAndExtendArray(path, subObj);\n            if (typeof filter === 'function') {\n              show = filter(subObj, path);\n\n              // if needed we must go deeper into the object.\n              if (show === false) {\n                if (!(item instanceof Array) &amp;&amp; typeof item !== 'string' &amp;&amp; typeof item !== 'boolean' &amp;&amp; item instanceof Object) {\n                  this.allowCreation = false;\n                  show = this._handleObject(item, newPath, true);\n                  this.allowCreation = checkOnly === false;\n                }\n              }\n            }\n\n            if (show !== false) {\n              visibleInSet = true;\n              var value = this._getValue(newPath);\n\n              if (item instanceof Array) {\n                this._handleArray(item, value, newPath);\n              } else if (typeof item === 'string') {\n                this._makeTextInput(item, value, newPath);\n              } else if (typeof item === 'boolean') {\n                this._makeCheckbox(item, value, newPath);\n              } else if (item instanceof Object) {\n                // collapse the physics options that are not enabled\n                var draw = true;\n                if (path.indexOf('physics') !== -1) {\n                  if (this.moduleOptions.physics.solver !== subObj) {\n                    draw = false;\n                  }\n                }\n\n                if (draw === true) {\n                  // initially collapse options with an disabled enabled option.\n                  if (item.enabled !== undefined) {\n                    var enabledPath = util.copyAndExtendArray(newPath, 'enabled');\n                    var enabledValue = this._getValue(enabledPath);\n                    if (enabledValue === true) {\n                      var label = this._makeLabel(subObj, newPath, true);\n                      this._makeItem(newPath, label);\n                      visibleInSet = this._handleObject(item, newPath) || visibleInSet;\n                    } else {\n                      this._makeCheckbox(item, enabledValue, newPath);\n                    }\n                  } else {\n                    var label = this._makeLabel(subObj, newPath, true);\n                    this._makeItem(newPath, label);\n                    visibleInSet = this._handleObject(item, newPath) || visibleInSet;\n                  }\n                }\n              } else {\n                console.error('dont know how to handle', item, subObj, newPath);\n              }\n            }\n          }\n        }\n        return visibleInSet;\n      }\n\n      /**\n       * handle the array type of option\n       * @param optionName\n       * @param arr\n       * @param value\n       * @param path\n       * @private\n       */\n    }, {\n      key: '_handleArray',\n      value: function _handleArray(arr, value, path) {\n        if (typeof arr[0] === 'string' &amp;&amp; arr[0] === 'color') {\n          this._makeColorField(arr, value, path);\n          if (arr[1] !== value) {\n            this.changedOptions.push({ path: path, value: value });\n          }\n        } else if (typeof arr[0] === 'string') {\n          this._makeDropdown(arr, value, path);\n          if (arr[0] !== value) {\n            this.changedOptions.push({ path: path, value: value });\n          }\n        } else if (typeof arr[0] === 'number') {\n          this._makeRange(arr, value, path);\n          if (arr[0] !== value) {\n            this.changedOptions.push({ path: path, value: Number(value) });\n          }\n        }\n      }\n\n      /**\n       * called to update the network with the new settings.\n       * @param value\n       * @param path\n       * @private\n       */\n    }, {\n      key: '_update',\n      value: function _update(value, path) {\n        var options = this._constructOptions(value, path);\n\n        if (this.parent.body &amp;&amp; this.parent.body.emitter &amp;&amp; this.parent.body.emitter.emit) {\n          this.parent.body.emitter.emit(\&quot;configChange\&quot;, options);\n        }\n        this.initialized = true;\n        this.parent.setOptions(options);\n      }\n    }, {\n      key: '_constructOptions',\n      value: function _constructOptions(value, path) {\n        var optionsObj = arguments.length &lt;= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n        var pointer = optionsObj;\n\n        // when dropdown boxes can be string or boolean, we typecast it into correct types\n        value = value === 'true' ? true : value;\n        value = value === 'false' ? false : value;\n\n        for (var i = 0; i &lt; path.length; i++) {\n          if (path[i] !== 'global') {\n            if (pointer[path[i]] === undefined) {\n              pointer[path[i]] = {};\n            }\n            if (i !== path.length - 1) {\n              pointer = pointer[path[i]];\n            } else {\n              pointer[path[i]] = value;\n            }\n          }\n        }\n        return optionsObj;\n      }\n    }, {\n      key: '_printOptions',\n      value: function _printOptions() {\n        var options = this.getOptions();\n        this.optionsContainer.innerHTML = '&lt;pre&gt;var options = ' + JSON.stringify(options, null, 2) + '&lt;/pre&gt;';\n      }\n    }, {\n      key: 'getOptions',\n      value: function getOptions() {\n        var options = {};\n        for (var i = 0; i &lt; this.changedOptions.length; i++) {\n          this._constructOptions(this.changedOptions[i].value, this.changedOptions[i].path, options);\n        }\n        return options;\n      }\n    }]);\n\n    return Configurator;\n  })();\n\n  exports['default'] = Configurator;\n  module.exports = exports['default'];\n\n/***/ },\n/* 45 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var Hammer = __webpack_require__(20);\n  var hammerUtil = __webpack_require__(24);\n  var util = __webpack_require__(1);\n\n  var ColorPicker = (function () {\n    function ColorPicker() {\n      var pixelRatio = arguments.length &lt;= 0 || arguments[0] === undefined ? 1 : arguments[0];\n\n      _classCallCheck(this, ColorPicker);\n\n      this.pixelRatio = pixelRatio;\n      this.generated = false;\n      this.centerCoordinates = { x: 289 / 2, y: 289 / 2 };\n      this.r = 289 * 0.49;\n      this.color = { r: 255, g: 255, b: 255, a: 1.0 };\n      this.hueCircle = undefined;\n      this.initialColor = { r: 255, g: 255, b: 255, a: 1.0 };\n      this.previousColor = undefined;\n      this.applied = false;\n\n      // bound by\n      this.updateCallback = function () {};\n      this.closeCallback = function () {};\n\n      // create all DOM elements\n      this._create();\n    }\n\n    /**\n     * this inserts the colorPicker into a div from the DOM\n     * @param container\n     */\n\n    _createClass(ColorPicker, [{\n      key: 'insertTo',\n      value: function insertTo(container) {\n        if (this.hammer !== undefined) {\n          this.hammer.destroy();\n          this.hammer = undefined;\n        }\n        this.container = container;\n        this.container.appendChild(this.frame);\n        this._bindHammer();\n\n        this._setSize();\n      }\n\n      /**\n       * the callback is executed on apply and save. Bind it to the application\n       * @param callback\n       */\n    }, {\n      key: 'setUpdateCallback',\n      value: function setUpdateCallback(callback) {\n        if (typeof callback === 'function') {\n          this.updateCallback = callback;\n        } else {\n          throw new Error(\&quot;Function attempted to set as colorPicker update callback is not a function.\&quot;);\n        }\n      }\n\n      /**\n       * the callback is executed on apply and save. Bind it to the application\n       * @param callback\n       */\n    }, {\n      key: 'setCloseCallback',\n      value: function setCloseCallback(callback) {\n        if (typeof callback === 'function') {\n          this.closeCallback = callback;\n        } else {\n          throw new Error(\&quot;Function attempted to set as colorPicker closing callback is not a function.\&quot;);\n        }\n      }\n    }, {\n      key: '_isColorString',\n      value: function _isColorString(color) {\n        var htmlColors = { black: '#000000', navy: '#000080', darkblue: '#00008B', mediumblue: '#0000CD', blue: '#0000FF', darkgreen: '#006400', green: '#008000', teal: '#008080', darkcyan: '#008B8B', deepskyblue: '#00BFFF', darkturquoise: '#00CED1', mediumspringgreen: '#00FA9A', lime: '#00FF00', springgreen: '#00FF7F', aqua: '#00FFFF', cyan: '#00FFFF', midnightblue: '#191970', dodgerblue: '#1E90FF', lightseagreen: '#20B2AA', forestgreen: '#228B22', seagreen: '#2E8B57', darkslategray: '#2F4F4F', limegreen: '#32CD32', mediumseagreen: '#3CB371', turquoise: '#40E0D0', royalblue: '#4169E1', steelblue: '#4682B4', darkslateblue: '#483D8B', mediumturquoise: '#48D1CC', indigo: '#4B0082', darkolivegreen: '#556B2F', cadetblue: '#5F9EA0', cornflowerblue: '#6495ED', mediumaquamarine: '#66CDAA', dimgray: '#696969', slateblue: '#6A5ACD', olivedrab: '#6B8E23', slategray: '#708090', lightslategray: '#778899', mediumslateblue: '#7B68EE', lawngreen: '#7CFC00', chartreuse: '#7FFF00', aquamarine: '#7FFFD4', maroon: '#800000', purple: '#800080', olive: '#808000', gray: '#808080', skyblue: '#87CEEB', lightskyblue: '#87CEFA', blueviolet: '#8A2BE2', darkred: '#8B0000', darkmagenta: '#8B008B', saddlebrown: '#8B4513', darkseagreen: '#8FBC8F', lightgreen: '#90EE90', mediumpurple: '#9370D8', darkviolet: '#9400D3', palegreen: '#98FB98', darkorchid: '#9932CC', yellowgreen: '#9ACD32', sienna: '#A0522D', brown: '#A52A2A', darkgray: '#A9A9A9', lightblue: '#ADD8E6', greenyellow: '#ADFF2F', paleturquoise: '#AFEEEE', lightsteelblue: '#B0C4DE', powderblue: '#B0E0E6', firebrick: '#B22222', darkgoldenrod: '#B8860B', mediumorchid: '#BA55D3', rosybrown: '#BC8F8F', darkkhaki: '#BDB76B', silver: '#C0C0C0', mediumvioletred: '#C71585', indianred: '#CD5C5C', peru: '#CD853F', chocolate: '#D2691E', tan: '#D2B48C', lightgrey: '#D3D3D3', palevioletred: '#D87093', thistle: '#D8BFD8', orchid: '#DA70D6', goldenrod: '#DAA520', crimson: '#DC143C', gainsboro: '#DCDCDC', plum: '#DDA0DD', burlywood: '#DEB887', lightcyan: '#E0FFFF', lavender: '#E6E6FA', darksalmon: '#E9967A', violet: '#EE82EE', palegoldenrod: '#EEE8AA', lightcoral: '#F08080', khaki: '#F0E68C', aliceblue: '#F0F8FF', honeydew: '#F0FFF0', azure: '#F0FFFF', sandybrown: '#F4A460', wheat: '#F5DEB3', beige: '#F5F5DC', whitesmoke: '#F5F5F5', mintcream: '#F5FFFA', ghostwhite: '#F8F8FF', salmon: '#FA8072', antiquewhite: '#FAEBD7', linen: '#FAF0E6', lightgoldenrodyellow: '#FAFAD2', oldlace: '#FDF5E6', red: '#FF0000', fuchsia: '#FF00FF', magenta: '#FF00FF', deeppink: '#FF1493', orangered: '#FF4500', tomato: '#FF6347', hotpink: '#FF69B4', coral: '#FF7F50', darkorange: '#FF8C00', lightsalmon: '#FFA07A', orange: '#FFA500', lightpink: '#FFB6C1', pink: '#FFC0CB', gold: '#FFD700', peachpuff: '#FFDAB9', navajowhite: '#FFDEAD', moccasin: '#FFE4B5', bisque: '#FFE4C4', mistyrose: '#FFE4E1', blanchedalmond: '#FFEBCD', papayawhip: '#FFEFD5', lavenderblush: '#FFF0F5', seashell: '#FFF5EE', cornsilk: '#FFF8DC', lemonchiffon: '#FFFACD', floralwhite: '#FFFAF0', snow: '#FFFAFA', yellow: '#FFFF00', lightyellow: '#FFFFE0', ivory: '#FFFFF0', white: '#FFFFFF' };\n        if (typeof color === 'string') {\n          return htmlColors[color];\n        }\n      }\n\n      /**\n       * Set the color of the colorPicker\n       * Supported formats:\n       * 'red'                   --&gt; HTML color string\n       * '#ffffff'               --&gt; hex string\n       * 'rbg(255,255,255)'      --&gt; rgb string\n       * 'rgba(255,255,255,1.0)' --&gt; rgba string\n       * {r:255,g:255,b:255}     --&gt; rgb object\n       * {r:255,g:255,b:255,a:1.0} --&gt; rgba object\n       * @param color\n       * @param setInitial\n       */\n    }, {\n      key: 'setColor',\n      value: function setColor(color) {\n        var setInitial = arguments.length &lt;= 1 || arguments[1] === undefined ? true : arguments[1];\n\n        if (color === 'none') {\n          return;\n        }\n\n        var rgba = undefined;\n\n        // if a html color shorthand is used, convert to hex\n        var htmlColor = this._isColorString(color);\n        if (htmlColor !== undefined) {\n          color = htmlColor;\n        }\n\n        // check format\n        if (util.isString(color) === true) {\n          if (util.isValidRGB(color) === true) {\n            var rgbaArray = color.substr(4).substr(0, color.length - 5).split(',');\n            rgba = { r: rgbaArray[0], g: rgbaArray[1], b: rgbaArray[2], a: 1.0 };\n          } else if (util.isValidRGBA(color) === true) {\n            var rgbaArray = color.substr(5).substr(0, color.length - 6).split(',');\n            rgba = { r: rgbaArray[0], g: rgbaArray[1], b: rgbaArray[2], a: rgbaArray[3] };\n          } else if (util.isValidHex(color) === true) {\n            var rgbObj = util.hexToRGB(color);\n            rgba = { r: rgbObj.r, g: rgbObj.g, b: rgbObj.b, a: 1.0 };\n          }\n        } else {\n          if (color instanceof Object) {\n            if (color.r !== undefined &amp;&amp; color.g !== undefined &amp;&amp; color.b !== undefined) {\n              var alpha = color.a !== undefined ? color.a : '1.0';\n              rgba = { r: color.r, g: color.g, b: color.b, a: alpha };\n            }\n          }\n        }\n\n        // set color\n        if (rgba === undefined) {\n          throw new Error(\&quot;Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: \&quot; + JSON.stringify(color));\n        } else {\n          this._setColor(rgba, setInitial);\n        }\n      }\n\n      /**\n       * this shows the color picker.\n       * The hue circle is constructed once and stored.\n       */\n    }, {\n      key: 'show',\n      value: function show() {\n        if (this.closeCallback !== undefined) {\n          this.closeCallback();\n          this.closeCallback = undefined;\n        }\n\n        this.applied = false;\n        this.frame.style.display = 'block';\n        this._generateHueCircle();\n      }\n\n      // ------------------------------------------ PRIVATE ----------------------------- //\n\n      /**\n       * Hide the picker. Is called by the cancel button.\n       * Optional boolean to store the previous color for easy access later on.\n       * @param storePrevious\n       * @private\n       */\n    }, {\n      key: '_hide',\n      value: function _hide() {\n        var _this = this;\n\n        var storePrevious = arguments.length &lt;= 0 || arguments[0] === undefined ? true : arguments[0];\n\n        // store the previous color for next time;\n        if (storePrevious === true) {\n          this.previousColor = util.extend({}, this.color);\n        }\n\n        if (this.applied === true) {\n          this.updateCallback(this.initialColor);\n        }\n\n        this.frame.style.display = 'none';\n\n        // call the closing callback, restoring the onclick method.\n        // this is in a setTimeout because it will trigger the show again before the click is done.\n        setTimeout(function () {\n          if (_this.closeCallback !== undefined) {\n            _this.closeCallback();\n            _this.closeCallback = undefined;\n          }\n        }, 0);\n      }\n\n      /**\n       * bound to the save button. Saves and hides.\n       * @private\n       */\n    }, {\n      key: '_save',\n      value: function _save() {\n        this.updateCallback(this.color);\n        this.applied = false;\n        this._hide();\n      }\n\n      /**\n       * Bound to apply button. Saves but does not close. Is undone by the cancel button.\n       * @private\n       */\n    }, {\n      key: '_apply',\n      value: function _apply() {\n        this.applied = true;\n        this.updateCallback(this.color);\n        this._updatePicker(this.color);\n      }\n\n      /**\n       * load the color from the previous session.\n       * @private\n       */\n    }, {\n      key: '_loadLast',\n      value: function _loadLast() {\n        if (this.previousColor !== undefined) {\n          this.setColor(this.previousColor, false);\n        } else {\n          alert(\&quot;There is no last color to load...\&quot;);\n        }\n      }\n\n      /**\n       * set the color, place the picker\n       * @param rgba\n       * @param setInitial\n       * @private\n       */\n    }, {\n      key: '_setColor',\n      value: function _setColor(rgba) {\n        var setInitial = arguments.length &lt;= 1 || arguments[1] === undefined ? true : arguments[1];\n\n        // store the initial color\n        if (setInitial === true) {\n          this.initialColor = util.extend({}, rgba);\n        }\n\n        this.color = rgba;\n        var hsv = util.RGBToHSV(rgba.r, rgba.g, rgba.b);\n\n        var angleConvert = 2 * Math.PI;\n        var radius = this.r * hsv.s;\n        var x = this.centerCoordinates.x + radius * Math.sin(angleConvert * hsv.h);\n        var y = this.centerCoordinates.y + radius * Math.cos(angleConvert * hsv.h);\n\n        this.colorPickerSelector.style.left = x - 0.5 * this.colorPickerSelector.clientWidth + 'px';\n        this.colorPickerSelector.style.top = y - 0.5 * this.colorPickerSelector.clientHeight + 'px';\n\n        this._updatePicker(rgba);\n      }\n\n      /**\n       * bound to opacity control\n       * @param value\n       * @private\n       */\n    }, {\n      key: '_setOpacity',\n      value: function _setOpacity(value) {\n        this.color.a = value / 100;\n        this._updatePicker(this.color);\n      }\n\n      /**\n       * bound to brightness control\n       * @param value\n       * @private\n       */\n    }, {\n      key: '_setBrightness',\n      value: function _setBrightness(value) {\n        var hsv = util.RGBToHSV(this.color.r, this.color.g, this.color.b);\n        hsv.v = value / 100;\n        var rgba = util.HSVToRGB(hsv.h, hsv.s, hsv.v);\n        rgba['a'] = this.color.a;\n        this.color = rgba;\n        this._updatePicker();\n      }\n\n      /**\n       * update the color picker. A black circle overlays the hue circle to mimic the brightness decreasing.\n       * @param rgba\n       * @private\n       */\n    }, {\n      key: '_updatePicker',\n      value: function _updatePicker() {\n        var rgba = arguments.length &lt;= 0 || arguments[0] === undefined ? this.color : arguments[0];\n\n        var hsv = util.RGBToHSV(rgba.r, rgba.g, rgba.b);\n        var ctx = this.colorPickerCanvas.getContext('2d');\n        if (this.pixelRation === undefined) {\n          this.pixelRatio = (window.devicePixelRatio || 1) / (ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1);\n        }\n        ctx.setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0);\n\n        // clear the canvas\n        var w = this.colorPickerCanvas.clientWidth;\n        var h = this.colorPickerCanvas.clientHeight;\n        ctx.clearRect(0, 0, w, h);\n\n        ctx.putImageData(this.hueCircle, 0, 0);\n        ctx.fillStyle = 'rgba(0,0,0,' + (1 - hsv.v) + ')';\n        ctx.circle(this.centerCoordinates.x, this.centerCoordinates.y, this.r);\n        ctx.fill();\n\n        this.brightnessRange.value = 100 * hsv.v;\n        this.opacityRange.value = 100 * rgba.a;\n\n        this.initialColorDiv.style.backgroundColor = 'rgba(' + this.initialColor.r + ',' + this.initialColor.g + ',' + this.initialColor.b + ',' + this.initialColor.a + ')';\n        this.newColorDiv.style.backgroundColor = 'rgba(' + this.color.r + ',' + this.color.g + ',' + this.color.b + ',' + this.color.a + ')';\n      }\n\n      /**\n       * used by create to set the size of the canvas.\n       * @private\n       */\n    }, {\n      key: '_setSize',\n      value: function _setSize() {\n        this.colorPickerCanvas.style.width = '100%';\n        this.colorPickerCanvas.style.height = '100%';\n\n        this.colorPickerCanvas.width = 289 * this.pixelRatio;\n        this.colorPickerCanvas.height = 289 * this.pixelRatio;\n      }\n\n      /**\n       * create all dom elements\n       * TODO: cleanup, lots of similar dom elements\n       * @private\n       */\n    }, {\n      key: '_create',\n      value: function _create() {\n        this.frame = document.createElement('div');\n        this.frame.className = 'vis-color-picker';\n\n        this.colorPickerDiv = document.createElement('div');\n        this.colorPickerSelector = document.createElement('div');\n        this.colorPickerSelector.className = 'vis-selector';\n        this.colorPickerDiv.appendChild(this.colorPickerSelector);\n\n        this.colorPickerCanvas = document.createElement('canvas');\n        this.colorPickerDiv.appendChild(this.colorPickerCanvas);\n\n        if (!this.colorPickerCanvas.getContext) {\n          var noCanvas = document.createElement('DIV');\n          noCanvas.style.color = 'red';\n          noCanvas.style.fontWeight = 'bold';\n          noCanvas.style.padding = '10px';\n          noCanvas.innerHTML = 'Error: your browser does not support HTML canvas';\n          this.colorPickerCanvas.appendChild(noCanvas);\n        } else {\n          var ctx = this.colorPickerCanvas.getContext(\&quot;2d\&quot;);\n          this.pixelRatio = (window.devicePixelRatio || 1) / (ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1);\n\n          this.colorPickerCanvas.getContext(\&quot;2d\&quot;).setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0);\n        }\n\n        this.colorPickerDiv.className = 'vis-color';\n\n        this.opacityDiv = document.createElement('div');\n        this.opacityDiv.className = 'vis-opacity';\n\n        this.brightnessDiv = document.createElement('div');\n        this.brightnessDiv.className = 'vis-brightness';\n\n        this.arrowDiv = document.createElement('div');\n        this.arrowDiv.className = 'vis-arrow';\n\n        this.opacityRange = document.createElement('input');\n        try {\n          this.opacityRange.type = 'range'; // Not supported on IE9\n          this.opacityRange.min = '0';\n          this.opacityRange.max = '100';\n        } catch (err) {}\n        this.opacityRange.value = '100';\n        this.opacityRange.className = 'vis-range';\n\n        this.brightnessRange = document.createElement('input');\n        try {\n          this.brightnessRange.type = 'range'; // Not supported on IE9\n          this.brightnessRange.min = '0';\n          this.brightnessRange.max = '100';\n        } catch (err) {}\n        this.brightnessRange.value = '100';\n        this.brightnessRange.className = 'vis-range';\n\n        this.opacityDiv.appendChild(this.opacityRange);\n        this.brightnessDiv.appendChild(this.brightnessRange);\n\n        var me = this;\n        this.opacityRange.onchange = function () {\n          me._setOpacity(this.value);\n        };\n        this.opacityRange.oninput = function () {\n          me._setOpacity(this.value);\n        };\n        this.brightnessRange.onchange = function () {\n          me._setBrightness(this.value);\n        };\n        this.brightnessRange.oninput = function () {\n          me._setBrightness(this.value);\n        };\n\n        this.brightnessLabel = document.createElement(\&quot;div\&quot;);\n        this.brightnessLabel.className = \&quot;vis-label vis-brightness\&quot;;\n        this.brightnessLabel.innerHTML = 'brightness:';\n\n        this.opacityLabel = document.createElement(\&quot;div\&quot;);\n        this.opacityLabel.className = \&quot;vis-label vis-opacity\&quot;;\n        this.opacityLabel.innerHTML = 'opacity:';\n\n        this.newColorDiv = document.createElement(\&quot;div\&quot;);\n        this.newColorDiv.className = \&quot;vis-new-color\&quot;;\n        this.newColorDiv.innerHTML = 'new';\n\n        this.initialColorDiv = document.createElement(\&quot;div\&quot;);\n        this.initialColorDiv.className = \&quot;vis-initial-color\&quot;;\n        this.initialColorDiv.innerHTML = 'initial';\n\n        this.cancelButton = document.createElement(\&quot;div\&quot;);\n        this.cancelButton.className = \&quot;vis-button vis-cancel\&quot;;\n        this.cancelButton.innerHTML = 'cancel';\n        this.cancelButton.onclick = this._hide.bind(this, false);\n\n        this.applyButton = document.createElement(\&quot;div\&quot;);\n        this.applyButton.className = \&quot;vis-button vis-apply\&quot;;\n        this.applyButton.innerHTML = 'apply';\n        this.applyButton.onclick = this._apply.bind(this);\n\n        this.saveButton = document.createElement(\&quot;div\&quot;);\n        this.saveButton.className = \&quot;vis-button vis-save\&quot;;\n        this.saveButton.innerHTML = 'save';\n        this.saveButton.onclick = this._save.bind(this);\n\n        this.loadButton = document.createElement(\&quot;div\&quot;);\n        this.loadButton.className = \&quot;vis-button vis-load\&quot;;\n        this.loadButton.innerHTML = 'load last';\n        this.loadButton.onclick = this._loadLast.bind(this);\n\n        this.frame.appendChild(this.colorPickerDiv);\n        this.frame.appendChild(this.arrowDiv);\n        this.frame.appendChild(this.brightnessLabel);\n        this.frame.appendChild(this.brightnessDiv);\n        this.frame.appendChild(this.opacityLabel);\n        this.frame.appendChild(this.opacityDiv);\n        this.frame.appendChild(this.newColorDiv);\n        this.frame.appendChild(this.initialColorDiv);\n\n        this.frame.appendChild(this.cancelButton);\n        this.frame.appendChild(this.applyButton);\n        this.frame.appendChild(this.saveButton);\n        this.frame.appendChild(this.loadButton);\n      }\n\n      /**\n       * bind hammer to the color picker\n       * @private\n       */\n    }, {\n      key: '_bindHammer',\n      value: function _bindHammer() {\n        var _this2 = this;\n\n        this.drag = {};\n        this.pinch = {};\n        this.hammer = new Hammer(this.colorPickerCanvas);\n        this.hammer.get('pinch').set({ enable: true });\n\n        hammerUtil.onTouch(this.hammer, function (event) {\n          _this2._moveSelector(event);\n        });\n        this.hammer.on('tap', function (event) {\n          _this2._moveSelector(event);\n        });\n        this.hammer.on('panstart', function (event) {\n          _this2._moveSelector(event);\n        });\n        this.hammer.on('panmove', function (event) {\n          _this2._moveSelector(event);\n        });\n        this.hammer.on('panend', function (event) {\n          _this2._moveSelector(event);\n        });\n      }\n\n      /**\n       * generate the hue circle. This is relatively heavy (200ms) and is done only once on the first time it is shown.\n       * @private\n       */\n    }, {\n      key: '_generateHueCircle',\n      value: function _generateHueCircle() {\n        if (this.generated === false) {\n          var ctx = this.colorPickerCanvas.getContext('2d');\n          if (this.pixelRation === undefined) {\n            this.pixelRatio = (window.devicePixelRatio || 1) / (ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1);\n          }\n          ctx.setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0);\n\n          // clear the canvas\n          var w = this.colorPickerCanvas.clientWidth;\n          var h = this.colorPickerCanvas.clientHeight;\n          ctx.clearRect(0, 0, w, h);\n\n          // draw hue circle\n          var x = undefined,\n              y = undefined,\n              hue = undefined,\n              sat = undefined;\n          this.centerCoordinates = { x: w * 0.5, y: h * 0.5 };\n          this.r = 0.49 * w;\n          var angleConvert = 2 * Math.PI / 360;\n          var hfac = 1 / 360;\n          var sfac = 1 / this.r;\n          var rgb = undefined;\n          for (hue = 0; hue &lt; 360; hue++) {\n            for (sat = 0; sat &lt; this.r; sat++) {\n              x = this.centerCoordinates.x + sat * Math.sin(angleConvert * hue);\n              y = this.centerCoordinates.y + sat * Math.cos(angleConvert * hue);\n              rgb = util.HSVToRGB(hue * hfac, sat * sfac, 1);\n              ctx.fillStyle = 'rgb(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ')';\n              ctx.fillRect(x - 0.5, y - 0.5, 2, 2);\n            }\n          }\n          ctx.strokeStyle = 'rgba(0,0,0,1)';\n          ctx.circle(this.centerCoordinates.x, this.centerCoordinates.y, this.r);\n          ctx.stroke();\n\n          this.hueCircle = ctx.getImageData(0, 0, w, h);\n        }\n        this.generated = true;\n      }\n\n      /**\n       * move the selector. This is called by hammer functions.\n       *\n       * @param event\n       * @private\n       */\n    }, {\n      key: '_moveSelector',\n      value: function _moveSelector(event) {\n        var rect = this.colorPickerDiv.getBoundingClientRect();\n        var left = event.center.x - rect.left;\n        var top = event.center.y - rect.top;\n\n        var centerY = 0.5 * this.colorPickerDiv.clientHeight;\n        var centerX = 0.5 * this.colorPickerDiv.clientWidth;\n\n        var x = left - centerX;\n        var y = top - centerY;\n\n        var angle = Math.atan2(x, y);\n        var radius = 0.98 * Math.min(Math.sqrt(x * x + y * y), centerX);\n\n        var newTop = Math.cos(angle) * radius + centerY;\n        var newLeft = Math.sin(angle) * radius + centerX;\n\n        this.colorPickerSelector.style.top = newTop - 0.5 * this.colorPickerSelector.clientHeight + 'px';\n        this.colorPickerSelector.style.left = newLeft - 0.5 * this.colorPickerSelector.clientWidth + 'px';\n\n        // set color\n        var h = angle / (2 * Math.PI);\n        h = h &lt; 0 ? h + 1 : h;\n        var s = radius / this.r;\n        var hsv = util.RGBToHSV(this.color.r, this.color.g, this.color.b);\n        hsv.h = h;\n        hsv.s = s;\n        var rgba = util.HSVToRGB(hsv.h, hsv.s, hsv.v);\n        rgba['a'] = this.color.a;\n        this.color = rgba;\n\n        // update previews\n        this.initialColorDiv.style.backgroundColor = 'rgba(' + this.initialColor.r + ',' + this.initialColor.g + ',' + this.initialColor.b + ',' + this.initialColor.a + ')';\n        this.newColorDiv.style.backgroundColor = 'rgba(' + this.color.r + ',' + this.color.g + ',' + this.color.b + ',' + this.color.a + ')';\n      }\n    }]);\n\n    return ColorPicker;\n  })();\n\n  exports['default'] = ColorPicker;\n  module.exports = exports['default'];\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var util = __webpack_require__(1);\n\n  var errorFound = false;\n  var allOptions = undefined;\n  var printStyle = 'background: #FFeeee; color: #dd0000';\n  /**\n   *  Used to validate options.\n   */\n\n  var Validator = (function () {\n    function Validator() {\n      _classCallCheck(this, Validator);\n    }\n\n    /**\n     * Main function to be called\n     * @param options\n     * @param subObject\n     * @returns {boolean}\n     */\n\n    _createClass(Validator, null, [{\n      key: 'validate',\n      value: function validate(options, referenceOptions, subObject) {\n        errorFound = false;\n        allOptions = referenceOptions;\n        var usedOptions = referenceOptions;\n        if (subObject !== undefined) {\n          usedOptions = referenceOptions[subObject];\n        }\n        Validator.parse(options, usedOptions, []);\n        return errorFound;\n      }\n\n      /**\n       * Will traverse an object recursively and check every value\n       * @param options\n       * @param referenceOptions\n       * @param path\n       */\n    }, {\n      key: 'parse',\n      value: function parse(options, referenceOptions, path) {\n        for (var option in options) {\n          if (options.hasOwnProperty(option)) {\n            Validator.check(option, options, referenceOptions, path);\n          }\n        }\n      }\n\n      /**\n       * Check every value. If the value is an object, call the parse function on that object.\n       * @param option\n       * @param options\n       * @param referenceOptions\n       * @param path\n       */\n    }, {\n      key: 'check',\n      value: function check(option, options, referenceOptions, path) {\n        if (referenceOptions[option] === undefined &amp;&amp; referenceOptions.__any__ === undefined) {\n          Validator.getSuggestion(option, referenceOptions, path);\n        } else if (referenceOptions[option] === undefined &amp;&amp; referenceOptions.__any__ !== undefined) {\n          // __any__ is a wildcard. Any value is accepted and will be further analysed by reference.\n          if (Validator.getType(options[option]) === 'object' &amp;&amp; referenceOptions['__any__'].__type__ !== undefined) {\n            // if the any subgroup is not a predefined object int he configurator we do not look deeper into the object.\n            Validator.checkFields(option, options, referenceOptions, '__any__', referenceOptions['__any__'].__type__, path);\n          } else {\n            Validator.checkFields(option, options, referenceOptions, '__any__', referenceOptions['__any__'], path);\n          }\n        } else {\n          // Since all options in the reference are objects, we can check whether they are supposed to be object to look for the __type__ field.\n          if (referenceOptions[option].__type__ !== undefined) {\n            // if this should be an object, we check if the correct type has been supplied to account for shorthand options.\n            Validator.checkFields(option, options, referenceOptions, option, referenceOptions[option].__type__, path);\n          } else {\n            Validator.checkFields(option, options, referenceOptions, option, referenceOptions[option], path);\n          }\n        }\n      }\n\n      /**\n       *\n       * @param {String}  option     | the option property\n       * @param {Object}  options    | The supplied options object\n       * @param {Object}  referenceOptions    | The reference options containing all options and their allowed formats\n       * @param {String}  referenceOption     | Usually this is the same as option, except when handling an __any__ tag.\n       * @param {String}  refOptionType       | This is the type object from the reference options\n       * @param {Array}   path      | where in the object is the option\n       */\n    }, {\n      key: 'checkFields',\n      value: function checkFields(option, options, referenceOptions, referenceOption, refOptionObj, path) {\n        var optionType = Validator.getType(options[option]);\n        var refOptionType = refOptionObj[optionType];\n        if (refOptionType !== undefined) {\n          // if the type is correct, we check if it is supposed to be one of a few select values\n          if (Validator.getType(refOptionType) === 'array') {\n            if (refOptionType.indexOf(options[option]) === -1) {\n              console.log('%cInvalid option detected in \&quot;' + option + '\&quot;.' + ' Allowed values are:' + Validator.print(refOptionType) + ' not \&quot;' + options[option] + '\&quot;. ' + Validator.printLocation(path, option), printStyle);\n              errorFound = true;\n            } else if (optionType === 'object' &amp;&amp; referenceOption !== \&quot;__any__\&quot;) {\n              path = util.copyAndExtendArray(path, option);\n              Validator.parse(options[option], referenceOptions[referenceOption], path);\n            }\n          } else if (optionType === 'object' &amp;&amp; referenceOption !== \&quot;__any__\&quot;) {\n            path = util.copyAndExtendArray(path, option);\n            Validator.parse(options[option], referenceOptions[referenceOption], path);\n          }\n        } else if (refOptionObj['any'] === undefined) {\n          // type of the field is incorrect and the field cannot be any\n          console.log('%cInvalid type received for \&quot;' + option + '\&quot;. Expected: ' + Validator.print(Object.keys(refOptionObj)) + '. Received [' + optionType + '] \&quot;' + options[option] + '\&quot;' + Validator.printLocation(path, option), printStyle);\n          errorFound = true;\n        }\n      }\n    }, {\n      key: 'getType',\n      value: function getType(object) {\n        var type = typeof object;\n\n        if (type === 'object') {\n          if (object === null) {\n            return 'null';\n          }\n          if (object instanceof Boolean) {\n            return 'boolean';\n          }\n          if (object instanceof Number) {\n            return 'number';\n          }\n          if (object instanceof String) {\n            return 'string';\n          }\n          if (Array.isArray(object)) {\n            return 'array';\n          }\n          if (object instanceof Date) {\n            return 'date';\n          }\n          if (object.nodeType !== undefined) {\n            return 'dom';\n          }\n          if (object._isAMomentObject === true) {\n            return 'moment';\n          }\n          return 'object';\n        } else if (type === 'number') {\n          return 'number';\n        } else if (type === 'boolean') {\n          return 'boolean';\n        } else if (type === 'string') {\n          return 'string';\n        } else if (type === undefined) {\n          return 'undefined';\n        }\n        return type;\n      }\n    }, {\n      key: 'getSuggestion',\n      value: function getSuggestion(option, options, path) {\n        var localSearch = Validator.findInOptions(option, options, path, false);\n        var globalSearch = Validator.findInOptions(option, allOptions, [], true);\n\n        var localSearchThreshold = 8;\n        var globalSearchThreshold = 4;\n\n        if (localSearch.indexMatch !== undefined) {\n          console.log('%cUnknown option detected: \&quot;' + option + '\&quot; in ' + Validator.printLocation(localSearch.path, option, '') + 'Perhaps it was incomplete? Did you mean: \&quot;' + localSearch.indexMatch + '\&quot;?\\n\\n', printStyle);\n        } else if (globalSearch.distance &lt;= globalSearchThreshold &amp;&amp; localSearch.distance &gt; globalSearch.distance) {\n          console.log('%cUnknown option detected: \&quot;' + option + '\&quot; in ' + Validator.printLocation(localSearch.path, option, '') + 'Perhaps it was misplaced? Matching option found at: ' + Validator.printLocation(globalSearch.path, globalSearch.closestMatch, ''), printStyle);\n        } else if (localSearch.distance &lt;= localSearchThreshold) {\n          console.log('%cUnknown option detected: \&quot;' + option + '\&quot;. Did you mean \&quot;' + localSearch.closestMatch + '\&quot;?' + Validator.printLocation(localSearch.path, option), printStyle);\n        } else {\n          console.log('%cUnknown option detected: \&quot;' + option + '\&quot;. Did you mean one of these: ' + Validator.print(Object.keys(options)) + Validator.printLocation(path, option), printStyle);\n        }\n\n        errorFound = true;\n      }\n\n      /**\n       * traverse the options in search for a match.\n       * @param option\n       * @param options\n       * @param path\n       * @param recursive\n       * @returns {{closestMatch: string, path: Array, distance: number}}\n       */\n    }, {\n      key: 'findInOptions',\n      value: function findInOptions(option, options, path) {\n        var recursive = arguments.length &lt;= 3 || arguments[3] === undefined ? false : arguments[3];\n\n        var min = 1e9;\n        var closestMatch = '';\n        var closestMatchPath = [];\n        var lowerCaseOption = option.toLowerCase();\n        var indexMatch = undefined;\n        for (var op in options) {\n          var distance = undefined;\n          if (options[op].__type__ !== undefined &amp;&amp; recursive === true) {\n            var result = Validator.findInOptions(option, options[op], util.copyAndExtendArray(path, op));\n            if (min &gt; result.distance) {\n              closestMatch = result.closestMatch;\n              closestMatchPath = result.path;\n              min = result.distance;\n              indexMatch = result.indexMatch;\n            }\n          } else {\n            if (op.toLowerCase().indexOf(lowerCaseOption) !== -1) {\n              indexMatch = op;\n            }\n            distance = Validator.levenshteinDistance(option, op);\n            if (min &gt; distance) {\n              closestMatch = op;\n              closestMatchPath = util.copyArray(path);\n              min = distance;\n            }\n          }\n        }\n        return { closestMatch: closestMatch, path: closestMatchPath, distance: min, indexMatch: indexMatch };\n      }\n    }, {\n      key: 'printLocation',\n      value: function printLocation(path, option) {\n        var prefix = arguments.length &lt;= 2 || arguments[2] === undefined ? 'Problem value found at: \\n' : arguments[2];\n\n        var str = '\\n\\n' + prefix + 'options = {\\n';\n        for (var i = 0; i &lt; path.length; i++) {\n          for (var j = 0; j &lt; i + 1; j++) {\n            str += '  ';\n          }\n          str += path[i] + ': {\\n';\n        }\n        for (var j = 0; j &lt; path.length + 1; j++) {\n          str += '  ';\n        }\n        str += option + '\\n';\n        for (var i = 0; i &lt; path.length + 1; i++) {\n          for (var j = 0; j &lt; path.length - i; j++) {\n            str += '  ';\n          }\n          str += '}\\n';\n        }\n        return str + '\\n\\n';\n      }\n    }, {\n      key: 'print',\n      value: function print(options) {\n        return JSON.stringify(options).replace(/(\\\&quot;)|(\\[)|(\\])|(,\&quot;__type__\&quot;)/g, \&quot;\&quot;).replace(/(\\,)/g, ', ');\n      }\n\n      // Compute the edit distance between the two given strings\n      // http://en.wikibooks.org/wiki/Algorithm_Implementation/Strings/Levenshtein_distance#JavaScript\n      /*\n       Copyright (c) 2011 Andrei Mackenzie\n        Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \&quot;Software\&quot;), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n        The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n        THE SOFTWARE IS PROVIDED \&quot;AS IS\&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n       */\n    }, {\n      key: 'levenshteinDistance',\n      value: function levenshteinDistance(a, b) {\n        if (a.length === 0) return b.length;\n        if (b.length === 0) return a.length;\n\n        var matrix = [];\n\n        // increment along the first column of each row\n        var i;\n        for (i = 0; i &lt;= b.length; i++) {\n          matrix[i] = [i];\n        }\n\n        // increment each column in the first row\n        var j;\n        for (j = 0; j &lt;= a.length; j++) {\n          matrix[0][j] = j;\n        }\n\n        // Fill in the rest of the matrix\n        for (i = 1; i &lt;= b.length; i++) {\n          for (j = 1; j &lt;= a.length; j++) {\n            if (b.charAt(i - 1) == a.charAt(j - 1)) {\n              matrix[i][j] = matrix[i - 1][j - 1];\n            } else {\n              matrix[i][j] = Math.min(matrix[i - 1][j - 1] + 1, // substitution\n              Math.min(matrix[i][j - 1] + 1, // insertion\n              matrix[i - 1][j] + 1)); // deletion\n            }\n          }\n        }\n\n        return matrix[b.length][a.length];\n      }\n    }]);\n\n    return Validator;\n  })();\n\n  exports['default'] = Validator;\n  exports.printStyle = printStyle;\n\n/***/ },\n/* 47 */\n/***/ function(module, exports) {\n\n  /**\n   * This object contains all possible options. It will check if the types are correct, if required if the option is one\n   * of the allowed values.\n   *\n   * __any__ means that the name of the property does not matter.\n   * __type__ is a required field for all objects and contains the allowed types of all objects\n   */\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var string = 'string';\n  var boolean = 'boolean';\n  var number = 'number';\n  var array = 'array';\n  var date = 'date';\n  var object = 'object'; // should only be in a __type__ property\n  var dom = 'dom';\n  var moment = 'moment';\n  var any = 'any';\n\n  var allOptions = {\n    configure: {\n      enabled: { boolean: boolean },\n      filter: { boolean: boolean, 'function': 'function' },\n      container: { dom: dom },\n      __type__: { object: object, boolean: boolean, 'function': 'function' }\n    },\n\n    //globals :\n    align: { string: string },\n    autoResize: { boolean: boolean },\n    throttleRedraw: { number: number },\n    clickToUse: { boolean: boolean },\n    dataAttributes: { string: string, array: array },\n    editable: {\n      add: { boolean: boolean, 'undefined': 'undefined' },\n      remove: { boolean: boolean, 'undefined': 'undefined' },\n      updateGroup: { boolean: boolean, 'undefined': 'undefined' },\n      updateTime: { boolean: boolean, 'undefined': 'undefined' },\n      __type__: { boolean: boolean, object: object }\n    },\n    end: { number: number, date: date, string: string, moment: moment },\n    format: {\n      minorLabels: {\n        millisecond: { string: string, 'undefined': 'undefined' },\n        second: { string: string, 'undefined': 'undefined' },\n        minute: { string: string, 'undefined': 'undefined' },\n        hour: { string: string, 'undefined': 'undefined' },\n        weekday: { string: string, 'undefined': 'undefined' },\n        day: { string: string, 'undefined': 'undefined' },\n        month: { string: string, 'undefined': 'undefined' },\n        year: { string: string, 'undefined': 'undefined' },\n        __type__: { object: object }\n      },\n      majorLabels: {\n        millisecond: { string: string, 'undefined': 'undefined' },\n        second: { string: string, 'undefined': 'undefined' },\n        minute: { string: string, 'undefined': 'undefined' },\n        hour: { string: string, 'undefined': 'undefined' },\n        weekday: { string: string, 'undefined': 'undefined' },\n        day: { string: string, 'undefined': 'undefined' },\n        month: { string: string, 'undefined': 'undefined' },\n        year: { string: string, 'undefined': 'undefined' },\n        __type__: { object: object }\n      },\n      __type__: { object: object }\n    },\n    moment: { 'function': 'function' },\n    groupOrder: { string: string, 'function': 'function' },\n    groupEditable: {\n      add: { boolean: boolean, 'undefined': 'undefined' },\n      remove: { boolean: boolean, 'undefined': 'undefined' },\n      order: { boolean: boolean, 'undefined': 'undefined' },\n      __type__: { boolean: boolean, object: object }\n    },\n    groupOrderSwap: { 'function': 'function' },\n    height: { string: string, number: number },\n    hiddenDates: {\n      start: { date: date, number: number, string: string, moment: moment },\n      end: { date: date, number: number, string: string, moment: moment },\n      repeat: { string: string },\n      __type__: { object: object, array: array }\n    },\n    itemsAlwaysDraggable: { boolean: boolean },\n    locale: { string: string },\n    locales: {\n      __any__: { any: any },\n      __type__: { object: object }\n    },\n    margin: {\n      axis: { number: number },\n      item: {\n        horizontal: { number: number, 'undefined': 'undefined' },\n        vertical: { number: number, 'undefined': 'undefined' },\n        __type__: { object: object, number: number }\n      },\n      __type__: { object: object, number: number }\n    },\n    max: { date: date, number: number, string: string, moment: moment },\n    maxHeight: { number: number, string: string },\n    maxMinorChars: { number: number },\n    min: { date: date, number: number, string: string, moment: moment },\n    minHeight: { number: number, string: string },\n    moveable: { boolean: boolean },\n    multiselect: { boolean: boolean },\n    multiselectPerGroup: { boolean: boolean },\n    onAdd: { 'function': 'function' },\n    onUpdate: { 'function': 'function' },\n    onMove: { 'function': 'function' },\n    onMoving: { 'function': 'function' },\n    onRemove: { 'function': 'function' },\n    onAddGroup: { 'function': 'function' },\n    onMoveGroup: { 'function': 'function' },\n    onRemoveGroup: { 'function': 'function' },\n    order: { 'function': 'function' },\n    orientation: {\n      axis: { string: string, 'undefined': 'undefined' },\n      item: { string: string, 'undefined': 'undefined' },\n      __type__: { string: string, object: object }\n    },\n    selectable: { boolean: boolean },\n    showCurrentTime: { boolean: boolean },\n    showMajorLabels: { boolean: boolean },\n    showMinorLabels: { boolean: boolean },\n    stack: { boolean: boolean },\n    snap: { 'function': 'function', 'null': 'null' },\n    start: { date: date, number: number, string: string, moment: moment },\n    template: { 'function': 'function' },\n    groupTemplate: { 'function': 'function' },\n    timeAxis: {\n      scale: { string: string, 'undefined': 'undefined' },\n      step: { number: number, 'undefined': 'undefined' },\n      __type__: { object: object }\n    },\n    type: { string: string },\n    width: { string: string, number: number },\n    zoomable: { boolean: boolean },\n    zoomKey: { string: ['ctrlKey', 'altKey', 'metaKey', ''] },\n    zoomMax: { number: number },\n    zoomMin: { number: number },\n\n    __type__: { object: object }\n  };\n\n  var configureOptions = {\n    global: {\n      align: ['center', 'left', 'right'],\n      autoResize: true,\n      throttleRedraw: [10, 0, 1000, 10],\n      clickToUse: false,\n      // dataAttributes: ['all'], // FIXME: can be 'all' or string[]\n      editable: {\n        add: false,\n        remove: false,\n        updateGroup: false,\n        updateTime: false\n      },\n      end: '',\n      format: {\n        minorLabels: {\n          millisecond: 'SSS',\n          second: 's',\n          minute: 'HH:mm',\n          hour: 'HH:mm',\n          weekday: 'ddd D',\n          day: 'D',\n          month: 'MMM',\n          year: 'YYYY'\n        },\n        majorLabels: {\n          millisecond: 'HH:mm:ss',\n          second: 'D MMMM HH:mm',\n          minute: 'ddd D MMMM',\n          hour: 'ddd D MMMM',\n          weekday: 'MMMM YYYY',\n          day: 'MMMM YYYY',\n          month: 'YYYY',\n          year: ''\n        }\n      },\n\n      //groupOrder: {string, 'function': 'function'},\n      groupsDraggable: false,\n      height: '',\n      //hiddenDates: {object, array},\n      locale: '',\n      margin: {\n        axis: [20, 0, 100, 1],\n        item: {\n          horizontal: [10, 0, 100, 1],\n          vertical: [10, 0, 100, 1]\n        }\n      },\n      max: '',\n      maxHeight: '',\n      maxMinorChars: [7, 0, 20, 1],\n      min: '',\n      minHeight: '',\n      moveable: false,\n      multiselect: false,\n      multiselectPerGroup: false,\n      //onAdd: {'function': 'function'},\n      //onUpdate: {'function': 'function'},\n      //onMove: {'function': 'function'},\n      //onMoving: {'function': 'function'},\n      //onRename: {'function': 'function'},\n      //order: {'function': 'function'},\n      orientation: {\n        axis: ['both', 'bottom', 'top'],\n        item: ['bottom', 'top']\n      },\n      selectable: true,\n      showCurrentTime: false,\n      showMajorLabels: true,\n      showMinorLabels: true,\n      stack: true,\n      //snap: {'function': 'function', nada},\n      start: '',\n      //template: {'function': 'function'},\n      //timeAxis: {\n      //  scale: ['millisecond', 'second', 'minute', 'hour', 'weekday', 'day', 'month', 'year'],\n      //  step: [1, 1, 10, 1]\n      //},\n      type: ['box', 'point', 'range', 'background'],\n      width: '100%',\n      zoomable: true,\n      zoomKey: ['ctrlKey', 'altKey', 'metaKey', ''],\n      zoomMax: [315360000000000, 10, 315360000000000, 1],\n      zoomMin: [10, 10, 315360000000000, 1]\n    }\n  };\n\n  exports.allOptions = allOptions;\n  exports.configureOptions = configureOptions;\n\n/***/ },\n/* 48 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var Emitter = __webpack_require__(12);\n  var Hammer = __webpack_require__(20);\n  var moment = __webpack_require__(2);\n  var util = __webpack_require__(1);\n  var DataSet = __webpack_require__(8);\n  var DataView = __webpack_require__(10);\n  var Range = __webpack_require__(23);\n  var Core = __webpack_require__(27);\n  var TimeAxis = __webpack_require__(38);\n  var CurrentTime = __webpack_require__(43);\n  var CustomTime = __webpack_require__(41);\n  var LineGraph = __webpack_require__(49);\n\n  var Configurator = __webpack_require__(44);\n  var Validator = __webpack_require__(46)['default'];\n  var printStyle = __webpack_require__(46).printStyle;\n  var allOptions = __webpack_require__(57).allOptions;\n  var configureOptions = __webpack_require__(57).configureOptions;\n\n  /**\n   * Create a timeline visualization\n   * @param {HTMLElement} container\n   * @param {vis.DataSet | Array} [items]\n   * @param {Object} [options]  See Graph2d.setOptions for the available options.\n   * @constructor\n   * @extends Core\n   */\n  function Graph2d(container, items, groups, options) {\n    // if the third element is options, the forth is groups (optionally);\n    if (!(Array.isArray(groups) || groups instanceof DataSet || groups instanceof DataView) &amp;&amp; groups instanceof Object) {\n      var forthArgument = options;\n      options = groups;\n      groups = forthArgument;\n    }\n\n    var me = this;\n    this.defaultOptions = {\n      start: null,\n      end: null,\n\n      autoResize: true,\n\n      orientation: {\n        axis: 'bottom', // axis orientation: 'bottom', 'top', or 'both'\n        item: 'bottom' // not relevant for Graph2d\n      },\n\n      moment: moment,\n\n      width: null,\n      height: null,\n      maxHeight: null,\n      minHeight: null\n    };\n    this.options = util.deepExtend({}, this.defaultOptions);\n\n    // Create the DOM, props, and emitter\n    this._create(container);\n\n    // all components listed here will be repainted automatically\n    this.components = [];\n\n    this.body = {\n      dom: this.dom,\n      domProps: this.props,\n      emitter: {\n        on: this.on.bind(this),\n        off: this.off.bind(this),\n        emit: this.emit.bind(this)\n      },\n      hiddenDates: [],\n      util: {\n        toScreen: me._toScreen.bind(me),\n        toGlobalScreen: me._toGlobalScreen.bind(me), // this refers to the root.width\n        toTime: me._toTime.bind(me),\n        toGlobalTime: me._toGlobalTime.bind(me)\n      }\n    };\n\n    // range\n    this.range = new Range(this.body);\n    this.components.push(this.range);\n    this.body.range = this.range;\n\n    // time axis\n    this.timeAxis = new TimeAxis(this.body);\n    this.components.push(this.timeAxis);\n    //this.body.util.snap = this.timeAxis.snap.bind(this.timeAxis);\n\n    // current time bar\n    this.currentTime = new CurrentTime(this.body);\n    this.components.push(this.currentTime);\n\n    // item set\n    this.linegraph = new LineGraph(this.body);\n\n    this.components.push(this.linegraph);\n\n    this.itemsData = null; // DataSet\n    this.groupsData = null; // DataSet\n\n    this.on('tap', function (event) {\n      me.emit('click', me.getEventProperties(event));\n    });\n    this.on('doubletap', function (event) {\n      me.emit('doubleClick', me.getEventProperties(event));\n    });\n    this.dom.root.oncontextmenu = function (event) {\n      me.emit('contextmenu', me.getEventProperties(event));\n    };\n\n    // apply options\n    if (options) {\n      this.setOptions(options);\n    }\n\n    // IMPORTANT: THIS HAPPENS BEFORE SET ITEMS!\n    if (groups) {\n      this.setGroups(groups);\n    }\n\n    // create itemset\n    if (items) {\n      this.setItems(items);\n    }\n\n    // draw for the first time\n    this._redraw();\n  }\n\n  // Extend the functionality from Core\n  Graph2d.prototype = new Core();\n\n  Graph2d.prototype.setOptions = function (options) {\n    // validate options\n    var errorFound = Validator.validate(options, allOptions);\n    if (errorFound === true) {\n      console.log('%cErrors have been found in the supplied options object.', printStyle);\n    }\n\n    Core.prototype.setOptions.call(this, options);\n  };\n\n  /**\n   * Set items\n   * @param {vis.DataSet | Array | null} items\n   */\n  Graph2d.prototype.setItems = function (items) {\n    var initialLoad = this.itemsData == null;\n\n    // convert to type DataSet when needed\n    var newDataSet;\n    if (!items) {\n      newDataSet = null;\n    } else if (items instanceof DataSet || items instanceof DataView) {\n      newDataSet = items;\n    } else {\n      // turn an array into a dataset\n      newDataSet = new DataSet(items, {\n        type: {\n          start: 'Date',\n          end: 'Date'\n        }\n      });\n    }\n\n    // set items\n    this.itemsData = newDataSet;\n    this.linegraph &amp;&amp; this.linegraph.setItems(newDataSet);\n\n    if (initialLoad) {\n      if (this.options.start != undefined || this.options.end != undefined) {\n        var start = this.options.start != undefined ? this.options.start : null;\n        var end = this.options.end != undefined ? this.options.end : null;\n        this.setWindow(start, end, { animation: false });\n      } else {\n        this.fit({ animation: false });\n      }\n    }\n  };\n\n  /**\n   * Set groups\n   * @param {vis.DataSet | Array} groups\n   */\n  Graph2d.prototype.setGroups = function (groups) {\n    // convert to type DataSet when needed\n    var newDataSet;\n    if (!groups) {\n      newDataSet = null;\n    } else if (groups instanceof DataSet || groups instanceof DataView) {\n      newDataSet = groups;\n    } else {\n      // turn an array into a dataset\n      newDataSet = new DataSet(groups);\n    }\n\n    this.groupsData = newDataSet;\n    this.linegraph.setGroups(newDataSet);\n  };\n\n  /**\n   * Returns an object containing an SVG element with the icon of the group (size determined by iconWidth and iconHeight), the label of the group (content) and the yAxisOrientation of the group (left or right).\n   * @param groupId\n   * @param width\n   * @param height\n   */\n  Graph2d.prototype.getLegend = function (groupId, width, height) {\n    if (width === undefined) {\n      width = 15;\n    }\n    if (height === undefined) {\n      height = 15;\n    }\n    if (this.linegraph.groups[groupId] !== undefined) {\n      return this.linegraph.groups[groupId].getLegend(width, height);\n    } else {\n      return \&quot;cannot find group:'\&quot; + groupId + \&quot;'\&quot;;\n    }\n  };\n\n  /**\n   * This checks if the visible option of the supplied group (by ID) is true or false.\n   * @param groupId\n   * @returns {*}\n   */\n  Graph2d.prototype.isGroupVisible = function (groupId) {\n    if (this.linegraph.groups[groupId] !== undefined) {\n      return this.linegraph.groups[groupId].visible &amp;&amp; (this.linegraph.options.groups.visibility[groupId] === undefined || this.linegraph.options.groups.visibility[groupId] == true);\n    } else {\n      return false;\n    }\n  };\n\n  /**\n   * Get the data range of the item set.\n   * @returns {{min: Date, max: Date}} range  A range with a start and end Date.\n   *                                          When no minimum is found, min==null\n   *                                          When no maximum is found, max==null\n   */\n  Graph2d.prototype.getDataRange = function () {\n    var min = null;\n    var max = null;\n\n    // calculate min from start filed\n    for (var groupId in this.linegraph.groups) {\n      if (this.linegraph.groups.hasOwnProperty(groupId)) {\n        if (this.linegraph.groups[groupId].visible == true) {\n          for (var i = 0; i &lt; this.linegraph.groups[groupId].itemsData.length; i++) {\n            var item = this.linegraph.groups[groupId].itemsData[i];\n            var value = util.convert(item.x, 'Date').valueOf();\n            min = min == null ? value : min &gt; value ? value : min;\n            max = max == null ? value : max &lt; value ? value : max;\n          }\n        }\n      }\n    }\n\n    return {\n      min: min != null ? new Date(min) : null,\n      max: max != null ? new Date(max) : null\n    };\n  };\n\n  /**\n   * Generate Timeline related information from an event\n   * @param {Event} event\n   * @return {Object} An object with related information, like on which area\n   *                  The event happened, whether clicked on an item, etc.\n   */\n  Graph2d.prototype.getEventProperties = function (event) {\n    var clientX = event.center ? event.center.x : event.clientX;\n    var clientY = event.center ? event.center.y : event.clientY;\n    var x = clientX - util.getAbsoluteLeft(this.dom.centerContainer);\n    var y = clientY - util.getAbsoluteTop(this.dom.centerContainer);\n    var time = this._toTime(x);\n\n    var customTime = CustomTime.customTimeFromTarget(event);\n\n    var element = util.getTarget(event);\n    var what = null;\n    if (util.hasParent(element, this.timeAxis.dom.foreground)) {\n      what = 'axis';\n    } else if (this.timeAxis2 &amp;&amp; util.hasParent(element, this.timeAxis2.dom.foreground)) {\n      what = 'axis';\n    } else if (util.hasParent(element, this.linegraph.yAxisLeft.dom.frame)) {\n      what = 'data-axis';\n    } else if (util.hasParent(element, this.linegraph.yAxisRight.dom.frame)) {\n      what = 'data-axis';\n    } else if (util.hasParent(element, this.linegraph.legendLeft.dom.frame)) {\n      what = 'legend';\n    } else if (util.hasParent(element, this.linegraph.legendRight.dom.frame)) {\n      what = 'legend';\n    } else if (customTime != null) {\n      what = 'custom-time';\n    } else if (util.hasParent(element, this.currentTime.bar)) {\n      what = 'current-time';\n    } else if (util.hasParent(element, this.dom.center)) {\n      what = 'background';\n    }\n\n    var value = [];\n    var yAxisLeft = this.linegraph.yAxisLeft;\n    var yAxisRight = this.linegraph.yAxisRight;\n    if (!yAxisLeft.hidden) {\n      value.push(yAxisLeft.screenToValue(y));\n    }\n    if (!yAxisRight.hidden) {\n      value.push(yAxisRight.screenToValue(y));\n    }\n\n    return {\n      event: event,\n      what: what,\n      pageX: event.srcEvent ? event.srcEvent.pageX : event.pageX,\n      pageY: event.srcEvent ? event.srcEvent.pageY : event.pageY,\n      x: x,\n      y: y,\n      time: time,\n      value: value\n    };\n  };\n\n  /**\n   * Load a configurator\n   * @return {Object}\n   * @private\n   */\n  Graph2d.prototype._createConfigurator = function () {\n    return new Configurator(this, this.dom.container, configureOptions);\n  };\n\n  module.exports = Graph2d;\n\n/***/ },\n/* 49 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var util = __webpack_require__(1);\n  var DOMutil = __webpack_require__(7);\n  var DataSet = __webpack_require__(8);\n  var DataView = __webpack_require__(10);\n  var Component = __webpack_require__(25);\n  var DataAxis = __webpack_require__(50);\n  var GraphGroup = __webpack_require__(52);\n  var Legend = __webpack_require__(56);\n  var Bars = __webpack_require__(53);\n  var Lines = __webpack_require__(55);\n  var Points = __webpack_require__(54);\n\n  var UNGROUPED = '__ungrouped__'; // reserved group id for ungrouped items\n\n  /**\n   * This is the constructor of the LineGraph. It requires a Timeline body and options.\n   *\n   * @param body\n   * @param options\n   * @constructor\n   */\n  function LineGraph(body, options) {\n    this.id = util.randomUUID();\n    this.body = body;\n\n    this.defaultOptions = {\n      yAxisOrientation: 'left',\n      defaultGroup: 'default',\n      sort: true,\n      sampling: true,\n      stack: false,\n      graphHeight: '400px',\n      shaded: {\n        enabled: false,\n        orientation: 'bottom' // top, bottom, zero\n      },\n      style: 'line', // line, bar\n      barChart: {\n        width: 50,\n        sideBySide: false,\n        align: 'center' // left, center, right\n      },\n      interpolation: {\n        enabled: true,\n        parametrization: 'centripetal', // uniform (alpha = 0.0), chordal (alpha = 1.0), centripetal (alpha = 0.5)\n        alpha: 0.5\n      },\n      drawPoints: {\n        enabled: true,\n        size: 6,\n        style: 'square' // square, circle\n      },\n      dataAxis: {}, //Defaults are done on DataAxis level\n      legend: {}, //Defaults are done on Legend level\n      groups: {\n        visibility: {}\n      }\n    };\n\n    // options is shared by this lineGraph and all its items\n    this.options = util.extend({}, this.defaultOptions);\n    this.dom = {};\n    this.props = {};\n    this.hammer = null;\n    this.groups = {};\n    this.abortedGraphUpdate = false;\n    this.updateSVGheight = false;\n    this.updateSVGheightOnResize = false;\n    this.forceGraphUpdate = true;\n\n    var me = this;\n    this.itemsData = null; // DataSet\n    this.groupsData = null; // DataSet\n\n    // listeners for the DataSet of the items\n    this.itemListeners = {\n      'add': function add(event, params, senderId) {\n        me._onAdd(params.items);\n      },\n      'update': function update(event, params, senderId) {\n        me._onUpdate(params.items);\n      },\n      'remove': function remove(event, params, senderId) {\n        me._onRemove(params.items);\n      }\n    };\n\n    // listeners for the DataSet of the groups\n    this.groupListeners = {\n      'add': function add(event, params, senderId) {\n        me._onAddGroups(params.items);\n      },\n      'update': function update(event, params, senderId) {\n        me._onUpdateGroups(params.items);\n      },\n      'remove': function remove(event, params, senderId) {\n        me._onRemoveGroups(params.items);\n      }\n    };\n\n    this.items = {}; // object with an Item for every data item\n    this.selection = []; // list with the ids of all selected nodes\n    this.lastStart = this.body.range.start;\n    this.touchParams = {}; // stores properties while dragging\n\n    this.svgElements = {};\n    this.setOptions(options);\n    this.groupsUsingDefaultStyles = [0];\n    this.body.emitter.on('rangechanged', function () {\n      me.lastStart = me.body.range.start;\n      me.svg.style.left = util.option.asSize(-me.props.width);\n\n      me.forceGraphUpdate = true;\n      //Is this local redraw necessary? (Core also does a change event!)\n      me.redraw.call(me);\n    });\n\n    // create the HTML DOM\n    this._create();\n    this.framework = { svg: this.svg, svgElements: this.svgElements, options: this.options, groups: this.groups };\n  }\n\n  LineGraph.prototype = new Component();\n\n  /**\n   * Create the HTML DOM for the ItemSet\n   */\n  LineGraph.prototype._create = function () {\n    var frame = document.createElement('div');\n    frame.className = 'vis-line-graph';\n    this.dom.frame = frame;\n\n    // create svg element for graph drawing.\n    this.svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    this.svg.style.position = 'relative';\n    this.svg.style.height = ('' + this.options.graphHeight).replace('px', '') + 'px';\n    this.svg.style.display = 'block';\n    frame.appendChild(this.svg);\n\n    // data axis\n    this.options.dataAxis.orientation = 'left';\n    this.yAxisLeft = new DataAxis(this.body, this.options.dataAxis, this.svg, this.options.groups);\n\n    this.options.dataAxis.orientation = 'right';\n    this.yAxisRight = new DataAxis(this.body, this.options.dataAxis, this.svg, this.options.groups);\n    delete this.options.dataAxis.orientation;\n\n    // legends\n    this.legendLeft = new Legend(this.body, this.options.legend, 'left', this.options.groups);\n    this.legendRight = new Legend(this.body, this.options.legend, 'right', this.options.groups);\n\n    this.show();\n  };\n\n  /**\n   * set the options of the LineGraph. the mergeOptions is used for subObjects that have an enabled element.\n   * @param {object} options\n   */\n  LineGraph.prototype.setOptions = function (options) {\n    if (options) {\n      var fields = ['sampling', 'defaultGroup', 'stack', 'height', 'graphHeight', 'yAxisOrientation', 'style', 'barChart', 'dataAxis', 'sort', 'groups'];\n      if (options.graphHeight === undefined &amp;&amp; options.height !== undefined) {\n        this.updateSVGheight = true;\n        this.updateSVGheightOnResize = true;\n      } else if (this.body.domProps.centerContainer.height !== undefined &amp;&amp; options.graphHeight !== undefined) {\n        if (parseInt((options.graphHeight + '').replace(\&quot;px\&quot;, '')) &lt; this.body.domProps.centerContainer.height) {\n          this.updateSVGheight = true;\n        }\n      }\n      util.selectiveDeepExtend(fields, this.options, options);\n      util.mergeOptions(this.options, options, 'interpolation');\n      util.mergeOptions(this.options, options, 'drawPoints');\n      util.mergeOptions(this.options, options, 'shaded');\n      util.mergeOptions(this.options, options, 'legend');\n\n      if (options.interpolation) {\n        if (typeof options.interpolation == 'object') {\n          if (options.interpolation.parametrization) {\n            if (options.interpolation.parametrization == 'uniform') {\n              this.options.interpolation.alpha = 0;\n            } else if (options.interpolation.parametrization == 'chordal') {\n              this.options.interpolation.alpha = 1.0;\n            } else {\n              this.options.interpolation.parametrization = 'centripetal';\n              this.options.interpolation.alpha = 0.5;\n            }\n          }\n        }\n      }\n\n      if (this.yAxisLeft) {\n        if (options.dataAxis !== undefined) {\n          this.yAxisLeft.setOptions(this.options.dataAxis);\n          this.yAxisRight.setOptions(this.options.dataAxis);\n        }\n      }\n\n      if (this.legendLeft) {\n        if (options.legend !== undefined) {\n          this.legendLeft.setOptions(this.options.legend);\n          this.legendRight.setOptions(this.options.legend);\n        }\n      }\n\n      if (this.groups.hasOwnProperty(UNGROUPED)) {\n        this.groups[UNGROUPED].setOptions(options);\n      }\n    }\n\n    // this is used to redraw the graph if the visibility of the groups is changed.\n    if (this.dom.frame) {\n      //not on initial run?\n      this.forceGraphUpdate = true;\n      this.body.emitter.emit(\&quot;_change\&quot;, { queue: true });\n    }\n  };\n\n  /**\n   * Hide the component from the DOM\n   */\n  LineGraph.prototype.hide = function () {\n    // remove the frame containing the items\n    if (this.dom.frame.parentNode) {\n      this.dom.frame.parentNode.removeChild(this.dom.frame);\n    }\n  };\n\n  /**\n   * Show the component in the DOM (when not already visible).\n   * @return {Boolean} changed\n   */\n  LineGraph.prototype.show = function () {\n    // show frame containing the items\n    if (!this.dom.frame.parentNode) {\n      this.body.dom.center.appendChild(this.dom.frame);\n    }\n  };\n\n  /**\n   * Set items\n   * @param {vis.DataSet | null} items\n   */\n  LineGraph.prototype.setItems = function (items) {\n    var me = this,\n        ids,\n        oldItemsData = this.itemsData;\n\n    // replace the dataset\n    if (!items) {\n      this.itemsData = null;\n    } else if (items instanceof DataSet || items instanceof DataView) {\n      this.itemsData = items;\n    } else {\n      throw new TypeError('Data must be an instance of DataSet or DataView');\n    }\n\n    if (oldItemsData) {\n      // unsubscribe from old dataset\n      util.forEach(this.itemListeners, function (callback, event) {\n        oldItemsData.off(event, callback);\n      });\n\n      // remove all drawn items\n      ids = oldItemsData.getIds();\n      this._onRemove(ids);\n    }\n\n    if (this.itemsData) {\n      // subscribe to new dataset\n      var id = this.id;\n      util.forEach(this.itemListeners, function (callback, event) {\n        me.itemsData.on(event, callback, id);\n      });\n\n      // add all new items\n      ids = this.itemsData.getIds();\n      this._onAdd(ids);\n    }\n  };\n\n  /**\n   * Set groups\n   * @param {vis.DataSet} groups\n   */\n  LineGraph.prototype.setGroups = function (groups) {\n    var me = this;\n    var ids;\n\n    // unsubscribe from current dataset\n    if (this.groupsData) {\n      util.forEach(this.groupListeners, function (callback, event) {\n        me.groupsData.off(event, callback);\n      });\n\n      // remove all drawn groups\n      ids = this.groupsData.getIds();\n      this.groupsData = null;\n      for (var i = 0; i &lt; ids.length; i++) {\n        this._removeGroup(ids[i]);\n      }\n    }\n\n    // replace the dataset\n    if (!groups) {\n      this.groupsData = null;\n    } else if (groups instanceof DataSet || groups instanceof DataView) {\n      this.groupsData = groups;\n    } else {\n      throw new TypeError('Data must be an instance of DataSet or DataView');\n    }\n\n    if (this.groupsData) {\n      // subscribe to new dataset\n      var id = this.id;\n      util.forEach(this.groupListeners, function (callback, event) {\n        me.groupsData.on(event, callback, id);\n      });\n\n      // draw all ms\n      ids = this.groupsData.getIds();\n      this._onAddGroups(ids);\n    }\n  };\n\n  LineGraph.prototype._onUpdate = function (ids) {\n    this._updateAllGroupData();\n  };\n  LineGraph.prototype._onAdd = function (ids) {\n    this._onUpdate(ids);\n  };\n  LineGraph.prototype._onRemove = function (ids) {\n    this._onUpdate(ids);\n  };\n  LineGraph.prototype._onUpdateGroups = function (groupIds) {\n    this._updateAllGroupData();\n  };\n  LineGraph.prototype._onAddGroups = function (groupIds) {\n    this._onUpdateGroups(groupIds);\n  };\n\n  /**\n   * this cleans the group out off the legends and the dataaxis, updates the ungrouped and updates the graph\n   * @param {Array} groupIds\n   * @private\n   */\n  LineGraph.prototype._onRemoveGroups = function (groupIds) {\n    for (var i = 0; i &lt; groupIds.length; i++) {\n      this._removeGroup(groupIds[i]);\n    }\n    this.forceGraphUpdate = true;\n    this.body.emitter.emit(\&quot;_change\&quot;, { queue: true });\n  };\n\n  /**\n   * this cleans the group out off the legends and the dataaxis\n   * @param groupId\n   * @private\n   */\n  LineGraph.prototype._removeGroup = function (groupId) {\n    if (this.groups.hasOwnProperty(groupId)) {\n      if (this.groups[groupId].options.yAxisOrientation == 'right') {\n        this.yAxisRight.removeGroup(groupId);\n        this.legendRight.removeGroup(groupId);\n        this.legendRight.redraw();\n      } else {\n        this.yAxisLeft.removeGroup(groupId);\n        this.legendLeft.removeGroup(groupId);\n        this.legendLeft.redraw();\n      }\n      delete this.groups[groupId];\n    }\n  };\n\n  /**\n   * update a group object with the group dataset entree\n   *\n   * @param group\n   * @param groupId\n   * @private\n   */\n  LineGraph.prototype._updateGroup = function (group, groupId) {\n    if (!this.groups.hasOwnProperty(groupId)) {\n      this.groups[groupId] = new GraphGroup(group, groupId, this.options, this.groupsUsingDefaultStyles);\n      if (this.groups[groupId].options.yAxisOrientation == 'right') {\n        this.yAxisRight.addGroup(groupId, this.groups[groupId]);\n        this.legendRight.addGroup(groupId, this.groups[groupId]);\n      } else {\n        this.yAxisLeft.addGroup(groupId, this.groups[groupId]);\n        this.legendLeft.addGroup(groupId, this.groups[groupId]);\n      }\n    } else {\n      this.groups[groupId].update(group);\n      if (this.groups[groupId].options.yAxisOrientation == 'right') {\n        this.yAxisRight.updateGroup(groupId, this.groups[groupId]);\n        this.legendRight.updateGroup(groupId, this.groups[groupId]);\n        //If yAxisOrientation changed, clean out the group from the other axis.\n        this.yAxisLeft.removeGroup(groupId);\n        this.legendLeft.removeGroup(groupId);\n      } else {\n        this.yAxisLeft.updateGroup(groupId, this.groups[groupId]);\n        this.legendLeft.updateGroup(groupId, this.groups[groupId]);\n        //If yAxisOrientation changed, clean out the group from the other axis.\n        this.yAxisRight.removeGroup(groupId);\n        this.legendRight.removeGroup(groupId);\n      }\n    }\n    this.legendLeft.redraw();\n    this.legendRight.redraw();\n  };\n\n  /**\n   * this updates all groups, it is used when there is an update the the itemset.\n   *\n   * @private\n   */\n  LineGraph.prototype._updateAllGroupData = function () {\n    if (this.itemsData != null) {\n      var groupsContent = {};\n      var items = this.itemsData.get();\n      //pre-Determine array sizes, for more efficient memory claim\n      var groupCounts = {};\n      for (var i = 0; i &lt; items.length; i++) {\n        var item = items[i];\n        var groupId = item.group;\n        if (groupId === null || groupId === undefined) {\n          groupId = UNGROUPED;\n        }\n        groupCounts.hasOwnProperty(groupId) ? groupCounts[groupId]++ : groupCounts[groupId] = 1;\n      }\n      //Now insert data into the arrays.\n      for (var i = 0; i &lt; items.length; i++) {\n        var item = items[i];\n        var groupId = item.group;\n        if (groupId === null || groupId === undefined) {\n          groupId = UNGROUPED;\n        }\n        if (!groupsContent.hasOwnProperty(groupId)) {\n          groupsContent[groupId] = new Array(groupCounts[groupId]);\n        }\n        //Copy data (because of unmodifiable DataView input.\n        var extended = util.bridgeObject(item);\n        extended.x = util.convert(item.x, 'Date');\n        extended.orginalY = item.y; //real Y\n        extended.y = Number(item.y);\n\n        var index = groupsContent[groupId].length - groupCounts[groupId]--;\n        groupsContent[groupId][index] = extended;\n      }\n\n      //Make sure all groups are present, to allow removal of old groups\n      for (var groupId in this.groups) {\n        if (this.groups.hasOwnProperty(groupId)) {\n          if (!groupsContent.hasOwnProperty(groupId)) {\n            groupsContent[groupId] = new Array(0);\n          }\n        }\n      }\n\n      //Update legendas, style and axis\n      for (var groupId in groupsContent) {\n        if (groupsContent.hasOwnProperty(groupId)) {\n          if (groupsContent[groupId].length == 0) {\n            if (this.groups.hasOwnProperty(groupId)) {\n              this._removeGroup(groupId);\n            }\n          } else {\n            var group = undefined;\n            if (this.groupsData != undefined) {\n              group = this.groupsData.get(groupId);\n            }\n            if (group == undefined) {\n              group = { id: groupId, content: this.options.defaultGroup + groupId };\n            }\n            this._updateGroup(group, groupId);\n            this.groups[groupId].setItems(groupsContent[groupId]);\n          }\n        }\n      }\n      this.forceGraphUpdate = true;\n      this.body.emitter.emit(\&quot;_change\&quot;, { queue: true });\n    }\n  };\n\n  /**\n   * Redraw the component, mandatory function\n   * @return {boolean} Returns true if the component is resized\n   */\n  LineGraph.prototype.redraw = function () {\n    var resized = false;\n\n    // calculate actual size and position\n    this.props.width = this.dom.frame.offsetWidth;\n    this.props.height = this.body.domProps.centerContainer.height - this.body.domProps.border.top - this.body.domProps.border.bottom;\n\n    // check if this component is resized\n    resized = this._isResized() || resized;\n\n    // check whether zoomed (in that case we need to re-stack everything)\n    var visibleInterval = this.body.range.end - this.body.range.start;\n    var zoomed = visibleInterval != this.lastVisibleInterval;\n    this.lastVisibleInterval = visibleInterval;\n\n    // the svg element is three times as big as the width, this allows for fully dragging left and right\n    // without reloading the graph. the controls for this are bound to events in the constructor\n    if (resized == true) {\n      this.svg.style.width = util.option.asSize(3 * this.props.width);\n      this.svg.style.left = util.option.asSize(-this.props.width);\n\n      // if the height of the graph is set as proportional, change the height of the svg\n      if ((this.options.height + '').indexOf(\&quot;%\&quot;) != -1 || this.updateSVGheightOnResize == true) {\n        this.updateSVGheight = true;\n      }\n    }\n\n    // update the height of the graph on each redraw of the graph.\n    if (this.updateSVGheight == true) {\n      if (this.options.graphHeight != this.props.height + 'px') {\n        this.options.graphHeight = this.props.height + 'px';\n        this.svg.style.height = this.props.height + 'px';\n      }\n      this.updateSVGheight = false;\n    } else {\n      this.svg.style.height = ('' + this.options.graphHeight).replace('px', '') + 'px';\n    }\n\n    // zoomed is here to ensure that animations are shown correctly.\n    if (resized == true || zoomed == true || this.abortedGraphUpdate == true || this.forceGraphUpdate == true) {\n      resized = this._updateGraph() || resized;\n      this.forceGraphUpdate = false;\n    } else {\n      // move the whole svg while dragging\n      if (this.lastStart != 0) {\n        var offset = this.body.range.start - this.lastStart;\n        var range = this.body.range.end - this.body.range.start;\n        if (this.props.width != 0) {\n          var rangePerPixelInv = this.props.width / range;\n          var xOffset = offset * rangePerPixelInv;\n          this.svg.style.left = -this.props.width - xOffset + 'px';\n        }\n      }\n    }\n    this.legendLeft.redraw();\n    this.legendRight.redraw();\n    return resized;\n  };\n\n  LineGraph.prototype._getSortedGroupIds = function () {\n    // getting group Ids\n    var grouplist = [];\n    for (var groupId in this.groups) {\n      if (this.groups.hasOwnProperty(groupId)) {\n        var group = this.groups[groupId];\n        if (group.visible == true &amp;&amp; (this.options.groups.visibility[groupId] === undefined || this.options.groups.visibility[groupId] == true)) {\n          grouplist.push({ id: groupId, zIndex: group.options.zIndex });\n        }\n      }\n    }\n    util.insertSort(grouplist, function (a, b) {\n      var az = a.zIndex;\n      var bz = b.zIndex;\n      if (az === undefined) az = 0;\n      if (bz === undefined) bz = 0;\n      return az == bz ? 0 : az &lt; bz ? -1 : 1;\n    });\n    var groupIds = new Array(grouplist.length);\n    for (var i = 0; i &lt; grouplist.length; i++) {\n      groupIds[i] = grouplist[i].id;\n    }\n    return groupIds;\n  };\n\n  /**\n   * Update and redraw the graph.\n   *\n   */\n  LineGraph.prototype._updateGraph = function () {\n    // reset the svg elements\n    DOMutil.prepareElements(this.svgElements);\n    if (this.props.width != 0 &amp;&amp; this.itemsData != null) {\n      var group, i;\n      var groupRanges = {};\n      var changeCalled = false;\n      // this is the range of the SVG canvas\n      var minDate = this.body.util.toGlobalTime(-this.body.domProps.root.width);\n      var maxDate = this.body.util.toGlobalTime(2 * this.body.domProps.root.width);\n\n      // getting group Ids\n      var groupIds = this._getSortedGroupIds();\n      if (groupIds.length &gt; 0) {\n        var groupsData = {};\n\n        // fill groups data, this only loads the data we require based on the timewindow\n        this._getRelevantData(groupIds, groupsData, minDate, maxDate);\n\n        // apply sampling, if disabled, it will pass through this function.\n        this._applySampling(groupIds, groupsData);\n\n        // we transform the X coordinates to detect collisions\n        for (i = 0; i &lt; groupIds.length; i++) {\n          this._convertXcoordinates(groupsData[groupIds[i]]);\n        }\n\n        // now all needed data has been collected we start the processing.\n        this._getYRanges(groupIds, groupsData, groupRanges);\n\n        // update the Y axis first, we use this data to draw at the correct Y points\n        changeCalled = this._updateYAxis(groupIds, groupRanges);\n\n        //  at changeCalled, abort this update cycle as the graph needs another update with new Width input from the Redraw container.\n        //  Cleanup SVG elements on abort.\n        if (changeCalled == true) {\n          DOMutil.cleanupElements(this.svgElements);\n          this.abortedGraphUpdate = true;\n          return true;\n        }\n        this.abortedGraphUpdate = false;\n\n        // With the yAxis scaled correctly, use this to get the Y values of the points.\n        var below = undefined;\n        for (i = 0; i &lt; groupIds.length; i++) {\n          group = this.groups[groupIds[i]];\n          if (this.options.stack === true &amp;&amp; this.options.style === 'line') {\n            if (group.options.excludeFromStacking == undefined || !group.options.excludeFromStacking) {\n              if (below != undefined) {\n                this._stack(groupsData[group.id], groupsData[below.id]);\n                if (group.options.shaded.enabled == true &amp;&amp; group.options.shaded.orientation !== \&quot;group\&quot;) {\n                  if (group.options.shaded.orientation == \&quot;top\&quot; &amp;&amp; below.options.shaded.orientation !== \&quot;group\&quot;) {\n                    below.options.shaded.orientation = \&quot;group\&quot;;\n                    below.options.shaded.groupId = group.id;\n                  } else {\n                    group.options.shaded.orientation = \&quot;group\&quot;;\n                    group.options.shaded.groupId = below.id;\n                  }\n                }\n              }\n              below = group;\n            }\n          }\n          this._convertYcoordinates(groupsData[groupIds[i]], group);\n        }\n\n        //Precalculate paths and draw shading if appropriate. This will make sure the shading is always behind any lines.\n        var paths = {};\n        for (i = 0; i &lt; groupIds.length; i++) {\n          group = this.groups[groupIds[i]];\n          if (group.options.style === 'line' &amp;&amp; group.options.shaded.enabled == true) {\n            var dataset = groupsData[groupIds[i]];\n            if (dataset == null || dataset.length == 0) {\n              continue;\n            }\n            if (!paths.hasOwnProperty(groupIds[i])) {\n              paths[groupIds[i]] = Lines.calcPath(dataset, group);\n            }\n            if (group.options.shaded.orientation === \&quot;group\&quot;) {\n              var subGroupId = group.options.shaded.groupId;\n              if (groupIds.indexOf(subGroupId) === -1) {\n                console.log(group.id + \&quot;: Unknown shading group target given:\&quot; + subGroupId);\n                continue;\n              }\n              if (!paths.hasOwnProperty(subGroupId)) {\n                paths[subGroupId] = Lines.calcPath(groupsData[subGroupId], this.groups[subGroupId]);\n              }\n              Lines.drawShading(paths[groupIds[i]], group, paths[subGroupId], this.framework);\n            } else {\n              Lines.drawShading(paths[groupIds[i]], group, undefined, this.framework);\n            }\n          }\n        }\n\n        // draw the groups, calculating paths if still necessary.\n        Bars.draw(groupIds, groupsData, this.framework);\n        for (i = 0; i &lt; groupIds.length; i++) {\n          group = this.groups[groupIds[i]];\n          if (groupsData[groupIds[i]].length &gt; 0) {\n            switch (group.options.style) {\n              case \&quot;line\&quot;:\n                if (!paths.hasOwnProperty(groupIds[i])) {\n                  paths[groupIds[i]] = Lines.calcPath(groupsData[groupIds[i]], group);\n                }\n                Lines.draw(paths[groupIds[i]], group, this.framework);\n              //explicit no break;\n              case \&quot;point\&quot;:\n              //explicit no break;\n              case \&quot;points\&quot;:\n                if (group.options.style == \&quot;point\&quot; || group.options.style == \&quot;points\&quot; || group.options.drawPoints.enabled == true) {\n                  Points.draw(groupsData[groupIds[i]], group, this.framework);\n                }\n                break;\n              case \&quot;bar\&quot;:\n              // bar needs to be drawn enmasse\n              //explicit no break\n              default:\n              //do nothing...\n            }\n          }\n        }\n      }\n    }\n\n    // cleanup unused svg elements\n    DOMutil.cleanupElements(this.svgElements);\n    return false;\n  };\n\n  LineGraph.prototype._stack = function (data, subData) {\n    var index, dx, dy, subPrevPoint, subNextPoint;\n    index = 0;\n    // for each data point we look for a matching on in the set below\n    for (var j = 0; j &lt; data.length; j++) {\n      subPrevPoint = undefined;\n      subNextPoint = undefined;\n      // we look for time matches or a before-after point\n      for (var k = index; k &lt; subData.length; k++) {\n        // if times match exactly\n        if (subData[k].x === data[j].x) {\n          subPrevPoint = subData[k];\n          subNextPoint = subData[k];\n          index = k;\n          break;\n        } else if (subData[k].x &gt; data[j].x) {\n          // overshoot\n          subNextPoint = subData[k];\n          if (k == 0) {\n            subPrevPoint = subNextPoint;\n          } else {\n            subPrevPoint = subData[k - 1];\n          }\n          index = k;\n          break;\n        }\n      }\n      // in case the last data point has been used, we assume it stays like this.\n      if (subNextPoint === undefined) {\n        subPrevPoint = subData[subData.length - 1];\n        subNextPoint = subData[subData.length - 1];\n      }\n      // linear interpolation\n      dx = subNextPoint.x - subPrevPoint.x;\n      dy = subNextPoint.y - subPrevPoint.y;\n      if (dx == 0) {\n        data[j].y = data[j].orginalY + subNextPoint.y;\n      } else {\n        data[j].y = data[j].orginalY + dy / dx * (data[j].x - subPrevPoint.x) + subPrevPoint.y; // ax + b where b is data[j].y\n      }\n    }\n  };\n\n  /**\n   * first select and preprocess the data from the datasets.\n   * the groups have their preselection of data, we now loop over this data to see\n   * what data we need to draw. Sorted data is much faster.\n   * more optimization is possible by doing the sampling before and using the binary search\n   * to find the end date to determine the increment.\n   *\n   * @param {array}  groupIds\n   * @param {object} groupsData\n   * @param {date}   minDate\n   * @param {date}   maxDate\n   * @private\n   */\n  LineGraph.prototype._getRelevantData = function (groupIds, groupsData, minDate, maxDate) {\n    var group, i, j, item;\n    if (groupIds.length &gt; 0) {\n      for (i = 0; i &lt; groupIds.length; i++) {\n        group = this.groups[groupIds[i]];\n        var itemsData = group.getItems();\n        // optimization for sorted data\n        if (group.options.sort == true) {\n          var dateComparator = function dateComparator(a, b) {\n            return a.getTime() == b.getTime() ? 0 : a &lt; b ? -1 : 1;\n          };\n          var first = Math.max(0, util.binarySearchValue(itemsData, minDate, 'x', 'before', dateComparator));\n          var last = Math.min(itemsData.length, util.binarySearchValue(itemsData, maxDate, 'x', 'after', dateComparator) + 1);\n          if (last &lt;= 0) {\n            last = itemsData.length;\n          }\n          var dataContainer = new Array(last - first);\n          for (j = first; j &lt; last; j++) {\n            item = group.itemsData[j];\n            dataContainer[j - first] = item;\n          }\n          groupsData[groupIds[i]] = dataContainer;\n        } else {\n          // If unsorted data, all data is relevant, just returning entire structure\n          groupsData[groupIds[i]] = group.itemsData;\n        }\n      }\n    }\n  };\n\n  /**\n   *\n   * @param groupIds\n   * @param groupsData\n   * @private\n   */\n  LineGraph.prototype._applySampling = function (groupIds, groupsData) {\n    var group;\n    if (groupIds.length &gt; 0) {\n      for (var i = 0; i &lt; groupIds.length; i++) {\n        group = this.groups[groupIds[i]];\n        if (group.options.sampling == true) {\n          var dataContainer = groupsData[groupIds[i]];\n          if (dataContainer.length &gt; 0) {\n            var increment = 1;\n            var amountOfPoints = dataContainer.length;\n\n            // the global screen is used because changing the width of the yAxis may affect the increment, resulting in an endless loop\n            // of width changing of the yAxis.\n            var xDistance = this.body.util.toGlobalScreen(dataContainer[dataContainer.length - 1].x) - this.body.util.toGlobalScreen(dataContainer[0].x);\n            var pointsPerPixel = amountOfPoints / xDistance;\n            increment = Math.min(Math.ceil(0.2 * amountOfPoints), Math.max(1, Math.round(pointsPerPixel)));\n\n            var sampledData = new Array(amountOfPoints);\n            for (var j = 0; j &lt; amountOfPoints; j += increment) {\n              var idx = Math.round(j / increment);\n              sampledData[idx] = dataContainer[j];\n            }\n            groupsData[groupIds[i]] = sampledData.splice(0, Math.round(amountOfPoints / increment));\n          }\n        }\n      }\n    }\n  };\n\n  /**\n   *\n   *\n   * @param {array}  groupIds\n   * @param {object} groupsData\n   * @param {object} groupRanges  | this is being filled here\n   * @private\n   */\n  LineGraph.prototype._getYRanges = function (groupIds, groupsData, groupRanges) {\n    var groupData, group, i;\n    var combinedDataLeft = [];\n    var combinedDataRight = [];\n    var options;\n    if (groupIds.length &gt; 0) {\n      for (i = 0; i &lt; groupIds.length; i++) {\n        groupData = groupsData[groupIds[i]];\n        options = this.groups[groupIds[i]].options;\n        if (groupData.length &gt; 0) {\n          group = this.groups[groupIds[i]];\n          // if bar graphs are stacked, their range need to be handled differently and accumulated over all groups.\n          if (options.stack === true &amp;&amp; options.style === 'bar') {\n            if (options.yAxisOrientation === 'left') {\n              combinedDataLeft = combinedDataLeft.concat(group.getItems());\n            } else {\n              combinedDataRight = combinedDataRight.concat(group.getItems());\n            }\n          } else {\n            groupRanges[groupIds[i]] = group.getYRange(groupData, groupIds[i]);\n          }\n        }\n      }\n\n      // if bar graphs are stacked, their range need to be handled differently and accumulated over all groups.\n      Bars.getStackedYRange(combinedDataLeft, groupRanges, groupIds, '__barStackLeft', 'left');\n      Bars.getStackedYRange(combinedDataRight, groupRanges, groupIds, '__barStackRight', 'right');\n    }\n  };\n\n  /**\n   * this sets the Y ranges for the Y axis. It also determines which of the axis should be shown or hidden.\n   * @param {Array} groupIds\n   * @param {Object} groupRanges\n   * @private\n   */\n  LineGraph.prototype._updateYAxis = function (groupIds, groupRanges) {\n    var resized = false;\n    var yAxisLeftUsed = false;\n    var yAxisRightUsed = false;\n    var minLeft = 1e9,\n        minRight = 1e9,\n        maxLeft = -1e9,\n        maxRight = -1e9,\n        minVal,\n        maxVal;\n    // if groups are present\n    if (groupIds.length &gt; 0) {\n      // this is here to make sure that if there are no items in the axis but there are groups, that there is no infinite draw/redraw loop.\n      for (var i = 0; i &lt; groupIds.length; i++) {\n        var group = this.groups[groupIds[i]];\n        if (group &amp;&amp; group.options.yAxisOrientation != 'right') {\n          yAxisLeftUsed = true;\n          minLeft = 1e9;\n          maxLeft = -1e9;\n        } else if (group &amp;&amp; group.options.yAxisOrientation) {\n          yAxisRightUsed = true;\n          minRight = 1e9;\n          maxRight = -1e9;\n        }\n      }\n\n      // if there are items:\n      for (var i = 0; i &lt; groupIds.length; i++) {\n        if (groupRanges.hasOwnProperty(groupIds[i])) {\n          if (groupRanges[groupIds[i]].ignore !== true) {\n            minVal = groupRanges[groupIds[i]].min;\n            maxVal = groupRanges[groupIds[i]].max;\n\n            if (groupRanges[groupIds[i]].yAxisOrientation != 'right') {\n              yAxisLeftUsed = true;\n              minLeft = minLeft &gt; minVal ? minVal : minLeft;\n              maxLeft = maxLeft &lt; maxVal ? maxVal : maxLeft;\n            } else {\n              yAxisRightUsed = true;\n              minRight = minRight &gt; minVal ? minVal : minRight;\n              maxRight = maxRight &lt; maxVal ? maxVal : maxRight;\n            }\n          }\n        }\n      }\n\n      if (yAxisLeftUsed == true) {\n        this.yAxisLeft.setRange(minLeft, maxLeft);\n      }\n      if (yAxisRightUsed == true) {\n        this.yAxisRight.setRange(minRight, maxRight);\n      }\n    }\n    resized = this._toggleAxisVisiblity(yAxisLeftUsed, this.yAxisLeft) || resized;\n    resized = this._toggleAxisVisiblity(yAxisRightUsed, this.yAxisRight) || resized;\n\n    if (yAxisRightUsed == true &amp;&amp; yAxisLeftUsed == true) {\n      this.yAxisLeft.drawIcons = true;\n      this.yAxisRight.drawIcons = true;\n    } else {\n      this.yAxisLeft.drawIcons = false;\n      this.yAxisRight.drawIcons = false;\n    }\n    this.yAxisRight.master = !yAxisLeftUsed;\n    this.yAxisRight.masterAxis = this.yAxisLeft;\n\n    if (this.yAxisRight.master == false) {\n      if (yAxisRightUsed == true) {\n        this.yAxisLeft.lineOffset = this.yAxisRight.width;\n      } else {\n        this.yAxisLeft.lineOffset = 0;\n      }\n\n      resized = this.yAxisLeft.redraw() || resized;\n      resized = this.yAxisRight.redraw() || resized;\n    } else {\n      resized = this.yAxisRight.redraw() || resized;\n    }\n\n    // clean the accumulated lists\n    var tempGroups = ['__barStackLeft', '__barStackRight', '__lineStackLeft', '__lineStackRight'];\n    for (var i = 0; i &lt; tempGroups.length; i++) {\n      if (groupIds.indexOf(tempGroups[i]) != -1) {\n        groupIds.splice(groupIds.indexOf(tempGroups[i]), 1);\n      }\n    }\n\n    return resized;\n  };\n\n  /**\n   * This shows or hides the Y axis if needed. If there is a change, the changed event is emitted by the updateYAxis function\n   *\n   * @param {boolean} axisUsed\n   * @returns {boolean}\n   * @private\n   * @param axis\n   */\n  LineGraph.prototype._toggleAxisVisiblity = function (axisUsed, axis) {\n    var changed = false;\n    if (axisUsed == false) {\n      if (axis.dom.frame.parentNode &amp;&amp; axis.hidden == false) {\n        axis.hide();\n        changed = true;\n      }\n    } else {\n      if (!axis.dom.frame.parentNode &amp;&amp; axis.hidden == true) {\n        axis.show();\n        changed = true;\n      }\n    }\n    return changed;\n  };\n\n  /**\n   * This uses the DataAxis object to generate the correct X coordinate on the SVG window. It uses the\n   * util function toScreen to get the x coordinate from the timestamp. It also pre-filters the data and get the minMax ranges for\n   * the yAxis.\n   *\n   * @param datapoints\n   * @returns {Array}\n   * @private\n   */\n  LineGraph.prototype._convertXcoordinates = function (datapoints) {\n    var toScreen = this.body.util.toScreen;\n    for (var i = 0; i &lt; datapoints.length; i++) {\n      datapoints[i].screen_x = toScreen(datapoints[i].x) + this.props.width;\n      datapoints[i].screen_y = datapoints[i].y; //starting point for range calculations\n    }\n  };\n\n  /**\n   * This uses the DataAxis object to generate the correct X coordinate on the SVG window. It uses the\n   * util function toScreen to get the x coordinate from the timestamp. It also pre-filters the data and get the minMax ranges for\n   * the yAxis.\n   *\n   * @param datapoints\n   * @param group\n   * @returns {Array}\n   * @private\n   */\n  LineGraph.prototype._convertYcoordinates = function (datapoints, group) {\n    var axis = this.yAxisLeft;\n    var svgHeight = Number(this.svg.style.height.replace('px', ''));\n    if (group.options.yAxisOrientation == 'right') {\n      axis = this.yAxisRight;\n    }\n    for (var i = 0; i &lt; datapoints.length; i++) {\n      datapoints[i].screen_y = Math.round(axis.convertValue(datapoints[i].y));\n    }\n    group.setZeroPosition(Math.min(svgHeight, axis.convertValue(0)));\n  };\n\n  module.exports = LineGraph;\n\n/***/ },\n/* 50 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var util = __webpack_require__(1);\n  var DOMutil = __webpack_require__(7);\n  var Component = __webpack_require__(25);\n  var DataScale = __webpack_require__(51);\n  /**\n   * A horizontal time axis\n   * @param {Object} [options]        See DataAxis.setOptions for the available\n   *                                  options.\n   * @constructor DataAxis\n   * @extends Component\n   * @param body\n   */\n  function DataAxis(body, options, svg, linegraphOptions) {\n    this.id = util.randomUUID();\n    this.body = body;\n\n    this.defaultOptions = {\n      orientation: 'left', // supported: 'left', 'right'\n      showMinorLabels: true,\n      showMajorLabels: true,\n      icons: false,\n      majorLinesOffset: 7,\n      minorLinesOffset: 4,\n      labelOffsetX: 10,\n      labelOffsetY: 2,\n      iconWidth: 20,\n      width: '40px',\n      visible: true,\n      alignZeros: true,\n      left: {\n        range: { min: undefined, max: undefined },\n        format: function format(value) {\n          return '' + Number.parseFloat(value.toPrecision(3));\n        },\n        title: { text: undefined, style: undefined }\n      },\n      right: {\n        range: { min: undefined, max: undefined },\n        format: function format(value) {\n          return '' + Number.parseFloat(value.toPrecision(3));\n        },\n        title: { text: undefined, style: undefined }\n      }\n    };\n\n    this.linegraphOptions = linegraphOptions;\n    this.linegraphSVG = svg;\n    this.props = {};\n    this.DOMelements = { // dynamic elements\n      lines: {},\n      labels: {},\n      title: {}\n    };\n\n    this.dom = {};\n    this.scale = undefined;\n    this.range = { start: 0, end: 0 };\n\n    this.options = util.extend({}, this.defaultOptions);\n    this.conversionFactor = 1;\n\n    this.setOptions(options);\n    this.width = Number(('' + this.options.width).replace(\&quot;px\&quot;, \&quot;\&quot;));\n    this.minWidth = this.width;\n    this.height = this.linegraphSVG.getBoundingClientRect().height;\n    this.hidden = false;\n\n    this.stepPixels = 25;\n    this.zeroCrossing = -1;\n    this.amountOfSteps = -1;\n\n    this.lineOffset = 0;\n    this.master = true;\n    this.masterAxis = null;\n    this.svgElements = {};\n    this.iconsRemoved = false;\n\n    this.groups = {};\n    this.amountOfGroups = 0;\n\n    // create the HTML DOM\n    this._create();\n    this.framework = { svg: this.svg, svgElements: this.svgElements, options: this.options, groups: this.groups };\n\n    var me = this;\n    this.body.emitter.on(\&quot;verticalDrag\&quot;, function () {\n      me.dom.lineContainer.style.top = me.body.domProps.scrollTop + 'px';\n    });\n  }\n\n  DataAxis.prototype = new Component();\n\n  DataAxis.prototype.addGroup = function (label, graphOptions) {\n    if (!this.groups.hasOwnProperty(label)) {\n      this.groups[label] = graphOptions;\n    }\n    this.amountOfGroups += 1;\n  };\n\n  DataAxis.prototype.updateGroup = function (label, graphOptions) {\n    if (!this.groups.hasOwnProperty(label)) {\n      this.amountOfGroups += 1;\n    }\n    this.groups[label] = graphOptions;\n  };\n\n  DataAxis.prototype.removeGroup = function (label) {\n    if (this.groups.hasOwnProperty(label)) {\n      delete this.groups[label];\n      this.amountOfGroups -= 1;\n    }\n  };\n\n  DataAxis.prototype.setOptions = function (options) {\n    if (options) {\n      var redraw = false;\n      if (this.options.orientation != options.orientation &amp;&amp; options.orientation !== undefined) {\n        redraw = true;\n      }\n      var fields = ['orientation', 'showMinorLabels', 'showMajorLabels', 'icons', 'majorLinesOffset', 'minorLinesOffset', 'labelOffsetX', 'labelOffsetY', 'iconWidth', 'width', 'visible', 'left', 'right', 'alignZeros'];\n      util.selectiveDeepExtend(fields, this.options, options);\n\n      this.minWidth = Number(('' + this.options.width).replace(\&quot;px\&quot;, \&quot;\&quot;));\n      if (redraw === true &amp;&amp; this.dom.frame) {\n        this.hide();\n        this.show();\n      }\n    }\n  };\n\n  /**\n   * Create the HTML DOM for the DataAxis\n   */\n  DataAxis.prototype._create = function () {\n    this.dom.frame = document.createElement('div');\n    this.dom.frame.style.width = this.options.width;\n    this.dom.frame.style.height = this.height;\n\n    this.dom.lineContainer = document.createElement('div');\n    this.dom.lineContainer.style.width = '100%';\n    this.dom.lineContainer.style.height = this.height;\n    this.dom.lineContainer.style.position = 'relative';\n\n    // create svg element for graph drawing.\n    this.svg = document.createElementNS('http://www.w3.org/2000/svg', \&quot;svg\&quot;);\n    this.svg.style.position = \&quot;absolute\&quot;;\n    this.svg.style.top = '0px';\n    this.svg.style.height = '100%';\n    this.svg.style.width = '100%';\n    this.svg.style.display = \&quot;block\&quot;;\n    this.dom.frame.appendChild(this.svg);\n  };\n\n  DataAxis.prototype._redrawGroupIcons = function () {\n    DOMutil.prepareElements(this.svgElements);\n\n    var x;\n    var iconWidth = this.options.iconWidth;\n    var iconHeight = 15;\n    var iconOffset = 4;\n    var y = iconOffset + 0.5 * iconHeight;\n\n    if (this.options.orientation === 'left') {\n      x = iconOffset;\n    } else {\n      x = this.width - iconWidth - iconOffset;\n    }\n\n    var groupArray = Object.keys(this.groups);\n    groupArray.sort(function (a, b) {\n      return a &lt; b ? -1 : 1;\n    });\n\n    for (var i = 0; i &lt; groupArray.length; i++) {\n      var groupId = groupArray[i];\n      if (this.groups[groupId].visible === true &amp;&amp; (this.linegraphOptions.visibility[groupId] === undefined || this.linegraphOptions.visibility[groupId] === true)) {\n        this.groups[groupId].getLegend(iconWidth, iconHeight, this.framework, x, y);\n        y += iconHeight + iconOffset;\n      }\n    }\n\n    DOMutil.cleanupElements(this.svgElements);\n    this.iconsRemoved = false;\n  };\n\n  DataAxis.prototype._cleanupIcons = function () {\n    if (this.iconsRemoved === false) {\n      DOMutil.prepareElements(this.svgElements);\n      DOMutil.cleanupElements(this.svgElements);\n      this.iconsRemoved = true;\n    }\n  };\n\n  /**\n   * Create the HTML DOM for the DataAxis\n   */\n  DataAxis.prototype.show = function () {\n    this.hidden = false;\n    if (!this.dom.frame.parentNode) {\n      if (this.options.orientation === 'left') {\n        this.body.dom.left.appendChild(this.dom.frame);\n      } else {\n        this.body.dom.right.appendChild(this.dom.frame);\n      }\n    }\n\n    if (!this.dom.lineContainer.parentNode) {\n      this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer);\n    }\n  };\n\n  /**\n   * Create the HTML DOM for the DataAxis\n   */\n  DataAxis.prototype.hide = function () {\n    this.hidden = true;\n    if (this.dom.frame.parentNode) {\n      this.dom.frame.parentNode.removeChild(this.dom.frame);\n    }\n\n    if (this.dom.lineContainer.parentNode) {\n      this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer);\n    }\n  };\n\n  /**\n   * Set a range (start and end)\n   * @param end\n   * @param start\n   * @param end\n   */\n  DataAxis.prototype.setRange = function (start, end) {\n    this.range.start = start;\n    this.range.end = end;\n  };\n\n  /**\n   * Repaint the component\n   * @return {boolean} Returns true if the component is resized\n   */\n  DataAxis.prototype.redraw = function () {\n    var resized = false;\n    var activeGroups = 0;\n\n    // Make sure the line container adheres to the vertical scrolling.\n    this.dom.lineContainer.style.top = this.body.domProps.scrollTop + 'px';\n\n    for (var groupId in this.groups) {\n      if (this.groups.hasOwnProperty(groupId)) {\n        if (this.groups[groupId].visible === true &amp;&amp; (this.linegraphOptions.visibility[groupId] === undefined || this.linegraphOptions.visibility[groupId] === true)) {\n          activeGroups++;\n        }\n      }\n    }\n    if (this.amountOfGroups === 0 || activeGroups === 0) {\n      this.hide();\n    } else {\n      this.show();\n      this.height = Number(this.linegraphSVG.style.height.replace(\&quot;px\&quot;, \&quot;\&quot;));\n\n      // svg offsetheight did not work in firefox and explorer...\n      this.dom.lineContainer.style.height = this.height + 'px';\n      this.width = this.options.visible === true ? Number(('' + this.options.width).replace(\&quot;px\&quot;, \&quot;\&quot;)) : 0;\n\n      var props = this.props;\n      var frame = this.dom.frame;\n\n      // update classname\n      frame.className = 'vis-data-axis';\n\n      // calculate character width and height\n      this._calculateCharSize();\n\n      var orientation = this.options.orientation;\n      var showMinorLabels = this.options.showMinorLabels;\n      var showMajorLabels = this.options.showMajorLabels;\n\n      // determine the width and height of the elements for the axis\n      props.minorLabelHeight = showMinorLabels ? props.minorCharHeight : 0;\n      props.majorLabelHeight = showMajorLabels ? props.majorCharHeight : 0;\n\n      props.minorLineWidth = this.body.dom.backgroundHorizontal.offsetWidth - this.lineOffset - this.width + 2 * this.options.minorLinesOffset;\n      props.minorLineHeight = 1;\n      props.majorLineWidth = this.body.dom.backgroundHorizontal.offsetWidth - this.lineOffset - this.width + 2 * this.options.majorLinesOffset;\n      props.majorLineHeight = 1;\n\n      //  take frame offline while updating (is almost twice as fast)\n      if (orientation === 'left') {\n        frame.style.top = '0';\n        frame.style.left = '0';\n        frame.style.bottom = '';\n        frame.style.width = this.width + 'px';\n        frame.style.height = this.height + \&quot;px\&quot;;\n        this.props.width = this.body.domProps.left.width;\n        this.props.height = this.body.domProps.left.height;\n      } else {\n        // right\n        frame.style.top = '';\n        frame.style.bottom = '0';\n        frame.style.left = '0';\n        frame.style.width = this.width + 'px';\n        frame.style.height = this.height + \&quot;px\&quot;;\n        this.props.width = this.body.domProps.right.width;\n        this.props.height = this.body.domProps.right.height;\n      }\n\n      resized = this._redrawLabels();\n      resized = this._isResized() || resized;\n\n      if (this.options.icons === true) {\n        this._redrawGroupIcons();\n      } else {\n        this._cleanupIcons();\n      }\n\n      this._redrawTitle(orientation);\n    }\n    return resized;\n  };\n\n  /**\n   * Repaint major and minor text labels and vertical grid lines\n   * @private\n   */\n  DataAxis.prototype._redrawLabels = function () {\n    var _this = this;\n\n    var resized = false;\n    DOMutil.prepareElements(this.DOMelements.lines);\n    DOMutil.prepareElements(this.DOMelements.labels);\n    var orientation = this.options['orientation'];\n    var customRange = this.options[orientation].range != undefined ? this.options[orientation].range : {};\n\n    //Override range with manual options:\n    var autoScaleEnd = true;\n    if (customRange.max != undefined) {\n      this.range.end = customRange.max;\n      autoScaleEnd = false;\n    }\n    var autoScaleStart = true;\n    if (customRange.min != undefined) {\n      this.range.start = customRange.min;\n      autoScaleStart = false;\n    }\n\n    this.scale = new DataScale(this.range.start, this.range.end, autoScaleStart, autoScaleEnd, this.dom.frame.offsetHeight, this.props.majorCharHeight, this.options.alignZeros, this.options[orientation].format);\n\n    if (this.master === false &amp;&amp; this.masterAxis != undefined) {\n      this.scale.followScale(this.masterAxis.scale);\n    }\n\n    //Is updated in side-effect of _redrawLabel():\n    this.maxLabelSize = 0;\n\n    var lines = this.scale.getLines();\n    lines.forEach(function (line) {\n      var y = line.y;\n      var isMajor = line.major;\n      if (_this.options['showMinorLabels'] &amp;&amp; isMajor === false) {\n        _this._redrawLabel(y - 2, line.val, orientation, 'vis-y-axis vis-minor', _this.props.minorCharHeight);\n      }\n      if (isMajor) {\n        if (y &gt;= 0) {\n          _this._redrawLabel(y - 2, line.val, orientation, 'vis-y-axis vis-major', _this.props.majorCharHeight);\n        }\n      }\n      if (_this.master === true) {\n        if (isMajor) {\n          _this._redrawLine(y, orientation, 'vis-grid vis-horizontal vis-major', _this.options.majorLinesOffset, _this.props.majorLineWidth);\n        } else {\n          _this._redrawLine(y, orientation, 'vis-grid vis-horizontal vis-minor', _this.options.minorLinesOffset, _this.props.minorLineWidth);\n        }\n      }\n    });\n\n    // Note that title is rotated, so we're using the height, not width!\n    var titleWidth = 0;\n    if (this.options[orientation].title !== undefined &amp;&amp; this.options[orientation].title.text !== undefined) {\n      titleWidth = this.props.titleCharHeight;\n    }\n    var offset = this.options.icons === true ? Math.max(this.options.iconWidth, titleWidth) + this.options.labelOffsetX + 15 : titleWidth + this.options.labelOffsetX + 15;\n\n    // this will resize the yAxis to accommodate the labels.\n    if (this.maxLabelSize &gt; this.width - offset &amp;&amp; this.options.visible === true) {\n      this.width = this.maxLabelSize + offset;\n      this.options.width = this.width + \&quot;px\&quot;;\n      DOMutil.cleanupElements(this.DOMelements.lines);\n      DOMutil.cleanupElements(this.DOMelements.labels);\n      this.redraw();\n      resized = true;\n    }\n    // this will resize the yAxis if it is too big for the labels.\n    else if (this.maxLabelSize &lt; this.width - offset &amp;&amp; this.options.visible === true &amp;&amp; this.width &gt; this.minWidth) {\n        this.width = Math.max(this.minWidth, this.maxLabelSize + offset);\n        this.options.width = this.width + \&quot;px\&quot;;\n        DOMutil.cleanupElements(this.DOMelements.lines);\n        DOMutil.cleanupElements(this.DOMelements.labels);\n        this.redraw();\n        resized = true;\n      } else {\n        DOMutil.cleanupElements(this.DOMelements.lines);\n        DOMutil.cleanupElements(this.DOMelements.labels);\n        resized = false;\n      }\n\n    return resized;\n  };\n\n  DataAxis.prototype.convertValue = function (value) {\n    return this.scale.convertValue(value);\n  };\n\n  DataAxis.prototype.screenToValue = function (x) {\n    return this.scale.screenToValue(x);\n  };\n\n  /**\n   * Create a label for the axis at position x\n   * @private\n   * @param y\n   * @param text\n   * @param orientation\n   * @param className\n   * @param characterHeight\n   */\n  DataAxis.prototype._redrawLabel = function (y, text, orientation, className, characterHeight) {\n    // reuse redundant label\n    var label = DOMutil.getDOMElement('div', this.DOMelements.labels, this.dom.frame); //this.dom.redundant.labels.shift();\n    label.className = className;\n    label.innerHTML = text;\n    if (orientation === 'left') {\n      label.style.left = '-' + this.options.labelOffsetX + 'px';\n      label.style.textAlign = \&quot;right\&quot;;\n    } else {\n      label.style.right = '-' + this.options.labelOffsetX + 'px';\n      label.style.textAlign = \&quot;left\&quot;;\n    }\n\n    label.style.top = y - 0.5 * characterHeight + this.options.labelOffsetY + 'px';\n\n    text += '';\n\n    var largestWidth = Math.max(this.props.majorCharWidth, this.props.minorCharWidth);\n    if (this.maxLabelSize &lt; text.length * largestWidth) {\n      this.maxLabelSize = text.length * largestWidth;\n    }\n  };\n\n  /**\n   * Create a minor line for the axis at position y\n   * @param y\n   * @param orientation\n   * @param className\n   * @param offset\n   * @param width\n   */\n  DataAxis.prototype._redrawLine = function (y, orientation, className, offset, width) {\n    if (this.master === true) {\n      var line = DOMutil.getDOMElement('div', this.DOMelements.lines, this.dom.lineContainer); //this.dom.redundant.lines.shift();\n      line.className = className;\n      line.innerHTML = '';\n\n      if (orientation === 'left') {\n        line.style.left = this.width - offset + 'px';\n      } else {\n        line.style.right = this.width - offset + 'px';\n      }\n\n      line.style.width = width + 'px';\n      line.style.top = y + 'px';\n    }\n  };\n\n  /**\n   * Create a title for the axis\n   * @private\n   * @param orientation\n   */\n  DataAxis.prototype._redrawTitle = function (orientation) {\n    DOMutil.prepareElements(this.DOMelements.title);\n\n    // Check if the title is defined for this axes\n    if (this.options[orientation].title !== undefined &amp;&amp; this.options[orientation].title.text !== undefined) {\n      var title = DOMutil.getDOMElement('div', this.DOMelements.title, this.dom.frame);\n      title.className = 'vis-y-axis vis-title vis-' + orientation;\n      title.innerHTML = this.options[orientation].title.text;\n\n      // Add style - if provided\n      if (this.options[orientation].title.style !== undefined) {\n        util.addCssText(title, this.options[orientation].title.style);\n      }\n\n      if (orientation === 'left') {\n        title.style.left = this.props.titleCharHeight + 'px';\n      } else {\n        title.style.right = this.props.titleCharHeight + 'px';\n      }\n\n      title.style.width = this.height + 'px';\n    }\n\n    // we need to clean up in case we did not use all elements.\n    DOMutil.cleanupElements(this.DOMelements.title);\n  };\n\n  /**\n   * Determine the size of text on the axis (both major and minor axis).\n   * The size is calculated only once and then cached in this.props.\n   * @private\n   */\n  DataAxis.prototype._calculateCharSize = function () {\n    // determine the char width and height on the minor axis\n    if (!('minorCharHeight' in this.props)) {\n      var textMinor = document.createTextNode('0');\n      var measureCharMinor = document.createElement('div');\n      measureCharMinor.className = 'vis-y-axis vis-minor vis-measure';\n      measureCharMinor.appendChild(textMinor);\n      this.dom.frame.appendChild(measureCharMinor);\n\n      this.props.minorCharHeight = measureCharMinor.clientHeight;\n      this.props.minorCharWidth = measureCharMinor.clientWidth;\n\n      this.dom.frame.removeChild(measureCharMinor);\n    }\n\n    if (!('majorCharHeight' in this.props)) {\n      var textMajor = document.createTextNode('0');\n      var measureCharMajor = document.createElement('div');\n      measureCharMajor.className = 'vis-y-axis vis-major vis-measure';\n      measureCharMajor.appendChild(textMajor);\n      this.dom.frame.appendChild(measureCharMajor);\n\n      this.props.majorCharHeight = measureCharMajor.clientHeight;\n      this.props.majorCharWidth = measureCharMajor.clientWidth;\n\n      this.dom.frame.removeChild(measureCharMajor);\n    }\n\n    if (!('titleCharHeight' in this.props)) {\n      var textTitle = document.createTextNode('0');\n      var measureCharTitle = document.createElement('div');\n      measureCharTitle.className = 'vis-y-axis vis-title vis-measure';\n      measureCharTitle.appendChild(textTitle);\n      this.dom.frame.appendChild(measureCharTitle);\n\n      this.props.titleCharHeight = measureCharTitle.clientHeight;\n      this.props.titleCharWidth = measureCharTitle.clientWidth;\n\n      this.dom.frame.removeChild(measureCharTitle);\n    }\n  };\n\n  module.exports = DataAxis;\n\n/***/ },\n/* 51 */\n/***/ function(module, exports) {\n\n  /**\n   * Created by ludo on 25-1-16.\n   */\n\n  'use strict';\n\n  function DataScale(start, end, autoScaleStart, autoScaleEnd, containerHeight, majorCharHeight) {\n    var zeroAlign = arguments.length &lt;= 6 || arguments[6] === undefined ? false : arguments[6];\n    var formattingFunction = arguments.length &lt;= 7 || arguments[7] === undefined ? false : arguments[7];\n\n    this.majorSteps = [1, 2, 5, 10];\n    this.minorSteps = [0.25, 0.5, 1, 2];\n    this.customLines = null;\n\n    this.containerHeight = containerHeight;\n    this.majorCharHeight = majorCharHeight;\n    this._start = start;\n    this._end = end;\n\n    this.scale = 1;\n    this.minorStepIdx = -1;\n    this.magnitudefactor = 1;\n    this.determineScale();\n\n    this.zeroAlign = zeroAlign;\n    this.autoScaleStart = autoScaleStart;\n    this.autoScaleEnd = autoScaleEnd;\n\n    this.formattingFunction = formattingFunction;\n\n    if (autoScaleStart || autoScaleEnd) {\n      var me = this;\n      var roundToMinor = function roundToMinor(value) {\n        var rounded = value - value % (me.magnitudefactor * me.minorSteps[me.minorStepIdx]);\n        if (value % (me.magnitudefactor * me.minorSteps[me.minorStepIdx]) &gt; 0.5 * (me.magnitudefactor * me.minorSteps[me.minorStepIdx])) {\n          return rounded + me.magnitudefactor * me.minorSteps[me.minorStepIdx];\n        } else {\n          return rounded;\n        }\n      };\n      if (autoScaleStart) {\n        this._start -= this.magnitudefactor * 2 * this.minorSteps[this.minorStepIdx];\n        this._start = roundToMinor(this._start);\n      }\n\n      if (autoScaleEnd) {\n        this._end += this.magnitudefactor * this.minorSteps[this.minorStepIdx];\n        this._end = roundToMinor(this._end);\n      }\n      this.determineScale();\n    }\n  }\n\n  DataScale.prototype.setCharHeight = function (majorCharHeight) {\n    this.majorCharHeight = majorCharHeight;\n  };\n\n  DataScale.prototype.setHeight = function (containerHeight) {\n    this.containerHeight = containerHeight;\n  };\n\n  DataScale.prototype.determineScale = function () {\n    var range = this._end - this._start;\n    this.scale = this.containerHeight / range;\n    var minimumStepValue = this.majorCharHeight / this.scale;\n    var orderOfMagnitude = Math.round(Math.log(range) / Math.LN10);\n\n    this.minorStepIdx = -1;\n    this.magnitudefactor = Math.pow(10, orderOfMagnitude);\n\n    var start = 0;\n    if (orderOfMagnitude &lt; 0) {\n      start = orderOfMagnitude;\n    }\n\n    var solutionFound = false;\n    for (var l = start; Math.abs(l) &lt;= Math.abs(orderOfMagnitude); l++) {\n      this.magnitudefactor = Math.pow(10, l);\n      for (var j = 0; j &lt; this.minorSteps.length; j++) {\n        var stepSize = this.magnitudefactor * this.minorSteps[j];\n        if (stepSize &gt;= minimumStepValue) {\n          solutionFound = true;\n          this.minorStepIdx = j;\n          break;\n        }\n      }\n      if (solutionFound === true) {\n        break;\n      }\n    }\n  };\n\n  DataScale.prototype.is_major = function (value) {\n    return value % (this.magnitudefactor * this.majorSteps[this.minorStepIdx]) === 0;\n  };\n\n  DataScale.prototype.getStep = function () {\n    return this.magnitudefactor * this.minorSteps[this.minorStepIdx];\n  };\n\n  DataScale.prototype.getFirstMajor = function () {\n    var majorStep = this.magnitudefactor * this.majorSteps[this.minorStepIdx];\n    return this.convertValue(this._start + (majorStep - this._start % majorStep) % majorStep);\n  };\n\n  DataScale.prototype.formatValue = function (current) {\n    var returnValue = current.toPrecision(5);\n    if (typeof this.formattingFunction === 'function') {\n      returnValue = this.formattingFunction(current);\n    }\n\n    if (typeof returnValue === 'number') {\n      return '' + returnValue;\n    } else if (typeof returnValue === 'string') {\n      return returnValue;\n    } else {\n      return current.toPrecision(5);\n    }\n  };\n\n  DataScale.prototype.getLines = function () {\n    var lines = [];\n    var step = this.getStep();\n    var bottomOffset = (step - this._start % step) % step;\n    for (var i = this._start + bottomOffset; this._end - i &gt; 0.00001; i += step) {\n      if (i != this._start) {\n        //Skip the bottom line\n        lines.push({ major: this.is_major(i), y: this.convertValue(i), val: this.formatValue(i) });\n      }\n    }\n    return lines;\n  };\n\n  DataScale.prototype.followScale = function (other) {\n    var oldStepIdx = this.minorStepIdx;\n    var oldStart = this._start;\n    var oldEnd = this._end;\n\n    var me = this;\n    var increaseMagnitude = function increaseMagnitude() {\n      me.magnitudefactor *= 2;\n    };\n    var decreaseMagnitude = function decreaseMagnitude() {\n      me.magnitudefactor /= 2;\n    };\n\n    if (other.minorStepIdx &lt;= 1 &amp;&amp; this.minorStepIdx &lt;= 1 || other.minorStepIdx &gt; 1 &amp;&amp; this.minorStepIdx &gt; 1) {\n      //easy, no need to change stepIdx nor multiplication factor\n    } else if (other.minorStepIdx &lt; this.minorStepIdx) {\n        //I'm 5, they are 4 per major.\n        this.minorStepIdx = 1;\n        if (oldStepIdx == 2) {\n          increaseMagnitude();\n        } else {\n          increaseMagnitude();\n          increaseMagnitude();\n        }\n      } else {\n        //I'm 4, they are 5 per major\n        this.minorStepIdx = 2;\n        if (oldStepIdx == 1) {\n          decreaseMagnitude();\n        } else {\n          decreaseMagnitude();\n          decreaseMagnitude();\n        }\n      }\n\n    //Get masters stats:\n    var lines = other.getLines();\n    var otherZero = other.convertValue(0);\n    var otherStep = other.getStep() * other.scale;\n\n    var done = false;\n    var count = 0;\n    //Loop until magnitude is correct for given constrains.\n    while (!done &amp;&amp; count++ &lt; 5) {\n\n      //Get my stats:\n      this.scale = otherStep / (this.minorSteps[this.minorStepIdx] * this.magnitudefactor);\n      var newRange = this.containerHeight / this.scale;\n\n      //For the case the magnitudefactor has changed:\n      this._start = oldStart;\n      this._end = this._start + newRange;\n\n      var myOriginalZero = this._end * this.scale;\n      var majorStep = this.magnitudefactor * this.majorSteps[this.minorStepIdx];\n      var majorOffset = this.getFirstMajor() - other.getFirstMajor();\n\n      if (this.zeroAlign) {\n        var zeroOffset = otherZero - myOriginalZero;\n        this._end += zeroOffset / this.scale;\n        this._start = this._end - newRange;\n      } else {\n        if (!this.autoScaleStart) {\n          this._start += majorStep - majorOffset / this.scale;\n          this._end = this._start + newRange;\n        } else {\n          this._start -= majorOffset / this.scale;\n          this._end = this._start + newRange;\n        }\n      }\n      if (!this.autoScaleEnd &amp;&amp; this._end &gt; oldEnd + 0.00001) {\n        //Need to decrease magnitude to prevent scale overshoot! (end)\n        decreaseMagnitude();\n        done = false;\n        continue;\n      }\n      if (!this.autoScaleStart &amp;&amp; this._start &lt; oldStart - 0.00001) {\n        if (this.zeroAlign &amp;&amp; oldStart &gt;= 0) {\n          console.warn(\&quot;Can't adhere to given 'min' range, due to zeroalign\&quot;);\n        } else {\n          //Need to decrease magnitude to prevent scale overshoot! (start)\n          decreaseMagnitude();\n          done = false;\n          continue;\n        }\n      }\n      if (this.autoScaleStart &amp;&amp; this.autoScaleEnd &amp;&amp; newRange &lt; oldEnd - oldStart) {\n        increaseMagnitude();\n        done = false;\n        continue;\n      }\n      done = true;\n    }\n  };\n\n  DataScale.prototype.convertValue = function (value) {\n    return this.containerHeight - (value - this._start) * this.scale;\n  };\n\n  DataScale.prototype.screenToValue = function (pixels) {\n    return (this.containerHeight - pixels) / this.scale + this._start;\n  };\n\n  module.exports = DataScale;\n\n/***/ },\n/* 52 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var util = __webpack_require__(1);\n  var DOMutil = __webpack_require__(7);\n  var Bars = __webpack_require__(53);\n  var Lines = __webpack_require__(55);\n  var Points = __webpack_require__(54);\n\n  /**\n   * /**\n   * @param {object} group            | the object of the group from the dataset\n   * @param {string} groupId          | ID of the group\n   * @param {object} options          | the default options\n   * @param {array} groupsUsingDefaultStyles  | this array has one entree.\n   *                                            It is passed as an array so it is passed by reference.\n   *                                            It enumerates through the default styles\n   * @constructor\n   */\n  function GraphGroup(group, groupId, options, groupsUsingDefaultStyles) {\n    this.id = groupId;\n    var fields = ['sampling', 'style', 'sort', 'yAxisOrientation', 'barChart', 'drawPoints', 'shaded', 'interpolation', 'zIndex', 'excludeFromStacking', 'excludeFromLegend'];\n    this.options = util.selectiveBridgeObject(fields, options);\n    this.usingDefaultStyle = group.className === undefined;\n    this.groupsUsingDefaultStyles = groupsUsingDefaultStyles;\n    this.zeroPosition = 0;\n    this.update(group);\n    if (this.usingDefaultStyle == true) {\n      this.groupsUsingDefaultStyles[0] += 1;\n    }\n    this.itemsData = [];\n    this.visible = group.visible === undefined ? true : group.visible;\n  }\n\n  /**\n   * this loads a reference to all items in this group into this group.\n   * @param {array} items\n   */\n  GraphGroup.prototype.setItems = function (items) {\n    if (items != null) {\n      this.itemsData = items;\n      if (this.options.sort == true) {\n        util.insertSort(this.itemsData, function (a, b) {\n          return a.x &gt; b.x ? 1 : -1;\n        });\n      }\n    } else {\n      this.itemsData = [];\n    }\n  };\n\n  GraphGroup.prototype.getItems = function () {\n    return this.itemsData;\n  };\n\n  /**\n   * this is used for barcharts and shading, this way, we only have to calculate it once.\n   * @param pos\n   */\n  GraphGroup.prototype.setZeroPosition = function (pos) {\n    this.zeroPosition = pos;\n  };\n\n  /**\n   * set the options of the graph group over the default options.\n   * @param options\n   */\n  GraphGroup.prototype.setOptions = function (options) {\n    if (options !== undefined) {\n      var fields = ['sampling', 'style', 'sort', 'yAxisOrientation', 'barChart', 'zIndex', 'excludeFromStacking', 'excludeFromLegend'];\n      util.selectiveDeepExtend(fields, this.options, options);\n\n      // if the group's drawPoints is a function delegate the callback to the onRender property\n      if (typeof options.drawPoints == 'function') {\n        options.drawPoints = {\n          onRender: options.drawPoints\n        };\n      }\n\n      util.mergeOptions(this.options, options, 'interpolation');\n      util.mergeOptions(this.options, options, 'drawPoints');\n      util.mergeOptions(this.options, options, 'shaded');\n\n      if (options.interpolation) {\n        if (typeof options.interpolation == 'object') {\n          if (options.interpolation.parametrization) {\n            if (options.interpolation.parametrization == 'uniform') {\n              this.options.interpolation.alpha = 0;\n            } else if (options.interpolation.parametrization == 'chordal') {\n              this.options.interpolation.alpha = 1.0;\n            } else {\n              this.options.interpolation.parametrization = 'centripetal';\n              this.options.interpolation.alpha = 0.5;\n            }\n          }\n        }\n      }\n    }\n  };\n\n  /**\n   * this updates the current group class with the latest group dataset entree, used in _updateGroup in linegraph\n   * @param group\n   */\n  GraphGroup.prototype.update = function (group) {\n    this.group = group;\n    this.content = group.content || 'graph';\n    this.className = group.className || this.className || 'vis-graph-group' + this.groupsUsingDefaultStyles[0] % 10;\n    this.visible = group.visible === undefined ? true : group.visible;\n    this.style = group.style;\n    this.setOptions(group.options);\n  };\n\n  /**\n   * return the legend entree for this group.\n   *\n   * @param iconWidth\n   * @param iconHeight\n   * @returns {{icon: HTMLElement, label: (group.content|*|string), orientation: (.options.yAxisOrientation|*)}}\n   */\n  GraphGroup.prototype.getLegend = function (iconWidth, iconHeight, framework, x, y) {\n    if (framework == undefined || framework == null) {\n      var svg = document.createElementNS('http://www.w3.org/2000/svg', \&quot;svg\&quot;);\n      framework = { svg: svg, svgElements: {}, options: this.options, groups: [this] };\n    }\n    if (x == undefined || x == null) {\n      x = 0;\n    }\n    if (y == undefined || y == null) {\n      y = 0.5 * iconHeight;\n    }\n    switch (this.options.style) {\n      case \&quot;line\&quot;:\n        Lines.drawIcon(this, x, y, iconWidth, iconHeight, framework);\n        break;\n      case \&quot;points\&quot;: //explicit no break\n      case \&quot;point\&quot;:\n        Points.drawIcon(this, x, y, iconWidth, iconHeight, framework);\n        break;\n      case \&quot;bar\&quot;:\n        Bars.drawIcon(this, x, y, iconWidth, iconHeight, framework);\n        break;\n    }\n    return { icon: framework.svg, label: this.content, orientation: this.options.yAxisOrientation };\n  };\n\n  GraphGroup.prototype.getYRange = function (groupData) {\n    var yMin = groupData[0].y;\n    var yMax = groupData[0].y;\n    for (var j = 0; j &lt; groupData.length; j++) {\n      yMin = yMin &gt; groupData[j].y ? groupData[j].y : yMin;\n      yMax = yMax &lt; groupData[j].y ? groupData[j].y : yMax;\n    }\n    return { min: yMin, max: yMax, yAxisOrientation: this.options.yAxisOrientation };\n  };\n\n  module.exports = GraphGroup;\n\n/***/ },\n/* 53 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var DOMutil = __webpack_require__(7);\n  var Points = __webpack_require__(54);\n\n  function Bargraph(groupId, options) {}\n\n  Bargraph.drawIcon = function (group, x, y, iconWidth, iconHeight, framework) {\n    var fillHeight = iconHeight * 0.5;\n    var path, fillPath;\n\n    var outline = DOMutil.getSVGElement(\&quot;rect\&quot;, framework.svgElements, framework.svg);\n    outline.setAttributeNS(null, \&quot;x\&quot;, x);\n    outline.setAttributeNS(null, \&quot;y\&quot;, y - fillHeight);\n    outline.setAttributeNS(null, \&quot;width\&quot;, iconWidth);\n    outline.setAttributeNS(null, \&quot;height\&quot;, 2 * fillHeight);\n    outline.setAttributeNS(null, \&quot;class\&quot;, \&quot;vis-outline\&quot;);\n\n    var barWidth = Math.round(0.3 * iconWidth);\n    var originalWidth = group.options.barChart.width;\n    var scale = originalWidth / barWidth;\n    var bar1Height = Math.round(0.4 * iconHeight);\n    var bar2Height = Math.round(0.75 * iconHeight);\n\n    var offset = Math.round((iconWidth - 2 * barWidth) / 3);\n\n    DOMutil.drawBar(x + 0.5 * barWidth + offset, y + fillHeight - bar1Height - 1, barWidth, bar1Height, group.className + ' vis-bar', framework.svgElements, framework.svg, group.style);\n    DOMutil.drawBar(x + 1.5 * barWidth + offset + 2, y + fillHeight - bar2Height - 1, barWidth, bar2Height, group.className + ' vis-bar', framework.svgElements, framework.svg, group.style);\n\n    if (group.options.drawPoints.enabled == true) {\n      var groupTemplate = {\n        style: group.options.drawPoints.style,\n        styles: group.options.drawPoints.styles,\n        size: group.options.drawPoints.size / scale,\n        className: group.className\n      };\n      DOMutil.drawPoint(x + 0.5 * barWidth + offset, y + fillHeight - bar1Height - 1, groupTemplate, framework.svgElements, framework.svg);\n      DOMutil.drawPoint(x + 1.5 * barWidth + offset + 2, y + fillHeight - bar2Height - 1, groupTemplate, framework.svgElements, framework.svg);\n    }\n  };\n\n  /**\n   * draw a bar graph\n   *\n   * @param groupIds\n   * @param processedGroupData\n   */\n  Bargraph.draw = function (groupIds, processedGroupData, framework) {\n    var combinedData = [];\n    var intersections = {};\n    var coreDistance;\n    var key, drawData;\n    var group;\n    var i, j;\n    var barPoints = 0;\n\n    // combine all barchart data\n    for (i = 0; i &lt; groupIds.length; i++) {\n      group = framework.groups[groupIds[i]];\n      if (group.options.style === 'bar') {\n        if (group.visible === true &amp;&amp; (framework.options.groups.visibility[groupIds[i]] === undefined || framework.options.groups.visibility[groupIds[i]] === true)) {\n          for (j = 0; j &lt; processedGroupData[groupIds[i]].length; j++) {\n            combinedData.push({\n              screen_x: processedGroupData[groupIds[i]][j].screen_x,\n              screen_y: processedGroupData[groupIds[i]][j].screen_y,\n              x: processedGroupData[groupIds[i]][j].x,\n              y: processedGroupData[groupIds[i]][j].y,\n              groupId: groupIds[i],\n              label: processedGroupData[groupIds[i]][j].label\n            });\n            barPoints += 1;\n          }\n        }\n      }\n    }\n\n    if (barPoints === 0) {\n      return;\n    }\n\n    // sort by time and by group\n    combinedData.sort(function (a, b) {\n      if (a.screen_x === b.screen_x) {\n        return a.groupId &lt; b.groupId ? -1 : 1;\n      } else {\n        return a.screen_x - b.screen_x;\n      }\n    });\n\n    // get intersections\n    Bargraph._getDataIntersections(intersections, combinedData);\n\n    // plot barchart\n    for (i = 0; i &lt; combinedData.length; i++) {\n      group = framework.groups[combinedData[i].groupId];\n      var minWidth = group.options.barChart.minWidth != undefined ? group.options.barChart.minWidth : 0.1 * group.options.barChart.width;\n\n      key = combinedData[i].screen_x;\n      var heightOffset = 0;\n      if (intersections[key] === undefined) {\n        if (i + 1 &lt; combinedData.length) {\n          coreDistance = Math.abs(combinedData[i + 1].screen_x - key);\n        }\n        drawData = Bargraph._getSafeDrawData(coreDistance, group, minWidth);\n      } else {\n        var nextKey = i + (intersections[key].amount - intersections[key].resolved);\n        var prevKey = i - (intersections[key].resolved + 1);\n        if (nextKey &lt; combinedData.length) {\n          coreDistance = Math.abs(combinedData[nextKey].screen_x - key);\n        }\n        drawData = Bargraph._getSafeDrawData(coreDistance, group, minWidth);\n        intersections[key].resolved += 1;\n\n        if (group.options.stack === true &amp;&amp; group.options.excludeFromStacking !== true) {\n          if (combinedData[i].screen_y &lt; group.zeroPosition) {\n            heightOffset = intersections[key].accumulatedNegative;\n            intersections[key].accumulatedNegative += group.zeroPosition - combinedData[i].screen_y;\n          } else {\n            heightOffset = intersections[key].accumulatedPositive;\n            intersections[key].accumulatedPositive += group.zeroPosition - combinedData[i].screen_y;\n          }\n        } else if (group.options.barChart.sideBySide === true) {\n          drawData.width = drawData.width / intersections[key].amount;\n          drawData.offset += intersections[key].resolved * drawData.width - 0.5 * drawData.width * (intersections[key].amount + 1);\n        }\n      }\n      DOMutil.drawBar(combinedData[i].screen_x + drawData.offset, combinedData[i].screen_y - heightOffset, drawData.width, group.zeroPosition - combinedData[i].screen_y, group.className + ' vis-bar', framework.svgElements, framework.svg, group.style);\n      // draw points\n      if (group.options.drawPoints.enabled === true) {\n        var pointData = {\n          screen_x: combinedData[i].screen_x,\n          screen_y: combinedData[i].screen_y - heightOffset,\n          x: combinedData[i].x,\n          y: combinedData[i].y,\n          groupId: combinedData[i].groupId,\n          label: combinedData[i].label\n        };\n        Points.draw([pointData], group, framework, drawData.offset);\n        //DOMutil.drawPoint(combinedData[i].x + drawData.offset, combinedData[i].y, group, framework.svgElements, framework.svg);\n      }\n    }\n  };\n\n  /**\n   * Fill the intersections object with counters of how many datapoints share the same x coordinates\n   * @param intersections\n   * @param combinedData\n   * @private\n   */\n  Bargraph._getDataIntersections = function (intersections, combinedData) {\n    // get intersections\n    var coreDistance;\n    for (var i = 0; i &lt; combinedData.length; i++) {\n      if (i + 1 &lt; combinedData.length) {\n        coreDistance = Math.abs(combinedData[i + 1].screen_x - combinedData[i].screen_x);\n      }\n      if (i &gt; 0) {\n        coreDistance = Math.min(coreDistance, Math.abs(combinedData[i - 1].screen_x - combinedData[i].screen_x));\n      }\n      if (coreDistance === 0) {\n        if (intersections[combinedData[i].screen_x] === undefined) {\n          intersections[combinedData[i].screen_x] = {\n            amount: 0,\n            resolved: 0,\n            accumulatedPositive: 0,\n            accumulatedNegative: 0\n          };\n        }\n        intersections[combinedData[i].screen_x].amount += 1;\n      }\n    }\n  };\n\n  /**\n   * Get the width and offset for bargraphs based on the coredistance between datapoints\n   *\n   * @param coreDistance\n   * @param group\n   * @param minWidth\n   * @returns {{width: Number, offset: Number}}\n   * @private\n   */\n  Bargraph._getSafeDrawData = function (coreDistance, group, minWidth) {\n    var width, offset;\n    if (coreDistance &lt; group.options.barChart.width &amp;&amp; coreDistance &gt; 0) {\n      width = coreDistance &lt; minWidth ? minWidth : coreDistance;\n\n      offset = 0; // recalculate offset with the new width;\n      if (group.options.barChart.align === 'left') {\n        offset -= 0.5 * coreDistance;\n      } else if (group.options.barChart.align === 'right') {\n        offset += 0.5 * coreDistance;\n      }\n    } else {\n      // default settings\n      width = group.options.barChart.width;\n      offset = 0;\n      if (group.options.barChart.align === 'left') {\n        offset -= 0.5 * group.options.barChart.width;\n      } else if (group.options.barChart.align === 'right') {\n        offset += 0.5 * group.options.barChart.width;\n      }\n    }\n\n    return { width: width, offset: offset };\n  };\n\n  Bargraph.getStackedYRange = function (combinedData, groupRanges, groupIds, groupLabel, orientation) {\n    if (combinedData.length &gt; 0) {\n      // sort by time and by group\n      combinedData.sort(function (a, b) {\n        if (a.screen_x === b.screen_x) {\n          return a.groupId &lt; b.groupId ? -1 : 1;\n        } else {\n          return a.screen_x - b.screen_x;\n        }\n      });\n      var intersections = {};\n\n      Bargraph._getDataIntersections(intersections, combinedData);\n      groupRanges[groupLabel] = Bargraph._getStackedYRange(intersections, combinedData);\n      groupRanges[groupLabel].yAxisOrientation = orientation;\n      groupIds.push(groupLabel);\n    }\n  };\n\n  Bargraph._getStackedYRange = function (intersections, combinedData) {\n    var key;\n    var yMin = combinedData[0].screen_y;\n    var yMax = combinedData[0].screen_y;\n    for (var i = 0; i &lt; combinedData.length; i++) {\n      key = combinedData[i].screen_x;\n      if (intersections[key] === undefined) {\n        yMin = yMin &gt; combinedData[i].screen_y ? combinedData[i].screen_y : yMin;\n        yMax = yMax &lt; combinedData[i].screen_y ? combinedData[i].screen_y : yMax;\n      } else {\n        if (combinedData[i].screen_y &lt; 0) {\n          intersections[key].accumulatedNegative += combinedData[i].screen_y;\n        } else {\n          intersections[key].accumulatedPositive += combinedData[i].screen_y;\n        }\n      }\n    }\n    for (var xpos in intersections) {\n      if (intersections.hasOwnProperty(xpos)) {\n        yMin = yMin &gt; intersections[xpos].accumulatedNegative ? intersections[xpos].accumulatedNegative : yMin;\n        yMin = yMin &gt; intersections[xpos].accumulatedPositive ? intersections[xpos].accumulatedPositive : yMin;\n        yMax = yMax &lt; intersections[xpos].accumulatedNegative ? intersections[xpos].accumulatedNegative : yMax;\n        yMax = yMax &lt; intersections[xpos].accumulatedPositive ? intersections[xpos].accumulatedPositive : yMax;\n      }\n    }\n\n    return { min: yMin, max: yMax };\n  };\n\n  module.exports = Bargraph;\n\n/***/ },\n/* 54 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var DOMutil = __webpack_require__(7);\n\n  function Points(groupId, options) {}\n\n  /**\n   * draw the data points\n   *\n   * @param {Array} dataset\n   * @param {Object} JSONcontainer\n   * @param {Object} svg            | SVG DOM element\n   * @param {GraphGroup} group\n   * @param {Number} [offset]\n   */\n  Points.draw = function (dataset, group, framework, offset) {\n    offset = offset || 0;\n    var callback = getCallback(framework, group);\n\n    for (var i = 0; i &lt; dataset.length; i++) {\n      if (!callback) {\n        // draw the point the simple way.\n        DOMutil.drawPoint(dataset[i].screen_x + offset, dataset[i].screen_y, getGroupTemplate(group), framework.svgElements, framework.svg, dataset[i].label);\n      } else {\n        var callbackResult = callback(dataset[i], group); // result might be true, false or an object\n        if (callbackResult === true || typeof callbackResult === 'object') {\n          DOMutil.drawPoint(dataset[i].screen_x + offset, dataset[i].screen_y, getGroupTemplate(group, callbackResult), framework.svgElements, framework.svg, dataset[i].label);\n        }\n      }\n    }\n  };\n\n  Points.drawIcon = function (group, x, y, iconWidth, iconHeight, framework) {\n    var fillHeight = iconHeight * 0.5;\n    var path, fillPath;\n\n    var outline = DOMutil.getSVGElement(\&quot;rect\&quot;, framework.svgElements, framework.svg);\n    outline.setAttributeNS(null, \&quot;x\&quot;, x);\n    outline.setAttributeNS(null, \&quot;y\&quot;, y - fillHeight);\n    outline.setAttributeNS(null, \&quot;width\&quot;, iconWidth);\n    outline.setAttributeNS(null, \&quot;height\&quot;, 2 * fillHeight);\n    outline.setAttributeNS(null, \&quot;class\&quot;, \&quot;vis-outline\&quot;);\n\n    //Don't call callback on icon\n    DOMutil.drawPoint(x + 0.5 * iconWidth, y, getGroupTemplate(group), framework.svgElements, framework.svg);\n  };\n\n  function getGroupTemplate(group, callbackResult) {\n    callbackResult = typeof callbackResult === 'undefined' ? {} : callbackResult;\n    return {\n      style: callbackResult.style || group.options.drawPoints.style,\n      styles: callbackResult.styles || group.options.drawPoints.styles,\n      size: callbackResult.size || group.options.drawPoints.size,\n      className: callbackResult.className || group.className\n    };\n  }\n\n  function getCallback(framework, group) {\n    var callback = undefined;\n    // check for the graph2d onRender\n    if (framework.options &amp;&amp; framework.options.drawPoints &amp;&amp; framework.options.drawPoints.onRender &amp;&amp; typeof framework.options.drawPoints.onRender == 'function') {\n      callback = framework.options.drawPoints.onRender;\n    }\n\n    // override it with the group onRender if defined\n    if (group.group.options &amp;&amp; group.group.options.drawPoints &amp;&amp; group.group.options.drawPoints.onRender &amp;&amp; typeof group.group.options.drawPoints.onRender == 'function') {\n      callback = group.group.options.drawPoints.onRender;\n    }\n    return callback;\n  }\n\n  module.exports = Points;\n\n/***/ },\n/* 55 */\n/***/ function(module, exports, __webpack_require__) {\n\n  \&quot;use strict\&quot;;\n\n  var DOMutil = __webpack_require__(7);\n\n  function Line(groupId, options) {}\n\n  Line.calcPath = function (dataset, group) {\n      if (dataset != null) {\n          if (dataset.length &gt; 0) {\n              var d = [];\n\n              // construct path from dataset\n              if (group.options.interpolation.enabled == true) {\n                  d = Line._catmullRom(dataset, group);\n              } else {\n                  d = Line._linear(dataset);\n              }\n              return d;\n          }\n      }\n  };\n\n  Line.drawIcon = function (group, x, y, iconWidth, iconHeight, framework) {\n      var fillHeight = iconHeight * 0.5;\n      var path, fillPath;\n\n      var outline = DOMutil.getSVGElement(\&quot;rect\&quot;, framework.svgElements, framework.svg);\n      outline.setAttributeNS(null, \&quot;x\&quot;, x);\n      outline.setAttributeNS(null, \&quot;y\&quot;, y - fillHeight);\n      outline.setAttributeNS(null, \&quot;width\&quot;, iconWidth);\n      outline.setAttributeNS(null, \&quot;height\&quot;, 2 * fillHeight);\n      outline.setAttributeNS(null, \&quot;class\&quot;, \&quot;vis-outline\&quot;);\n\n      path = DOMutil.getSVGElement(\&quot;path\&quot;, framework.svgElements, framework.svg);\n      path.setAttributeNS(null, \&quot;class\&quot;, group.className);\n      if (group.style !== undefined) {\n          path.setAttributeNS(null, \&quot;style\&quot;, group.style);\n      }\n\n      path.setAttributeNS(null, \&quot;d\&quot;, \&quot;M\&quot; + x + \&quot;,\&quot; + y + \&quot; L\&quot; + (x + iconWidth) + \&quot;,\&quot; + y + \&quot;\&quot;);\n      if (group.options.shaded.enabled == true) {\n          fillPath = DOMutil.getSVGElement(\&quot;path\&quot;, framework.svgElements, framework.svg);\n          if (group.options.shaded.orientation == 'top') {\n              fillPath.setAttributeNS(null, \&quot;d\&quot;, \&quot;M\&quot; + x + \&quot;, \&quot; + (y - fillHeight) + \&quot;L\&quot; + x + \&quot;,\&quot; + y + \&quot; L\&quot; + (x + iconWidth) + \&quot;,\&quot; + y + \&quot; L\&quot; + (x + iconWidth) + \&quot;,\&quot; + (y - fillHeight));\n          } else {\n              fillPath.setAttributeNS(null, \&quot;d\&quot;, \&quot;M\&quot; + x + \&quot;,\&quot; + y + \&quot; \&quot; + \&quot;L\&quot; + x + \&quot;,\&quot; + (y + fillHeight) + \&quot; \&quot; + \&quot;L\&quot; + (x + iconWidth) + \&quot;,\&quot; + (y + fillHeight) + \&quot;L\&quot; + (x + iconWidth) + \&quot;,\&quot; + y);\n          }\n          fillPath.setAttributeNS(null, \&quot;class\&quot;, group.className + \&quot; vis-icon-fill\&quot;);\n          if (group.options.shaded.style !== undefined &amp;&amp; group.options.shaded.style !== \&quot;\&quot;) {\n              fillPath.setAttributeNS(null, \&quot;style\&quot;, group.options.shaded.style);\n          }\n      }\n\n      if (group.options.drawPoints.enabled == true) {\n          var groupTemplate = {\n              style: group.options.drawPoints.style,\n              styles: group.options.drawPoints.styles,\n              size: group.options.drawPoints.size,\n              className: group.className\n          };\n          DOMutil.drawPoint(x + 0.5 * iconWidth, y, groupTemplate, framework.svgElements, framework.svg);\n      }\n  };\n\n  Line.drawShading = function (pathArray, group, subPathArray, framework) {\n      // append shading to the path\n      if (group.options.shaded.enabled == true) {\n          var svgHeight = Number(framework.svg.style.height.replace('px', ''));\n          var fillPath = DOMutil.getSVGElement('path', framework.svgElements, framework.svg);\n          var type = \&quot;L\&quot;;\n          if (group.options.interpolation.enabled == true) {\n              type = \&quot;C\&quot;;\n          }\n          var dFill;\n          var zero = 0;\n          if (group.options.shaded.orientation == 'top') {\n              zero = 0;\n          } else if (group.options.shaded.orientation == 'bottom') {\n              zero = svgHeight;\n          } else {\n              zero = Math.min(Math.max(0, group.zeroPosition), svgHeight);\n          }\n          if (group.options.shaded.orientation == 'group' &amp;&amp; subPathArray != null &amp;&amp; subPathArray != undefined) {\n              dFill = 'M' + pathArray[0][0] + \&quot;,\&quot; + pathArray[0][1] + \&quot; \&quot; + this.serializePath(pathArray, type, false) + ' L' + subPathArray[subPathArray.length - 1][0] + \&quot;,\&quot; + subPathArray[subPathArray.length - 1][1] + \&quot; \&quot; + this.serializePath(subPathArray, type, true) + subPathArray[0][0] + \&quot;,\&quot; + subPathArray[0][1] + \&quot; Z\&quot;;\n          } else {\n              dFill = 'M' + pathArray[0][0] + \&quot;,\&quot; + pathArray[0][1] + \&quot; \&quot; + this.serializePath(pathArray, type, false) + ' V' + zero + ' H' + pathArray[0][0] + \&quot; Z\&quot;;\n          }\n\n          fillPath.setAttributeNS(null, 'class', group.className + ' vis-fill');\n          if (group.options.shaded.style !== undefined) {\n              fillPath.setAttributeNS(null, 'style', group.options.shaded.style);\n          }\n          fillPath.setAttributeNS(null, 'd', dFill);\n      }\n  };\n\n  /**\n   * draw a line graph\n   *\n   * @param dataset\n   * @param group\n   */\n  Line.draw = function (pathArray, group, framework) {\n      if (pathArray != null &amp;&amp; pathArray != undefined) {\n          var path = DOMutil.getSVGElement('path', framework.svgElements, framework.svg);\n          path.setAttributeNS(null, \&quot;class\&quot;, group.className);\n          if (group.style !== undefined) {\n              path.setAttributeNS(null, \&quot;style\&quot;, group.style);\n          }\n\n          var type = \&quot;L\&quot;;\n          if (group.options.interpolation.enabled == true) {\n              type = \&quot;C\&quot;;\n          }\n          // copy properties to path for drawing.\n          path.setAttributeNS(null, 'd', 'M' + pathArray[0][0] + \&quot;,\&quot; + pathArray[0][1] + \&quot; \&quot; + this.serializePath(pathArray, type, false));\n      }\n  };\n\n  Line.serializePath = function (pathArray, type, inverse) {\n      if (pathArray.length &lt; 2) {\n          //Too little data to create a path.\n          return \&quot;\&quot;;\n      }\n      var d = type;\n      if (inverse) {\n          for (var i = pathArray.length - 2; i &gt; 0; i--) {\n              d += pathArray[i][0] + \&quot;,\&quot; + pathArray[i][1] + \&quot; \&quot;;\n          }\n      } else {\n          for (var i = 1; i &lt; pathArray.length; i++) {\n              d += pathArray[i][0] + \&quot;,\&quot; + pathArray[i][1] + \&quot; \&quot;;\n          }\n      }\n      return d;\n  };\n\n  /**\n   * This uses an uniform parametrization of the interpolation algorithm:\n   * 'On the Parameterization of Catmull-Rom Curves' by Cem Yuksel et al.\n   * @param data\n   * @returns {string}\n   * @private\n   */\n  Line._catmullRomUniform = function (data) {\n      // catmull rom\n      var p0, p1, p2, p3, bp1, bp2;\n      var d = [];\n      d.push([Math.round(data[0].screen_x), Math.round(data[0].screen_y)]);\n      var normalization = 1 / 6;\n      var length = data.length;\n      for (var i = 0; i &lt; length - 1; i++) {\n\n          p0 = i == 0 ? data[0] : data[i - 1];\n          p1 = data[i];\n          p2 = data[i + 1];\n          p3 = i + 2 &lt; length ? data[i + 2] : p2;\n\n          // Catmull-Rom to Cubic Bezier conversion matrix\n          //    0       1       0       0\n          //  -1/6      1      1/6      0\n          //    0      1/6      1     -1/6\n          //    0       0       1       0\n\n          //    bp0 = { x: p1.x,                               y: p1.y };\n          bp1 = {\n              screen_x: (-p0.screen_x + 6 * p1.screen_x + p2.screen_x) * normalization,\n              screen_y: (-p0.screen_y + 6 * p1.screen_y + p2.screen_y) * normalization\n          };\n          bp2 = {\n              screen_x: (p1.screen_x + 6 * p2.screen_x - p3.screen_x) * normalization,\n              screen_y: (p1.screen_y + 6 * p2.screen_y - p3.screen_y) * normalization\n          };\n          //    bp0 = { x: p2.x,                               y: p2.y };\n\n          d.push([bp1.screen_x, bp1.screen_y]);\n          d.push([bp2.screen_x, bp2.screen_y]);\n          d.push([p2.screen_x, p2.screen_y]);\n      }\n\n      return d;\n  };\n\n  /**\n   * This uses either the chordal or centripetal parameterization of the catmull-rom algorithm.\n   * By default, the centripetal parameterization is used because this gives the nicest results.\n   * These parameterizations are relatively heavy because the distance between 4 points have to be calculated.\n   *\n   * One optimization can be used to reuse distances since this is a sliding window approach.\n   * @param data\n   * @param group\n   * @returns {string}\n   * @private\n   */\n  Line._catmullRom = function (data, group) {\n      var alpha = group.options.interpolation.alpha;\n      if (alpha == 0 || alpha === undefined) {\n          return this._catmullRomUniform(data);\n      } else {\n          var p0, p1, p2, p3, bp1, bp2, d1, d2, d3, A, B, N, M;\n          var d3powA, d2powA, d3pow2A, d2pow2A, d1pow2A, d1powA;\n          var d = [];\n          d.push([Math.round(data[0].screen_x), Math.round(data[0].screen_y)]);\n          var length = data.length;\n          for (var i = 0; i &lt; length - 1; i++) {\n\n              p0 = i == 0 ? data[0] : data[i - 1];\n              p1 = data[i];\n              p2 = data[i + 1];\n              p3 = i + 2 &lt; length ? data[i + 2] : p2;\n\n              d1 = Math.sqrt(Math.pow(p0.screen_x - p1.screen_x, 2) + Math.pow(p0.screen_y - p1.screen_y, 2));\n              d2 = Math.sqrt(Math.pow(p1.screen_x - p2.screen_x, 2) + Math.pow(p1.screen_y - p2.screen_y, 2));\n              d3 = Math.sqrt(Math.pow(p2.screen_x - p3.screen_x, 2) + Math.pow(p2.screen_y - p3.screen_y, 2));\n\n              // Catmull-Rom to Cubic Bezier conversion matrix\n\n              // A = 2d1^2a + 3d1^a * d2^a + d3^2a\n              // B = 2d3^2a + 3d3^a * d2^a + d2^2a\n\n              // [   0             1            0          0          ]\n              // [   -d2^2a /N     A/N          d1^2a /N   0          ]\n              // [   0             d3^2a /M     B/M        -d2^2a /M  ]\n              // [   0             0            1          0          ]\n\n              d3powA = Math.pow(d3, alpha);\n              d3pow2A = Math.pow(d3, 2 * alpha);\n              d2powA = Math.pow(d2, alpha);\n              d2pow2A = Math.pow(d2, 2 * alpha);\n              d1powA = Math.pow(d1, alpha);\n              d1pow2A = Math.pow(d1, 2 * alpha);\n\n              A = 2 * d1pow2A + 3 * d1powA * d2powA + d2pow2A;\n              B = 2 * d3pow2A + 3 * d3powA * d2powA + d2pow2A;\n              N = 3 * d1powA * (d1powA + d2powA);\n              if (N &gt; 0) {\n                  N = 1 / N;\n              }\n              M = 3 * d3powA * (d3powA + d2powA);\n              if (M &gt; 0) {\n                  M = 1 / M;\n              }\n\n              bp1 = {\n                  screen_x: (-d2pow2A * p0.screen_x + A * p1.screen_x + d1pow2A * p2.screen_x) * N,\n                  screen_y: (-d2pow2A * p0.screen_y + A * p1.screen_y + d1pow2A * p2.screen_y) * N\n              };\n\n              bp2 = {\n                  screen_x: (d3pow2A * p1.screen_x + B * p2.screen_x - d2pow2A * p3.screen_x) * M,\n                  screen_y: (d3pow2A * p1.screen_y + B * p2.screen_y - d2pow2A * p3.screen_y) * M\n              };\n\n              if (bp1.screen_x == 0 &amp;&amp; bp1.screen_y == 0) {\n                  bp1 = p1;\n              }\n              if (bp2.screen_x == 0 &amp;&amp; bp2.screen_y == 0) {\n                  bp2 = p2;\n              }\n              d.push([bp1.screen_x, bp1.screen_y]);\n              d.push([bp2.screen_x, bp2.screen_y]);\n              d.push([p2.screen_x, p2.screen_y]);\n          }\n\n          return d;\n      }\n  };\n\n  /**\n   * this generates the SVG path for a linear drawing between datapoints.\n   * @param data\n   * @returns {string}\n   * @private\n   */\n  Line._linear = function (data) {\n      // linear\n      var d = [];\n      for (var i = 0; i &lt; data.length; i++) {\n          d.push([data[i].screen_x, data[i].screen_y]);\n      }\n      return d;\n  };\n\n  module.exports = Line;\n\n/***/ },\n/* 56 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  var util = __webpack_require__(1);\n  var DOMutil = __webpack_require__(7);\n  var Component = __webpack_require__(25);\n\n  /**\n   * Legend for Graph2d\n   */\n  function Legend(body, options, side, linegraphOptions) {\n    this.body = body;\n    this.defaultOptions = {\n      enabled: false,\n      icons: true,\n      iconSize: 20,\n      iconSpacing: 6,\n      left: {\n        visible: true,\n        position: 'top-left' // top/bottom - left,center,right\n      },\n      right: {\n        visible: true,\n        position: 'top-right' // top/bottom - left,center,right\n      }\n    };\n\n    this.side = side;\n    this.options = util.extend({}, this.defaultOptions);\n    this.linegraphOptions = linegraphOptions;\n\n    this.svgElements = {};\n    this.dom = {};\n    this.groups = {};\n    this.amountOfGroups = 0;\n    this._create();\n    this.framework = { svg: this.svg, svgElements: this.svgElements, options: this.options, groups: this.groups };\n\n    this.setOptions(options);\n  }\n\n  Legend.prototype = new Component();\n\n  Legend.prototype.clear = function () {\n    this.groups = {};\n    this.amountOfGroups = 0;\n  };\n\n  Legend.prototype.addGroup = function (label, graphOptions) {\n\n    // Include a group only if the group option 'excludeFromLegend: false' is not set.\n    if (graphOptions.options.excludeFromLegend != true) {\n      if (!this.groups.hasOwnProperty(label)) {\n        this.groups[label] = graphOptions;\n      }\n      this.amountOfGroups += 1;\n    }\n  };\n\n  Legend.prototype.updateGroup = function (label, graphOptions) {\n    this.groups[label] = graphOptions;\n  };\n\n  Legend.prototype.removeGroup = function (label) {\n    if (this.groups.hasOwnProperty(label)) {\n      delete this.groups[label];\n      this.amountOfGroups -= 1;\n    }\n  };\n\n  Legend.prototype._create = function () {\n    this.dom.frame = document.createElement('div');\n    this.dom.frame.className = 'vis-legend';\n    this.dom.frame.style.position = \&quot;absolute\&quot;;\n    this.dom.frame.style.top = \&quot;10px\&quot;;\n    this.dom.frame.style.display = \&quot;block\&quot;;\n\n    this.dom.textArea = document.createElement('div');\n    this.dom.textArea.className = 'vis-legend-text';\n    this.dom.textArea.style.position = \&quot;relative\&quot;;\n    this.dom.textArea.style.top = \&quot;0px\&quot;;\n\n    this.svg = document.createElementNS('http://www.w3.org/2000/svg', \&quot;svg\&quot;);\n    this.svg.style.position = 'absolute';\n    this.svg.style.top = 0 + 'px';\n    this.svg.style.width = this.options.iconSize + 5 + 'px';\n    this.svg.style.height = '100%';\n\n    this.dom.frame.appendChild(this.svg);\n    this.dom.frame.appendChild(this.dom.textArea);\n  };\n\n  /**\n   * Hide the component from the DOM\n   */\n  Legend.prototype.hide = function () {\n    // remove the frame containing the items\n    if (this.dom.frame.parentNode) {\n      this.dom.frame.parentNode.removeChild(this.dom.frame);\n    }\n  };\n\n  /**\n   * Show the component in the DOM (when not already visible).\n   * @return {Boolean} changed\n   */\n  Legend.prototype.show = function () {\n    // show frame containing the items\n    if (!this.dom.frame.parentNode) {\n      this.body.dom.center.appendChild(this.dom.frame);\n    }\n  };\n\n  Legend.prototype.setOptions = function (options) {\n    var fields = ['enabled', 'orientation', 'icons', 'left', 'right'];\n    util.selectiveDeepExtend(fields, this.options, options);\n  };\n\n  Legend.prototype.redraw = function () {\n    var activeGroups = 0;\n    var groupArray = Object.keys(this.groups);\n    groupArray.sort(function (a, b) {\n      return a &lt; b ? -1 : 1;\n    });\n\n    for (var i = 0; i &lt; groupArray.length; i++) {\n      var groupId = groupArray[i];\n      if (this.groups[groupId].visible == true &amp;&amp; (this.linegraphOptions.visibility[groupId] === undefined || this.linegraphOptions.visibility[groupId] == true)) {\n        activeGroups++;\n      }\n    }\n\n    if (this.options[this.side].visible == false || this.amountOfGroups == 0 || this.options.enabled == false || activeGroups == 0) {\n      this.hide();\n    } else {\n      this.show();\n      if (this.options[this.side].position == 'top-left' || this.options[this.side].position == 'bottom-left') {\n        this.dom.frame.style.left = '4px';\n        this.dom.frame.style.textAlign = \&quot;left\&quot;;\n        this.dom.textArea.style.textAlign = \&quot;left\&quot;;\n        this.dom.textArea.style.left = this.options.iconSize + 15 + 'px';\n        this.dom.textArea.style.right = '';\n        this.svg.style.left = 0 + 'px';\n        this.svg.style.right = '';\n      } else {\n        this.dom.frame.style.right = '4px';\n        this.dom.frame.style.textAlign = \&quot;right\&quot;;\n        this.dom.textArea.style.textAlign = \&quot;right\&quot;;\n        this.dom.textArea.style.right = this.options.iconSize + 15 + 'px';\n        this.dom.textArea.style.left = '';\n        this.svg.style.right = 0 + 'px';\n        this.svg.style.left = '';\n      }\n\n      if (this.options[this.side].position == 'top-left' || this.options[this.side].position == 'top-right') {\n        this.dom.frame.style.top = 4 - Number(this.body.dom.center.style.top.replace(\&quot;px\&quot;, \&quot;\&quot;)) + 'px';\n        this.dom.frame.style.bottom = '';\n      } else {\n        var scrollableHeight = this.body.domProps.center.height - this.body.domProps.centerContainer.height;\n        this.dom.frame.style.bottom = 4 + scrollableHeight + Number(this.body.dom.center.style.top.replace(\&quot;px\&quot;, \&quot;\&quot;)) + 'px';\n        this.dom.frame.style.top = '';\n      }\n\n      if (this.options.icons == false) {\n        this.dom.frame.style.width = this.dom.textArea.offsetWidth + 10 + 'px';\n        this.dom.textArea.style.right = '';\n        this.dom.textArea.style.left = '';\n        this.svg.style.width = '0px';\n      } else {\n        this.dom.frame.style.width = this.options.iconSize + 15 + this.dom.textArea.offsetWidth + 10 + 'px';\n        this.drawLegendIcons();\n      }\n\n      var content = '';\n      for (var i = 0; i &lt; groupArray.length; i++) {\n        var groupId = groupArray[i];\n        if (this.groups[groupId].visible == true &amp;&amp; (this.linegraphOptions.visibility[groupId] === undefined || this.linegraphOptions.visibility[groupId] == true)) {\n          content += this.groups[groupId].content + '&lt;br /&gt;';\n        }\n      }\n      this.dom.textArea.innerHTML = content;\n      this.dom.textArea.style.lineHeight = 0.75 * this.options.iconSize + this.options.iconSpacing + 'px';\n    }\n  };\n\n  Legend.prototype.drawLegendIcons = function () {\n    if (this.dom.frame.parentNode) {\n      var groupArray = Object.keys(this.groups);\n      groupArray.sort(function (a, b) {\n        return a &lt; b ? -1 : 1;\n      });\n\n      // this resets the elements so the order is maintained\n      DOMutil.resetElements(this.svgElements);\n\n      var padding = window.getComputedStyle(this.dom.frame).paddingTop;\n      var iconOffset = Number(padding.replace('px', ''));\n      var x = iconOffset;\n      var iconWidth = this.options.iconSize;\n      var iconHeight = 0.75 * this.options.iconSize;\n      var y = iconOffset + 0.5 * iconHeight + 3;\n\n      this.svg.style.width = iconWidth + 5 + iconOffset + 'px';\n\n      for (var i = 0; i &lt; groupArray.length; i++) {\n        var groupId = groupArray[i];\n        if (this.groups[groupId].visible == true &amp;&amp; (this.linegraphOptions.visibility[groupId] === undefined || this.linegraphOptions.visibility[groupId] == true)) {\n          this.groups[groupId].getLegend(iconWidth, iconHeight, this.framework, x, y);\n          y += iconHeight + this.options.iconSpacing;\n        }\n      }\n    }\n  };\n\n  module.exports = Legend;\n\n/***/ },\n/* 57 */\n/***/ function(module, exports) {\n\n  /**\n   * This object contains all possible options. It will check if the types are correct, if required if the option is one\n   * of the allowed values.\n   *\n   * __any__ means that the name of the property does not matter.\n   * __type__ is a required field for all objects and contains the allowed types of all objects\n   */\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var string = 'string';\n  var boolean = 'boolean';\n  var number = 'number';\n  var array = 'array';\n  var date = 'date';\n  var object = 'object'; // should only be in a __type__ property\n  var dom = 'dom';\n  var moment = 'moment';\n  var any = 'any';\n\n  var allOptions = {\n    configure: {\n      enabled: { boolean: boolean },\n      filter: { boolean: boolean, 'function': 'function' },\n      container: { dom: dom },\n      __type__: { object: object, boolean: boolean, 'function': 'function' }\n    },\n\n    //globals :\n    yAxisOrientation: { string: ['left', 'right'] },\n    defaultGroup: { string: string },\n    sort: { boolean: boolean },\n    sampling: { boolean: boolean },\n    stack: { boolean: boolean },\n    graphHeight: { string: string, number: number },\n    shaded: {\n      enabled: { boolean: boolean },\n      orientation: { string: ['bottom', 'top', 'zero', 'group'] }, // top, bottom, zero, group\n      groupId: { object: object },\n      __type__: { boolean: boolean, object: object }\n    },\n    style: { string: ['line', 'bar', 'points'] }, // line, bar\n    barChart: {\n      width: { number: number },\n      minWidth: { number: number },\n      sideBySide: { boolean: boolean },\n      align: { string: ['left', 'center', 'right'] },\n      __type__: { object: object }\n    },\n    interpolation: {\n      enabled: { boolean: boolean },\n      parametrization: { string: ['centripetal', 'chordal', 'uniform'] }, // uniform (alpha = 0.0), chordal (alpha = 1.0), centripetal (alpha = 0.5)\n      alpha: { number: number },\n      __type__: { object: object, boolean: boolean }\n    },\n    drawPoints: {\n      enabled: { boolean: boolean },\n      onRender: { 'function': 'function' },\n      size: { number: number },\n      style: { string: ['square', 'circle'] }, // square, circle\n      __type__: { object: object, boolean: boolean, 'function': 'function' }\n    },\n    dataAxis: {\n      showMinorLabels: { boolean: boolean },\n      showMajorLabels: { boolean: boolean },\n      icons: { boolean: boolean },\n      width: { string: string, number: number },\n      visible: { boolean: boolean },\n      alignZeros: { boolean: boolean },\n      left: {\n        range: { min: { number: number }, max: { number: number }, __type__: { object: object } },\n        format: { 'function': 'function' },\n        title: { text: { string: string, number: number }, style: { string: string }, __type__: { object: object } },\n        __type__: { object: object }\n      },\n      right: {\n        range: { min: { number: number }, max: { number: number }, __type__: { object: object } },\n        format: { 'function': 'function' },\n        title: { text: { string: string, number: number }, style: { string: string }, __type__: { object: object } },\n        __type__: { object: object }\n      },\n      __type__: { object: object }\n    },\n    legend: {\n      enabled: { boolean: boolean },\n      icons: { boolean: boolean },\n      left: {\n        visible: { boolean: boolean },\n        position: { string: ['top-right', 'bottom-right', 'top-left', 'bottom-left'] },\n        __type__: { object: object }\n      },\n      right: {\n        visible: { boolean: boolean },\n        position: { string: ['top-right', 'bottom-right', 'top-left', 'bottom-left'] },\n        __type__: { object: object }\n      },\n      __type__: { object: object, boolean: boolean }\n    },\n    groups: {\n      visibility: { any: any },\n      __type__: { object: object }\n    },\n\n    autoResize: { boolean: boolean },\n    throttleRedraw: { number: number },\n    clickToUse: { boolean: boolean },\n    end: { number: number, date: date, string: string, moment: moment },\n    format: {\n      minorLabels: {\n        millisecond: { string: string, 'undefined': 'undefined' },\n        second: { string: string, 'undefined': 'undefined' },\n        minute: { string: string, 'undefined': 'undefined' },\n        hour: { string: string, 'undefined': 'undefined' },\n        weekday: { string: string, 'undefined': 'undefined' },\n        day: { string: string, 'undefined': 'undefined' },\n        month: { string: string, 'undefined': 'undefined' },\n        year: { string: string, 'undefined': 'undefined' },\n        __type__: { object: object }\n      },\n      majorLabels: {\n        millisecond: { string: string, 'undefined': 'undefined' },\n        second: { string: string, 'undefined': 'undefined' },\n        minute: { string: string, 'undefined': 'undefined' },\n        hour: { string: string, 'undefined': 'undefined' },\n        weekday: { string: string, 'undefined': 'undefined' },\n        day: { string: string, 'undefined': 'undefined' },\n        month: { string: string, 'undefined': 'undefined' },\n        year: { string: string, 'undefined': 'undefined' },\n        __type__: { object: object }\n      },\n      __type__: { object: object }\n    },\n    moment: { 'function': 'function' },\n    height: { string: string, number: number },\n    hiddenDates: {\n      start: { date: date, number: number, string: string, moment: moment },\n      end: { date: date, number: number, string: string, moment: moment },\n      repeat: { string: string },\n      __type__: { object: object, array: array }\n    },\n    locale: { string: string },\n    locales: {\n      __any__: { any: any },\n      __type__: { object: object }\n    },\n    max: { date: date, number: number, string: string, moment: moment },\n    maxHeight: { number: number, string: string },\n    maxMinorChars: { number: number },\n    min: { date: date, number: number, string: string, moment: moment },\n    minHeight: { number: number, string: string },\n    moveable: { boolean: boolean },\n    multiselect: { boolean: boolean },\n    orientation: { string: string },\n    showCurrentTime: { boolean: boolean },\n    showMajorLabels: { boolean: boolean },\n    showMinorLabels: { boolean: boolean },\n    start: { date: date, number: number, string: string, moment: moment },\n    timeAxis: {\n      scale: { string: string, 'undefined': 'undefined' },\n      step: { number: number, 'undefined': 'undefined' },\n      __type__: { object: object }\n    },\n    width: { string: string, number: number },\n    zoomable: { boolean: boolean },\n    zoomKey: { string: ['ctrlKey', 'altKey', 'metaKey', ''] },\n    zoomMax: { number: number },\n    zoomMin: { number: number },\n    zIndex: { number: number },\n    __type__: { object: object }\n  };\n\n  var configureOptions = {\n    global: {\n      //yAxisOrientation: ['left','right'], // TDOO: enable as soon as Grahp2d doesn't crash when changing this on the fly\n      sort: true,\n      sampling: true,\n      stack: false,\n      shaded: {\n        enabled: false,\n        orientation: ['zero', 'top', 'bottom', 'group'] // zero, top, bottom\n      },\n      style: ['line', 'bar', 'points'], // line, bar\n      barChart: {\n        width: [50, 5, 100, 5],\n        minWidth: [50, 5, 100, 5],\n        sideBySide: false,\n        align: ['left', 'center', 'right'] // left, center, right\n      },\n      interpolation: {\n        enabled: true,\n        parametrization: ['centripetal', 'chordal', 'uniform'] // uniform (alpha = 0.0), chordal (alpha = 1.0), centripetal (alpha = 0.5)\n      },\n      drawPoints: {\n        enabled: true,\n        size: [6, 2, 30, 1],\n        style: ['square', 'circle'] // square, circle\n      },\n      dataAxis: {\n        showMinorLabels: true,\n        showMajorLabels: true,\n        icons: false,\n        width: [40, 0, 200, 1],\n        visible: true,\n        alignZeros: true,\n        left: {\n          //range: {min:'undefined': 'undefined'ined,max:'undefined': 'undefined'ined},\n          //format: function (value) {return value;},\n          title: { text: '', style: '' }\n        },\n        right: {\n          //range: {min:'undefined': 'undefined'ined,max:'undefined': 'undefined'ined},\n          //format: function (value) {return value;},\n          title: { text: '', style: '' }\n        }\n      },\n      legend: {\n        enabled: false,\n        icons: true,\n        left: {\n          visible: true,\n          position: ['top-right', 'bottom-right', 'top-left', 'bottom-left'] // top/bottom - left,right\n        },\n        right: {\n          visible: true,\n          position: ['top-right', 'bottom-right', 'top-left', 'bottom-left'] // top/bottom - left,right\n        }\n      },\n\n      autoResize: true,\n      throttleRedraw: [10, 0, 1000, 10],\n      clickToUse: false,\n      end: '',\n      format: {\n        minorLabels: {\n          millisecond: 'SSS',\n          second: 's',\n          minute: 'HH:mm',\n          hour: 'HH:mm',\n          weekday: 'ddd D',\n          day: 'D',\n          month: 'MMM',\n          year: 'YYYY'\n        },\n        majorLabels: {\n          millisecond: 'HH:mm:ss',\n          second: 'D MMMM HH:mm',\n          minute: 'ddd D MMMM',\n          hour: 'ddd D MMMM',\n          weekday: 'MMMM YYYY',\n          day: 'MMMM YYYY',\n          month: 'YYYY',\n          year: ''\n        }\n      },\n\n      height: '',\n      locale: '',\n      max: '',\n      maxHeight: '',\n      maxMinorChars: [7, 0, 20, 1],\n      min: '',\n      minHeight: '',\n      moveable: true,\n      orientation: ['both', 'bottom', 'top'],\n      showCurrentTime: false,\n      showMajorLabels: true,\n      showMinorLabels: true,\n      start: '',\n      width: '100%',\n      zoomable: true,\n      zoomKey: ['ctrlKey', 'altKey', 'metaKey', ''],\n      zoomMax: [315360000000000, 10, 315360000000000, 1],\n      zoomMin: [10, 10, 315360000000000, 1],\n      zIndex: 0\n    }\n  };\n\n  exports.allOptions = allOptions;\n  exports.configureOptions = configureOptions;\n\n/***/ },\n/* 58 */\n/***/ function(module, exports, __webpack_require__) {\n\n  // Load custom shapes into CanvasRenderingContext2D\n  'use strict';\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  var _modulesGroups = __webpack_require__(59);\n\n  var _modulesGroups2 = _interopRequireDefault(_modulesGroups);\n\n  var _modulesNodesHandler = __webpack_require__(60);\n\n  var _modulesNodesHandler2 = _interopRequireDefault(_modulesNodesHandler);\n\n  var _modulesEdgesHandler = __webpack_require__(80);\n\n  var _modulesEdgesHandler2 = _interopRequireDefault(_modulesEdgesHandler);\n\n  var _modulesPhysicsEngine = __webpack_require__(89);\n\n  var _modulesPhysicsEngine2 = _interopRequireDefault(_modulesPhysicsEngine);\n\n  var _modulesClustering = __webpack_require__(98);\n\n  var _modulesClustering2 = _interopRequireDefault(_modulesClustering);\n\n  var _modulesCanvasRenderer = __webpack_require__(101);\n\n  var _modulesCanvasRenderer2 = _interopRequireDefault(_modulesCanvasRenderer);\n\n  var _modulesCanvas = __webpack_require__(102);\n\n  var _modulesCanvas2 = _interopRequireDefault(_modulesCanvas);\n\n  var _modulesView = __webpack_require__(103);\n\n  var _modulesView2 = _interopRequireDefault(_modulesView);\n\n  var _modulesInteractionHandler = __webpack_require__(104);\n\n  var _modulesInteractionHandler2 = _interopRequireDefault(_modulesInteractionHandler);\n\n  var _modulesSelectionHandler = __webpack_require__(107);\n\n  var _modulesSelectionHandler2 = _interopRequireDefault(_modulesSelectionHandler);\n\n  var _modulesLayoutEngine = __webpack_require__(108);\n\n  var _modulesLayoutEngine2 = _interopRequireDefault(_modulesLayoutEngine);\n\n  var _modulesManipulationSystem = __webpack_require__(109);\n\n  var _modulesManipulationSystem2 = _interopRequireDefault(_modulesManipulationSystem);\n\n  var _sharedConfigurator = __webpack_require__(44);\n\n  var _sharedConfigurator2 = _interopRequireDefault(_sharedConfigurator);\n\n  var _sharedValidator = __webpack_require__(46);\n\n  var _sharedValidator2 = _interopRequireDefault(_sharedValidator);\n\n  var _optionsJs = __webpack_require__(110);\n\n  var _modulesKamadaKawaiJs = __webpack_require__(111);\n\n  var _modulesKamadaKawaiJs2 = _interopRequireDefault(_modulesKamadaKawaiJs);\n\n  /**\n   * @constructor Network\n   * Create a network visualization, displaying nodes and edges.\n   *\n   * @param {Element} container   The DOM element in which the Network will\n   *                                  be created. Normally a div element.\n   * @param {Object} data         An object containing parameters\n   *                              {Array} nodes\n   *                              {Array} edges\n   * @param {Object} options      Options\n   */\n  __webpack_require__(113);\n\n  var Emitter = __webpack_require__(12);\n  var Hammer = __webpack_require__(20);\n  var util = __webpack_require__(1);\n  var DataSet = __webpack_require__(8);\n  var DataView = __webpack_require__(10);\n  var dotparser = __webpack_require__(114);\n  var gephiParser = __webpack_require__(115);\n  var Images = __webpack_require__(116);\n  var Activator = __webpack_require__(39);\n  var locales = __webpack_require__(117);\n\n  function Network(container, data, options) {\n    var _this = this;\n\n    if (!(this instanceof Network)) {\n      throw new SyntaxError('Constructor must be called with the new operator');\n    }\n\n    // set constant values\n    this.options = {};\n    this.defaultOptions = {\n      locale: 'en',\n      locales: locales,\n      clickToUse: false\n    };\n    util.extend(this.options, this.defaultOptions);\n\n    // containers for nodes and edges\n    this.body = {\n      container: container,\n      nodes: {},\n      nodeIndices: [],\n      edges: {},\n      edgeIndices: [],\n      emitter: {\n        on: this.on.bind(this),\n        off: this.off.bind(this),\n        emit: this.emit.bind(this),\n        once: this.once.bind(this)\n      },\n      eventListeners: {\n        onTap: function onTap() {},\n        onTouch: function onTouch() {},\n        onDoubleTap: function onDoubleTap() {},\n        onHold: function onHold() {},\n        onDragStart: function onDragStart() {},\n        onDrag: function onDrag() {},\n        onDragEnd: function onDragEnd() {},\n        onMouseWheel: function onMouseWheel() {},\n        onPinch: function onPinch() {},\n        onMouseMove: function onMouseMove() {},\n        onRelease: function onRelease() {},\n        onContext: function onContext() {}\n      },\n      data: {\n        nodes: null, // A DataSet or DataView\n        edges: null // A DataSet or DataView\n      },\n      functions: {\n        createNode: function createNode() {},\n        createEdge: function createEdge() {},\n        getPointer: function getPointer() {}\n      },\n      modules: {},\n      view: {\n        scale: 1,\n        translation: { x: 0, y: 0 }\n      }\n    };\n\n    // bind the event listeners\n    this.bindEventListeners();\n\n    // setting up all modules\n    this.images = new Images(function () {\n      return _this.body.emitter.emit(\&quot;_requestRedraw\&quot;);\n    }); // object with images\n    this.groups = new _modulesGroups2['default'](); // object with groups\n    this.canvas = new _modulesCanvas2['default'](this.body); // DOM handler\n    this.selectionHandler = new _modulesSelectionHandler2['default'](this.body, this.canvas); // Selection handler\n    this.interactionHandler = new _modulesInteractionHandler2['default'](this.body, this.canvas, this.selectionHandler); // Interaction handler handles all the hammer bindings (that are bound by canvas), key\n    this.view = new _modulesView2['default'](this.body, this.canvas); // camera handler, does animations and zooms\n    this.renderer = new _modulesCanvasRenderer2['default'](this.body, this.canvas); // renderer, starts renderloop, has events that modules can hook into\n    this.physics = new _modulesPhysicsEngine2['default'](this.body); // physics engine, does all the simulations\n    this.layoutEngine = new _modulesLayoutEngine2['default'](this.body); // layout engine for inital layout and hierarchical layout\n    this.clustering = new _modulesClustering2['default'](this.body); // clustering api\n    this.manipulation = new _modulesManipulationSystem2['default'](this.body, this.canvas, this.selectionHandler); // data manipulation system\n\n    this.nodesHandler = new _modulesNodesHandler2['default'](this.body, this.images, this.groups, this.layoutEngine); // Handle adding, deleting and updating of nodes as well as global options\n    this.edgesHandler = new _modulesEdgesHandler2['default'](this.body, this.images, this.groups); // Handle adding, deleting and updating of edges as well as global options\n\n    this.body.modules[\&quot;kamadaKawai\&quot;] = new _modulesKamadaKawaiJs2['default'](this.body, 150, 0.05); // Layouting algorithm.\n    this.body.modules[\&quot;clustering\&quot;] = this.clustering;\n\n    // create the DOM elements\n    this.canvas._create();\n\n    // apply options\n    this.setOptions(options);\n\n    // load data (the disable start variable will be the same as the enabled clustering)\n    this.setData(data);\n  }\n\n  // Extend Network with an Emitter mixin\n  Emitter(Network.prototype);\n\n  /**\n   * Set options\n   * @param {Object} options\n   */\n  Network.prototype.setOptions = function (options) {\n    var _this2 = this;\n\n    if (options !== undefined) {\n      var errorFound = _sharedValidator2['default'].validate(options, _optionsJs.allOptions);\n      if (errorFound === true) {\n        console.log('%cErrors have been found in the supplied options object.', _sharedValidator.printStyle);\n      }\n\n      // copy the global fields over\n      var fields = ['locale', 'locales', 'clickToUse'];\n      util.selectiveDeepExtend(fields, this.options, options);\n\n      // the hierarchical system can adapt the edges and the physics to it's own options because not all combinations work with the hierarichical system.\n      options = this.layoutEngine.setOptions(options.layout, options);\n\n      this.canvas.setOptions(options); // options for canvas are in globals\n\n      // pass the options to the modules\n      this.groups.setOptions(options.groups);\n      this.nodesHandler.setOptions(options.nodes);\n      this.edgesHandler.setOptions(options.edges);\n      this.physics.setOptions(options.physics);\n      this.manipulation.setOptions(options.manipulation, options, this.options); // manipulation uses the locales in the globals\n\n      this.interactionHandler.setOptions(options.interaction);\n      this.renderer.setOptions(options.interaction); // options for rendering are in interaction\n      this.selectionHandler.setOptions(options.interaction); // options for selection are in interaction\n\n      // reload the settings of the nodes to apply changes in groups that are not referenced by pointer.\n      if (options.groups !== undefined) {\n        this.body.emitter.emit(\&quot;refreshNodes\&quot;);\n      }\n      // these two do not have options at the moment, here for completeness\n      //this.view.setOptions(options.view);\n      //this.clustering.setOptions(options.clustering);\n\n      if ('configure' in options) {\n        if (!this.configurator) {\n          this.configurator = new _sharedConfigurator2['default'](this, this.body.container, _optionsJs.configureOptions, this.canvas.pixelRatio);\n        }\n\n        this.configurator.setOptions(options.configure);\n      }\n\n      // if the configuration system is enabled, copy all options and put them into the config system\n      if (this.configurator &amp;&amp; this.configurator.options.enabled === true) {\n        var networkOptions = { nodes: {}, edges: {}, layout: {}, interaction: {}, manipulation: {}, physics: {}, global: {} };\n        util.deepExtend(networkOptions.nodes, this.nodesHandler.options);\n        util.deepExtend(networkOptions.edges, this.edgesHandler.options);\n        util.deepExtend(networkOptions.layout, this.layoutEngine.options);\n        // load the selectionHandler and render default options in to the interaction group\n        util.deepExtend(networkOptions.interaction, this.selectionHandler.options);\n        util.deepExtend(networkOptions.interaction, this.renderer.options);\n\n        util.deepExtend(networkOptions.interaction, this.interactionHandler.options);\n        util.deepExtend(networkOptions.manipulation, this.manipulation.options);\n        util.deepExtend(networkOptions.physics, this.physics.options);\n\n        // load globals into the global object\n        util.deepExtend(networkOptions.global, this.canvas.options);\n        util.deepExtend(networkOptions.global, this.options);\n\n        this.configurator.setModuleOptions(networkOptions);\n      }\n\n      // handle network global options\n      if (options.clickToUse !== undefined) {\n        if (options.clickToUse === true) {\n          if (this.activator === undefined) {\n            this.activator = new Activator(this.canvas.frame);\n            this.activator.on('change', function () {\n              _this2.body.emitter.emit(\&quot;activate\&quot;);\n            });\n          }\n        } else {\n          if (this.activator !== undefined) {\n            this.activator.destroy();\n            delete this.activator;\n          }\n          this.body.emitter.emit(\&quot;activate\&quot;);\n        }\n      } else {\n        this.body.emitter.emit(\&quot;activate\&quot;);\n      }\n\n      this.canvas.setSize();\n      // start the physics simulation. Can be safely called multiple times.\n      this.body.emitter.emit(\&quot;startSimulation\&quot;);\n    }\n  };\n\n  /**\n   * Update the this.body.nodeIndices with the most recent node index list\n   * @private\n   */\n  Network.prototype._updateVisibleIndices = function () {\n    var nodes = this.body.nodes;\n    var edges = this.body.edges;\n    this.body.nodeIndices = [];\n    this.body.edgeIndices = [];\n\n    for (var nodeId in nodes) {\n      if (nodes.hasOwnProperty(nodeId)) {\n        if (nodes[nodeId].options.hidden === false) {\n          this.body.nodeIndices.push(nodes[nodeId].id);\n        }\n      }\n    }\n\n    for (var edgeId in edges) {\n      if (edges.hasOwnProperty(edgeId)) {\n        if (edges[edgeId].options.hidden === false) {\n          this.body.edgeIndices.push(edges[edgeId].id);\n        }\n      }\n    }\n  };\n\n  /**\n   * Bind all events\n   */\n  Network.prototype.bindEventListeners = function () {\n    var _this3 = this;\n\n    // this event will trigger a rebuilding of the cache everything. Used when nodes or edges have been added or removed.\n    this.body.emitter.on(\&quot;_dataChanged\&quot;, function () {\n      // update shortcut lists\n      _this3._updateVisibleIndices();\n      _this3.body.emitter.emit(\&quot;_requestRedraw\&quot;);\n      // call the dataUpdated event because the only difference between the two is the updating of the indices\n      _this3.body.emitter.emit(\&quot;_dataUpdated\&quot;);\n    });\n\n    // this is called when options of EXISTING nodes or edges have changed.\n    this.body.emitter.on(\&quot;_dataUpdated\&quot;, function () {\n      // update values\n      _this3._updateValueRange(_this3.body.nodes);\n      _this3._updateValueRange(_this3.body.edges);\n      // start simulation (can be called safely, even if already running)\n      _this3.body.emitter.emit(\&quot;startSimulation\&quot;);\n      _this3.body.emitter.emit(\&quot;_requestRedraw\&quot;);\n    });\n  };\n\n  /**\n   * Set nodes and edges, and optionally options as well.\n   *\n   * @param {Object} data              Object containing parameters:\n   *                                   {Array | DataSet | DataView} [nodes] Array with nodes\n   *                                   {Array | DataSet | DataView} [edges] Array with edges\n   *                                   {String} [dot] String containing data in DOT format\n   *                                   {String} [gephi] String containing data in gephi JSON format\n   *                                   {Options} [options] Object with options\n   */\n  Network.prototype.setData = function (data) {\n    // reset the physics engine.\n    this.body.emitter.emit(\&quot;resetPhysics\&quot;);\n    this.body.emitter.emit(\&quot;_resetData\&quot;);\n\n    // unselect all to ensure no selections from old data are carried over.\n    this.selectionHandler.unselectAll();\n\n    if (data &amp;&amp; data.dot &amp;&amp; (data.nodes || data.edges)) {\n      throw new SyntaxError('Data must contain either parameter \&quot;dot\&quot; or ' + ' parameter pair \&quot;nodes\&quot; and \&quot;edges\&quot;, but not both.');\n    }\n\n    // set options\n    this.setOptions(data &amp;&amp; data.options);\n    // set all data\n    if (data &amp;&amp; data.dot) {\n      console.log('The dot property has been depricated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);');\n      // parse DOT file\n      var dotData = dotparser.DOTToGraph(data.dot);\n      this.setData(dotData);\n      return;\n    } else if (data &amp;&amp; data.gephi) {\n      // parse DOT file\n      console.log('The gephi property has been depricated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);');\n      var gephiData = gephiParser.parseGephi(data.gephi);\n      this.setData(gephiData);\n      return;\n    } else {\n      this.nodesHandler.setData(data &amp;&amp; data.nodes, true);\n      this.edgesHandler.setData(data &amp;&amp; data.edges, true);\n    }\n\n    // emit change in data\n    this.body.emitter.emit(\&quot;_dataChanged\&quot;);\n\n    // emit data loaded\n    this.body.emitter.emit(\&quot;_dataLoaded\&quot;);\n\n    // find a stable position or start animating to a stable position\n    this.body.emitter.emit(\&quot;initPhysics\&quot;);\n  };\n\n  /**\n   * Cleans up all bindings of the network, removing it fully from the memory IF the variable is set to null after calling this function.\n   * var network = new vis.Network(..);\n   * network.destroy();\n   * network = null;\n   */\n  Network.prototype.destroy = function () {\n    this.body.emitter.emit(\&quot;destroy\&quot;);\n    // clear events\n    this.body.emitter.off();\n    this.off();\n\n    // delete modules\n    delete this.groups;\n    delete this.canvas;\n    delete this.selectionHandler;\n    delete this.interactionHandler;\n    delete this.view;\n    delete this.renderer;\n    delete this.physics;\n    delete this.layoutEngine;\n    delete this.clustering;\n    delete this.manipulation;\n    delete this.nodesHandler;\n    delete this.edgesHandler;\n    delete this.configurator;\n    delete this.images;\n\n    for (var nodeId in this.body.nodes) {\n      delete this.body.nodes[nodeId];\n    }\n    for (var edgeId in this.body.edges) {\n      delete this.body.edges[edgeId];\n    }\n\n    // remove the container and everything inside it recursively\n    util.recursiveDOMDelete(this.body.container);\n  };\n\n  /**\n   * Update the values of all object in the given array according to the current\n   * value range of the objects in the array.\n   * @param {Object} obj    An object containing a set of Edges or Nodes\n   *                        The objects must have a method getValue() and\n   *                        setValueRange(min, max).\n   * @private\n   */\n  Network.prototype._updateValueRange = function (obj) {\n    var id;\n\n    // determine the range of the objects\n    var valueMin = undefined;\n    var valueMax = undefined;\n    var valueTotal = 0;\n    for (id in obj) {\n      if (obj.hasOwnProperty(id)) {\n        var value = obj[id].getValue();\n        if (value !== undefined) {\n          valueMin = valueMin === undefined ? value : Math.min(value, valueMin);\n          valueMax = valueMax === undefined ? value : Math.max(value, valueMax);\n          valueTotal += value;\n        }\n      }\n    }\n\n    // adjust the range of all objects\n    if (valueMin !== undefined &amp;&amp; valueMax !== undefined) {\n      for (id in obj) {\n        if (obj.hasOwnProperty(id)) {\n          obj[id].setValueRange(valueMin, valueMax, valueTotal);\n        }\n      }\n    }\n  };\n\n  /**\n   * Returns true when the Network is active.\n   * @returns {boolean}\n   */\n  Network.prototype.isActive = function () {\n    return !this.activator || this.activator.active;\n  };\n\n  Network.prototype.setSize = function () {\n    return this.canvas.setSize.apply(this.canvas, arguments);\n  };\n  Network.prototype.canvasToDOM = function () {\n    return this.canvas.canvasToDOM.apply(this.canvas, arguments);\n  };\n  Network.prototype.DOMtoCanvas = function () {\n    return this.canvas.DOMtoCanvas.apply(this.canvas, arguments);\n  };\n  Network.prototype.findNode = function () {\n    return this.clustering.findNode.apply(this.clustering, arguments);\n  };\n  Network.prototype.isCluster = function () {\n    return this.clustering.isCluster.apply(this.clustering, arguments);\n  };\n  Network.prototype.openCluster = function () {\n    return this.clustering.openCluster.apply(this.clustering, arguments);\n  };\n  Network.prototype.cluster = function () {\n    return this.clustering.cluster.apply(this.clustering, arguments);\n  };\n  Network.prototype.getNodesInCluster = function () {\n    return this.clustering.getNodesInCluster.apply(this.clustering, arguments);\n  };\n  Network.prototype.clusterByConnection = function () {\n    return this.clustering.clusterByConnection.apply(this.clustering, arguments);\n  };\n  Network.prototype.clusterByHubsize = function () {\n    return this.clustering.clusterByHubsize.apply(this.clustering, arguments);\n  };\n  Network.prototype.clusterOutliers = function () {\n    return this.clustering.clusterOutliers.apply(this.clustering, arguments);\n  };\n  Network.prototype.getSeed = function () {\n    return this.layoutEngine.getSeed.apply(this.layoutEngine, arguments);\n  };\n  Network.prototype.enableEditMode = function () {\n    return this.manipulation.enableEditMode.apply(this.manipulation, arguments);\n  };\n  Network.prototype.disableEditMode = function () {\n    return this.manipulation.disableEditMode.apply(this.manipulation, arguments);\n  };\n  Network.prototype.addNodeMode = function () {\n    return this.manipulation.addNodeMode.apply(this.manipulation, arguments);\n  };\n  Network.prototype.editNode = function () {\n    return this.manipulation.editNode.apply(this.manipulation, arguments);\n  };\n  Network.prototype.editNodeMode = function () {\n    console.log(\&quot;Deprecated: Please use editNode instead of editNodeMode.\&quot;);return this.manipulation.editNode.apply(this.manipulation, arguments);\n  };\n  Network.prototype.addEdgeMode = function () {\n    return this.manipulation.addEdgeMode.apply(this.manipulation, arguments);\n  };\n  Network.prototype.editEdgeMode = function () {\n    return this.manipulation.editEdgeMode.apply(this.manipulation, arguments);\n  };\n  Network.prototype.deleteSelected = function () {\n    return this.manipulation.deleteSelected.apply(this.manipulation, arguments);\n  };\n  Network.prototype.getPositions = function () {\n    return this.nodesHandler.getPositions.apply(this.nodesHandler, arguments);\n  };\n  Network.prototype.storePositions = function () {\n    return this.nodesHandler.storePositions.apply(this.nodesHandler, arguments);\n  };\n  Network.prototype.moveNode = function () {\n    return this.nodesHandler.moveNode.apply(this.nodesHandler, arguments);\n  };\n  Network.prototype.getBoundingBox = function () {\n    return this.nodesHandler.getBoundingBox.apply(this.nodesHandler, arguments);\n  };\n  Network.prototype.getConnectedNodes = function (objectId) {\n    if (this.body.nodes[objectId] !== undefined) {\n      return this.nodesHandler.getConnectedNodes.apply(this.nodesHandler, arguments);\n    } else {\n      return this.edgesHandler.getConnectedNodes.apply(this.edgesHandler, arguments);\n    }\n  };\n  Network.prototype.getConnectedEdges = function () {\n    return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler, arguments);\n  };\n  Network.prototype.startSimulation = function () {\n    return this.physics.startSimulation.apply(this.physics, arguments);\n  };\n  Network.prototype.stopSimulation = function () {\n    return this.physics.stopSimulation.apply(this.physics, arguments);\n  };\n  Network.prototype.stabilize = function () {\n    return this.physics.stabilize.apply(this.physics, arguments);\n  };\n  Network.prototype.getSelection = function () {\n    return this.selectionHandler.getSelection.apply(this.selectionHandler, arguments);\n  };\n  Network.prototype.setSelection = function () {\n    return this.selectionHandler.setSelection.apply(this.selectionHandler, arguments);\n  };\n  Network.prototype.getSelectedNodes = function () {\n    return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler, arguments);\n  };\n  Network.prototype.getSelectedEdges = function () {\n    return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler, arguments);\n  };\n  Network.prototype.getNodeAt = function () {\n    var node = this.selectionHandler.getNodeAt.apply(this.selectionHandler, arguments);\n    if (node !== undefined &amp;&amp; node.id !== undefined) {\n      return node.id;\n    }\n    return node;\n  };\n  Network.prototype.getEdgeAt = function () {\n    var edge = this.selectionHandler.getEdgeAt.apply(this.selectionHandler, arguments);\n    if (edge !== undefined &amp;&amp; edge.id !== undefined) {\n      return edge.id;\n    }\n    return edge;\n  };\n  Network.prototype.selectNodes = function () {\n    return this.selectionHandler.selectNodes.apply(this.selectionHandler, arguments);\n  };\n  Network.prototype.selectEdges = function () {\n    return this.selectionHandler.selectEdges.apply(this.selectionHandler, arguments);\n  };\n  Network.prototype.unselectAll = function () {\n    this.selectionHandler.unselectAll.apply(this.selectionHandler, arguments);\n    this.redraw();\n  };\n  Network.prototype.redraw = function () {\n    return this.renderer.redraw.apply(this.renderer, arguments);\n  };\n  Network.prototype.getScale = function () {\n    return this.view.getScale.apply(this.view, arguments);\n  };\n  Network.prototype.getViewPosition = function () {\n    return this.view.getViewPosition.apply(this.view, arguments);\n  };\n  Network.prototype.fit = function () {\n    return this.view.fit.apply(this.view, arguments);\n  };\n  Network.prototype.moveTo = function () {\n    return this.view.moveTo.apply(this.view, arguments);\n  };\n  Network.prototype.focus = function () {\n    return this.view.focus.apply(this.view, arguments);\n  };\n  Network.prototype.releaseNode = function () {\n    return this.view.releaseNode.apply(this.view, arguments);\n  };\n  Network.prototype.getOptionsFromConfigurator = function () {\n    var options = {};\n    if (this.configurator) {\n      options = this.configurator.getOptions.apply(this.configurator);\n    }\n    return options;\n  };\n\n  module.exports = Network;\n\n/***/ },\n/* 59 */\n/***/ function(module, exports, __webpack_require__) {\n\n  \&quot;use strict\&quot;;\n\n  Object.defineProperty(exports, \&quot;__esModule\&quot;, {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\&quot;value\&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\&quot;Cannot call a class as a function\&quot;); } }\n\n  var util = __webpack_require__(1);\n\n  /**\n   * @class Groups\n   * This class can store groups and options specific for groups.\n   */\n\n  var Groups = (function () {\n    function Groups() {\n      _classCallCheck(this, Groups);\n\n      this.clear();\n      this.defaultIndex = 0;\n      this.groupsArray = [];\n      this.groupIndex = 0;\n\n      this.defaultGroups = [{ border: \&quot;#2B7CE9\&quot;, background: \&quot;#97C2FC\&quot;, highlight: { border: \&quot;#2B7CE9\&quot;, background: \&quot;#D2E5FF\&quot; }, hover: { border: \&quot;#2B7CE9\&quot;, background: \&quot;#D2E5FF\&quot; } }, // 0: blue\n      { border: \&quot;#FFA500\&quot;, background: \&quot;#FFFF00\&quot;, highlight: { border: \&quot;#FFA500\&quot;, background: \&quot;#FFFFA3\&quot; }, hover: { border: \&quot;#FFA500\&quot;, background: \&quot;#FFFFA3\&quot; } }, // 1: yellow\n      { border: \&quot;#FA0A10\&quot;, background: \&quot;#FB7E81\&quot;, highlight: { border: \&quot;#FA0A10\&quot;, background: \&quot;#FFAFB1\&quot; }, hover: { border: \&quot;#FA0A10\&quot;, background: \&quot;#FFAFB1\&quot; } }, // 2: red\n      { border: \&quot;#41A906\&quot;, background: \&quot;#7BE141\&quot;, highlight: { border: \&quot;#41A906\&quot;, background: \&quot;#A1EC76\&quot; }, hover: { border: \&quot;#41A906\&quot;, background: \&quot;#A1EC76\&quot; } }, // 3: green\n      { border: \&quot;#E129F0\&quot;, background: \&quot;#EB7DF4\&quot;, highlight: { border: \&quot;#E129F0\&quot;, background: \&quot;#F0B3F5\&quot; }, hover: { border: \&quot;#E129F0\&quot;, background: \&quot;#F0B3F5\&quot; } }, // 4: magenta\n      { border: \&quot;#7C29F0\&quot;, background: \&quot;#AD85E4\&quot;, highlight: { border: \&quot;#7C29F0\&quot;, background: \&quot;#D3BDF0\&quot; }, hover: { border: \&quot;#7C29F0\&quot;, background: \&quot;#D3BDF0\&quot; } }, // 5: purple\n      { border: \&quot;#C37F00\&quot;, background: \&quot;#FFA807\&quot;, highlight: { border: \&quot;#C37F00\&quot;, background: \&quot;#FFCA66\&quot; }, hover: { border: \&quot;#C37F00\&quot;, background: \&quot;#FFCA66\&quot; } }, // 6: orange\n      { border: \&quot;#4220FB\&quot;, background: \&quot;#6E6EFD\&quot;, highlight: { border: \&quot;#4220FB\&quot;, background: \&quot;#9B9BFD\&quot; }, hover: { border: \&quot;#4220FB\&quot;, background: \&quot;#9B9BFD\&quot; } }, // 7: darkblue\n      { border: \&quot;#FD5A77\&quot;, background: \&quot;#FFC0CB\&quot;, highlight: { border: \&quot;#FD5A77\&quot;, background: \&quot;#FFD1D9\&quot; }, hover: { border: \&quot;#FD5A77\&quot;, background: \&quot;#FFD1D9\&quot; } }, // 8: pink\n      { border: \&quot;#4AD63A\&quot;, background: \&quot;#C2FABC\&quot;, highlight: { border: \&quot;#4AD63A\&quot;, background: \&quot;#E6FFE3\&quot; }, hover: { border: \&quot;#4AD63A\&quot;, background: \&quot;#E6FFE3\&quot; } }, // 9: mint\n\n      { border: \&quot;#990000\&quot;, background: \&quot;#EE0000\&quot;, highlight: { border: \&quot;#BB0000\&quot;, background: \&quot;#FF3333\&quot; }, hover: { border: \&quot;#BB0000\&quot;, background: \&quot;#FF3333\&quot; } }, // 10:bright red\n\n      { border: \&quot;#FF6000\&quot;, background: \&quot;#FF6000\&quot;, highlight: { border: \&quot;#FF6000\&quot;, background: \&quot;#FF6000\&quot; }, hover: { border: \&quot;#FF6000\&quot;, background: \&quot;#FF6000\&quot; } }, // 12: real orange\n      { border: \&quot;#97C2FC\&quot;, background: \&quot;#2B7CE9\&quot;, highlight: { border: \&quot;#D2E5FF\&quot;, background: \&quot;#2B7CE9\&quot; }, hover: { border: \&quot;#D2E5FF\&quot;, background: \&quot;#2B7CE9\&quot; } }, // 13: blue\n      { border: \&quot;#399605\&quot;, background: \&quot;#255C03\&quot;, highlight: { border: \&quot;#399605\&quot;, background: \&quot;#255C03\&quot; }, hover: { border: \&quot;#399605\&quot;, background: \&quot;#255C03\&quot; } }, // 14: green\n      { border: \&quot;#B70054\&quot;, background: \&quot;#FF007E\&quot;, highlight: { border: \&quot;#B70054\&quot;, background: \&quot;#FF007E\&quot; }, hover: { border: \&quot;#B70054\&quot;, background: \&quot;#FF007E\&quot; } }, // 15: magenta\n      { border: \&quot;#AD85E4\&quot;, background: \&quot;#7C29F0\&quot;, highlight: { border: \&quot;#D3BDF0\&quot;, background: \&quot;#7C29F0\&quot; }, hover: { border: \&quot;#D3BDF0\&quot;, background: \&quot;#7C29F0\&quot; } }, // 16: purple\n      { border: \&quot;#4557FA\&quot;, background: \&quot;#000EA1\&quot;, highlight: { border: \&quot;#6E6EFD\&quot;, background: \&quot;#000EA1\&quot; }, hover: { border: \&quot;#6E6EFD\&quot;, background: \&quot;#000EA1\&quot; } }, // 17: darkblue\n      { border: \&quot;#FFC0CB\&quot;, background: \&quot;#FD5A77\&quot;, highlight: { border: \&quot;#FFD1D9\&quot;, background: \&quot;#FD5A77\&quot; }, hover: { border: \&quot;#FFD1D9\&quot;, background: \&quot;#FD5A77\&quot; } }, // 18: pink\n      { border: \&quot;#C2FABC\&quot;, background: \&quot;#74D66A\&quot;, highlight: { border: \&quot;#E6FFE3\&quot;, background: \&quot;#74D66A\&quot; }, hover: { border: \&quot;#E6FFE3\&quot;, background: \&quot;#74D66A\&quot; } }, // 19: mint\n\n      { border: \&quot;#EE0000\&quot;, background: \&quot;#990000\&quot;, highlight: { border: \&quot;#FF3333\&quot;, background: \&quot;#BB0000\&quot; }, hover: { border: \&quot;#FF3333\&quot;, background: \&quot;#BB0000\&quot; } } // 20:bright red\n      ];\n\n      this.options = {};\n      this.defaultOptions = {\n        useDefaultGroups: true\n      };\n      util.extend(this.options, this.defaultOptions);\n    }\n\n    _createClass(Groups, [{\n      key: \&quot;setOptions\&quot;,\n      value: function setOptions(options) {\n        var optionFields = ['useDefaultGroups'];\n\n        if (options !== undefined) {\n          for (var groupName in options) {\n            if (options.hasOwnProperty(groupName)) {\n              if (optionFields.indexOf(groupName) === -1) {\n                var group = options[groupName];\n                this.add(groupName, group);\n              }\n            }\n          }\n        }\n      }\n\n      /**\n       * Clear all groups\n       */\n    }, {\n      key: \&quot;clear\&quot;,\n      value: function clear() {\n        this.groups = {};\n        this.groupsArray = [];\n      }\n\n      /**\n       * get group options of a groupname. If groupname is not found, a new group\n       * is added.\n       * @param {*} groupname        Can be a number, string, Date, etc.\n       * @return {Object} group      The created group, containing all group options\n       */\n    }, {\n      key: \&quot;get\&quot;,\n      value: function get(groupname) {\n        var group = this.groups[groupname];\n        if (group === undefined) {\n          if (this.options.useDefaultGroups === false &amp;&amp; this.groupsArray.length &gt; 0) {\n            // create new group\n            var index = this.groupIndex % this.groupsArray.length;\n            this.groupIndex++;\n            group = {};\n            group.color = this.groups[this.groupsArray[index]];\n            this.groups[groupname] = group;\n          } else {\n            // create new group\n            var index = this.defaultIndex % this.defaultGroups.length;\n            this.defaultIndex++;\n            group = {};\n            group.color = this.defaultGroups[index];\n            this.groups[groupname] = group;\n          }\n        }\n\n        return group;\n      }\n\n      /**\n       * Add a custom group style\n       * @param {String} groupName\n       * @param {Object} style       An object containing borderColor,\n       *                             backgroundColor, etc.\n       * @return {Object} group      The created group object\n       */\n    }, {\n      key: \&quot;add\&quot;,\n      value: function add(groupName, style) {\n        this.groups[groupName] = style;\n        this.groupsArray.push(groupName);\n        return style;\n      }\n    }]);\n\n    return Groups;\n  })();\n\n  exports[\&quot;default\&quot;] = Groups;\n  module.exports = exports[\&quot;default\&quot;];\n\n/***/ },\n/* 60 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var _componentsNode = __webpack_require__(61);\n\n  var _componentsNode2 = _interopRequireDefault(_componentsNode);\n\n  var _componentsSharedLabel = __webpack_require__(62);\n\n  var _componentsSharedLabel2 = _interopRequireDefault(_componentsSharedLabel);\n\n  var util = __webpack_require__(1);\n  var DataSet = __webpack_require__(8);\n  var DataView = __webpack_require__(10);\n\n  var NodesHandler = (function () {\n    function NodesHandler(body, images, groups, layoutEngine) {\n      var _this = this;\n\n      _classCallCheck(this, NodesHandler);\n\n      this.body = body;\n      this.images = images;\n      this.groups = groups;\n      this.layoutEngine = layoutEngine;\n\n      // create the node API in the body container\n      this.body.functions.createNode = this.create.bind(this);\n\n      this.nodesListeners = {\n        add: function add(event, params) {\n          _this.add(params.items);\n        },\n        update: function update(event, params) {\n          _this.update(params.items, params.data);\n        },\n        remove: function remove(event, params) {\n          _this.remove(params.items);\n        }\n      };\n\n      this.options = {};\n      this.defaultOptions = {\n        borderWidth: 1,\n        borderWidthSelected: 2,\n        brokenImage: undefined,\n        color: {\n          border: '#2B7CE9',\n          background: '#97C2FC',\n          highlight: {\n            border: '#2B7CE9',\n            background: '#D2E5FF'\n          },\n          hover: {\n            border: '#2B7CE9',\n            background: '#D2E5FF'\n          }\n        },\n        fixed: {\n          x: false,\n          y: false\n        },\n        font: {\n          color: '#343434',\n          size: 14, // px\n          face: 'arial',\n          background: 'none',\n          strokeWidth: 0, // px\n          strokeColor: '#ffffff',\n          align: 'horizontal'\n        },\n        group: undefined,\n        hidden: false,\n        icon: {\n          face: 'FontAwesome', //'FontAwesome',\n          code: undefined, //'\\uf007',\n          size: 50, //50,\n          color: '#2B7CE9' //'#aa00ff'\n        },\n        image: undefined, // --&gt; URL\n        label: undefined,\n        labelHighlightBold: true,\n        level: undefined,\n        mass: 1,\n        physics: true,\n        scaling: {\n          min: 10,\n          max: 30,\n          label: {\n            enabled: false,\n            min: 14,\n            max: 30,\n            maxVisible: 30,\n            drawThreshold: 5\n          },\n          customScalingFunction: function customScalingFunction(min, max, total, value) {\n            if (max === min) {\n              return 0.5;\n            } else {\n              var scale = 1 / (max - min);\n              return Math.max(0, (value - min) * scale);\n            }\n          }\n        },\n        shadow: {\n          enabled: false,\n          color: 'rgba(0,0,0,0.5)',\n          size: 10,\n          x: 5,\n          y: 5\n        },\n        shape: 'ellipse',\n        shapeProperties: {\n          borderDashes: false, // only for borders\n          borderRadius: 6, // only for box shape\n          useImageSize: false, // only for image and circularImage shapes\n          useBorderWithImage: false // only for image shape\n        },\n        size: 25,\n        title: undefined,\n        value: undefined,\n        x: undefined,\n        y: undefined\n      };\n      util.extend(this.options, this.defaultOptions);\n\n      this.bindEventListeners();\n    }\n\n    _createClass(NodesHandler, [{\n      key: 'bindEventListeners',\n      value: function bindEventListeners() {\n        var _this2 = this;\n\n        // refresh the nodes. Used when reverting from hierarchical layout\n        this.body.emitter.on('refreshNodes', this.refresh.bind(this));\n        this.body.emitter.on('refresh', this.refresh.bind(this));\n        this.body.emitter.on('destroy', function () {\n          util.forEach(_this2.nodesListeners, function (callback, event) {\n            if (_this2.body.data.nodes) _this2.body.data.nodes.off(event, callback);\n          });\n          delete _this2.body.functions.createNode;\n          delete _this2.nodesListeners.add;\n          delete _this2.nodesListeners.update;\n          delete _this2.nodesListeners.remove;\n          delete _this2.nodesListeners;\n        });\n      }\n    }, {\n      key: 'setOptions',\n      value: function setOptions(options) {\n        if (options !== undefined) {\n          _componentsNode2['default'].parseOptions(this.options, options);\n\n          // update the shape in all nodes\n          if (options.shape !== undefined) {\n            for (var nodeId in this.body.nodes) {\n              if (this.body.nodes.hasOwnProperty(nodeId)) {\n                this.body.nodes[nodeId].updateShape();\n              }\n            }\n          }\n\n          // update the font in all nodes\n          if (options.font !== undefined) {\n            _componentsSharedLabel2['default'].parseOptions(this.options.font, options);\n            for (var nodeId in this.body.nodes) {\n              if (this.body.nodes.hasOwnProperty(nodeId)) {\n                this.body.nodes[nodeId].updateLabelModule();\n                this.body.nodes[nodeId]._reset();\n              }\n            }\n          }\n\n          // update the shape size in all nodes\n          if (options.size !== undefined) {\n            for (var nodeId in this.body.nodes) {\n              if (this.body.nodes.hasOwnProperty(nodeId)) {\n                this.body.nodes[nodeId]._reset();\n              }\n            }\n          }\n\n          // update the state of the letiables if needed\n          if (options.hidden !== undefined || options.physics !== undefined) {\n            this.body.emitter.emit('_dataChanged');\n          }\n        }\n      }\n\n      /**\n       * Set a data set with nodes for the network\n       * @param {Array | DataSet | DataView} nodes         The data containing the nodes.\n       * @private\n       */\n    }, {\n      key: 'setData',\n      value: function setData(nodes) {\n        var _this3 = this;\n\n        var doNotEmit = arguments.length &lt;= 1 || arguments[1] === undefined ? false : arguments[1];\n\n        var oldNodesData = this.body.data.nodes;\n\n        if (nodes instanceof DataSet || nodes instanceof DataView) {\n          this.body.data.nodes = nodes;\n        } else if (Array.isArray(nodes)) {\n          this.body.data.nodes = new DataSet();\n          this.body.data.nodes.add(nodes);\n        } else if (!nodes) {\n          this.body.data.nodes = new DataSet();\n        } else {\n          throw new TypeError('Array or DataSet expected');\n        }\n\n        if (oldNodesData) {\n          // unsubscribe from old dataset\n          util.forEach(this.nodesListeners, function (callback, event) {\n            oldNodesData.off(event, callback);\n          });\n        }\n\n        // remove drawn nodes\n        this.body.nodes = {};\n\n        if (this.body.data.nodes) {\n          (function () {\n            // subscribe to new dataset\n            var me = _this3;\n            util.forEach(_this3.nodesListeners, function (callback, event) {\n              me.body.data.nodes.on(event, callback);\n            });\n\n            // draw all new nodes\n            var ids = _this3.body.data.nodes.getIds();\n            _this3.add(ids, true);\n          })();\n        }\n\n        if (doNotEmit === false) {\n          this.body.emitter.emit(\&quot;_dataChanged\&quot;);\n        }\n      }\n\n      /**\n       * Add nodes\n       * @param {Number[] | String[]} ids\n       * @private\n       */\n    }, {\n      key: 'add',\n      value: function add(ids) {\n        var doNotEmit = arguments.length &lt;= 1 || arguments[1] === undefined ? false : arguments[1];\n\n        var id = undefined;\n        var newNodes = [];\n        for (var i = 0; i &lt; ids.length; i++) {\n          id = ids[i];\n          var properties = this.body.data.nodes.get(id);\n          var node = this.create(properties);\n          newNodes.push(node);\n          this.body.nodes[id] = node; // note: this may replace an existing node\n        }\n\n        this.layoutEngine.positionInitially(newNodes);\n\n        if (doNotEmit === false) {\n          this.body.emitter.emit(\&quot;_dataChanged\&quot;);\n        }\n      }\n\n      /**\n       * Update existing nodes, or create them when not yet existing\n       * @param {Number[] | String[]} ids\n       * @private\n       */\n    }, {\n      key: 'update',\n      value: function update(ids, changedData) {\n        var nodes = this.body.nodes;\n        var dataChanged = false;\n        for (var i = 0; i &lt; ids.length; i++) {\n          var id = ids[i];\n          var node = nodes[id];\n          var data = changedData[i];\n          if (node !== undefined) {\n            // update node\n            dataChanged = node.setOptions(data);\n          } else {\n            dataChanged = true;\n            // create node\n            node = this.create(data);\n            nodes[id] = node;\n          }\n        }\n        if (dataChanged === true) {\n          this.body.emitter.emit(\&quot;_dataChanged\&quot;);\n        } else {\n          this.body.emitter.emit(\&quot;_dataUpdated\&quot;);\n        }\n      }\n\n      /**\n       * Remove existing nodes. If nodes do not exist, the method will just ignore it.\n       * @param {Number[] | String[]} ids\n       * @private\n       */\n    }, {\n      key: 'remove',\n      value: function remove(ids) {\n        var nodes = this.body.nodes;\n\n        for (var i = 0; i &lt; ids.length; i++) {\n          var id = ids[i];\n          delete nodes[id];\n        }\n\n        this.body.emitter.emit(\&quot;_dataChanged\&quot;);\n      }\n\n      /**\n       * create a node\n       * @param properties\n       * @param constructorClass\n       */\n    }, {\n      key: 'create',\n      value: function create(properties) {\n        var constructorClass = arguments.length &lt;= 1 || arguments[1] === undefined ? _componentsNode2['default'] : arguments[1];\n\n        return new constructorClass(properties, this.body, this.images, this.groups, this.options);\n      }\n    }, {\n      key: 'refresh',\n      value: function refresh() {\n        var clearPositions = arguments.length &lt;= 0 || arguments[0] === undefined ? false : arguments[0];\n\n        var nodes = this.body.nodes;\n        for (var nodeId in nodes) {\n          var node = undefined;\n          if (nodes.hasOwnProperty(nodeId)) {\n            node = nodes[nodeId];\n          }\n          var data = this.body.data.nodes._data[nodeId];\n          if (node !== undefined &amp;&amp; data !== undefined) {\n            if (clearPositions === true) {\n              node.setOptions({ x: null, y: null });\n            }\n            node.setOptions({ fixed: false });\n            node.setOptions(data);\n          }\n        }\n      }\n\n      /**\n       * Returns the positions of the nodes.\n       * @param ids  --&gt; optional, can be array of nodeIds, can be string\n       * @returns {{}}\n       */\n    }, {\n      key: 'getPositions',\n      value: function getPositions(ids) {\n        var dataArray = {};\n        if (ids !== undefined) {\n          if (Array.isArray(ids) === true) {\n            for (var i = 0; i &lt; ids.length; i++) {\n              if (this.body.nodes[ids[i]] !== undefined) {\n                var node = this.body.nodes[ids[i]];\n                dataArray[ids[i]] = { x: Math.round(node.x), y: Math.round(node.y) };\n              }\n            }\n          } else {\n            if (this.body.nodes[ids] !== undefined) {\n              var node = this.body.nodes[ids];\n              dataArray[ids] = { x: Math.round(node.x), y: Math.round(node.y) };\n            }\n          }\n        } else {\n          for (var i = 0; i &lt; this.body.nodeIndices.length; i++) {\n            var node = this.body.nodes[this.body.nodeIndices[i]];\n            dataArray[this.body.nodeIndices[i]] = { x: Math.round(node.x), y: Math.round(node.y) };\n          }\n        }\n        return dataArray;\n      }\n\n      /**\n       * Load the XY positions of the nodes into the dataset.\n       */\n    }, {\n      key: 'storePositions',\n      value: function storePositions() {\n        // todo: add support for clusters and hierarchical.\n        var dataArray = [];\n        var dataset = this.body.data.nodes.getDataSet();\n\n        for (var nodeId in dataset._data) {\n          if (dataset._data.hasOwnProperty(nodeId)) {\n            var node = this.body.nodes[nodeId];\n            if (dataset._data[nodeId].x != Math.round(node.x) || dataset._data[nodeId].y != Math.round(node.y)) {\n              dataArray.push({ id: node.id, x: Math.round(node.x), y: Math.round(node.y) });\n            }\n          }\n        }\n        dataset.update(dataArray);\n      }\n\n      /**\n       * get the bounding box of a node.\n       * @param nodeId\n       * @returns {j|*}\n       */\n    }, {\n      key: 'getBoundingBox',\n      value: function getBoundingBox(nodeId) {\n        if (this.body.nodes[nodeId] !== undefined) {\n          return this.body.nodes[nodeId].shape.boundingBox;\n        }\n      }\n\n      /**\n       * Get the Ids of nodes connected to this node.\n       * @param nodeId\n       * @returns {Array}\n       */\n    }, {\n      key: 'getConnectedNodes',\n      value: function getConnectedNodes(nodeId) {\n        var nodeList = [];\n        if (this.body.nodes[nodeId] !== undefined) {\n          var node = this.body.nodes[nodeId];\n          var nodeObj = {}; // used to quickly check if node already exists\n          for (var i = 0; i &lt; node.edges.length; i++) {\n            var edge = node.edges[i];\n            if (edge.toId == node.id) {\n              // these are double equals since ids can be numeric or string\n              if (nodeObj[edge.fromId] === undefined) {\n                nodeList.push(edge.fromId);\n                nodeObj[edge.fromId] = true;\n              }\n            } else if (edge.fromId == node.id) {\n              // these are double equals since ids can be numeric or string\n              if (nodeObj[edge.toId] === undefined) {\n                nodeList.push(edge.toId);\n                nodeObj[edge.toId] = true;\n              }\n            }\n          }\n        }\n        return nodeList;\n      }\n\n      /**\n       * Get the ids of the edges connected to this node.\n       * @param nodeId\n       * @returns {*}\n       */\n    }, {\n      key: 'getConnectedEdges',\n      value: function getConnectedEdges(nodeId) {\n        var edgeList = [];\n        if (this.body.nodes[nodeId] !== undefined) {\n          var node = this.body.nodes[nodeId];\n          for (var i = 0; i &lt; node.edges.length; i++) {\n            edgeList.push(node.edges[i].id);\n          }\n        } else {\n          console.log(\&quot;NodeId provided for getConnectedEdges does not exist. Provided: \&quot;, nodeId);\n        }\n        return edgeList;\n      }\n\n      /**\n       * Move a node.\n       * @param String nodeId\n       * @param Number x\n       * @param Number y\n       */\n    }, {\n      key: 'moveNode',\n      value: function moveNode(nodeId, x, y) {\n        var _this4 = this;\n\n        if (this.body.nodes[nodeId] !== undefined) {\n          this.body.nodes[nodeId].x = Number(x);\n          this.body.nodes[nodeId].y = Number(y);\n          setTimeout(function () {\n            _this4.body.emitter.emit(\&quot;startSimulation\&quot;);\n          }, 0);\n        } else {\n          console.log(\&quot;Node id supplied to moveNode does not exist. Provided: \&quot;, nodeId);\n        }\n      }\n    }]);\n\n    return NodesHandler;\n  })();\n\n  exports['default'] = NodesHandler;\n  module.exports = exports['default'];\n\n/***/ },\n/* 61 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var _sharedLabel = __webpack_require__(62);\n\n  var _sharedLabel2 = _interopRequireDefault(_sharedLabel);\n\n  var _nodesShapesBox = __webpack_require__(63);\n\n  var _nodesShapesBox2 = _interopRequireDefault(_nodesShapesBox);\n\n  var _nodesShapesCircle = __webpack_require__(65);\n\n  var _nodesShapesCircle2 = _interopRequireDefault(_nodesShapesCircle);\n\n  var _nodesShapesCircularImage = __webpack_require__(67);\n\n  var _nodesShapesCircularImage2 = _interopRequireDefault(_nodesShapesCircularImage);\n\n  var _nodesShapesDatabase = __webpack_require__(68);\n\n  var _nodesShapesDatabase2 = _interopRequireDefault(_nodesShapesDatabase);\n\n  var _nodesShapesDiamond = __webpack_require__(69);\n\n  var _nodesShapesDiamond2 = _interopRequireDefault(_nodesShapesDiamond);\n\n  var _nodesShapesDot = __webpack_require__(71);\n\n  var _nodesShapesDot2 = _interopRequireDefault(_nodesShapesDot);\n\n  var _nodesShapesEllipse = __webpack_require__(72);\n\n  var _nodesShapesEllipse2 = _interopRequireDefault(_nodesShapesEllipse);\n\n  var _nodesShapesIcon = __webpack_require__(73);\n\n  var _nodesShapesIcon2 = _interopRequireDefault(_nodesShapesIcon);\n\n  var _nodesShapesImage = __webpack_require__(74);\n\n  var _nodesShapesImage2 = _interopRequireDefault(_nodesShapesImage);\n\n  var _nodesShapesSquare = __webpack_require__(75);\n\n  var _nodesShapesSquare2 = _interopRequireDefault(_nodesShapesSquare);\n\n  var _nodesShapesStar = __webpack_require__(76);\n\n  var _nodesShapesStar2 = _interopRequireDefault(_nodesShapesStar);\n\n  var _nodesShapesText = __webpack_require__(77);\n\n  var _nodesShapesText2 = _interopRequireDefault(_nodesShapesText);\n\n  var _nodesShapesTriangle = __webpack_require__(78);\n\n  var _nodesShapesTriangle2 = _interopRequireDefault(_nodesShapesTriangle);\n\n  var _nodesShapesTriangleDown = __webpack_require__(79);\n\n  var _nodesShapesTriangleDown2 = _interopRequireDefault(_nodesShapesTriangleDown);\n\n  var _sharedValidator = __webpack_require__(46);\n\n  var _sharedValidator2 = _interopRequireDefault(_sharedValidator);\n\n  var util = __webpack_require__(1);\n\n  /**\n   * @class Node\n   * A node. A node can be connected to other nodes via one or multiple edges.\n   * @param {object} options An object containing options for the node. All\n   *                            options are optional, except for the id.\n   *                              {number} id     Id of the node. Required\n   *                              {string} label  Text label for the node\n   *                              {number} x      Horizontal position of the node\n   *                              {number} y      Vertical position of the node\n   *                              {string} shape  Node shape, available:\n   *                                              \&quot;database\&quot;, \&quot;circle\&quot;, \&quot;ellipse\&quot;,\n   *                                              \&quot;box\&quot;, \&quot;image\&quot;, \&quot;text\&quot;, \&quot;dot\&quot;,\n   *                                              \&quot;star\&quot;, \&quot;triangle\&quot;, \&quot;triangleDown\&quot;,\n   *                                              \&quot;square\&quot;, \&quot;icon\&quot;\n   *                              {string} image  An image url\n   *                              {string} title  An title text, can be HTML\n   *                              {anytype} group A group name or number\n   * @param {Network.Images} imagelist    A list with images. Only needed\n   *                                            when the node has an image\n   * @param {Network.Groups} grouplist    A list with groups. Needed for\n   *                                            retrieving group options\n   * @param {Object}               constants    An object with default values for\n   *                                            example for the color\n   *\n   */\n\n  var Node = (function () {\n    function Node(options, body, imagelist, grouplist, globalOptions) {\n      _classCallCheck(this, Node);\n\n      this.options = util.bridgeObject(globalOptions);\n      this.globalOptions = globalOptions;\n      this.body = body;\n\n      this.edges = []; // all edges connected to this node\n\n      // set defaults for the options\n      this.id = undefined;\n      this.imagelist = imagelist;\n      this.grouplist = grouplist;\n\n      // state options\n      this.x = undefined;\n      this.y = undefined;\n      this.baseSize = this.options.size;\n      this.baseFontSize = this.options.font.size;\n      this.predefinedPosition = false; // used to check if initial fit should just take the range or approximate\n      this.selected = false;\n      this.hover = false;\n\n      this.labelModule = new _sharedLabel2['default'](this.body, this.options);\n      this.setOptions(options);\n    }\n\n    /**\n     * Attach a edge to the node\n     * @param {Edge} edge\n     */\n\n    _createClass(Node, [{\n      key: 'attachEdge',\n      value: function attachEdge(edge) {\n        if (this.edges.indexOf(edge) === -1) {\n          this.edges.push(edge);\n        }\n      }\n\n      /**\n       * Detach a edge from the node\n       * @param {Edge} edge\n       */\n    }, {\n      key: 'detachEdge',\n      value: function detachEdge(edge) {\n        var index = this.edges.indexOf(edge);\n        if (index != -1) {\n          this.edges.splice(index, 1);\n        }\n      }\n\n      /**\n       * Set or overwrite options for the node\n       * @param {Object} options an object with options\n       * @param {Object} constants  and object with default, global options\n       */\n    }, {\n      key: 'setOptions',\n      value: function setOptions(options) {\n        var currentShape = this.options.shape;\n        if (!options) {\n          return;\n        }\n        // basic options\n        if (options.id !== undefined) {\n          this.id = options.id;\n        }\n\n        if (this.id === undefined) {\n          throw \&quot;Node must have an id\&quot;;\n        }\n\n        // set these options locally\n        // clear x and y positions\n        if (options.x !== undefined) {\n          if (options.x === null) {\n            this.x = undefined;this.predefinedPosition = false;\n          } else {\n            this.x = parseInt(options.x);this.predefinedPosition = true;\n          }\n        }\n        if (options.y !== undefined) {\n          if (options.y === null) {\n            this.y = undefined;this.predefinedPosition = false;\n          } else {\n            this.y = parseInt(options.y);this.predefinedPosition = true;\n          }\n        }\n        if (options.size !== undefined) {\n          this.baseSize = options.size;\n        }\n        if (options.value !== undefined) {\n          options.value = parseFloat(options.value);\n        }\n\n        // copy group options\n        if (typeof options.group === 'number' || typeof options.group === 'string' &amp;&amp; options.group != '') {\n          var groupObj = this.grouplist.get(options.group);\n          util.deepExtend(this.options, groupObj);\n          // the color object needs to be completely defined. Since groups can partially overwrite the colors, we parse it again, just in case.\n          this.options.color = util.parseColor(this.options.color);\n        }\n\n        // this transforms all shorthands into fully defined options\n        Node.parseOptions(this.options, options, true, this.globalOptions);\n\n        // load the images\n        if (this.options.image !== undefined) {\n          if (this.imagelist) {\n            this.imageObj = this.imagelist.load(this.options.image, this.options.brokenImage, this.id);\n          } else {\n            throw \&quot;No imagelist provided\&quot;;\n          }\n        }\n\n        this.updateLabelModule();\n        this.updateShape(currentShape);\n\n        if (options.hidden !== undefined || options.physics !== undefined) {\n          return true;\n        }\n        return false;\n      }\n\n      /**\n       * This process all possible shorthands in the new options and makes sure that the parentOptions are fully defined.\n       * Static so it can also be used by the handler.\n       * @param parentOptions\n       * @param newOptions\n       * @param allowDeletion\n       * @param globalOptions\n       */\n    }, {\n      key: 'updateLabelModule',\n      value: function updateLabelModule() {\n        if (this.options.label === undefined || this.options.label === null) {\n          this.options.label = '';\n        }\n        this.labelModule.setOptions(this.options, true);\n        if (this.labelModule.baseSize !== undefined) {\n          this.baseFontSize = this.labelModule.baseSize;\n        }\n      }\n    }, {\n      key: 'updateShape',\n      value: function updateShape(currentShape) {\n        if (currentShape === this.options.shape &amp;&amp; this.shape) {\n          this.shape.setOptions(this.options, this.imageObj);\n        } else {\n          // choose draw method depending on the shape\n          switch (this.options.shape) {\n            case 'box':\n              this.shape = new _nodesShapesBox2['default'](this.options, this.body, this.labelModule);\n              break;\n            case 'circle':\n              this.shape = new _nodesShapesCircle2['default'](this.options, this.body, this.labelModule);\n              break;\n            case 'circularImage':\n              this.shape = new _nodesShapesCircularImage2['default'](this.options, this.body, this.labelModule, this.imageObj);\n              break;\n            case 'database':\n              this.shape = new _nodesShapesDatabase2['default'](this.options, this.body, this.labelModule);\n              break;\n            case 'diamond':\n              this.shape = new _nodesShapesDiamond2['default'](this.options, this.body, this.labelModule);\n              break;\n            case 'dot':\n              this.shape = new _nodesShapesDot2['default'](this.options, this.body, this.labelModule);\n              break;\n            case 'ellipse':\n              this.shape = new _nodesShapesEllipse2['default'](this.options, this.body, this.labelModule);\n              break;\n            case 'icon':\n              this.shape = new _nodesShapesIcon2['default'](this.options, this.body, this.labelModule);\n              break;\n            case 'image':\n              this.shape = new _nodesShapesImage2['default'](this.options, this.body, this.labelModule, this.imageObj);\n              break;\n            case 'square':\n              this.shape = new _nodesShapesSquare2['default'](this.options, this.body, this.labelModule);\n              break;\n            case 'star':\n              this.shape = new _nodesShapesStar2['default'](this.options, this.body, this.labelModule);\n              break;\n            case 'text':\n              this.shape = new _nodesShapesText2['default'](this.options, this.body, this.labelModule);\n              break;\n            case 'triangle':\n              this.shape = new _nodesShapesTriangle2['default'](this.options, this.body, this.labelModule);\n              break;\n            case 'triangleDown':\n              this.shape = new _nodesShapesTriangleDown2['default'](this.options, this.body, this.labelModule);\n              break;\n            default:\n              this.shape = new _nodesShapesEllipse2['default'](this.options, this.body, this.labelModule);\n              break;\n          }\n        }\n        this._reset();\n      }\n\n      /**\n       * select this node\n       */\n    }, {\n      key: 'select',\n      value: function select() {\n        this.selected = true;\n        this._reset();\n      }\n\n      /**\n       * unselect this node\n       */\n    }, {\n      key: 'unselect',\n      value: function unselect() {\n        this.selected = false;\n        this._reset();\n      }\n\n      /**\n       * Reset the calculated size of the node, forces it to recalculate its size\n       * @private\n       */\n    }, {\n      key: '_reset',\n      value: function _reset() {\n        this.shape.width = undefined;\n        this.shape.height = undefined;\n      }\n\n      /**\n       * get the title of this node.\n       * @return {string} title    The title of the node, or undefined when no title\n       *                           has been set.\n       */\n    }, {\n      key: 'getTitle',\n      value: function getTitle() {\n        return this.options.title;\n      }\n\n      /**\n       * Calculate the distance to the border of the Node\n       * @param {CanvasRenderingContext2D}   ctx\n       * @param {Number} angle        Angle in radians\n       * @returns {number} distance   Distance to the border in pixels\n       */\n    }, {\n      key: 'distanceToBorder',\n      value: function distanceToBorder(ctx, angle) {\n        return this.shape.distanceToBorder(ctx, angle);\n      }\n\n      /**\n       * Check if this node has a fixed x and y position\n       * @return {boolean}      true if fixed, false if not\n       */\n    }, {\n      key: 'isFixed',\n      value: function isFixed() {\n        return this.options.fixed.x &amp;&amp; this.options.fixed.y;\n      }\n\n      /**\n       * check if this node is selecte\n       * @return {boolean} selected   True if node is selected, else false\n       */\n    }, {\n      key: 'isSelected',\n      value: function isSelected() {\n        return this.selected;\n      }\n\n      /**\n       * Retrieve the value of the node. Can be undefined\n       * @return {Number} value\n       */\n    }, {\n      key: 'getValue',\n      value: function getValue() {\n        return this.options.value;\n      }\n\n      /**\n       * Adjust the value range of the node. The node will adjust it's size\n       * based on its value.\n       * @param {Number} min\n       * @param {Number} max\n       */\n    }, {\n      key: 'setValueRange',\n      value: function setValueRange(min, max, total) {\n        if (this.options.value !== undefined) {\n          var scale = this.options.scaling.customScalingFunction(min, max, total, this.options.value);\n          var sizeDiff = this.options.scaling.max - this.options.scaling.min;\n          if (this.options.scaling.label.enabled === true) {\n            var fontDiff = this.options.scaling.label.max - this.options.scaling.label.min;\n            this.options.font.size = this.options.scaling.label.min + scale * fontDiff;\n          }\n          this.options.size = this.options.scaling.min + scale * sizeDiff;\n        } else {\n          this.options.size = this.baseSize;\n          this.options.font.size = this.baseFontSize;\n        }\n\n        this.updateLabelModule();\n      }\n\n      /**\n       * Draw this node in the given canvas\n       * The 2d context of a HTML canvas can be retrieved by canvas.getContext(\&quot;2d\&quot;);\n       * @param {CanvasRenderingContext2D}   ctx\n       */\n    }, {\n      key: 'draw',\n      value: function draw(ctx) {\n        this.shape.draw(ctx, this.x, this.y, this.selected, this.hover);\n      }\n\n      /**\n       * Update the bounding box of the shape\n       */\n    }, {\n      key: 'updateBoundingBox',\n      value: function updateBoundingBox(ctx) {\n        this.shape.updateBoundingBox(this.x, this.y, ctx);\n      }\n\n      /**\n       * Recalculate the size of this node in the given canvas\n       * The 2d context of a HTML canvas can be retrieved by canvas.getContext(\&quot;2d\&quot;);\n       * @param {CanvasRenderingContext2D}   ctx\n       */\n    }, {\n      key: 'resize',\n      value: function resize(ctx) {\n        this.shape.resize(ctx, this.selected);\n      }\n\n      /**\n       * Check if this object is overlapping with the provided object\n       * @param {Object} obj   an object with parameters left, top, right, bottom\n       * @return {boolean}     True if location is located on node\n       */\n    }, {\n      key: 'isOverlappingWith',\n      value: function isOverlappingWith(obj) {\n        return this.shape.left &lt; obj.right &amp;&amp; this.shape.left + this.shape.width &gt; obj.left &amp;&amp; this.shape.top &lt; obj.bottom &amp;&amp; this.shape.top + this.shape.height &gt; obj.top;\n      }\n\n      /**\n       * Check if this object is overlapping with the provided object\n       * @param {Object} obj   an object with parameters left, top, right, bottom\n       * @return {boolean}     True if location is located on node\n       */\n    }, {\n      key: 'isBoundingBoxOverlappingWith',\n      value: function isBoundingBoxOverlappingWith(obj) {\n        return this.shape.boundingBox.left &lt; obj.right &amp;&amp; this.shape.boundingBox.right &gt; obj.left &amp;&amp; this.shape.boundingBox.top &lt; obj.bottom &amp;&amp; this.shape.boundingBox.bottom &gt; obj.top;\n      }\n    }], [{\n      key: 'parseOptions',\n      value: function parseOptions(parentOptions, newOptions) {\n        var allowDeletion = arguments.length &lt;= 2 || arguments[2] === undefined ? false : arguments[2];\n        var globalOptions = arguments.length &lt;= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n        var fields = ['color', 'font', 'fixed', 'shadow'];\n        util.selectiveNotDeepExtend(fields, parentOptions, newOptions, allowDeletion);\n\n        // merge the shadow options into the parent.\n        util.mergeOptions(parentOptions, newOptions, 'shadow', allowDeletion, globalOptions);\n\n        // individual shape newOptions\n        if (newOptions.color !== undefined &amp;&amp; newOptions.color !== null) {\n          var parsedColor = util.parseColor(newOptions.color);\n          util.fillIfDefined(parentOptions.color, parsedColor);\n        } else if (allowDeletion === true &amp;&amp; newOptions.color === null) {\n          parentOptions.color = util.bridgeObject(globalOptions.color); // set the object back to the global options\n        }\n\n        // handle the fixed options\n        if (newOptions.fixed !== undefined &amp;&amp; newOptions.fixed !== null) {\n          if (typeof newOptions.fixed === 'boolean') {\n            parentOptions.fixed.x = newOptions.fixed;\n            parentOptions.fixed.y = newOptions.fixed;\n          } else {\n            if (newOptions.fixed.x !== undefined &amp;&amp; typeof newOptions.fixed.x === 'boolean') {\n              parentOptions.fixed.x = newOptions.fixed.x;\n            }\n            if (newOptions.fixed.y !== undefined &amp;&amp; typeof newOptions.fixed.y === 'boolean') {\n              parentOptions.fixed.y = newOptions.fixed.y;\n            }\n          }\n        }\n\n        // handle the font options\n        if (newOptions.font !== undefined &amp;&amp; newOptions.font !== null) {\n          _sharedLabel2['default'].parseOptions(parentOptions.font, newOptions);\n        } else if (allowDeletion === true &amp;&amp; newOptions.font === null) {\n          parentOptions.font = util.bridgeObject(globalOptions.font); // set the object back to the global options\n        }\n\n        // handle the scaling options, specifically the label part\n        if (newOptions.scaling !== undefined) {\n          util.mergeOptions(parentOptions.scaling, newOptions.scaling, 'label', allowDeletion, globalOptions.scaling);\n        }\n      }\n    }]);\n\n    return Node;\n  })();\n\n  exports['default'] = Node;\n  module.exports = exports['default'];\n\n/***/ },\n/* 62 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i &amp;&amp; _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n &amp;&amp; _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var util = __webpack_require__(1);\n\n  var Label = (function () {\n    function Label(body, options) {\n      _classCallCheck(this, Label);\n\n      this.body = body;\n\n      this.pointToSelf = false;\n      this.baseSize = undefined;\n      this.fontOptions = {};\n      this.setOptions(options);\n      this.size = { top: 0, left: 0, width: 0, height: 0, yLine: 0 }; // could be cached\n    }\n\n    _createClass(Label, [{\n      key: 'setOptions',\n      value: function setOptions(options) {\n        var allowDeletion = arguments.length &lt;= 1 || arguments[1] === undefined ? false : arguments[1];\n\n        this.nodeOptions = options;\n\n        // We want to keep the font options seperated from the node options.\n        // The node options have to mirror the globals when they are not overruled.\n        this.fontOptions = util.deepExtend({}, options.font, true);\n\n        if (options.label !== undefined) {\n          this.labelDirty = true;\n        }\n\n        if (options.font !== undefined) {\n          Label.parseOptions(this.fontOptions, options, allowDeletion);\n          if (typeof options.font === 'string') {\n            this.baseSize = this.fontOptions.size;\n          } else if (typeof options.font === 'object') {\n            if (options.font.size !== undefined) {\n              this.baseSize = options.font.size;\n            }\n          }\n        }\n      }\n    }, {\n      key: 'draw',\n\n      /**\n       * Main function. This is called from anything that wants to draw a label.\n       * @param ctx\n       * @param x\n       * @param y\n       * @param selected\n       * @param baseline\n       */\n      value: function draw(ctx, x, y, selected) {\n        var baseline = arguments.length &lt;= 4 || arguments[4] === undefined ? 'middle' : arguments[4];\n\n        // if no label, return\n        if (this.nodeOptions.label === undefined) return;\n\n        // check if we have to render the label\n        var viewFontSize = this.fontOptions.size * this.body.view.scale;\n        if (this.nodeOptions.label &amp;&amp; viewFontSize &lt; this.nodeOptions.scaling.label.drawThreshold - 1) return;\n\n        // update the size cache if required\n        this.calculateLabelSize(ctx, selected, x, y, baseline);\n\n        // create the fontfill background\n        this._drawBackground(ctx);\n        // draw text\n        this._drawText(ctx, selected, x, y, baseline);\n      }\n\n      /**\n       * Draws the label background\n       * @param {CanvasRenderingContext2D} ctx\n       * @private\n       */\n    }, {\n      key: '_drawBackground',\n      value: function _drawBackground(ctx) {\n        if (this.fontOptions.background !== undefined &amp;&amp; this.fontOptions.background !== \&quot;none\&quot;) {\n          ctx.fillStyle = this.fontOptions.background;\n\n          var lineMargin = 2;\n\n          switch (this.fontOptions.align) {\n            case 'middle':\n              ctx.fillRect(-this.size.width * 0.5, -this.size.height * 0.5, this.size.width, this.size.height);\n              break;\n            case 'top':\n              ctx.fillRect(-this.size.width * 0.5, -(this.size.height + lineMargin), this.size.width, this.size.height);\n              break;\n            case 'bottom':\n              ctx.fillRect(-this.size.width * 0.5, lineMargin, this.size.width, this.size.height);\n              break;\n            default:\n              ctx.fillRect(this.size.left, this.size.top - 0.5 * lineMargin, this.size.width, this.size.height);\n              break;\n          }\n        }\n      }\n\n      /**\n       *\n       * @param ctx\n       * @param x\n       * @param baseline\n       * @private\n       */\n    }, {\n      key: '_drawText',\n      value: function _drawText(ctx, selected, x, y) {\n        var baseline = arguments.length &lt;= 4 || arguments[4] === undefined ? 'middle' : arguments[4];\n\n        var fontSize = this.fontOptions.size;\n        var viewFontSize = fontSize * this.body.view.scale;\n        // this ensures that there will not be HUGE letters on screen by setting an upper limit on the visible text size (regardless of zoomLevel)\n        if (viewFontSize &gt;= this.nodeOptions.scaling.label.maxVisible) {\n          fontSize = Number(this.nodeOptions.scaling.label.maxVisible) / this.body.view.scale;\n        }\n\n        var yLine = this.size.yLine;\n\n        var _getColor2 = this._getColor(viewFontSize);\n\n        var _getColor22 = _slicedToArray(_getColor2, 2);\n\n        var fontColor = _getColor22[0];\n        var strokeColor = _getColor22[1];\n\n        // configure context for drawing the text\n\n        var _setAlignment2 = this._setAlignment(ctx, x, yLine, baseline);\n\n        var _setAlignment22 = _slicedToArray(_setAlignment2, 2);\n\n        x = _setAlignment22[0];\n        yLine = _setAlignment22[1];\n        ctx.font = (selected &amp;&amp; this.nodeOptions.labelHighlightBold ? 'bold ' : '') + fontSize + \&quot;px \&quot; + this.fontOptions.face;\n        ctx.fillStyle = fontColor;\n        ctx.textAlign = 'center';\n\n        // set the strokeWidth\n        if (this.fontOptions.strokeWidth &gt; 0) {\n          ctx.lineWidth = this.fontOptions.strokeWidth;\n          ctx.strokeStyle = strokeColor;\n          ctx.lineJoin = 'round';\n        }\n\n        // draw the text\n        for (var i = 0; i &lt; this.lineCount; i++) {\n          if (this.fontOptions.strokeWidth &gt; 0) {\n            ctx.strokeText(this.lines[i], x, yLine);\n          }\n          ctx.fillText(this.lines[i], x, yLine);\n          yLine += fontSize;\n        }\n      }\n    }, {\n      key: '_setAlignment',\n      value: function _setAlignment(ctx, x, yLine, baseline) {\n        // check for label alignment (for edges)\n        // TODO: make alignment for nodes\n        if (this.fontOptions.align !== 'horizontal' &amp;&amp; this.pointToSelf === false) {\n          x = 0;\n          yLine = 0;\n\n          var lineMargin = 2;\n          if (this.fontOptions.align === 'top') {\n            ctx.textBaseline = 'alphabetic';\n            yLine -= 2 * lineMargin; // distance from edge, required because we use alphabetic. Alphabetic has less difference between browsers\n          } else if (this.fontOptions.align === 'bottom') {\n              ctx.textBaseline = 'hanging';\n              yLine += 2 * lineMargin; // distance from edge, required because we use hanging. Hanging has less difference between browsers\n            } else {\n                ctx.textBaseline = 'middle';\n              }\n        } else {\n          ctx.textBaseline = baseline;\n        }\n\n        return [x, yLine];\n      }\n\n      /**\n       * fade in when relative scale is between threshold and threshold - 1.\n       * If the relative scale would be smaller than threshold -1 the draw function would have returned before coming here.\n       *\n       * @param viewFontSize\n       * @returns {*[]}\n       * @private\n       */\n    }, {\n      key: '_getColor',\n      value: function _getColor(viewFontSize) {\n        var fontColor = this.fontOptions.color || '#000000';\n        var strokeColor = this.fontOptions.strokeColor || '#ffffff';\n        if (viewFontSize &lt;= this.nodeOptions.scaling.label.drawThreshold) {\n          var opacity = Math.max(0, Math.min(1, 1 - (this.nodeOptions.scaling.label.drawThreshold - viewFontSize)));\n          fontColor = util.overrideOpacity(fontColor, opacity);\n          strokeColor = util.overrideOpacity(strokeColor, opacity);\n        }\n        return [fontColor, strokeColor];\n      }\n\n      /**\n       *\n       * @param ctx\n       * @param selected\n       * @returns {{width: number, height: number}}\n       */\n    }, {\n      key: 'getTextSize',\n      value: function getTextSize(ctx) {\n        var selected = arguments.length &lt;= 1 || arguments[1] === undefined ? false : arguments[1];\n\n        var size = {\n          width: this._processLabel(ctx, selected),\n          height: this.fontOptions.size * this.lineCount,\n          lineCount: this.lineCount\n        };\n        return size;\n      }\n\n      /**\n       *\n       * @param ctx\n       * @param selected\n       * @param x\n       * @param y\n       * @param baseline\n       */\n    }, {\n      key: 'calculateLabelSize',\n      value: function calculateLabelSize(ctx, selected) {\n        var x = arguments.length &lt;= 2 || arguments[2] === undefined ? 0 : arguments[2];\n        var y = arguments.length &lt;= 3 || arguments[3] === undefined ? 0 : arguments[3];\n        var baseline = arguments.length &lt;= 4 || arguments[4] === undefined ? 'middle' : arguments[4];\n\n        if (this.labelDirty === true) {\n          this.size.width = this._processLabel(ctx, selected);\n        }\n        this.size.height = this.fontOptions.size * this.lineCount;\n        this.size.left = x - this.size.width * 0.5;\n        this.size.top = y - this.size.height * 0.5;\n        this.size.yLine = y + (1 - this.lineCount) * 0.5 * this.fontOptions.size;\n        if (baseline === \&quot;hanging\&quot;) {\n          this.size.top += 0.5 * this.fontOptions.size;\n          this.size.top += 4; // distance from node, required because we use hanging. Hanging has less difference between browsers\n          this.size.yLine += 4; // distance from node\n        }\n\n        this.labelDirty = false;\n      }\n\n      /**\n       * This calculates the width as well as explodes the label string and calculates the amount of lines.\n       * @param ctx\n       * @param selected\n       * @returns {number}\n       * @private\n       */\n    }, {\n      key: '_processLabel',\n      value: function _processLabel(ctx, selected) {\n        var width = 0;\n        var lines = [''];\n        var lineCount = 0;\n        if (this.nodeOptions.label !== undefined) {\n          lines = String(this.nodeOptions.label).split('\\n');\n          lineCount = lines.length;\n          ctx.font = (selected &amp;&amp; this.nodeOptions.labelHighlightBold ? 'bold ' : '') + this.fontOptions.size + \&quot;px \&quot; + this.fontOptions.face;\n          width = ctx.measureText(lines[0]).width;\n          for (var i = 1; i &lt; lineCount; i++) {\n            var lineWidth = ctx.measureText(lines[i]).width;\n            width = lineWidth &gt; width ? lineWidth : width;\n          }\n        }\n        this.lines = lines;\n        this.lineCount = lineCount;\n\n        return width;\n      }\n    }], [{\n      key: 'parseOptions',\n      value: function parseOptions(parentOptions, newOptions) {\n        var allowDeletion = arguments.length &lt;= 2 || arguments[2] === undefined ? false : arguments[2];\n\n        if (typeof newOptions.font === 'string') {\n          var newOptionsArray = newOptions.font.split(\&quot; \&quot;);\n          parentOptions.size = newOptionsArray[0].replace(\&quot;px\&quot;, '');\n          parentOptions.face = newOptionsArray[1];\n          parentOptions.color = newOptionsArray[2];\n        } else if (typeof newOptions.font === 'object') {\n          util.fillIfDefined(parentOptions, newOptions.font, allowDeletion);\n        }\n        parentOptions.size = Number(parentOptions.size);\n      }\n    }]);\n\n    return Label;\n  })();\n\n  exports['default'] = Label;\n  module.exports = exports['default'];\n\n/***/ },\n/* 63 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' &amp;&amp; superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilNodeBase = __webpack_require__(64);\n\n  var _utilNodeBase2 = _interopRequireDefault(_utilNodeBase);\n\n  var Box = (function (_NodeBase) {\n    _inherits(Box, _NodeBase);\n\n    function Box(options, body, labelModule) {\n      _classCallCheck(this, Box);\n\n      _get(Object.getPrototypeOf(Box.prototype), 'constructor', this).call(this, options, body, labelModule);\n    }\n\n    _createClass(Box, [{\n      key: 'resize',\n      value: function resize(ctx, selected) {\n        if (this.width === undefined) {\n          var margin = 5;\n          var textSize = this.labelModule.getTextSize(ctx, selected);\n          this.width = textSize.width + 2 * margin;\n          this.height = textSize.height + 2 * margin;\n          this.radius = 0.5 * this.width;\n        }\n      }\n    }, {\n      key: 'draw',\n      value: function draw(ctx, x, y, selected, hover) {\n        this.resize(ctx, selected);\n        this.left = x - this.width / 2;\n        this.top = y - this.height / 2;\n\n        var borderWidth = this.options.borderWidth;\n        var selectionLineWidth = this.options.borderWidthSelected || 2 * this.options.borderWidth;\n\n        ctx.strokeStyle = selected ? this.options.color.highlight.border : hover ? this.options.color.hover.border : this.options.color.border;\n        ctx.lineWidth = selected ? selectionLineWidth : borderWidth;\n        ctx.lineWidth /= this.body.view.scale;\n        ctx.lineWidth = Math.min(this.width, ctx.lineWidth);\n\n        ctx.fillStyle = selected ? this.options.color.highlight.background : hover ? this.options.color.hover.background : this.options.color.background;\n\n        var borderRadius = this.options.shapeProperties.borderRadius; // only effective for box\n        ctx.roundRect(this.left, this.top, this.width, this.height, borderRadius);\n\n        // draw shadow if enabled\n        this.enableShadow(ctx);\n        // draw the background\n        ctx.fill();\n        // disable shadows for other elements.\n        this.disableShadow(ctx);\n\n        //draw dashed border if enabled, save and restore is required for firefox not to crash on unix.\n        ctx.save();\n        // if borders are zero width, they will be drawn with width 1 by default. This prevents that\n        if (borderWidth &gt; 0) {\n          this.enableBorderDashes(ctx);\n          //draw the border\n          ctx.stroke();\n          //disable dashed border for other elements\n          this.disableBorderDashes(ctx);\n        }\n        ctx.restore();\n\n        this.updateBoundingBox(x, y, ctx, selected);\n        this.labelModule.draw(ctx, x, y, selected);\n      }\n    }, {\n      key: 'updateBoundingBox',\n      value: function updateBoundingBox(x, y, ctx, selected) {\n        this.resize(ctx, selected);\n        this.left = x - this.width * 0.5;\n        this.top = y - this.height * 0.5;\n\n        var borderRadius = this.options.shapeProperties.borderRadius; // only effective for box\n        this.boundingBox.left = this.left - borderRadius;\n        this.boundingBox.top = this.top - borderRadius;\n        this.boundingBox.bottom = this.top + this.height + borderRadius;\n        this.boundingBox.right = this.left + this.width + borderRadius;\n      }\n    }, {\n      key: 'distanceToBorder',\n      value: function distanceToBorder(ctx, angle) {\n        this.resize(ctx);\n        var borderWidth = this.options.borderWidth;\n\n        return Math.min(Math.abs(this.width / 2 / Math.cos(angle)), Math.abs(this.height / 2 / Math.sin(angle))) + borderWidth;\n      }\n    }]);\n\n    return Box;\n  })(_utilNodeBase2['default']);\n\n  exports['default'] = Box;\n  module.exports = exports['default'];\n\n/***/ },\n/* 64 */\n/***/ function(module, exports) {\n\n  \&quot;use strict\&quot;;\n\n  Object.defineProperty(exports, \&quot;__esModule\&quot;, {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\&quot;value\&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\&quot;Cannot call a class as a function\&quot;); } }\n\n  var NodeBase = (function () {\n    function NodeBase(options, body, labelModule) {\n      _classCallCheck(this, NodeBase);\n\n      this.body = body;\n      this.labelModule = labelModule;\n      this.setOptions(options);\n      this.top = undefined;\n      this.left = undefined;\n      this.height = undefined;\n      this.width = undefined;\n      this.radius = undefined;\n      this.boundingBox = { top: 0, left: 0, right: 0, bottom: 0 };\n    }\n\n    _createClass(NodeBase, [{\n      key: \&quot;setOptions\&quot;,\n      value: function setOptions(options) {\n        this.options = options;\n      }\n    }, {\n      key: \&quot;_distanceToBorder\&quot;,\n      value: function _distanceToBorder(ctx, angle) {\n        var borderWidth = this.options.borderWidth;\n        this.resize(ctx);\n        return Math.min(Math.abs(this.width / 2 / Math.cos(angle)), Math.abs(this.height / 2 / Math.sin(angle))) + borderWidth;\n      }\n    }, {\n      key: \&quot;enableShadow\&quot;,\n      value: function enableShadow(ctx) {\n        if (this.options.shadow.enabled === true) {\n          ctx.shadowColor = this.options.shadow.color;\n          ctx.shadowBlur = this.options.shadow.size;\n          ctx.shadowOffsetX = this.options.shadow.x;\n          ctx.shadowOffsetY = this.options.shadow.y;\n        }\n      }\n    }, {\n      key: \&quot;disableShadow\&quot;,\n      value: function disableShadow(ctx) {\n        if (this.options.shadow.enabled === true) {\n          ctx.shadowColor = 'rgba(0,0,0,0)';\n          ctx.shadowBlur = 0;\n          ctx.shadowOffsetX = 0;\n          ctx.shadowOffsetY = 0;\n        }\n      }\n    }, {\n      key: \&quot;enableBorderDashes\&quot;,\n      value: function enableBorderDashes(ctx) {\n        if (this.options.shapeProperties.borderDashes !== false) {\n          if (ctx.setLineDash !== undefined) {\n            var dashes = this.options.shapeProperties.borderDashes;\n            if (dashes === true) {\n              dashes = [5, 15];\n            }\n            ctx.setLineDash(dashes);\n          } else {\n            console.warn(\&quot;setLineDash is not supported in this browser. The dashed borders cannot be used.\&quot;);\n            this.options.shapeProperties.borderDashes = false;\n          }\n        }\n      }\n    }, {\n      key: \&quot;disableBorderDashes\&quot;,\n      value: function disableBorderDashes(ctx) {\n        if (this.options.shapeProperties.borderDashes !== false) {\n          if (ctx.setLineDash !== undefined) {\n            ctx.setLineDash([0]);\n          } else {\n            console.warn(\&quot;setLineDash is not supported in this browser. The dashed borders cannot be used.\&quot;);\n            this.options.shapeProperties.borderDashes = false;\n          }\n        }\n      }\n    }]);\n\n    return NodeBase;\n  })();\n\n  exports[\&quot;default\&quot;] = NodeBase;\n  module.exports = exports[\&quot;default\&quot;];\n\n/***/ },\n/* 65 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' &amp;&amp; superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilCircleImageBase = __webpack_require__(66);\n\n  var _utilCircleImageBase2 = _interopRequireDefault(_utilCircleImageBase);\n\n  var Circle = (function (_CircleImageBase) {\n    _inherits(Circle, _CircleImageBase);\n\n    function Circle(options, body, labelModule) {\n      _classCallCheck(this, Circle);\n\n      _get(Object.getPrototypeOf(Circle.prototype), 'constructor', this).call(this, options, body, labelModule);\n    }\n\n    _createClass(Circle, [{\n      key: 'resize',\n      value: function resize(ctx, selected) {\n        if (this.width === undefined) {\n          var margin = 5;\n          var textSize = this.labelModule.getTextSize(ctx, selected);\n          var diameter = Math.max(textSize.width, textSize.height) + 2 * margin;\n          this.options.size = diameter / 2;\n\n          this.width = diameter;\n          this.height = diameter;\n          this.radius = 0.5 * this.width;\n        }\n      }\n    }, {\n      key: 'draw',\n      value: function draw(ctx, x, y, selected, hover) {\n        this.resize(ctx, selected);\n        this.left = x - this.width / 2;\n        this.top = y - this.height / 2;\n\n        this._drawRawCircle(ctx, x, y, selected, hover, this.options.size);\n\n        this.boundingBox.top = y - this.options.size;\n        this.boundingBox.left = x - this.options.size;\n        this.boundingBox.right = x + this.options.size;\n        this.boundingBox.bottom = y + this.options.size;\n\n        this.updateBoundingBox(x, y);\n        this.labelModule.draw(ctx, x, y, selected);\n      }\n    }, {\n      key: 'updateBoundingBox',\n      value: function updateBoundingBox(x, y) {\n        this.boundingBox.top = y - this.options.size;\n        this.boundingBox.left = x - this.options.size;\n        this.boundingBox.right = x + this.options.size;\n        this.boundingBox.bottom = y + this.options.size;\n      }\n    }, {\n      key: 'distanceToBorder',\n      value: function distanceToBorder(ctx, angle) {\n        this.resize(ctx);\n        return this.width * 0.5;\n      }\n    }]);\n\n    return Circle;\n  })(_utilCircleImageBase2['default']);\n\n  exports['default'] = Circle;\n  module.exports = exports['default'];\n\n/***/ },\n/* 66 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' &amp;&amp; superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilNodeBase = __webpack_require__(64);\n\n  var _utilNodeBase2 = _interopRequireDefault(_utilNodeBase);\n\n  var CircleImageBase = (function (_NodeBase) {\n    _inherits(CircleImageBase, _NodeBase);\n\n    function CircleImageBase(options, body, labelModule) {\n      _classCallCheck(this, CircleImageBase);\n\n      _get(Object.getPrototypeOf(CircleImageBase.prototype), 'constructor', this).call(this, options, body, labelModule);\n      this.labelOffset = 0;\n      this.imageLoaded = false;\n    }\n\n    _createClass(CircleImageBase, [{\n      key: 'setOptions',\n      value: function setOptions(options, imageObj) {\n        this.options = options;\n        if (imageObj) {\n          this.imageObj = imageObj;\n        }\n      }\n\n      /**\n       * This function resizes the image by the options size when the image has not yet loaded. If the image has loaded, we\n       * force the update of the size again.\n       *\n       * @private\n       */\n    }, {\n      key: '_resizeImage',\n      value: function _resizeImage() {\n        var force = false;\n        if (!this.imageObj.width || !this.imageObj.height) {\n          // undefined or 0\n          this.imageLoaded = false;\n        } else if (this.imageLoaded === false) {\n          this.imageLoaded = true;\n          force = true;\n        }\n\n        if (!this.width || !this.height || force === true) {\n          // undefined or 0\n          var width, height, ratio;\n          if (this.imageObj.width &amp;&amp; this.imageObj.height) {\n            // not undefined or 0\n            width = 0;\n            height = 0;\n          }\n          if (this.options.shapeProperties.useImageSize === false) {\n            if (this.imageObj.width &gt; this.imageObj.height) {\n              ratio = this.imageObj.width / this.imageObj.height;\n              width = this.options.size * 2 * ratio || this.imageObj.width;\n              height = this.options.size * 2 || this.imageObj.height;\n            } else {\n              if (this.imageObj.width &amp;&amp; this.imageObj.height) {\n                // not undefined or 0\n                ratio = this.imageObj.height / this.imageObj.width;\n              } else {\n                ratio = 1;\n              }\n              width = this.options.size * 2;\n              height = this.options.size * 2 * ratio;\n            }\n          } else {\n            // when not using the size property, we use the image size\n            width = this.imageObj.width;\n            height = this.imageObj.height;\n          }\n          this.width = width;\n          this.height = height;\n          this.radius = 0.5 * this.width;\n        }\n      }\n    }, {\n      key: '_drawRawCircle',\n      value: function _drawRawCircle(ctx, x, y, selected, hover, size) {\n        var neutralborderWidth = this.options.borderWidth;\n        var selectionLineWidth = this.options.borderWidthSelected || 2 * this.options.borderWidth;\n        var borderWidth = (selected ? selectionLineWidth : neutralborderWidth) / this.body.view.scale;\n        ctx.lineWidth = Math.min(this.width, borderWidth);\n\n        ctx.strokeStyle = selected ? this.options.color.highlight.border : hover ? this.options.color.hover.border : this.options.color.border;\n        ctx.fillStyle = selected ? this.options.color.highlight.background : hover ? this.options.color.hover.background : this.options.color.background;\n        ctx.circle(x, y, size);\n\n        // draw shadow if enabled\n        this.enableShadow(ctx);\n        // draw the background\n        ctx.fill();\n        // disable shadows for other elements.\n        this.disableShadow(ctx);\n\n        //draw dashed border if enabled, save and restore is required for firefox not to crash on unix.\n        ctx.save();\n        // if borders are zero width, they will be drawn with width 1 by default. This prevents that\n        if (borderWidth &gt; 0) {\n          this.enableBorderDashes(ctx);\n          //draw the border\n          ctx.stroke();\n          //disable dashed border for other elements\n          this.disableBorderDashes(ctx);\n        }\n        ctx.restore();\n      }\n    }, {\n      key: '_drawImageAtPosition',\n      value: function _drawImageAtPosition(ctx) {\n        if (this.imageObj.width != 0) {\n          // draw the image\n          ctx.globalAlpha = 1.0;\n\n          // draw shadow if enabled\n          this.enableShadow(ctx);\n\n          // draw image\n          ctx.drawImage(this.imageObj, this.left, this.top, this.width, this.height);\n\n          // disable shadows for other elements.\n          this.disableShadow(ctx);\n        }\n      }\n    }, {\n      key: '_drawImageLabel',\n      value: function _drawImageLabel(ctx, x, y, selected) {\n        var yLabel;\n        var offset = 0;\n\n        if (this.height !== undefined) {\n          offset = this.height * 0.5;\n          var labelDimensions = this.labelModule.getTextSize(ctx);\n          if (labelDimensions.lineCount &gt;= 1) {\n            offset += labelDimensions.height / 2;\n          }\n        }\n\n        yLabel = y + offset;\n\n        if (this.options.label) {\n          this.labelOffset = offset;\n        }\n        this.labelModule.draw(ctx, x, yLabel, selected, 'hanging');\n      }\n    }]);\n\n    return CircleImageBase;\n  })(_utilNodeBase2['default']);\n\n  exports['default'] = CircleImageBase;\n  module.exports = exports['default'];\n\n/***/ },\n/* 67 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' &amp;&amp; superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilCircleImageBase = __webpack_require__(66);\n\n  var _utilCircleImageBase2 = _interopRequireDefault(_utilCircleImageBase);\n\n  var CircularImage = (function (_CircleImageBase) {\n    _inherits(CircularImage, _CircleImageBase);\n\n    function CircularImage(options, body, labelModule, imageObj) {\n      _classCallCheck(this, CircularImage);\n\n      _get(Object.getPrototypeOf(CircularImage.prototype), 'constructor', this).call(this, options, body, labelModule);\n      this.imageObj = imageObj;\n      this._swapToImageResizeWhenImageLoaded = true;\n    }\n\n    _createClass(CircularImage, [{\n      key: 'resize',\n      value: function resize() {\n        if (this.imageObj.src === undefined || this.imageObj.width === undefined || this.imageObj.height === undefined) {\n          if (!this.width) {\n            var diameter = this.options.size * 2;\n            this.width = diameter;\n            this.height = diameter;\n            this._swapToImageResizeWhenImageLoaded = true;\n            this.radius = 0.5 * this.width;\n          }\n        } else {\n          if (this._swapToImageResizeWhenImageLoaded) {\n            this.width = undefined;\n            this.height = undefined;\n            this._swapToImageResizeWhenImageLoaded = false;\n          }\n          this._resizeImage();\n        }\n      }\n    }, {\n      key: 'draw',\n      value: function draw(ctx, x, y, selected, hover) {\n        this.resize();\n\n        this.left = x - this.width / 2;\n        this.top = y - this.height / 2;\n\n        var size = Math.min(0.5 * this.height, 0.5 * this.width);\n\n        // draw the background circle. IMPORTANT: the stroke in this method is used by the clip method below.\n        this._drawRawCircle(ctx, x, y, selected, hover, size);\n\n        // now we draw in the circle, we save so we can revert the clip operation after drawing.\n        ctx.save();\n        // clip is used to use the stroke in drawRawCircle as an area that we can draw in.\n        ctx.clip();\n        // draw the image\n        this._drawImageAtPosition(ctx);\n        // restore so we can again draw on the full canvas\n        ctx.restore();\n\n        this._drawImageLabel(ctx, x, y, selected);\n\n        this.updateBoundingBox(x, y);\n      }\n    }, {\n      key: 'updateBoundingBox',\n      value: function updateBoundingBox(x, y) {\n        this.boundingBox.top = y - this.options.size;\n        this.boundingBox.left = x - this.options.size;\n        this.boundingBox.right = x + this.options.size;\n        this.boundingBox.bottom = y + this.options.size;\n        this.boundingBox.left = Math.min(this.boundingBox.left, this.labelModule.size.left);\n        this.boundingBox.right = Math.max(this.boundingBox.right, this.labelModule.size.left + this.labelModule.size.width);\n        this.boundingBox.bottom = Math.max(this.boundingBox.bottom, this.boundingBox.bottom + this.labelOffset);\n      }\n    }, {\n      key: 'distanceToBorder',\n      value: function distanceToBorder(ctx, angle) {\n        this.resize(ctx);\n        return this.width * 0.5;\n      }\n    }]);\n\n    return CircularImage;\n  })(_utilCircleImageBase2['default']);\n\n  exports['default'] = CircularImage;\n  module.exports = exports['default'];\n\n/***/ },\n/* 68 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' &amp;&amp; superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilNodeBase = __webpack_require__(64);\n\n  var _utilNodeBase2 = _interopRequireDefault(_utilNodeBase);\n\n  var Database = (function (_NodeBase) {\n    _inherits(Database, _NodeBase);\n\n    function Database(options, body, labelModule) {\n      _classCallCheck(this, Database);\n\n      _get(Object.getPrototypeOf(Database.prototype), 'constructor', this).call(this, options, body, labelModule);\n    }\n\n    _createClass(Database, [{\n      key: 'resize',\n      value: function resize(ctx, selected) {\n        if (this.width === undefined) {\n          var margin = 5;\n          var textSize = this.labelModule.getTextSize(ctx, selected);\n          var size = textSize.width + 2 * margin;\n          this.width = size;\n          this.height = size;\n          this.radius = 0.5 * this.width;\n        }\n      }\n    }, {\n      key: 'draw',\n      value: function draw(ctx, x, y, selected, hover) {\n        this.resize(ctx, selected);\n        this.left = x - this.width / 2;\n        this.top = y - this.height / 2;\n\n        var neutralborderWidth = this.options.borderWidth;\n        var selectionLineWidth = this.options.borderWidthSelected || 2 * this.options.borderWidth;\n        var borderWidth = (selected ? selectionLineWidth : neutralborderWidth) / this.body.view.scale;\n        ctx.lineWidth = Math.min(this.width, borderWidth);\n\n        ctx.strokeStyle = selected ? this.options.color.highlight.border : hover ? this.options.color.hover.border : this.options.color.border;\n\n        ctx.fillStyle = selected ? this.options.color.highlight.background : hover ? this.options.color.hover.background : this.options.color.background;\n        ctx.database(x - this.width / 2, y - this.height * 0.5, this.width, this.height);\n\n        // draw shadow if enabled\n        this.enableShadow(ctx);\n        // draw the background\n        ctx.fill();\n        // disable shadows for other elements.\n        this.disableShadow(ctx);\n\n        //draw dashed border if enabled, save and restore is required for firefox not to crash on unix.\n        ctx.save();\n        // if borders are zero width, they will be drawn with width 1 by default. This prevents that\n        if (borderWidth &gt; 0) {\n          this.enableBorderDashes(ctx);\n          //draw the border\n          ctx.stroke();\n          //disable dashed border for other elements\n          this.disableBorderDashes(ctx);\n        }\n        ctx.restore();\n\n        this.updateBoundingBox(x, y, ctx, selected);\n        this.labelModule.draw(ctx, x, y, selected);\n      }\n    }, {\n      key: 'updateBoundingBox',\n      value: function updateBoundingBox(x, y, ctx, selected) {\n        this.resize(ctx, selected);\n\n        this.left = x - this.width * 0.5;\n        this.top = y - this.height * 0.5;\n\n        this.boundingBox.left = this.left;\n        this.boundingBox.top = this.top;\n        this.boundingBox.bottom = this.top + this.height;\n        this.boundingBox.right = this.left + this.width;\n      }\n    }, {\n      key: 'distanceToBorder',\n      value: function distanceToBorder(ctx, angle) {\n        return this._distanceToBorder(ctx, angle);\n      }\n    }]);\n\n    return Database;\n  })(_utilNodeBase2['default']);\n\n  exports['default'] = Database;\n  module.exports = exports['default'];\n\n/***/ },\n/* 69 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' &amp;&amp; superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilShapeBase = __webpack_require__(70);\n\n  var _utilShapeBase2 = _interopRequireDefault(_utilShapeBase);\n\n  var Diamond = (function (_ShapeBase) {\n    _inherits(Diamond, _ShapeBase);\n\n    function Diamond(options, body, labelModule) {\n      _classCallCheck(this, Diamond);\n\n      _get(Object.getPrototypeOf(Diamond.prototype), 'constructor', this).call(this, options, body, labelModule);\n    }\n\n    _createClass(Diamond, [{\n      key: 'resize',\n      value: function resize(ctx) {\n        this._resizeShape();\n      }\n    }, {\n      key: 'draw',\n      value: function draw(ctx, x, y, selected, hover) {\n        this._drawShape(ctx, 'diamond', 4, x, y, selected, hover);\n      }\n    }, {\n      key: 'distanceToBorder',\n      value: function distanceToBorder(ctx, angle) {\n        return this._distanceToBorder(ctx, angle);\n      }\n    }]);\n\n    return Diamond;\n  })(_utilShapeBase2['default']);\n\n  exports['default'] = Diamond;\n  module.exports = exports['default'];\n\n/***/ },\n/* 70 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' &amp;&amp; superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilNodeBase = __webpack_require__(64);\n\n  var _utilNodeBase2 = _interopRequireDefault(_utilNodeBase);\n\n  var ShapeBase = (function (_NodeBase) {\n    _inherits(ShapeBase, _NodeBase);\n\n    function ShapeBase(options, body, labelModule) {\n      _classCallCheck(this, ShapeBase);\n\n      _get(Object.getPrototypeOf(ShapeBase.prototype), 'constructor', this).call(this, options, body, labelModule);\n    }\n\n    _createClass(ShapeBase, [{\n      key: '_resizeShape',\n      value: function _resizeShape() {\n        if (this.width === undefined) {\n          var size = 2 * this.options.size;\n          this.width = size;\n          this.height = size;\n          this.radius = 0.5 * this.width;\n        }\n      }\n    }, {\n      key: '_drawShape',\n      value: function _drawShape(ctx, shape, sizeMultiplier, x, y, selected, hover) {\n        this._resizeShape();\n\n        this.left = x - this.width / 2;\n        this.top = y - this.height / 2;\n\n        var neutralborderWidth = this.options.borderWidth;\n        var selectionLineWidth = this.options.borderWidthSelected || 2 * this.options.borderWidth;\n        var borderWidth = (selected ? selectionLineWidth : neutralborderWidth) / this.body.view.scale;\n        ctx.lineWidth = Math.min(this.width, borderWidth);\n\n        ctx.strokeStyle = selected ? this.options.color.highlight.border : hover ? this.options.color.hover.border : this.options.color.border;\n        ctx.fillStyle = selected ? this.options.color.highlight.background : hover ? this.options.color.hover.background : this.options.color.background;\n        ctx[shape](x, y, this.options.size);\n\n        // draw shadow if enabled\n        this.enableShadow(ctx);\n        // draw the background\n        ctx.fill();\n        // disable shadows for other elements.\n        this.disableShadow(ctx);\n\n        //draw dashed border if enabled, save and restore is required for firefox not to crash on unix.\n        ctx.save();\n        // if borders are zero width, they will be drawn with width 1 by default. This prevents that\n        if (borderWidth &gt; 0) {\n          this.enableBorderDashes(ctx);\n          //draw the border\n          ctx.stroke();\n          //disable dashed border for other elements\n          this.disableBorderDashes(ctx);\n        }\n        ctx.restore();\n\n        if (this.options.label !== undefined) {\n          var yLabel = y + 0.5 * this.height + 3; // the + 3 is to offset it a bit below the node.\n          this.labelModule.draw(ctx, x, yLabel, selected, 'hanging');\n        }\n\n        this.updateBoundingBox(x, y);\n      }\n    }, {\n      key: 'updateBoundingBox',\n      value: function updateBoundingBox(x, y) {\n        this.boundingBox.top = y - this.options.size;\n        this.boundingBox.left = x - this.options.size;\n        this.boundingBox.right = x + this.options.size;\n        this.boundingBox.bottom = y + this.options.size;\n\n        if (this.options.label !== undefined &amp;&amp; this.labelModule.size.width &gt; 0) {\n          this.boundingBox.left = Math.min(this.boundingBox.left, this.labelModule.size.left);\n          this.boundingBox.right = Math.max(this.boundingBox.right, this.labelModule.size.left + this.labelModule.size.width);\n          this.boundingBox.bottom = Math.max(this.boundingBox.bottom, this.boundingBox.bottom + this.labelModule.size.height + 3);\n        }\n      }\n    }]);\n\n    return ShapeBase;\n  })(_utilNodeBase2['default']);\n\n  exports['default'] = ShapeBase;\n  module.exports = exports['default'];\n\n/***/ },\n/* 71 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' &amp;&amp; superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilShapeBase = __webpack_require__(70);\n\n  var _utilShapeBase2 = _interopRequireDefault(_utilShapeBase);\n\n  var Dot = (function (_ShapeBase) {\n    _inherits(Dot, _ShapeBase);\n\n    function Dot(options, body, labelModule) {\n      _classCallCheck(this, Dot);\n\n      _get(Object.getPrototypeOf(Dot.prototype), 'constructor', this).call(this, options, body, labelModule);\n    }\n\n    _createClass(Dot, [{\n      key: 'resize',\n      value: function resize(ctx) {\n        this._resizeShape();\n      }\n    }, {\n      key: 'draw',\n      value: function draw(ctx, x, y, selected, hover) {\n        this._drawShape(ctx, 'circle', 2, x, y, selected, hover);\n      }\n    }, {\n      key: 'distanceToBorder',\n      value: function distanceToBorder(ctx, angle) {\n        this.resize(ctx);\n        return this.options.size;\n      }\n    }]);\n\n    return Dot;\n  })(_utilShapeBase2['default']);\n\n  exports['default'] = Dot;\n  module.exports = exports['default'];\n\n/***/ },\n/* 72 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' &amp;&amp; superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilNodeBase = __webpack_require__(64);\n\n  var _utilNodeBase2 = _interopRequireDefault(_utilNodeBase);\n\n  var Ellipse = (function (_NodeBase) {\n    _inherits(Ellipse, _NodeBase);\n\n    function Ellipse(options, body, labelModule) {\n      _classCallCheck(this, Ellipse);\n\n      _get(Object.getPrototypeOf(Ellipse.prototype), 'constructor', this).call(this, options, body, labelModule);\n    }\n\n    _createClass(Ellipse, [{\n      key: 'resize',\n      value: function resize(ctx, selected) {\n        if (this.width === undefined) {\n          var textSize = this.labelModule.getTextSize(ctx, selected);\n\n          this.width = textSize.width * 1.5;\n          this.height = textSize.height * 2;\n          if (this.width &lt; this.height) {\n            this.width = this.height;\n          }\n          this.radius = 0.5 * this.width;\n        }\n      }\n    }, {\n      key: 'draw',\n      value: function draw(ctx, x, y, selected, hover) {\n        this.resize(ctx, selected);\n        this.left = x - this.width * 0.5;\n        this.top = y - this.height * 0.5;\n\n        var neutralborderWidth = this.options.borderWidth;\n        var selectionLineWidth = this.options.borderWidthSelected || 2 * this.options.borderWidth;\n        var borderWidth = (selected ? selectionLineWidth : neutralborderWidth) / this.body.view.scale;\n        ctx.lineWidth = Math.min(this.width, borderWidth);\n\n        ctx.strokeStyle = selected ? this.options.color.highlight.border : hover ? this.options.color.hover.border : this.options.color.border;\n\n        ctx.fillStyle = selected ? this.options.color.highlight.background : hover ? this.options.color.hover.background : this.options.color.background;\n        ctx.ellipse(this.left, this.top, this.width, this.height);\n\n        // draw shadow if enabled\n        this.enableShadow(ctx);\n        // draw the background\n        ctx.fill();\n        // disable shadows for other elements.\n        this.disableShadow(ctx);\n\n        //draw dashed border if enabled, save and restore is required for firefox not to crash on unix.\n        ctx.save();\n\n        // if borders are zero width, they will be drawn with width 1 by default. This prevents that\n        if (borderWidth &gt; 0) {\n          this.enableBorderDashes(ctx);\n          //draw the border\n          ctx.stroke();\n          //disable dashed border for other elements\n          this.disableBorderDashes(ctx);\n        }\n\n        ctx.restore();\n\n        this.updateBoundingBox(x, y, ctx, selected);\n        this.labelModule.draw(ctx, x, y, selected);\n      }\n    }, {\n      key: 'updateBoundingBox',\n      value: function updateBoundingBox(x, y, ctx, selected) {\n        this.resize(ctx, selected); // just in case\n\n        this.left = x - this.width * 0.5;\n        this.top = y - this.height * 0.5;\n\n        this.boundingBox.left = this.left;\n        this.boundingBox.top = this.top;\n        this.boundingBox.bottom = this.top + this.height;\n        this.boundingBox.right = this.left + this.width;\n      }\n    }, {\n      key: 'distanceToBorder',\n      value: function distanceToBorder(ctx, angle) {\n        this.resize(ctx);\n        var a = this.width * 0.5;\n        var b = this.height * 0.5;\n        var w = Math.sin(angle) * a;\n        var h = Math.cos(angle) * b;\n        return a * b / Math.sqrt(w * w + h * h);\n      }\n    }]);\n\n    return Ellipse;\n  })(_utilNodeBase2['default']);\n\n  exports['default'] = Ellipse;\n  module.exports = exports['default'];\n\n/***/ },\n/* 73 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' &amp;&amp; superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilNodeBase = __webpack_require__(64);\n\n  var _utilNodeBase2 = _interopRequireDefault(_utilNodeBase);\n\n  var Icon = (function (_NodeBase) {\n    _inherits(Icon, _NodeBase);\n\n    function Icon(options, body, labelModule) {\n      _classCallCheck(this, Icon);\n\n      _get(Object.getPrototypeOf(Icon.prototype), 'constructor', this).call(this, options, body, labelModule);\n    }\n\n    _createClass(Icon, [{\n      key: 'resize',\n      value: function resize(ctx) {\n        if (this.width === undefined) {\n          var margin = 5;\n          var iconSize = {\n            width: Number(this.options.icon.size),\n            height: Number(this.options.icon.size)\n          };\n          this.width = iconSize.width + 2 * margin;\n          this.height = iconSize.height + 2 * margin;\n          this.radius = 0.5 * this.width;\n        }\n      }\n    }, {\n      key: 'draw',\n      value: function draw(ctx, x, y, selected, hover) {\n        this.resize(ctx);\n        this.options.icon.size = this.options.icon.size || 50;\n\n        this.left = x - this.width * 0.5;\n        this.top = y - this.height * 0.5;\n        this._icon(ctx, x, y, selected);\n\n        if (this.options.label !== undefined) {\n          var iconTextSpacing = 5;\n          this.labelModule.draw(ctx, x, y + this.height * 0.5 + iconTextSpacing, selected);\n        }\n\n        this.updateBoundingBox(x, y);\n      }\n    }, {\n      key: 'updateBoundingBox',\n      value: function updateBoundingBox(x, y) {\n        this.boundingBox.top = y - this.options.icon.size * 0.5;\n        this.boundingBox.left = x - this.options.icon.size * 0.5;\n        this.boundingBox.right = x + this.options.icon.size * 0.5;\n        this.boundingBox.bottom = y + this.options.icon.size * 0.5;\n\n        if (this.options.label !== undefined &amp;&amp; this.labelModule.size.width &gt; 0) {\n          var iconTextSpacing = 5;\n          this.boundingBox.left = Math.min(this.boundingBox.left, this.labelModule.size.left);\n          this.boundingBox.right = Math.max(this.boundingBox.right, this.labelModule.size.left + this.labelModule.size.width);\n          this.boundingBox.bottom = Math.max(this.boundingBox.bottom, this.boundingBox.bottom + this.labelModule.size.height + iconTextSpacing);\n        }\n      }\n    }, {\n      key: '_icon',\n      value: function _icon(ctx, x, y, selected) {\n        var iconSize = Number(this.options.icon.size);\n\n        if (this.options.icon.code !== undefined) {\n          ctx.font = (selected ? \&quot;bold \&quot; : \&quot;\&quot;) + iconSize + \&quot;px \&quot; + this.options.icon.face;\n\n          // draw icon\n          ctx.fillStyle = this.options.icon.color || \&quot;black\&quot;;\n          ctx.textAlign = \&quot;center\&quot;;\n          ctx.textBaseline = \&quot;middle\&quot;;\n\n          // draw shadow if enabled\n          this.enableShadow(ctx);\n          ctx.fillText(this.options.icon.code, x, y);\n\n          // disable shadows for other elements.\n          this.disableShadow(ctx);\n        } else {\n          console.error('When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.');\n        }\n      }\n    }, {\n      key: 'distanceToBorder',\n      value: function distanceToBorder(ctx, angle) {\n        return this._distanceToBorder(ctx, angle);\n      }\n    }]);\n\n    return Icon;\n  })(_utilNodeBase2['default']);\n\n  exports['default'] = Icon;\n  module.exports = exports['default'];\n\n/***/ },\n/* 74 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' &amp;&amp; superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilCircleImageBase = __webpack_require__(66);\n\n  var _utilCircleImageBase2 = _interopRequireDefault(_utilCircleImageBase);\n\n  var Image = (function (_CircleImageBase) {\n    _inherits(Image, _CircleImageBase);\n\n    function Image(options, body, labelModule, imageObj) {\n      _classCallCheck(this, Image);\n\n      _get(Object.getPrototypeOf(Image.prototype), 'constructor', this).call(this, options, body, labelModule);\n      this.imageObj = imageObj;\n    }\n\n    _createClass(Image, [{\n      key: 'resize',\n      value: function resize() {\n        this._resizeImage();\n      }\n    }, {\n      key: 'draw',\n      value: function draw(ctx, x, y, selected, hover) {\n        this.resize();\n        this.left = x - this.width / 2;\n        this.top = y - this.height / 2;\n\n        if (this.options.shapeProperties.useBorderWithImage === true) {\n          var neutralborderWidth = this.options.borderWidth;\n          var selectionLineWidth = this.options.borderWidthSelected || 2 * this.options.borderWidth;\n          var borderWidth = (selected ? selectionLineWidth : neutralborderWidth) / this.body.view.scale;\n          ctx.lineWidth = Math.min(this.width, borderWidth);\n\n          ctx.beginPath();\n\n          // setup the line properties.\n          ctx.strokeStyle = selected ? this.options.color.highlight.border : hover ? this.options.color.hover.border : this.options.color.border;\n\n          // set a fillstyle\n          ctx.fillStyle = selected ? this.options.color.highlight.background : hover ? this.options.color.hover.background : this.options.color.background;\n\n          // draw a rectangle to form the border around. This rectangle is filled so the opacity of a picture (in future vis releases?) can be used to tint the image\n          ctx.rect(this.left - 0.5 * ctx.lineWidth, this.top - 0.5 * ctx.lineWidth, this.width + ctx.lineWidth, this.height + ctx.lineWidth);\n          ctx.fill();\n\n          //draw dashed border if enabled, save and restore is required for firefox not to crash on unix.\n          ctx.save();\n          // if borders are zero width, they will be drawn with width 1 by default. This prevents that\n          if (borderWidth &gt; 0) {\n            this.enableBorderDashes(ctx);\n            //draw the border\n            ctx.stroke();\n            //disable dashed border for other elements\n            this.disableBorderDashes(ctx);\n          }\n          ctx.restore();\n\n          ctx.closePath();\n        }\n\n        this._drawImageAtPosition(ctx);\n\n        this._drawImageLabel(ctx, x, y, selected || hover);\n\n        this.updateBoundingBox(x, y);\n      }\n    }, {\n      key: 'updateBoundingBox',\n      value: function updateBoundingBox(x, y) {\n        this.resize();\n        this.left = x - this.width / 2;\n        this.top = y - this.height / 2;\n\n        this.boundingBox.top = this.top;\n        this.boundingBox.left = this.left;\n        this.boundingBox.right = this.left + this.width;\n        this.boundingBox.bottom = this.top + this.height;\n\n        if (this.options.label !== undefined &amp;&amp; this.labelModule.size.width &gt; 0) {\n          this.boundingBox.left = Math.min(this.boundingBox.left, this.labelModule.size.left);\n          this.boundingBox.right = Math.max(this.boundingBox.right, this.labelModule.size.left + this.labelModule.size.width);\n          this.boundingBox.bottom = Math.max(this.boundingBox.bottom, this.boundingBox.bottom + this.labelOffset);\n        }\n      }\n    }, {\n      key: 'distanceToBorder',\n      value: function distanceToBorder(ctx, angle) {\n        return this._distanceToBorder(ctx, angle);\n      }\n    }]);\n\n    return Image;\n  })(_utilCircleImageBase2['default']);\n\n  exports['default'] = Image;\n  module.exports = exports['default'];\n\n/***/ },\n/* 75 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' &amp;&amp; superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilShapeBase = __webpack_require__(70);\n\n  var _utilShapeBase2 = _interopRequireDefault(_utilShapeBase);\n\n  var Square = (function (_ShapeBase) {\n    _inherits(Square, _ShapeBase);\n\n    function Square(options, body, labelModule) {\n      _classCallCheck(this, Square);\n\n      _get(Object.getPrototypeOf(Square.prototype), 'constructor', this).call(this, options, body, labelModule);\n    }\n\n    _createClass(Square, [{\n      key: 'resize',\n      value: function resize() {\n        this._resizeShape();\n      }\n    }, {\n      key: 'draw',\n      value: function draw(ctx, x, y, selected, hover) {\n        this._drawShape(ctx, 'square', 2, x, y, selected, hover);\n      }\n    }, {\n      key: 'distanceToBorder',\n      value: function distanceToBorder(ctx, angle) {\n        return this._distanceToBorder(ctx, angle);\n      }\n    }]);\n\n    return Square;\n  })(_utilShapeBase2['default']);\n\n  exports['default'] = Square;\n  module.exports = exports['default'];\n\n/***/ },\n/* 76 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' &amp;&amp; superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilShapeBase = __webpack_require__(70);\n\n  var _utilShapeBase2 = _interopRequireDefault(_utilShapeBase);\n\n  var Star = (function (_ShapeBase) {\n    _inherits(Star, _ShapeBase);\n\n    function Star(options, body, labelModule) {\n      _classCallCheck(this, Star);\n\n      _get(Object.getPrototypeOf(Star.prototype), 'constructor', this).call(this, options, body, labelModule);\n    }\n\n    _createClass(Star, [{\n      key: 'resize',\n      value: function resize(ctx) {\n        this._resizeShape();\n      }\n    }, {\n      key: 'draw',\n      value: function draw(ctx, x, y, selected, hover) {\n        this._drawShape(ctx, 'star', 4, x, y, selected, hover);\n      }\n    }, {\n      key: 'distanceToBorder',\n      value: function distanceToBorder(ctx, angle) {\n        return this._distanceToBorder(ctx, angle);\n      }\n    }]);\n\n    return Star;\n  })(_utilShapeBase2['default']);\n\n  exports['default'] = Star;\n  module.exports = exports['default'];\n\n/***/ },\n/* 77 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' &amp;&amp; superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilNodeBase = __webpack_require__(64);\n\n  var _utilNodeBase2 = _interopRequireDefault(_utilNodeBase);\n\n  var Text = (function (_NodeBase) {\n    _inherits(Text, _NodeBase);\n\n    function Text(options, body, labelModule) {\n      _classCallCheck(this, Text);\n\n      _get(Object.getPrototypeOf(Text.prototype), 'constructor', this).call(this, options, body, labelModule);\n    }\n\n    _createClass(Text, [{\n      key: 'resize',\n      value: function resize(ctx, selected) {\n        if (this.width === undefined) {\n          var margin = 5;\n          var textSize = this.labelModule.getTextSize(ctx, selected);\n          this.width = textSize.width + 2 * margin;\n          this.height = textSize.height + 2 * margin;\n          this.radius = 0.5 * this.width;\n        }\n      }\n    }, {\n      key: 'draw',\n      value: function draw(ctx, x, y, selected, hover) {\n        this.resize(ctx, selected || hover);\n        this.left = x - this.width / 2;\n        this.top = y - this.height / 2;\n\n        // draw shadow if enabled\n        this.enableShadow(ctx);\n        this.labelModule.draw(ctx, x, y, selected || hover);\n\n        // disable shadows for other elements.\n        this.disableShadow(ctx);\n\n        this.updateBoundingBox(x, y, ctx, selected);\n      }\n    }, {\n      key: 'updateBoundingBox',\n      value: function updateBoundingBox(x, y, ctx, selected) {\n        this.resize(ctx, selected);\n\n        this.left = x - this.width / 2;\n        this.top = y - this.height / 2;\n\n        this.boundingBox.top = this.top;\n        this.boundingBox.left = this.left;\n        this.boundingBox.right = this.left + this.width;\n        this.boundingBox.bottom = this.top + this.height;\n      }\n    }, {\n      key: 'distanceToBorder',\n      value: function distanceToBorder(ctx, angle) {\n        return this._distanceToBorder(ctx, angle);\n      }\n    }]);\n\n    return Text;\n  })(_utilNodeBase2['default']);\n\n  exports['default'] = Text;\n  module.exports = exports['default'];\n\n/***/ },\n/* 78 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' &amp;&amp; superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilShapeBase = __webpack_require__(70);\n\n  var _utilShapeBase2 = _interopRequireDefault(_utilShapeBase);\n\n  var Triangle = (function (_ShapeBase) {\n    _inherits(Triangle, _ShapeBase);\n\n    function Triangle(options, body, labelModule) {\n      _classCallCheck(this, Triangle);\n\n      _get(Object.getPrototypeOf(Triangle.prototype), 'constructor', this).call(this, options, body, labelModule);\n    }\n\n    _createClass(Triangle, [{\n      key: 'resize',\n      value: function resize(ctx) {\n        this._resizeShape();\n      }\n    }, {\n      key: 'draw',\n      value: function draw(ctx, x, y, selected, hover) {\n        this._drawShape(ctx, 'triangle', 3, x, y, selected, hover);\n      }\n    }, {\n      key: 'distanceToBorder',\n      value: function distanceToBorder(ctx, angle) {\n        return this._distanceToBorder(ctx, angle);\n      }\n    }]);\n\n    return Triangle;\n  })(_utilShapeBase2['default']);\n\n  exports['default'] = Triangle;\n  module.exports = exports['default'];\n\n/***/ },\n/* 79 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' &amp;&amp; superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilShapeBase = __webpack_require__(70);\n\n  var _utilShapeBase2 = _interopRequireDefault(_utilShapeBase);\n\n  var TriangleDown = (function (_ShapeBase) {\n    _inherits(TriangleDown, _ShapeBase);\n\n    function TriangleDown(options, body, labelModule) {\n      _classCallCheck(this, TriangleDown);\n\n      _get(Object.getPrototypeOf(TriangleDown.prototype), 'constructor', this).call(this, options, body, labelModule);\n    }\n\n    _createClass(TriangleDown, [{\n      key: 'resize',\n      value: function resize(ctx) {\n        this._resizeShape();\n      }\n    }, {\n      key: 'draw',\n      value: function draw(ctx, x, y, selected, hover) {\n        this._drawShape(ctx, 'triangleDown', 3, x, y, selected, hover);\n      }\n    }, {\n      key: 'distanceToBorder',\n      value: function distanceToBorder(ctx, angle) {\n        return this._distanceToBorder(ctx, angle);\n      }\n    }]);\n\n    return TriangleDown;\n  })(_utilShapeBase2['default']);\n\n  exports['default'] = TriangleDown;\n  module.exports = exports['default'];\n\n/***/ },\n/* 80 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var _componentsEdge = __webpack_require__(81);\n\n  var _componentsEdge2 = _interopRequireDefault(_componentsEdge);\n\n  var _componentsSharedLabel = __webpack_require__(62);\n\n  var _componentsSharedLabel2 = _interopRequireDefault(_componentsSharedLabel);\n\n  var util = __webpack_require__(1);\n  var DataSet = __webpack_require__(8);\n  var DataView = __webpack_require__(10);\n\n  var EdgesHandler = (function () {\n    function EdgesHandler(body, images, groups) {\n      var _this = this;\n\n      _classCallCheck(this, EdgesHandler);\n\n      this.body = body;\n      this.images = images;\n      this.groups = groups;\n\n      // create the edge API in the body container\n      this.body.functions.createEdge = this.create.bind(this);\n\n      this.edgesListeners = {\n        add: function add(event, params) {\n          _this.add(params.items);\n        },\n        update: function update(event, params) {\n          _this.update(params.items);\n        },\n        remove: function remove(event, params) {\n          _this.remove(params.items);\n        }\n      };\n\n      this.options = {};\n      this.defaultOptions = {\n        arrows: {\n          to: { enabled: false, scaleFactor: 1 }, // boolean / {arrowScaleFactor:1} / {enabled: false, arrowScaleFactor:1}\n          middle: { enabled: false, scaleFactor: 1 },\n          from: { enabled: false, scaleFactor: 1 }\n        },\n        arrowStrikethrough: true,\n        color: {\n          color: '#848484',\n          highlight: '#848484',\n          hover: '#848484',\n          inherit: 'from',\n          opacity: 1.0\n        },\n        dashes: false,\n        font: {\n          color: '#343434',\n          size: 14, // px\n          face: 'arial',\n          background: 'none',\n          strokeWidth: 2, // px\n          strokeColor: '#ffffff',\n          align: 'horizontal'\n        },\n        hidden: false,\n        hoverWidth: 1.5,\n        label: undefined,\n        labelHighlightBold: true,\n        length: undefined,\n        physics: true,\n        scaling: {\n          min: 1,\n          max: 15,\n          label: {\n            enabled: true,\n            min: 14,\n            max: 30,\n            maxVisible: 30,\n            drawThreshold: 5\n          },\n          customScalingFunction: function customScalingFunction(min, max, total, value) {\n            if (max === min) {\n              return 0.5;\n            } else {\n              var scale = 1 / (max - min);\n              return Math.max(0, (value - min) * scale);\n            }\n          }\n        },\n        selectionWidth: 1.5,\n        selfReferenceSize: 20,\n        shadow: {\n          enabled: false,\n          color: 'rgba(0,0,0,0.5)',\n          size: 10,\n          x: 5,\n          y: 5\n        },\n        smooth: {\n          enabled: true,\n          type: \&quot;dynamic\&quot;,\n          forceDirection: 'none',\n          roundness: 0.5\n        },\n        title: undefined,\n        width: 1,\n        value: undefined\n      };\n\n      util.extend(this.options, this.defaultOptions);\n\n      this.bindEventListeners();\n    }\n\n    _createClass(EdgesHandler, [{\n      key: 'bindEventListeners',\n      value: function bindEventListeners() {\n        var _this2 = this;\n\n        // this allows external modules to force all dynamic curves to turn static.\n        this.body.emitter.on(\&quot;_forceDisableDynamicCurves\&quot;, function (type) {\n          if (type === 'dynamic') {\n            type = 'continuous';\n          }\n          var emitChange = false;\n          for (var edgeId in _this2.body.edges) {\n            if (_this2.body.edges.hasOwnProperty(edgeId)) {\n              var edge = _this2.body.edges[edgeId];\n              var edgeData = _this2.body.data.edges._data[edgeId];\n\n              // only forcibly remove the smooth curve if the data has been set of the edge has the smooth curves defined.\n              // this is because a change in the global would not affect these curves.\n              if (edgeData !== undefined) {\n                var edgeOptions = edgeData.smooth;\n                if (edgeOptions !== undefined) {\n                  if (edgeOptions.enabled === true &amp;&amp; edgeOptions.type === 'dynamic') {\n                    if (type === undefined) {\n                      edge.setOptions({ smooth: false });\n                    } else {\n                      edge.setOptions({ smooth: { type: type } });\n                    }\n                    emitChange = true;\n                  }\n                }\n              }\n            }\n          }\n          if (emitChange === true) {\n            _this2.body.emitter.emit(\&quot;_dataChanged\&quot;);\n          }\n        });\n\n        // this is called when options of EXISTING nodes or edges have changed.\n        this.body.emitter.on(\&quot;_dataUpdated\&quot;, function () {\n          _this2.reconnectEdges();\n          _this2.markAllEdgesAsDirty();\n        });\n\n        // refresh the edges. Used when reverting from hierarchical layout\n        this.body.emitter.on(\&quot;refreshEdges\&quot;, this.refresh.bind(this));\n        this.body.emitter.on(\&quot;refresh\&quot;, this.refresh.bind(this));\n        this.body.emitter.on(\&quot;destroy\&quot;, function () {\n          util.forEach(_this2.edgesListeners, function (callback, event) {\n            if (_this2.body.data.edges) _this2.body.data.edges.off(event, callback);\n          });\n          delete _this2.body.functions.createEdge;\n          delete _this2.edgesListeners.add;\n          delete _this2.edgesListeners.update;\n          delete _this2.edgesListeners.remove;\n          delete _this2.edgesListeners;\n        });\n      }\n    }, {\n      key: 'setOptions',\n      value: function setOptions(options) {\n        if (options !== undefined) {\n          // use the parser from the Edge class to fill in all shorthand notations\n          _componentsEdge2['default'].parseOptions(this.options, options);\n\n          // handle multiple input cases for color\n          if (options.color !== undefined) {\n            this.markAllEdgesAsDirty();\n          }\n\n          // update smooth settings in all edges\n          var dataChanged = false;\n          if (options.smooth !== undefined) {\n            for (var edgeId in this.body.edges) {\n              if (this.body.edges.hasOwnProperty(edgeId)) {\n                dataChanged = this.body.edges[edgeId].updateEdgeType() || dataChanged;\n              }\n            }\n          }\n\n          // update fonts in all edges\n          if (options.font !== undefined) {\n            // use the parser from the Label class to fill in all shorthand notations\n            _componentsSharedLabel2['default'].parseOptions(this.options.font, options);\n            for (var edgeId in this.body.edges) {\n              if (this.body.edges.hasOwnProperty(edgeId)) {\n                this.body.edges[edgeId].updateLabelModule();\n              }\n            }\n          }\n\n          // update the state of the variables if needed\n          if (options.hidden !== undefined || options.physics !== undefined || dataChanged === true) {\n            this.body.emitter.emit('_dataChanged');\n          }\n        }\n      }\n\n      /**\n       * Load edges by reading the data table\n       * @param {Array | DataSet | DataView} edges    The data containing the edges.\n       * @private\n       * @private\n       */\n    }, {\n      key: 'setData',\n      value: function setData(edges) {\n        var _this3 = this;\n\n        var doNotEmit = arguments.length &lt;= 1 || arguments[1] === undefined ? false : arguments[1];\n\n        var oldEdgesData = this.body.data.edges;\n\n        if (edges instanceof DataSet || edges instanceof DataView) {\n          this.body.data.edges = edges;\n        } else if (Array.isArray(edges)) {\n          this.body.data.edges = new DataSet();\n          this.body.data.edges.add(edges);\n        } else if (!edges) {\n          this.body.data.edges = new DataSet();\n        } else {\n          throw new TypeError('Array or DataSet expected');\n        }\n\n        // TODO: is this null or undefined or false?\n        if (oldEdgesData) {\n          // unsubscribe from old dataset\n          util.forEach(this.edgesListeners, function (callback, event) {\n            oldEdgesData.off(event, callback);\n          });\n        }\n\n        // remove drawn edges\n        this.body.edges = {};\n\n        // TODO: is this null or undefined or false?\n        if (this.body.data.edges) {\n          // subscribe to new dataset\n          util.forEach(this.edgesListeners, function (callback, event) {\n            _this3.body.data.edges.on(event, callback);\n          });\n\n          // draw all new nodes\n          var ids = this.body.data.edges.getIds();\n          this.add(ids, true);\n        }\n\n        if (doNotEmit === false) {\n          this.body.emitter.emit(\&quot;_dataChanged\&quot;);\n        }\n      }\n\n      /**\n       * Add edges\n       * @param {Number[] | String[]} ids\n       * @private\n       */\n    }, {\n      key: 'add',\n      value: function add(ids) {\n        var doNotEmit = arguments.length &lt;= 1 || arguments[1] === undefined ? false : arguments[1];\n\n        var edges = this.body.edges;\n        var edgesData = this.body.data.edges;\n\n        for (var i = 0; i &lt; ids.length; i++) {\n          var id = ids[i];\n\n          var oldEdge = edges[id];\n          if (oldEdge) {\n            oldEdge.disconnect();\n          }\n\n          var data = edgesData.get(id, { \&quot;showInternalIds\&quot;: true });\n          edges[id] = this.create(data);\n        }\n\n        if (doNotEmit === false) {\n          this.body.emitter.emit(\&quot;_dataChanged\&quot;);\n        }\n      }\n\n      /**\n       * Update existing edges, or create them when not yet existing\n       * @param {Number[] | String[]} ids\n       * @private\n       */\n    }, {\n      key: 'update',\n      value: function update(ids) {\n        var edges = this.body.edges;\n        var edgesData = this.body.data.edges;\n        var dataChanged = false;\n        for (var i = 0; i &lt; ids.length; i++) {\n          var id = ids[i];\n          var data = edgesData.get(id);\n          var edge = edges[id];\n          if (edge !== undefined) {\n            // update edge\n            edge.disconnect();\n            dataChanged = edge.setOptions(data) || dataChanged; // if a support node is added, data can be changed.\n            edge.connect();\n          } else {\n            // create edge\n            this.body.edges[id] = this.create(data);\n            dataChanged = true;\n          }\n        }\n\n        if (dataChanged === true) {\n          this.body.emitter.emit(\&quot;_dataChanged\&quot;);\n        } else {\n          this.body.emitter.emit(\&quot;_dataUpdated\&quot;);\n        }\n      }\n\n      /**\n       * Remove existing edges. Non existing ids will be ignored\n       * @param {Number[] | String[]} ids\n       * @private\n       */\n    }, {\n      key: 'remove',\n      value: function remove(ids) {\n        var edges = this.body.edges;\n        for (var i = 0; i &lt; ids.length; i++) {\n          var id = ids[i];\n          var edge = edges[id];\n          if (edge !== undefined) {\n            edge.cleanup();\n            edge.disconnect();\n            delete edges[id];\n          }\n        }\n\n        this.body.emitter.emit(\&quot;_dataChanged\&quot;);\n      }\n    }, {\n      key: 'refresh',\n      value: function refresh() {\n        var edges = this.body.edges;\n        for (var edgeId in edges) {\n          var edge = undefined;\n          if (edges.hasOwnProperty(edgeId)) {\n            edge = edges[edgeId];\n          }\n          var data = this.body.data.edges._data[edgeId];\n          if (edge !== undefined &amp;&amp; data !== undefined) {\n            edge.setOptions(data);\n          }\n        }\n      }\n    }, {\n      key: 'create',\n      value: function create(properties) {\n        return new _componentsEdge2['default'](properties, this.body, this.options);\n      }\n    }, {\n      key: 'markAllEdgesAsDirty',\n      value: function markAllEdgesAsDirty() {\n        for (var edgeId in this.body.edges) {\n          this.body.edges[edgeId].edgeType.colorDirty = true;\n        }\n      }\n\n      /**\n       * Reconnect all edges\n       * @private\n       */\n    }, {\n      key: 'reconnectEdges',\n      value: function reconnectEdges() {\n        var id;\n        var nodes = this.body.nodes;\n        var edges = this.body.edges;\n\n        for (id in nodes) {\n          if (nodes.hasOwnProperty(id)) {\n            nodes[id].edges = [];\n          }\n        }\n\n        for (id in edges) {\n          if (edges.hasOwnProperty(id)) {\n            var edge = edges[id];\n            edge.from = null;\n            edge.to = null;\n            edge.connect();\n          }\n        }\n      }\n    }, {\n      key: 'getConnectedNodes',\n      value: function getConnectedNodes(edgeId) {\n        var nodeList = [];\n        if (this.body.edges[edgeId] !== undefined) {\n          var edge = this.body.edges[edgeId];\n          if (edge.fromId) {\n            nodeList.push(edge.fromId);\n          }\n          if (edge.toId) {\n            nodeList.push(edge.toId);\n          }\n        }\n        return nodeList;\n      }\n    }]);\n\n    return EdgesHandler;\n  })();\n\n  exports['default'] = EdgesHandler;\n  module.exports = exports['default'];\n\n/***/ },\n/* 81 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var _sharedLabel = __webpack_require__(62);\n\n  var _sharedLabel2 = _interopRequireDefault(_sharedLabel);\n\n  var _edgesCubicBezierEdge = __webpack_require__(82);\n\n  var _edgesCubicBezierEdge2 = _interopRequireDefault(_edgesCubicBezierEdge);\n\n  var _edgesBezierEdgeDynamic = __webpack_require__(86);\n\n  var _edgesBezierEdgeDynamic2 = _interopRequireDefault(_edgesBezierEdgeDynamic);\n\n  var _edgesBezierEdgeStatic = __webpack_require__(87);\n\n  var _edgesBezierEdgeStatic2 = _interopRequireDefault(_edgesBezierEdgeStatic);\n\n  var _edgesStraightEdge = __webpack_require__(88);\n\n  var _edgesStraightEdge2 = _interopRequireDefault(_edgesStraightEdge);\n\n  /**\n   * @class Edge\n   *\n   * A edge connects two nodes\n   * @param {Object} properties     Object with options. Must contain\n   *                                At least options from and to.\n   *                                Available options: from (number),\n   *                                to (number), label (string, color (string),\n   *                                width (number), style (string),\n   *                                length (number), title (string)\n   * @param {Network} network       A Network object, used to find and edge to\n   *                                nodes.\n   * @param {Object} constants      An object with default values for\n   *                                example for the color\n   */\n  var util = __webpack_require__(1);\n\n  var Edge = (function () {\n    function Edge(options, body, globalOptions) {\n      _classCallCheck(this, Edge);\n\n      if (body === undefined) {\n        throw \&quot;No body provided\&quot;;\n      }\n      this.options = util.bridgeObject(globalOptions);\n      this.globalOptions = globalOptions;\n      this.body = body;\n\n      // initialize variables\n      this.id = undefined;\n      this.fromId = undefined;\n      this.toId = undefined;\n      this.selected = false;\n      this.hover = false;\n      this.labelDirty = true;\n      this.colorDirty = true;\n\n      this.baseWidth = this.options.width;\n      this.baseFontSize = this.options.font.size;\n\n      this.from = undefined; // a node\n      this.to = undefined; // a node\n\n      this.edgeType = undefined;\n\n      this.connected = false;\n\n      this.labelModule = new _sharedLabel2['default'](this.body, this.options);\n\n      this.setOptions(options);\n    }\n\n    /**\n     * Set or overwrite options for the edge\n     * @param {Object} options  an object with options\n     * @param doNotEmit\n     */\n\n    _createClass(Edge, [{\n      key: 'setOptions',\n      value: function setOptions(options) {\n        if (!options) {\n          return;\n        }\n        this.colorDirty = true;\n\n        Edge.parseOptions(this.options, options, true, this.globalOptions);\n\n        if (options.id !== undefined) {\n          this.id = options.id;\n        }\n        if (options.from !== undefined) {\n          this.fromId = options.from;\n        }\n        if (options.to !== undefined) {\n          this.toId = options.to;\n        }\n        if (options.title !== undefined) {\n          this.title = options.title;\n        }\n        if (options.value !== undefined) {\n          options.value = parseFloat(options.value);\n        }\n\n        // update label Module\n        this.updateLabelModule();\n\n        var dataChanged = this.updateEdgeType();\n\n        // if anything has been updates, reset the selection width and the hover width\n        this._setInteractionWidths();\n\n        // A node is connected when it has a from and to node that both exist in the network.body.nodes.\n        this.connect();\n\n        if (options.hidden !== undefined || options.physics !== undefined) {\n          dataChanged = true;\n        }\n\n        return dataChanged;\n      }\n    }, {\n      key: 'updateLabelModule',\n      // set the object back to the global options\n\n      /**\n       * update the options in the label module\n       */\n      value: function updateLabelModule() {\n        this.labelModule.setOptions(this.options, true);\n        if (this.labelModule.baseSize !== undefined) {\n          this.baseFontSize = this.labelModule.baseSize;\n        }\n      }\n\n      /**\n       * update the edge type, set the options\n       * @returns {boolean}\n       */\n    }, {\n      key: 'updateEdgeType',\n      value: function updateEdgeType() {\n        var dataChanged = false;\n        var changeInType = true;\n        var smooth = this.options.smooth;\n        if (this.edgeType !== undefined) {\n          if (this.edgeType instanceof _edgesBezierEdgeDynamic2['default'] &amp;&amp; smooth.enabled === true &amp;&amp; smooth.type === 'dynamic') {\n            changeInType = false;\n          }\n          if (this.edgeType instanceof _edgesCubicBezierEdge2['default'] &amp;&amp; smooth.enabled === true &amp;&amp; smooth.type === 'cubicBezier') {\n            changeInType = false;\n          }\n          if (this.edgeType instanceof _edgesBezierEdgeStatic2['default'] &amp;&amp; smooth.enabled === true &amp;&amp; smooth.type !== 'dynamic' &amp;&amp; smooth.type !== 'cubicBezier') {\n            changeInType = false;\n          }\n          if (this.edgeType instanceof _edgesStraightEdge2['default'] &amp;&amp; smooth.enabled === false) {\n            changeInType = false;\n          }\n\n          if (changeInType === true) {\n            dataChanged = this.cleanup();\n          }\n        }\n\n        if (changeInType === true) {\n          if (this.options.smooth.enabled === true) {\n            if (this.options.smooth.type === 'dynamic') {\n              dataChanged = true;\n              this.edgeType = new _edgesBezierEdgeDynamic2['default'](this.options, this.body, this.labelModule);\n            } else if (this.options.smooth.type === 'cubicBezier') {\n              this.edgeType = new _edgesCubicBezierEdge2['default'](this.options, this.body, this.labelModule);\n            } else {\n              this.edgeType = new _edgesBezierEdgeStatic2['default'](this.options, this.body, this.labelModule);\n            }\n          } else {\n            this.edgeType = new _edgesStraightEdge2['default'](this.options, this.body, this.labelModule);\n          }\n        } else {\n          // if nothing changes, we just set the options.\n          this.edgeType.setOptions(this.options);\n        }\n\n        return dataChanged;\n      }\n\n      /**\n       * Connect an edge to its nodes\n       */\n    }, {\n      key: 'connect',\n      value: function connect() {\n        this.disconnect();\n\n        this.from = this.body.nodes[this.fromId] || undefined;\n        this.to = this.body.nodes[this.toId] || undefined;\n        this.connected = this.from !== undefined &amp;&amp; this.to !== undefined;\n\n        if (this.connected === true) {\n          this.from.attachEdge(this);\n          this.to.attachEdge(this);\n        } else {\n          if (this.from) {\n            this.from.detachEdge(this);\n          }\n          if (this.to) {\n            this.to.detachEdge(this);\n          }\n        }\n\n        this.edgeType.connect();\n      }\n\n      /**\n       * Disconnect an edge from its nodes\n       */\n    }, {\n      key: 'disconnect',\n      value: function disconnect() {\n        if (this.from) {\n          this.from.detachEdge(this);\n          this.from = undefined;\n        }\n        if (this.to) {\n          this.to.detachEdge(this);\n          this.to = undefined;\n        }\n\n        this.connected = false;\n      }\n\n      /**\n       * get the title of this edge.\n       * @return {string} title    The title of the edge, or undefined when no title\n       *                           has been set.\n       */\n    }, {\n      key: 'getTitle',\n      value: function getTitle() {\n        return this.title;\n      }\n\n      /**\n       * check if this node is selecte\n       * @return {boolean} selected   True if node is selected, else false\n       */\n    }, {\n      key: 'isSelected',\n      value: function isSelected() {\n        return this.selected;\n      }\n\n      /**\n       * Retrieve the value of the edge. Can be undefined\n       * @return {Number} value\n       */\n    }, {\n      key: 'getValue',\n      value: function getValue() {\n        return this.options.value;\n      }\n\n      /**\n       * Adjust the value range of the edge. The edge will adjust it's width\n       * based on its value.\n       * @param {Number} min\n       * @param {Number} max\n       * @param total\n       */\n    }, {\n      key: 'setValueRange',\n      value: function setValueRange(min, max, total) {\n        if (this.options.value !== undefined) {\n          var scale = this.options.scaling.customScalingFunction(min, max, total, this.options.value);\n          var widthDiff = this.options.scaling.max - this.options.scaling.min;\n          if (this.options.scaling.label.enabled === true) {\n            var fontDiff = this.options.scaling.label.max - this.options.scaling.label.min;\n            this.options.font.size = this.options.scaling.label.min + scale * fontDiff;\n          }\n          this.options.width = this.options.scaling.min + scale * widthDiff;\n        } else {\n          this.options.width = this.baseWidth;\n          this.options.font.size = this.baseFontSize;\n        }\n\n        this._setInteractionWidths();\n        this.updateLabelModule();\n      }\n    }, {\n      key: '_setInteractionWidths',\n      value: function _setInteractionWidths() {\n        if (typeof this.options.hoverWidth === 'function') {\n          this.edgeType.hoverWidth = this.options.hoverWidth(this.options.width);\n        } else {\n          this.edgeType.hoverWidth = this.options.hoverWidth + this.options.width;\n        }\n\n        if (typeof this.options.selectionWidth === 'function') {\n          this.edgeType.selectionWidth = this.options.selectionWidth(this.options.width);\n        } else {\n          this.edgeType.selectionWidth = this.options.selectionWidth + this.options.width;\n        }\n      }\n\n      /**\n       * Redraw a edge\n       * Draw this edge in the given canvas\n       * The 2d context of a HTML canvas can be retrieved by canvas.getContext(\&quot;2d\&quot;);\n       * @param {CanvasRenderingContext2D}   ctx\n       */\n    }, {\n      key: 'draw',\n      value: function draw(ctx) {\n        // get the via node from the edge type\n        var viaNode = this.edgeType.getViaNode();\n        var arrowData = {};\n\n        // restore edge targets to defaults\n        this.edgeType.fromPoint = this.from;\n        this.edgeType.toPoint = this.to;\n\n        // from and to arrows give a different end point for edges. we set them here\n        if (this.options.arrows.from.enabled === true) {\n          arrowData.from = this.edgeType.getArrowData(ctx, 'from', viaNode, this.selected, this.hover);\n          if (this.options.arrowStrikethrough === false) this.edgeType.fromPoint = arrowData.from.core;\n        }\n        if (this.options.arrows.to.enabled === true) {\n          arrowData.to = this.edgeType.getArrowData(ctx, 'to', viaNode, this.selected, this.hover);\n          if (this.options.arrowStrikethrough === false) this.edgeType.toPoint = arrowData.to.core;\n        }\n\n        // the middle arrow depends on the line, which can depend on the to and from arrows so we do this one lastly.\n        if (this.options.arrows.middle.enabled === true) {\n          arrowData.middle = this.edgeType.getArrowData(ctx, 'middle', viaNode, this.selected, this.hover);\n        }\n\n        // draw everything\n        this.edgeType.drawLine(ctx, this.selected, this.hover, viaNode);\n        this.drawArrows(ctx, arrowData);\n        this.drawLabel(ctx, viaNode);\n      }\n    }, {\n      key: 'drawArrows',\n      value: function drawArrows(ctx, arrowData) {\n        if (this.options.arrows.from.enabled === true) {\n          this.edgeType.drawArrowHead(ctx, this.selected, this.hover, arrowData.from);\n        }\n        if (this.options.arrows.middle.enabled === true) {\n          this.edgeType.drawArrowHead(ctx, this.selected, this.hover, arrowData.middle);\n        }\n        if (this.options.arrows.to.enabled === true) {\n          this.edgeType.drawArrowHead(ctx, this.selected, this.hover, arrowData.to);\n        }\n      }\n    }, {\n      key: 'drawLabel',\n      value: function drawLabel(ctx, viaNode) {\n        if (this.options.label !== undefined) {\n          // set style\n          var node1 = this.from;\n          var node2 = this.to;\n          var selected = this.from.selected || this.to.selected || this.selected;\n          if (node1.id != node2.id) {\n            this.labelModule.pointToSelf = false;\n            var point = this.edgeType.getPoint(0.5, viaNode);\n            ctx.save();\n\n            // if the label has to be rotated:\n            if (this.options.font.align !== \&quot;horizontal\&quot;) {\n              this.labelModule.calculateLabelSize(ctx, selected, point.x, point.y);\n              ctx.translate(point.x, this.labelModule.size.yLine);\n              this._rotateForLabelAlignment(ctx);\n            }\n\n            // draw the label\n            this.labelModule.draw(ctx, point.x, point.y, selected);\n            ctx.restore();\n          } else {\n            // Ignore the orientations.\n            this.labelModule.pointToSelf = true;\n            var x, y;\n            var radius = this.options.selfReferenceSize;\n            if (node1.shape.width &gt; node1.shape.height) {\n              x = node1.x + node1.shape.width * 0.5;\n              y = node1.y - radius;\n            } else {\n              x = node1.x + radius;\n              y = node1.y - node1.shape.height * 0.5;\n            }\n            point = this._pointOnCircle(x, y, radius, 0.125);\n            this.labelModule.draw(ctx, point.x, point.y, selected);\n          }\n        }\n      }\n\n      /**\n       * Check if this object is overlapping with the provided object\n       * @param {Object} obj   an object with parameters left, top\n       * @return {boolean}     True if location is located on the edge\n       */\n    }, {\n      key: 'isOverlappingWith',\n      value: function isOverlappingWith(obj) {\n        if (this.connected) {\n          var distMax = 10;\n          var xFrom = this.from.x;\n          var yFrom = this.from.y;\n          var xTo = this.to.x;\n          var yTo = this.to.y;\n          var xObj = obj.left;\n          var yObj = obj.top;\n\n          var dist = this.edgeType.getDistanceToEdge(xFrom, yFrom, xTo, yTo, xObj, yObj);\n\n          return dist &lt; distMax;\n        } else {\n          return false;\n        }\n      }\n\n      /**\n       * Rotates the canvas so the text is most readable\n       * @param {CanvasRenderingContext2D} ctx\n       * @private\n       */\n    }, {\n      key: '_rotateForLabelAlignment',\n      value: function _rotateForLabelAlignment(ctx) {\n        var dy = this.from.y - this.to.y;\n        var dx = this.from.x - this.to.x;\n        var angleInDegrees = Math.atan2(dy, dx);\n\n        // rotate so label it is readable\n        if (angleInDegrees &lt; -1 &amp;&amp; dx &lt; 0 || angleInDegrees &gt; 0 &amp;&amp; dx &lt; 0) {\n          angleInDegrees = angleInDegrees + Math.PI;\n        }\n\n        ctx.rotate(angleInDegrees);\n      }\n\n      /**\n       * Get a point on a circle\n       * @param {Number} x\n       * @param {Number} y\n       * @param {Number} radius\n       * @param {Number} percentage. Value between 0 (line start) and 1 (line end)\n       * @return {Object} point\n       * @private\n       */\n    }, {\n      key: '_pointOnCircle',\n      value: function _pointOnCircle(x, y, radius, percentage) {\n        var angle = percentage * 2 * Math.PI;\n        return {\n          x: x + radius * Math.cos(angle),\n          y: y - radius * Math.sin(angle)\n        };\n      }\n    }, {\n      key: 'select',\n      value: function select() {\n        this.selected = true;\n      }\n    }, {\n      key: 'unselect',\n      value: function unselect() {\n        this.selected = false;\n      }\n\n      /**\n       * cleans all required things on delete\n       * @returns {*}\n       */\n    }, {\n      key: 'cleanup',\n      value: function cleanup() {\n        return this.edgeType.cleanup();\n      }\n    }], [{\n      key: 'parseOptions',\n      value: function parseOptions(parentOptions, newOptions) {\n        var allowDeletion = arguments.length &lt;= 2 || arguments[2] === undefined ? false : arguments[2];\n        var globalOptions = arguments.length &lt;= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n        var fields = ['arrowStrikethrough', 'id', 'from', 'hidden', 'hoverWidth', 'label', 'labelHighlightBold', 'length', 'line', 'opacity', 'physics', 'scaling', 'selectionWidth', 'selfReferenceSize', 'to', 'title', 'value', 'width'];\n\n        // only deep extend the items in the field array. These do not have shorthand.\n        util.selectiveDeepExtend(fields, parentOptions, newOptions, allowDeletion);\n\n        util.mergeOptions(parentOptions, newOptions, 'smooth', allowDeletion, globalOptions);\n        util.mergeOptions(parentOptions, newOptions, 'shadow', allowDeletion, globalOptions);\n\n        if (newOptions.dashes !== undefined &amp;&amp; newOptions.dashes !== null) {\n          parentOptions.dashes = newOptions.dashes;\n        } else if (allowDeletion === true &amp;&amp; newOptions.dashes === null) {\n          parentOptions.dashes = Object.create(globalOptions.dashes); // this sets the pointer of the option back to the global option.\n        }\n\n        // set the scaling newOptions\n        if (newOptions.scaling !== undefined &amp;&amp; newOptions.scaling !== null) {\n          if (newOptions.scaling.min !== undefined) {\n            parentOptions.scaling.min = newOptions.scaling.min;\n          }\n          if (newOptions.scaling.max !== undefined) {\n            parentOptions.scaling.max = newOptions.scaling.max;\n          }\n          util.mergeOptions(parentOptions.scaling, newOptions.scaling, 'label', allowDeletion, globalOptions.scaling);\n        } else if (allowDeletion === true &amp;&amp; newOptions.scaling === null) {\n          parentOptions.scaling = Object.create(globalOptions.scaling); // this sets the pointer of the option back to the global option.\n        }\n\n        // handle multiple input cases for arrows\n        if (newOptions.arrows !== undefined &amp;&amp; newOptions.arrows !== null) {\n          if (typeof newOptions.arrows === 'string') {\n            var arrows = newOptions.arrows.toLowerCase();\n            if (arrows.indexOf(\&quot;to\&quot;) != -1) {\n              parentOptions.arrows.to.enabled = true;\n            }\n            if (arrows.indexOf(\&quot;middle\&quot;) != -1) {\n              parentOptions.arrows.middle.enabled = true;\n            }\n            if (arrows.indexOf(\&quot;from\&quot;) != -1) {\n              parentOptions.arrows.from.enabled = true;\n            }\n          } else if (typeof newOptions.arrows === 'object') {\n            util.mergeOptions(parentOptions.arrows, newOptions.arrows, 'to', allowDeletion, globalOptions.arrows);\n            util.mergeOptions(parentOptions.arrows, newOptions.arrows, 'middle', allowDeletion, globalOptions.arrows);\n            util.mergeOptions(parentOptions.arrows, newOptions.arrows, 'from', allowDeletion, globalOptions.arrows);\n          } else {\n            throw new Error(\&quot;The arrow newOptions can only be an object or a string. Refer to the documentation. You used:\&quot; + JSON.stringify(newOptions.arrows));\n          }\n        } else if (allowDeletion === true &amp;&amp; newOptions.arrows === null) {\n          parentOptions.arrows = Object.create(globalOptions.arrows); // this sets the pointer of the option back to the global option.\n        }\n\n        // handle multiple input cases for color\n        if (newOptions.color !== undefined &amp;&amp; newOptions.color !== null) {\n          // make a copy of the parent object in case this is referring to the global one (due to object create once, then update)\n          parentOptions.color = util.deepExtend({}, parentOptions.color, true);\n          if (util.isString(newOptions.color)) {\n            parentOptions.color.color = newOptions.color;\n            parentOptions.color.highlight = newOptions.color;\n            parentOptions.color.hover = newOptions.color;\n            parentOptions.color.inherit = false;\n          } else {\n            var colorsDefined = false;\n            if (newOptions.color.color !== undefined) {\n              parentOptions.color.color = newOptions.color.color;colorsDefined = true;\n            }\n            if (newOptions.color.highlight !== undefined) {\n              parentOptions.color.highlight = newOptions.color.highlight;colorsDefined = true;\n            }\n            if (newOptions.color.hover !== undefined) {\n              parentOptions.color.hover = newOptions.color.hover;colorsDefined = true;\n            }\n            if (newOptions.color.inherit !== undefined) {\n              parentOptions.color.inherit = newOptions.color.inherit;\n            }\n            if (newOptions.color.opacity !== undefined) {\n              parentOptions.color.opacity = Math.min(1, Math.max(0, newOptions.color.opacity));\n            }\n\n            if (newOptions.color.inherit === undefined &amp;&amp; colorsDefined === true) {\n              parentOptions.color.inherit = false;\n            }\n          }\n        } else if (allowDeletion === true &amp;&amp; newOptions.color === null) {\n          parentOptions.color = util.bridgeObject(globalOptions.color); // set the object back to the global options\n        }\n\n        // handle the font settings\n        if (newOptions.font !== undefined &amp;&amp; newOptions.font !== null) {\n          _sharedLabel2['default'].parseOptions(parentOptions.font, newOptions);\n        } else if (allowDeletion === true &amp;&amp; newOptions.font === null) {\n          parentOptions.font = util.bridgeObject(globalOptions.font);\n        }\n      }\n    }]);\n\n    return Edge;\n  })();\n\n  exports['default'] = Edge;\n  module.exports = exports['default'];\n\n/***/ },\n/* 82 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i &amp;&amp; _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n &amp;&amp; _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x3, _x4, _x5) { var _again = true; _function: while (_again) { var object = _x3, property = _x4, receiver = _x5; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x3 = parent; _x4 = property; _x5 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' &amp;&amp; superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilCubicBezierEdgeBase = __webpack_require__(83);\n\n  var _utilCubicBezierEdgeBase2 = _interopRequireDefault(_utilCubicBezierEdgeBase);\n\n  var CubicBezierEdge = (function (_CubicBezierEdgeBase) {\n    _inherits(CubicBezierEdge, _CubicBezierEdgeBase);\n\n    function CubicBezierEdge(options, body, labelModule) {\n      _classCallCheck(this, CubicBezierEdge);\n\n      _get(Object.getPrototypeOf(CubicBezierEdge.prototype), 'constructor', this).call(this, options, body, labelModule);\n    }\n\n    /**\n     * Draw a line between two nodes\n     * @param {CanvasRenderingContext2D} ctx\n     * @private\n     */\n\n    _createClass(CubicBezierEdge, [{\n      key: '_line',\n      value: function _line(ctx, viaNodes) {\n        // get the coordinates of the support points.\n        var via1 = viaNodes[0];\n        var via2 = viaNodes[1];\n\n        // start drawing the line.\n        ctx.beginPath();\n        ctx.moveTo(this.fromPoint.x, this.fromPoint.y);\n\n        // fallback to normal straight edges\n        if (viaNodes === undefined || via1.x === undefined) {\n          ctx.lineTo(this.toPoint.x, this.toPoint.y);\n        } else {\n          ctx.bezierCurveTo(via1.x, via1.y, via2.x, via2.y, this.toPoint.x, this.toPoint.y);\n        }\n        // draw shadow if enabled\n        this.enableShadow(ctx);\n        ctx.stroke();\n        this.disableShadow(ctx);\n      }\n    }, {\n      key: '_getViaCoordinates',\n      value: function _getViaCoordinates() {\n        var dx = this.from.x - this.to.x;\n        var dy = this.from.y - this.to.y;\n\n        var x1 = undefined,\n            y1 = undefined,\n            x2 = undefined,\n            y2 = undefined;\n        var roundness = this.options.smooth.roundness;\n\n        // horizontal if x &gt; y or if direction is forced or if direction is horizontal\n        if ((Math.abs(dx) &gt; Math.abs(dy) || this.options.smooth.forceDirection === true || this.options.smooth.forceDirection === 'horizontal') &amp;&amp; this.options.smooth.forceDirection !== 'vertical') {\n          y1 = this.from.y;\n          y2 = this.to.y;\n          x1 = this.from.x - roundness * dx;\n          x2 = this.to.x + roundness * dx;\n        } else {\n          y1 = this.from.y - roundness * dy;\n          y2 = this.to.y + roundness * dy;\n          x1 = this.from.x;\n          x2 = this.to.x;\n        }\n\n        return [{ x: x1, y: y1 }, { x: x2, y: y2 }];\n      }\n    }, {\n      key: 'getViaNode',\n      value: function getViaNode() {\n        return this._getViaCoordinates();\n      }\n    }, {\n      key: '_findBorderPosition',\n      value: function _findBorderPosition(nearNode, ctx) {\n        return this._findBorderPositionBezier(nearNode, ctx);\n      }\n    }, {\n      key: '_getDistanceToEdge',\n      value: function _getDistanceToEdge(x1, y1, x2, y2, x3, y3) {\n        var _ref = arguments.length &lt;= 6 || arguments[6] === undefined ? this._getViaCoordinates() : arguments[6];\n\n        var _ref2 = _slicedToArray(_ref, 2);\n\n        var via1 = _ref2[0];\n        var via2 = _ref2[1];\n        // x3,y3 is the point\n        return this._getDistanceToBezierEdge(x1, y1, x2, y2, x3, y3, via1, via2);\n      }\n\n      /**\n       * Combined function of pointOnLine and pointOnBezier. This gives the coordinates of a point on the line at a certain percentage of the way\n       * @param percentage\n       * @param via\n       * @returns {{x: number, y: number}}\n       * @private\n       */\n    }, {\n      key: 'getPoint',\n      value: function getPoint(percentage) {\n        var _ref3 = arguments.length &lt;= 1 || arguments[1] === undefined ? this._getViaCoordinates() : arguments[1];\n\n        var _ref32 = _slicedToArray(_ref3, 2);\n\n        var via1 = _ref32[0];\n        var via2 = _ref32[1];\n\n        var t = percentage;\n        var vec = [];\n        vec[0] = Math.pow(1 - t, 3);\n        vec[1] = 3 * t * Math.pow(1 - t, 2);\n        vec[2] = 3 * Math.pow(t, 2) * (1 - t);\n        vec[3] = Math.pow(t, 3);\n        var x = vec[0] * this.fromPoint.x + vec[1] * via1.x + vec[2] * via2.x + vec[3] * this.toPoint.x;\n        var y = vec[0] * this.fromPoint.y + vec[1] * via1.y + vec[2] * via2.y + vec[3] * this.toPoint.y;\n\n        return { x: x, y: y };\n      }\n    }]);\n\n    return CubicBezierEdge;\n  })(_utilCubicBezierEdgeBase2['default']);\n\n  exports['default'] = CubicBezierEdge;\n  module.exports = exports['default'];\n\n/***/ },\n/* 83 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' &amp;&amp; superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _BezierEdgeBase2 = __webpack_require__(84);\n\n  var _BezierEdgeBase3 = _interopRequireDefault(_BezierEdgeBase2);\n\n  var CubicBezierEdgeBase = (function (_BezierEdgeBase) {\n    _inherits(CubicBezierEdgeBase, _BezierEdgeBase);\n\n    function CubicBezierEdgeBase(options, body, labelModule) {\n      _classCallCheck(this, CubicBezierEdgeBase);\n\n      _get(Object.getPrototypeOf(CubicBezierEdgeBase.prototype), 'constructor', this).call(this, options, body, labelModule);\n    }\n\n    /**\n     * Calculate the distance between a point (x3,y3) and a line segment from\n     * (x1,y1) to (x2,y2).\n     * http://stackoverflow.com/questions/849211/shortest-distancae-between-a-point-and-a-line-segment\n     * https://en.wikipedia.org/wiki/B%C3%A9zier_curve\n     * @param {number} x1 from x\n     * @param {number} y1 from y\n     * @param {number} x2 to x\n     * @param {number} y2 to y\n     * @param {number} x3 point to check x\n     * @param {number} y3 point to check y\n     * @private\n     */\n\n    _createClass(CubicBezierEdgeBase, [{\n      key: '_getDistanceToBezierEdge',\n      value: function _getDistanceToBezierEdge(x1, y1, x2, y2, x3, y3, via1, via2) {\n        // x3,y3 is the point\n        var minDistance = 1e9;\n        var distance = undefined;\n        var i = undefined,\n            t = undefined,\n            x = undefined,\n            y = undefined;\n        var lastX = x1;\n        var lastY = y1;\n        var vec = [0, 0, 0, 0];\n        for (i = 1; i &lt; 10; i++) {\n          t = 0.1 * i;\n          vec[0] = Math.pow(1 - t, 3);\n          vec[1] = 3 * t * Math.pow(1 - t, 2);\n          vec[2] = 3 * Math.pow(t, 2) * (1 - t);\n          vec[3] = Math.pow(t, 3);\n          x = vec[0] * x1 + vec[1] * via1.x + vec[2] * via2.x + vec[3] * x2;\n          y = vec[0] * y1 + vec[1] * via1.y + vec[2] * via2.y + vec[3] * y2;\n          if (i &gt; 0) {\n            distance = this._getDistanceToLine(lastX, lastY, x, y, x3, y3);\n            minDistance = distance &lt; minDistance ? distance : minDistance;\n          }\n          lastX = x;\n          lastY = y;\n        }\n\n        return minDistance;\n      }\n    }]);\n\n    return CubicBezierEdgeBase;\n  })(_BezierEdgeBase3['default']);\n\n  exports['default'] = CubicBezierEdgeBase;\n  module.exports = exports['default'];\n\n/***/ },\n/* 84 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' &amp;&amp; superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _EdgeBase2 = __webpack_require__(85);\n\n  var _EdgeBase3 = _interopRequireDefault(_EdgeBase2);\n\n  var BezierEdgeBase = (function (_EdgeBase) {\n    _inherits(BezierEdgeBase, _EdgeBase);\n\n    function BezierEdgeBase(options, body, labelModule) {\n      _classCallCheck(this, BezierEdgeBase);\n\n      _get(Object.getPrototypeOf(BezierEdgeBase.prototype), 'constructor', this).call(this, options, body, labelModule);\n    }\n\n    /**\n     * This function uses binary search to look for the point where the bezier curve crosses the border of the node.\n     *\n     * @param nearNode\n     * @param ctx\n     * @param viaNode\n     * @param nearNode\n     * @param ctx\n     * @param viaNode\n     * @param nearNode\n     * @param ctx\n     * @param viaNode\n     */\n\n    _createClass(BezierEdgeBase, [{\n      key: '_findBorderPositionBezier',\n      value: function _findBorderPositionBezier(nearNode, ctx) {\n        var viaNode = arguments.length &lt;= 2 || arguments[2] === undefined ? this._getViaCoordinates() : arguments[2];\n\n        var maxIterations = 10;\n        var iteration = 0;\n        var low = 0;\n        var high = 1;\n        var pos, angle, distanceToBorder, distanceToPoint, difference;\n        var threshold = 0.2;\n        var node = this.to;\n        var from = false;\n        if (nearNode.id === this.from.id) {\n          node = this.from;\n          from = true;\n        }\n\n        while (low &lt;= high &amp;&amp; iteration &lt; maxIterations) {\n          var middle = (low + high) * 0.5;\n\n          pos = this.getPoint(middle, viaNode);\n          angle = Math.atan2(node.y - pos.y, node.x - pos.x);\n          distanceToBorder = node.distanceToBorder(ctx, angle);\n          distanceToPoint = Math.sqrt(Math.pow(pos.x - node.x, 2) + Math.pow(pos.y - node.y, 2));\n          difference = distanceToBorder - distanceToPoint;\n          if (Math.abs(difference) &lt; threshold) {\n            break; // found\n          } else if (difference &lt; 0) {\n              // distance to nodes is larger than distance to border --&gt; t needs to be bigger if we're looking at the to node.\n              if (from === false) {\n                low = middle;\n              } else {\n                high = middle;\n              }\n            } else {\n              if (from === false) {\n                high = middle;\n              } else {\n                low = middle;\n              }\n            }\n\n          iteration++;\n        }\n        pos.t = middle;\n\n        return pos;\n      }\n\n      /**\n       * Calculate the distance between a point (x3,y3) and a line segment from\n       * (x1,y1) to (x2,y2).\n       * http://stackoverflow.com/questions/849211/shortest-distancae-between-a-point-and-a-line-segment\n       * @param {number} x1 from x\n       * @param {number} y1 from y\n       * @param {number} x2 to x\n       * @param {number} y2 to y\n       * @param {number} x3 point to check x\n       * @param {number} y3 point to check y\n       * @private\n       */\n    }, {\n      key: '_getDistanceToBezierEdge',\n      value: function _getDistanceToBezierEdge(x1, y1, x2, y2, x3, y3, via) {\n        // x3,y3 is the point\n        var minDistance = 1e9;\n        var distance = undefined;\n        var i = undefined,\n            t = undefined,\n            x = undefined,\n            y = undefined;\n        var lastX = x1;\n        var lastY = y1;\n        for (i = 1; i &lt; 10; i++) {\n          t = 0.1 * i;\n          x = Math.pow(1 - t, 2) * x1 + 2 * t * (1 - t) * via.x + Math.pow(t, 2) * x2;\n          y = Math.pow(1 - t, 2) * y1 + 2 * t * (1 - t) * via.y + Math.pow(t, 2) * y2;\n          if (i &gt; 0) {\n            distance = this._getDistanceToLine(lastX, lastY, x, y, x3, y3);\n            minDistance = distance &lt; minDistance ? distance : minDistance;\n          }\n          lastX = x;\n          lastY = y;\n        }\n\n        return minDistance;\n      }\n    }]);\n\n    return BezierEdgeBase;\n  })(_EdgeBase3['default']);\n\n  exports['default'] = BezierEdgeBase;\n  module.exports = exports['default'];\n\n/***/ },\n/* 85 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i &amp;&amp; _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n &amp;&amp; _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var util = __webpack_require__(1);\n\n  var EdgeBase = (function () {\n    function EdgeBase(options, body, labelModule) {\n      _classCallCheck(this, EdgeBase);\n\n      this.body = body;\n      this.labelModule = labelModule;\n      this.options = {};\n      this.setOptions(options);\n      this.colorDirty = true;\n      this.color = {};\n      this.selectionWidth = 2;\n      this.hoverWidth = 1.5;\n      this.fromPoint = this.from;\n      this.toPoint = this.to;\n    }\n\n    _createClass(EdgeBase, [{\n      key: 'connect',\n      value: function connect() {\n        this.from = this.body.nodes[this.options.from];\n        this.to = this.body.nodes[this.options.to];\n      }\n    }, {\n      key: 'cleanup',\n      value: function cleanup() {\n        return false;\n      }\n    }, {\n      key: 'setOptions',\n      value: function setOptions(options) {\n        this.options = options;\n        this.from = this.body.nodes[this.options.from];\n        this.to = this.body.nodes[this.options.to];\n        this.id = this.options.id;\n      }\n\n      /**\n       * Redraw a edge as a line\n       * Draw this edge in the given canvas\n       * The 2d context of a HTML canvas can be retrieved by canvas.getContext(\&quot;2d\&quot;);\n       * @param {CanvasRenderingContext2D}   ctx\n       * @private\n       */\n    }, {\n      key: 'drawLine',\n      value: function drawLine(ctx, selected, hover, viaNode) {\n        // set style\n        ctx.strokeStyle = this.getColor(ctx, selected, hover);\n        ctx.lineWidth = this.getLineWidth(selected, hover);\n\n        if (this.options.dashes !== false) {\n          this._drawDashedLine(ctx, viaNode);\n        } else {\n          this._drawLine(ctx, viaNode);\n        }\n      }\n    }, {\n      key: '_drawLine',\n      value: function _drawLine(ctx, viaNode, fromPoint, toPoint) {\n        if (this.from != this.to) {\n          // draw line\n          this._line(ctx, viaNode, fromPoint, toPoint);\n        } else {\n          var _getCircleData2 = this._getCircleData(ctx);\n\n          var _getCircleData22 = _slicedToArray(_getCircleData2, 3);\n\n          var x = _getCircleData22[0];\n          var y = _getCircleData22[1];\n          var radius = _getCircleData22[2];\n\n          this._circle(ctx, x, y, radius);\n        }\n      }\n    }, {\n      key: '_drawDashedLine',\n      value: function _drawDashedLine(ctx, viaNode, fromPoint, toPoint) {\n        ctx.lineCap = 'round';\n        var pattern = [5, 5];\n        if (Array.isArray(this.options.dashes) === true) {\n          pattern = this.options.dashes;\n        }\n\n        // only firefox and chrome support this method, else we use the legacy one.\n        if (ctx.setLineDash !== undefined) {\n          ctx.save();\n\n          // set dash settings for chrome or firefox\n          ctx.setLineDash(pattern);\n          ctx.lineDashOffset = 0;\n\n          // draw the line\n          if (this.from != this.to) {\n            // draw line\n            this._line(ctx, viaNode);\n          } else {\n            var _getCircleData3 = this._getCircleData(ctx);\n\n            var _getCircleData32 = _slicedToArray(_getCircleData3, 3);\n\n            var x = _getCircleData32[0];\n            var y = _getCircleData32[1];\n            var radius = _getCircleData32[2];\n\n            this._circle(ctx, x, y, radius);\n          }\n\n          // restore the dash settings.\n          ctx.setLineDash([0]);\n          ctx.lineDashOffset = 0;\n          ctx.restore();\n        } else {\n          // unsupporting smooth lines\n          if (this.from != this.to) {\n            // draw line\n            ctx.dashedLine(this.from.x, this.from.y, this.to.x, this.to.y, pattern);\n          } else {\n            var _getCircleData4 = this._getCircleData(ctx);\n\n            var _getCircleData42 = _slicedToArray(_getCircleData4, 3);\n\n            var x = _getCircleData42[0];\n            var y = _getCircleData42[1];\n            var radius = _getCircleData42[2];\n\n            this._circle(ctx, x, y, radius);\n          }\n          // draw shadow if enabled\n          this.enableShadow(ctx);\n\n          ctx.stroke();\n\n          // disable shadows for other elements.\n          this.disableShadow(ctx);\n        }\n      }\n    }, {\n      key: 'findBorderPosition',\n      value: function findBorderPosition(nearNode, ctx, options) {\n        if (this.from != this.to) {\n          return this._findBorderPosition(nearNode, ctx, options);\n        } else {\n          return this._findBorderPositionCircle(nearNode, ctx, options);\n        }\n      }\n    }, {\n      key: 'findBorderPositions',\n      value: function findBorderPositions(ctx) {\n        var from = {};\n        var to = {};\n        if (this.from != this.to) {\n          from = this._findBorderPosition(this.from, ctx);\n          to = this._findBorderPosition(this.to, ctx);\n        } else {\n          var _getCircleData5 = this._getCircleData(ctx);\n\n          var _getCircleData52 = _slicedToArray(_getCircleData5, 3);\n\n          var x = _getCircleData52[0];\n          var y = _getCircleData52[1];\n          var radius = _getCircleData52[2];\n\n          from = this._findBorderPositionCircle(this.from, ctx, { x: x, y: y, low: 0.25, high: 0.6, direction: -1 });\n          to = this._findBorderPositionCircle(this.from, ctx, { x: x, y: y, low: 0.6, high: 0.8, direction: 1 });\n        }\n        return { from: from, to: to };\n      }\n    }, {\n      key: '_getCircleData',\n      value: function _getCircleData(ctx) {\n        var x = undefined,\n            y = undefined;\n        var node = this.from;\n        var radius = this.options.selfReferenceSize;\n\n        if (ctx !== undefined) {\n          if (node.shape.width === undefined) {\n            node.shape.resize(ctx);\n          }\n        }\n\n        // get circle coordinates\n        if (node.shape.width &gt; node.shape.height) {\n          x = node.x + node.shape.width * 0.5;\n          y = node.y - radius;\n        } else {\n          x = node.x + radius;\n          y = node.y - node.shape.height * 0.5;\n        }\n        return [x, y, radius];\n      }\n\n      /**\n       * Get a point on a circle\n       * @param {Number} x\n       * @param {Number} y\n       * @param {Number} radius\n       * @param {Number} percentage. Value between 0 (line start) and 1 (line end)\n       * @return {Object} point\n       * @private\n       */\n    }, {\n      key: '_pointOnCircle',\n      value: function _pointOnCircle(x, y, radius, percentage) {\n        var angle = percentage * 2 * Math.PI;\n        return {\n          x: x + radius * Math.cos(angle),\n          y: y - radius * Math.sin(angle)\n        };\n      }\n\n      /**\n       * This function uses binary search to look for the point where the circle crosses the border of the node.\n       * @param node\n       * @param ctx\n       * @param options\n       * @returns {*}\n       * @private\n       */\n    }, {\n      key: '_findBorderPositionCircle',\n      value: function _findBorderPositionCircle(node, ctx, options) {\n        var x = options.x;\n        var y = options.y;\n        var low = options.low;\n        var high = options.high;\n        var direction = options.direction;\n\n        var maxIterations = 10;\n        var iteration = 0;\n        var radius = this.options.selfReferenceSize;\n        var pos = undefined,\n            angle = undefined,\n            distanceToBorder = undefined,\n            distanceToPoint = undefined,\n            difference = undefined;\n        var threshold = 0.05;\n        var middle = (low + high) * 0.5;\n\n        while (low &lt;= high &amp;&amp; iteration &lt; maxIterations) {\n          middle = (low + high) * 0.5;\n\n          pos = this._pointOnCircle(x, y, radius, middle);\n          angle = Math.atan2(node.y - pos.y, node.x - pos.x);\n          distanceToBorder = node.distanceToBorder(ctx, angle);\n          distanceToPoint = Math.sqrt(Math.pow(pos.x - node.x, 2) + Math.pow(pos.y - node.y, 2));\n          difference = distanceToBorder - distanceToPoint;\n          if (Math.abs(difference) &lt; threshold) {\n            break; // found\n          } else if (difference &gt; 0) {\n              // distance to nodes is larger than distance to border --&gt; t needs to be bigger if we're looking at the to node.\n              if (direction &gt; 0) {\n                low = middle;\n              } else {\n                high = middle;\n              }\n            } else {\n              if (direction &gt; 0) {\n                high = middle;\n              } else {\n                low = middle;\n              }\n            }\n          iteration++;\n        }\n        pos.t = middle;\n\n        return pos;\n      }\n\n      /**\n       * Get the line width of the edge. Depends on width and whether one of the\n       * connected nodes is selected.\n       * @return {Number} width\n       * @private\n       */\n    }, {\n      key: 'getLineWidth',\n      value: function getLineWidth(selected, hover) {\n        if (selected === true) {\n          return Math.max(this.selectionWidth, 0.3 / this.body.view.scale);\n        } else {\n          if (hover === true) {\n            return Math.max(this.hoverWidth, 0.3 / this.body.view.scale);\n          } else {\n            return Math.max(this.options.width, 0.3 / this.body.view.scale);\n          }\n        }\n      }\n    }, {\n      key: 'getColor',\n      value: function getColor(ctx, selected, hover) {\n        var colorOptions = this.options.color;\n        if (colorOptions.inherit !== false) {\n          // when this is a loop edge, just use the 'from' method\n          if (colorOptions.inherit === 'both' &amp;&amp; this.from.id !== this.to.id) {\n            var grd = ctx.createLinearGradient(this.from.x, this.from.y, this.to.x, this.to.y);\n            var fromColor = undefined,\n                toColor = undefined;\n            fromColor = this.from.options.color.highlight.border;\n            toColor = this.to.options.color.highlight.border;\n\n            if (this.from.selected === false &amp;&amp; this.to.selected === false) {\n              fromColor = util.overrideOpacity(this.from.options.color.border, this.options.color.opacity);\n              toColor = util.overrideOpacity(this.to.options.color.border, this.options.color.opacity);\n            } else if (this.from.selected === true &amp;&amp; this.to.selected === false) {\n              toColor = this.to.options.color.border;\n            } else if (this.from.selected === false &amp;&amp; this.to.selected === true) {\n              fromColor = this.from.options.color.border;\n            }\n            grd.addColorStop(0, fromColor);\n            grd.addColorStop(1, toColor);\n\n            // -------------------- this returns -------------------- //\n            return grd;\n          }\n\n          if (this.colorDirty === true) {\n            if (colorOptions.inherit === \&quot;to\&quot;) {\n              this.color.highlight = this.to.options.color.highlight.border;\n              this.color.hover = this.to.options.color.hover.border;\n              this.color.color = util.overrideOpacity(this.to.options.color.border, colorOptions.opacity);\n            } else {\n              // (this.options.color.inherit.source === \&quot;from\&quot;) {\n              this.color.highlight = this.from.options.color.highlight.border;\n              this.color.hover = this.from.options.color.hover.border;\n              this.color.color = util.overrideOpacity(this.from.options.color.border, colorOptions.opacity);\n            }\n          }\n        } else if (this.colorDirty === true) {\n          this.color.highlight = colorOptions.highlight;\n          this.color.hover = colorOptions.hover;\n          this.color.color = util.overrideOpacity(colorOptions.color, colorOptions.opacity);\n        }\n\n        // if color inherit is on and gradients are used, the function has already returned by now.\n        this.colorDirty = false;\n\n        if (selected === true) {\n          return this.color.highlight;\n        } else if (hover === true) {\n          return this.color.hover;\n        } else {\n          return this.color.color;\n        }\n      }\n\n      /**\n       * Draw a line from a node to itself, a circle\n       * @param {CanvasRenderingContext2D} ctx\n       * @param {Number} x\n       * @param {Number} y\n       * @param {Number} radius\n       * @private\n       */\n    }, {\n      key: '_circle',\n      value: function _circle(ctx, x, y, radius) {\n        // draw shadow if enabled\n        this.enableShadow(ctx);\n\n        // draw a circle\n        ctx.beginPath();\n        ctx.arc(x, y, radius, 0, 2 * Math.PI, false);\n        ctx.stroke();\n\n        // disable shadows for other elements.\n        this.disableShadow(ctx);\n      }\n\n      /**\n       * Calculate the distance between a point (x3,y3) and a line segment from\n       * (x1,y1) to (x2,y2).\n       * http://stackoverflow.com/questions/849211/shortest-distancae-between-a-point-and-a-line-segment\n       * @param {number} x1\n       * @param {number} y1\n       * @param {number} x2\n       * @param {number} y2\n       * @param {number} x3\n       * @param {number} y3\n       * @private\n       */\n    }, {\n      key: 'getDistanceToEdge',\n      value: function getDistanceToEdge(x1, y1, x2, y2, x3, y3, via) {\n        // x3,y3 is the point\n        var returnValue = 0;\n        if (this.from != this.to) {\n          returnValue = this._getDistanceToEdge(x1, y1, x2, y2, x3, y3, via);\n        } else {\n          var _getCircleData6 = this._getCircleData();\n\n          var _getCircleData62 = _slicedToArray(_getCircleData6, 3);\n\n          var x = _getCircleData62[0];\n          var y = _getCircleData62[1];\n          var radius = _getCircleData62[2];\n\n          var dx = x - x3;\n          var dy = y - y3;\n          returnValue = Math.abs(Math.sqrt(dx * dx + dy * dy) - radius);\n        }\n\n        if (this.labelModule.size.left &lt; x3 &amp;&amp; this.labelModule.size.left + this.labelModule.size.width &gt; x3 &amp;&amp; this.labelModule.size.top &lt; y3 &amp;&amp; this.labelModule.size.top + this.labelModule.size.height &gt; y3) {\n          return 0;\n        } else {\n          return returnValue;\n        }\n      }\n    }, {\n      key: '_getDistanceToLine',\n      value: function _getDistanceToLine(x1, y1, x2, y2, x3, y3) {\n        var px = x2 - x1;\n        var py = y2 - y1;\n        var something = px * px + py * py;\n        var u = ((x3 - x1) * px + (y3 - y1) * py) / something;\n\n        if (u &gt; 1) {\n          u = 1;\n        } else if (u &lt; 0) {\n          u = 0;\n        }\n\n        var x = x1 + u * px;\n        var y = y1 + u * py;\n        var dx = x - x3;\n        var dy = y - y3;\n\n        //# Note: If the actual distance does not matter,\n        //# if you only want to compare what this function\n        //# returns to other results of this function, you\n        //# can just return the squared distance instead\n        //# (i.e. remove the sqrt) to gain a little performance\n\n        return Math.sqrt(dx * dx + dy * dy);\n      }\n\n      /**\n       *\n       * @param ctx\n       * @param position\n       * @param viaNode\n       */\n    }, {\n      key: 'getArrowData',\n      value: function getArrowData(ctx, position, viaNode, selected, hover) {\n        // set lets\n        var angle = undefined;\n        var arrowPoint = undefined;\n        var node1 = undefined;\n        var node2 = undefined;\n        var guideOffset = undefined;\n        var scaleFactor = undefined;\n        var lineWidth = this.getLineWidth(selected, hover);\n\n        if (position === 'from') {\n          node1 = this.from;\n          node2 = this.to;\n          guideOffset = 0.1;\n          scaleFactor = this.options.arrows.from.scaleFactor;\n        } else if (position === 'to') {\n          node1 = this.to;\n          node2 = this.from;\n          guideOffset = -0.1;\n          scaleFactor = this.options.arrows.to.scaleFactor;\n        } else {\n          node1 = this.to;\n          node2 = this.from;\n          scaleFactor = this.options.arrows.middle.scaleFactor;\n        }\n\n        // if not connected to itself\n        if (node1 != node2) {\n          if (position !== 'middle') {\n            // draw arrow head\n            if (this.options.smooth.enabled === true) {\n              arrowPoint = this.findBorderPosition(node1, ctx, { via: viaNode });\n              var guidePos = this.getPoint(Math.max(0.0, Math.min(1.0, arrowPoint.t + guideOffset)), viaNode);\n              angle = Math.atan2(arrowPoint.y - guidePos.y, arrowPoint.x - guidePos.x);\n            } else {\n              angle = Math.atan2(node1.y - node2.y, node1.x - node2.x);\n              arrowPoint = this.findBorderPosition(node1, ctx);\n            }\n          } else {\n            angle = Math.atan2(node1.y - node2.y, node1.x - node2.x);\n            arrowPoint = this.getPoint(0.5, viaNode); // this is 0.6 to account for the size of the arrow.\n          }\n        } else {\n            var _getCircleData7 = this._getCircleData(ctx);\n\n            var _getCircleData72 = _slicedToArray(_getCircleData7, 3);\n\n            var x = _getCircleData72[0];\n            var y = _getCircleData72[1];\n            var radius = _getCircleData72[2];\n\n            if (position === 'from') {\n              arrowPoint = this.findBorderPosition(this.from, ctx, { x: x, y: y, low: 0.25, high: 0.6, direction: -1 });\n              angle = arrowPoint.t * -2 * Math.PI + 1.5 * Math.PI + 0.1 * Math.PI;\n            } else if (position === 'to') {\n              arrowPoint = this.findBorderPosition(this.from, ctx, { x: x, y: y, low: 0.6, high: 1.0, direction: 1 });\n              angle = arrowPoint.t * -2 * Math.PI + 1.5 * Math.PI - 1.1 * Math.PI;\n            } else {\n              arrowPoint = this._pointOnCircle(x, y, radius, 0.175);\n              angle = 3.9269908169872414; // === 0.175 * -2 * Math.PI + 1.5 * Math.PI + 0.1 * Math.PI;\n            }\n          }\n\n        var length = 15 * scaleFactor + 3 * lineWidth; // 3* lineWidth is the width of the edge.\n\n        var xi = arrowPoint.x - length * 0.9 * Math.cos(angle);\n        var yi = arrowPoint.y - length * 0.9 * Math.sin(angle);\n        var arrowCore = { x: xi, y: yi };\n\n        return { point: arrowPoint, core: arrowCore, angle: angle, length: length };\n      }\n\n      /**\n       *\n       * @param ctx\n       * @param selected\n       * @param hover\n       * @param arrowData\n       */\n    }, {\n      key: 'drawArrowHead',\n      value: function drawArrowHead(ctx, selected, hover, arrowData) {\n        // set style\n        ctx.strokeStyle = this.getColor(ctx, selected, hover);\n        ctx.fillStyle = ctx.strokeStyle;\n        ctx.lineWidth = this.getLineWidth(selected, hover);\n\n        // draw arrow at the end of the line\n        ctx.arrow(arrowData.point.x, arrowData.point.y, arrowData.angle, arrowData.length);\n\n        // draw shadow if enabled\n        this.enableShadow(ctx);\n        ctx.fill();\n        // disable shadows for other elements.\n        this.disableShadow(ctx);\n      }\n    }, {\n      key: 'enableShadow',\n      value: function enableShadow(ctx) {\n        if (this.options.shadow.enabled === true) {\n          ctx.shadowColor = this.options.shadow.color;\n          ctx.shadowBlur = this.options.shadow.size;\n          ctx.shadowOffsetX = this.options.shadow.x;\n          ctx.shadowOffsetY = this.options.shadow.y;\n        }\n      }\n    }, {\n      key: 'disableShadow',\n      value: function disableShadow(ctx) {\n        if (this.options.shadow.enabled === true) {\n          ctx.shadowColor = 'rgba(0,0,0,0)';\n          ctx.shadowBlur = 0;\n          ctx.shadowOffsetX = 0;\n          ctx.shadowOffsetY = 0;\n        }\n      }\n    }]);\n\n    return EdgeBase;\n  })();\n\n  exports['default'] = EdgeBase;\n  module.exports = exports['default'];\n\n  // draw circle\n\n/***/ },\n/* 86 */\n/***/ function(module, exports, __webpack_require__) {\n\n  \&quot;use strict\&quot;;\n\n  Object.defineProperty(exports, \&quot;__esModule\&quot;, {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\&quot;value\&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if (\&quot;value\&quot; in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { \&quot;default\&quot;: obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\&quot;Cannot call a class as a function\&quot;); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \&quot;function\&quot; &amp;&amp; superClass !== null) { throw new TypeError(\&quot;Super expression must either be null or a function, not \&quot; + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilBezierEdgeBase = __webpack_require__(84);\n\n  var _utilBezierEdgeBase2 = _interopRequireDefault(_utilBezierEdgeBase);\n\n  var BezierEdgeDynamic = (function (_BezierEdgeBase) {\n    _inherits(BezierEdgeDynamic, _BezierEdgeBase);\n\n    function BezierEdgeDynamic(options, body, labelModule) {\n      var _this = this;\n\n      _classCallCheck(this, BezierEdgeDynamic);\n\n      //this.via = undefined; // Here for completeness but not allowed to defined before super() is invoked.\n      _get(Object.getPrototypeOf(BezierEdgeDynamic.prototype), \&quot;constructor\&quot;, this).call(this, options, body, labelModule); // --&gt; this calls the setOptions below\n      this._boundFunction = function () {\n        _this.positionBezierNode();\n      };\n      this.body.emitter.on(\&quot;_repositionBezierNodes\&quot;, this._boundFunction);\n    }\n\n    _createClass(BezierEdgeDynamic, [{\n      key: \&quot;setOptions\&quot;,\n      value: function setOptions(options) {\n        // check if the physics has changed.\n        var physicsChange = false;\n        if (this.options.physics !== options.physics) {\n          physicsChange = true;\n        }\n\n        // set the options and the to and from nodes\n        this.options = options;\n        this.id = this.options.id;\n        this.from = this.body.nodes[this.options.from];\n        this.to = this.body.nodes[this.options.to];\n\n        // setup the support node and connect\n        this.setupSupportNode();\n        this.connect();\n\n        // when we change the physics state of the edge, we reposition the support node.\n        if (physicsChange === true) {\n          this.via.setOptions({ physics: this.options.physics });\n          this.positionBezierNode();\n        }\n      }\n    }, {\n      key: \&quot;connect\&quot;,\n      value: function connect() {\n        this.from = this.body.nodes[this.options.from];\n        this.to = this.body.nodes[this.options.to];\n        if (this.from === undefined || this.to === undefined || this.options.physics === false) {\n          this.via.setOptions({ physics: false });\n        } else {\n          // fix weird behaviour where a self referencing node has physics enabled\n          if (this.from.id === this.to.id) {\n            this.via.setOptions({ physics: false });\n          } else {\n            this.via.setOptions({ physics: true });\n          }\n        }\n      }\n\n      /**\n       * remove the support nodes\n       * @returns {boolean}\n       */\n    }, {\n      key: \&quot;cleanup\&quot;,\n      value: function cleanup() {\n        this.body.emitter.off(\&quot;_repositionBezierNodes\&quot;, this._boundFunction);\n        if (this.via !== undefined) {\n          delete this.body.nodes[this.via.id];\n          this.via = undefined;\n          return true;\n        }\n        return false;\n      }\n\n      /**\n       * Bezier curves require an anchor point to calculate the smooth flow. These points are nodes. These nodes are invisible but\n       * are used for the force calculation.\n       *\n       * The changed data is not called, if needed, it is returned by the main edge constructor.\n       * @private\n       */\n    }, {\n      key: \&quot;setupSupportNode\&quot;,\n      value: function setupSupportNode() {\n        if (this.via === undefined) {\n          var nodeId = \&quot;edgeId:\&quot; + this.id;\n          var node = this.body.functions.createNode({\n            id: nodeId,\n            shape: 'circle',\n            physics: true,\n            hidden: true\n          });\n          this.body.nodes[nodeId] = node;\n          this.via = node;\n          this.via.parentEdgeId = this.id;\n          this.positionBezierNode();\n        }\n      }\n    }, {\n      key: \&quot;positionBezierNode\&quot;,\n      value: function positionBezierNode() {\n        if (this.via !== undefined &amp;&amp; this.from !== undefined &amp;&amp; this.to !== undefined) {\n          this.via.x = 0.5 * (this.from.x + this.to.x);\n          this.via.y = 0.5 * (this.from.y + this.to.y);\n        } else if (this.via !== undefined) {\n          this.via.x = 0;\n          this.via.y = 0;\n        }\n      }\n\n      /**\n       * Draw a line between two nodes\n       * @param {CanvasRenderingContext2D} ctx\n       * @private\n       */\n    }, {\n      key: \&quot;_line\&quot;,\n      value: function _line(ctx, viaNode) {\n        // draw a straight line\n        ctx.beginPath();\n        ctx.moveTo(this.fromPoint.x, this.fromPoint.y);\n        // fallback to normal straight edges\n        if (viaNode.x === undefined) {\n          ctx.lineTo(this.toPoint.x, this.toPoint.y);\n        } else {\n          ctx.quadraticCurveTo(viaNode.x, viaNode.y, this.toPoint.x, this.toPoint.y);\n        }\n        // draw shadow if enabled\n        this.enableShadow(ctx);\n        ctx.stroke();\n        this.disableShadow(ctx);\n      }\n    }, {\n      key: \&quot;getViaNode\&quot;,\n      value: function getViaNode() {\n        return this.via;\n      }\n\n      /**\n       * Combined function of pointOnLine and pointOnBezier. This gives the coordinates of a point on the line at a certain percentage of the way\n       * @param percentage\n       * @param viaNode\n       * @returns {{x: number, y: number}}\n       * @private\n       */\n    }, {\n      key: \&quot;getPoint\&quot;,\n      value: function getPoint(percentage) {\n        var viaNode = arguments.length &lt;= 1 || arguments[1] === undefined ? this.via : arguments[1];\n\n        var t = percentage;\n        var x = Math.pow(1 - t, 2) * this.fromPoint.x + 2 * t * (1 - t) * viaNode.x + Math.pow(t, 2) * this.toPoint.x;\n        var y = Math.pow(1 - t, 2) * this.fromPoint.y + 2 * t * (1 - t) * viaNode.y + Math.pow(t, 2) * this.toPoint.y;\n\n        return { x: x, y: y };\n      }\n    }, {\n      key: \&quot;_findBorderPosition\&quot;,\n      value: function _findBorderPosition(nearNode, ctx) {\n        return this._findBorderPositionBezier(nearNode, ctx, this.via);\n      }\n    }, {\n      key: \&quot;_getDistanceToEdge\&quot;,\n      value: function _getDistanceToEdge(x1, y1, x2, y2, x3, y3) {\n        // x3,y3 is the point\n        return this._getDistanceToBezierEdge(x1, y1, x2, y2, x3, y3, this.via);\n      }\n    }]);\n\n    return BezierEdgeDynamic;\n  })(_utilBezierEdgeBase2[\&quot;default\&quot;]);\n\n  exports[\&quot;default\&quot;] = BezierEdgeDynamic;\n  module.exports = exports[\&quot;default\&quot;];\n\n/***/ },\n/* 87 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x4, _x5, _x6) { var _again = true; _function: while (_again) { var object = _x4, property = _x5, receiver = _x6; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x4 = parent; _x5 = property; _x6 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' &amp;&amp; superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilBezierEdgeBase = __webpack_require__(84);\n\n  var _utilBezierEdgeBase2 = _interopRequireDefault(_utilBezierEdgeBase);\n\n  var BezierEdgeStatic = (function (_BezierEdgeBase) {\n    _inherits(BezierEdgeStatic, _BezierEdgeBase);\n\n    function BezierEdgeStatic(options, body, labelModule) {\n      _classCallCheck(this, BezierEdgeStatic);\n\n      _get(Object.getPrototypeOf(BezierEdgeStatic.prototype), 'constructor', this).call(this, options, body, labelModule);\n    }\n\n    /**\n     * Draw a line between two nodes\n     * @param {CanvasRenderingContext2D} ctx\n     * @private\n     */\n\n    _createClass(BezierEdgeStatic, [{\n      key: '_line',\n      value: function _line(ctx, viaNode) {\n        // draw a straight line\n        ctx.beginPath();\n        ctx.moveTo(this.fromPoint.x, this.fromPoint.y);\n\n        // fallback to normal straight edges\n        if (viaNode.x === undefined) {\n          ctx.lineTo(this.toPoint.x, this.toPoint.y);\n        } else {\n          ctx.quadraticCurveTo(viaNode.x, viaNode.y, this.toPoint.x, this.toPoint.y);\n        }\n        // draw shadow if enabled\n        this.enableShadow(ctx);\n        ctx.stroke();\n        this.disableShadow(ctx);\n      }\n    }, {\n      key: 'getViaNode',\n      value: function getViaNode() {\n        return this._getViaCoordinates();\n      }\n\n      /**\n       * We do not use the to and fromPoints here to make the via nodes the same as edges without arrows.\n       * @returns {{x: undefined, y: undefined}}\n       * @private\n       */\n    }, {\n      key: '_getViaCoordinates',\n      value: function _getViaCoordinates() {\n        var xVia = undefined;\n        var yVia = undefined;\n        var factor = this.options.smooth.roundness;\n        var type = this.options.smooth.type;\n        var dx = Math.abs(this.from.x - this.to.x);\n        var dy = Math.abs(this.from.y - this.to.y);\n        if (type === 'discrete' || type === 'diagonalCross') {\n          if (Math.abs(this.from.x - this.to.x) &lt;= Math.abs(this.from.y - this.to.y)) {\n            if (this.from.y &gt;= this.to.y) {\n              if (this.from.x &lt;= this.to.x) {\n                xVia = this.from.x + factor * dy;\n                yVia = this.from.y - factor * dy;\n              } else if (this.from.x &gt; this.to.x) {\n                xVia = this.from.x - factor * dy;\n                yVia = this.from.y - factor * dy;\n              }\n            } else if (this.from.y &lt; this.to.y) {\n              if (this.from.x &lt;= this.to.x) {\n                xVia = this.from.x + factor * dy;\n                yVia = this.from.y + factor * dy;\n              } else if (this.from.x &gt; this.to.x) {\n                xVia = this.from.x - factor * dy;\n                yVia = this.from.y + factor * dy;\n              }\n            }\n            if (type === \&quot;discrete\&quot;) {\n              xVia = dx &lt; factor * dy ? this.from.x : xVia;\n            }\n          } else if (Math.abs(this.from.x - this.to.x) &gt; Math.abs(this.from.y - this.to.y)) {\n            if (this.from.y &gt;= this.to.y) {\n              if (this.from.x &lt;= this.to.x) {\n                xVia = this.from.x + factor * dx;\n                yVia = this.from.y - factor * dx;\n              } else if (this.from.x &gt; this.to.x) {\n                xVia = this.from.x - factor * dx;\n                yVia = this.from.y - factor * dx;\n              }\n            } else if (this.from.y &lt; this.to.y) {\n              if (this.from.x &lt;= this.to.x) {\n                xVia = this.from.x + factor * dx;\n                yVia = this.from.y + factor * dx;\n              } else if (this.from.x &gt; this.to.x) {\n                xVia = this.from.x - factor * dx;\n                yVia = this.from.y + factor * dx;\n              }\n            }\n            if (type === \&quot;discrete\&quot;) {\n              yVia = dy &lt; factor * dx ? this.from.y : yVia;\n            }\n          }\n        } else if (type === \&quot;straightCross\&quot;) {\n          if (Math.abs(this.from.x - this.to.x) &lt;= Math.abs(this.from.y - this.to.y)) {\n            // up - down\n            xVia = this.from.x;\n            if (this.from.y &lt; this.to.y) {\n              yVia = this.to.y - (1 - factor) * dy;\n            } else {\n              yVia = this.to.y + (1 - factor) * dy;\n            }\n          } else if (Math.abs(this.from.x - this.to.x) &gt; Math.abs(this.from.y - this.to.y)) {\n            // left - right\n            if (this.from.x &lt; this.to.x) {\n              xVia = this.to.x - (1 - factor) * dx;\n            } else {\n              xVia = this.to.x + (1 - factor) * dx;\n            }\n            yVia = this.from.y;\n          }\n        } else if (type === 'horizontal') {\n          if (this.from.x &lt; this.to.x) {\n            xVia = this.to.x - (1 - factor) * dx;\n          } else {\n            xVia = this.to.x + (1 - factor) * dx;\n          }\n          yVia = this.from.y;\n        } else if (type === 'vertical') {\n          xVia = this.from.x;\n          if (this.from.y &lt; this.to.y) {\n            yVia = this.to.y - (1 - factor) * dy;\n          } else {\n            yVia = this.to.y + (1 - factor) * dy;\n          }\n        } else if (type === 'curvedCW') {\n          dx = this.to.x - this.from.x;\n          dy = this.from.y - this.to.y;\n          var radius = Math.sqrt(dx * dx + dy * dy);\n          var pi = Math.PI;\n\n          var originalAngle = Math.atan2(dy, dx);\n          var myAngle = (originalAngle + (factor * 0.5 + 0.5) * pi) % (2 * pi);\n\n          xVia = this.from.x + (factor * 0.5 + 0.5) * radius * Math.sin(myAngle);\n          yVia = this.from.y + (factor * 0.5 + 0.5) * radius * Math.cos(myAngle);\n        } else if (type === 'curvedCCW') {\n          dx = this.to.x - this.from.x;\n          dy = this.from.y - this.to.y;\n          var radius = Math.sqrt(dx * dx + dy * dy);\n          var pi = Math.PI;\n\n          var originalAngle = Math.atan2(dy, dx);\n          var myAngle = (originalAngle + (-factor * 0.5 + 0.5) * pi) % (2 * pi);\n\n          xVia = this.from.x + (factor * 0.5 + 0.5) * radius * Math.sin(myAngle);\n          yVia = this.from.y + (factor * 0.5 + 0.5) * radius * Math.cos(myAngle);\n        } else {\n          // continuous\n          if (Math.abs(this.from.x - this.to.x) &lt;= Math.abs(this.from.y - this.to.y)) {\n            if (this.from.y &gt;= this.to.y) {\n              if (this.from.x &lt;= this.to.x) {\n                xVia = this.from.x + factor * dy;\n                yVia = this.from.y - factor * dy;\n                xVia = this.to.x &lt; xVia ? this.to.x : xVia;\n              } else if (this.from.x &gt; this.to.x) {\n                xVia = this.from.x - factor * dy;\n                yVia = this.from.y - factor * dy;\n                xVia = this.to.x &gt; xVia ? this.to.x : xVia;\n              }\n            } else if (this.from.y &lt; this.to.y) {\n              if (this.from.x &lt;= this.to.x) {\n                xVia = this.from.x + factor * dy;\n                yVia = this.from.y + factor * dy;\n                xVia = this.to.x &lt; xVia ? this.to.x : xVia;\n              } else if (this.from.x &gt; this.to.x) {\n                xVia = this.from.x - factor * dy;\n                yVia = this.from.y + factor * dy;\n                xVia = this.to.x &gt; xVia ? this.to.x : xVia;\n              }\n            }\n          } else if (Math.abs(this.from.x - this.to.x) &gt; Math.abs(this.from.y - this.to.y)) {\n            if (this.from.y &gt;= this.to.y) {\n              if (this.from.x &lt;= this.to.x) {\n                xVia = this.from.x + factor * dx;\n                yVia = this.from.y - factor * dx;\n                yVia = this.to.y &gt; yVia ? this.to.y : yVia;\n              } else if (this.from.x &gt; this.to.x) {\n                xVia = this.from.x - factor * dx;\n                yVia = this.from.y - factor * dx;\n                yVia = this.to.y &gt; yVia ? this.to.y : yVia;\n              }\n            } else if (this.from.y &lt; this.to.y) {\n              if (this.from.x &lt;= this.to.x) {\n                xVia = this.from.x + factor * dx;\n                yVia = this.from.y + factor * dx;\n                yVia = this.to.y &lt; yVia ? this.to.y : yVia;\n              } else if (this.from.x &gt; this.to.x) {\n                xVia = this.from.x - factor * dx;\n                yVia = this.from.y + factor * dx;\n                yVia = this.to.y &lt; yVia ? this.to.y : yVia;\n              }\n            }\n          }\n        }\n        return { x: xVia, y: yVia };\n      }\n    }, {\n      key: '_findBorderPosition',\n      value: function _findBorderPosition(nearNode, ctx) {\n        var options = arguments.length &lt;= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n        return this._findBorderPositionBezier(nearNode, ctx, options.via);\n      }\n    }, {\n      key: '_getDistanceToEdge',\n      value: function _getDistanceToEdge(x1, y1, x2, y2, x3, y3) {\n        var viaNode = arguments.length &lt;= 6 || arguments[6] === undefined ? this._getViaCoordinates() : arguments[6];\n        // x3,y3 is the point\n        return this._getDistanceToBezierEdge(x1, y1, x2, y2, x3, y3, viaNode);\n      }\n\n      /**\n       * Combined function of pointOnLine and pointOnBezier. This gives the coordinates of a point on the line at a certain percentage of the way\n       * @param percentage\n       * @param viaNode\n       * @returns {{x: number, y: number}}\n       * @private\n       */\n    }, {\n      key: 'getPoint',\n      value: function getPoint(percentage) {\n        var viaNode = arguments.length &lt;= 1 || arguments[1] === undefined ? this._getViaCoordinates() : arguments[1];\n\n        var t = percentage;\n        var x = Math.pow(1 - t, 2) * this.fromPoint.x + 2 * t * (1 - t) * viaNode.x + Math.pow(t, 2) * this.toPoint.x;\n        var y = Math.pow(1 - t, 2) * this.fromPoint.y + 2 * t * (1 - t) * viaNode.y + Math.pow(t, 2) * this.toPoint.y;\n\n        return { x: x, y: y };\n      }\n    }]);\n\n    return BezierEdgeStatic;\n  })(_utilBezierEdgeBase2['default']);\n\n  exports['default'] = BezierEdgeStatic;\n  module.exports = exports['default'];\n\n/***/ },\n/* 88 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' &amp;&amp; superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _utilEdgeBase = __webpack_require__(85);\n\n  var _utilEdgeBase2 = _interopRequireDefault(_utilEdgeBase);\n\n  var StraightEdge = (function (_EdgeBase) {\n    _inherits(StraightEdge, _EdgeBase);\n\n    function StraightEdge(options, body, labelModule) {\n      _classCallCheck(this, StraightEdge);\n\n      _get(Object.getPrototypeOf(StraightEdge.prototype), 'constructor', this).call(this, options, body, labelModule);\n    }\n\n    /**\n     * Draw a line between two nodes\n     * @param {CanvasRenderingContext2D} ctx\n     * @private\n     */\n\n    _createClass(StraightEdge, [{\n      key: '_line',\n      value: function _line(ctx) {\n        // draw a straight line\n        ctx.beginPath();\n        ctx.moveTo(this.fromPoint.x, this.fromPoint.y);\n        ctx.lineTo(this.toPoint.x, this.toPoint.y);\n        // draw shadow if enabled\n        this.enableShadow(ctx);\n        ctx.stroke();\n        this.disableShadow(ctx);\n      }\n    }, {\n      key: 'getViaNode',\n      value: function getViaNode() {\n        return undefined;\n      }\n\n      /**\n       * Combined function of pointOnLine and pointOnBezier. This gives the coordinates of a point on the line at a certain percentage of the way\n       * @param percentage\n       * @param via\n       * @returns {{x: number, y: number}}\n       * @private\n       */\n    }, {\n      key: 'getPoint',\n      value: function getPoint(percentage) {\n        return {\n          x: (1 - percentage) * this.fromPoint.x + percentage * this.toPoint.x,\n          y: (1 - percentage) * this.fromPoint.y + percentage * this.toPoint.y\n        };\n      }\n    }, {\n      key: '_findBorderPosition',\n      value: function _findBorderPosition(nearNode, ctx) {\n        var node1 = this.to;\n        var node2 = this.from;\n        if (nearNode.id === this.from.id) {\n          node1 = this.from;\n          node2 = this.to;\n        }\n\n        var angle = Math.atan2(node1.y - node2.y, node1.x - node2.x);\n        var dx = node1.x - node2.x;\n        var dy = node1.y - node2.y;\n        var edgeSegmentLength = Math.sqrt(dx * dx + dy * dy);\n        var toBorderDist = nearNode.distanceToBorder(ctx, angle);\n        var toBorderPoint = (edgeSegmentLength - toBorderDist) / edgeSegmentLength;\n\n        var borderPos = {};\n        borderPos.x = (1 - toBorderPoint) * node2.x + toBorderPoint * node1.x;\n        borderPos.y = (1 - toBorderPoint) * node2.y + toBorderPoint * node1.y;\n\n        return borderPos;\n      }\n    }, {\n      key: '_getDistanceToEdge',\n      value: function _getDistanceToEdge(x1, y1, x2, y2, x3, y3) {\n        // x3,y3 is the point\n        return this._getDistanceToLine(x1, y1, x2, y2, x3, y3);\n      }\n    }]);\n\n    return StraightEdge;\n  })(_utilEdgeBase2['default']);\n\n  exports['default'] = StraightEdge;\n  module.exports = exports['default'];\n\n/***/ },\n/* 89 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var _componentsPhysicsBarnesHutSolver = __webpack_require__(90);\n\n  var _componentsPhysicsBarnesHutSolver2 = _interopRequireDefault(_componentsPhysicsBarnesHutSolver);\n\n  var _componentsPhysicsRepulsionSolver = __webpack_require__(91);\n\n  var _componentsPhysicsRepulsionSolver2 = _interopRequireDefault(_componentsPhysicsRepulsionSolver);\n\n  var _componentsPhysicsHierarchicalRepulsionSolver = __webpack_require__(92);\n\n  var _componentsPhysicsHierarchicalRepulsionSolver2 = _interopRequireDefault(_componentsPhysicsHierarchicalRepulsionSolver);\n\n  var _componentsPhysicsSpringSolver = __webpack_require__(93);\n\n  var _componentsPhysicsSpringSolver2 = _interopRequireDefault(_componentsPhysicsSpringSolver);\n\n  var _componentsPhysicsHierarchicalSpringSolver = __webpack_require__(94);\n\n  var _componentsPhysicsHierarchicalSpringSolver2 = _interopRequireDefault(_componentsPhysicsHierarchicalSpringSolver);\n\n  var _componentsPhysicsCentralGravitySolver = __webpack_require__(95);\n\n  var _componentsPhysicsCentralGravitySolver2 = _interopRequireDefault(_componentsPhysicsCentralGravitySolver);\n\n  var _componentsPhysicsFA2BasedRepulsionSolver = __webpack_require__(96);\n\n  var _componentsPhysicsFA2BasedRepulsionSolver2 = _interopRequireDefault(_componentsPhysicsFA2BasedRepulsionSolver);\n\n  var _componentsPhysicsFA2BasedCentralGravitySolver = __webpack_require__(97);\n\n  var _componentsPhysicsFA2BasedCentralGravitySolver2 = _interopRequireDefault(_componentsPhysicsFA2BasedCentralGravitySolver);\n\n  var util = __webpack_require__(1);\n\n  var PhysicsEngine = (function () {\n    function PhysicsEngine(body) {\n      _classCallCheck(this, PhysicsEngine);\n\n      this.body = body;\n      this.physicsBody = { physicsNodeIndices: [], physicsEdgeIndices: [], forces: {}, velocities: {} };\n\n      this.physicsEnabled = true;\n      this.simulationInterval = 1000 / 60;\n      this.requiresTimeout = true;\n      this.previousStates = {};\n      this.referenceState = {};\n      this.freezeCache = {};\n      this.renderTimer = undefined;\n\n      // parameters for the adaptive timestep\n      this.adaptiveTimestep = false;\n      this.adaptiveTimestepEnabled = false;\n      this.adaptiveCounter = 0;\n      this.adaptiveInterval = 3;\n\n      this.stabilized = false;\n      this.startedStabilization = false;\n      this.stabilizationIterations = 0;\n      this.ready = false; // will be set to true if the stabilize\n\n      // default options\n      this.options = {};\n      this.defaultOptions = {\n        enabled: true,\n        barnesHut: {\n          theta: 0.5,\n          gravitationalConstant: -2000,\n          centralGravity: 0.3,\n          springLength: 95,\n          springConstant: 0.04,\n          damping: 0.09,\n          avoidOverlap: 0\n        },\n        forceAtlas2Based: {\n          theta: 0.5,\n          gravitationalConstant: -50,\n          centralGravity: 0.01,\n          springConstant: 0.08,\n          springLength: 100,\n          damping: 0.4,\n          avoidOverlap: 0\n        },\n        repulsion: {\n          centralGravity: 0.2,\n          springLength: 200,\n          springConstant: 0.05,\n          nodeDistance: 100,\n          damping: 0.09,\n          avoidOverlap: 0\n        },\n        hierarchicalRepulsion: {\n          centralGravity: 0.0,\n          springLength: 100,\n          springConstant: 0.01,\n          nodeDistance: 120,\n          damping: 0.09\n        },\n        maxVelocity: 50,\n        minVelocity: 0.75, // px/s\n        solver: 'barnesHut',\n        stabilization: {\n          enabled: true,\n          iterations: 1000, // maximum number of iteration to stabilize\n          updateInterval: 50,\n          onlyDynamicEdges: false,\n          fit: true\n        },\n        timestep: 0.5,\n        adaptiveTimestep: true\n      };\n      util.extend(this.options, this.defaultOptions);\n      this.timestep = 0.5;\n      this.layoutFailed = false;\n\n      this.bindEventListeners();\n    }\n\n    _createClass(PhysicsEngine, [{\n      key: 'bindEventListeners',\n      value: function bindEventListeners() {\n        var _this = this;\n\n        this.body.emitter.on('initPhysics', function () {\n          _this.initPhysics();\n        });\n        this.body.emitter.on('_layoutFailed', function () {\n          _this.layoutFailed = true;\n        });\n        this.body.emitter.on('resetPhysics', function () {\n          _this.stopSimulation();_this.ready = false;\n        });\n        this.body.emitter.on('disablePhysics', function () {\n          _this.physicsEnabled = false;_this.stopSimulation();\n        });\n        this.body.emitter.on('restorePhysics', function () {\n          _this.setOptions(_this.options);\n          if (_this.ready === true) {\n            _this.startSimulation();\n          }\n        });\n        this.body.emitter.on('startSimulation', function () {\n          if (_this.ready === true) {\n            _this.startSimulation();\n          }\n        });\n        this.body.emitter.on('stopSimulation', function () {\n          _this.stopSimulation();\n        });\n        this.body.emitter.on('destroy', function () {\n          _this.stopSimulation(false);\n          _this.body.emitter.off();\n        });\n        // this event will trigger a rebuilding of the cache everything. Used when nodes or edges have been added or removed.\n        this.body.emitter.on(\&quot;_dataChanged\&quot;, function () {\n          // update shortcut lists\n          _this.updatePhysicsData();\n        });\n\n        // debug: show forces\n        // this.body.emitter.on(\&quot;afterDrawing\&quot;, (ctx) =&gt; {this._drawForces(ctx);});\n      }\n\n      /**\n       * set the physics options\n       * @param options\n       */\n    }, {\n      key: 'setOptions',\n      value: function setOptions(options) {\n        if (options !== undefined) {\n          if (options === false) {\n            this.options.enabled = false;\n            this.physicsEnabled = false;\n            this.stopSimulation();\n          } else {\n            this.physicsEnabled = true;\n            util.selectiveNotDeepExtend(['stabilization'], this.options, options);\n            util.mergeOptions(this.options, options, 'stabilization');\n\n            if (options.enabled === undefined) {\n              this.options.enabled = true;\n            }\n\n            if (this.options.enabled === false) {\n              this.physicsEnabled = false;\n              this.stopSimulation();\n            }\n\n            // set the timestep\n            this.timestep = this.options.timestep;\n          }\n        }\n        this.init();\n      }\n\n      /**\n       * configure the engine.\n       */\n    }, {\n      key: 'init',\n      value: function init() {\n        var options;\n        if (this.options.solver === 'forceAtlas2Based') {\n          options = this.options.forceAtlas2Based;\n          this.nodesSolver = new _componentsPhysicsFA2BasedRepulsionSolver2['default'](this.body, this.physicsBody, options);\n          this.edgesSolver = new _componentsPhysicsSpringSolver2['default'](this.body, this.physicsBody, options);\n          this.gravitySolver = new _componentsPhysicsFA2BasedCentralGravitySolver2['default'](this.body, this.physicsBody, options);\n        } else if (this.options.solver === 'repulsion') {\n          options = this.options.repulsion;\n          this.nodesSolver = new _componentsPhysicsRepulsionSolver2['default'](this.body, this.physicsBody, options);\n          this.edgesSolver = new _componentsPhysicsSpringSolver2['default'](this.body, this.physicsBody, options);\n          this.gravitySolver = new _componentsPhysicsCentralGravitySolver2['default'](this.body, this.physicsBody, options);\n        } else if (this.options.solver === 'hierarchicalRepulsion') {\n          options = this.options.hierarchicalRepulsion;\n          this.nodesSolver = new _componentsPhysicsHierarchicalRepulsionSolver2['default'](this.body, this.physicsBody, options);\n          this.edgesSolver = new _componentsPhysicsHierarchicalSpringSolver2['default'](this.body, this.physicsBody, options);\n          this.gravitySolver = new _componentsPhysicsCentralGravitySolver2['default'](this.body, this.physicsBody, options);\n        } else {\n          // barnesHut\n          options = this.options.barnesHut;\n          this.nodesSolver = new _componentsPhysicsBarnesHutSolver2['default'](this.body, this.physicsBody, options);\n          this.edgesSolver = new _componentsPhysicsSpringSolver2['default'](this.body, this.physicsBody, options);\n          this.gravitySolver = new _componentsPhysicsCentralGravitySolver2['default'](this.body, this.physicsBody, options);\n        }\n\n        this.modelOptions = options;\n      }\n\n      /**\n       * initialize the engine\n       */\n    }, {\n      key: 'initPhysics',\n      value: function initPhysics() {\n        if (this.physicsEnabled === true &amp;&amp; this.options.enabled === true) {\n          if (this.options.stabilization.enabled === true) {\n            this.stabilize();\n          } else {\n            this.stabilized = false;\n            this.ready = true;\n            this.body.emitter.emit('fit', {}, this.layoutFailed); // if the layout failed, we use the approximation for the zoom\n            this.startSimulation();\n          }\n        } else {\n          this.ready = true;\n          this.body.emitter.emit('fit');\n        }\n      }\n\n      /**\n       * Start the simulation\n       */\n    }, {\n      key: 'startSimulation',\n      value: function startSimulation() {\n        if (this.physicsEnabled === true &amp;&amp; this.options.enabled === true) {\n          this.stabilized = false;\n\n          // when visible, adaptivity is disabled.\n          this.adaptiveTimestep = false;\n\n          // this sets the width of all nodes initially which could be required for the avoidOverlap\n          this.body.emitter.emit(\&quot;_resizeNodes\&quot;);\n          if (this.viewFunction === undefined) {\n            this.viewFunction = this.simulationStep.bind(this);\n            this.body.emitter.on('initRedraw', this.viewFunction);\n            this.body.emitter.emit('_startRendering');\n          }\n        } else {\n          this.body.emitter.emit('_redraw');\n        }\n      }\n\n      /**\n       * Stop the simulation, force stabilization.\n       */\n    }, {\n      key: 'stopSimulation',\n      value: function stopSimulation() {\n        var emit = arguments.length &lt;= 0 || arguments[0] === undefined ? true : arguments[0];\n\n        this.stabilized = true;\n        if (emit === true) {\n          this._emitStabilized();\n        }\n        if (this.viewFunction !== undefined) {\n          this.body.emitter.off('initRedraw', this.viewFunction);\n          this.viewFunction = undefined;\n          if (emit === true) {\n            this.body.emitter.emit('_stopRendering');\n          }\n        }\n      }\n\n      /**\n       * The viewFunction inserts this step into each render loop. It calls the physics tick and handles the cleanup at stabilized.\n       *\n       */\n    }, {\n      key: 'simulationStep',\n      value: function simulationStep() {\n        // check if the physics have settled\n        var startTime = Date.now();\n        this.physicsTick();\n        var physicsTime = Date.now() - startTime;\n\n        // run double speed if it is a little graph\n        if ((physicsTime &lt; 0.4 * this.simulationInterval || this.runDoubleSpeed === true) &amp;&amp; this.stabilized === false) {\n          this.physicsTick();\n\n          // this makes sure there is no jitter. The decision is taken once to run it at double speed.\n          this.runDoubleSpeed = true;\n        }\n\n        if (this.stabilized === true) {\n          this.stopSimulation();\n        }\n      }\n\n      /**\n       * trigger the stabilized event.\n       * @private\n       */\n    }, {\n      key: '_emitStabilized',\n      value: function _emitStabilized() {\n        var _this2 = this;\n\n        var amountOfIterations = arguments.length &lt;= 0 || arguments[0] === undefined ? this.stabilizationIterations : arguments[0];\n\n        if (this.stabilizationIterations &gt; 1 || this.startedStabilization === true) {\n          setTimeout(function () {\n            _this2.body.emitter.emit('stabilized', { iterations: amountOfIterations });\n            _this2.startedStabilization = false;\n            _this2.stabilizationIterations = 0;\n          }, 0);\n        }\n      }\n\n      /**\n       * A single simulation step (or 'tick') in the physics simulation\n       *\n       * @private\n       */\n    }, {\n      key: 'physicsTick',\n      value: function physicsTick() {\n        // this is here to ensure that there is no start event when the network is already stable.\n        if (this.startedStabilization === false) {\n          this.body.emitter.emit('startStabilizing');\n          this.startedStabilization = true;\n        }\n\n        if (this.stabilized === false) {\n          // adaptivity means the timestep adapts to the situation, only applicable for stabilization\n          if (this.adaptiveTimestep === true &amp;&amp; this.adaptiveTimestepEnabled === true) {\n            // this is the factor for increasing the timestep on success.\n            var factor = 1.2;\n\n            // we assume the adaptive interval is\n            if (this.adaptiveCounter % this.adaptiveInterval === 0) {\n              // we leave the timestep stable for \&quot;interval\&quot; iterations.\n              // first the big step and revert. Revert saves the reference state.\n              this.timestep = 2 * this.timestep;\n              this.calculateForces();\n              this.moveNodes();\n              this.revert();\n\n              // now the normal step. Since this is the last step, it is the more stable one and we will take this.\n              this.timestep = 0.5 * this.timestep;\n\n              // since it's half the step, we do it twice.\n              this.calculateForces();\n              this.moveNodes();\n              this.calculateForces();\n              this.moveNodes();\n\n              // we compare the two steps. if it is acceptable we double the step.\n              if (this._evaluateStepQuality() === true) {\n                this.timestep = factor * this.timestep;\n              } else {\n                // if not, we decrease the step to a minimum of the options timestep.\n                // if the decreased timestep is smaller than the options step, we do not reset the counter\n                // we assume that the options timestep is stable enough.\n                if (this.timestep / factor &lt; this.options.timestep) {\n                  this.timestep = this.options.timestep;\n                } else {\n                  // if the timestep was larger than 2 times the option one we check the adaptivity again to ensure\n                  // that large instabilities do not form.\n                  this.adaptiveCounter = -1; // check again next iteration\n                  this.timestep = Math.max(this.options.timestep, this.timestep / factor);\n                }\n              }\n            } else {\n              // normal step, keeping timestep constant\n              this.calculateForces();\n              this.moveNodes();\n            }\n\n            // increment the counter\n            this.adaptiveCounter += 1;\n          } else {\n            // case for the static timestep, we reset it to the one in options and take a normal step.\n            this.timestep = this.options.timestep;\n            this.calculateForces();\n            this.moveNodes();\n          }\n\n          // determine if the network has stabilzied\n          if (this.stabilized === true) {\n            this.revert();\n          }\n\n          this.stabilizationIterations++;\n        }\n      }\n\n      /**\n       * Nodes and edges can have the physics toggles on or off. A collection of indices is created here so we can skip the check all the time.\n       *\n       * @private\n       */\n    }, {\n      key: 'updatePhysicsData',\n      value: function updatePhysicsData() {\n        this.physicsBody.forces = {};\n        this.physicsBody.physicsNodeIndices = [];\n        this.physicsBody.physicsEdgeIndices = [];\n        var nodes = this.body.nodes;\n        var edges = this.body.edges;\n\n        // get node indices for physics\n        for (var nodeId in nodes) {\n          if (nodes.hasOwnProperty(nodeId)) {\n            if (nodes[nodeId].options.physics === true) {\n              this.physicsBody.physicsNodeIndices.push(nodes[nodeId].id);\n            }\n          }\n        }\n\n        // get edge indices for physics\n        for (var edgeId in edges) {\n          if (edges.hasOwnProperty(edgeId)) {\n            if (edges[edgeId].options.physics === true) {\n              this.physicsBody.physicsEdgeIndices.push(edges[edgeId].id);\n            }\n          }\n        }\n\n        // get the velocity and the forces vector\n        for (var i = 0; i &lt; this.physicsBody.physicsNodeIndices.length; i++) {\n          var nodeId = this.physicsBody.physicsNodeIndices[i];\n          this.physicsBody.forces[nodeId] = { x: 0, y: 0 };\n\n          // forces can be reset because they are recalculated. Velocities have to persist.\n          if (this.physicsBody.velocities[nodeId] === undefined) {\n            this.physicsBody.velocities[nodeId] = { x: 0, y: 0 };\n          }\n        }\n\n        // clean deleted nodes from the velocity vector\n        for (var nodeId in this.physicsBody.velocities) {\n          if (nodes[nodeId] === undefined) {\n            delete this.physicsBody.velocities[nodeId];\n          }\n        }\n      }\n\n      /**\n       * Revert the simulation one step. This is done so after stabilization, every new start of the simulation will also say stabilized.\n       */\n    }, {\n      key: 'revert',\n      value: function revert() {\n        var nodeIds = Object.keys(this.previousStates);\n        var nodes = this.body.nodes;\n        var velocities = this.physicsBody.velocities;\n        this.referenceState = {};\n\n        for (var i = 0; i &lt; nodeIds.length; i++) {\n          var nodeId = nodeIds[i];\n          if (nodes[nodeId] !== undefined) {\n            if (nodes[nodeId].options.physics === true) {\n              this.referenceState[nodeId] = {\n                positions: { x: nodes[nodeId].x, y: nodes[nodeId].y }\n              };\n              velocities[nodeId].x = this.previousStates[nodeId].vx;\n              velocities[nodeId].y = this.previousStates[nodeId].vy;\n              nodes[nodeId].x = this.previousStates[nodeId].x;\n              nodes[nodeId].y = this.previousStates[nodeId].y;\n            }\n          } else {\n            delete this.previousStates[nodeId];\n          }\n        }\n      }\n\n      /**\n       * This compares the reference state to the current state\n       */\n    }, {\n      key: '_evaluateStepQuality',\n      value: function _evaluateStepQuality() {\n        var dx = undefined,\n            dy = undefined,\n            dpos = undefined;\n        var nodes = this.body.nodes;\n        var reference = this.referenceState;\n        var posThreshold = 0.3;\n\n        for (var nodeId in this.referenceState) {\n          if (this.referenceState.hasOwnProperty(nodeId) &amp;&amp; nodes[nodeId] !== undefined) {\n            dx = nodes[nodeId].x - reference[nodeId].positions.x;\n            dy = nodes[nodeId].y - reference[nodeId].positions.y;\n\n            dpos = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n\n            if (dpos &gt; posThreshold) {\n              return false;\n            }\n          }\n        }\n        return true;\n      }\n\n      /**\n       * move the nodes one timestep and check if they are stabilized\n       * @returns {boolean}\n       */\n    }, {\n      key: 'moveNodes',\n      value: function moveNodes() {\n        var nodeIndices = this.physicsBody.physicsNodeIndices;\n        var maxVelocity = this.options.maxVelocity ? this.options.maxVelocity : 1e9;\n        var maxNodeVelocity = 0;\n        var averageNodeVelocity = 0;\n\n        // the velocity threshold (energy in the system) for the adaptivity toggle\n        var velocityAdaptiveThreshold = 5;\n\n        for (var i = 0; i &lt; nodeIndices.length; i++) {\n          var nodeId = nodeIndices[i];\n          var nodeVelocity = this._performStep(nodeId, maxVelocity);\n          // stabilized is true if stabilized is true and velocity is smaller than vmin --&gt; all nodes must be stabilized\n          maxNodeVelocity = Math.max(maxNodeVelocity, nodeVelocity);\n          averageNodeVelocity += nodeVelocity;\n        }\n\n        // evaluating the stabilized and adaptiveTimestepEnabled conditions\n        this.adaptiveTimestepEnabled = averageNodeVelocity / nodeIndices.length &lt; velocityAdaptiveThreshold;\n        this.stabilized = maxNodeVelocity &lt; this.options.minVelocity;\n      }\n\n      /**\n       * Perform the actual step\n       *\n       * @param nodeId\n       * @param maxVelocity\n       * @returns {number}\n       * @private\n       */\n    }, {\n      key: '_performStep',\n      value: function _performStep(nodeId, maxVelocity) {\n        var node = this.body.nodes[nodeId];\n        var timestep = this.timestep;\n        var forces = this.physicsBody.forces;\n        var velocities = this.physicsBody.velocities;\n\n        // store the state so we can revert\n        this.previousStates[nodeId] = { x: node.x, y: node.y, vx: velocities[nodeId].x, vy: velocities[nodeId].y };\n\n        if (node.options.fixed.x === false) {\n          var dx = this.modelOptions.damping * velocities[nodeId].x; // damping force\n          var ax = (forces[nodeId].x - dx) / node.options.mass; // acceleration\n          velocities[nodeId].x += ax * timestep; // velocity\n          velocities[nodeId].x = Math.abs(velocities[nodeId].x) &gt; maxVelocity ? velocities[nodeId].x &gt; 0 ? maxVelocity : -maxVelocity : velocities[nodeId].x;\n          node.x += velocities[nodeId].x * timestep; // position\n        } else {\n            forces[nodeId].x = 0;\n            velocities[nodeId].x = 0;\n          }\n\n        if (node.options.fixed.y === false) {\n          var dy = this.modelOptions.damping * velocities[nodeId].y; // damping force\n          var ay = (forces[nodeId].y - dy) / node.options.mass; // acceleration\n          velocities[nodeId].y += ay * timestep; // velocity\n          velocities[nodeId].y = Math.abs(velocities[nodeId].y) &gt; maxVelocity ? velocities[nodeId].y &gt; 0 ? maxVelocity : -maxVelocity : velocities[nodeId].y;\n          node.y += velocities[nodeId].y * timestep; // position\n        } else {\n            forces[nodeId].y = 0;\n            velocities[nodeId].y = 0;\n          }\n\n        var totalVelocity = Math.sqrt(Math.pow(velocities[nodeId].x, 2) + Math.pow(velocities[nodeId].y, 2));\n        return totalVelocity;\n      }\n\n      /**\n       * calculate the forces for one physics iteration.\n       */\n    }, {\n      key: 'calculateForces',\n      value: function calculateForces() {\n        this.gravitySolver.solve();\n        this.nodesSolver.solve();\n        this.edgesSolver.solve();\n      }\n\n      /**\n       * When initializing and stabilizing, we can freeze nodes with a predefined position. This greatly speeds up stabilization\n       * because only the supportnodes for the smoothCurves have to settle.\n       *\n       * @private\n       */\n    }, {\n      key: '_freezeNodes',\n      value: function _freezeNodes() {\n        var nodes = this.body.nodes;\n        for (var id in nodes) {\n          if (nodes.hasOwnProperty(id)) {\n            if (nodes[id].x &amp;&amp; nodes[id].y) {\n              this.freezeCache[id] = { x: nodes[id].options.fixed.x, y: nodes[id].options.fixed.y };\n              nodes[id].options.fixed.x = true;\n              nodes[id].options.fixed.y = true;\n            }\n          }\n        }\n      }\n\n      /**\n       * Unfreezes the nodes that have been frozen by _freezeDefinedNodes.\n       *\n       * @private\n       */\n    }, {\n      key: '_restoreFrozenNodes',\n      value: function _restoreFrozenNodes() {\n        var nodes = this.body.nodes;\n        for (var id in nodes) {\n          if (nodes.hasOwnProperty(id)) {\n            if (this.freezeCache[id] !== undefined) {\n              nodes[id].options.fixed.x = this.freezeCache[id].x;\n              nodes[id].options.fixed.y = this.freezeCache[id].y;\n            }\n          }\n        }\n        this.freezeCache = {};\n      }\n\n      /**\n       * Find a stable position for all nodes\n       */\n    }, {\n      key: 'stabilize',\n      value: function stabilize() {\n        var _this3 = this;\n\n        var iterations = arguments.length &lt;= 0 || arguments[0] === undefined ? this.options.stabilization.iterations : arguments[0];\n\n        if (typeof iterations !== 'number') {\n          console.log('The stabilize method needs a numeric amount of iterations. Switching to default: ', this.options.stabilization.iterations);\n          iterations = this.options.stabilization.iterations;\n        }\n\n        if (this.physicsBody.physicsNodeIndices.length === 0) {\n          this.ready = true;\n          return;\n        }\n\n        // enable adaptive timesteps\n        this.adaptiveTimestep = true &amp;&amp; this.options.adaptiveTimestep;\n\n        // this sets the width of all nodes initially which could be required for the avoidOverlap\n        this.body.emitter.emit(\&quot;_resizeNodes\&quot;);\n\n        // stop the render loop\n        this.stopSimulation();\n\n        // set stabilze to false\n        this.stabilized = false;\n\n        // block redraw requests\n        this.body.emitter.emit('_blockRedraw');\n        this.targetIterations = iterations;\n\n        // start the stabilization\n        if (this.options.stabilization.onlyDynamicEdges === true) {\n          this._freezeNodes();\n        }\n        this.stabilizationIterations = 0;\n\n        setTimeout(function () {\n          return _this3._stabilizationBatch();\n        }, 0);\n      }\n\n      /**\n       * One batch of stabilization\n       * @private\n       */\n    }, {\n      key: '_stabilizationBatch',\n      value: function _stabilizationBatch() {\n        // this is here to ensure that there is at least one start event.\n        if (this.startedStabilization === false) {\n          this.body.emitter.emit('startStabilizing');\n          this.startedStabilization = true;\n        }\n\n        var count = 0;\n        while (this.stabilized === false &amp;&amp; count &lt; this.options.stabilization.updateInterval &amp;&amp; this.stabilizationIterations &lt; this.targetIterations) {\n          this.physicsTick();\n          count++;\n        }\n\n        if (this.stabilized === false &amp;&amp; this.stabilizationIterations &lt; this.targetIterations) {\n          this.body.emitter.emit('stabilizationProgress', { iterations: this.stabilizationIterations, total: this.targetIterations });\n          setTimeout(this._stabilizationBatch.bind(this), 0);\n        } else {\n          this._finalizeStabilization();\n        }\n      }\n\n      /**\n       * Wrap up the stabilization, fit and emit the events.\n       * @private\n       */\n    }, {\n      key: '_finalizeStabilization',\n      value: function _finalizeStabilization() {\n        this.body.emitter.emit('_allowRedraw');\n        if (this.options.stabilization.fit === true) {\n          this.body.emitter.emit('fit');\n        }\n\n        if (this.options.stabilization.onlyDynamicEdges === true) {\n          this._restoreFrozenNodes();\n        }\n\n        this.body.emitter.emit('stabilizationIterationsDone');\n        this.body.emitter.emit('_requestRedraw');\n\n        if (this.stabilized === true) {\n          this._emitStabilized();\n        } else {\n          this.startSimulation();\n        }\n\n        this.ready = true;\n      }\n    }, {\n      key: '_drawForces',\n      value: function _drawForces(ctx) {\n        for (var i = 0; i &lt; this.physicsBody.physicsNodeIndices.length; i++) {\n          var node = this.body.nodes[this.physicsBody.physicsNodeIndices[i]];\n          var force = this.physicsBody.forces[this.physicsBody.physicsNodeIndices[i]];\n          var factor = 20;\n          var colorFactor = 0.03;\n          var forceSize = Math.sqrt(Math.pow(force.x, 2) + Math.pow(force.x, 2));\n\n          var size = Math.min(Math.max(5, forceSize), 15);\n          var arrowSize = 3 * size;\n\n          var color = util.HSVToHex((180 - Math.min(1, Math.max(0, colorFactor * forceSize)) * 180) / 360, 1, 1);\n\n          ctx.lineWidth = size;\n          ctx.strokeStyle = color;\n          ctx.beginPath();\n          ctx.moveTo(node.x, node.y);\n          ctx.lineTo(node.x + factor * force.x, node.y + factor * force.y);\n          ctx.stroke();\n\n          var angle = Math.atan2(force.y, force.x);\n          ctx.fillStyle = color;\n          ctx.arrow(node.x + factor * force.x + Math.cos(angle) * arrowSize, node.y + factor * force.y + Math.sin(angle) * arrowSize, angle, arrowSize);\n          ctx.fill();\n        }\n      }\n    }]);\n\n    return PhysicsEngine;\n  })();\n\n  exports['default'] = PhysicsEngine;\n  module.exports = exports['default'];\n\n/***/ },\n/* 90 */\n/***/ function(module, exports) {\n\n  \&quot;use strict\&quot;;\n\n  Object.defineProperty(exports, \&quot;__esModule\&quot;, {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\&quot;value\&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\&quot;Cannot call a class as a function\&quot;); } }\n\n  var BarnesHutSolver = (function () {\n    function BarnesHutSolver(body, physicsBody, options) {\n      _classCallCheck(this, BarnesHutSolver);\n\n      this.body = body;\n      this.physicsBody = physicsBody;\n      this.barnesHutTree;\n      this.setOptions(options);\n      this.randomSeed = 5;\n\n      // debug: show grid\n      //this.body.emitter.on(\&quot;afterDrawing\&quot;, (ctx) =&gt; {this._debug(ctx,'#ff0000')})\n    }\n\n    _createClass(BarnesHutSolver, [{\n      key: \&quot;setOptions\&quot;,\n      value: function setOptions(options) {\n        this.options = options;\n        this.thetaInversed = 1 / this.options.theta;\n        this.overlapAvoidanceFactor = 1 - Math.max(0, Math.min(1, this.options.avoidOverlap)); // if 1 then min distance = 0.5, if 0.5 then min distance = 0.5 + 0.5*node.shape.radius\n      }\n    }, {\n      key: \&quot;seededRandom\&quot;,\n      value: function seededRandom() {\n        var x = Math.sin(this.randomSeed++) * 10000;\n        return x - Math.floor(x);\n      }\n\n      /**\n       * This function calculates the forces the nodes apply on each other based on a gravitational model.\n       * The Barnes Hut method is used to speed up this N-body simulation.\n       *\n       * @private\n       */\n    }, {\n      key: \&quot;solve\&quot;,\n      value: function solve() {\n        if (this.options.gravitationalConstant !== 0 &amp;&amp; this.physicsBody.physicsNodeIndices.length &gt; 0) {\n          var node = undefined;\n          var nodes = this.body.nodes;\n          var nodeIndices = this.physicsBody.physicsNodeIndices;\n          var nodeCount = nodeIndices.length;\n\n          // create the tree\n          var barnesHutTree = this._formBarnesHutTree(nodes, nodeIndices);\n\n          // for debugging\n          this.barnesHutTree = barnesHutTree;\n\n          // place the nodes one by one recursively\n          for (var i = 0; i &lt; nodeCount; i++) {\n            node = nodes[nodeIndices[i]];\n            if (node.options.mass &gt; 0) {\n              // starting with root is irrelevant, it never passes the BarnesHutSolver condition\n              this._getForceContribution(barnesHutTree.root.children.NW, node);\n              this._getForceContribution(barnesHutTree.root.children.NE, node);\n              this._getForceContribution(barnesHutTree.root.children.SW, node);\n              this._getForceContribution(barnesHutTree.root.children.SE, node);\n            }\n          }\n        }\n      }\n\n      /**\n       * This function traverses the barnesHutTree. It checks when it can approximate distant nodes with their center of mass.\n       * If a region contains a single node, we check if it is not itself, then we apply the force.\n       *\n       * @param parentBranch\n       * @param node\n       * @private\n       */\n    }, {\n      key: \&quot;_getForceContribution\&quot;,\n      value: function _getForceContribution(parentBranch, node) {\n        // we get no force contribution from an empty region\n        if (parentBranch.childrenCount &gt; 0) {\n          var dx = undefined,\n              dy = undefined,\n              distance = undefined;\n\n          // get the distance from the center of mass to the node.\n          dx = parentBranch.centerOfMass.x - node.x;\n          dy = parentBranch.centerOfMass.y - node.y;\n          distance = Math.sqrt(dx * dx + dy * dy);\n\n          // BarnesHutSolver condition\n          // original condition : s/d &lt; theta = passed  ===  d/s &gt; 1/theta = passed\n          // calcSize = 1/s --&gt; d * 1/s &gt; 1/theta = passed\n          if (distance * parentBranch.calcSize &gt; this.thetaInversed) {\n            this._calculateForces(distance, dx, dy, node, parentBranch);\n          } else {\n            // Did not pass the condition, go into children if available\n            if (parentBranch.childrenCount === 4) {\n              this._getForceContribution(parentBranch.children.NW, node);\n              this._getForceContribution(parentBranch.children.NE, node);\n              this._getForceContribution(parentBranch.children.SW, node);\n              this._getForceContribution(parentBranch.children.SE, node);\n            } else {\n              // parentBranch must have only one node, if it was empty we wouldnt be here\n              if (parentBranch.children.data.id != node.id) {\n                // if it is not self\n                this._calculateForces(distance, dx, dy, node, parentBranch);\n              }\n            }\n          }\n        }\n      }\n\n      /**\n       * Calculate the forces based on the distance.\n       *\n       * @param distance\n       * @param dx\n       * @param dy\n       * @param node\n       * @param parentBranch\n       * @private\n       */\n    }, {\n      key: \&quot;_calculateForces\&quot;,\n      value: function _calculateForces(distance, dx, dy, node, parentBranch) {\n        if (distance === 0) {\n          distance = 0.1;\n          dx = distance;\n        }\n\n        if (this.overlapAvoidanceFactor &lt; 1) {\n          distance = Math.max(0.1 + this.overlapAvoidanceFactor * node.shape.radius, distance - node.shape.radius);\n        }\n\n        // the dividing by the distance cubed instead of squared allows us to get the fx and fy components without sines and cosines\n        // it is shorthand for gravityforce with distance squared and fx = dx/distance * gravityForce\n        var gravityForce = this.options.gravitationalConstant * parentBranch.mass * node.options.mass / Math.pow(distance, 3);\n        var fx = dx * gravityForce;\n        var fy = dy * gravityForce;\n\n        this.physicsBody.forces[node.id].x += fx;\n        this.physicsBody.forces[node.id].y += fy;\n      }\n\n      /**\n       * This function constructs the barnesHut tree recursively. It creates the root, splits it and starts placing the nodes.\n       *\n       * @param nodes\n       * @param nodeIndices\n       * @private\n       */\n    }, {\n      key: \&quot;_formBarnesHutTree\&quot;,\n      value: function _formBarnesHutTree(nodes, nodeIndices) {\n        var node = undefined;\n        var nodeCount = nodeIndices.length;\n\n        var minX = nodes[nodeIndices[0]].x;\n        var minY = nodes[nodeIndices[0]].y;\n        var maxX = nodes[nodeIndices[0]].x;\n        var maxY = nodes[nodeIndices[0]].y;\n\n        // get the range of the nodes\n        for (var i = 1; i &lt; nodeCount; i++) {\n          var x = nodes[nodeIndices[i]].x;\n          var y = nodes[nodeIndices[i]].y;\n          if (nodes[nodeIndices[i]].options.mass &gt; 0) {\n            if (x &lt; minX) {\n              minX = x;\n            }\n            if (x &gt; maxX) {\n              maxX = x;\n            }\n            if (y &lt; minY) {\n              minY = y;\n            }\n            if (y &gt; maxY) {\n              maxY = y;\n            }\n          }\n        }\n        // make the range a square\n        var sizeDiff = Math.abs(maxX - minX) - Math.abs(maxY - minY); // difference between X and Y\n        if (sizeDiff &gt; 0) {\n          minY -= 0.5 * sizeDiff;\n          maxY += 0.5 * sizeDiff;\n        } // xSize &gt; ySize\n        else {\n            minX += 0.5 * sizeDiff;\n            maxX -= 0.5 * sizeDiff;\n          } // xSize &lt; ySize\n\n        var minimumTreeSize = 1e-5;\n        var rootSize = Math.max(minimumTreeSize, Math.abs(maxX - minX));\n        var halfRootSize = 0.5 * rootSize;\n        var centerX = 0.5 * (minX + maxX),\n            centerY = 0.5 * (minY + maxY);\n\n        // construct the barnesHutTree\n        var barnesHutTree = {\n          root: {\n            centerOfMass: { x: 0, y: 0 },\n            mass: 0,\n            range: {\n              minX: centerX - halfRootSize, maxX: centerX + halfRootSize,\n              minY: centerY - halfRootSize, maxY: centerY + halfRootSize\n            },\n            size: rootSize,\n            calcSize: 1 / rootSize,\n            children: { data: null },\n            maxWidth: 0,\n            level: 0,\n            childrenCount: 4\n          }\n        };\n        this._splitBranch(barnesHutTree.root);\n\n        // place the nodes one by one recursively\n        for (var i = 0; i &lt; nodeCount; i++) {\n          node = nodes[nodeIndices[i]];\n          if (node.options.mass &gt; 0) {\n            this._placeInTree(barnesHutTree.root, node);\n          }\n        }\n\n        // make global\n        return barnesHutTree;\n      }\n\n      /**\n       * this updates the mass of a branch. this is increased by adding a node.\n       *\n       * @param parentBranch\n       * @param node\n       * @private\n       */\n    }, {\n      key: \&quot;_updateBranchMass\&quot;,\n      value: function _updateBranchMass(parentBranch, node) {\n        var totalMass = parentBranch.mass + node.options.mass;\n        var totalMassInv = 1 / totalMass;\n\n        parentBranch.centerOfMass.x = parentBranch.centerOfMass.x * parentBranch.mass + node.x * node.options.mass;\n        parentBranch.centerOfMass.x *= totalMassInv;\n\n        parentBranch.centerOfMass.y = parentBranch.centerOfMass.y * parentBranch.mass + node.y * node.options.mass;\n        parentBranch.centerOfMass.y *= totalMassInv;\n\n        parentBranch.mass = totalMass;\n        var biggestSize = Math.max(Math.max(node.height, node.radius), node.width);\n        parentBranch.maxWidth = parentBranch.maxWidth &lt; biggestSize ? biggestSize : parentBranch.maxWidth;\n      }\n\n      /**\n       * determine in which branch the node will be placed.\n       *\n       * @param parentBranch\n       * @param node\n       * @param skipMassUpdate\n       * @private\n       */\n    }, {\n      key: \&quot;_placeInTree\&quot;,\n      value: function _placeInTree(parentBranch, node, skipMassUpdate) {\n        if (skipMassUpdate != true || skipMassUpdate === undefined) {\n          // update the mass of the branch.\n          this._updateBranchMass(parentBranch, node);\n        }\n\n        if (parentBranch.children.NW.range.maxX &gt; node.x) {\n          // in NW or SW\n          if (parentBranch.children.NW.range.maxY &gt; node.y) {\n            // in NW\n            this._placeInRegion(parentBranch, node, \&quot;NW\&quot;);\n          } else {\n            // in SW\n            this._placeInRegion(parentBranch, node, \&quot;SW\&quot;);\n          }\n        } else {\n          // in NE or SE\n          if (parentBranch.children.NW.range.maxY &gt; node.y) {\n            // in NE\n            this._placeInRegion(parentBranch, node, \&quot;NE\&quot;);\n          } else {\n            // in SE\n            this._placeInRegion(parentBranch, node, \&quot;SE\&quot;);\n          }\n        }\n      }\n\n      /**\n       * actually place the node in a region (or branch)\n       *\n       * @param parentBranch\n       * @param node\n       * @param region\n       * @private\n       */\n    }, {\n      key: \&quot;_placeInRegion\&quot;,\n      value: function _placeInRegion(parentBranch, node, region) {\n        switch (parentBranch.children[region].childrenCount) {\n          case 0:\n            // place node here\n            parentBranch.children[region].children.data = node;\n            parentBranch.children[region].childrenCount = 1;\n            this._updateBranchMass(parentBranch.children[region], node);\n            break;\n          case 1:\n            // convert into children\n            // if there are two nodes exactly overlapping (on init, on opening of cluster etc.)\n            // we move one node a little bit and we do not put it in the tree.\n            if (parentBranch.children[region].children.data.x === node.x &amp;&amp; parentBranch.children[region].children.data.y === node.y) {\n              node.x += this.seededRandom();\n              node.y += this.seededRandom();\n            } else {\n              this._splitBranch(parentBranch.children[region]);\n              this._placeInTree(parentBranch.children[region], node);\n            }\n            break;\n          case 4:\n            // place in branch\n            this._placeInTree(parentBranch.children[region], node);\n            break;\n        }\n      }\n\n      /**\n       * this function splits a branch into 4 sub branches. If the branch contained a node, we place it in the subbranch\n       * after the split is complete.\n       *\n       * @param parentBranch\n       * @private\n       */\n    }, {\n      key: \&quot;_splitBranch\&quot;,\n      value: function _splitBranch(parentBranch) {\n        // if the branch is shaded with a node, replace the node in the new subset.\n        var containedNode = null;\n        if (parentBranch.childrenCount === 1) {\n          containedNode = parentBranch.children.data;\n          parentBranch.mass = 0;\n          parentBranch.centerOfMass.x = 0;\n          parentBranch.centerOfMass.y = 0;\n        }\n        parentBranch.childrenCount = 4;\n        parentBranch.children.data = null;\n        this._insertRegion(parentBranch, \&quot;NW\&quot;);\n        this._insertRegion(parentBranch, \&quot;NE\&quot;);\n        this._insertRegion(parentBranch, \&quot;SW\&quot;);\n        this._insertRegion(parentBranch, \&quot;SE\&quot;);\n\n        if (containedNode != null) {\n          this._placeInTree(parentBranch, containedNode);\n        }\n      }\n\n      /**\n       * This function subdivides the region into four new segments.\n       * Specifically, this inserts a single new segment.\n       * It fills the children section of the parentBranch\n       *\n       * @param parentBranch\n       * @param region\n       * @param parentRange\n       * @private\n       */\n    }, {\n      key: \&quot;_insertRegion\&quot;,\n      value: function _insertRegion(parentBranch, region) {\n        var minX = undefined,\n            maxX = undefined,\n            minY = undefined,\n            maxY = undefined;\n        var childSize = 0.5 * parentBranch.size;\n        switch (region) {\n          case \&quot;NW\&quot;:\n            minX = parentBranch.range.minX;\n            maxX = parentBranch.range.minX + childSize;\n            minY = parentBranch.range.minY;\n            maxY = parentBranch.range.minY + childSize;\n            break;\n          case \&quot;NE\&quot;:\n            minX = parentBranch.range.minX + childSize;\n            maxX = parentBranch.range.maxX;\n            minY = parentBranch.range.minY;\n            maxY = parentBranch.range.minY + childSize;\n            break;\n          case \&quot;SW\&quot;:\n            minX = parentBranch.range.minX;\n            maxX = parentBranch.range.minX + childSize;\n            minY = parentBranch.range.minY + childSize;\n            maxY = parentBranch.range.maxY;\n            break;\n          case \&quot;SE\&quot;:\n            minX = parentBranch.range.minX + childSize;\n            maxX = parentBranch.range.maxX;\n            minY = parentBranch.range.minY + childSize;\n            maxY = parentBranch.range.maxY;\n            break;\n        }\n\n        parentBranch.children[region] = {\n          centerOfMass: { x: 0, y: 0 },\n          mass: 0,\n          range: { minX: minX, maxX: maxX, minY: minY, maxY: maxY },\n          size: 0.5 * parentBranch.size,\n          calcSize: 2 * parentBranch.calcSize,\n          children: { data: null },\n          maxWidth: 0,\n          level: parentBranch.level + 1,\n          childrenCount: 0\n        };\n      }\n\n      //---------------------------  DEBUGGING BELOW  ---------------------------//\n\n      /**\n       * This function is for debugging purposed, it draws the tree.\n       *\n       * @param ctx\n       * @param color\n       * @private\n       */\n    }, {\n      key: \&quot;_debug\&quot;,\n      value: function _debug(ctx, color) {\n        if (this.barnesHutTree !== undefined) {\n\n          ctx.lineWidth = 1;\n\n          this._drawBranch(this.barnesHutTree.root, ctx, color);\n        }\n      }\n\n      /**\n       * This function is for debugging purposes. It draws the branches recursively.\n       *\n       * @param branch\n       * @param ctx\n       * @param color\n       * @private\n       */\n    }, {\n      key: \&quot;_drawBranch\&quot;,\n      value: function _drawBranch(branch, ctx, color) {\n        if (color === undefined) {\n          color = \&quot;#FF0000\&quot;;\n        }\n\n        if (branch.childrenCount === 4) {\n          this._drawBranch(branch.children.NW, ctx);\n          this._drawBranch(branch.children.NE, ctx);\n          this._drawBranch(branch.children.SE, ctx);\n          this._drawBranch(branch.children.SW, ctx);\n        }\n        ctx.strokeStyle = color;\n        ctx.beginPath();\n        ctx.moveTo(branch.range.minX, branch.range.minY);\n        ctx.lineTo(branch.range.maxX, branch.range.minY);\n        ctx.stroke();\n\n        ctx.beginPath();\n        ctx.moveTo(branch.range.maxX, branch.range.minY);\n        ctx.lineTo(branch.range.maxX, branch.range.maxY);\n        ctx.stroke();\n\n        ctx.beginPath();\n        ctx.moveTo(branch.range.maxX, branch.range.maxY);\n        ctx.lineTo(branch.range.minX, branch.range.maxY);\n        ctx.stroke();\n\n        ctx.beginPath();\n        ctx.moveTo(branch.range.minX, branch.range.maxY);\n        ctx.lineTo(branch.range.minX, branch.range.minY);\n        ctx.stroke();\n\n        /*\n         if (branch.mass &gt; 0) {\n         ctx.circle(branch.centerOfMass.x, branch.centerOfMass.y, 3*branch.mass);\n         ctx.stroke();\n         }\n         */\n      }\n    }]);\n\n    return BarnesHutSolver;\n  })();\n\n  exports[\&quot;default\&quot;] = BarnesHutSolver;\n  module.exports = exports[\&quot;default\&quot;];\n\n/***/ },\n/* 91 */\n/***/ function(module, exports) {\n\n  \&quot;use strict\&quot;;\n\n  Object.defineProperty(exports, \&quot;__esModule\&quot;, {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\&quot;value\&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\&quot;Cannot call a class as a function\&quot;); } }\n\n  var RepulsionSolver = (function () {\n    function RepulsionSolver(body, physicsBody, options) {\n      _classCallCheck(this, RepulsionSolver);\n\n      this.body = body;\n      this.physicsBody = physicsBody;\n      this.setOptions(options);\n    }\n\n    _createClass(RepulsionSolver, [{\n      key: \&quot;setOptions\&quot;,\n      value: function setOptions(options) {\n        this.options = options;\n      }\n\n      /**\n       * Calculate the forces the nodes apply on each other based on a repulsion field.\n       * This field is linearly approximated.\n       *\n       * @private\n       */\n    }, {\n      key: \&quot;solve\&quot;,\n      value: function solve() {\n        var dx, dy, distance, fx, fy, repulsingForce, node1, node2;\n\n        var nodes = this.body.nodes;\n        var nodeIndices = this.physicsBody.physicsNodeIndices;\n        var forces = this.physicsBody.forces;\n\n        // repulsing forces between nodes\n        var nodeDistance = this.options.nodeDistance;\n\n        // approximation constants\n        var a = -2 / 3 / nodeDistance;\n        var b = 4 / 3;\n\n        // we loop from i over all but the last entree in the array\n        // j loops from i+1 to the last. This way we do not double count any of the indices, nor i === j\n        for (var i = 0; i &lt; nodeIndices.length - 1; i++) {\n          node1 = nodes[nodeIndices[i]];\n          for (var j = i + 1; j &lt; nodeIndices.length; j++) {\n            node2 = nodes[nodeIndices[j]];\n\n            dx = node2.x - node1.x;\n            dy = node2.y - node1.y;\n            distance = Math.sqrt(dx * dx + dy * dy);\n\n            // same condition as BarnesHutSolver, making sure nodes are never 100% overlapping.\n            if (distance === 0) {\n              distance = 0.1 * Math.random();\n              dx = distance;\n            }\n\n            if (distance &lt; 2 * nodeDistance) {\n              if (distance &lt; 0.5 * nodeDistance) {\n                repulsingForce = 1.0;\n              } else {\n                repulsingForce = a * distance + b; // linear approx of  1 / (1 + Math.exp((distance / nodeDistance - 1) * steepness))\n              }\n              repulsingForce = repulsingForce / distance;\n\n              fx = dx * repulsingForce;\n              fy = dy * repulsingForce;\n\n              forces[node1.id].x -= fx;\n              forces[node1.id].y -= fy;\n              forces[node2.id].x += fx;\n              forces[node2.id].y += fy;\n            }\n          }\n        }\n      }\n    }]);\n\n    return RepulsionSolver;\n  })();\n\n  exports[\&quot;default\&quot;] = RepulsionSolver;\n  module.exports = exports[\&quot;default\&quot;];\n\n/***/ },\n/* 92 */\n/***/ function(module, exports) {\n\n  \&quot;use strict\&quot;;\n\n  Object.defineProperty(exports, \&quot;__esModule\&quot;, {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\&quot;value\&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\&quot;Cannot call a class as a function\&quot;); } }\n\n  var HierarchicalRepulsionSolver = (function () {\n    function HierarchicalRepulsionSolver(body, physicsBody, options) {\n      _classCallCheck(this, HierarchicalRepulsionSolver);\n\n      this.body = body;\n      this.physicsBody = physicsBody;\n      this.setOptions(options);\n    }\n\n    _createClass(HierarchicalRepulsionSolver, [{\n      key: \&quot;setOptions\&quot;,\n      value: function setOptions(options) {\n        this.options = options;\n      }\n\n      /**\n       * Calculate the forces the nodes apply on each other based on a repulsion field.\n       * This field is linearly approximated.\n       *\n       * @private\n       */\n    }, {\n      key: \&quot;solve\&quot;,\n      value: function solve() {\n        var dx, dy, distance, fx, fy, repulsingForce, node1, node2, i, j;\n\n        var nodes = this.body.nodes;\n        var nodeIndices = this.physicsBody.physicsNodeIndices;\n        var forces = this.physicsBody.forces;\n\n        // repulsing forces between nodes\n        var nodeDistance = this.options.nodeDistance;\n\n        // we loop from i over all but the last entree in the array\n        // j loops from i+1 to the last. This way we do not double count any of the indices, nor i === j\n        for (i = 0; i &lt; nodeIndices.length - 1; i++) {\n          node1 = nodes[nodeIndices[i]];\n          for (j = i + 1; j &lt; nodeIndices.length; j++) {\n            node2 = nodes[nodeIndices[j]];\n\n            // nodes only affect nodes on their level\n            if (node1.level === node2.level) {\n              dx = node2.x - node1.x;\n              dy = node2.y - node1.y;\n              distance = Math.sqrt(dx * dx + dy * dy);\n\n              var steepness = 0.05;\n              if (distance &lt; nodeDistance) {\n                repulsingForce = -Math.pow(steepness * distance, 2) + Math.pow(steepness * nodeDistance, 2);\n              } else {\n                repulsingForce = 0;\n              }\n              // normalize force with\n              if (distance === 0) {\n                distance = 0.01;\n              } else {\n                repulsingForce = repulsingForce / distance;\n              }\n              fx = dx * repulsingForce;\n              fy = dy * repulsingForce;\n\n              forces[node1.id].x -= fx;\n              forces[node1.id].y -= fy;\n              forces[node2.id].x += fx;\n              forces[node2.id].y += fy;\n            }\n          }\n        }\n      }\n    }]);\n\n    return HierarchicalRepulsionSolver;\n  })();\n\n  exports[\&quot;default\&quot;] = HierarchicalRepulsionSolver;\n  module.exports = exports[\&quot;default\&quot;];\n\n/***/ },\n/* 93 */\n/***/ function(module, exports) {\n\n  \&quot;use strict\&quot;;\n\n  Object.defineProperty(exports, \&quot;__esModule\&quot;, {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\&quot;value\&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\&quot;Cannot call a class as a function\&quot;); } }\n\n  var SpringSolver = (function () {\n    function SpringSolver(body, physicsBody, options) {\n      _classCallCheck(this, SpringSolver);\n\n      this.body = body;\n      this.physicsBody = physicsBody;\n      this.setOptions(options);\n    }\n\n    _createClass(SpringSolver, [{\n      key: \&quot;setOptions\&quot;,\n      value: function setOptions(options) {\n        this.options = options;\n      }\n\n      /**\n       * This function calculates the springforces on the nodes, accounting for the support nodes.\n       *\n       * @private\n       */\n    }, {\n      key: \&quot;solve\&quot;,\n      value: function solve() {\n        var edgeLength = undefined,\n            edge = undefined;\n        var edgeIndices = this.physicsBody.physicsEdgeIndices;\n        var edges = this.body.edges;\n        var node1 = undefined,\n            node2 = undefined,\n            node3 = undefined;\n\n        // forces caused by the edges, modelled as springs\n        for (var i = 0; i &lt; edgeIndices.length; i++) {\n          edge = edges[edgeIndices[i]];\n          if (edge.connected === true &amp;&amp; edge.toId !== edge.fromId) {\n            // only calculate forces if nodes are in the same sector\n            if (this.body.nodes[edge.toId] !== undefined &amp;&amp; this.body.nodes[edge.fromId] !== undefined) {\n              if (edge.edgeType.via !== undefined) {\n                edgeLength = edge.options.length === undefined ? this.options.springLength : edge.options.length;\n                node1 = edge.to;\n                node2 = edge.edgeType.via;\n                node3 = edge.from;\n\n                this._calculateSpringForce(node1, node2, 0.5 * edgeLength);\n                this._calculateSpringForce(node2, node3, 0.5 * edgeLength);\n              } else {\n                // the * 1.5 is here so the edge looks as large as a smooth edge. It does not initially because the smooth edges use\n                // the support nodes which exert a repulsive force on the to and from nodes, making the edge appear larger.\n                edgeLength = edge.options.length === undefined ? this.options.springLength * 1.5 : edge.options.length;\n                this._calculateSpringForce(edge.from, edge.to, edgeLength);\n              }\n            }\n          }\n        }\n      }\n\n      /**\n       * This is the code actually performing the calculation for the function above.\n       *\n       * @param node1\n       * @param node2\n       * @param edgeLength\n       * @private\n       */\n    }, {\n      key: \&quot;_calculateSpringForce\&quot;,\n      value: function _calculateSpringForce(node1, node2, edgeLength) {\n        var dx = node1.x - node2.x;\n        var dy = node1.y - node2.y;\n        var distance = Math.max(Math.sqrt(dx * dx + dy * dy), 0.01);\n\n        // the 1/distance is so the fx and fy can be calculated without sine or cosine.\n        var springForce = this.options.springConstant * (edgeLength - distance) / distance;\n\n        var fx = dx * springForce;\n        var fy = dy * springForce;\n\n        // handle the case where one node is not part of the physcis\n        if (this.physicsBody.forces[node1.id] !== undefined) {\n          this.physicsBody.forces[node1.id].x += fx;\n          this.physicsBody.forces[node1.id].y += fy;\n        }\n\n        if (this.physicsBody.forces[node2.id] !== undefined) {\n          this.physicsBody.forces[node2.id].x -= fx;\n          this.physicsBody.forces[node2.id].y -= fy;\n        }\n      }\n    }]);\n\n    return SpringSolver;\n  })();\n\n  exports[\&quot;default\&quot;] = SpringSolver;\n  module.exports = exports[\&quot;default\&quot;];\n\n/***/ },\n/* 94 */\n/***/ function(module, exports) {\n\n  \&quot;use strict\&quot;;\n\n  Object.defineProperty(exports, \&quot;__esModule\&quot;, {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\&quot;value\&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\&quot;Cannot call a class as a function\&quot;); } }\n\n  var HierarchicalSpringSolver = (function () {\n    function HierarchicalSpringSolver(body, physicsBody, options) {\n      _classCallCheck(this, HierarchicalSpringSolver);\n\n      this.body = body;\n      this.physicsBody = physicsBody;\n      this.setOptions(options);\n    }\n\n    _createClass(HierarchicalSpringSolver, [{\n      key: \&quot;setOptions\&quot;,\n      value: function setOptions(options) {\n        this.options = options;\n      }\n\n      /**\n       * This function calculates the springforces on the nodes, accounting for the support nodes.\n       *\n       * @private\n       */\n    }, {\n      key: \&quot;solve\&quot;,\n      value: function solve() {\n        var edgeLength, edge;\n        var dx, dy, fx, fy, springForce, distance;\n        var edges = this.body.edges;\n        var factor = 0.5;\n\n        var edgeIndices = this.physicsBody.physicsEdgeIndices;\n        var nodeIndices = this.physicsBody.physicsNodeIndices;\n        var forces = this.physicsBody.forces;\n\n        // initialize the spring force counters\n        for (var i = 0; i &lt; nodeIndices.length; i++) {\n          var nodeId = nodeIndices[i];\n          forces[nodeId].springFx = 0;\n          forces[nodeId].springFy = 0;\n        }\n\n        // forces caused by the edges, modelled as springs\n        for (var i = 0; i &lt; edgeIndices.length; i++) {\n          edge = edges[edgeIndices[i]];\n          if (edge.connected === true) {\n            edgeLength = edge.options.length === undefined ? this.options.springLength : edge.options.length;\n\n            dx = edge.from.x - edge.to.x;\n            dy = edge.from.y - edge.to.y;\n            distance = Math.sqrt(dx * dx + dy * dy);\n            distance = distance === 0 ? 0.01 : distance;\n\n            // the 1/distance is so the fx and fy can be calculated without sine or cosine.\n            springForce = this.options.springConstant * (edgeLength - distance) / distance;\n\n            fx = dx * springForce;\n            fy = dy * springForce;\n\n            if (edge.to.level != edge.from.level) {\n              if (forces[edge.toId] !== undefined) {\n                forces[edge.toId].springFx -= fx;\n                forces[edge.toId].springFy -= fy;\n              }\n              if (forces[edge.fromId] !== undefined) {\n                forces[edge.fromId].springFx += fx;\n                forces[edge.fromId].springFy += fy;\n              }\n            } else {\n              if (forces[edge.toId] !== undefined) {\n                forces[edge.toId].x -= factor * fx;\n                forces[edge.toId].y -= factor * fy;\n              }\n              if (forces[edge.fromId] !== undefined) {\n                forces[edge.fromId].x += factor * fx;\n                forces[edge.fromId].y += factor * fy;\n              }\n            }\n          }\n        }\n\n        // normalize spring forces\n        var springForce = 1;\n        var springFx, springFy;\n        for (var i = 0; i &lt; nodeIndices.length; i++) {\n          var nodeId = nodeIndices[i];\n          springFx = Math.min(springForce, Math.max(-springForce, forces[nodeId].springFx));\n          springFy = Math.min(springForce, Math.max(-springForce, forces[nodeId].springFy));\n\n          forces[nodeId].x += springFx;\n          forces[nodeId].y += springFy;\n        }\n\n        // retain energy balance\n        var totalFx = 0;\n        var totalFy = 0;\n        for (var i = 0; i &lt; nodeIndices.length; i++) {\n          var nodeId = nodeIndices[i];\n          totalFx += forces[nodeId].x;\n          totalFy += forces[nodeId].y;\n        }\n        var correctionFx = totalFx / nodeIndices.length;\n        var correctionFy = totalFy / nodeIndices.length;\n\n        for (var i = 0; i &lt; nodeIndices.length; i++) {\n          var nodeId = nodeIndices[i];\n          forces[nodeId].x -= correctionFx;\n          forces[nodeId].y -= correctionFy;\n        }\n      }\n    }]);\n\n    return HierarchicalSpringSolver;\n  })();\n\n  exports[\&quot;default\&quot;] = HierarchicalSpringSolver;\n  module.exports = exports[\&quot;default\&quot;];\n\n/***/ },\n/* 95 */\n/***/ function(module, exports) {\n\n  \&quot;use strict\&quot;;\n\n  Object.defineProperty(exports, \&quot;__esModule\&quot;, {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\&quot;value\&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\&quot;Cannot call a class as a function\&quot;); } }\n\n  var CentralGravitySolver = (function () {\n    function CentralGravitySolver(body, physicsBody, options) {\n      _classCallCheck(this, CentralGravitySolver);\n\n      this.body = body;\n      this.physicsBody = physicsBody;\n      this.setOptions(options);\n    }\n\n    _createClass(CentralGravitySolver, [{\n      key: \&quot;setOptions\&quot;,\n      value: function setOptions(options) {\n        this.options = options;\n      }\n    }, {\n      key: \&quot;solve\&quot;,\n      value: function solve() {\n        var dx = undefined,\n            dy = undefined,\n            distance = undefined,\n            node = undefined;\n        var nodes = this.body.nodes;\n        var nodeIndices = this.physicsBody.physicsNodeIndices;\n        var forces = this.physicsBody.forces;\n\n        for (var i = 0; i &lt; nodeIndices.length; i++) {\n          var nodeId = nodeIndices[i];\n          node = nodes[nodeId];\n          dx = -node.x;\n          dy = -node.y;\n          distance = Math.sqrt(dx * dx + dy * dy);\n\n          this._calculateForces(distance, dx, dy, forces, node);\n        }\n      }\n\n      /**\n       * Calculate the forces based on the distance.\n       * @private\n       */\n    }, {\n      key: \&quot;_calculateForces\&quot;,\n      value: function _calculateForces(distance, dx, dy, forces, node) {\n        var gravityForce = distance === 0 ? 0 : this.options.centralGravity / distance;\n        forces[node.id].x = dx * gravityForce;\n        forces[node.id].y = dy * gravityForce;\n      }\n    }]);\n\n    return CentralGravitySolver;\n  })();\n\n  exports[\&quot;default\&quot;] = CentralGravitySolver;\n  module.exports = exports[\&quot;default\&quot;];\n\n/***/ },\n/* 96 */\n/***/ function(module, exports, __webpack_require__) {\n\n  \&quot;use strict\&quot;;\n\n  Object.defineProperty(exports, \&quot;__esModule\&quot;, {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\&quot;value\&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if (\&quot;value\&quot; in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { \&quot;default\&quot;: obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\&quot;Cannot call a class as a function\&quot;); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \&quot;function\&quot; &amp;&amp; superClass !== null) { throw new TypeError(\&quot;Super expression must either be null or a function, not \&quot; + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _BarnesHutSolver2 = __webpack_require__(90);\n\n  var _BarnesHutSolver3 = _interopRequireDefault(_BarnesHutSolver2);\n\n  var ForceAtlas2BasedRepulsionSolver = (function (_BarnesHutSolver) {\n    _inherits(ForceAtlas2BasedRepulsionSolver, _BarnesHutSolver);\n\n    function ForceAtlas2BasedRepulsionSolver(body, physicsBody, options) {\n      _classCallCheck(this, ForceAtlas2BasedRepulsionSolver);\n\n      _get(Object.getPrototypeOf(ForceAtlas2BasedRepulsionSolver.prototype), \&quot;constructor\&quot;, this).call(this, body, physicsBody, options);\n    }\n\n    /**\n     * Calculate the forces based on the distance.\n     *\n     * @param distance\n     * @param dx\n     * @param dy\n     * @param node\n     * @param parentBranch\n     * @private\n     */\n\n    _createClass(ForceAtlas2BasedRepulsionSolver, [{\n      key: \&quot;_calculateForces\&quot;,\n      value: function _calculateForces(distance, dx, dy, node, parentBranch) {\n        if (distance === 0) {\n          distance = 0.1 * Math.random();\n          dx = distance;\n        }\n\n        if (this.overlapAvoidanceFactor &lt; 1) {\n          distance = Math.max(0.1 + this.overlapAvoidanceFactor * node.shape.radius, distance - node.shape.radius);\n        }\n\n        var degree = node.edges.length + 1;\n        // the dividing by the distance cubed instead of squared allows us to get the fx and fy components without sines and cosines\n        // it is shorthand for gravityforce with distance squared and fx = dx/distance * gravityForce\n        var gravityForce = this.options.gravitationalConstant * parentBranch.mass * node.options.mass * degree / Math.pow(distance, 2);\n        var fx = dx * gravityForce;\n        var fy = dy * gravityForce;\n\n        this.physicsBody.forces[node.id].x += fx;\n        this.physicsBody.forces[node.id].y += fy;\n      }\n    }]);\n\n    return ForceAtlas2BasedRepulsionSolver;\n  })(_BarnesHutSolver3[\&quot;default\&quot;]);\n\n  exports[\&quot;default\&quot;] = ForceAtlas2BasedRepulsionSolver;\n  module.exports = exports[\&quot;default\&quot;];\n\n/***/ },\n/* 97 */\n/***/ function(module, exports, __webpack_require__) {\n\n  \&quot;use strict\&quot;;\n\n  Object.defineProperty(exports, \&quot;__esModule\&quot;, {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\&quot;value\&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if (\&quot;value\&quot; in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { \&quot;default\&quot;: obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\&quot;Cannot call a class as a function\&quot;); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \&quot;function\&quot; &amp;&amp; superClass !== null) { throw new TypeError(\&quot;Super expression must either be null or a function, not \&quot; + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _CentralGravitySolver2 = __webpack_require__(95);\n\n  var _CentralGravitySolver3 = _interopRequireDefault(_CentralGravitySolver2);\n\n  var ForceAtlas2BasedCentralGravitySolver = (function (_CentralGravitySolver) {\n    _inherits(ForceAtlas2BasedCentralGravitySolver, _CentralGravitySolver);\n\n    function ForceAtlas2BasedCentralGravitySolver(body, physicsBody, options) {\n      _classCallCheck(this, ForceAtlas2BasedCentralGravitySolver);\n\n      _get(Object.getPrototypeOf(ForceAtlas2BasedCentralGravitySolver.prototype), \&quot;constructor\&quot;, this).call(this, body, physicsBody, options);\n    }\n\n    /**\n     * Calculate the forces based on the distance.\n     * @private\n     */\n\n    _createClass(ForceAtlas2BasedCentralGravitySolver, [{\n      key: \&quot;_calculateForces\&quot;,\n      value: function _calculateForces(distance, dx, dy, forces, node) {\n        if (distance &gt; 0) {\n          var degree = node.edges.length + 1;\n          var gravityForce = this.options.centralGravity * degree * node.options.mass;\n          forces[node.id].x = dx * gravityForce;\n          forces[node.id].y = dy * gravityForce;\n        }\n      }\n    }]);\n\n    return ForceAtlas2BasedCentralGravitySolver;\n  })(_CentralGravitySolver3[\&quot;default\&quot;]);\n\n  exports[\&quot;default\&quot;] = ForceAtlas2BasedCentralGravitySolver;\n  module.exports = exports[\&quot;default\&quot;];\n\n/***/ },\n/* 98 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var _NetworkUtil = __webpack_require__(99);\n\n  var _NetworkUtil2 = _interopRequireDefault(_NetworkUtil);\n\n  var _componentsNodesCluster = __webpack_require__(100);\n\n  var _componentsNodesCluster2 = _interopRequireDefault(_componentsNodesCluster);\n\n  var util = __webpack_require__(1);\n\n  var ClusterEngine = (function () {\n    function ClusterEngine(body) {\n      var _this = this;\n\n      _classCallCheck(this, ClusterEngine);\n\n      this.body = body;\n      this.clusteredNodes = {};\n      this.clusteredEdges = {};\n\n      this.options = {};\n      this.defaultOptions = {};\n      util.extend(this.options, this.defaultOptions);\n\n      this.body.emitter.on('_resetData', function () {\n        _this.clusteredNodes = {};_this.clusteredEdges = {};\n      });\n    }\n\n    _createClass(ClusterEngine, [{\n      key: 'setOptions',\n      value: function setOptions(options) {\n        if (options !== undefined) {}\n      }\n\n      /**\n      *\n      * @param hubsize\n      * @param options\n      */\n    }, {\n      key: 'clusterByHubsize',\n      value: function clusterByHubsize(hubsize, options) {\n        if (hubsize === undefined) {\n          hubsize = this._getHubSize();\n        } else if (typeof hubsize === \&quot;object\&quot;) {\n          options = this._checkOptions(hubsize);\n          hubsize = this._getHubSize();\n        }\n\n        var nodesToCluster = [];\n        for (var i = 0; i &lt; this.body.nodeIndices.length; i++) {\n          var node = this.body.nodes[this.body.nodeIndices[i]];\n          if (node.edges.length &gt;= hubsize) {\n            nodesToCluster.push(node.id);\n          }\n        }\n\n        for (var i = 0; i &lt; nodesToCluster.length; i++) {\n          this.clusterByConnection(nodesToCluster[i], options, true);\n        }\n\n        this.body.emitter.emit('_dataChanged');\n      }\n\n      /**\n      * loop over all nodes, check if they adhere to the condition and cluster if needed.\n      * @param options\n      * @param refreshData\n      */\n    }, {\n      key: 'cluster',\n      value: function cluster() {\n        var options = arguments.length &lt;= 0 || arguments[0] === undefined ? {} : arguments[0];\n        var refreshData = arguments.length &lt;= 1 || arguments[1] === undefined ? true : arguments[1];\n\n        if (options.joinCondition === undefined) {\n          throw new Error(\&quot;Cannot call clusterByNodeData without a joinCondition function in the options.\&quot;);\n        }\n\n        // check if the options object is fine, append if needed\n        options = this._checkOptions(options);\n\n        var childNodesObj = {};\n        var childEdgesObj = {};\n\n        // collect the nodes that will be in the cluster\n        for (var i = 0; i &lt; this.body.nodeIndices.length; i++) {\n          var nodeId = this.body.nodeIndices[i];\n          var node = this.body.nodes[nodeId];\n          var clonedOptions = _NetworkUtil2['default'].cloneOptions(node);\n          if (options.joinCondition(clonedOptions) === true) {\n            childNodesObj[nodeId] = this.body.nodes[nodeId];\n\n            // collect the nodes that will be in the cluster\n            for (var _i = 0; _i &lt; node.edges.length; _i++) {\n              var edge = node.edges[_i];\n              if (this.clusteredEdges[edge.id] === undefined) {\n                childEdgesObj[edge.id] = edge;\n              }\n            }\n          }\n        }\n\n        this._cluster(childNodesObj, childEdgesObj, options, refreshData);\n      }\n\n      /**\n       * Cluster all nodes in the network that have only X edges\n       * @param edgeCount\n       * @param options\n       * @param refreshData\n       */\n    }, {\n      key: 'clusterByEdgeCount',\n      value: function clusterByEdgeCount(edgeCount, options) {\n        var refreshData = arguments.length &lt;= 2 || arguments[2] === undefined ? true : arguments[2];\n\n        options = this._checkOptions(options);\n        var clusters = [];\n        var usedNodes = {};\n        var edge = undefined,\n            edges = undefined,\n            node = undefined,\n            nodeId = undefined,\n            relevantEdgeCount = undefined;\n        // collect the nodes that will be in the cluster\n        for (var i = 0; i &lt; this.body.nodeIndices.length; i++) {\n          var childNodesObj = {};\n          var childEdgesObj = {};\n          nodeId = this.body.nodeIndices[i];\n\n          // if this node is already used in another cluster this session, we do not have to re-evaluate it.\n          if (usedNodes[nodeId] === undefined) {\n            relevantEdgeCount = 0;\n            node = this.body.nodes[nodeId];\n            edges = [];\n            for (var j = 0; j &lt; node.edges.length; j++) {\n              edge = node.edges[j];\n              if (this.clusteredEdges[edge.id] === undefined) {\n                if (edge.toId !== edge.fromId) {\n                  relevantEdgeCount++;\n                }\n                edges.push(edge);\n              }\n            }\n\n            // this node qualifies, we collect its neighbours to start the clustering process.\n            if (relevantEdgeCount === edgeCount) {\n              var gatheringSuccessful = true;\n              for (var j = 0; j &lt; edges.length; j++) {\n                edge = edges[j];\n                var childNodeId = this._getConnectedId(edge, nodeId);\n                // add the nodes to the list by the join condition.\n                if (options.joinCondition === undefined) {\n                  childEdgesObj[edge.id] = edge;\n                  childNodesObj[nodeId] = this.body.nodes[nodeId];\n                  childNodesObj[childNodeId] = this.body.nodes[childNodeId];\n                  usedNodes[nodeId] = true;\n                } else {\n                  var clonedOptions = _NetworkUtil2['default'].cloneOptions(this.body.nodes[nodeId]);\n                  if (options.joinCondition(clonedOptions) === true) {\n                    childEdgesObj[edge.id] = edge;\n                    childNodesObj[nodeId] = this.body.nodes[nodeId];\n                    usedNodes[nodeId] = true;\n                  } else {\n                    // this node does not qualify after all.\n                    gatheringSuccessful = false;\n                    break;\n                  }\n                }\n              }\n\n              // add to the cluster queue\n              if (Object.keys(childNodesObj).length &gt; 0 &amp;&amp; Object.keys(childEdgesObj).length &gt; 0 &amp;&amp; gatheringSuccessful === true) {\n                clusters.push({ nodes: childNodesObj, edges: childEdgesObj });\n              }\n            }\n          }\n        }\n\n        for (var i = 0; i &lt; clusters.length; i++) {\n          this._cluster(clusters[i].nodes, clusters[i].edges, options, false);\n        }\n\n        if (refreshData === true) {\n          this.body.emitter.emit('_dataChanged');\n        }\n      }\n\n      /**\n      * Cluster all nodes in the network that have only 1 edge\n      * @param options\n      * @param refreshData\n      */\n    }, {\n      key: 'clusterOutliers',\n      value: function clusterOutliers(options) {\n        var refreshData = arguments.length &lt;= 1 || arguments[1] === undefined ? true : arguments[1];\n\n        this.clusterByEdgeCount(1, options, refreshData);\n      }\n\n      /**\n       * Cluster all nodes in the network that have only 2 edge\n       * @param options\n       * @param refreshData\n       */\n    }, {\n      key: 'clusterBridges',\n      value: function clusterBridges(options) {\n        var refreshData = arguments.length &lt;= 1 || arguments[1] === undefined ? true : arguments[1];\n\n        this.clusterByEdgeCount(2, options, refreshData);\n      }\n\n      /**\n      * suck all connected nodes of a node into the node.\n      * @param nodeId\n      * @param options\n      * @param refreshData\n      */\n    }, {\n      key: 'clusterByConnection',\n      value: function clusterByConnection(nodeId, options) {\n        var refreshData = arguments.length &lt;= 2 || arguments[2] === undefined ? true : arguments[2];\n\n        // kill conditions\n        if (nodeId === undefined) {\n          throw new Error(\&quot;No nodeId supplied to clusterByConnection!\&quot;);\n        }\n        if (this.body.nodes[nodeId] === undefined) {\n          throw new Error(\&quot;The nodeId given to clusterByConnection does not exist!\&quot;);\n        }\n\n        var node = this.body.nodes[nodeId];\n        options = this._checkOptions(options, node);\n        if (options.clusterNodeProperties.x === undefined) {\n          options.clusterNodeProperties.x = node.x;\n        }\n        if (options.clusterNodeProperties.y === undefined) {\n          options.clusterNodeProperties.y = node.y;\n        }\n        if (options.clusterNodeProperties.fixed === undefined) {\n          options.clusterNodeProperties.fixed = {};\n          options.clusterNodeProperties.fixed.x = node.options.fixed.x;\n          options.clusterNodeProperties.fixed.y = node.options.fixed.y;\n        }\n\n        var childNodesObj = {};\n        var childEdgesObj = {};\n        var parentNodeId = node.id;\n        var parentClonedOptions = _NetworkUtil2['default'].cloneOptions(node);\n        childNodesObj[parentNodeId] = node;\n\n        // collect the nodes that will be in the cluster\n        for (var i = 0; i &lt; node.edges.length; i++) {\n          var edge = node.edges[i];\n          if (this.clusteredEdges[edge.id] === undefined) {\n            var childNodeId = this._getConnectedId(edge, parentNodeId);\n\n            // if the child node is not in a cluster\n            if (this.clusteredNodes[childNodeId] === undefined) {\n              if (childNodeId !== parentNodeId) {\n                if (options.joinCondition === undefined) {\n                  childEdgesObj[edge.id] = edge;\n                  childNodesObj[childNodeId] = this.body.nodes[childNodeId];\n                } else {\n                  // clone the options and insert some additional parameters that could be interesting.\n                  var childClonedOptions = _NetworkUtil2['default'].cloneOptions(this.body.nodes[childNodeId]);\n                  if (options.joinCondition(parentClonedOptions, childClonedOptions) === true) {\n                    childEdgesObj[edge.id] = edge;\n                    childNodesObj[childNodeId] = this.body.nodes[childNodeId];\n                  }\n                }\n              } else {\n                // swallow the edge if it is self-referencing.\n                childEdgesObj[edge.id] = edge;\n              }\n            }\n          }\n        }\n\n        this._cluster(childNodesObj, childEdgesObj, options, refreshData);\n      }\n\n      /**\n      * This function creates the edges that will be attached to the cluster\n      * It looks for edges that are connected to the nodes from the \&quot;outside' of the cluster.\n      *\n      * @param childNodesObj\n      * @param childEdgesObj\n      * @param clusterNodeProperties\n      * @param clusterEdgeProperties\n      * @private\n      */\n    }, {\n      key: '_createClusterEdges',\n      value: function _createClusterEdges(childNodesObj, childEdgesObj, clusterNodeProperties, clusterEdgeProperties) {\n        var edge = undefined,\n            childNodeId = undefined,\n            childNode = undefined,\n            toId = undefined,\n            fromId = undefined,\n            otherNodeId = undefined;\n\n        // loop over all child nodes and their edges to find edges going out of the cluster\n        // these edges will be replaced by clusterEdges.\n        var childKeys = Object.keys(childNodesObj);\n        var createEdges = [];\n        for (var i = 0; i &lt; childKeys.length; i++) {\n          childNodeId = childKeys[i];\n          childNode = childNodesObj[childNodeId];\n\n          // construct new edges from the cluster to others\n          for (var j = 0; j &lt; childNode.edges.length; j++) {\n            edge = childNode.edges[j];\n            // we only handle edges that are visible to the system, not the disabled ones from the clustering process.\n            if (this.clusteredEdges[edge.id] === undefined) {\n              // self-referencing edges will be added to the \&quot;hidden\&quot; list\n              if (edge.toId == edge.fromId) {\n                childEdgesObj[edge.id] = edge;\n              } else {\n                // set up the from and to.\n                if (edge.toId == childNodeId) {\n                  // this is a double equals because ints and strings can be interchanged here.\n                  toId = clusterNodeProperties.id;\n                  fromId = edge.fromId;\n                  otherNodeId = fromId;\n                } else {\n                  toId = edge.toId;\n                  fromId = clusterNodeProperties.id;\n                  otherNodeId = toId;\n                }\n              }\n\n              // Only edges from the cluster outwards are being replaced.\n              if (childNodesObj[otherNodeId] === undefined) {\n                createEdges.push({ edge: edge, fromId: fromId, toId: toId });\n              }\n            }\n          }\n        }\n\n        // here we actually create the replacement edges. We could not do this in the loop above as the creation process\n        // would add an edge to the edges array we are iterating over.\n        for (var j = 0; j &lt; createEdges.length; j++) {\n          var _edge = createEdges[j].edge;\n          // copy the options of the edge we will replace\n          var clonedOptions = _NetworkUtil2['default'].cloneOptions(_edge, 'edge');\n          // make sure the properties of clusterEdges are superimposed on it\n          util.deepExtend(clonedOptions, clusterEdgeProperties);\n\n          // set up the edge\n          clonedOptions.from = createEdges[j].fromId;\n          clonedOptions.to = createEdges[j].toId;\n          clonedOptions.id = 'clusterEdge:' + util.randomUUID();\n          //clonedOptions.id = '(cf: ' + createEdges[j].fromId + \&quot; to: \&quot; + createEdges[j].toId + \&quot;)\&quot; + Math.random();\n\n          // create the edge and give a reference to the one it replaced.\n          var newEdge = this.body.functions.createEdge(clonedOptions);\n          newEdge.clusteringEdgeReplacingId = _edge.id;\n\n          // connect the edge.\n          this.body.edges[newEdge.id] = newEdge;\n          newEdge.connect();\n\n          // hide the replaced edge\n          this._backupEdgeOptions(_edge);\n          _edge.setOptions({ physics: false, hidden: true });\n        }\n      }\n\n      /**\n      * This function checks the options that can be supplied to the different cluster functions\n      * for certain fields and inserts defaults if needed\n      * @param options\n      * @returns {*}\n      * @private\n      */\n    }, {\n      key: '_checkOptions',\n      value: function _checkOptions() {\n        var options = arguments.length &lt;= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n        if (options.clusterEdgeProperties === undefined) {\n          options.clusterEdgeProperties = {};\n        }\n        if (options.clusterNodeProperties === undefined) {\n          options.clusterNodeProperties = {};\n        }\n\n        return options;\n      }\n\n      /**\n      *\n      * @param {Object}    childNodesObj         | object with node objects, id as keys, same as childNodes except it also contains a source node\n      * @param {Object}    childEdgesObj         | object with edge objects, id as keys\n      * @param {Array}     options               | object with {clusterNodeProperties, clusterEdgeProperties, processProperties}\n      * @param {Boolean}   refreshData | when true, do not wrap up\n      * @private\n      */\n    }, {\n      key: '_cluster',\n      value: function _cluster(childNodesObj, childEdgesObj, options) {\n        var refreshData = arguments.length &lt;= 3 || arguments[3] === undefined ? true : arguments[3];\n\n        // kill condition: no children so can't cluster or only one node in the cluster, don't bother\n        if (Object.keys(childNodesObj).length &lt; 2) {\n          return;\n        }\n\n        // check if this cluster call is not trying to cluster anything that is in another cluster.\n        for (var nodeId in childNodesObj) {\n          if (childNodesObj.hasOwnProperty(nodeId)) {\n            if (this.clusteredNodes[nodeId] !== undefined) {\n              return;\n            }\n          }\n        }\n\n        var clusterNodeProperties = util.deepExtend({}, options.clusterNodeProperties);\n\n        // construct the clusterNodeProperties\n        if (options.processProperties !== undefined) {\n          // get the childNode options\n          var childNodesOptions = [];\n          for (var nodeId in childNodesObj) {\n            if (childNodesObj.hasOwnProperty(nodeId)) {\n              var clonedOptions = _NetworkUtil2['default'].cloneOptions(childNodesObj[nodeId]);\n              childNodesOptions.push(clonedOptions);\n            }\n          }\n\n          // get cluster properties based on childNodes\n          var childEdgesOptions = [];\n          for (var edgeId in childEdgesObj) {\n            if (childEdgesObj.hasOwnProperty(edgeId)) {\n              // these cluster edges will be removed on creation of the cluster.\n              if (edgeId.substr(0, 12) !== \&quot;clusterEdge:\&quot;) {\n                var clonedOptions = _NetworkUtil2['default'].cloneOptions(childEdgesObj[edgeId], 'edge');\n                childEdgesOptions.push(clonedOptions);\n              }\n            }\n          }\n\n          clusterNodeProperties = options.processProperties(clusterNodeProperties, childNodesOptions, childEdgesOptions);\n          if (!clusterNodeProperties) {\n            throw new Error(\&quot;The processProperties function does not return properties!\&quot;);\n          }\n        }\n\n        // check if we have an unique id;\n        if (clusterNodeProperties.id === undefined) {\n          clusterNodeProperties.id = 'cluster:' + util.randomUUID();\n        }\n        var clusterId = clusterNodeProperties.id;\n\n        if (clusterNodeProperties.label === undefined) {\n          clusterNodeProperties.label = 'cluster';\n        }\n\n        // give the clusterNode a position if it does not have one.\n        var pos = undefined;\n        if (clusterNodeProperties.x === undefined) {\n          pos = this._getClusterPosition(childNodesObj);\n          clusterNodeProperties.x = pos.x;\n        }\n        if (clusterNodeProperties.y === undefined) {\n          if (pos === undefined) {\n            pos = this._getClusterPosition(childNodesObj);\n          }\n          clusterNodeProperties.y = pos.y;\n        }\n\n        // force the ID to remain the same\n        clusterNodeProperties.id = clusterId;\n\n        // create the clusterNode\n        var clusterNode = this.body.functions.createNode(clusterNodeProperties, _componentsNodesCluster2['default']);\n        clusterNode.isCluster = true;\n        clusterNode.containedNodes = childNodesObj;\n        clusterNode.containedEdges = childEdgesObj;\n        // cache a copy from the cluster edge properties if we have to reconnect others later on\n        clusterNode.clusterEdgeProperties = options.clusterEdgeProperties;\n\n        // finally put the cluster node into global\n        this.body.nodes[clusterNodeProperties.id] = clusterNode;\n\n        // create the new edges that will connect to the cluster, all self-referencing edges will be added to childEdgesObject here.\n        this._createClusterEdges(childNodesObj, childEdgesObj, clusterNodeProperties, options.clusterEdgeProperties);\n\n        // disable the childEdges\n        for (var edgeId in childEdgesObj) {\n          if (childEdgesObj.hasOwnProperty(edgeId)) {\n            if (this.body.edges[edgeId] !== undefined) {\n              var edge = this.body.edges[edgeId];\n              // cache the options before changing\n              this._backupEdgeOptions(edge);\n              // disable physics and hide the edge\n              edge.setOptions({ physics: false, hidden: true });\n            }\n          }\n        }\n\n        // disable the childNodes\n        for (var nodeId in childNodesObj) {\n          if (childNodesObj.hasOwnProperty(nodeId)) {\n            this.clusteredNodes[nodeId] = { clusterId: clusterNodeProperties.id, node: this.body.nodes[nodeId] };\n            this.body.nodes[nodeId].setOptions({ hidden: true, physics: false });\n          }\n        }\n\n        // set ID to undefined so no duplicates arise\n        clusterNodeProperties.id = undefined;\n\n        // wrap up\n        if (refreshData === true) {\n          this.body.emitter.emit('_dataChanged');\n        }\n      }\n    }, {\n      key: '_backupEdgeOptions',\n      value: function _backupEdgeOptions(edge) {\n        if (this.clusteredEdges[edge.id] === undefined) {\n          this.clusteredEdges[edge.id] = { physics: edge.options.physics, hidden: edge.options.hidden };\n        }\n      }\n    }, {\n      key: '_restoreEdge',\n      value: function _restoreEdge(edge) {\n        var originalOptions = this.clusteredEdges[edge.id];\n        if (originalOptions !== undefined) {\n          edge.setOptions({ physics: originalOptions.physics, hidden: originalOptions.hidden });\n          delete this.clusteredEdges[edge.id];\n        }\n      }\n\n      /**\n      * Check if a node is a cluster.\n      * @param nodeId\n      * @returns {*}\n      */\n    }, {\n      key: 'isCluster',\n      value: function isCluster(nodeId) {\n        if (this.body.nodes[nodeId] !== undefined) {\n          return this.body.nodes[nodeId].isCluster === true;\n        } else {\n          console.log(\&quot;Node does not exist.\&quot;);\n          return false;\n        }\n      }\n\n      /**\n      * get the position of the cluster node based on what's inside\n      * @param {object} childNodesObj    | object with node objects, id as keys\n      * @returns {{x: number, y: number}}\n      * @private\n      */\n    }, {\n      key: '_getClusterPosition',\n      value: function _getClusterPosition(childNodesObj) {\n        var childKeys = Object.keys(childNodesObj);\n        var minX = childNodesObj[childKeys[0]].x;\n        var maxX = childNodesObj[childKeys[0]].x;\n        var minY = childNodesObj[childKeys[0]].y;\n        var maxY = childNodesObj[childKeys[0]].y;\n        var node = undefined;\n        for (var i = 1; i &lt; childKeys.length; i++) {\n          node = childNodesObj[childKeys[i]];\n          minX = node.x &lt; minX ? node.x : minX;\n          maxX = node.x &gt; maxX ? node.x : maxX;\n          minY = node.y &lt; minY ? node.y : minY;\n          maxY = node.y &gt; maxY ? node.y : maxY;\n        }\n\n        return { x: 0.5 * (minX + maxX), y: 0.5 * (minY + maxY) };\n      }\n\n      /**\n      * Open a cluster by calling this function.\n      * @param {String}  clusterNodeId | the ID of the cluster node\n      * @param {Boolean} refreshData | wrap up afterwards if not true\n      */\n    }, {\n      key: 'openCluster',\n      value: function openCluster(clusterNodeId, options) {\n        var refreshData = arguments.length &lt;= 2 || arguments[2] === undefined ? true : arguments[2];\n\n        // kill conditions\n        if (clusterNodeId === undefined) {\n          throw new Error(\&quot;No clusterNodeId supplied to openCluster.\&quot;);\n        }\n        if (this.body.nodes[clusterNodeId] === undefined) {\n          throw new Error(\&quot;The clusterNodeId supplied to openCluster does not exist.\&quot;);\n        }\n        if (this.body.nodes[clusterNodeId].containedNodes === undefined) {\n          console.log(\&quot;The node:\&quot; + clusterNodeId + \&quot; is not a cluster.\&quot;);\n          return;\n        }\n        var clusterNode = this.body.nodes[clusterNodeId];\n        var containedNodes = clusterNode.containedNodes;\n        var containedEdges = clusterNode.containedEdges;\n\n        // allow the user to position the nodes after release.\n        if (options !== undefined &amp;&amp; options.releaseFunction !== undefined &amp;&amp; typeof options.releaseFunction === 'function') {\n          var positions = {};\n          var clusterPosition = { x: clusterNode.x, y: clusterNode.y };\n          for (var nodeId in containedNodes) {\n            if (containedNodes.hasOwnProperty(nodeId)) {\n              var containedNode = this.body.nodes[nodeId];\n              positions[nodeId] = { x: containedNode.x, y: containedNode.y };\n            }\n          }\n          var newPositions = options.releaseFunction(clusterPosition, positions);\n\n          for (var nodeId in containedNodes) {\n            if (containedNodes.hasOwnProperty(nodeId)) {\n              var containedNode = this.body.nodes[nodeId];\n              if (newPositions[nodeId] !== undefined) {\n                containedNode.x = newPositions[nodeId].x === undefined ? clusterNode.x : newPositions[nodeId].x;\n                containedNode.y = newPositions[nodeId].y === undefined ? clusterNode.y : newPositions[nodeId].y;\n              }\n            }\n          }\n        } else {\n          // copy the position from the cluster\n          for (var nodeId in containedNodes) {\n            if (containedNodes.hasOwnProperty(nodeId)) {\n              var containedNode = this.body.nodes[nodeId];\n              containedNode = containedNodes[nodeId];\n              // inherit position\n              if (containedNode.options.fixed.x === false) {\n                containedNode.x = clusterNode.x;\n              }\n              if (containedNode.options.fixed.y === false) {\n                containedNode.y = clusterNode.y;\n              }\n            }\n          }\n        }\n\n        // release nodes\n        for (var nodeId in containedNodes) {\n          if (containedNodes.hasOwnProperty(nodeId)) {\n            var containedNode = this.body.nodes[nodeId];\n\n            // inherit speed\n            containedNode.vx = clusterNode.vx;\n            containedNode.vy = clusterNode.vy;\n\n            // we use these methods to avoid re-instantiating the shape, which happens with setOptions.\n            containedNode.setOptions({ hidden: false, physics: true });\n\n            delete this.clusteredNodes[nodeId];\n          }\n        }\n\n        // copy the clusterNode edges because we cannot iterate over an object that we add or remove from.\n        var edgesToBeDeleted = [];\n        for (var i = 0; i &lt; clusterNode.edges.length; i++) {\n          edgesToBeDeleted.push(clusterNode.edges[i]);\n        }\n\n        // actually handling the deleting.\n        for (var i = 0; i &lt; edgesToBeDeleted.length; i++) {\n          var edge = edgesToBeDeleted[i];\n\n          var otherNodeId = this._getConnectedId(edge, clusterNodeId);\n          // if the other node is in another cluster, we transfer ownership of this edge to the other cluster\n          if (this.clusteredNodes[otherNodeId] !== undefined) {\n            // transfer ownership:\n            var otherCluster = this.body.nodes[this.clusteredNodes[otherNodeId].clusterId];\n            var transferEdge = this.body.edges[edge.clusteringEdgeReplacingId];\n            if (transferEdge !== undefined) {\n              otherCluster.containedEdges[transferEdge.id] = transferEdge;\n\n              // delete local reference\n              delete containedEdges[transferEdge.id];\n\n              // create new cluster edge from the otherCluster:\n              // get to and from\n              var fromId = transferEdge.fromId;\n              var toId = transferEdge.toId;\n              if (transferEdge.toId == otherNodeId) {\n                toId = this.clusteredNodes[otherNodeId].clusterId;\n              } else {\n                fromId = this.clusteredNodes[otherNodeId].clusterId;\n              }\n\n              // clone the options and apply the cluster options to them\n              var clonedOptions = _NetworkUtil2['default'].cloneOptions(transferEdge, 'edge');\n              util.deepExtend(clonedOptions, otherCluster.clusterEdgeProperties);\n\n              // apply the edge specific options to it.\n              var id = 'clusterEdge:' + util.randomUUID();\n              util.deepExtend(clonedOptions, { from: fromId, to: toId, hidden: false, physics: true, id: id });\n\n              // create it\n              var newEdge = this.body.functions.createEdge(clonedOptions);\n              newEdge.clusteringEdgeReplacingId = transferEdge.id;\n              this.body.edges[id] = newEdge;\n              this.body.edges[id].connect();\n            }\n          } else {\n            var replacedEdge = this.body.edges[edge.clusteringEdgeReplacingId];\n            if (replacedEdge !== undefined) {\n              this._restoreEdge(replacedEdge);\n            }\n          }\n          edge.cleanup();\n          // this removes the edge from node.edges, which is why edgeIds is formed\n          edge.disconnect();\n          delete this.body.edges[edge.id];\n        }\n\n        // handle the releasing of the edges\n        for (var edgeId in containedEdges) {\n          if (containedEdges.hasOwnProperty(edgeId)) {\n            this._restoreEdge(containedEdges[edgeId]);\n          }\n        }\n\n        // remove clusterNode\n        delete this.body.nodes[clusterNodeId];\n\n        if (refreshData === true) {\n          this.body.emitter.emit('_dataChanged');\n        }\n      }\n    }, {\n      key: 'getNodesInCluster',\n      value: function getNodesInCluster(clusterId) {\n        var nodesArray = [];\n        if (this.isCluster(clusterId) === true) {\n          var containedNodes = this.body.nodes[clusterId].containedNodes;\n          for (var nodeId in containedNodes) {\n            if (containedNodes.hasOwnProperty(nodeId)) {\n              nodesArray.push(this.body.nodes[nodeId].id);\n            }\n          }\n        }\n\n        return nodesArray;\n      }\n\n      /**\n      * Get the stack clusterId's that a certain node resides in. cluster A -&gt; cluster B -&gt; cluster C -&gt; node\n      * @param nodeId\n      * @returns {Array}\n      */\n    }, {\n      key: 'findNode',\n      value: function findNode(nodeId) {\n        var stack = [];\n        var max = 100;\n        var counter = 0;\n\n        while (this.clusteredNodes[nodeId] !== undefined &amp;&amp; counter &lt; max) {\n          stack.push(this.body.nodes[nodeId].id);\n          nodeId = this.clusteredNodes[nodeId].clusterId;\n          counter++;\n        }\n        stack.push(this.body.nodes[nodeId].id);\n        stack.reverse();\n\n        return stack;\n      }\n\n      /**\n      * Get the Id the node is connected to\n      * @param edge\n      * @param nodeId\n      * @returns {*}\n      * @private\n      */\n    }, {\n      key: '_getConnectedId',\n      value: function _getConnectedId(edge, nodeId) {\n        if (edge.toId != nodeId) {\n          return edge.toId;\n        } else if (edge.fromId != nodeId) {\n          return edge.fromId;\n        } else {\n          return edge.fromId;\n        }\n      }\n\n      /**\n      * We determine how many connections denote an important hub.\n      * We take the mean + 2*std as the important hub size. (Assuming a normal distribution of data, ~2.2%)\n      *\n      * @private\n      */\n    }, {\n      key: '_getHubSize',\n      value: function _getHubSize() {\n        var average = 0;\n        var averageSquared = 0;\n        var hubCounter = 0;\n        var largestHub = 0;\n\n        for (var i = 0; i &lt; this.body.nodeIndices.length; i++) {\n          var node = this.body.nodes[this.body.nodeIndices[i]];\n          if (node.edges.length &gt; largestHub) {\n            largestHub = node.edges.length;\n          }\n          average += node.edges.length;\n          averageSquared += Math.pow(node.edges.length, 2);\n          hubCounter += 1;\n        }\n        average = average / hubCounter;\n        averageSquared = averageSquared / hubCounter;\n\n        var variance = averageSquared - Math.pow(average, 2);\n        var standardDeviation = Math.sqrt(variance);\n\n        var hubThreshold = Math.floor(average + 2 * standardDeviation);\n\n        // always have at least one to cluster\n        if (hubThreshold &gt; largestHub) {\n          hubThreshold = largestHub;\n        }\n\n        return hubThreshold;\n      }\n    }]);\n\n    return ClusterEngine;\n  })();\n\n  exports['default'] = ClusterEngine;\n  module.exports = exports['default'];\n\n/***/ },\n/* 99 */\n/***/ function(module, exports, __webpack_require__) {\n\n  \&quot;use strict\&quot;;\n\n  Object.defineProperty(exports, \&quot;__esModule\&quot;, {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\&quot;value\&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\&quot;Cannot call a class as a function\&quot;); } }\n\n  var util = __webpack_require__(1);\n\n  var NetworkUtil = (function () {\n    function NetworkUtil() {\n      _classCallCheck(this, NetworkUtil);\n    }\n\n    /**\n     * Find the center position of the network considering the bounding boxes\n     */\n\n    _createClass(NetworkUtil, null, [{\n      key: \&quot;getRange\&quot;,\n      value: function getRange(allNodes) {\n        var specificNodes = arguments.length &lt;= 1 || arguments[1] === undefined ? [] : arguments[1];\n\n        var minY = 1e9,\n            maxY = -1e9,\n            minX = 1e9,\n            maxX = -1e9,\n            node;\n        if (specificNodes.length &gt; 0) {\n          for (var i = 0; i &lt; specificNodes.length; i++) {\n            node = allNodes[specificNodes[i]];\n            if (minX &gt; node.shape.boundingBox.left) {\n              minX = node.shape.boundingBox.left;\n            }\n            if (maxX &lt; node.shape.boundingBox.right) {\n              maxX = node.shape.boundingBox.right;\n            }\n            if (minY &gt; node.shape.boundingBox.top) {\n              minY = node.shape.boundingBox.top;\n            } // top is negative, bottom is positive\n            if (maxY &lt; node.shape.boundingBox.bottom) {\n              maxY = node.shape.boundingBox.bottom;\n            } // top is negative, bottom is positive\n          }\n        }\n\n        if (minX === 1e9 &amp;&amp; maxX === -1e9 &amp;&amp; minY === 1e9 &amp;&amp; maxY === -1e9) {\n          minY = 0, maxY = 0, minX = 0, maxX = 0;\n        }\n        return { minX: minX, maxX: maxX, minY: minY, maxY: maxY };\n      }\n\n      /**\n       * Find the center position of the network\n       */\n    }, {\n      key: \&quot;getRangeCore\&quot;,\n      value: function getRangeCore(allNodes) {\n        var specificNodes = arguments.length &lt;= 1 || arguments[1] === undefined ? [] : arguments[1];\n\n        var minY = 1e9,\n            maxY = -1e9,\n            minX = 1e9,\n            maxX = -1e9,\n            node;\n        if (specificNodes.length &gt; 0) {\n          for (var i = 0; i &lt; specificNodes.length; i++) {\n            node = allNodes[specificNodes[i]];\n            if (minX &gt; node.x) {\n              minX = node.x;\n            }\n            if (maxX &lt; node.x) {\n              maxX = node.x;\n            }\n            if (minY &gt; node.y) {\n              minY = node.y;\n            } // top is negative, bottom is positive\n            if (maxY &lt; node.y) {\n              maxY = node.y;\n            } // top is negative, bottom is positive\n          }\n        }\n\n        if (minX === 1e9 &amp;&amp; maxX === -1e9 &amp;&amp; minY === 1e9 &amp;&amp; maxY === -1e9) {\n          minY = 0, maxY = 0, minX = 0, maxX = 0;\n        }\n        return { minX: minX, maxX: maxX, minY: minY, maxY: maxY };\n      }\n\n      /**\n       * @param {object} range = {minX: minX, maxX: maxX, minY: minY, maxY: maxY};\n       * @returns {{x: number, y: number}}\n       */\n    }, {\n      key: \&quot;findCenter\&quot;,\n      value: function findCenter(range) {\n        return { x: 0.5 * (range.maxX + range.minX),\n          y: 0.5 * (range.maxY + range.minY) };\n      }\n\n      /**\n       * This returns a clone of the options or options of the edge or node to be used for construction of new edges or check functions for new nodes.\n       * @param item\n       * @param type\n       * @returns {{}}\n       */\n    }, {\n      key: \&quot;cloneOptions\&quot;,\n      value: function cloneOptions(item, type) {\n        var clonedOptions = {};\n        if (type === undefined || type === 'node') {\n          util.deepExtend(clonedOptions, item.options, true);\n          clonedOptions.x = item.x;\n          clonedOptions.y = item.y;\n          clonedOptions.amountOfConnections = item.edges.length;\n        } else {\n          util.deepExtend(clonedOptions, item.options, true);\n        }\n        return clonedOptions;\n      }\n    }]);\n\n    return NetworkUtil;\n  })();\n\n  exports[\&quot;default\&quot;] = NetworkUtil;\n  module.exports = exports[\&quot;default\&quot;];\n\n/***/ },\n/* 100 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' &amp;&amp; superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n  var _Node2 = __webpack_require__(61);\n\n  var _Node3 = _interopRequireDefault(_Node2);\n\n  /**\n   *\n   */\n\n  var Cluster = (function (_Node) {\n    _inherits(Cluster, _Node);\n\n    function Cluster(options, body, imagelist, grouplist, globalOptions) {\n      _classCallCheck(this, Cluster);\n\n      _get(Object.getPrototypeOf(Cluster.prototype), 'constructor', this).call(this, options, body, imagelist, grouplist, globalOptions);\n\n      this.isCluster = true;\n      this.containedNodes = {};\n      this.containedEdges = {};\n    }\n\n    return Cluster;\n  })(_Node3['default']);\n\n  exports['default'] = Cluster;\n  module.exports = exports['default'];\n\n/***/ },\n/* 101 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  if (typeof window !== 'undefined') {\n    window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\n  }\n\n  var util = __webpack_require__(1);\n\n  var CanvasRenderer = (function () {\n    function CanvasRenderer(body, canvas) {\n      _classCallCheck(this, CanvasRenderer);\n\n      this.body = body;\n      this.canvas = canvas;\n\n      this.redrawRequested = false;\n      this.renderTimer = undefined;\n      this.requiresTimeout = true;\n      this.renderingActive = false;\n      this.renderRequests = 0;\n      this.pixelRatio = undefined;\n      this.allowRedraw = true;\n\n      this.dragging = false;\n      this.options = {};\n      this.defaultOptions = {\n        hideEdgesOnDrag: false,\n        hideNodesOnDrag: false\n      };\n      util.extend(this.options, this.defaultOptions);\n\n      this._determineBrowserMethod();\n      this.bindEventListeners();\n    }\n\n    _createClass(CanvasRenderer, [{\n      key: 'bindEventListeners',\n      value: function bindEventListeners() {\n        var _this = this;\n\n        this.body.emitter.on(\&quot;dragStart\&quot;, function () {\n          _this.dragging = true;\n        });\n        this.body.emitter.on(\&quot;dragEnd\&quot;, function () {\n          return _this.dragging = false;\n        });\n        this.body.emitter.on(\&quot;_resizeNodes\&quot;, function () {\n          return _this._resizeNodes();\n        });\n        this.body.emitter.on(\&quot;_redraw\&quot;, function () {\n          if (_this.renderingActive === false) {\n            _this._redraw();\n          }\n        });\n        this.body.emitter.on(\&quot;_blockRedraw\&quot;, function () {\n          _this.allowRedraw = false;\n        });\n        this.body.emitter.on(\&quot;_allowRedraw\&quot;, function () {\n          _this.allowRedraw = true;_this.redrawRequested = false;\n        });\n        this.body.emitter.on(\&quot;_requestRedraw\&quot;, this._requestRedraw.bind(this));\n        this.body.emitter.on(\&quot;_startRendering\&quot;, function () {\n          _this.renderRequests += 1;\n          _this.renderingActive = true;\n          _this._startRendering();\n        });\n        this.body.emitter.on(\&quot;_stopRendering\&quot;, function () {\n          _this.renderRequests -= 1;\n          _this.renderingActive = _this.renderRequests &gt; 0;\n          _this.renderTimer = undefined;\n        });\n        this.body.emitter.on('destroy', function () {\n          _this.renderRequests = 0;\n          _this.allowRedraw = false;\n          _this.renderingActive = false;\n          if (_this.requiresTimeout === true) {\n            clearTimeout(_this.renderTimer);\n          } else {\n            cancelAnimationFrame(_this.renderTimer);\n          }\n          _this.body.emitter.off();\n        });\n      }\n    }, {\n      key: 'setOptions',\n      value: function setOptions(options) {\n        if (options !== undefined) {\n          var fields = ['hideEdgesOnDrag', 'hideNodesOnDrag'];\n          util.selectiveDeepExtend(fields, this.options, options);\n        }\n      }\n    }, {\n      key: '_startRendering',\n      value: function _startRendering() {\n        if (this.renderingActive === true) {\n          if (this.renderTimer === undefined) {\n            if (this.requiresTimeout === true) {\n              this.renderTimer = window.setTimeout(this._renderStep.bind(this), this.simulationInterval); // wait this.renderTimeStep milliseconds and perform the animation step function\n            } else {\n                this.renderTimer = window.requestAnimationFrame(this._renderStep.bind(this)); // wait this.renderTimeStep milliseconds and perform the animation step function\n              }\n          }\n        }\n      }\n    }, {\n      key: '_renderStep',\n      value: function _renderStep() {\n        if (this.renderingActive === true) {\n          // reset the renderTimer so a new scheduled animation step can be set\n          this.renderTimer = undefined;\n\n          if (this.requiresTimeout === true) {\n            // this schedules a new simulation step\n            this._startRendering();\n          }\n\n          this._redraw();\n\n          if (this.requiresTimeout === false) {\n            // this schedules a new simulation step\n            this._startRendering();\n          }\n        }\n      }\n\n      /**\n       * Redraw the network with the current data\n       * chart will be resized too.\n       */\n    }, {\n      key: 'redraw',\n      value: function redraw() {\n        this.body.emitter.emit('setSize');\n        this._redraw();\n      }\n\n      /**\n       * Redraw the network with the current data\n       * @param hidden | used to get the first estimate of the node sizes. only the nodes are drawn after which they are quickly drawn over.\n       * @private\n       */\n    }, {\n      key: '_requestRedraw',\n      value: function _requestRedraw() {\n        var _this2 = this;\n\n        if (this.redrawRequested !== true &amp;&amp; this.renderingActive === false &amp;&amp; this.allowRedraw === true) {\n          this.redrawRequested = true;\n          if (this.requiresTimeout === true) {\n            window.setTimeout(function () {\n              _this2._redraw(false);\n            }, 0);\n          } else {\n            window.requestAnimationFrame(function () {\n              _this2._redraw(false);\n            });\n          }\n        }\n      }\n    }, {\n      key: '_redraw',\n      value: function _redraw() {\n        var hidden = arguments.length &lt;= 0 || arguments[0] === undefined ? false : arguments[0];\n\n        if (this.allowRedraw === true) {\n          this.body.emitter.emit(\&quot;initRedraw\&quot;);\n\n          this.redrawRequested = false;\n          var ctx = this.canvas.frame.canvas.getContext('2d');\n\n          // when the container div was hidden, this fixes it back up!\n          if (this.canvas.frame.canvas.width === 0 || this.canvas.frame.canvas.height === 0) {\n            this.canvas.setSize();\n          }\n\n          this.pixelRatio = (window.devicePixelRatio || 1) / (ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1);\n\n          ctx.setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0);\n\n          // clear the canvas\n          var w = this.canvas.frame.canvas.clientWidth;\n          var h = this.canvas.frame.canvas.clientHeight;\n          ctx.clearRect(0, 0, w, h);\n\n          // if the div is hidden, we stop the redraw here for performance.\n          if (this.canvas.frame.clientWidth === 0) {\n            return;\n          }\n\n          // set scaling and translation\n          ctx.save();\n          ctx.translate(this.body.view.translation.x, this.body.view.translation.y);\n          ctx.scale(this.body.view.scale, this.body.view.scale);\n\n          ctx.beginPath();\n          this.body.emitter.emit(\&quot;beforeDrawing\&quot;, ctx);\n          ctx.closePath();\n\n          if (hidden === false) {\n            if (this.dragging === false || this.dragging === true &amp;&amp; this.options.hideEdgesOnDrag === false) {\n              this._drawEdges(ctx);\n            }\n          }\n\n          if (this.dragging === false || this.dragging === true &amp;&amp; this.options.hideNodesOnDrag === false) {\n            this._drawNodes(ctx, hidden);\n          }\n\n          ctx.beginPath();\n          this.body.emitter.emit(\&quot;afterDrawing\&quot;, ctx);\n          ctx.closePath();\n\n          // restore original scaling and translation\n          ctx.restore();\n          if (hidden === true) {\n            ctx.clearRect(0, 0, w, h);\n          }\n        }\n      }\n\n      /**\n       * Redraw all nodes\n       * The 2d context of a HTML canvas can be retrieved by canvas.getContext('2d');\n       * @param {CanvasRenderingContext2D}   ctx\n       * @param {Boolean} [alwaysShow]\n       * @private\n       */\n    }, {\n      key: '_resizeNodes',\n      value: function _resizeNodes() {\n        var ctx = this.canvas.frame.canvas.getContext('2d');\n        if (this.pixelRatio === undefined) {\n          this.pixelRatio = (window.devicePixelRatio || 1) / (ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1);\n        }\n        ctx.setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0);\n        ctx.save();\n        ctx.translate(this.body.view.translation.x, this.body.view.translation.y);\n        ctx.scale(this.body.view.scale, this.body.view.scale);\n\n        var nodes = this.body.nodes;\n        var node = undefined;\n\n        // resize all nodes\n        for (var nodeId in nodes) {\n          if (nodes.hasOwnProperty(nodeId)) {\n            node = nodes[nodeId];\n            node.resize(ctx);\n            node.updateBoundingBox(ctx, node.selected);\n          }\n        }\n\n        // restore original scaling and translation\n        ctx.restore();\n      }\n\n      /**\n       * Redraw all nodes\n       * The 2d context of a HTML canvas can be retrieved by canvas.getContext('2d');\n       * @param {CanvasRenderingContext2D}   ctx\n       * @param {Boolean} [alwaysShow]\n       * @private\n       */\n    }, {\n      key: '_drawNodes',\n      value: function _drawNodes(ctx) {\n        var alwaysShow = arguments.length &lt;= 1 || arguments[1] === undefined ? false : arguments[1];\n\n        var nodes = this.body.nodes;\n        var nodeIndices = this.body.nodeIndices;\n        var node = undefined;\n        var selected = [];\n        var margin = 20;\n        var topLeft = this.canvas.DOMtoCanvas({ x: -margin, y: -margin });\n        var bottomRight = this.canvas.DOMtoCanvas({\n          x: this.canvas.frame.canvas.clientWidth + margin,\n          y: this.canvas.frame.canvas.clientHeight + margin\n        });\n        var viewableArea = { top: topLeft.y, left: topLeft.x, bottom: bottomRight.y, right: bottomRight.x };\n\n        // draw unselected nodes;\n        for (var i = 0; i &lt; nodeIndices.length; i++) {\n          node = nodes[nodeIndices[i]];\n          // set selected nodes aside\n          if (node.isSelected()) {\n            selected.push(nodeIndices[i]);\n          } else {\n            if (alwaysShow === true) {\n              node.draw(ctx);\n            } else if (node.isBoundingBoxOverlappingWith(viewableArea) === true) {\n              node.draw(ctx);\n            } else {\n              node.updateBoundingBox(ctx, node.selected);\n            }\n          }\n        }\n\n        // draw the selected nodes on top\n        for (var i = 0; i &lt; selected.length; i++) {\n          node = nodes[selected[i]];\n          node.draw(ctx);\n        }\n      }\n\n      /**\n       * Redraw all edges\n       * The 2d context of a HTML canvas can be retrieved by canvas.getContext('2d');\n       * @param {CanvasRenderingContext2D}   ctx\n       * @private\n       */\n    }, {\n      key: '_drawEdges',\n      value: function _drawEdges(ctx) {\n        var edges = this.body.edges;\n        var edgeIndices = this.body.edgeIndices;\n        var edge = undefined;\n\n        for (var i = 0; i &lt; edgeIndices.length; i++) {\n          edge = edges[edgeIndices[i]];\n          if (edge.connected === true) {\n            edge.draw(ctx);\n          }\n        }\n      }\n\n      /**\n       * Determine if the browser requires a setTimeout or a requestAnimationFrame. This was required because\n       * some implementations (safari and IE9) did not support requestAnimationFrame\n       * @private\n       */\n    }, {\n      key: '_determineBrowserMethod',\n      value: function _determineBrowserMethod() {\n        if (typeof window !== 'undefined') {\n          var browserType = navigator.userAgent.toLowerCase();\n          this.requiresTimeout = false;\n          if (browserType.indexOf('msie 9.0') != -1) {\n            // IE 9\n            this.requiresTimeout = true;\n          } else if (browserType.indexOf('safari') != -1) {\n            // safari\n            if (browserType.indexOf('chrome') &lt;= -1) {\n              this.requiresTimeout = true;\n            }\n          }\n        } else {\n          this.requiresTimeout = true;\n        }\n      }\n    }]);\n\n    return CanvasRenderer;\n  })();\n\n  exports['default'] = CanvasRenderer;\n  module.exports = exports['default'];\n\n/***/ },\n/* 102 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var Hammer = __webpack_require__(20);\n  var hammerUtil = __webpack_require__(24);\n\n  var util = __webpack_require__(1);\n\n  /**\n   * Create the main frame for the Network.\n   * This function is executed once when a Network object is created. The frame\n   * contains a canvas, and this canvas contains all objects like the axis and\n   * nodes.\n   * @private\n   */\n\n  var Canvas = (function () {\n    function Canvas(body) {\n      _classCallCheck(this, Canvas);\n\n      this.body = body;\n      this.pixelRatio = 1;\n      this.resizeTimer = undefined;\n      this.resizeFunction = this._onResize.bind(this);\n      this.cameraState = {};\n\n      this.options = {};\n      this.defaultOptions = {\n        autoResize: true,\n        height: '100%',\n        width: '100%'\n      };\n      util.extend(this.options, this.defaultOptions);\n\n      this.bindEventListeners();\n    }\n\n    _createClass(Canvas, [{\n      key: 'bindEventListeners',\n      value: function bindEventListeners() {\n        var _this = this;\n\n        // bind the events\n        this.body.emitter.once(\&quot;resize\&quot;, function (obj) {\n          if (obj.width !== 0) {\n            _this.body.view.translation.x = obj.width * 0.5;\n          }\n          if (obj.height !== 0) {\n            _this.body.view.translation.y = obj.height * 0.5;\n          }\n        });\n        this.body.emitter.on(\&quot;setSize\&quot;, this.setSize.bind(this));\n        this.body.emitter.on(\&quot;destroy\&quot;, function () {\n          _this.hammerFrame.destroy();\n          _this.hammer.destroy();\n          _this._cleanUp();\n        });\n      }\n    }, {\n      key: 'setOptions',\n      value: function setOptions(options) {\n        var _this2 = this;\n\n        if (options !== undefined) {\n          var fields = ['width', 'height', 'autoResize'];\n          util.selectiveDeepExtend(fields, this.options, options);\n        }\n\n        if (this.options.autoResize === true) {\n          // automatically adapt to a changing size of the browser.\n          this._cleanUp();\n          this.resizeTimer = setInterval(function () {\n            var changed = _this2.setSize();\n            if (changed === true) {\n              _this2.body.emitter.emit(\&quot;_requestRedraw\&quot;);\n            }\n          }, 1000);\n          this.resizeFunction = this._onResize.bind(this);\n          util.addEventListener(window, 'resize', this.resizeFunction);\n        }\n      }\n    }, {\n      key: '_cleanUp',\n      value: function _cleanUp() {\n        // automatically adapt to a changing size of the browser.\n        if (this.resizeTimer !== undefined) {\n          clearInterval(this.resizeTimer);\n        }\n        util.removeEventListener(window, 'resize', this.resizeFunction);\n        this.resizeFunction = undefined;\n      }\n    }, {\n      key: '_onResize',\n      value: function _onResize() {\n        this.setSize();\n        this.body.emitter.emit(\&quot;_redraw\&quot;);\n      }\n\n      /**\n       * Get and store the cameraState\n       * @private\n       */\n    }, {\n      key: '_getCameraState',\n      value: function _getCameraState() {\n        var pixelRatio = arguments.length &lt;= 0 || arguments[0] === undefined ? this.pixelRatio : arguments[0];\n\n        this.cameraState.previousWidth = this.frame.canvas.width / pixelRatio;\n        this.cameraState.previousHeight = this.frame.canvas.height / pixelRatio;\n        this.cameraState.scale = this.body.view.scale;\n        this.cameraState.position = this.DOMtoCanvas({ x: 0.5 * this.frame.canvas.width / pixelRatio, y: 0.5 * this.frame.canvas.height / pixelRatio });\n      }\n\n      /**\n       * Set the cameraState\n       * @private\n       */\n    }, {\n      key: '_setCameraState',\n      value: function _setCameraState() {\n        if (this.cameraState.scale !== undefined &amp;&amp; this.frame.canvas.clientWidth !== 0 &amp;&amp; this.frame.canvas.clientHeight !== 0 &amp;&amp; this.pixelRatio !== 0 &amp;&amp; this.cameraState.previousWidth &gt; 0) {\n\n          var widthRatio = this.frame.canvas.width / this.pixelRatio / this.cameraState.previousWidth;\n          var heightRatio = this.frame.canvas.height / this.pixelRatio / this.cameraState.previousHeight;\n          var newScale = this.cameraState.scale;\n\n          if (widthRatio != 1 &amp;&amp; heightRatio != 1) {\n            newScale = this.cameraState.scale * 0.5 * (widthRatio + heightRatio);\n          } else if (widthRatio != 1) {\n            newScale = this.cameraState.scale * widthRatio;\n          } else if (heightRatio != 1) {\n            newScale = this.cameraState.scale * heightRatio;\n          }\n\n          this.body.view.scale = newScale;\n          // this comes from the view module.\n          var currentViewCenter = this.DOMtoCanvas({\n            x: 0.5 * this.frame.canvas.clientWidth,\n            y: 0.5 * this.frame.canvas.clientHeight\n          });\n\n          var distanceFromCenter = { // offset from view, distance view has to change by these x and y to center the node\n            x: currentViewCenter.x - this.cameraState.position.x,\n            y: currentViewCenter.y - this.cameraState.position.y\n          };\n          this.body.view.translation.x += distanceFromCenter.x * this.body.view.scale;\n          this.body.view.translation.y += distanceFromCenter.y * this.body.view.scale;\n        }\n      }\n    }, {\n      key: '_prepareValue',\n      value: function _prepareValue(value) {\n        if (typeof value === 'number') {\n          return value + 'px';\n        } else if (typeof value === 'string') {\n          if (value.indexOf('%') !== -1 || value.indexOf('px') !== -1) {\n            return value;\n          } else if (value.indexOf('%') === -1) {\n            return value + 'px';\n          }\n        }\n        throw new Error('Could not use the value supplied for width or height:' + value);\n      }\n\n      /**\n       * Create the HTML\n       */\n    }, {\n      key: '_create',\n      value: function _create() {\n        // remove all elements from the container element.\n        while (this.body.container.hasChildNodes()) {\n          this.body.container.removeChild(this.body.container.firstChild);\n        }\n\n        this.frame = document.createElement('div');\n        this.frame.className = 'vis-network';\n        this.frame.style.position = 'relative';\n        this.frame.style.overflow = 'hidden';\n        this.frame.tabIndex = 900; // tab index is required for keycharm to bind keystrokes to the div instead of the window\n\n        //////////////////////////////////////////////////////////////////\n\n        this.frame.canvas = document.createElement(\&quot;canvas\&quot;);\n        this.frame.canvas.style.position = 'relative';\n        this.frame.appendChild(this.frame.canvas);\n\n        if (!this.frame.canvas.getContext) {\n          var noCanvas = document.createElement('DIV');\n          noCanvas.style.color = 'red';\n          noCanvas.style.fontWeight = 'bold';\n          noCanvas.style.padding = '10px';\n          noCanvas.innerHTML = 'Error: your browser does not support HTML canvas';\n          this.frame.canvas.appendChild(noCanvas);\n        } else {\n          var ctx = this.frame.canvas.getContext(\&quot;2d\&quot;);\n          this.pixelRatio = (window.devicePixelRatio || 1) / (ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1);\n\n          this.frame.canvas.getContext(\&quot;2d\&quot;).setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0);\n        }\n\n        // add the frame to the container element\n        this.body.container.appendChild(this.frame);\n\n        this.body.view.scale = 1;\n        this.body.view.translation = { x: 0.5 * this.frame.canvas.clientWidth, y: 0.5 * this.frame.canvas.clientHeight };\n\n        this._bindHammer();\n      }\n\n      /**\n       * This function binds hammer, it can be repeated over and over due to the uniqueness check.\n       * @private\n       */\n    }, {\n      key: '_bindHammer',\n      value: function _bindHammer() {\n        var _this3 = this;\n\n        if (this.hammer !== undefined) {\n          this.hammer.destroy();\n        }\n        this.drag = {};\n        this.pinch = {};\n\n        // init hammer\n        this.hammer = new Hammer(this.frame.canvas);\n        this.hammer.get('pinch').set({ enable: true });\n        // enable to get better response, todo: test on mobile.\n        this.hammer.get('pan').set({ threshold: 5, direction: 30 }); // 30 is ALL_DIRECTIONS in hammer.\n\n        hammerUtil.onTouch(this.hammer, function (event) {\n          _this3.body.eventListeners.onTouch(event);\n        });\n        this.hammer.on('tap', function (event) {\n          _this3.body.eventListeners.onTap(event);\n        });\n        this.hammer.on('doubletap', function (event) {\n          _this3.body.eventListeners.onDoubleTap(event);\n        });\n        this.hammer.on('press', function (event) {\n          _this3.body.eventListeners.onHold(event);\n        });\n        this.hammer.on('panstart', function (event) {\n          _this3.body.eventListeners.onDragStart(event);\n        });\n        this.hammer.on('panmove', function (event) {\n          _this3.body.eventListeners.onDrag(event);\n        });\n        this.hammer.on('panend', function (event) {\n          _this3.body.eventListeners.onDragEnd(event);\n        });\n        this.hammer.on('pinch', function (event) {\n          _this3.body.eventListeners.onPinch(event);\n        });\n\n        // TODO: neatly cleanup these handlers when re-creating the Canvas, IF these are done with hammer, event.stopPropagation will not work?\n        this.frame.canvas.addEventListener('mousewheel', function (event) {\n          _this3.body.eventListeners.onMouseWheel(event);\n        });\n        this.frame.canvas.addEventListener('DOMMouseScroll', function (event) {\n          _this3.body.eventListeners.onMouseWheel(event);\n        });\n\n        this.frame.canvas.addEventListener('mousemove', function (event) {\n          _this3.body.eventListeners.onMouseMove(event);\n        });\n        this.frame.canvas.addEventListener('contextmenu', function (event) {\n          _this3.body.eventListeners.onContext(event);\n        });\n\n        this.hammerFrame = new Hammer(this.frame);\n        hammerUtil.onRelease(this.hammerFrame, function (event) {\n          _this3.body.eventListeners.onRelease(event);\n        });\n      }\n\n      /**\n       * Set a new size for the network\n       * @param {string} width   Width in pixels or percentage (for example '800px'\n       *                         or '50%')\n       * @param {string} height  Height in pixels or percentage  (for example '400px'\n       *                         or '30%')\n       */\n    }, {\n      key: 'setSize',\n      value: function setSize() {\n        var width = arguments.length &lt;= 0 || arguments[0] === undefined ? this.options.width : arguments[0];\n        var height = arguments.length &lt;= 1 || arguments[1] === undefined ? this.options.height : arguments[1];\n\n        width = this._prepareValue(width);\n        height = this._prepareValue(height);\n\n        var emitEvent = false;\n        var oldWidth = this.frame.canvas.width;\n        var oldHeight = this.frame.canvas.height;\n\n        // update the pixel ratio\n        var ctx = this.frame.canvas.getContext(\&quot;2d\&quot;);\n        var previousRatio = this.pixelRatio; // we cache this because the camera state storage needs the old value\n        this.pixelRatio = (window.devicePixelRatio || 1) / (ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1);\n\n        if (width != this.options.width || height != this.options.height || this.frame.style.width != width || this.frame.style.height != height) {\n          this._getCameraState(previousRatio);\n\n          this.frame.style.width = width;\n          this.frame.style.height = height;\n\n          this.frame.canvas.style.width = '100%';\n          this.frame.canvas.style.height = '100%';\n\n          this.frame.canvas.width = Math.round(this.frame.canvas.clientWidth * this.pixelRatio);\n          this.frame.canvas.height = Math.round(this.frame.canvas.clientHeight * this.pixelRatio);\n\n          this.options.width = width;\n          this.options.height = height;\n\n          emitEvent = true;\n        } else {\n          // this would adapt the width of the canvas to the width from 100% if and only if\n          // there is a change.\n\n          // store the camera if there is a change in size.\n          if (this.frame.canvas.width != Math.round(this.frame.canvas.clientWidth * this.pixelRatio) || this.frame.canvas.height != Math.round(this.frame.canvas.clientHeight * this.pixelRatio)) {\n            this._getCameraState(previousRatio);\n          }\n\n          if (this.frame.canvas.width != Math.round(this.frame.canvas.clientWidth * this.pixelRatio)) {\n            this.frame.canvas.width = Math.round(this.frame.canvas.clientWidth * this.pixelRatio);\n            emitEvent = true;\n          }\n          if (this.frame.canvas.height != Math.round(this.frame.canvas.clientHeight * this.pixelRatio)) {\n            this.frame.canvas.height = Math.round(this.frame.canvas.clientHeight * this.pixelRatio);\n            emitEvent = true;\n          }\n        }\n\n        if (emitEvent === true) {\n          this.body.emitter.emit('resize', {\n            width: Math.round(this.frame.canvas.width / this.pixelRatio),\n            height: Math.round(this.frame.canvas.height / this.pixelRatio),\n            oldWidth: Math.round(oldWidth / this.pixelRatio),\n            oldHeight: Math.round(oldHeight / this.pixelRatio)\n          });\n\n          // restore the camera on change.\n          this._setCameraState();\n        }\n\n        return emitEvent;\n      }\n    }, {\n      key: '_XconvertDOMtoCanvas',\n\n      /**\n       * Convert the X coordinate in DOM-space (coordinate point in browser relative to the container div) to\n       * the X coordinate in canvas-space (the simulation sandbox, which the camera looks upon)\n       * @param {number} x\n       * @returns {number}\n       * @private\n       */\n      value: function _XconvertDOMtoCanvas(x) {\n        return (x - this.body.view.translation.x) / this.body.view.scale;\n      }\n\n      /**\n       * Convert the X coordinate in canvas-space (the simulation sandbox, which the camera looks upon) to\n       * the X coordinate in DOM-space (coordinate point in browser relative to the container div)\n       * @param {number} x\n       * @returns {number}\n       * @private\n       */\n    }, {\n      key: '_XconvertCanvasToDOM',\n      value: function _XconvertCanvasToDOM(x) {\n        return x * this.body.view.scale + this.body.view.translation.x;\n      }\n\n      /**\n       * Convert the Y coordinate in DOM-space (coordinate point in browser relative to the container div) to\n       * the Y coordinate in canvas-space (the simulation sandbox, which the camera looks upon)\n       * @param {number} y\n       * @returns {number}\n       * @private\n       */\n    }, {\n      key: '_YconvertDOMtoCanvas',\n      value: function _YconvertDOMtoCanvas(y) {\n        return (y - this.body.view.translation.y) / this.body.view.scale;\n      }\n\n      /**\n       * Convert the Y coordinate in canvas-space (the simulation sandbox, which the camera looks upon) to\n       * the Y coordinate in DOM-space (coordinate point in browser relative to the container div)\n       * @param {number} y\n       * @returns {number}\n       * @private\n       */\n    }, {\n      key: '_YconvertCanvasToDOM',\n      value: function _YconvertCanvasToDOM(y) {\n        return y * this.body.view.scale + this.body.view.translation.y;\n      }\n\n      /**\n       *\n       * @param {object} pos   = {x: number, y: number}\n       * @returns {{x: number, y: number}}\n       * @constructor\n       */\n    }, {\n      key: 'canvasToDOM',\n      value: function canvasToDOM(pos) {\n        return { x: this._XconvertCanvasToDOM(pos.x), y: this._YconvertCanvasToDOM(pos.y) };\n      }\n\n      /**\n       *\n       * @param {object} pos   = {x: number, y: number}\n       * @returns {{x: number, y: number}}\n       * @constructor\n       */\n    }, {\n      key: 'DOMtoCanvas',\n      value: function DOMtoCanvas(pos) {\n        return { x: this._XconvertDOMtoCanvas(pos.x), y: this._YconvertDOMtoCanvas(pos.y) };\n      }\n    }]);\n\n    return Canvas;\n  })();\n\n  exports['default'] = Canvas;\n  module.exports = exports['default'];\n\n/***/ },\n/* 103 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var _NetworkUtil = __webpack_require__(99);\n\n  var _NetworkUtil2 = _interopRequireDefault(_NetworkUtil);\n\n  var util = __webpack_require__(1);\n\n  var View = (function () {\n    function View(body, canvas) {\n      var _this = this;\n\n      _classCallCheck(this, View);\n\n      this.body = body;\n      this.canvas = canvas;\n\n      this.animationSpeed = 1 / this.renderRefreshRate;\n      this.animationEasingFunction = \&quot;easeInOutQuint\&quot;;\n      this.easingTime = 0;\n      this.sourceScale = 0;\n      this.targetScale = 0;\n      this.sourceTranslation = 0;\n      this.targetTranslation = 0;\n      this.lockedOnNodeId = undefined;\n      this.lockedOnNodeOffset = undefined;\n      this.touchTime = 0;\n\n      this.viewFunction = undefined;\n\n      this.body.emitter.on(\&quot;fit\&quot;, this.fit.bind(this));\n      this.body.emitter.on(\&quot;animationFinished\&quot;, function () {\n        _this.body.emitter.emit(\&quot;_stopRendering\&quot;);\n      });\n      this.body.emitter.on(\&quot;unlockNode\&quot;, this.releaseNode.bind(this));\n    }\n\n    _createClass(View, [{\n      key: 'setOptions',\n      value: function setOptions() {\n        var options = arguments.length &lt;= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n        this.options = options;\n      }\n\n      /**\n       * This function zooms out to fit all data on screen based on amount of nodes\n       * @param {Object} Options\n       * @param {Boolean} [initialZoom]  | zoom based on fitted formula or range, true = fitted, default = false;\n       */\n    }, {\n      key: 'fit',\n      value: function fit() {\n        var options = arguments.length &lt;= 0 || arguments[0] === undefined ? { nodes: [] } : arguments[0];\n        var initialZoom = arguments.length &lt;= 1 || arguments[1] === undefined ? false : arguments[1];\n\n        var range = undefined;\n        var zoomLevel = undefined;\n        if (options.nodes === undefined || options.nodes.length === 0) {\n          options.nodes = this.body.nodeIndices;\n        }\n\n        if (initialZoom === true) {\n          // check if more than half of the nodes have a predefined position. If so, we use the range, not the approximation.\n          var positionDefined = 0;\n          for (var nodeId in this.body.nodes) {\n            if (this.body.nodes.hasOwnProperty(nodeId)) {\n              var node = this.body.nodes[nodeId];\n              if (node.predefinedPosition === true) {\n                positionDefined += 1;\n              }\n            }\n          }\n          if (positionDefined &gt; 0.5 * this.body.nodeIndices.length) {\n            this.fit(options, false);\n            return;\n          }\n\n          range = _NetworkUtil2['default'].getRange(this.body.nodes, options.nodes);\n\n          var numberOfNodes = this.body.nodeIndices.length;\n          zoomLevel = 12.662 / (numberOfNodes + 7.4147) + 0.0964822; // this is obtained from fitting a dataset from 5 points with scale levels that looked good.\n\n          // correct for larger canvasses.\n          var factor = Math.min(this.canvas.frame.canvas.clientWidth / 600, this.canvas.frame.canvas.clientHeight / 600);\n          zoomLevel *= factor;\n        } else {\n          this.body.emitter.emit(\&quot;_resizeNodes\&quot;);\n          range = _NetworkUtil2['default'].getRange(this.body.nodes, options.nodes);\n\n          var xDistance = Math.abs(range.maxX - range.minX) * 1.1;\n          var yDistance = Math.abs(range.maxY - range.minY) * 1.1;\n\n          var xZoomLevel = this.canvas.frame.canvas.clientWidth / xDistance;\n          var yZoomLevel = this.canvas.frame.canvas.clientHeight / yDistance;\n\n          zoomLevel = xZoomLevel &lt;= yZoomLevel ? xZoomLevel : yZoomLevel;\n        }\n\n        if (zoomLevel &gt; 1.0) {\n          zoomLevel = 1.0;\n        } else if (zoomLevel === 0) {\n          zoomLevel = 1.0;\n        }\n\n        var center = _NetworkUtil2['default'].findCenter(range);\n        var animationOptions = { position: center, scale: zoomLevel, animation: options.animation };\n        this.moveTo(animationOptions);\n      }\n\n      // animation\n\n      /**\n       * Center a node in view.\n       *\n       * @param {Number} nodeId\n       * @param {Number} [options]\n       */\n    }, {\n      key: 'focus',\n      value: function focus(nodeId) {\n        var options = arguments.length &lt;= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        if (this.body.nodes[nodeId] !== undefined) {\n          var nodePosition = { x: this.body.nodes[nodeId].x, y: this.body.nodes[nodeId].y };\n          options.position = nodePosition;\n          options.lockedOnNode = nodeId;\n\n          this.moveTo(options);\n        } else {\n          console.log(\&quot;Node: \&quot; + nodeId + \&quot; cannot be found.\&quot;);\n        }\n      }\n\n      /**\n       *\n       * @param {Object} options  |  options.offset   = {x:Number, y:Number}   // offset from the center in DOM pixels\n       *                          |  options.scale    = Number                 // scale to move to\n       *                          |  options.position = {x:Number, y:Number}   // position to move to\n       *                          |  options.animation = {duration:Number, easingFunction:String} || Boolean   // position to move to\n       */\n    }, {\n      key: 'moveTo',\n      value: function moveTo(options) {\n        if (options === undefined) {\n          options = {};\n          return;\n        }\n        if (options.offset === undefined) {\n          options.offset = { x: 0, y: 0 };\n        }\n        if (options.offset.x === undefined) {\n          options.offset.x = 0;\n        }\n        if (options.offset.y === undefined) {\n          options.offset.y = 0;\n        }\n        if (options.scale === undefined) {\n          options.scale = this.body.view.scale;\n        }\n        if (options.position === undefined) {\n          options.position = this.getViewPosition();\n        }\n        if (options.animation === undefined) {\n          options.animation = { duration: 0 };\n        }\n        if (options.animation === false) {\n          options.animation = { duration: 0 };\n        }\n        if (options.animation === true) {\n          options.animation = {};\n        }\n        if (options.animation.duration === undefined) {\n          options.animation.duration = 1000;\n        } // default duration\n        if (options.animation.easingFunction === undefined) {\n          options.animation.easingFunction = \&quot;easeInOutQuad\&quot;;\n        } // default easing function\n\n        this.animateView(options);\n      }\n\n      /**\n       *\n       * @param {Object} options  |  options.offset   = {x:Number, y:Number}   // offset from the center in DOM pixels\n       *                          |  options.time     = Number                 // animation time in milliseconds\n       *                          |  options.scale    = Number                 // scale to animate to\n       *                          |  options.position = {x:Number, y:Number}   // position to animate to\n       *                          |  options.easingFunction = String           // linear, easeInQuad, easeOutQuad, easeInOutQuad,\n       *                                                                       // easeInCubic, easeOutCubic, easeInOutCubic,\n       *                                                                       // easeInQuart, easeOutQuart, easeInOutQuart,\n       *                                                                       // easeInQuint, easeOutQuint, easeInOutQuint\n       */\n    }, {\n      key: 'animateView',\n      value: function animateView(options) {\n        if (options === undefined) {\n          return;\n        }\n        this.animationEasingFunction = options.animation.easingFunction;\n        // release if something focussed on the node\n        this.releaseNode();\n        if (options.locked === true) {\n          this.lockedOnNodeId = options.lockedOnNode;\n          this.lockedOnNodeOffset = options.offset;\n        }\n\n        // forcefully complete the old animation if it was still running\n        if (this.easingTime != 0) {\n          this._transitionRedraw(true); // by setting easingtime to 1, we finish the animation.\n        }\n\n        this.sourceScale = this.body.view.scale;\n        this.sourceTranslation = this.body.view.translation;\n        this.targetScale = options.scale;\n\n        // set the scale so the viewCenter is based on the correct zoom level. This is overridden in the transitionRedraw\n        // but at least then we'll have the target transition\n        this.body.view.scale = this.targetScale;\n        var viewCenter = this.canvas.DOMtoCanvas({ x: 0.5 * this.canvas.frame.canvas.clientWidth, y: 0.5 * this.canvas.frame.canvas.clientHeight });\n\n        var distanceFromCenter = { // offset from view, distance view has to change by these x and y to center the node\n          x: viewCenter.x - options.position.x,\n          y: viewCenter.y - options.position.y\n        };\n        this.targetTranslation = {\n          x: this.sourceTranslation.x + distanceFromCenter.x * this.targetScale + options.offset.x,\n          y: this.sourceTranslation.y + distanceFromCenter.y * this.targetScale + options.offset.y\n        };\n\n        // if the time is set to 0, don't do an animation\n        if (options.animation.duration === 0) {\n          if (this.lockedOnNodeId != undefined) {\n            this.viewFunction = this._lockedRedraw.bind(this);\n            this.body.emitter.on(\&quot;initRedraw\&quot;, this.viewFunction);\n          } else {\n            this.body.view.scale = this.targetScale;\n            this.body.view.translation = this.targetTranslation;\n            this.body.emitter.emit(\&quot;_requestRedraw\&quot;);\n          }\n        } else {\n          this.animationSpeed = 1 / (60 * options.animation.duration * 0.001) || 1 / 60; // 60 for 60 seconds, 0.001 for milli's\n          this.animationEasingFunction = options.animation.easingFunction;\n\n          this.viewFunction = this._transitionRedraw.bind(this);\n          this.body.emitter.on(\&quot;initRedraw\&quot;, this.viewFunction);\n          this.body.emitter.emit(\&quot;_startRendering\&quot;);\n        }\n      }\n\n      /**\n       * used to animate smoothly by hijacking the redraw function.\n       * @private\n       */\n    }, {\n      key: '_lockedRedraw',\n      value: function _lockedRedraw() {\n        var nodePosition = { x: this.body.nodes[this.lockedOnNodeId].x, y: this.body.nodes[this.lockedOnNodeId].y };\n        var viewCenter = this.canvas.DOMtoCanvas({ x: 0.5 * this.canvas.frame.canvas.clientWidth, y: 0.5 * this.canvas.frame.canvas.clientHeight });\n        var distanceFromCenter = { // offset from view, distance view has to change by these x and y to center the node\n          x: viewCenter.x - nodePosition.x,\n          y: viewCenter.y - nodePosition.y\n        };\n        var sourceTranslation = this.body.view.translation;\n        var targetTranslation = {\n          x: sourceTranslation.x + distanceFromCenter.x * this.body.view.scale + this.lockedOnNodeOffset.x,\n          y: sourceTranslation.y + distanceFromCenter.y * this.body.view.scale + this.lockedOnNodeOffset.y\n        };\n\n        this.body.view.translation = targetTranslation;\n      }\n    }, {\n      key: 'releaseNode',\n      value: function releaseNode() {\n        if (this.lockedOnNodeId !== undefined &amp;&amp; this.viewFunction !== undefined) {\n          this.body.emitter.off(\&quot;initRedraw\&quot;, this.viewFunction);\n          this.lockedOnNodeId = undefined;\n          this.lockedOnNodeOffset = undefined;\n        }\n      }\n\n      /**\n       *\n       * @param easingTime\n       * @private\n       */\n    }, {\n      key: '_transitionRedraw',\n      value: function _transitionRedraw() {\n        var finished = arguments.length &lt;= 0 || arguments[0] === undefined ? false : arguments[0];\n\n        this.easingTime += this.animationSpeed;\n        this.easingTime = finished === true ? 1.0 : this.easingTime;\n\n        var progress = util.easingFunctions[this.animationEasingFunction](this.easingTime);\n\n        this.body.view.scale = this.sourceScale + (this.targetScale - this.sourceScale) * progress;\n        this.body.view.translation = {\n          x: this.sourceTranslation.x + (this.targetTranslation.x - this.sourceTranslation.x) * progress,\n          y: this.sourceTranslation.y + (this.targetTranslation.y - this.sourceTranslation.y) * progress\n        };\n\n        // cleanup\n        if (this.easingTime &gt;= 1.0) {\n          this.body.emitter.off(\&quot;initRedraw\&quot;, this.viewFunction);\n          this.easingTime = 0;\n          if (this.lockedOnNodeId != undefined) {\n            this.viewFunction = this._lockedRedraw.bind(this);\n            this.body.emitter.on(\&quot;initRedraw\&quot;, this.viewFunction);\n          }\n          this.body.emitter.emit(\&quot;animationFinished\&quot;);\n        }\n      }\n    }, {\n      key: 'getScale',\n      value: function getScale() {\n        return this.body.view.scale;\n      }\n    }, {\n      key: 'getViewPosition',\n      value: function getViewPosition() {\n        return this.canvas.DOMtoCanvas({ x: 0.5 * this.canvas.frame.canvas.clientWidth, y: 0.5 * this.canvas.frame.canvas.clientHeight });\n      }\n    }]);\n\n    return View;\n  })();\n\n  exports['default'] = View;\n  module.exports = exports['default'];\n\n/***/ },\n/* 104 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var _componentsNavigationHandler = __webpack_require__(105);\n\n  var _componentsNavigationHandler2 = _interopRequireDefault(_componentsNavigationHandler);\n\n  var _componentsPopup = __webpack_require__(106);\n\n  var _componentsPopup2 = _interopRequireDefault(_componentsPopup);\n\n  var util = __webpack_require__(1);\n\n  var InteractionHandler = (function () {\n    function InteractionHandler(body, canvas, selectionHandler) {\n      _classCallCheck(this, InteractionHandler);\n\n      this.body = body;\n      this.canvas = canvas;\n      this.selectionHandler = selectionHandler;\n      this.navigationHandler = new _componentsNavigationHandler2['default'](body, canvas);\n\n      // bind the events from hammer to functions in this object\n      this.body.eventListeners.onTap = this.onTap.bind(this);\n      this.body.eventListeners.onTouch = this.onTouch.bind(this);\n      this.body.eventListeners.onDoubleTap = this.onDoubleTap.bind(this);\n      this.body.eventListeners.onHold = this.onHold.bind(this);\n      this.body.eventListeners.onDragStart = this.onDragStart.bind(this);\n      this.body.eventListeners.onDrag = this.onDrag.bind(this);\n      this.body.eventListeners.onDragEnd = this.onDragEnd.bind(this);\n      this.body.eventListeners.onMouseWheel = this.onMouseWheel.bind(this);\n      this.body.eventListeners.onPinch = this.onPinch.bind(this);\n      this.body.eventListeners.onMouseMove = this.onMouseMove.bind(this);\n      this.body.eventListeners.onRelease = this.onRelease.bind(this);\n      this.body.eventListeners.onContext = this.onContext.bind(this);\n\n      this.touchTime = 0;\n      this.drag = {};\n      this.pinch = {};\n      this.popup = undefined;\n      this.popupObj = undefined;\n      this.popupTimer = undefined;\n\n      this.body.functions.getPointer = this.getPointer.bind(this);\n\n      this.options = {};\n      this.defaultOptions = {\n        dragNodes: true,\n        dragView: true,\n        hover: false,\n        keyboard: {\n          enabled: false,\n          speed: { x: 10, y: 10, zoom: 0.02 },\n          bindToWindow: true\n        },\n        navigationButtons: false,\n        tooltipDelay: 300,\n        zoomView: true\n      };\n      util.extend(this.options, this.defaultOptions);\n\n      this.bindEventListeners();\n    }\n\n    _createClass(InteractionHandler, [{\n      key: 'bindEventListeners',\n      value: function bindEventListeners() {\n        var _this = this;\n\n        this.body.emitter.on('destroy', function () {\n          clearTimeout(_this.popupTimer);\n          delete _this.body.functions.getPointer;\n        });\n      }\n    }, {\n      key: 'setOptions',\n      value: function setOptions(options) {\n        if (options !== undefined) {\n          // extend all but the values in fields\n          var fields = ['hideEdgesOnDrag', 'hideNodesOnDrag', 'keyboard', 'multiselect', 'selectable', 'selectConnectedEdges'];\n          util.selectiveNotDeepExtend(fields, this.options, options);\n\n          // merge the keyboard options in.\n          util.mergeOptions(this.options, options, 'keyboard');\n\n          if (options.tooltip) {\n            util.extend(this.options.tooltip, options.tooltip);\n            if (options.tooltip.color) {\n              this.options.tooltip.color = util.parseColor(options.tooltip.color);\n            }\n          }\n        }\n\n        this.navigationHandler.setOptions(this.options);\n      }\n\n      /**\n       * Get the pointer location from a touch location\n       * @param {{x: Number, y: Number}} touch\n       * @return {{x: Number, y: Number}} pointer\n       * @private\n       */\n    }, {\n      key: 'getPointer',\n      value: function getPointer(touch) {\n        return {\n          x: touch.x - util.getAbsoluteLeft(this.canvas.frame.canvas),\n          y: touch.y - util.getAbsoluteTop(this.canvas.frame.canvas)\n        };\n      }\n\n      /**\n       * On start of a touch gesture, store the pointer\n       * @param event\n       * @private\n       */\n    }, {\n      key: 'onTouch',\n      value: function onTouch(event) {\n        if (new Date().valueOf() - this.touchTime &gt; 50) {\n          this.drag.pointer = this.getPointer(event.center);\n          this.drag.pinched = false;\n          this.pinch.scale = this.body.view.scale;\n          // to avoid double fireing of this event because we have two hammer instances. (on canvas and on frame)\n          this.touchTime = new Date().valueOf();\n        }\n      }\n\n      /**\n       * handle tap/click event: select/unselect a node\n       * @private\n       */\n    }, {\n      key: 'onTap',\n      value: function onTap(event) {\n        var pointer = this.getPointer(event.center);\n        var multiselect = this.selectionHandler.options.multiselect &amp;&amp; (event.changedPointers[0].ctrlKey || event.changedPointers[0].metaKey);\n\n        this.checkSelectionChanges(pointer, event, multiselect);\n        this.selectionHandler._generateClickEvent('click', event, pointer);\n      }\n\n      /**\n       * handle doubletap event\n       * @private\n       */\n    }, {\n      key: 'onDoubleTap',\n      value: function onDoubleTap(event) {\n        var pointer = this.getPointer(event.center);\n        this.selectionHandler._generateClickEvent('doubleClick', event, pointer);\n      }\n\n      /**\n       * handle long tap event: multi select nodes\n       * @private\n       */\n    }, {\n      key: 'onHold',\n      value: function onHold(event) {\n        var pointer = this.getPointer(event.center);\n        var multiselect = this.selectionHandler.options.multiselect;\n\n        this.checkSelectionChanges(pointer, event, multiselect);\n\n        this.selectionHandler._generateClickEvent('click', event, pointer);\n        this.selectionHandler._generateClickEvent('hold', event, pointer);\n      }\n\n      /**\n       * handle the release of the screen\n       *\n       * @private\n       */\n    }, {\n      key: 'onRelease',\n      value: function onRelease(event) {\n        if (new Date().valueOf() - this.touchTime &gt; 10) {\n          var pointer = this.getPointer(event.center);\n          this.selectionHandler._generateClickEvent('release', event, pointer);\n          // to avoid double fireing of this event because we have two hammer instances. (on canvas and on frame)\n          this.touchTime = new Date().valueOf();\n        }\n      }\n    }, {\n      key: 'onContext',\n      value: function onContext(event) {\n        var pointer = this.getPointer({ x: event.clientX, y: event.clientY });\n        this.selectionHandler._generateClickEvent('oncontext', event, pointer);\n      }\n\n      /**\n       *\n       * @param pointer\n       * @param add\n       */\n    }, {\n      key: 'checkSelectionChanges',\n      value: function checkSelectionChanges(pointer, event) {\n        var add = arguments.length &lt;= 2 || arguments[2] === undefined ? false : arguments[2];\n\n        var previouslySelectedEdgeCount = this.selectionHandler._getSelectedEdgeCount();\n        var previouslySelectedNodeCount = this.selectionHandler._getSelectedNodeCount();\n        var previousSelection = this.selectionHandler.getSelection();\n        var selected = undefined;\n        if (add === true) {\n          selected = this.selectionHandler.selectAdditionalOnPoint(pointer);\n        } else {\n          selected = this.selectionHandler.selectOnPoint(pointer);\n        }\n        var selectedEdgesCount = this.selectionHandler._getSelectedEdgeCount();\n        var selectedNodesCount = this.selectionHandler._getSelectedNodeCount();\n        var currentSelection = this.selectionHandler.getSelection();\n\n        var _determineIfDifferent2 = this._determineIfDifferent(previousSelection, currentSelection);\n\n        var nodesChanges = _determineIfDifferent2.nodesChanges;\n        var edgesChanges = _determineIfDifferent2.edgesChanges;\n\n        var nodeSelected = false;\n\n        if (selectedNodesCount - previouslySelectedNodeCount &gt; 0) {\n          // node was selected\n          this.selectionHandler._generateClickEvent('selectNode', event, pointer);\n          selected = true;\n          nodeSelected = true;\n        } else if (selectedNodesCount - previouslySelectedNodeCount &lt; 0) {\n          // node was deselected\n          this.selectionHandler._generateClickEvent('deselectNode', event, pointer, previousSelection);\n          selected = true;\n        } else if (selectedNodesCount === previouslySelectedNodeCount &amp;&amp; nodesChanges === true) {\n          this.selectionHandler._generateClickEvent('deselectNode', event, pointer, previousSelection);\n          this.selectionHandler._generateClickEvent('selectNode', event, pointer);\n          nodeSelected = true;\n          selected = true;\n        }\n\n        // handle the selected edges\n        if (selectedEdgesCount - previouslySelectedEdgeCount &gt; 0 &amp;&amp; nodeSelected === false) {\n          // edge was selected\n          this.selectionHandler._generateClickEvent('selectEdge', event, pointer);\n          selected = true;\n        } else if (selectedEdgesCount - previouslySelectedEdgeCount &lt; 0) {\n          // edge was deselected\n          this.selectionHandler._generateClickEvent('deselectEdge', event, pointer, previousSelection);\n          selected = true;\n        } else if (selectedEdgesCount === previouslySelectedEdgeCount &amp;&amp; edgesChanges === true) {\n          this.selectionHandler._generateClickEvent('deselectEdge', event, pointer, previousSelection);\n          this.selectionHandler._generateClickEvent('selectEdge', event, pointer);\n          selected = true;\n        }\n\n        // fire the select event if anything has been selected or deselected\n        if (selected === true) {\n          // select or unselect\n          this.selectionHandler._generateClickEvent('select', event, pointer);\n        }\n      }\n\n      /**\n       * This function checks if the nodes and edges previously selected have changed.\n       * @param previousSelection\n       * @param currentSelection\n       * @returns {{nodesChanges: boolean, edgesChanges: boolean}}\n       * @private\n       */\n    }, {\n      key: '_determineIfDifferent',\n      value: function _determineIfDifferent(previousSelection, currentSelection) {\n        var nodesChanges = false;\n        var edgesChanges = false;\n\n        for (var i = 0; i &lt; previousSelection.nodes.length; i++) {\n          if (currentSelection.nodes.indexOf(previousSelection.nodes[i]) === -1) {\n            nodesChanges = true;\n          }\n        }\n        for (var i = 0; i &lt; currentSelection.nodes.length; i++) {\n          if (previousSelection.nodes.indexOf(previousSelection.nodes[i]) === -1) {\n            nodesChanges = true;\n          }\n        }\n        for (var i = 0; i &lt; previousSelection.edges.length; i++) {\n          if (currentSelection.edges.indexOf(previousSelection.edges[i]) === -1) {\n            edgesChanges = true;\n          }\n        }\n        for (var i = 0; i &lt; currentSelection.edges.length; i++) {\n          if (previousSelection.edges.indexOf(previousSelection.edges[i]) === -1) {\n            edgesChanges = true;\n          }\n        }\n\n        return { nodesChanges: nodesChanges, edgesChanges: edgesChanges };\n      }\n\n      /**\n       * This function is called by onDragStart.\n       * It is separated out because we can then overload it for the datamanipulation system.\n       *\n       * @private\n       */\n    }, {\n      key: 'onDragStart',\n      value: function onDragStart(event) {\n        //in case the touch event was triggered on an external div, do the initial touch now.\n        if (this.drag.pointer === undefined) {\n          this.onTouch(event);\n        }\n\n        // note: drag.pointer is set in onTouch to get the initial touch location\n        var node = this.selectionHandler.getNodeAt(this.drag.pointer);\n\n        this.drag.dragging = true;\n        this.drag.selection = [];\n        this.drag.translation = util.extend({}, this.body.view.translation); // copy the object\n        this.drag.nodeId = undefined;\n\n        if (node !== undefined &amp;&amp; this.options.dragNodes === true) {\n          this.drag.nodeId = node.id;\n          // select the clicked node if not yet selected\n          if (node.isSelected() === false) {\n            this.selectionHandler.unselectAll();\n            this.selectionHandler.selectObject(node);\n          }\n\n          // after select to contain the node\n          this.selectionHandler._generateClickEvent('dragStart', event, this.drag.pointer);\n\n          var selection = this.selectionHandler.selectionObj.nodes;\n          // create an array with the selected nodes and their original location and status\n          for (var nodeId in selection) {\n            if (selection.hasOwnProperty(nodeId)) {\n              var object = selection[nodeId];\n              var s = {\n                id: object.id,\n                node: object,\n\n                // store original x, y, xFixed and yFixed, make the node temporarily Fixed\n                x: object.x,\n                y: object.y,\n                xFixed: object.options.fixed.x,\n                yFixed: object.options.fixed.y\n              };\n\n              object.options.fixed.x = true;\n              object.options.fixed.y = true;\n\n              this.drag.selection.push(s);\n            }\n          }\n        } else {\n          // fallback if no node is selected and thus the view is dragged.\n          this.selectionHandler._generateClickEvent('dragStart', event, this.drag.pointer, undefined, true);\n        }\n      }\n\n      /**\n       * handle drag event\n       * @private\n       */\n    }, {\n      key: 'onDrag',\n      value: function onDrag(event) {\n        var _this2 = this;\n\n        if (this.drag.pinched === true) {\n          return;\n        }\n\n        // remove the focus on node if it is focussed on by the focusOnNode\n        this.body.emitter.emit('unlockNode');\n\n        var pointer = this.getPointer(event.center);\n\n        var selection = this.drag.selection;\n        if (selection &amp;&amp; selection.length &amp;&amp; this.options.dragNodes === true) {\n          (function () {\n            _this2.selectionHandler._generateClickEvent('dragging', event, pointer);\n\n            // calculate delta's and new location\n            var deltaX = pointer.x - _this2.drag.pointer.x;\n            var deltaY = pointer.y - _this2.drag.pointer.y;\n\n            // update position of all selected nodes\n            selection.forEach(function (selection) {\n              var node = selection.node;\n              // only move the node if it was not fixed initially\n              if (selection.xFixed === false) {\n                node.x = _this2.canvas._XconvertDOMtoCanvas(_this2.canvas._XconvertCanvasToDOM(selection.x) + deltaX);\n              }\n              // only move the node if it was not fixed initially\n              if (selection.yFixed === false) {\n                node.y = _this2.canvas._YconvertDOMtoCanvas(_this2.canvas._YconvertCanvasToDOM(selection.y) + deltaY);\n              }\n            });\n\n            // start the simulation of the physics\n            _this2.body.emitter.emit('startSimulation');\n          })();\n        } else {\n          // move the network\n          if (this.options.dragView === true) {\n            this.selectionHandler._generateClickEvent('dragging', event, pointer, undefined, true);\n\n            // if the drag was not started properly because the click started outside the network div, start it now.\n            if (this.drag.pointer === undefined) {\n              this.onDragStart(event);\n              return;\n            }\n            var diffX = pointer.x - this.drag.pointer.x;\n            var diffY = pointer.y - this.drag.pointer.y;\n\n            this.body.view.translation = { x: this.drag.translation.x + diffX, y: this.drag.translation.y + diffY };\n            this.body.emitter.emit('_redraw');\n          }\n        }\n      }\n\n      /**\n       * handle drag start event\n       * @private\n       */\n    }, {\n      key: 'onDragEnd',\n      value: function onDragEnd(event) {\n        this.drag.dragging = false;\n        var selection = this.drag.selection;\n        if (selection &amp;&amp; selection.length) {\n          selection.forEach(function (s) {\n            // restore original xFixed and yFixed\n            s.node.options.fixed.x = s.xFixed;\n            s.node.options.fixed.y = s.yFixed;\n          });\n          this.selectionHandler._generateClickEvent('dragEnd', event, this.getPointer(event.center));\n          this.body.emitter.emit('startSimulation');\n        } else {\n          this.selectionHandler._generateClickEvent('dragEnd', event, this.getPointer(event.center), undefined, true);\n          this.body.emitter.emit('_requestRedraw');\n        }\n      }\n\n      /**\n       * Handle pinch event\n       * @param event\n       * @private\n       */\n    }, {\n      key: 'onPinch',\n      value: function onPinch(event) {\n        var pointer = this.getPointer(event.center);\n\n        this.drag.pinched = true;\n        if (this.pinch['scale'] === undefined) {\n          this.pinch.scale = 1;\n        }\n\n        // TODO: enabled moving while pinching?\n        var scale = this.pinch.scale * event.scale;\n        this.zoom(scale, pointer);\n      }\n\n      /**\n       * Zoom the network in or out\n       * @param {Number} scale a number around 1, and between 0.01 and 10\n       * @param {{x: Number, y: Number}} pointer    Position on screen\n       * @return {Number} appliedScale    scale is limited within the boundaries\n       * @private\n       */\n    }, {\n      key: 'zoom',\n      value: function zoom(scale, pointer) {\n        if (this.options.zoomView === true) {\n          var scaleOld = this.body.view.scale;\n          if (scale &lt; 0.00001) {\n            scale = 0.00001;\n          }\n          if (scale &gt; 10) {\n            scale = 10;\n          }\n\n          var preScaleDragPointer = undefined;\n          if (this.drag !== undefined) {\n            if (this.drag.dragging === true) {\n              preScaleDragPointer = this.canvas.DOMtoCanvas(this.drag.pointer);\n            }\n          }\n          // + this.canvas.frame.canvas.clientHeight / 2\n          var translation = this.body.view.translation;\n\n          var scaleFrac = scale / scaleOld;\n          var tx = (1 - scaleFrac) * pointer.x + translation.x * scaleFrac;\n          var ty = (1 - scaleFrac) * pointer.y + translation.y * scaleFrac;\n\n          this.body.view.scale = scale;\n          this.body.view.translation = { x: tx, y: ty };\n\n          if (preScaleDragPointer != undefined) {\n            var postScaleDragPointer = this.canvas.canvasToDOM(preScaleDragPointer);\n            this.drag.pointer.x = postScaleDragPointer.x;\n            this.drag.pointer.y = postScaleDragPointer.y;\n          }\n\n          this.body.emitter.emit('_requestRedraw');\n\n          if (scaleOld &lt; scale) {\n            this.body.emitter.emit('zoom', { direction: '+', scale: this.body.view.scale });\n          } else {\n            this.body.emitter.emit('zoom', { direction: '-', scale: this.body.view.scale });\n          }\n        }\n      }\n\n      /**\n       * Event handler for mouse wheel event, used to zoom the timeline\n       * See http://adomas.org/javascript-mouse-wheel/\n       *     https://github.com/EightMedia/hammer.js/issues/256\n       * @param {MouseEvent}  event\n       * @private\n       */\n    }, {\n      key: 'onMouseWheel',\n      value: function onMouseWheel(event) {\n        if (this.options.zoomView === true) {\n          // retrieve delta\n          var delta = 0;\n          if (event.wheelDelta) {\n            /* IE/Opera. */\n            delta = event.wheelDelta / 120;\n          } else if (event.detail) {\n            /* Mozilla case. */\n            // In Mozilla, sign of delta is different than in IE.\n            // Also, delta is multiple of 3.\n            delta = -event.detail / 3;\n          }\n\n          // If delta is nonzero, handle it.\n          // Basically, delta is now positive if wheel was scrolled up,\n          // and negative, if wheel was scrolled down.\n          if (delta !== 0) {\n\n            // calculate the new scale\n            var scale = this.body.view.scale;\n            var zoom = delta / 10;\n            if (delta &lt; 0) {\n              zoom = zoom / (1 - zoom);\n            }\n            scale *= 1 + zoom;\n\n            // calculate the pointer location\n            var pointer = this.getPointer({ x: event.clientX, y: event.clientY });\n\n            // apply the new scale\n            this.zoom(scale, pointer);\n          }\n\n          // Prevent default actions caused by mouse wheel.\n          event.preventDefault();\n        }\n      }\n\n      /**\n       * Mouse move handler for checking whether the title moves over a node with a title.\n       * @param  {Event} event\n       * @private\n       */\n    }, {\n      key: 'onMouseMove',\n      value: function onMouseMove(event) {\n        var _this3 = this;\n\n        var pointer = this.getPointer({ x: event.clientX, y: event.clientY });\n        var popupVisible = false;\n\n        // check if the previously selected node is still selected\n        if (this.popup !== undefined) {\n          if (this.popup.hidden === false) {\n            this._checkHidePopup(pointer);\n          }\n\n          // if the popup was not hidden above\n          if (this.popup.hidden === false) {\n            popupVisible = true;\n            this.popup.setPosition(pointer.x + 3, pointer.y - 5);\n            this.popup.show();\n          }\n        }\n\n        // if we bind the keyboard to the div, we have to highlight it to use it. This highlights it on mouse over.\n        if (this.options.keyboard.bindToWindow === false &amp;&amp; this.options.keyboard.enabled === true) {\n          this.canvas.frame.focus();\n        }\n\n        // start a timeout that will check if the mouse is positioned above an element\n        if (popupVisible === false) {\n          if (this.popupTimer !== undefined) {\n            clearInterval(this.popupTimer); // stop any running calculationTimer\n            this.popupTimer = undefined;\n          }\n          if (!this.drag.dragging) {\n            this.popupTimer = setTimeout(function () {\n              return _this3._checkShowPopup(pointer);\n            }, this.options.tooltipDelay);\n          }\n        }\n\n        /**\n        * Adding hover highlights\n        */\n        if (this.options.hover === true) {\n          // adding hover highlights\n          var obj = this.selectionHandler.getNodeAt(pointer);\n          if (obj === undefined) {\n            obj = this.selectionHandler.getEdgeAt(pointer);\n          }\n          this.selectionHandler.hoverObject(obj);\n        }\n      }\n\n      /**\n       * Check if there is an element on the given position in the network\n       * (a node or edge). If so, and if this element has a title,\n       * show a popup window with its title.\n       *\n       * @param {{x:Number, y:Number}} pointer\n       * @private\n       */\n    }, {\n      key: '_checkShowPopup',\n      value: function _checkShowPopup(pointer) {\n        var x = this.canvas._XconvertDOMtoCanvas(pointer.x);\n        var y = this.canvas._YconvertDOMtoCanvas(pointer.y);\n        var pointerObj = {\n          left: x,\n          top: y,\n          right: x,\n          bottom: y\n        };\n\n        var previousPopupObjId = this.popupObj === undefined ? undefined : this.popupObj.id;\n        var nodeUnderCursor = false;\n        var popupType = 'node';\n\n        // check if a node is under the cursor.\n        if (this.popupObj === undefined) {\n          // search the nodes for overlap, select the top one in case of multiple nodes\n          var nodeIndices = this.body.nodeIndices;\n          var nodes = this.body.nodes;\n          var node = undefined;\n          var overlappingNodes = [];\n          for (var i = 0; i &lt; nodeIndices.length; i++) {\n            node = nodes[nodeIndices[i]];\n            if (node.isOverlappingWith(pointerObj) === true) {\n              if (node.getTitle() !== undefined) {\n                overlappingNodes.push(nodeIndices[i]);\n              }\n            }\n          }\n\n          if (overlappingNodes.length &gt; 0) {\n            // if there are overlapping nodes, select the last one, this is the one which is drawn on top of the others\n            this.popupObj = nodes[overlappingNodes[overlappingNodes.length - 1]];\n            // if you hover over a node, the title of the edge is not supposed to be shown.\n            nodeUnderCursor = true;\n          }\n        }\n\n        if (this.popupObj === undefined &amp;&amp; nodeUnderCursor === false) {\n          // search the edges for overlap\n          var edgeIndices = this.body.edgeIndices;\n          var edges = this.body.edges;\n          var edge = undefined;\n          var overlappingEdges = [];\n          for (var i = 0; i &lt; edgeIndices.length; i++) {\n            edge = edges[edgeIndices[i]];\n            if (edge.isOverlappingWith(pointerObj) === true) {\n              if (edge.connected === true &amp;&amp; edge.getTitle() !== undefined) {\n                overlappingEdges.push(edgeIndices[i]);\n              }\n            }\n          }\n\n          if (overlappingEdges.length &gt; 0) {\n            this.popupObj = edges[overlappingEdges[overlappingEdges.length - 1]];\n            popupType = 'edge';\n          }\n        }\n\n        if (this.popupObj !== undefined) {\n          // show popup message window\n          if (this.popupObj.id !== previousPopupObjId) {\n            if (this.popup === undefined) {\n              this.popup = new _componentsPopup2['default'](this.canvas.frame);\n            }\n\n            this.popup.popupTargetType = popupType;\n            this.popup.popupTargetId = this.popupObj.id;\n\n            // adjust a small offset such that the mouse cursor is located in the\n            // bottom left location of the popup, and you can easily move over the\n            // popup area\n            this.popup.setPosition(pointer.x + 3, pointer.y - 5);\n            this.popup.setText(this.popupObj.getTitle());\n            this.popup.show();\n            this.body.emitter.emit('showPopup', this.popupObj.id);\n          }\n        } else {\n          if (this.popup !== undefined) {\n            this.popup.hide();\n            this.body.emitter.emit('hidePopup');\n          }\n        }\n      }\n\n      /**\n       * Check if the popup must be hidden, which is the case when the mouse is no\n       * longer hovering on the object\n       * @param {{x:Number, y:Number}} pointer\n       * @private\n       */\n    }, {\n      key: '_checkHidePopup',\n      value: function _checkHidePopup(pointer) {\n        var pointerObj = this.selectionHandler._pointerToPositionObject(pointer);\n\n        var stillOnObj = false;\n        if (this.popup.popupTargetType === 'node') {\n          if (this.body.nodes[this.popup.popupTargetId] !== undefined) {\n            stillOnObj = this.body.nodes[this.popup.popupTargetId].isOverlappingWith(pointerObj);\n\n            // if the mouse is still one the node, we have to check if it is not also on one that is drawn on top of it.\n            // we initially only check stillOnObj because this is much faster.\n            if (stillOnObj === true) {\n              var overNode = this.selectionHandler.getNodeAt(pointer);\n              stillOnObj = overNode.id === this.popup.popupTargetId;\n            }\n          }\n        } else {\n          if (this.selectionHandler.getNodeAt(pointer) === undefined) {\n            if (this.body.edges[this.popup.popupTargetId] !== undefined) {\n              stillOnObj = this.body.edges[this.popup.popupTargetId].isOverlappingWith(pointerObj);\n            }\n          }\n        }\n\n        if (stillOnObj === false) {\n          this.popupObj = undefined;\n          this.popup.hide();\n          this.body.emitter.emit('hidePopup');\n        }\n      }\n    }]);\n\n    return InteractionHandler;\n  })();\n\n  exports['default'] = InteractionHandler;\n  module.exports = exports['default'];\n\n/***/ },\n/* 105 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var util = __webpack_require__(1);\n  var Hammer = __webpack_require__(20);\n  var hammerUtil = __webpack_require__(24);\n  var keycharm = __webpack_require__(40);\n\n  var NavigationHandler = (function () {\n    function NavigationHandler(body, canvas) {\n      var _this = this;\n\n      _classCallCheck(this, NavigationHandler);\n\n      this.body = body;\n      this.canvas = canvas;\n\n      this.iconsCreated = false;\n      this.navigationHammers = [];\n      this.boundFunctions = {};\n      this.touchTime = 0;\n      this.activated = false;\n\n      this.body.emitter.on(\&quot;activate\&quot;, function () {\n        _this.activated = true;_this.configureKeyboardBindings();\n      });\n      this.body.emitter.on(\&quot;deactivate\&quot;, function () {\n        _this.activated = false;_this.configureKeyboardBindings();\n      });\n      this.body.emitter.on(\&quot;destroy\&quot;, function () {\n        if (_this.keycharm !== undefined) {\n          _this.keycharm.destroy();\n        }\n      });\n\n      this.options = {};\n    }\n\n    _createClass(NavigationHandler, [{\n      key: 'setOptions',\n      value: function setOptions(options) {\n        if (options !== undefined) {\n          this.options = options;\n          this.create();\n        }\n      }\n    }, {\n      key: 'create',\n      value: function create() {\n        if (this.options.navigationButtons === true) {\n          if (this.iconsCreated === false) {\n            this.loadNavigationElements();\n          }\n        } else if (this.iconsCreated === true) {\n          this.cleanNavigation();\n        }\n\n        this.configureKeyboardBindings();\n      }\n    }, {\n      key: 'cleanNavigation',\n      value: function cleanNavigation() {\n        // clean hammer bindings\n        if (this.navigationHammers.length != 0) {\n          for (var i = 0; i &lt; this.navigationHammers.length; i++) {\n            this.navigationHammers[i].destroy();\n          }\n          this.navigationHammers = [];\n        }\n\n        // clean up previous navigation items\n        if (this.navigationDOM &amp;&amp; this.navigationDOM['wrapper'] &amp;&amp; this.navigationDOM['wrapper'].parentNode) {\n          this.navigationDOM['wrapper'].parentNode.removeChild(this.navigationDOM['wrapper']);\n        }\n\n        this.iconsCreated = false;\n      }\n\n      /**\n       * Creation of the navigation controls nodes. They are drawn over the rest of the nodes and are not affected by scale and translation\n       * they have a triggerFunction which is called on click. If the position of the navigation controls is dependent\n       * on this.frame.canvas.clientWidth or this.frame.canvas.clientHeight, we flag horizontalAlignLeft and verticalAlignTop false.\n       * This means that the location will be corrected by the _relocateNavigation function on a size change of the canvas.\n       *\n       * @private\n       */\n    }, {\n      key: 'loadNavigationElements',\n      value: function loadNavigationElements() {\n        var _this2 = this;\n\n        this.cleanNavigation();\n\n        this.navigationDOM = {};\n        var navigationDivs = ['up', 'down', 'left', 'right', 'zoomIn', 'zoomOut', 'zoomExtends'];\n        var navigationDivActions = ['_moveUp', '_moveDown', '_moveLeft', '_moveRight', '_zoomIn', '_zoomOut', '_fit'];\n\n        this.navigationDOM['wrapper'] = document.createElement('div');\n        this.navigationDOM['wrapper'].className = 'vis-navigation';\n        this.canvas.frame.appendChild(this.navigationDOM['wrapper']);\n\n        for (var i = 0; i &lt; navigationDivs.length; i++) {\n          this.navigationDOM[navigationDivs[i]] = document.createElement('div');\n          this.navigationDOM[navigationDivs[i]].className = 'vis-button vis-' + navigationDivs[i];\n          this.navigationDOM['wrapper'].appendChild(this.navigationDOM[navigationDivs[i]]);\n\n          var hammer = new Hammer(this.navigationDOM[navigationDivs[i]]);\n          if (navigationDivActions[i] === \&quot;_fit\&quot;) {\n            hammerUtil.onTouch(hammer, this._fit.bind(this));\n          } else {\n            hammerUtil.onTouch(hammer, this.bindToRedraw.bind(this, navigationDivActions[i]));\n          }\n\n          this.navigationHammers.push(hammer);\n        }\n\n        // use a hammer for the release so we do not require the one used in the rest of the network\n        // the one the rest uses can be overloaded by the manipulation system.\n        var hammerFrame = new Hammer(this.canvas.frame);\n        hammerUtil.onRelease(hammerFrame, function () {\n          _this2._stopMovement();\n        });\n        this.navigationHammers.push(hammerFrame);\n\n        this.iconsCreated = true;\n      }\n    }, {\n      key: 'bindToRedraw',\n      value: function bindToRedraw(action) {\n        if (this.boundFunctions[action] === undefined) {\n          this.boundFunctions[action] = this[action].bind(this);\n          this.body.emitter.on(\&quot;initRedraw\&quot;, this.boundFunctions[action]);\n          this.body.emitter.emit(\&quot;_startRendering\&quot;);\n        }\n      }\n    }, {\n      key: 'unbindFromRedraw',\n      value: function unbindFromRedraw(action) {\n        if (this.boundFunctions[action] !== undefined) {\n          this.body.emitter.off(\&quot;initRedraw\&quot;, this.boundFunctions[action]);\n          this.body.emitter.emit(\&quot;_stopRendering\&quot;);\n          delete this.boundFunctions[action];\n        }\n      }\n\n      /**\n       * this stops all movement induced by the navigation buttons\n       *\n       * @private\n       */\n    }, {\n      key: '_fit',\n      value: function _fit() {\n        if (new Date().valueOf() - this.touchTime &gt; 700) {\n          // TODO: fix ugly hack to avoid hammer's double fireing of event (because we use release?)\n          this.body.emitter.emit(\&quot;fit\&quot;, { duration: 700 });\n          this.touchTime = new Date().valueOf();\n        }\n      }\n\n      /**\n       * this stops all movement induced by the navigation buttons\n       *\n       * @private\n       */\n    }, {\n      key: '_stopMovement',\n      value: function _stopMovement() {\n        for (var boundAction in this.boundFunctions) {\n          if (this.boundFunctions.hasOwnProperty(boundAction)) {\n            this.body.emitter.off(\&quot;initRedraw\&quot;, this.boundFunctions[boundAction]);\n            this.body.emitter.emit(\&quot;_stopRendering\&quot;);\n          }\n        }\n        this.boundFunctions = {};\n      }\n    }, {\n      key: '_moveUp',\n      value: function _moveUp() {\n        this.body.view.translation.y += this.options.keyboard.speed.y;\n      }\n    }, {\n      key: '_moveDown',\n      value: function _moveDown() {\n        this.body.view.translation.y -= this.options.keyboard.speed.y;\n      }\n    }, {\n      key: '_moveLeft',\n      value: function _moveLeft() {\n        this.body.view.translation.x += this.options.keyboard.speed.x;\n      }\n    }, {\n      key: '_moveRight',\n      value: function _moveRight() {\n        this.body.view.translation.x -= this.options.keyboard.speed.x;\n      }\n    }, {\n      key: '_zoomIn',\n      value: function _zoomIn() {\n        this.body.view.scale *= 1 + this.options.keyboard.speed.zoom;\n        this.body.emitter.emit('zoom', { direction: '+', scale: this.body.view.scale });\n      }\n    }, {\n      key: '_zoomOut',\n      value: function _zoomOut() {\n        this.body.view.scale /= 1 + this.options.keyboard.speed.zoom;\n        this.body.emitter.emit('zoom', { direction: '-', scale: this.body.view.scale });\n      }\n\n      /**\n       * bind all keys using keycharm.\n       */\n    }, {\n      key: 'configureKeyboardBindings',\n      value: function configureKeyboardBindings() {\n        var _this3 = this;\n\n        if (this.keycharm !== undefined) {\n          this.keycharm.destroy();\n        }\n\n        if (this.options.keyboard.enabled === true) {\n          if (this.options.keyboard.bindToWindow === true) {\n            this.keycharm = keycharm({ container: window, preventDefault: true });\n          } else {\n            this.keycharm = keycharm({ container: this.canvas.frame, preventDefault: true });\n          }\n\n          this.keycharm.reset();\n\n          if (this.activated === true) {\n            this.keycharm.bind(\&quot;up\&quot;, function () {\n              _this3.bindToRedraw(\&quot;_moveUp\&quot;);\n            }, \&quot;keydown\&quot;);\n            this.keycharm.bind(\&quot;down\&quot;, function () {\n              _this3.bindToRedraw(\&quot;_moveDown\&quot;);\n            }, \&quot;keydown\&quot;);\n            this.keycharm.bind(\&quot;left\&quot;, function () {\n              _this3.bindToRedraw(\&quot;_moveLeft\&quot;);\n            }, \&quot;keydown\&quot;);\n            this.keycharm.bind(\&quot;right\&quot;, function () {\n              _this3.bindToRedraw(\&quot;_moveRight\&quot;);\n            }, \&quot;keydown\&quot;);\n            this.keycharm.bind(\&quot;=\&quot;, function () {\n              _this3.bindToRedraw(\&quot;_zoomIn\&quot;);\n            }, \&quot;keydown\&quot;);\n            this.keycharm.bind(\&quot;num+\&quot;, function () {\n              _this3.bindToRedraw(\&quot;_zoomIn\&quot;);\n            }, \&quot;keydown\&quot;);\n            this.keycharm.bind(\&quot;num-\&quot;, function () {\n              _this3.bindToRedraw(\&quot;_zoomOut\&quot;);\n            }, \&quot;keydown\&quot;);\n            this.keycharm.bind(\&quot;-\&quot;, function () {\n              _this3.bindToRedraw(\&quot;_zoomOut\&quot;);\n            }, \&quot;keydown\&quot;);\n            this.keycharm.bind(\&quot;[\&quot;, function () {\n              _this3.bindToRedraw(\&quot;_zoomOut\&quot;);\n            }, \&quot;keydown\&quot;);\n            this.keycharm.bind(\&quot;]\&quot;, function () {\n              _this3.bindToRedraw(\&quot;_zoomIn\&quot;);\n            }, \&quot;keydown\&quot;);\n            this.keycharm.bind(\&quot;pageup\&quot;, function () {\n              _this3.bindToRedraw(\&quot;_zoomIn\&quot;);\n            }, \&quot;keydown\&quot;);\n            this.keycharm.bind(\&quot;pagedown\&quot;, function () {\n              _this3.bindToRedraw(\&quot;_zoomOut\&quot;);\n            }, \&quot;keydown\&quot;);\n\n            this.keycharm.bind(\&quot;up\&quot;, function () {\n              _this3.unbindFromRedraw(\&quot;_moveUp\&quot;);\n            }, \&quot;keyup\&quot;);\n            this.keycharm.bind(\&quot;down\&quot;, function () {\n              _this3.unbindFromRedraw(\&quot;_moveDown\&quot;);\n            }, \&quot;keyup\&quot;);\n            this.keycharm.bind(\&quot;left\&quot;, function () {\n              _this3.unbindFromRedraw(\&quot;_moveLeft\&quot;);\n            }, \&quot;keyup\&quot;);\n            this.keycharm.bind(\&quot;right\&quot;, function () {\n              _this3.unbindFromRedraw(\&quot;_moveRight\&quot;);\n            }, \&quot;keyup\&quot;);\n            this.keycharm.bind(\&quot;=\&quot;, function () {\n              _this3.unbindFromRedraw(\&quot;_zoomIn\&quot;);\n            }, \&quot;keyup\&quot;);\n            this.keycharm.bind(\&quot;num+\&quot;, function () {\n              _this3.unbindFromRedraw(\&quot;_zoomIn\&quot;);\n            }, \&quot;keyup\&quot;);\n            this.keycharm.bind(\&quot;num-\&quot;, function () {\n              _this3.unbindFromRedraw(\&quot;_zoomOut\&quot;);\n            }, \&quot;keyup\&quot;);\n            this.keycharm.bind(\&quot;-\&quot;, function () {\n              _this3.unbindFromRedraw(\&quot;_zoomOut\&quot;);\n            }, \&quot;keyup\&quot;);\n            this.keycharm.bind(\&quot;[\&quot;, function () {\n              _this3.unbindFromRedraw(\&quot;_zoomOut\&quot;);\n            }, \&quot;keyup\&quot;);\n            this.keycharm.bind(\&quot;]\&quot;, function () {\n              _this3.unbindFromRedraw(\&quot;_zoomIn\&quot;);\n            }, \&quot;keyup\&quot;);\n            this.keycharm.bind(\&quot;pageup\&quot;, function () {\n              _this3.unbindFromRedraw(\&quot;_zoomIn\&quot;);\n            }, \&quot;keyup\&quot;);\n            this.keycharm.bind(\&quot;pagedown\&quot;, function () {\n              _this3.unbindFromRedraw(\&quot;_zoomOut\&quot;);\n            }, \&quot;keyup\&quot;);\n          }\n        }\n      }\n    }]);\n\n    return NavigationHandler;\n  })();\n\n  exports['default'] = NavigationHandler;\n  module.exports = exports['default'];\n\n/***/ },\n/* 106 */\n/***/ function(module, exports) {\n\n  /**\n   * Popup is a class to create a popup window with some text\n   * @param {Element}  container     The container object.\n   * @param {Number} [x]\n   * @param {Number} [y]\n   * @param {String} [text]\n   * @param {Object} [style]     An object containing borderColor,\n   *                             backgroundColor, etc.\n   */\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var Popup = (function () {\n    function Popup(container) {\n      _classCallCheck(this, Popup);\n\n      this.container = container;\n\n      this.x = 0;\n      this.y = 0;\n      this.padding = 5;\n      this.hidden = false;\n\n      // create the frame\n      this.frame = document.createElement('div');\n      this.frame.className = 'vis-network-tooltip';\n      this.container.appendChild(this.frame);\n    }\n\n    /**\n     * @param {number} x   Horizontal position of the popup window\n     * @param {number} y   Vertical position of the popup window\n     */\n\n    _createClass(Popup, [{\n      key: 'setPosition',\n      value: function setPosition(x, y) {\n        this.x = parseInt(x);\n        this.y = parseInt(y);\n      }\n\n      /**\n       * Set the content for the popup window. This can be HTML code or text.\n       * @param {string | Element} content\n       */\n    }, {\n      key: 'setText',\n      value: function setText(content) {\n        if (content instanceof Element) {\n          this.frame.innerHTML = '';\n          this.frame.appendChild(content);\n        } else {\n          this.frame.innerHTML = content; // string containing text or HTML\n        }\n      }\n\n      /**\n       * Show the popup window\n       * @param {boolean} [doShow]    Show or hide the window\n       */\n    }, {\n      key: 'show',\n      value: function show(doShow) {\n        if (doShow === undefined) {\n          doShow = true;\n        }\n\n        if (doShow === true) {\n          var height = this.frame.clientHeight;\n          var width = this.frame.clientWidth;\n          var maxHeight = this.frame.parentNode.clientHeight;\n          var maxWidth = this.frame.parentNode.clientWidth;\n\n          var top = this.y - height;\n          if (top + height + this.padding &gt; maxHeight) {\n            top = maxHeight - height - this.padding;\n          }\n          if (top &lt; this.padding) {\n            top = this.padding;\n          }\n\n          var left = this.x;\n          if (left + width + this.padding &gt; maxWidth) {\n            left = maxWidth - width - this.padding;\n          }\n          if (left &lt; this.padding) {\n            left = this.padding;\n          }\n\n          this.frame.style.left = left + \&quot;px\&quot;;\n          this.frame.style.top = top + \&quot;px\&quot;;\n          this.frame.style.visibility = \&quot;visible\&quot;;\n          this.hidden = false;\n        } else {\n          this.hide();\n        }\n      }\n\n      /**\n       * Hide the popup window\n       */\n    }, {\n      key: 'hide',\n      value: function hide() {\n        this.hidden = true;\n        this.frame.style.visibility = \&quot;hidden\&quot;;\n      }\n    }]);\n\n    return Popup;\n  })();\n\n  exports['default'] = Popup;\n  module.exports = exports['default'];\n\n/***/ },\n/* 107 */\n/***/ function(module, exports, __webpack_require__) {\n\n  \&quot;use strict\&quot;;\n\n  Object.defineProperty(exports, \&quot;__esModule\&quot;, {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\&quot;value\&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\&quot;Cannot call a class as a function\&quot;); } }\n\n  var Node = __webpack_require__(61);\n  var Edge = __webpack_require__(81);\n  var util = __webpack_require__(1);\n\n  var SelectionHandler = (function () {\n    function SelectionHandler(body, canvas) {\n      var _this = this;\n\n      _classCallCheck(this, SelectionHandler);\n\n      this.body = body;\n      this.canvas = canvas;\n      this.selectionObj = { nodes: [], edges: [] };\n      this.hoverObj = { nodes: {}, edges: {} };\n\n      this.options = {};\n      this.defaultOptions = {\n        multiselect: false,\n        selectable: true,\n        selectConnectedEdges: true,\n        hoverConnectedEdges: true\n      };\n      util.extend(this.options, this.defaultOptions);\n\n      this.body.emitter.on(\&quot;_dataChanged\&quot;, function () {\n        _this.updateSelection();\n      });\n    }\n\n    _createClass(SelectionHandler, [{\n      key: \&quot;setOptions\&quot;,\n      value: function setOptions(options) {\n        if (options !== undefined) {\n          var fields = ['multiselect', 'hoverConnectedEdges', 'selectable', 'selectConnectedEdges'];\n          util.selectiveDeepExtend(fields, this.options, options);\n        }\n      }\n\n      /**\n       * handles the selection part of the tap;\n       *\n       * @param {Object} pointer\n       * @private\n       */\n    }, {\n      key: \&quot;selectOnPoint\&quot;,\n      value: function selectOnPoint(pointer) {\n        var selected = false;\n        if (this.options.selectable === true) {\n          var obj = this.getNodeAt(pointer) || this.getEdgeAt(pointer);\n\n          // unselect after getting the objects in order to restore width and height.\n          this.unselectAll();\n\n          if (obj !== undefined) {\n            selected = this.selectObject(obj);\n          }\n          this.body.emitter.emit(\&quot;_requestRedraw\&quot;);\n        }\n        return selected;\n      }\n    }, {\n      key: \&quot;selectAdditionalOnPoint\&quot;,\n      value: function selectAdditionalOnPoint(pointer) {\n        var selectionChanged = false;\n        if (this.options.selectable === true) {\n          var obj = this.getNodeAt(pointer) || this.getEdgeAt(pointer);\n\n          if (obj !== undefined) {\n            selectionChanged = true;\n            if (obj.isSelected() === true) {\n              this.deselectObject(obj);\n            } else {\n              this.selectObject(obj);\n            }\n\n            this.body.emitter.emit(\&quot;_requestRedraw\&quot;);\n          }\n        }\n        return selectionChanged;\n      }\n    }, {\n      key: \&quot;_generateClickEvent\&quot;,\n      value: function _generateClickEvent(eventType, event, pointer, oldSelection) {\n        var emptySelection = arguments.length &lt;= 4 || arguments[4] === undefined ? false : arguments[4];\n\n        var properties = undefined;\n        if (emptySelection === true) {\n          properties = { nodes: [], edges: [] };\n        } else {\n          properties = this.getSelection();\n        }\n        properties['pointer'] = {\n          DOM: { x: pointer.x, y: pointer.y },\n          canvas: this.canvas.DOMtoCanvas(pointer)\n        };\n        properties['event'] = event;\n\n        if (oldSelection !== undefined) {\n          properties['previousSelection'] = oldSelection;\n        }\n        this.body.emitter.emit(eventType, properties);\n      }\n    }, {\n      key: \&quot;selectObject\&quot;,\n      value: function selectObject(obj) {\n        var highlightEdges = arguments.length &lt;= 1 || arguments[1] === undefined ? this.options.selectConnectedEdges : arguments[1];\n\n        if (obj !== undefined) {\n          if (obj instanceof Node) {\n            if (highlightEdges === true) {\n              this._selectConnectedEdges(obj);\n            }\n          }\n          obj.select();\n          this._addToSelection(obj);\n          return true;\n        }\n        return false;\n      }\n    }, {\n      key: \&quot;deselectObject\&quot;,\n      value: function deselectObject(obj) {\n        if (obj.isSelected() === true) {\n          obj.selected = false;\n          this._removeFromSelection(obj);\n        }\n      }\n\n      /**\n       * retrieve all nodes overlapping with given object\n       * @param {Object} object  An object with parameters left, top, right, bottom\n       * @return {Number[]}   An array with id's of the overlapping nodes\n       * @private\n       */\n    }, {\n      key: \&quot;_getAllNodesOverlappingWith\&quot;,\n      value: function _getAllNodesOverlappingWith(object) {\n        var overlappingNodes = [];\n        var nodes = this.body.nodes;\n        for (var i = 0; i &lt; this.body.nodeIndices.length; i++) {\n          var nodeId = this.body.nodeIndices[i];\n          if (nodes[nodeId].isOverlappingWith(object)) {\n            overlappingNodes.push(nodeId);\n          }\n        }\n        return overlappingNodes;\n      }\n\n      /**\n       * Return a position object in canvasspace from a single point in screenspace\n       *\n       * @param pointer\n       * @returns {{left: number, top: number, right: number, bottom: number}}\n       * @private\n       */\n    }, {\n      key: \&quot;_pointerToPositionObject\&quot;,\n      value: function _pointerToPositionObject(pointer) {\n        var canvasPos = this.canvas.DOMtoCanvas(pointer);\n        return {\n          left: canvasPos.x - 1,\n          top: canvasPos.y + 1,\n          right: canvasPos.x + 1,\n          bottom: canvasPos.y - 1\n        };\n      }\n\n      /**\n       * Get the top node at the a specific point (like a click)\n       *\n       * @param {{x: Number, y: Number}} pointer\n       * @return {Node | undefined} node\n       */\n    }, {\n      key: \&quot;getNodeAt\&quot;,\n      value: function getNodeAt(pointer) {\n        var returnNode = arguments.length &lt;= 1 || arguments[1] === undefined ? true : arguments[1];\n\n        // we first check if this is an navigation controls element\n        var positionObject = this._pointerToPositionObject(pointer);\n        var overlappingNodes = this._getAllNodesOverlappingWith(positionObject);\n        // if there are overlapping nodes, select the last one, this is the\n        // one which is drawn on top of the others\n        if (overlappingNodes.length &gt; 0) {\n          if (returnNode === true) {\n            return this.body.nodes[overlappingNodes[overlappingNodes.length - 1]];\n          } else {\n            return overlappingNodes[overlappingNodes.length - 1];\n          }\n        } else {\n          return undefined;\n        }\n      }\n\n      /**\n       * retrieve all edges overlapping with given object, selector is around center\n       * @param {Object} object  An object with parameters left, top, right, bottom\n       * @return {Number[]}   An array with id's of the overlapping nodes\n       * @private\n       */\n    }, {\n      key: \&quot;_getEdgesOverlappingWith\&quot;,\n      value: function _getEdgesOverlappingWith(object, overlappingEdges) {\n        var edges = this.body.edges;\n        for (var i = 0; i &lt; this.body.edgeIndices.length; i++) {\n          var edgeId = this.body.edgeIndices[i];\n          if (edges[edgeId].isOverlappingWith(object)) {\n            overlappingEdges.push(edgeId);\n          }\n        }\n      }\n\n      /**\n       * retrieve all nodes overlapping with given object\n       * @param {Object} object  An object with parameters left, top, right, bottom\n       * @return {Number[]}   An array with id's of the overlapping nodes\n       * @private\n       */\n    }, {\n      key: \&quot;_getAllEdgesOverlappingWith\&quot;,\n      value: function _getAllEdgesOverlappingWith(object) {\n        var overlappingEdges = [];\n        this._getEdgesOverlappingWith(object, overlappingEdges);\n        return overlappingEdges;\n      }\n\n      /**\n       * Place holder. To implement change the getNodeAt to a _getObjectAt. Have the _getObjectAt call\n       * getNodeAt and _getEdgesAt, then priortize the selection to user preferences.\n       *\n       * @param pointer\n       * @returns {undefined}\n       */\n    }, {\n      key: \&quot;getEdgeAt\&quot;,\n      value: function getEdgeAt(pointer) {\n        var returnEdge = arguments.length &lt;= 1 || arguments[1] === undefined ? true : arguments[1];\n\n        var positionObject = this._pointerToPositionObject(pointer);\n        var overlappingEdges = this._getAllEdgesOverlappingWith(positionObject);\n\n        if (overlappingEdges.length &gt; 0) {\n          if (returnEdge === true) {\n            return this.body.edges[overlappingEdges[overlappingEdges.length - 1]];\n          } else {\n            return overlappingEdges[overlappingEdges.length - 1];\n          }\n        } else {\n          return undefined;\n        }\n      }\n\n      /**\n       * Add object to the selection array.\n       *\n       * @param obj\n       * @private\n       */\n    }, {\n      key: \&quot;_addToSelection\&quot;,\n      value: function _addToSelection(obj) {\n        if (obj instanceof Node) {\n          this.selectionObj.nodes[obj.id] = obj;\n        } else {\n          this.selectionObj.edges[obj.id] = obj;\n        }\n      }\n\n      /**\n       * Add object to the selection array.\n       *\n       * @param obj\n       * @private\n       */\n    }, {\n      key: \&quot;_addToHover\&quot;,\n      value: function _addToHover(obj) {\n        if (obj instanceof Node) {\n          this.hoverObj.nodes[obj.id] = obj;\n        } else {\n          this.hoverObj.edges[obj.id] = obj;\n        }\n      }\n\n      /**\n       * Remove a single option from selection.\n       *\n       * @param {Object} obj\n       * @private\n       */\n    }, {\n      key: \&quot;_removeFromSelection\&quot;,\n      value: function _removeFromSelection(obj) {\n        if (obj instanceof Node) {\n          delete this.selectionObj.nodes[obj.id];\n          this._unselectConnectedEdges(obj);\n        } else {\n          delete this.selectionObj.edges[obj.id];\n        }\n      }\n\n      /**\n       * Unselect all. The selectionObj is useful for this.\n       */\n    }, {\n      key: \&quot;unselectAll\&quot;,\n      value: function unselectAll() {\n        for (var nodeId in this.selectionObj.nodes) {\n          if (this.selectionObj.nodes.hasOwnProperty(nodeId)) {\n            this.selectionObj.nodes[nodeId].unselect();\n          }\n        }\n        for (var edgeId in this.selectionObj.edges) {\n          if (this.selectionObj.edges.hasOwnProperty(edgeId)) {\n            this.selectionObj.edges[edgeId].unselect();\n          }\n        }\n\n        this.selectionObj = { nodes: {}, edges: {} };\n      }\n\n      /**\n       * return the number of selected nodes\n       *\n       * @returns {number}\n       * @private\n       */\n    }, {\n      key: \&quot;_getSelectedNodeCount\&quot;,\n      value: function _getSelectedNodeCount() {\n        var count = 0;\n        for (var nodeId in this.selectionObj.nodes) {\n          if (this.selectionObj.nodes.hasOwnProperty(nodeId)) {\n            count += 1;\n          }\n        }\n        return count;\n      }\n\n      /**\n       * return the selected node\n       *\n       * @returns {number}\n       * @private\n       */\n    }, {\n      key: \&quot;_getSelectedNode\&quot;,\n      value: function _getSelectedNode() {\n        for (var nodeId in this.selectionObj.nodes) {\n          if (this.selectionObj.nodes.hasOwnProperty(nodeId)) {\n            return this.selectionObj.nodes[nodeId];\n          }\n        }\n        return undefined;\n      }\n\n      /**\n       * return the selected edge\n       *\n       * @returns {number}\n       * @private\n       */\n    }, {\n      key: \&quot;_getSelectedEdge\&quot;,\n      value: function _getSelectedEdge() {\n        for (var edgeId in this.selectionObj.edges) {\n          if (this.selectionObj.edges.hasOwnProperty(edgeId)) {\n            return this.selectionObj.edges[edgeId];\n          }\n        }\n        return undefined;\n      }\n\n      /**\n       * return the number of selected edges\n       *\n       * @returns {number}\n       * @private\n       */\n    }, {\n      key: \&quot;_getSelectedEdgeCount\&quot;,\n      value: function _getSelectedEdgeCount() {\n        var count = 0;\n        for (var edgeId in this.selectionObj.edges) {\n          if (this.selectionObj.edges.hasOwnProperty(edgeId)) {\n            count += 1;\n          }\n        }\n        return count;\n      }\n\n      /**\n       * return the number of selected objects.\n       *\n       * @returns {number}\n       * @private\n       */\n    }, {\n      key: \&quot;_getSelectedObjectCount\&quot;,\n      value: function _getSelectedObjectCount() {\n        var count = 0;\n        for (var nodeId in this.selectionObj.nodes) {\n          if (this.selectionObj.nodes.hasOwnProperty(nodeId)) {\n            count += 1;\n          }\n        }\n        for (var edgeId in this.selectionObj.edges) {\n          if (this.selectionObj.edges.hasOwnProperty(edgeId)) {\n            count += 1;\n          }\n        }\n        return count;\n      }\n\n      /**\n       * Check if anything is selected\n       *\n       * @returns {boolean}\n       * @private\n       */\n    }, {\n      key: \&quot;_selectionIsEmpty\&quot;,\n      value: function _selectionIsEmpty() {\n        for (var nodeId in this.selectionObj.nodes) {\n          if (this.selectionObj.nodes.hasOwnProperty(nodeId)) {\n            return false;\n          }\n        }\n        for (var edgeId in this.selectionObj.edges) {\n          if (this.selectionObj.edges.hasOwnProperty(edgeId)) {\n            return false;\n          }\n        }\n        return true;\n      }\n\n      /**\n       * check if one of the selected nodes is a cluster.\n       *\n       * @returns {boolean}\n       * @private\n       */\n    }, {\n      key: \&quot;_clusterInSelection\&quot;,\n      value: function _clusterInSelection() {\n        for (var nodeId in this.selectionObj.nodes) {\n          if (this.selectionObj.nodes.hasOwnProperty(nodeId)) {\n            if (this.selectionObj.nodes[nodeId].clusterSize &gt; 1) {\n              return true;\n            }\n          }\n        }\n        return false;\n      }\n\n      /**\n       * select the edges connected to the node that is being selected\n       *\n       * @param {Node} node\n       * @private\n       */\n    }, {\n      key: \&quot;_selectConnectedEdges\&quot;,\n      value: function _selectConnectedEdges(node) {\n        for (var i = 0; i &lt; node.edges.length; i++) {\n          var edge = node.edges[i];\n          edge.select();\n          this._addToSelection(edge);\n        }\n      }\n\n      /**\n       * select the edges connected to the node that is being selected\n       *\n       * @param {Node} node\n       * @private\n       */\n    }, {\n      key: \&quot;_hoverConnectedEdges\&quot;,\n      value: function _hoverConnectedEdges(node) {\n        for (var i = 0; i &lt; node.edges.length; i++) {\n          var edge = node.edges[i];\n          edge.hover = true;\n          this._addToHover(edge);\n        }\n      }\n\n      /**\n       * unselect the edges connected to the node that is being selected\n       *\n       * @param {Node} node\n       * @private\n       */\n    }, {\n      key: \&quot;_unselectConnectedEdges\&quot;,\n      value: function _unselectConnectedEdges(node) {\n        for (var i = 0; i &lt; node.edges.length; i++) {\n          var edge = node.edges[i];\n          edge.unselect();\n          this._removeFromSelection(edge);\n        }\n      }\n\n      /**\n       * This is called when someone clicks on a node. either select or deselect it.\n       * If there is an existing selection and we don't want to append to it, clear the existing selection\n       *\n       * @param {Node || Edge} object\n       * @private\n       */\n    }, {\n      key: \&quot;blurObject\&quot;,\n      value: function blurObject(object) {\n        if (object.hover === true) {\n          object.hover = false;\n          if (object instanceof Node) {\n            this.body.emitter.emit(\&quot;blurNode\&quot;, { node: object.id });\n          } else {\n            this.body.emitter.emit(\&quot;blurEdge\&quot;, { edge: object.id });\n          }\n        }\n      }\n\n      /**\n       * This is called when someone clicks on a node. either select or deselect it.\n       * If there is an existing selection and we don't want to append to it, clear the existing selection\n       *\n       * @param {Node || Edge} object\n       * @private\n       */\n    }, {\n      key: \&quot;hoverObject\&quot;,\n      value: function hoverObject(object) {\n        var hoverChanged = false;\n        // remove all node hover highlights\n        for (var nodeId in this.hoverObj.nodes) {\n          if (this.hoverObj.nodes.hasOwnProperty(nodeId)) {\n            if (object === undefined || object instanceof Node &amp;&amp; object.id != nodeId || object instanceof Edge) {\n              this.blurObject(this.hoverObj.nodes[nodeId]);\n              delete this.hoverObj.nodes[nodeId];\n              hoverChanged = true;\n            }\n          }\n        }\n\n        // removing all edge hover highlights\n        for (var edgeId in this.hoverObj.edges) {\n          if (this.hoverObj.edges.hasOwnProperty(edgeId)) {\n            // if the hover has been changed here it means that the node has been hovered over or off\n            // we then do not use the blurObject method here.\n            if (hoverChanged === true) {\n              this.hoverObj.edges[edgeId].hover = false;\n              delete this.hoverObj.edges[edgeId];\n            }\n            // if the blur remains the same and the object is undefined (mouse off), we blur the edge\n            else if (object === undefined) {\n                this.blurObject(this.hoverObj.edges[edgeId]);\n                delete this.hoverObj.edges[edgeId];\n                hoverChanged = true;\n              }\n          }\n        }\n\n        if (object !== undefined) {\n          if (object.hover === false) {\n            object.hover = true;\n            this._addToHover(object);\n            hoverChanged = true;\n            if (object instanceof Node) {\n              this.body.emitter.emit(\&quot;hoverNode\&quot;, { node: object.id });\n            } else {\n              this.body.emitter.emit(\&quot;hoverEdge\&quot;, { edge: object.id });\n            }\n          }\n          if (object instanceof Node &amp;&amp; this.options.hoverConnectedEdges === true) {\n            this._hoverConnectedEdges(object);\n          }\n        }\n\n        if (hoverChanged === true) {\n          this.body.emitter.emit('_requestRedraw');\n        }\n      }\n\n      /**\n       *\n       * retrieve the currently selected objects\n       * @return {{nodes: Array.&lt;String&gt;, edges: Array.&lt;String&gt;}} selection\n       */\n    }, {\n      key: \&quot;getSelection\&quot;,\n      value: function getSelection() {\n        var nodeIds = this.getSelectedNodes();\n        var edgeIds = this.getSelectedEdges();\n        return { nodes: nodeIds, edges: edgeIds };\n      }\n\n      /**\n       *\n       * retrieve the currently selected nodes\n       * @return {String[]} selection    An array with the ids of the\n       *                                            selected nodes.\n       */\n    }, {\n      key: \&quot;getSelectedNodes\&quot;,\n      value: function getSelectedNodes() {\n        var idArray = [];\n        if (this.options.selectable === true) {\n          for (var nodeId in this.selectionObj.nodes) {\n            if (this.selectionObj.nodes.hasOwnProperty(nodeId)) {\n              idArray.push(this.selectionObj.nodes[nodeId].id);\n            }\n          }\n        }\n        return idArray;\n      }\n\n      /**\n       *\n       * retrieve the currently selected edges\n       * @return {Array} selection    An array with the ids of the\n       *                                            selected nodes.\n       */\n    }, {\n      key: \&quot;getSelectedEdges\&quot;,\n      value: function getSelectedEdges() {\n        var idArray = [];\n        if (this.options.selectable === true) {\n          for (var edgeId in this.selectionObj.edges) {\n            if (this.selectionObj.edges.hasOwnProperty(edgeId)) {\n              idArray.push(this.selectionObj.edges[edgeId].id);\n            }\n          }\n        }\n        return idArray;\n      }\n\n      /**\n       * Updates the current selection\n       * @param {{nodes: Array.&lt;String&gt;, edges: Array.&lt;String&gt;}} Selection\n       * @param {Object} options                                 Options\n       */\n    }, {\n      key: \&quot;setSelection\&quot;,\n      value: function setSelection(selection) {\n        var options = arguments.length &lt;= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        var i = undefined,\n            id = undefined;\n\n        if (!selection || !selection.nodes &amp;&amp; !selection.edges) throw 'Selection must be an object with nodes and/or edges properties';\n        // first unselect any selected node, if option is true or undefined\n        if (options.unselectAll || options.unselectAll === undefined) {\n          this.unselectAll();\n        }\n        if (selection.nodes) {\n          for (i = 0; i &lt; selection.nodes.length; i++) {\n            id = selection.nodes[i];\n\n            var node = this.body.nodes[id];\n            if (!node) {\n              throw new RangeError('Node with id \&quot;' + id + '\&quot; not found');\n            }\n            // don't select edges with it\n            this.selectObject(node, options.highlightEdges);\n          }\n        }\n\n        if (selection.edges) {\n          for (i = 0; i &lt; selection.edges.length; i++) {\n            id = selection.edges[i];\n\n            var edge = this.body.edges[id];\n            if (!edge) {\n              throw new RangeError('Edge with id \&quot;' + id + '\&quot; not found');\n            }\n            this.selectObject(edge);\n          }\n        }\n        this.body.emitter.emit('_requestRedraw');\n      }\n\n      /**\n       * select zero or more nodes with the option to highlight edges\n       * @param {Number[] | String[]} selection     An array with the ids of the\n       *                                            selected nodes.\n       * @param {boolean} [highlightEdges]\n       */\n    }, {\n      key: \&quot;selectNodes\&quot;,\n      value: function selectNodes(selection) {\n        var highlightEdges = arguments.length &lt;= 1 || arguments[1] === undefined ? true : arguments[1];\n\n        if (!selection || selection.length === undefined) throw 'Selection must be an array with ids';\n\n        this.setSelection({ nodes: selection }, { highlightEdges: highlightEdges });\n      }\n\n      /**\n       * select zero or more edges\n       * @param {Number[] | String[]} selection     An array with the ids of the\n       *                                            selected nodes.\n       */\n    }, {\n      key: \&quot;selectEdges\&quot;,\n      value: function selectEdges(selection) {\n        if (!selection || selection.length === undefined) throw 'Selection must be an array with ids';\n\n        this.setSelection({ edges: selection });\n      }\n\n      /**\n       * Validate the selection: remove ids of nodes which no longer exist\n       * @private\n       */\n    }, {\n      key: \&quot;updateSelection\&quot;,\n      value: function updateSelection() {\n        for (var nodeId in this.selectionObj.nodes) {\n          if (this.selectionObj.nodes.hasOwnProperty(nodeId)) {\n            if (!this.body.nodes.hasOwnProperty(nodeId)) {\n              delete this.selectionObj.nodes[nodeId];\n            }\n          }\n        }\n        for (var edgeId in this.selectionObj.edges) {\n          if (this.selectionObj.edges.hasOwnProperty(edgeId)) {\n            if (!this.body.edges.hasOwnProperty(edgeId)) {\n              delete this.selectionObj.edges[edgeId];\n            }\n          }\n        }\n      }\n    }]);\n\n    return SelectionHandler;\n  })();\n\n  exports[\&quot;default\&quot;] = SelectionHandler;\n  module.exports = exports[\&quot;default\&quot;];\n\n/***/ },\n/* 108 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i &amp;&amp; _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n &amp;&amp; _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { 'default': obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var _NetworkUtil = __webpack_require__(99);\n\n  var _NetworkUtil2 = _interopRequireDefault(_NetworkUtil);\n\n  var util = __webpack_require__(1);\n\n  var LayoutEngine = (function () {\n    function LayoutEngine(body) {\n      _classCallCheck(this, LayoutEngine);\n\n      this.body = body;\n\n      this.initialRandomSeed = Math.round(Math.random() * 1000000);\n      this.randomSeed = this.initialRandomSeed;\n      this.setPhysics = false;\n      this.options = {};\n      this.optionsBackup = { physics: {} };\n\n      this.defaultOptions = {\n        randomSeed: undefined,\n        improvedLayout: true,\n        hierarchical: {\n          enabled: false,\n          levelSeparation: 150,\n          nodeSpacing: 100,\n          treeSpacing: 200,\n          blockShifting: true,\n          edgeMinimization: true,\n          direction: 'UD', // UD, DU, LR, RL\n          sortMethod: 'hubsize' // hubsize, directed\n        }\n      };\n      util.extend(this.options, this.defaultOptions);\n      this.bindEventListeners();\n    }\n\n    _createClass(LayoutEngine, [{\n      key: 'bindEventListeners',\n      value: function bindEventListeners() {\n        var _this = this;\n\n        this.body.emitter.on('_dataChanged', function () {\n          _this.setupHierarchicalLayout();\n        });\n        this.body.emitter.on('_dataLoaded', function () {\n          _this.layoutNetwork();\n        });\n        this.body.emitter.on('_resetHierarchicalLayout', function () {\n          _this.setupHierarchicalLayout();\n        });\n      }\n    }, {\n      key: 'setOptions',\n      value: function setOptions(options, allOptions) {\n        if (options !== undefined) {\n          var prevHierarchicalState = this.options.hierarchical.enabled;\n          util.selectiveDeepExtend([\&quot;randomSeed\&quot;, \&quot;improvedLayout\&quot;], this.options, options);\n          util.mergeOptions(this.options, options, 'hierarchical');\n          if (options.randomSeed !== undefined) {\n            this.initialRandomSeed = options.randomSeed;\n          }\n\n          if (this.options.hierarchical.enabled === true) {\n            if (prevHierarchicalState === true) {\n              // refresh the overridden options for nodes and edges.\n              this.body.emitter.emit('refresh', true);\n            }\n\n            // make sure the level separation is the right way up\n            if (this.options.hierarchical.direction === 'RL' || this.options.hierarchical.direction === 'DU') {\n              if (this.options.hierarchical.levelSeparation &gt; 0) {\n                this.options.hierarchical.levelSeparation *= -1;\n              }\n            } else {\n              if (this.options.hierarchical.levelSeparation &lt; 0) {\n                this.options.hierarchical.levelSeparation *= -1;\n              }\n            }\n\n            this.body.emitter.emit('_resetHierarchicalLayout');\n            // because the hierarchical system needs it's own physics and smooth curve settings, we adapt the other options if needed.\n            return this.adaptAllOptionsForHierarchicalLayout(allOptions);\n          } else {\n            if (prevHierarchicalState === true) {\n              // refresh the overridden options for nodes and edges.\n              this.body.emitter.emit('refresh');\n              return util.deepExtend(allOptions, this.optionsBackup);\n            }\n          }\n        }\n        return allOptions;\n      }\n    }, {\n      key: 'adaptAllOptionsForHierarchicalLayout',\n      value: function adaptAllOptionsForHierarchicalLayout(allOptions) {\n        if (this.options.hierarchical.enabled === true) {\n          // set the physics\n          if (allOptions.physics === undefined || allOptions.physics === true) {\n            allOptions.physics = {\n              enabled: this.optionsBackup.physics.enabled === undefined ? true : this.optionsBackup.physics.enabled,\n              solver: 'hierarchicalRepulsion'\n            };\n            this.optionsBackup.physics.enabled = this.optionsBackup.physics.enabled === undefined ? true : this.optionsBackup.physics.enabled;\n            this.optionsBackup.physics.solver = this.optionsBackup.physics.solver || 'barnesHut';\n          } else if (typeof allOptions.physics === 'object') {\n            this.optionsBackup.physics.enabled = allOptions.physics.enabled === undefined ? true : allOptions.physics.enabled;\n            this.optionsBackup.physics.solver = allOptions.physics.solver || 'barnesHut';\n            allOptions.physics.solver = 'hierarchicalRepulsion';\n          } else if (allOptions.physics !== false) {\n            this.optionsBackup.physics.solver = 'barnesHut';\n            allOptions.physics = { solver: 'hierarchicalRepulsion' };\n          }\n\n          // get the type of static smooth curve in case it is required\n          var type = 'horizontal';\n          if (this.options.hierarchical.direction === 'RL' || this.options.hierarchical.direction === 'LR') {\n            type = 'vertical';\n          }\n\n          // disable smooth curves if nothing is defined. If smooth curves have been turned on, turn them into static smooth curves.\n          if (allOptions.edges === undefined) {\n            this.optionsBackup.edges = { smooth: { enabled: true, type: 'dynamic' } };\n            allOptions.edges = { smooth: false };\n          } else if (allOptions.edges.smooth === undefined) {\n            this.optionsBackup.edges = { smooth: { enabled: true, type: 'dynamic' } };\n            allOptions.edges.smooth = false;\n          } else {\n            if (typeof allOptions.edges.smooth === 'boolean') {\n              this.optionsBackup.edges = { smooth: allOptions.edges.smooth };\n              allOptions.edges.smooth = { enabled: allOptions.edges.smooth, type: type };\n            } else {\n              // allow custom types except for dynamic\n              if (allOptions.edges.smooth.type !== undefined &amp;&amp; allOptions.edges.smooth.type !== 'dynamic') {\n                type = allOptions.edges.smooth.type;\n              }\n\n              this.optionsBackup.edges = {\n                smooth: allOptions.edges.smooth.enabled === undefined ? true : allOptions.edges.smooth.enabled,\n                type: allOptions.edges.smooth.type === undefined ? 'dynamic' : allOptions.edges.smooth.type,\n                roundness: allOptions.edges.smooth.roundness === undefined ? 0.5 : allOptions.edges.smooth.roundness,\n                forceDirection: allOptions.edges.smooth.forceDirection === undefined ? false : allOptions.edges.smooth.forceDirection\n              };\n              allOptions.edges.smooth = {\n                enabled: allOptions.edges.smooth.enabled === undefined ? true : allOptions.edges.smooth.enabled,\n                type: type,\n                roundness: allOptions.edges.smooth.roundness === undefined ? 0.5 : allOptions.edges.smooth.roundness,\n                forceDirection: allOptions.edges.smooth.forceDirection === undefined ? false : allOptions.edges.smooth.forceDirection\n              };\n            }\n          }\n\n          // force all edges into static smooth curves. Only applies to edges that do not use the global options for smooth.\n          this.body.emitter.emit('_forceDisableDynamicCurves', type);\n        }\n\n        return allOptions;\n      }\n    }, {\n      key: 'seededRandom',\n      value: function seededRandom() {\n        var x = Math.sin(this.randomSeed++) * 10000;\n        return x - Math.floor(x);\n      }\n    }, {\n      key: 'positionInitially',\n      value: function positionInitially(nodesArray) {\n        if (this.options.hierarchical.enabled !== true) {\n          this.randomSeed = this.initialRandomSeed;\n          for (var i = 0; i &lt; nodesArray.length; i++) {\n            var node = nodesArray[i];\n            var radius = 10 * 0.1 * nodesArray.length + 10;\n            var angle = 2 * Math.PI * this.seededRandom();\n            if (node.x === undefined) {\n              node.x = radius * Math.cos(angle);\n            }\n            if (node.y === undefined) {\n              node.y = radius * Math.sin(angle);\n            }\n          }\n        }\n      }\n\n      /**\n       * Use Kamada Kawai to position nodes. This is quite a heavy algorithm so if there are a lot of nodes we\n       * cluster them first to reduce the amount.\n       */\n    }, {\n      key: 'layoutNetwork',\n      value: function layoutNetwork() {\n        if (this.options.hierarchical.enabled !== true &amp;&amp; this.options.improvedLayout === true) {\n          // first check if we should Kamada Kawai to layout. The threshold is if less than half of the visible\n          // nodes have predefined positions we use this.\n          var positionDefined = 0;\n          for (var i = 0; i &lt; this.body.nodeIndices.length; i++) {\n            var node = this.body.nodes[this.body.nodeIndices[i]];\n            if (node.predefinedPosition === true) {\n              positionDefined += 1;\n            }\n          }\n\n          // if less than half of the nodes have a predefined position we continue\n          if (positionDefined &lt; 0.5 * this.body.nodeIndices.length) {\n            var MAX_LEVELS = 10;\n            var level = 0;\n            var clusterThreshold = 100;\n            // if there are a lot of nodes, we cluster before we run the algorithm.\n            if (this.body.nodeIndices.length &gt; clusterThreshold) {\n              var startLength = this.body.nodeIndices.length;\n              while (this.body.nodeIndices.length &gt; clusterThreshold) {\n                //console.time(\&quot;clustering\&quot;)\n                level += 1;\n                var before = this.body.nodeIndices.length;\n                // if there are many nodes we do a hubsize cluster\n                if (level % 3 === 0) {\n                  this.body.modules.clustering.clusterBridges();\n                } else {\n                  this.body.modules.clustering.clusterOutliers();\n                }\n                var after = this.body.nodeIndices.length;\n                if (before == after &amp;&amp; level % 3 !== 0 || level &gt; MAX_LEVELS) {\n                  this._declusterAll();\n                  this.body.emitter.emit(\&quot;_layoutFailed\&quot;);\n                  console.info(\&quot;This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.\&quot;);\n                  return;\n                }\n                //console.timeEnd(\&quot;clustering\&quot;)\n                //console.log(level,after)\n              }\n              // increase the size of the edges\n              this.body.modules.kamadaKawai.setOptions({ springLength: Math.max(150, 2 * startLength) });\n            }\n\n            // position the system for these nodes and edges\n            this.body.modules.kamadaKawai.solve(this.body.nodeIndices, this.body.edgeIndices, true);\n\n            // shift to center point\n            this._shiftToCenter();\n\n            // perturb the nodes a little bit to force the physics to kick in\n            var offset = 70;\n            for (var i = 0; i &lt; this.body.nodeIndices.length; i++) {\n              this.body.nodes[this.body.nodeIndices[i]].x += (0.5 - this.seededRandom()) * offset;\n              this.body.nodes[this.body.nodeIndices[i]].y += (0.5 - this.seededRandom()) * offset;\n            }\n\n            // uncluster all clusters\n            this._declusterAll();\n\n            // reposition all bezier nodes.\n            this.body.emitter.emit(\&quot;_repositionBezierNodes\&quot;);\n          }\n        }\n      }\n\n      /**\n       * Move all the nodes towards to the center so gravitational pull wil not move the nodes away from view\n       * @private\n       */\n    }, {\n      key: '_shiftToCenter',\n      value: function _shiftToCenter() {\n        var range = _NetworkUtil2['default'].getRangeCore(this.body.nodes, this.body.nodeIndices);\n        var center = _NetworkUtil2['default'].findCenter(range);\n        for (var i = 0; i &lt; this.body.nodeIndices.length; i++) {\n          this.body.nodes[this.body.nodeIndices[i]].x -= center.x;\n          this.body.nodes[this.body.nodeIndices[i]].y -= center.y;\n        }\n      }\n    }, {\n      key: '_declusterAll',\n      value: function _declusterAll() {\n        var clustersPresent = true;\n        while (clustersPresent === true) {\n          clustersPresent = false;\n          for (var i = 0; i &lt; this.body.nodeIndices.length; i++) {\n            if (this.body.nodes[this.body.nodeIndices[i]].isCluster === true) {\n              clustersPresent = true;\n              this.body.modules.clustering.openCluster(this.body.nodeIndices[i], {}, false);\n            }\n          }\n          if (clustersPresent === true) {\n            this.body.emitter.emit('_dataChanged');\n          }\n        }\n      }\n    }, {\n      key: 'getSeed',\n      value: function getSeed() {\n        return this.initialRandomSeed;\n      }\n\n      /**\n       * This is the main function to layout the nodes in a hierarchical way.\n       * It checks if the node details are supplied correctly\n       *\n       * @private\n       */\n    }, {\n      key: 'setupHierarchicalLayout',\n      value: function setupHierarchicalLayout() {\n        if (this.options.hierarchical.enabled === true &amp;&amp; this.body.nodeIndices.length &gt; 0) {\n          // get the size of the largest hubs and check if the user has defined a level for a node.\n          var node = undefined,\n              nodeId = undefined;\n          var definedLevel = false;\n          var definedPositions = true;\n          var undefinedLevel = false;\n          this.hierarchicalLevels = {};\n          this.lastNodeOnLevel = {};\n          this.hierarchicalParents = {};\n          this.hierarchicalChildren = {};\n          this.hierarchicalTrees = {};\n          this.treeIndex = -1;\n\n          this.distributionOrdering = {};\n          this.distributionIndex = {};\n          this.distributionOrderingPresence = {};\n\n          for (nodeId in this.body.nodes) {\n            if (this.body.nodes.hasOwnProperty(nodeId)) {\n              node = this.body.nodes[nodeId];\n              if (node.options.x === undefined &amp;&amp; node.options.y === undefined) {\n                definedPositions = false;\n              }\n              if (node.options.level !== undefined) {\n                definedLevel = true;\n                this.hierarchicalLevels[nodeId] = node.options.level;\n              } else {\n                undefinedLevel = true;\n              }\n            }\n          }\n\n          // if the user defined some levels but not all, alert and run without hierarchical layout\n          if (undefinedLevel === true &amp;&amp; definedLevel === true) {\n            throw new Error('To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.');\n            return;\n          } else {\n            // define levels if undefined by the users. Based on hubsize.\n            if (undefinedLevel === true) {\n              if (this.options.hierarchical.sortMethod === 'hubsize') {\n                this._determineLevelsByHubsize();\n              } else if (this.options.hierarchical.sortMethod === 'directed') {\n                this._determineLevelsDirected();\n              } else if (this.options.hierarchical.sortMethod === 'custom') {\n                this._determineLevelsCustomCallback();\n              }\n            }\n\n            // fallback for cases where there are nodes but no edges\n            for (var _nodeId in this.body.nodes) {\n              if (this.body.nodes.hasOwnProperty(_nodeId)) {\n                if (this.hierarchicalLevels[_nodeId] === undefined) {\n                  this.hierarchicalLevels[_nodeId] = 0;\n                }\n              }\n            }\n            // check the distribution of the nodes per level.\n            var distribution = this._getDistribution();\n\n            // get the parent children relations.\n            this._generateMap();\n\n            // place the nodes on the canvas.\n            this._placeNodesByHierarchy(distribution);\n\n            // condense the whitespace.\n            this._condenseHierarchy();\n\n            // shift to center so gravity does not have to do much\n            this._shiftToCenter();\n          }\n        }\n      }\n\n      /**\n       * @private\n       */\n    }, {\n      key: '_condenseHierarchy',\n      value: function _condenseHierarchy() {\n        var _this2 = this;\n\n        // Global var in this scope to define when the movement has stopped.\n        var stillShifting = false;\n        var branches = {};\n        // first we have some methods to help shifting trees around.\n        // the main method to shift the trees\n        var shiftTrees = function shiftTrees() {\n          var treeSizes = getTreeSizes();\n          for (var i = 0; i &lt; treeSizes.length - 1; i++) {\n            var diff = treeSizes[i].max - treeSizes[i + 1].min;\n            if (diff !== _this2.options.hierarchical.treeSpacing) {\n              shiftTree(i + 1, diff - _this2.options.hierarchical.treeSpacing);\n            }\n          }\n        };\n\n        // shift a single tree by an offset\n        var shiftTree = function shiftTree(index, offset) {\n          for (var nodeId in _this2.hierarchicalTrees) {\n            if (_this2.hierarchicalTrees.hasOwnProperty(nodeId)) {\n              if (_this2.hierarchicalTrees[nodeId] === index) {\n                _this2._setPositionForHierarchy(_this2.body.nodes[nodeId], offset, undefined, true);\n              }\n            }\n          }\n        };\n\n        // get the width of a tree\n        var getTreeSize = function getTreeSize(index) {\n          var min = 1e9;\n          var max = -1e9;\n          for (var nodeId in _this2.hierarchicalTrees) {\n            if (_this2.hierarchicalTrees.hasOwnProperty(nodeId)) {\n              if (_this2.hierarchicalTrees[nodeId] === index) {\n                var pos = _this2._getPositionForHierarchy(_this2.body.nodes[nodeId]);\n                min = Math.min(pos, min);\n                max = Math.max(pos, max);\n              }\n            }\n          }\n          return { min: min, max: max };\n        };\n\n        // get the width of all trees\n        var getTreeSizes = function getTreeSizes() {\n          var treeWidths = [];\n          for (var i = 0; i &lt; _this2.treeIndex; i++) {\n            treeWidths.push(getTreeSize(i));\n          }\n          return treeWidths;\n        };\n\n        // get a map of all nodes in this branch\n        var getBranchNodes = function getBranchNodes(source, map) {\n          map[source.id] = true;\n          if (_this2.hierarchicalParents[source.id]) {\n            var children = _this2.hierarchicalParents[source.id].children;\n            if (children.length &gt; 0) {\n              for (var i = 0; i &lt; children.length; i++) {\n                getBranchNodes(_this2.body.nodes[children[i]], map);\n              }\n            }\n          }\n        };\n\n        // get a min max width as well as the maximum movement space it has on either sides\n        // we use min max terminology because width and height can interchange depending on the direction of the layout\n        var getBranchBoundary = function getBranchBoundary(branchMap) {\n          var maxLevel = arguments.length &lt;= 1 || arguments[1] === undefined ? 1e9 : arguments[1];\n\n          var minSpace = 1e9;\n          var maxSpace = 1e9;\n          var min = 1e9;\n          var max = -1e9;\n          for (var branchNode in branchMap) {\n            if (branchMap.hasOwnProperty(branchNode)) {\n              var node = _this2.body.nodes[branchNode];\n              var level = _this2.hierarchicalLevels[node.id];\n              var position = _this2._getPositionForHierarchy(node);\n\n              // get the space around the node.\n\n              var _getSpaceAroundNode2 = _this2._getSpaceAroundNode(node, branchMap);\n\n              var _getSpaceAroundNode22 = _slicedToArray(_getSpaceAroundNode2, 2);\n\n              var minSpaceNode = _getSpaceAroundNode22[0];\n              var maxSpaceNode = _getSpaceAroundNode22[1];\n\n              minSpace = Math.min(minSpaceNode, minSpace);\n              maxSpace = Math.min(maxSpaceNode, maxSpace);\n\n              // the width is only relevant for the levels two nodes have in common. This is why we filter on this.\n              if (level &lt;= maxLevel) {\n                min = Math.min(position, min);\n                max = Math.max(position, max);\n              }\n            }\n          }\n\n          return [min, max, minSpace, maxSpace];\n        };\n\n        // get the maximum level of a branch.\n        var getMaxLevel = function getMaxLevel(nodeId) {\n          var level = _this2.hierarchicalLevels[nodeId];\n          if (_this2.hierarchicalParents[nodeId]) {\n            var children = _this2.hierarchicalParents[nodeId].children;\n            if (children.length &gt; 0) {\n              for (var i = 0; i &lt; children.length; i++) {\n                level = Math.max(level, getMaxLevel(children[i]));\n              }\n            }\n          }\n          return level;\n        };\n\n        // check what the maximum level is these nodes have in common.\n        var getCollisionLevel = function getCollisionLevel(node1, node2) {\n          var maxLevel1 = getMaxLevel(node1.id);\n          var maxLevel2 = getMaxLevel(node2.id);\n          return Math.min(maxLevel1, maxLevel2);\n        };\n\n        // check if two nodes have the same parent(s)\n        var hasSameParent = function hasSameParent(node1, node2) {\n          var parents1 = _this2.hierarchicalChildren[node1.id];\n          var parents2 = _this2.hierarchicalChildren[node2.id];\n          if (parents1 === undefined || parents2 === undefined) {\n            return false;\n          }\n          parents1 = parents1.parents;\n          parents2 = parents2.parents;\n          for (var i = 0; i &lt; parents1.length; i++) {\n            for (var j = 0; j &lt; parents2.length; j++) {\n              if (parents1[i] == parents2[j]) {\n                return true;\n              }\n            }\n          }\n          return false;\n        };\n\n        // condense elements. These can be nodes or branches depending on the callback.\n        var shiftElementsCloser = function shiftElementsCloser(callback, levels, centerParents) {\n          for (var i = 0; i &lt; levels.length; i++) {\n            var level = levels[i];\n            var levelNodes = _this2.distributionOrdering[level];\n            if (levelNodes.length &gt; 1) {\n              for (var j = 0; j &lt; levelNodes.length - 1; j++) {\n                if (hasSameParent(levelNodes[j], levelNodes[j + 1]) === true) {\n                  if (_this2.hierarchicalTrees[levelNodes[j].id] === _this2.hierarchicalTrees[levelNodes[j + 1].id]) {\n                    callback(levelNodes[j], levelNodes[j + 1], centerParents);\n                  }\n                }\n              }\n            }\n          }\n        };\n\n        // callback for shifting branches\n        var branchShiftCallback = function branchShiftCallback(node1, node2) {\n          var centerParent = arguments.length &lt;= 2 || arguments[2] === undefined ? false : arguments[2];\n\n          //window.CALLBACKS.push(() =&gt; {\n          var pos1 = _this2._getPositionForHierarchy(node1);\n          var pos2 = _this2._getPositionForHierarchy(node2);\n          var diffAbs = Math.abs(pos2 - pos1);\n          //console.log(\&quot;NOW CHEcKING:\&quot;, node1.id, node2.id, diffAbs);\n          if (diffAbs &gt; _this2.options.hierarchical.nodeSpacing) {\n            var branchNodes1 = {};branchNodes1[node1.id] = true;\n            var branchNodes2 = {};branchNodes2[node2.id] = true;\n\n            getBranchNodes(node1, branchNodes1);\n            getBranchNodes(node2, branchNodes2);\n\n            // check the largest distance between the branches\n            var maxLevel = getCollisionLevel(node1, node2);\n\n            var _getBranchBoundary = getBranchBoundary(branchNodes1, maxLevel);\n\n            var _getBranchBoundary2 = _slicedToArray(_getBranchBoundary, 4);\n\n            var min1 = _getBranchBoundary2[0];\n            var max1 = _getBranchBoundary2[1];\n            var minSpace1 = _getBranchBoundary2[2];\n            var maxSpace1 = _getBranchBoundary2[3];\n\n            var _getBranchBoundary3 = getBranchBoundary(branchNodes2, maxLevel);\n\n            var _getBranchBoundary32 = _slicedToArray(_getBranchBoundary3, 4);\n\n            var min2 = _getBranchBoundary32[0];\n            var max2 = _getBranchBoundary32[1];\n            var minSpace2 = _getBranchBoundary32[2];\n            var maxSpace2 = _getBranchBoundary32[3];\n\n            //console.log(node1.id, getBranchBoundary(branchNodes1, maxLevel), node2.id, getBranchBoundary(branchNodes2, maxLevel), maxLevel);\n            var diffBranch = Math.abs(max1 - min2);\n            if (diffBranch &gt; _this2.options.hierarchical.nodeSpacing) {\n              var offset = max1 - min2 + _this2.options.hierarchical.nodeSpacing;\n              if (offset &lt; -minSpace2 + _this2.options.hierarchical.nodeSpacing) {\n                offset = -minSpace2 + _this2.options.hierarchical.nodeSpacing;\n                //console.log(\&quot;RESETTING OFFSET\&quot;, max1 - min2 + this.options.hierarchical.nodeSpacing, -minSpace2, offset);\n              }\n              if (offset &lt; 0) {\n                //console.log(\&quot;SHIFTING\&quot;, node2.id, offset);\n                _this2._shiftBlock(node2.id, offset);\n                stillShifting = true;\n\n                if (centerParent === true) _this2._centerParent(node2);\n              }\n            }\n          }\n          //this.body.emitter.emit(\&quot;_redraw\&quot;);})\n        };\n\n        var minimizeEdgeLength = function minimizeEdgeLength(iterations, node) {\n          //window.CALLBACKS.push(() =&gt; {\n          //  console.log(\&quot;ts\&quot;,node.id);\n          var nodeId = node.id;\n          var allEdges = node.edges;\n          var nodeLevel = _this2.hierarchicalLevels[node.id];\n\n          // gather constants\n          var C2 = _this2.options.hierarchical.levelSeparation * _this2.options.hierarchical.levelSeparation;\n          var referenceNodes = {};\n          var aboveEdges = [];\n          for (var i = 0; i &lt; allEdges.length; i++) {\n            var edge = allEdges[i];\n            if (edge.toId != edge.fromId) {\n              var otherNode = edge.toId == nodeId ? edge.from : edge.to;\n              referenceNodes[allEdges[i].id] = otherNode;\n              if (_this2.hierarchicalLevels[otherNode.id] &lt; nodeLevel) {\n                aboveEdges.push(edge);\n              }\n            }\n          }\n\n          // differentiated sum of lengths based on only moving one node over one axis\n          var getFx = function getFx(point, edges) {\n            var sum = 0;\n            for (var i = 0; i &lt; edges.length; i++) {\n              if (referenceNodes[edges[i].id] !== undefined) {\n                var a = _this2._getPositionForHierarchy(referenceNodes[edges[i].id]) - point;\n                sum += a / Math.sqrt(a * a + C2);\n              }\n            }\n            return sum;\n          };\n\n          // doubly differentiated sum of lengths based on only moving one node over one axis\n          var getDFx = function getDFx(point, edges) {\n            var sum = 0;\n            for (var i = 0; i &lt; edges.length; i++) {\n              if (referenceNodes[edges[i].id] !== undefined) {\n                var a = _this2._getPositionForHierarchy(referenceNodes[edges[i].id]) - point;\n                sum -= C2 * Math.pow(a * a + C2, -1.5);\n              }\n            }\n            return sum;\n          };\n\n          var getGuess = function getGuess(iterations, edges) {\n            var guess = _this2._getPositionForHierarchy(node);\n            // Newton's method for optimization\n            var guessMap = {};\n            for (var i = 0; i &lt; iterations; i++) {\n              var fx = getFx(guess, edges);\n              var dfx = getDFx(guess, edges);\n\n              // we limit the movement to avoid instability.\n              var limit = 40;\n              var ratio = Math.max(-limit, Math.min(limit, Math.round(fx / dfx)));\n              guess = guess - ratio;\n              // reduce duplicates\n              if (guessMap[guess] !== undefined) {\n                break;\n              }\n              guessMap[guess] = i;\n            }\n            return guess;\n          };\n\n          var moveBranch = function moveBranch(guess) {\n            // position node if there is space\n            var nodePosition = _this2._getPositionForHierarchy(node);\n\n            // check movable area of the branch\n            if (branches[node.id] === undefined) {\n              var branchNodes = {};\n              branchNodes[node.id] = true;\n              getBranchNodes(node, branchNodes);\n              branches[node.id] = branchNodes;\n            }\n\n            var _getBranchBoundary4 = getBranchBoundary(branches[node.id]);\n\n            var _getBranchBoundary42 = _slicedToArray(_getBranchBoundary4, 4);\n\n            var minBranch = _getBranchBoundary42[0];\n            var maxBranch = _getBranchBoundary42[1];\n            var minSpaceBranch = _getBranchBoundary42[2];\n            var maxSpaceBranch = _getBranchBoundary42[3];\n\n            var diff = guess - nodePosition;\n\n            // check if we are allowed to move the node:\n            var branchOffset = 0;\n            if (diff &gt; 0) {\n              branchOffset = Math.min(diff, maxSpaceBranch - _this2.options.hierarchical.nodeSpacing);\n            } else if (diff &lt; 0) {\n              branchOffset = -Math.min(-diff, minSpaceBranch - _this2.options.hierarchical.nodeSpacing);\n            }\n\n            if (branchOffset != 0) {\n              //console.log(\&quot;moving branch:\&quot;,branchOffset, maxSpaceBranch, minSpaceBranch)\n              _this2._shiftBlock(node.id, branchOffset);\n              //this.body.emitter.emit(\&quot;_redraw\&quot;);\n              stillShifting = true;\n            }\n          };\n\n          var moveNode = function moveNode(guess) {\n            var nodePosition = _this2._getPositionForHierarchy(node);\n\n            // position node if there is space\n\n            var _getSpaceAroundNode3 = _this2._getSpaceAroundNode(node);\n\n            var _getSpaceAroundNode32 = _slicedToArray(_getSpaceAroundNode3, 2);\n\n            var minSpace = _getSpaceAroundNode32[0];\n            var maxSpace = _getSpaceAroundNode32[1];\n\n            var diff = guess - nodePosition;\n            // check if we are allowed to move the node:\n            var newPosition = nodePosition;\n            if (diff &gt; 0) {\n              newPosition = Math.min(nodePosition + (maxSpace - _this2.options.hierarchical.nodeSpacing), guess);\n            } else if (diff &lt; 0) {\n              newPosition = Math.max(nodePosition - (minSpace - _this2.options.hierarchical.nodeSpacing), guess);\n            }\n\n            if (newPosition !== nodePosition) {\n              //console.log(\&quot;moving Node:\&quot;,diff, minSpace, maxSpace)\n              _this2._setPositionForHierarchy(node, newPosition, undefined, true);\n              //this.body.emitter.emit(\&quot;_redraw\&quot;);\n              stillShifting = true;\n            }\n          };\n\n          var guess = getGuess(iterations, aboveEdges);\n          moveBranch(guess);\n          guess = getGuess(iterations, allEdges);\n          moveNode(guess);\n          //})\n        };\n\n        // method to remove whitespace between branches. Because we do bottom up, we can center the parents.\n        var minimizeEdgeLengthBottomUp = function minimizeEdgeLengthBottomUp(iterations) {\n          var levels = Object.keys(_this2.distributionOrdering);\n          levels = levels.reverse();\n          for (var i = 0; i &lt; iterations; i++) {\n            stillShifting = false;\n            for (var j = 0; j &lt; levels.length; j++) {\n              var level = levels[j];\n              var levelNodes = _this2.distributionOrdering[level];\n              for (var k = 0; k &lt; levelNodes.length; k++) {\n                minimizeEdgeLength(1000, levelNodes[k]);\n              }\n            }\n            if (stillShifting !== true) {\n              //console.log(\&quot;FINISHED minimizeEdgeLengthBottomUp IN \&quot; + i);\n              break;\n            }\n          }\n        };\n\n        //// method to remove whitespace between branches. Because we do bottom up, we can center the parents.\n        var shiftBranchesCloserBottomUp = function shiftBranchesCloserBottomUp(iterations) {\n          var levels = Object.keys(_this2.distributionOrdering);\n          levels = levels.reverse();\n          for (var i = 0; i &lt; iterations; i++) {\n            stillShifting = false;\n            shiftElementsCloser(branchShiftCallback, levels, true);\n            if (stillShifting !== true) {\n              //console.log(\&quot;FINISHED shiftBranchesCloserBottomUp IN \&quot; + (i+1));\n              break;\n            }\n          }\n        };\n\n        // center all parents\n        var centerAllParents = function centerAllParents() {\n          for (var nodeId in _this2.body.nodes) {\n            if (_this2.body.nodes.hasOwnProperty(nodeId)) _this2._centerParent(_this2.body.nodes[nodeId]);\n          }\n        };\n\n        // the actual work is done here.\n        if (this.options.hierarchical.blockShifting === true) {\n          shiftBranchesCloserBottomUp(5);\n          centerAllParents();\n        }\n\n        // minimize edge length\n        if (this.options.hierarchical.edgeMinimization === true) {\n          minimizeEdgeLengthBottomUp(20);\n        }\n\n        shiftTrees();\n      }\n\n      /**\n       * This gives the space around the node. IF a map is supplied, it will only check against nodes NOT in the map.\n       * This is used to only get the distances to nodes outside of a branch.\n       * @param node\n       * @param map\n       * @returns {*[]}\n       * @private\n       */\n    }, {\n      key: '_getSpaceAroundNode',\n      value: function _getSpaceAroundNode(node, map) {\n        var useMap = true;\n        if (map === undefined) {\n          useMap = false;\n        }\n        var level = this.hierarchicalLevels[node.id];\n        if (level !== undefined) {\n          var index = this.distributionIndex[node.id];\n          var position = this._getPositionForHierarchy(node);\n          var minSpace = 1e9;\n          var maxSpace = 1e9;\n          if (index !== 0) {\n            var prevNode = this.distributionOrdering[level][index - 1];\n            if (useMap === true &amp;&amp; map[prevNode.id] === undefined || useMap === false) {\n              var prevPos = this._getPositionForHierarchy(prevNode);\n              minSpace = position - prevPos;\n            }\n          }\n\n          if (index != this.distributionOrdering[level].length - 1) {\n            var nextNode = this.distributionOrdering[level][index + 1];\n            if (useMap === true &amp;&amp; map[nextNode.id] === undefined || useMap === false) {\n              var nextPos = this._getPositionForHierarchy(nextNode);\n              maxSpace = Math.min(maxSpace, nextPos - position);\n            }\n          }\n\n          return [minSpace, maxSpace];\n        } else {\n          return [0, 0];\n        }\n      }\n\n      /**\n       * We use this method to center a parent node and check if it does not cross other nodes when it does.\n       * @param node\n       * @private\n       */\n    }, {\n      key: '_centerParent',\n      value: function _centerParent(node) {\n        if (this.hierarchicalChildren[node.id]) {\n          var parents = this.hierarchicalChildren[node.id].parents;\n          for (var i = 0; i &lt; parents.length; i++) {\n            var parentId = parents[i];\n            var parentNode = this.body.nodes[parentId];\n            if (this.hierarchicalParents[parentId]) {\n              // get the range of the children\n              var minPos = 1e9;\n              var maxPos = -1e9;\n              var children = this.hierarchicalParents[parentId].children;\n              if (children.length &gt; 0) {\n                for (var _i = 0; _i &lt; children.length; _i++) {\n                  var childNode = this.body.nodes[children[_i]];\n                  minPos = Math.min(minPos, this._getPositionForHierarchy(childNode));\n                  maxPos = Math.max(maxPos, this._getPositionForHierarchy(childNode));\n                }\n              }\n\n              var position = this._getPositionForHierarchy(parentNode);\n\n              var _getSpaceAroundNode4 = this._getSpaceAroundNode(parentNode);\n\n              var _getSpaceAroundNode42 = _slicedToArray(_getSpaceAroundNode4, 2);\n\n              var minSpace = _getSpaceAroundNode42[0];\n              var maxSpace = _getSpaceAroundNode42[1];\n\n              var newPosition = 0.5 * (minPos + maxPos);\n              var diff = position - newPosition;\n              if (diff &lt; 0 &amp;&amp; Math.abs(diff) &lt; maxSpace - this.options.hierarchical.nodeSpacing || diff &gt; 0 &amp;&amp; Math.abs(diff) &lt; minSpace - this.options.hierarchical.nodeSpacing) {\n                this._setPositionForHierarchy(parentNode, newPosition, undefined, true);\n              }\n            }\n          }\n        }\n      }\n\n      /**\n       * This function places the nodes on the canvas based on the hierarchial distribution.\n       *\n       * @param {Object} distribution | obtained by the function this._getDistribution()\n       * @private\n       */\n    }, {\n      key: '_placeNodesByHierarchy',\n      value: function _placeNodesByHierarchy(distribution) {\n        this.positionedNodes = {};\n        // start placing all the level 0 nodes first. Then recursively position their branches.\n        for (var level in distribution) {\n          if (distribution.hasOwnProperty(level)) {\n            // sort nodes in level by position:\n            var nodeArray = Object.keys(distribution[level]);\n            nodeArray = this._indexArrayToNodes(nodeArray);\n            this._sortNodeArray(nodeArray);\n\n            for (var i = 0; i &lt; nodeArray.length; i++) {\n              var node = nodeArray[i];\n              if (this.positionedNodes[node.id] === undefined) {\n                this._setPositionForHierarchy(node, this.options.hierarchical.nodeSpacing * i, level);\n                this.positionedNodes[node.id] = true;\n                this._placeBranchNodes(node.id, level);\n              }\n            }\n          }\n        }\n      }\n\n      /**\n       * Receives an array with node indices and returns an array with the actual node references. Used for sorting based on\n       * node properties.\n       * @param idArray\n       */\n    }, {\n      key: '_indexArrayToNodes',\n      value: function _indexArrayToNodes(idArray) {\n        var array = [];\n        for (var i = 0; i &lt; idArray.length; i++) {\n          array.push(this.body.nodes[idArray[i]]);\n        }\n        return array;\n      }\n\n      /**\n       * This function get the distribution of levels based on hubsize\n       *\n       * @returns {Object}\n       * @private\n       */\n    }, {\n      key: '_getDistribution',\n      value: function _getDistribution() {\n        var distribution = {};\n        var nodeId = undefined,\n            node = undefined;\n\n        // we fix Y because the hierarchy is vertical, we fix X so we do not give a node an x position for a second time.\n        // the fix of X is removed after the x value has been set.\n        for (nodeId in this.body.nodes) {\n          if (this.body.nodes.hasOwnProperty(nodeId)) {\n            node = this.body.nodes[nodeId];\n            var level = this.hierarchicalLevels[nodeId] === undefined ? 0 : this.hierarchicalLevels[nodeId];\n            if (this.options.hierarchical.direction === 'UD' || this.options.hierarchical.direction === 'DU') {\n              node.y = this.options.hierarchical.levelSeparation * level;\n              node.options.fixed.y = true;\n            } else {\n              node.x = this.options.hierarchical.levelSeparation * level;\n              node.options.fixed.x = true;\n            }\n            if (distribution[level] === undefined) {\n              distribution[level] = {};\n            }\n            distribution[level][nodeId] = node;\n          }\n        }\n        return distribution;\n      }\n\n      /**\n       * Get the hubsize from all remaining unlevelled nodes.\n       *\n       * @returns {number}\n       * @private\n       */\n    }, {\n      key: '_getHubSize',\n      value: function _getHubSize() {\n        var hubSize = 0;\n        for (var nodeId in this.body.nodes) {\n          if (this.body.nodes.hasOwnProperty(nodeId)) {\n            var node = this.body.nodes[nodeId];\n            if (this.hierarchicalLevels[nodeId] === undefined) {\n              hubSize = node.edges.length &lt; hubSize ? hubSize : node.edges.length;\n            }\n          }\n        }\n        return hubSize;\n      }\n\n      /**\n       * this function allocates nodes in levels based on the recursive branching from the largest hubs.\n       *\n       * @param hubsize\n       * @private\n       */\n    }, {\n      key: '_determineLevelsByHubsize',\n      value: function _determineLevelsByHubsize() {\n        var _this3 = this;\n\n        var hubSize = 1;\n\n        var levelDownstream = function levelDownstream(nodeA, nodeB) {\n          if (_this3.hierarchicalLevels[nodeB.id] === undefined) {\n            // set initial level\n            if (_this3.hierarchicalLevels[nodeA.id] === undefined) {\n              _this3.hierarchicalLevels[nodeA.id] = 0;\n            }\n            // set level\n            _this3.hierarchicalLevels[nodeB.id] = _this3.hierarchicalLevels[nodeA.id] + 1;\n          }\n        };\n\n        while (hubSize &gt; 0) {\n          // determine hubs\n          hubSize = this._getHubSize();\n          if (hubSize === 0) break;\n\n          for (var nodeId in this.body.nodes) {\n            if (this.body.nodes.hasOwnProperty(nodeId)) {\n              var node = this.body.nodes[nodeId];\n              if (node.edges.length === hubSize) {\n                this._crawlNetwork(levelDownstream, nodeId);\n              }\n            }\n          }\n        }\n      }\n\n      /**\n       * TODO: release feature\n       * @private\n       */\n    }, {\n      key: '_determineLevelsCustomCallback',\n      value: function _determineLevelsCustomCallback() {\n        var _this4 = this;\n\n        var minLevel = 100000;\n\n        // TODO: this should come from options.\n        var customCallback = function customCallback(nodeA, nodeB, edge) {};\n\n        var levelByDirection = function levelByDirection(nodeA, nodeB, edge) {\n          var levelA = _this4.hierarchicalLevels[nodeA.id];\n          // set initial level\n          if (levelA === undefined) {\n            _this4.hierarchicalLevels[nodeA.id] = minLevel;\n          }\n\n          var diff = customCallback(_NetworkUtil2['default'].cloneOptions(nodeA, 'node'), _NetworkUtil2['default'].cloneOptions(nodeB, 'node'), _NetworkUtil2['default'].cloneOptions(edge, 'edge'));\n\n          _this4.hierarchicalLevels[nodeB.id] = _this4.hierarchicalLevels[nodeA.id] + diff;\n        };\n\n        this._crawlNetwork(levelByDirection);\n        this._setMinLevelToZero();\n      }\n\n      /**\n       * this function allocates nodes in levels based on the direction of the edges\n       *\n       * @param hubsize\n       * @private\n       */\n    }, {\n      key: '_determineLevelsDirected',\n      value: function _determineLevelsDirected() {\n        var _this5 = this;\n\n        var minLevel = 10000;\n        var levelByDirection = function levelByDirection(nodeA, nodeB, edge) {\n          var levelA = _this5.hierarchicalLevels[nodeA.id];\n          // set initial level\n          if (levelA === undefined) {\n            _this5.hierarchicalLevels[nodeA.id] = minLevel;\n          }\n          if (edge.toId == nodeB.id) {\n            _this5.hierarchicalLevels[nodeB.id] = _this5.hierarchicalLevels[nodeA.id] + 1;\n          } else {\n            _this5.hierarchicalLevels[nodeB.id] = _this5.hierarchicalLevels[nodeA.id] - 1;\n          }\n        };\n        this._crawlNetwork(levelByDirection);\n        this._setMinLevelToZero();\n      }\n\n      /**\n       * Small util method to set the minimum levels of the nodes to zero.\n       * @private\n       */\n    }, {\n      key: '_setMinLevelToZero',\n      value: function _setMinLevelToZero() {\n        var minLevel = 1e9;\n        // get the minimum level\n        for (var nodeId in this.body.nodes) {\n          if (this.body.nodes.hasOwnProperty(nodeId)) {\n            if (this.hierarchicalLevels[nodeId] !== undefined) {\n              minLevel = Math.min(this.hierarchicalLevels[nodeId], minLevel);\n            }\n          }\n        }\n\n        // subtract the minimum from the set so we have a range starting from 0\n        for (var nodeId in this.body.nodes) {\n          if (this.body.nodes.hasOwnProperty(nodeId)) {\n            if (this.hierarchicalLevels[nodeId] !== undefined) {\n              this.hierarchicalLevels[nodeId] -= minLevel;\n            }\n          }\n        }\n      }\n\n      /**\n       * Update the bookkeeping of parent and child.\n       * @private\n       */\n    }, {\n      key: '_generateMap',\n      value: function _generateMap() {\n        var _this6 = this;\n\n        var fillInRelations = function fillInRelations(parentNode, childNode) {\n          if (_this6.hierarchicalLevels[childNode.id] &gt; _this6.hierarchicalLevels[parentNode.id]) {\n            var parentNodeId = parentNode.id;\n            var childNodeId = childNode.id;\n            if (_this6.hierarchicalParents[parentNodeId] === undefined) {\n              _this6.hierarchicalParents[parentNodeId] = { children: [], amount: 0 };\n            }\n            _this6.hierarchicalParents[parentNodeId].children.push(childNodeId);\n            if (_this6.hierarchicalChildren[childNodeId] === undefined) {\n              _this6.hierarchicalChildren[childNodeId] = { parents: [], amount: 0 };\n            }\n            _this6.hierarchicalChildren[childNodeId].parents.push(parentNodeId);\n          }\n        };\n\n        this._crawlNetwork(fillInRelations);\n      }\n\n      /**\n       * Crawl over the entire network and use a callback on each node couple that is connected to each other.\n       * @param callback          | will receive nodeA nodeB and the connecting edge. A and B are unique.\n       * @param startingNodeId\n       * @private\n       */\n    }, {\n      key: '_crawlNetwork',\n      value: function _crawlNetwork(callback, startingNodeId) {\n        if (callback === undefined) callback = function () {};\n\n        var progress = {};\n        var crawler = function crawler(node) {\n          if (progress[node.id] === undefined) {\n            progress[node.id] = true;\n            var childNode = undefined;\n            for (var i = 0; i &lt; node.edges.length; i++) {\n              if (node.edges[i].connected === true) {\n                if (node.edges[i].toId === node.id) {\n                  childNode = node.edges[i].from;\n                } else {\n                  childNode = node.edges[i].to;\n                }\n\n                if (node.id !== childNode.id) {\n                  callback(node, childNode, node.edges[i]);\n                  crawler(childNode);\n                }\n              }\n            }\n          }\n        };\n\n        // we can crawl from a specific node or over all nodes.\n        if (startingNodeId === undefined) {\n          for (var i = 0; i &lt; this.body.nodeIndices.length; i++) {\n            var node = this.body.nodes[this.body.nodeIndices[i]];\n            crawler(node);\n          }\n        } else {\n          var node = this.body.nodes[startingNodeId];\n          if (node === undefined) {\n            console.error(\&quot;Node not found:\&quot;, startingNodeId);\n            return;\n          }\n          crawler(node);\n        }\n      }\n\n      /**\n       * This is a recursively called function to enumerate the branches from the largest hubs and place the nodes\n       * on a X position that ensures there will be no overlap.\n       *\n       * @param parentId\n       * @param parentLevel\n       * @private\n       */\n    }, {\n      key: '_placeBranchNodes',\n      value: function _placeBranchNodes(parentId, parentLevel) {\n        // if this is not a parent, cancel the placing. This can happen with multiple parents to one child.\n        if (this.hierarchicalParents[parentId] === undefined) {\n          return;\n        }\n\n        // get a list of childNodes\n        var childNodes = [];\n        for (var i = 0; i &lt; this.hierarchicalParents[parentId].children.length; i++) {\n          childNodes.push(this.body.nodes[this.hierarchicalParents[parentId].children[i]]);\n        }\n\n        // use the positions to order the nodes.\n        this._sortNodeArray(childNodes);\n\n        // position the childNodes\n        for (var i = 0; i &lt; childNodes.length; i++) {\n          var childNode = childNodes[i];\n          var childNodeLevel = this.hierarchicalLevels[childNode.id];\n          // check if the child node is below the parent node and if it has already been positioned.\n          if (childNodeLevel &gt; parentLevel &amp;&amp; this.positionedNodes[childNode.id] === undefined) {\n            // get the amount of space required for this node. If parent the width is based on the amount of children.\n            var pos = undefined;\n\n            // we get the X or Y values we need and store them in pos and previousPos. The get and set make sure we get X or Y\n            if (i === 0) {\n              pos = this._getPositionForHierarchy(this.body.nodes[parentId]);\n            } else {\n              pos = this._getPositionForHierarchy(childNodes[i - 1]) + this.options.hierarchical.nodeSpacing;\n            }\n            this._setPositionForHierarchy(childNode, pos, childNodeLevel);\n\n            // if overlap has been detected, we shift the branch\n            if (this.lastNodeOnLevel[childNodeLevel] !== undefined) {\n              var previousPos = this._getPositionForHierarchy(this.body.nodes[this.lastNodeOnLevel[childNodeLevel]]);\n              if (pos - previousPos &lt; this.options.hierarchical.nodeSpacing) {\n                var diff = previousPos + this.options.hierarchical.nodeSpacing - pos;\n                var sharedParent = this._findCommonParent(this.lastNodeOnLevel[childNodeLevel], childNode.id);\n                this._shiftBlock(sharedParent.withChild, diff);\n              }\n            }\n\n            // store change in position.\n            this.lastNodeOnLevel[childNodeLevel] = childNode.id;\n\n            this.positionedNodes[childNode.id] = true;\n\n            this._placeBranchNodes(childNode.id, childNodeLevel);\n          } else {\n            return;\n          }\n        }\n\n        // center the parent nodes.\n        var minPos = 1e9;\n        var maxPos = -1e9;\n        for (var i = 0; i &lt; childNodes.length; i++) {\n          var childNodeId = childNodes[i].id;\n          minPos = Math.min(minPos, this._getPositionForHierarchy(this.body.nodes[childNodeId]));\n          maxPos = Math.max(maxPos, this._getPositionForHierarchy(this.body.nodes[childNodeId]));\n        }\n        this._setPositionForHierarchy(this.body.nodes[parentId], 0.5 * (minPos + maxPos), parentLevel);\n      }\n\n      /**\n       * Shift a branch a certain distance\n       * @param parentId\n       * @param diff\n       * @private\n       */\n    }, {\n      key: '_shiftBlock',\n      value: function _shiftBlock(parentId, diff) {\n        if (this.options.hierarchical.direction === 'UD' || this.options.hierarchical.direction === 'DU') {\n          this.body.nodes[parentId].x += diff;\n        } else {\n          this.body.nodes[parentId].y += diff;\n        }\n        if (this.hierarchicalParents[parentId] !== undefined) {\n          for (var i = 0; i &lt; this.hierarchicalParents[parentId].children.length; i++) {\n            this._shiftBlock(this.hierarchicalParents[parentId].children[i], diff);\n          }\n        }\n      }\n\n      /**\n       * Find a common parent between branches.\n       * @param childA\n       * @param childB\n       * @returns {{foundParent, withChild}}\n       * @private\n       */\n    }, {\n      key: '_findCommonParent',\n      value: function _findCommonParent(childA, childB) {\n        var _this7 = this;\n\n        var parents = {};\n        var iterateParents = function iterateParents(parents, child) {\n          if (_this7.hierarchicalChildren[child] !== undefined) {\n            for (var i = 0; i &lt; _this7.hierarchicalChildren[child].parents.length; i++) {\n              var _parent = _this7.hierarchicalChildren[child].parents[i];\n              parents[_parent] = true;\n              iterateParents(parents, _parent);\n            }\n          }\n        };\n        var findParent = function findParent(parents, child) {\n          if (_this7.hierarchicalChildren[child] !== undefined) {\n            for (var i = 0; i &lt; _this7.hierarchicalChildren[child].parents.length; i++) {\n              var _parent2 = _this7.hierarchicalChildren[child].parents[i];\n              if (parents[_parent2] !== undefined) {\n                return { foundParent: _parent2, withChild: child };\n              }\n              var branch = findParent(parents, _parent2);\n              if (branch.foundParent !== null) {\n                return branch;\n              }\n            }\n          }\n          return { foundParent: null, withChild: child };\n        };\n\n        iterateParents(parents, childA);\n        return findParent(parents, childB);\n      }\n\n      /**\n       * Abstract the getting of the position so we won't have to repeat the check for direction all the time\n       * @param node\n       * @param position\n       * @param level\n       * @private\n       */\n    }, {\n      key: '_setPositionForHierarchy',\n      value: function _setPositionForHierarchy(node, position, level) {\n        var doNotUpdate = arguments.length &lt;= 3 || arguments[3] === undefined ? false : arguments[3];\n\n        if (doNotUpdate !== true) {\n          if (this.distributionOrdering[level] === undefined) {\n            this.distributionOrdering[level] = [];\n            this.distributionOrderingPresence[level] = {};\n          }\n\n          if (this.distributionOrderingPresence[level][node.id] === undefined) {\n            this.distributionOrdering[level].push(node);\n            this.distributionIndex[node.id] = this.distributionOrdering[level].length - 1;\n          }\n          this.distributionOrderingPresence[level][node.id] = true;\n\n          if (this.hierarchicalTrees[node.id] === undefined) {\n            if (this.hierarchicalChildren[node.id] !== undefined) {\n              var tree = 1;\n              // get the lowest tree denominator.\n              for (var i = 0; i &lt; this.hierarchicalChildren[node.id].parents.length; i++) {\n                var parentId = this.hierarchicalChildren[node.id].parents[i];\n                if (this.hierarchicalTrees[parentId] !== undefined) {\n                  //tree = Math.min(tree,this.hierarchicalTrees[parentId]);\n                  tree = this.hierarchicalTrees[parentId];\n                }\n              }\n              //for (let i = 0; i &lt; this.hierarchicalChildren.parents.length; i++) {\n              //  let parentId = this.hierarchicalChildren.parents[i];\n              //  this.hierarchicalTrees[parentId] = tree;\n              //}\n              this.hierarchicalTrees[node.id] = tree;\n            } else {\n              this.hierarchicalTrees[node.id] = ++this.treeIndex;\n            }\n          }\n        }\n\n        if (this.options.hierarchical.direction === 'UD' || this.options.hierarchical.direction === 'DU') {\n          node.x = position;\n        } else {\n          node.y = position;\n        }\n      }\n\n      /**\n       * Abstract the getting of the position of a node so we do not have to repeat the direction check all the time.\n       * @param node\n       * @returns {number|*}\n       * @private\n       */\n    }, {\n      key: '_getPositionForHierarchy',\n      value: function _getPositionForHierarchy(node) {\n        if (this.options.hierarchical.direction === 'UD' || this.options.hierarchical.direction === 'DU') {\n          return node.x;\n        } else {\n          return node.y;\n        }\n      }\n\n      /**\n       * Use the x or y value to sort the array, allowing users to specify order.\n       * @param nodeArray\n       * @private\n       */\n    }, {\n      key: '_sortNodeArray',\n      value: function _sortNodeArray(nodeArray) {\n        if (nodeArray.length &gt; 1) {\n          if (this.options.hierarchical.direction === 'UD' || this.options.hierarchical.direction === 'DU') {\n            nodeArray.sort(function (a, b) {\n              return a.x - b.x;\n            });\n          } else {\n            nodeArray.sort(function (a, b) {\n              return a.y - b.y;\n            });\n          }\n        }\n      }\n    }]);\n\n    return LayoutEngine;\n  })();\n\n  exports['default'] = LayoutEngine;\n  module.exports = exports['default'];\n\n/***/ },\n/* 109 */\n/***/ function(module, exports, __webpack_require__) {\n\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n  var util = __webpack_require__(1);\n  var Hammer = __webpack_require__(20);\n  var hammerUtil = __webpack_require__(24);\n\n  /**\n   * clears the toolbar div element of children\n   *\n   * @private\n   */\n\n  var ManipulationSystem = (function () {\n    function ManipulationSystem(body, canvas, selectionHandler) {\n      var _this = this;\n\n      _classCallCheck(this, ManipulationSystem);\n\n      this.body = body;\n      this.canvas = canvas;\n      this.selectionHandler = selectionHandler;\n\n      this.editMode = false;\n      this.manipulationDiv = undefined;\n      this.editModeDiv = undefined;\n      this.closeDiv = undefined;\n\n      this.manipulationHammers = [];\n      this.temporaryUIFunctions = {};\n      this.temporaryEventFunctions = [];\n\n      this.touchTime = 0;\n      this.temporaryIds = { nodes: [], edges: [] };\n      this.guiEnabled = false;\n      this.inMode = false;\n      this.selectedControlNode = undefined;\n\n      this.options = {};\n      this.defaultOptions = {\n        enabled: false,\n        initiallyActive: false,\n        addNode: true,\n        addEdge: true,\n        editNode: undefined,\n        editEdge: true,\n        deleteNode: true,\n        deleteEdge: true,\n        controlNodeStyle: {\n          shape: 'dot',\n          size: 6,\n          color: { background: '#ff0000', border: '#3c3c3c', highlight: { background: '#07f968', border: '#3c3c3c' } },\n          borderWidth: 2,\n          borderWidthSelected: 2\n        }\n      };\n      util.extend(this.options, this.defaultOptions);\n\n      this.body.emitter.on('destroy', function () {\n        _this._clean();\n      });\n      this.body.emitter.on('_dataChanged', this._restore.bind(this));\n      this.body.emitter.on('_resetData', this._restore.bind(this));\n    }\n\n    /**\n     * If something changes in the data during editing, switch back to the initial datamanipulation state and close all edit modes.\n     * @private\n     */\n\n    _createClass(ManipulationSystem, [{\n      key: '_restore',\n      value: function _restore() {\n        if (this.inMode !== false) {\n          if (this.options.initiallyActive === true) {\n            this.enableEditMode();\n          } else {\n            this.disableEditMode();\n          }\n        }\n      }\n\n      /**\n       * Set the Options\n       * @param options\n       */\n    }, {\n      key: 'setOptions',\n      value: function setOptions(options, allOptions, globalOptions) {\n        if (allOptions !== undefined) {\n          if (allOptions.locale !== undefined) {\n            this.options.locale = allOptions.locale;\n          } else {\n            this.options.locale = globalOptions.locale;\n          }\n          if (allOptions.locales !== undefined) {\n            this.options.locales = allOptions.locales;\n          } else {\n            this.options.locales = globalOptions.locales;\n          }\n        }\n\n        if (options !== undefined) {\n          if (typeof options === 'boolean') {\n            this.options.enabled = options;\n          } else {\n            this.options.enabled = true;\n            util.deepExtend(this.options, options);\n          }\n          if (this.options.initiallyActive === true) {\n            this.editMode = true;\n          }\n          this._setup();\n        }\n      }\n\n      /**\n       * Enable or disable edit-mode. Draws the DOM required and cleans up after itself.\n       *\n       * @private\n       */\n    }, {\n      key: 'toggleEditMode',\n      value: function toggleEditMode() {\n        if (this.editMode === true) {\n          this.disableEditMode();\n        } else {\n          this.enableEditMode();\n        }\n      }\n    }, {\n      key: 'enableEditMode',\n      value: function enableEditMode() {\n        this.editMode = true;\n\n        this._clean();\n        if (this.guiEnabled === true) {\n          this.manipulationDiv.style.display = 'block';\n          this.closeDiv.style.display = 'block';\n          this.editModeDiv.style.display = 'none';\n          this.showManipulatorToolbar();\n        }\n      }\n    }, {\n      key: 'disableEditMode',\n      value: function disableEditMode() {\n        this.editMode = false;\n\n        this._clean();\n        if (this.guiEnabled === true) {\n          this.manipulationDiv.style.display = 'none';\n          this.closeDiv.style.display = 'none';\n          this.editModeDiv.style.display = 'block';\n          this._createEditButton();\n        }\n      }\n\n      /**\n       * Creates the main toolbar. Removes functions bound to the select event. Binds all the buttons of the toolbar.\n       *\n       * @private\n       */\n    }, {\n      key: 'showManipulatorToolbar',\n      value: function showManipulatorToolbar() {\n        // restore the state of any bound functions or events, remove control nodes, restore physics\n        this._clean();\n\n        // reset global variables\n        this.manipulationDOM = {};\n\n        // if the gui is enabled, draw all elements.\n        if (this.guiEnabled === true) {\n          // a _restore will hide these menus\n          this.editMode = true;\n          this.manipulationDiv.style.display = 'block';\n          this.closeDiv.style.display = 'block';\n\n          var selectedNodeCount = this.selectionHandler._getSelectedNodeCount();\n          var selectedEdgeCount = this.selectionHandler._getSelectedEdgeCount();\n          var selectedTotalCount = selectedNodeCount + selectedEdgeCount;\n          var locale = this.options.locales[this.options.locale];\n          var needSeperator = false;\n\n          if (this.options.addNode !== false) {\n            this._createAddNodeButton(locale);\n            needSeperator = true;\n          }\n          if (this.options.addEdge !== false) {\n            if (needSeperator === true) {\n              this._createSeperator(1);\n            } else {\n              needSeperator = true;\n            }\n            this._createAddEdgeButton(locale);\n          }\n\n          if (selectedNodeCount === 1 &amp;&amp; typeof this.options.editNode === 'function') {\n            if (needSeperator === true) {\n              this._createSeperator(2);\n            } else {\n              needSeperator = true;\n            }\n            this._createEditNodeButton(locale);\n          } else if (selectedEdgeCount === 1 &amp;&amp; selectedNodeCount === 0 &amp;&amp; this.options.editEdge !== false) {\n            if (needSeperator === true) {\n              this._createSeperator(3);\n            } else {\n              needSeperator = true;\n            }\n            this._createEditEdgeButton(locale);\n          }\n\n          // remove buttons\n          if (selectedTotalCount !== 0) {\n            if (selectedNodeCount &gt; 0 &amp;&amp; this.options.deleteNode !== false) {\n              if (needSeperator === true) {\n                this._createSeperator(4);\n              }\n              this._createDeleteButton(locale);\n            } else if (selectedNodeCount === 0 &amp;&amp; this.options.deleteEdge !== false) {\n              if (needSeperator === true) {\n                this._createSeperator(4);\n              }\n              this._createDeleteButton(locale);\n            }\n          }\n\n          // bind the close button\n          this._bindHammerToDiv(this.closeDiv, this.toggleEditMode.bind(this));\n\n          // refresh this bar based on what has been selected\n          this._temporaryBindEvent('select', this.showManipulatorToolbar.bind(this));\n        }\n\n        // redraw to show any possible changes\n        this.body.emitter.emit('_redraw');\n      }\n\n      /**\n       * Create the toolbar for adding Nodes\n       */\n    }, {\n      key: 'addNodeMode',\n      value: function addNodeMode() {\n        // when using the gui, enable edit mode if it wasnt already.\n        if (this.editMode !== true) {\n          this.enableEditMode();\n        }\n\n        // restore the state of any bound functions or events, remove control nodes, restore physics\n        this._clean();\n\n        this.inMode = 'addNode';\n        if (this.guiEnabled === true) {\n          var locale = this.options.locales[this.options.locale];\n          this.manipulationDOM = {};\n          this._createBackButton(locale);\n          this._createSeperator();\n          this._createDescription(locale['addDescription'] || this.options.locales['en']['addDescription']);\n\n          // bind the close button\n          this._bindHammerToDiv(this.closeDiv, this.toggleEditMode.bind(this));\n        }\n\n        this._temporaryBindEvent('click', this._performAddNode.bind(this));\n      }\n\n      /**\n       * call the bound function to handle the editing of the node. The node has to be selected.\n       */\n    }, {\n      key: 'editNode',\n      value: function editNode() {\n        var _this2 = this;\n\n        // when using the gui, enable edit mode if it wasnt already.\n        if (this.editMode !== true) {\n          this.enableEditMode();\n        }\n\n        // restore the state of any bound functions or events, remove control nodes, restore physics\n        this._clean();\n        var node = this.selectionHandler._getSelectedNode();\n        if (node !== undefined) {\n          this.inMode = 'editNode';\n          if (typeof this.options.editNode === 'function') {\n            if (node.isCluster !== true) {\n              var data = util.deepExtend({}, node.options, true);\n              data.x = node.x;\n              data.y = node.y;\n\n              if (this.options.editNode.length === 2) {\n                this.options.editNode(data, function (finalizedData) {\n                  if (finalizedData !== null &amp;&amp; finalizedData !== undefined &amp;&amp; _this2.inMode === 'editNode') {\n                    // if for whatever reason the mode has changes (due to dataset change) disregard the callback) {\n                    _this2.body.data.nodes.getDataSet().update(finalizedData);\n                  }\n                  _this2.showManipulatorToolbar();\n                });\n              } else {\n                throw new Error('The function for edit does not support two arguments (data, callback)');\n              }\n            } else {\n              alert(this.options.locales[this.options.locale]['editClusterError'] || this.options.locales['en']['editClusterError']);\n            }\n          } else {\n            throw new Error('No function has been configured to handle the editing of nodes.');\n          }\n        } else {\n          this.showManipulatorToolbar();\n        }\n      }\n\n      /**\n       * create the toolbar to connect nodes\n       */\n    }, {\n      key: 'addEdgeMode',\n      value: function addEdgeMode() {\n        // when using the gui, enable edit mode if it wasnt already.\n        if (this.editMode !== true) {\n          this.enableEditMode();\n        }\n\n        // restore the state of any bound functions or events, remove control nodes, restore physics\n        this._clean();\n\n        this.inMode = 'addEdge';\n        if (this.guiEnabled === true) {\n          var locale = this.options.locales[this.options.locale];\n          this.manipulationDOM = {};\n          this._createBackButton(locale);\n          this._createSeperator();\n          this._createDescription(locale['edgeDescription'] || this.options.locales['en']['edgeDescription']);\n\n          // bind the close button\n          this._bindHammerToDiv(this.closeDiv, this.toggleEditMode.bind(this));\n        }\n\n        // temporarily overload functions\n        this._temporaryBindUI('onTouch', this._handleConnect.bind(this));\n        this._temporaryBindUI('onDragEnd', this._finishConnect.bind(this));\n        this._temporaryBindUI('onDrag', this._dragControlNode.bind(this));\n        this._temporaryBindUI('onRelease', this._finishConnect.bind(this));\n\n        this._temporaryBindUI('onDragStart', function () {});\n        this._temporaryBindUI('onHold', function () {});\n      }\n\n      /**\n       * create the toolbar to edit edges\n       */\n    }, {\n      key: 'editEdgeMode',\n      value: function editEdgeMode() {\n        var _this3 = this;\n\n        // when using the gui, enable edit mode if it wasn't already.\n        if (this.editMode !== true) {\n          this.enableEditMode();\n        }\n\n        // restore the state of any bound functions or events, remove control nodes, restore physics\n        this._clean();\n\n        this.inMode = 'editEdge';\n        if (this.guiEnabled === true) {\n          var locale = this.options.locales[this.options.locale];\n          this.manipulationDOM = {};\n          this._createBackButton(locale);\n          this._createSeperator();\n          this._createDescription(locale['editEdgeDescription'] || this.options.locales['en']['editEdgeDescription']);\n\n          // bind the close button\n          this._bindHammerToDiv(this.closeDiv, this.toggleEditMode.bind(this));\n        }\n\n        this.edgeBeingEditedId = this.selectionHandler.getSelectedEdges()[0];\n        if (this.edgeBeingEditedId !== undefined) {\n          (function () {\n            var edge = _this3.body.edges[_this3.edgeBeingEditedId];\n\n            // create control nodes\n            var controlNodeFrom = _this3._getNewTargetNode(edge.from.x, edge.from.y);\n            var controlNodeTo = _this3._getNewTargetNode(edge.to.x, edge.to.y);\n\n            _this3.temporaryIds.nodes.push(controlNodeFrom.id);\n            _this3.temporaryIds.nodes.push(controlNodeTo.id);\n\n            _this3.body.nodes[controlNodeFrom.id] = controlNodeFrom;\n            _this3.body.nodeIndices.push(controlNodeFrom.id);\n            _this3.body.nodes[controlNodeTo.id] = controlNodeTo;\n            _this3.body.nodeIndices.push(controlNodeTo.id);\n\n            // temporarily overload UI functions, cleaned up automatically because of _temporaryBindUI\n            _this3._temporaryBindUI('onTouch', _this3._controlNodeTouch.bind(_this3)); // used to get the position\n            _this3._temporaryBindUI('onTap', function () {}); // disabled\n            _this3._temporaryBindUI('onHold', function () {}); // disabled\n            _this3._temporaryBindUI('onDragStart', _this3._controlNodeDragStart.bind(_this3)); // used to select control node\n            _this3._temporaryBindUI('onDrag', _this3._controlNodeDrag.bind(_this3)); // used to drag control node\n            _this3._temporaryBindUI('onDragEnd', _this3._controlNodeDragEnd.bind(_this3)); // used to connect or revert control nodes\n            _this3._temporaryBindUI('onMouseMove', function () {}); // disabled\n\n            // create function to position control nodes correctly on movement\n            // automatically cleaned up because we use the temporary bind\n            _this3._temporaryBindEvent('beforeDrawing', function (ctx) {\n              var positions = edge.edgeType.findBorderPositions(ctx);\n              if (controlNodeFrom.selected === false) {\n                controlNodeFrom.x = positions.from.x;\n                controlNodeFrom.y = positions.from.y;\n              }\n              if (controlNodeTo.selected === false) {\n                controlNodeTo.x = positions.to.x;\n                controlNodeTo.y = positions.to.y;\n              }\n            });\n\n            _this3.body.emitter.emit('_redraw');\n          })();\n        } else {\n          this.showManipulatorToolbar();\n        }\n      }\n\n      /**\n       * delete everything in the selection\n       */\n    }, {\n      key: 'deleteSelected',\n      value: function deleteSelected() {\n        var _this4 = this;\n\n        // when using the gui, enable edit mode if it wasnt already.\n        if (this.editMode !== true) {\n          this.enableEditMode();\n        }\n\n        // restore the state of any bound functions or events, remove control nodes, restore physics\n        this._clean();\n\n        this.inMode = 'delete';\n        var selectedNodes = this.selectionHandler.getSelectedNodes();\n        var selectedEdges = this.selectionHandler.getSelectedEdges();\n        var deleteFunction = undefined;\n        if (selectedNodes.length &gt; 0) {\n          for (var i = 0; i &lt; selectedNodes.length; i++) {\n            if (this.body.nodes[selectedNodes[i]].isCluster === true) {\n              alert(this.options.locales[this.options.locale]['deleteClusterError'] || this.options.locales['en']['deleteClusterError']);\n              return;\n            }\n          }\n\n          if (typeof this.options.deleteNode === 'function') {\n            deleteFunction = this.options.deleteNode;\n          }\n        } else if (selectedEdges.length &gt; 0) {\n          if (typeof this.options.deleteEdge === 'function') {\n            deleteFunction = this.options.deleteEdge;\n          }\n        }\n\n        if (typeof deleteFunction === 'function') {\n          var data = { nodes: selectedNodes, edges: selectedEdges };\n          if (deleteFunction.length === 2) {\n            deleteFunction(data, function (finalizedData) {\n              if (finalizedData !== null &amp;&amp; finalizedData !== undefined &amp;&amp; _this4.inMode === 'delete') {\n                // if for whatever reason the mode has changes (due to dataset change) disregard the callback) {\n                _this4.body.data.edges.getDataSet().remove(finalizedData.edges);\n                _this4.body.data.nodes.getDataSet().remove(finalizedData.nodes);\n                _this4.body.emitter.emit('startSimulation');\n                _this4.showManipulatorToolbar();\n              } else {\n                _this4.body.emitter.emit('startSimulation');\n                _this4.showManipulatorToolbar();\n              }\n            });\n          } else {\n            throw new Error('The function for delete does not support two arguments (data, callback)');\n          }\n        } else {\n          this.body.data.edges.getDataSet().remove(selectedEdges);\n          this.body.data.nodes.getDataSet().remove(selectedNodes);\n          this.body.emitter.emit('startSimulation');\n          this.showManipulatorToolbar();\n        }\n      }\n\n      //********************************************** PRIVATE ***************************************//\n\n      /**\n       * draw or remove the DOM\n       * @private\n       */\n    }, {\n      key: '_setup',\n      value: function _setup() {\n        if (this.options.enabled === true) {\n          // Enable the GUI\n          this.guiEnabled = true;\n\n          this._createWrappers();\n          if (this.editMode === false) {\n            this._createEditButton();\n          } else {\n            this.showManipulatorToolbar();\n          }\n        } else {\n          this._removeManipulationDOM();\n\n          // disable the gui\n          this.guiEnabled = false;\n        }\n      }\n\n      /**\n       * create the div overlays that contain the DOM\n       * @private\n       */\n    }, {\n      key: '_createWrappers',\n      value: function _createWrappers() {\n        // load the manipulator HTML elements. All styling done in css.\n        if (this.manipulationDiv === undefined) {\n          this.manipulationDiv = document.createElement('div');\n          this.manipulationDiv.className = 'vis-manipulation';\n          if (this.editMode === true) {\n            this.manipulationDiv.style.display = 'block';\n          } else {\n            this.manipulationDiv.style.display = 'none';\n          }\n          this.canvas.frame.appendChild(this.manipulationDiv);\n        }\n\n        // container for the edit button.\n        if (this.editModeDiv === undefined) {\n          this.editModeDiv = document.createElement('div');\n          this.editModeDiv.className = 'vis-edit-mode';\n          if (this.editMode === true) {\n            this.editModeDiv.style.display = 'none';\n          } else {\n            this.editModeDiv.style.display = 'block';\n          }\n          this.canvas.frame.appendChild(this.editModeDiv);\n        }\n\n        // container for the close div button\n        if (this.closeDiv === undefined) {\n          this.closeDiv = document.createElement('div');\n          this.closeDiv.className = 'vis-close';\n          this.closeDiv.style.display = this.manipulationDiv.style.display;\n          this.canvas.frame.appendChild(this.closeDiv);\n        }\n      }\n\n      /**\n       * generate a new target node. Used for creating new edges and editing edges\n       * @param x\n       * @param y\n       * @returns {*}\n       * @private\n       */\n    }, {\n      key: '_getNewTargetNode',\n      value: function _getNewTargetNode(x, y) {\n        var controlNodeStyle = util.deepExtend({}, this.options.controlNodeStyle);\n\n        controlNodeStyle.id = 'targetNode' + util.randomUUID();\n        controlNodeStyle.hidden = false;\n        controlNodeStyle.physics = false;\n        controlNodeStyle.x = x;\n        controlNodeStyle.y = y;\n\n        // we have to define the bounding box in order for the nodes to be drawn immediately\n        var node = this.body.functions.createNode(controlNodeStyle);\n        node.shape.boundingBox = { left: x, right: x, top: y, bottom: y };\n\n        return node;\n      }\n\n      /**\n       * Create the edit button\n       */\n    }, {\n      key: '_createEditButton',\n      value: function _createEditButton() {\n        // restore everything to it's original state (if applicable)\n        this._clean();\n\n        // reset the manipulationDOM\n        this.manipulationDOM = {};\n\n        // empty the editModeDiv\n        util.recursiveDOMDelete(this.editModeDiv);\n\n        // create the contents for the editMode button\n        var locale = this.options.locales[this.options.locale];\n        var button = this._createButton('editMode', 'vis-button vis-edit vis-edit-mode', locale['edit'] || this.options.locales['en']['edit']);\n        this.editModeDiv.appendChild(button);\n\n        // bind a hammer listener to the button, calling the function toggleEditMode.\n        this._bindHammerToDiv(button, this.toggleEditMode.bind(this));\n      }\n\n      /**\n       * this function cleans up after everything this module does. Temporary elements, functions and events are removed, physics restored, hammers removed.\n       * @private\n       */\n    }, {\n      key: '_clean',\n      value: function _clean() {\n        // not in mode\n        this.inMode = false;\n\n        // _clean the divs\n        if (this.guiEnabled === true) {\n          util.recursiveDOMDelete(this.editModeDiv);\n          util.recursiveDOMDelete(this.manipulationDiv);\n\n          // removes all the bindings and overloads\n          this._cleanManipulatorHammers();\n        }\n\n        // remove temporary nodes and edges\n        this._cleanupTemporaryNodesAndEdges();\n\n        // restore overloaded UI functions\n        this._unbindTemporaryUIs();\n\n        // remove the temporaryEventFunctions\n        this._unbindTemporaryEvents();\n\n        // restore the physics if required\n        this.body.emitter.emit('restorePhysics');\n      }\n\n      /**\n       * Each dom element has it's own hammer. They are stored in this.manipulationHammers. This cleans them up.\n       * @private\n       */\n    }, {\n      key: '_cleanManipulatorHammers',\n      value: function _cleanManipulatorHammers() {\n        // _clean hammer bindings\n        if (this.manipulationHammers.length != 0) {\n          for (var i = 0; i &lt; this.manipulationHammers.length; i++) {\n            this.manipulationHammers[i].destroy();\n          }\n          this.manipulationHammers = [];\n        }\n      }\n\n      /**\n       * Remove all DOM elements created by this module.\n       * @private\n       */\n    }, {\n      key: '_removeManipulationDOM',\n      value: function _removeManipulationDOM() {\n        // removes all the bindings and overloads\n        this._clean();\n\n        // empty the manipulation divs\n        util.recursiveDOMDelete(this.manipulationDiv);\n        util.recursiveDOMDelete(this.editModeDiv);\n        util.recursiveDOMDelete(this.closeDiv);\n\n        // remove the manipulation divs\n        if (this.manipulationDiv) {\n          this.canvas.frame.removeChild(this.manipulationDiv);\n        }\n        if (this.editModeDiv) {\n          this.canvas.frame.removeChild(this.editModeDiv);\n        }\n        if (this.closeDiv) {\n          this.canvas.frame.removeChild(this.closeDiv);\n        }\n\n        // set the references to undefined\n        this.manipulationDiv = undefined;\n        this.editModeDiv = undefined;\n        this.closeDiv = undefined;\n      }\n\n      /**\n       * create a seperator line. the index is to differentiate in the manipulation dom\n       * @param index\n       * @private\n       */\n    }, {\n      key: '_createSeperator',\n      value: function _createSeperator() {\n        var index = arguments.length &lt;= 0 || arguments[0] === undefined ? 1 : arguments[0];\n\n        this.manipulationDOM['seperatorLineDiv' + index] = document.createElement('div');\n        this.manipulationDOM['seperatorLineDiv' + index].className = 'vis-separator-line';\n        this.manipulationDiv.appendChild(this.manipulationDOM['seperatorLineDiv' + index]);\n      }\n\n      // ----------------------    DOM functions for buttons    --------------------------//\n\n    }, {\n      key: '_createAddNodeButton',\n      value: function _createAddNodeButton(locale) {\n        var button = this._createButton('addNode', 'vis-button vis-add', locale['addNode'] || this.options.locales['en']['addNode']);\n        this.manipulationDiv.appendChild(button);\n        this._bindHammerToDiv(button, this.addNodeMode.bind(this));\n      }\n    }, {\n      key: '_createAddEdgeButton',\n      value: function _createAddEdgeButton(locale) {\n        var button = this._createButton('addEdge', 'vis-button vis-connect', locale['addEdge'] || this.options.locales['en']['addEdge']);\n        this.manipulationDiv.appendChild(button);\n        this._bindHammerToDiv(button, this.addEdgeMode.bind(this));\n      }\n    }, {\n      key: '_createEditNodeButton',\n      value: function _createEditNodeButton(locale) {\n        var button = this._createButton('editNode', 'vis-button vis-edit', locale['editNode'] || this.options.locales['en']['editNode']);\n        this.manipulationDiv.appendChild(button);\n        this._bindHammerToDiv(button, this.editNode.bind(this));\n      }\n    }, {\n      key: '_createEditEdgeButton',\n      value: function _createEditEdgeButton(locale) {\n        var button = this._createButton('editEdge', 'vis-button vis-edit', locale['editEdge'] || this.options.locales['en']['editEdge']);\n        this.manipulationDiv.appendChild(button);\n        this._bindHammerToDiv(button, this.editEdgeMode.bind(this));\n      }\n    }, {\n      key: '_createDeleteButton',\n      value: function _createDeleteButton(locale) {\n        var button = this._createButton('delete', 'vis-button vis-delete', locale['del'] || this.options.locales['en']['del']);\n        this.manipulationDiv.appendChild(button);\n        this._bindHammerToDiv(button, this.deleteSelected.bind(this));\n      }\n    }, {\n      key: '_createBackButton',\n      value: function _createBackButton(locale) {\n        var button = this._createButton('back', 'vis-button vis-back', locale['back'] || this.options.locales['en']['back']);\n        this.manipulationDiv.appendChild(button);\n        this._bindHammerToDiv(button, this.showManipulatorToolbar.bind(this));\n      }\n    }, {\n      key: '_createButton',\n      value: function _createButton(id, className, label) {\n        var labelClassName = arguments.length &lt;= 3 || arguments[3] === undefined ? 'vis-label' : arguments[3];\n\n        this.manipulationDOM[id + 'Div'] = document.createElement('div');\n        this.manipulationDOM[id + 'Div'].className = className;\n        this.manipulationDOM[id + 'Label'] = document.createElement('div');\n        this.manipulationDOM[id + 'Label'].className = labelClassName;\n        this.manipulationDOM[id + 'Label'].innerHTML = label;\n        this.manipulationDOM[id + 'Div'].appendChild(this.manipulationDOM[id + 'Label']);\n        return this.manipulationDOM[id + 'Div'];\n      }\n    }, {\n      key: '_createDescription',\n      value: function _createDescription(label) {\n        this.manipulationDiv.appendChild(this._createButton('description', 'vis-button vis-none', label));\n      }\n\n      // -------------------------- End of DOM functions for buttons ------------------------------//\n\n      /**\n       * this binds an event until cleanup by the clean functions.\n       * @param event\n       * @param newFunction\n       * @private\n       */\n    }, {\n      key: '_temporaryBindEvent',\n      value: function _temporaryBindEvent(event, newFunction) {\n        this.temporaryEventFunctions.push({ event: event, boundFunction: newFunction });\n        this.body.emitter.on(event, newFunction);\n      }\n\n      /**\n       * this overrides an UI function until cleanup by the clean function\n       * @param UIfunctionName\n       * @param newFunction\n       * @private\n       */\n    }, {\n      key: '_temporaryBindUI',\n      value: function _temporaryBindUI(UIfunctionName, newFunction) {\n        if (this.body.eventListeners[UIfunctionName] !== undefined) {\n          this.temporaryUIFunctions[UIfunctionName] = this.body.eventListeners[UIfunctionName];\n          this.body.eventListeners[UIfunctionName] = newFunction;\n        } else {\n          throw new Error('This UI function does not exist. Typo? You tried: ' + UIfunctionName + ' possible are: ' + JSON.stringify(Object.keys(this.body.eventListeners)));\n        }\n      }\n\n      /**\n       * Restore the overridden UI functions to their original state.\n       *\n       * @private\n       */\n    }, {\n      key: '_unbindTemporaryUIs',\n      value: function _unbindTemporaryUIs() {\n        for (var functionName in this.temporaryUIFunctions) {\n          if (this.temporaryUIFunctions.hasOwnProperty(functionName)) {\n            this.body.eventListeners[functionName] = this.temporaryUIFunctions[functionName];\n            delete this.temporaryUIFunctions[functionName];\n          }\n        }\n        this.temporaryUIFunctions = {};\n      }\n\n      /**\n       * Unbind the events created by _temporaryBindEvent\n       * @private\n       */\n    }, {\n      key: '_unbindTemporaryEvents',\n      value: function _unbindTemporaryEvents() {\n        for (var i = 0; i &lt; this.temporaryEventFunctions.length; i++) {\n          var eventName = this.temporaryEventFunctions[i].event;\n          var boundFunction = this.temporaryEventFunctions[i].boundFunction;\n          this.body.emitter.off(eventName, boundFunction);\n        }\n        this.temporaryEventFunctions = [];\n      }\n\n      /**\n       * Bind an hammer instance to a DOM element.\n       * @param domElement\n       * @param funct\n       */\n    }, {\n      key: '_bindHammerToDiv',\n      value: function _bindHammerToDiv(domElement, boundFunction) {\n        var hammer = new Hammer(domElement, {});\n        hammerUtil.onTouch(hammer, boundFunction);\n        this.manipulationHammers.push(hammer);\n      }\n\n      /**\n       * Neatly clean up temporary edges and nodes\n       * @private\n       */\n    }, {\n      key: '_cleanupTemporaryNodesAndEdges',\n      value: function _cleanupTemporaryNodesAndEdges() {\n        // _clean temporary edges\n        for (var i = 0; i &lt; this.temporaryIds.edges.length; i++) {\n          this.body.edges[this.temporaryIds.edges[i]].disconnect();\n          delete this.body.edges[this.temporaryIds.edges[i]];\n          var indexTempEdge = this.body.edgeIndices.indexOf(this.temporaryIds.edges[i]);\n          if (indexTempEdge !== -1) {\n            this.body.edgeIndices.splice(indexTempEdge, 1);\n          }\n        }\n\n        // _clean temporary nodes\n        for (var i = 0; i &lt; this.temporaryIds.nodes.length; i++) {\n          delete this.body.nodes[this.temporaryIds.nodes[i]];\n          var indexTempNode = this.body.nodeIndices.indexOf(this.temporaryIds.nodes[i]);\n          if (indexTempNode !== -1) {\n            this.body.nodeIndices.splice(indexTempNode, 1);\n          }\n        }\n\n        this.temporaryIds = { nodes: [], edges: [] };\n      }\n\n      // ------------------------------------------ EDIT EDGE FUNCTIONS -----------------------------------------//\n\n      /**\n       * the touch is used to get the position of the initial click\n       * @param event\n       * @private\n       */\n    }, {\n      key: '_controlNodeTouch',\n      value: function _controlNodeTouch(event) {\n        this.selectionHandler.unselectAll();\n        this.lastTouch = this.body.functions.getPointer(event.center);\n        this.lastTouch.translation = util.extend({}, this.body.view.translation); // copy the object\n      }\n\n      /**\n       * the drag start is used to mark one of the control nodes as selected.\n       * @param event\n       * @private\n       */\n    }, {\n      key: '_controlNodeDragStart',\n      value: function _controlNodeDragStart(event) {\n        var pointer = this.lastTouch;\n        var pointerObj = this.selectionHandler._pointerToPositionObject(pointer);\n        var from = this.body.nodes[this.temporaryIds.nodes[0]];\n        var to = this.body.nodes[this.temporaryIds.nodes[1]];\n        var edge = this.body.edges[this.edgeBeingEditedId];\n        this.selectedControlNode = undefined;\n\n        var fromSelect = from.isOverlappingWith(pointerObj);\n        var toSelect = to.isOverlappingWith(pointerObj);\n\n        if (fromSelect === true) {\n          this.selectedControlNode = from;\n          edge.edgeType.from = from;\n        } else if (toSelect === true) {\n          this.selectedControlNode = to;\n          edge.edgeType.to = to;\n        }\n\n        this.body.emitter.emit('_redraw');\n      }\n\n      /**\n       * dragging the control nodes or the canvas\n       * @param event\n       * @private\n       */\n    }, {\n      key: '_controlNodeDrag',\n      value: function _controlNodeDrag(event) {\n        this.body.emitter.emit('disablePhysics');\n        var pointer = this.body.functions.getPointer(event.center);\n        var pos = this.canvas.DOMtoCanvas(pointer);\n\n        if (this.selectedControlNode !== undefined) {\n          this.selectedControlNode.x = pos.x;\n          this.selectedControlNode.y = pos.y;\n        } else {\n          // if the drag was not started properly because the click started outside the network div, start it now.\n          var diffX = pointer.x - this.lastTouch.x;\n          var diffY = pointer.y - this.lastTouch.y;\n          this.body.view.translation = { x: this.lastTouch.translation.x + diffX, y: this.lastTouch.translation.y + diffY };\n        }\n        this.body.emitter.emit('_redraw');\n      }\n\n      /**\n       * connecting or restoring the control nodes.\n       * @param event\n       * @private\n       */\n    }, {\n      key: '_controlNodeDragEnd',\n      value: function _controlNodeDragEnd(event) {\n        var pointer = this.body.functions.getPointer(event.center);\n        var pointerObj = this.selectionHandler._pointerToPositionObject(pointer);\n        var edge = this.body.edges[this.edgeBeingEditedId];\n\n        // if the node that was dragged is not a control node, return\n        if (this.selectedControlNode === undefined) {\n          return;\n        }\n\n        var overlappingNodeIds = this.selectionHandler._getAllNodesOverlappingWith(pointerObj);\n        var node = undefined;\n        for (var i = overlappingNodeIds.length - 1; i &gt;= 0; i--) {\n          if (overlappingNodeIds[i] !== this.selectedControlNode.id) {\n            node = this.body.nodes[overlappingNodeIds[i]];\n            break;\n          }\n        }\n\n        // perform the connection\n        if (node !== undefined &amp;&amp; this.selectedControlNode !== undefined) {\n          if (node.isCluster === true) {\n            alert(this.options.locales[this.options.locale]['createEdgeError'] || this.options.locales['en']['createEdgeError']);\n          } else {\n            var from = this.body.nodes[this.temporaryIds.nodes[0]];\n            if (this.selectedControlNode.id === from.id) {\n              this._performEditEdge(node.id, edge.to.id);\n            } else {\n              this._performEditEdge(edge.from.id, node.id);\n            }\n          }\n        } else {\n          edge.updateEdgeType();\n          this.body.emitter.emit('restorePhysics');\n        }\n        this.body.emitter.emit('_redraw');\n      }\n\n      // ------------------------------------ END OF EDIT EDGE FUNCTIONS -----------------------------------------//\n\n      // ------------------------------------------- ADD EDGE FUNCTIONS -----------------------------------------//\n      /**\n       * the function bound to the selection event. It checks if you want to connect a cluster and changes the description\n       * to walk the user through the process.\n       *\n       * @private\n       */\n    }, {\n      key: '_handleConnect',\n      value: function _handleConnect(event) {\n        // check to avoid double fireing of this function.\n        if (new Date().valueOf() - this.touchTime &gt; 100) {\n          this.lastTouch = this.body.functions.getPointer(event.center);\n          this.lastTouch.translation = util.extend({}, this.body.view.translation); // copy the object\n\n          var pointer = this.lastTouch;\n          var node = this.selectionHandler.getNodeAt(pointer);\n\n          if (node !== undefined) {\n            if (node.isCluster === true) {\n              alert(this.options.locales[this.options.locale]['createEdgeError'] || this.options.locales['en']['createEdgeError']);\n            } else {\n              // create a node the temporary line can look at\n              var targetNode = this._getNewTargetNode(node.x, node.y);\n              this.body.nodes[targetNode.id] = targetNode;\n              this.body.nodeIndices.push(targetNode.id);\n\n              // create a temporary edge\n              var connectionEdge = this.body.functions.createEdge({\n                id: 'connectionEdge' + util.randomUUID(),\n                from: node.id,\n                to: targetNode.id,\n                physics: false,\n                smooth: {\n                  enabled: true,\n                  type: 'continuous',\n                  roundness: 0.5\n                }\n              });\n              this.body.edges[connectionEdge.id] = connectionEdge;\n              this.body.edgeIndices.push(connectionEdge.id);\n\n              this.temporaryIds.nodes.push(targetNode.id);\n              this.temporaryIds.edges.push(connectionEdge.id);\n            }\n          }\n          this.touchTime = new Date().valueOf();\n        }\n      }\n    }, {\n      key: '_dragControlNode',\n      value: function _dragControlNode(event) {\n        var pointer = this.body.functions.getPointer(event.center);\n        if (this.temporaryIds.nodes[0] !== undefined) {\n          var targetNode = this.body.nodes[this.temporaryIds.nodes[0]]; // there is only one temp node in the add edge mode.\n          targetNode.x = this.canvas._XconvertDOMtoCanvas(pointer.x);\n          targetNode.y = this.canvas._YconvertDOMtoCanvas(pointer.y);\n          this.body.emitter.emit('_redraw');\n        } else {\n          var diffX = pointer.x - this.lastTouch.x;\n          var diffY = pointer.y - this.lastTouch.y;\n          this.body.view.translation = { x: this.lastTouch.translation.x + diffX, y: this.lastTouch.translation.y + diffY };\n        }\n      }\n\n      /**\n       * Connect the new edge to the target if one exists, otherwise remove temp line\n       * @param event\n       * @private\n       */\n    }, {\n      key: '_finishConnect',\n      value: function _finishConnect(event) {\n        var pointer = this.body.functions.getPointer(event.center);\n        var pointerObj = this.selectionHandler._pointerToPositionObject(pointer);\n\n        // remember the edge id\n        var connectFromId = undefined;\n        if (this.temporaryIds.edges[0] !== undefined) {\n          connectFromId = this.body.edges[this.temporaryIds.edges[0]].fromId;\n        }\n\n        // get the overlapping node but NOT the temporary node;\n        var overlappingNodeIds = this.selectionHandler._getAllNodesOverlappingWith(pointerObj);\n        var node = undefined;\n        for (var i = overlappingNodeIds.length - 1; i &gt;= 0; i--) {\n          // if the node id is NOT a temporary node, accept the node.\n          if (this.temporaryIds.nodes.indexOf(overlappingNodeIds[i]) === -1) {\n            node = this.body.nodes[overlappingNodeIds[i]];\n            break;\n          }\n        }\n\n        // clean temporary nodes and edges.\n        this._cleanupTemporaryNodesAndEdges();\n\n        // perform the connection\n        if (node !== undefined) {\n          if (node.isCluster === true) {\n            alert(this.options.locales[this.options.locale]['createEdgeError'] || this.options.locales['en']['createEdgeError']);\n          } else {\n            if (this.body.nodes[connectFromId] !== undefined &amp;&amp; this.body.nodes[node.id] !== undefined) {\n              this._performAddEdge(connectFromId, node.id);\n            }\n          }\n        }\n        this.body.emitter.emit('_redraw');\n      }\n\n      // --------------------------------------- END OF ADD EDGE FUNCTIONS -------------------------------------//\n\n      // ------------------------------ Performing all the actual data manipulation ------------------------//\n\n      /**\n       * Adds a node on the specified location\n       */\n    }, {\n      key: '_performAddNode',\n      value: function _performAddNode(clickData) {\n        var _this5 = this;\n\n        var defaultData = {\n          id: util.randomUUID(),\n          x: clickData.pointer.canvas.x,\n          y: clickData.pointer.canvas.y,\n          label: 'new'\n        };\n\n        if (typeof this.options.addNode === 'function') {\n          if (this.options.addNode.length === 2) {\n            this.options.addNode(defaultData, function (finalizedData) {\n              if (finalizedData !== null &amp;&amp; finalizedData !== undefined &amp;&amp; _this5.inMode === 'addNode') {\n                // if for whatever reason the mode has changes (due to dataset change) disregard the callback\n                _this5.body.data.nodes.getDataSet().add(finalizedData);\n                _this5.showManipulatorToolbar();\n              }\n            });\n          } else {\n            throw new Error('The function for add does not support two arguments (data,callback)');\n            this.showManipulatorToolbar();\n          }\n        } else {\n          this.body.data.nodes.getDataSet().add(defaultData);\n          this.showManipulatorToolbar();\n        }\n      }\n\n      /**\n       * connect two nodes with a new edge.\n       *\n       * @private\n       */\n    }, {\n      key: '_performAddEdge',\n      value: function _performAddEdge(sourceNodeId, targetNodeId) {\n        var _this6 = this;\n\n        var defaultData = { from: sourceNodeId, to: targetNodeId };\n        if (typeof this.options.addEdge === 'function') {\n          if (this.options.addEdge.length === 2) {\n            this.options.addEdge(defaultData, function (finalizedData) {\n              if (finalizedData !== null &amp;&amp; finalizedData !== undefined &amp;&amp; _this6.inMode === 'addEdge') {\n                // if for whatever reason the mode has changes (due to dataset change) disregard the callback\n                _this6.body.data.edges.getDataSet().add(finalizedData);\n                _this6.selectionHandler.unselectAll();\n                _this6.showManipulatorToolbar();\n              }\n            });\n          } else {\n            throw new Error('The function for connect does not support two arguments (data,callback)');\n          }\n        } else {\n          this.body.data.edges.getDataSet().add(defaultData);\n          this.selectionHandler.unselectAll();\n          this.showManipulatorToolbar();\n        }\n      }\n\n      /**\n       * connect two nodes with a new edge.\n       *\n       * @private\n       */\n    }, {\n      key: '_performEditEdge',\n      value: function _performEditEdge(sourceNodeId, targetNodeId) {\n        var _this7 = this;\n\n        var defaultData = { id: this.edgeBeingEditedId, from: sourceNodeId, to: targetNodeId };\n        if (typeof this.options.editEdge === 'function') {\n          if (this.options.editEdge.length === 2) {\n            this.options.editEdge(defaultData, function (finalizedData) {\n              if (finalizedData === null || finalizedData === undefined || _this7.inMode !== 'editEdge') {\n                // if for whatever reason the mode has changes (due to dataset change) disregard the callback) {\n                _this7.body.edges[defaultData.id].updateEdgeType();\n                _this7.body.emitter.emit('_redraw');\n              } else {\n                _this7.body.data.edges.getDataSet().update(finalizedData);\n                _this7.selectionHandler.unselectAll();\n                _this7.showManipulatorToolbar();\n              }\n            });\n          } else {\n            throw new Error('The function for edit does not support two arguments (data, callback)');\n          }\n        } else {\n          this.body.data.edges.getDataSet().update(defaultData);\n          this.selectionHandler.unselectAll();\n          this.showManipulatorToolbar();\n        }\n      }\n    }]);\n\n    return ManipulationSystem;\n  })();\n\n  exports['default'] = ManipulationSystem;\n  module.exports = exports['default'];\n\n/***/ },\n/* 110 */\n/***/ function(module, exports) {\n\n  /**\n   * This object contains all possible options. It will check if the types are correct, if required if the option is one\n   * of the allowed values.\n   *\n   * __any__ means that the name of the property does not matter.\n   * __type__ is a required field for all objects and contains the allowed types of all objects\n   */\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var string = 'string';\n  var boolean = 'boolean';\n  var number = 'number';\n  var array = 'array';\n  var object = 'object'; // should only be in a __type__ property\n  var dom = 'dom';\n  var any = 'any';\n\n  var allOptions = {\n    configure: {\n      enabled: { boolean: boolean },\n      filter: { boolean: boolean, string: string, array: array, 'function': 'function' },\n      container: { dom: dom },\n      showButton: { boolean: boolean },\n      __type__: { object: object, boolean: boolean, string: string, array: array, 'function': 'function' }\n    },\n    edges: {\n      arrows: {\n        to: { enabled: { boolean: boolean }, scaleFactor: { number: number }, __type__: { object: object, boolean: boolean } },\n        middle: { enabled: { boolean: boolean }, scaleFactor: { number: number }, __type__: { object: object, boolean: boolean } },\n        from: { enabled: { boolean: boolean }, scaleFactor: { number: number }, __type__: { object: object, boolean: boolean } },\n        __type__: { string: ['from', 'to', 'middle'], object: object }\n      },\n      arrowStrikethrough: { boolean: boolean },\n      color: {\n        color: { string: string },\n        highlight: { string: string },\n        hover: { string: string },\n        inherit: { string: ['from', 'to', 'both'], boolean: boolean },\n        opacity: { number: number },\n        __type__: { object: object, string: string }\n      },\n      dashes: { boolean: boolean, array: array },\n      font: {\n        color: { string: string },\n        size: { number: number }, // px\n        face: { string: string },\n        background: { string: string },\n        strokeWidth: { number: number }, // px\n        strokeColor: { string: string },\n        align: { string: ['horizontal', 'top', 'middle', 'bottom'] },\n        __type__: { object: object, string: string }\n      },\n      hidden: { boolean: boolean },\n      hoverWidth: { 'function': 'function', number: number },\n      label: { string: string, 'undefined': 'undefined' },\n      labelHighlightBold: { boolean: boolean },\n      length: { number: number, 'undefined': 'undefined' },\n      physics: { boolean: boolean },\n      scaling: {\n        min: { number: number },\n        max: { number: number },\n        label: {\n          enabled: { boolean: boolean },\n          min: { number: number },\n          max: { number: number },\n          maxVisible: { number: number },\n          drawThreshold: { number: number },\n          __type__: { object: object, boolean: boolean }\n        },\n        customScalingFunction: { 'function': 'function' },\n        __type__: { object: object }\n      },\n      selectionWidth: { 'function': 'function', number: number },\n      selfReferenceSize: { number: number },\n      shadow: {\n        enabled: { boolean: boolean },\n        color: { string: string },\n        size: { number: number },\n        x: { number: number },\n        y: { number: number },\n        __type__: { object: object, boolean: boolean }\n      },\n      smooth: {\n        enabled: { boolean: boolean },\n        type: { string: ['dynamic', 'continuous', 'discrete', 'diagonalCross', 'straightCross', 'horizontal', 'vertical', 'curvedCW', 'curvedCCW', 'cubicBezier'] },\n        roundness: { number: number },\n        forceDirection: { string: ['horizontal', 'vertical', 'none'], boolean: boolean },\n        __type__: { object: object, boolean: boolean }\n      },\n      title: { string: string, 'undefined': 'undefined' },\n      width: { number: number },\n      value: { number: number, 'undefined': 'undefined' },\n      __type__: { object: object }\n    },\n    groups: {\n      useDefaultGroups: { boolean: boolean },\n      __any__: 'get from nodes, will be overwritten below',\n      __type__: { object: object }\n    },\n    interaction: {\n      dragNodes: { boolean: boolean },\n      dragView: { boolean: boolean },\n      hideEdgesOnDrag: { boolean: boolean },\n      hideNodesOnDrag: { boolean: boolean },\n      hover: { boolean: boolean },\n      keyboard: {\n        enabled: { boolean: boolean },\n        speed: { x: { number: number }, y: { number: number }, zoom: { number: number }, __type__: { object: object } },\n        bindToWindow: { boolean: boolean },\n        __type__: { object: object, boolean: boolean }\n      },\n      multiselect: { boolean: boolean },\n      navigationButtons: { boolean: boolean },\n      selectable: { boolean: boolean },\n      selectConnectedEdges: { boolean: boolean },\n      hoverConnectedEdges: { boolean: boolean },\n      tooltipDelay: { number: number },\n      zoomView: { boolean: boolean },\n      __type__: { object: object }\n    },\n    layout: {\n      randomSeed: { 'undefined': 'undefined', number: number },\n      improvedLayout: { boolean: boolean },\n      hierarchical: {\n        enabled: { boolean: boolean },\n        levelSeparation: { number: number },\n        nodeSpacing: { number: number },\n        treeSpacing: { number: number },\n        blockShifting: { boolean: boolean },\n        edgeMinimization: { boolean: boolean },\n        direction: { string: ['UD', 'DU', 'LR', 'RL'] }, // UD, DU, LR, RL\n        sortMethod: { string: ['hubsize', 'directed'] }, // hubsize, directed\n        __type__: { object: object, boolean: boolean }\n      },\n      __type__: { object: object }\n    },\n    manipulation: {\n      enabled: { boolean: boolean },\n      initiallyActive: { boolean: boolean },\n      addNode: { boolean: boolean, 'function': 'function' },\n      addEdge: { boolean: boolean, 'function': 'function' },\n      editNode: { 'function': 'function' },\n      editEdge: { boolean: boolean, 'function': 'function' },\n      deleteNode: { boolean: boolean, 'function': 'function' },\n      deleteEdge: { boolean: boolean, 'function': 'function' },\n      controlNodeStyle: 'get from nodes, will be overwritten below',\n      __type__: { object: object, boolean: boolean }\n    },\n    nodes: {\n      borderWidth: { number: number },\n      borderWidthSelected: { number: number, 'undefined': 'undefined' },\n      brokenImage: { string: string, 'undefined': 'undefined' },\n      color: {\n        border: { string: string },\n        background: { string: string },\n        highlight: {\n          border: { string: string },\n          background: { string: string },\n          __type__: { object: object, string: string }\n        },\n        hover: {\n          border: { string: string },\n          background: { string: string },\n          __type__: { object: object, string: string }\n        },\n        __type__: { object: object, string: string }\n      },\n      fixed: {\n        x: { boolean: boolean },\n        y: { boolean: boolean },\n        __type__: { object: object, boolean: boolean }\n      },\n      font: {\n        color: { string: string },\n        size: { number: number }, // px\n        face: { string: string },\n        background: { string: string },\n        strokeWidth: { number: number }, // px\n        strokeColor: { string: string },\n        __type__: { object: object, string: string }\n      },\n      group: { string: string, number: number, 'undefined': 'undefined' },\n      hidden: { boolean: boolean },\n      icon: {\n        face: { string: string },\n        code: { string: string }, //'\\uf007',\n        size: { number: number }, //50,\n        color: { string: string },\n        __type__: { object: object }\n      },\n      id: { string: string, number: number },\n      image: { string: string, 'undefined': 'undefined' }, // --&gt; URL\n      label: { string: string, 'undefined': 'undefined' },\n      labelHighlightBold: { boolean: boolean },\n      level: { number: number, 'undefined': 'undefined' },\n      mass: { number: number },\n      physics: { boolean: boolean },\n      scaling: {\n        min: { number: number },\n        max: { number: number },\n        label: {\n          enabled: { boolean: boolean },\n          min: { number: number },\n          max: { number: number },\n          maxVisible: { number: number },\n          drawThreshold: { number: number },\n          __type__: { object: object, boolean: boolean }\n        },\n        customScalingFunction: { 'function': 'function' },\n        __type__: { object: object }\n      },\n      shadow: {\n        enabled: { boolean: boolean },\n        color: { string: string },\n        size: { number: number },\n        x: { number: number },\n        y: { number: number },\n        __type__: { object: object, boolean: boolean }\n      },\n      shape: { string: ['ellipse', 'circle', 'database', 'box', 'text', 'image', 'circularImage', 'diamond', 'dot', 'star', 'triangle', 'triangleDown', 'square', 'icon'] },\n      shapeProperties: {\n        borderDashes: { boolean: boolean, array: array },\n        borderRadius: { number: number },\n        useImageSize: { boolean: boolean },\n        useBorderWithImage: { boolean: boolean },\n        __type__: { object: object }\n      },\n      size: { number: number },\n      title: { string: string, 'undefined': 'undefined' },\n      value: { number: number, 'undefined': 'undefined' },\n      x: { number: number },\n      y: { number: number },\n      __type__: { object: object }\n    },\n    physics: {\n      enabled: { boolean: boolean },\n      barnesHut: {\n        gravitationalConstant: { number: number },\n        centralGravity: { number: number },\n        springLength: { number: number },\n        springConstant: { number: number },\n        damping: { number: number },\n        avoidOverlap: { number: number },\n        __type__: { object: object }\n      },\n      forceAtlas2Based: {\n        gravitationalConstant: { number: number },\n        centralGravity: { number: number },\n        springLength: { number: number },\n        springConstant: { number: number },\n        damping: { number: number },\n        avoidOverlap: { number: number },\n        __type__: { object: object }\n      },\n      repulsion: {\n        centralGravity: { number: number },\n        springLength: { number: number },\n        springConstant: { number: number },\n        nodeDistance: { number: number },\n        damping: { number: number },\n        __type__: { object: object }\n      },\n      hierarchicalRepulsion: {\n        centralGravity: { number: number },\n        springLength: { number: number },\n        springConstant: { number: number },\n        nodeDistance: { number: number },\n        damping: { number: number },\n        __type__: { object: object }\n      },\n      maxVelocity: { number: number },\n      minVelocity: { number: number }, // px/s\n      solver: { string: ['barnesHut', 'repulsion', 'hierarchicalRepulsion', 'forceAtlas2Based'] },\n      stabilization: {\n        enabled: { boolean: boolean },\n        iterations: { number: number }, // maximum number of iteration to stabilize\n        updateInterval: { number: number },\n        onlyDynamicEdges: { boolean: boolean },\n        fit: { boolean: boolean },\n        __type__: { object: object, boolean: boolean }\n      },\n      timestep: { number: number },\n      adaptiveTimestep: { boolean: boolean },\n      __type__: { object: object, boolean: boolean }\n    },\n\n    //globals :\n    autoResize: { boolean: boolean },\n    clickToUse: { boolean: boolean },\n    locale: { string: string },\n    locales: {\n      __any__: { any: any },\n      __type__: { object: object }\n    },\n    height: { string: string },\n    width: { string: string },\n    __type__: { object: object }\n  };\n\n  allOptions.groups.__any__ = allOptions.nodes;\n  allOptions.manipulation.controlNodeStyle = allOptions.nodes;\n\n  var configureOptions = {\n    nodes: {\n      borderWidth: [1, 0, 10, 1],\n      borderWidthSelected: [2, 0, 10, 1],\n      color: {\n        border: ['color', '#2B7CE9'],\n        background: ['color', '#97C2FC'],\n        highlight: {\n          border: ['color', '#2B7CE9'],\n          background: ['color', '#D2E5FF']\n        },\n        hover: {\n          border: ['color', '#2B7CE9'],\n          background: ['color', '#D2E5FF']\n        }\n      },\n      fixed: {\n        x: false,\n        y: false\n      },\n      font: {\n        color: ['color', '#343434'],\n        size: [14, 0, 100, 1], // px\n        face: ['arial', 'verdana', 'tahoma'],\n        background: ['color', 'none'],\n        strokeWidth: [0, 0, 50, 1], // px\n        strokeColor: ['color', '#ffffff']\n      },\n      //group: 'string',\n      hidden: false,\n      labelHighlightBold: true,\n      //icon: {\n      //  face: 'string',  //'FontAwesome',\n      //  code: 'string',  //'\\uf007',\n      //  size: [50, 0, 200, 1],  //50,\n      //  color: ['color','#2B7CE9']   //'#aa00ff'\n      //},\n      //image: 'string', // --&gt; URL\n      physics: true,\n      scaling: {\n        min: [10, 0, 200, 1],\n        max: [30, 0, 200, 1],\n        label: {\n          enabled: false,\n          min: [14, 0, 200, 1],\n          max: [30, 0, 200, 1],\n          maxVisible: [30, 0, 200, 1],\n          drawThreshold: [5, 0, 20, 1]\n        }\n      },\n      shadow: {\n        enabled: false,\n        color: 'rgba(0,0,0,0.5)',\n        size: [10, 0, 20, 1],\n        x: [5, -30, 30, 1],\n        y: [5, -30, 30, 1]\n      },\n      shape: ['ellipse', 'box', 'circle', 'database', 'diamond', 'dot', 'square', 'star', 'text', 'triangle', 'triangleDown'],\n      shapeProperties: {\n        borderDashes: false,\n        borderRadius: [6, 0, 20, 1],\n        useImageSize: false\n      },\n      size: [25, 0, 200, 1]\n    },\n    edges: {\n      arrows: {\n        to: { enabled: false, scaleFactor: [1, 0, 3, 0.05] }, // boolean / {arrowScaleFactor:1} / {enabled: false, arrowScaleFactor:1}\n        middle: { enabled: false, scaleFactor: [1, 0, 3, 0.05] },\n        from: { enabled: false, scaleFactor: [1, 0, 3, 0.05] }\n      },\n      arrowStrikethrough: true,\n      color: {\n        color: ['color', '#848484'],\n        highlight: ['color', '#848484'],\n        hover: ['color', '#848484'],\n        inherit: ['from', 'to', 'both', true, false],\n        opacity: [1, 0, 1, 0.05]\n      },\n      dashes: false,\n      font: {\n        color: ['color', '#343434'],\n        size: [14, 0, 100, 1], // px\n        face: ['arial', 'verdana', 'tahoma'],\n        background: ['color', 'none'],\n        strokeWidth: [2, 0, 50, 1], // px\n        strokeColor: ['color', '#ffffff'],\n        align: ['horizontal', 'top', 'middle', 'bottom']\n      },\n      hidden: false,\n      hoverWidth: [1.5, 0, 5, 0.1],\n      labelHighlightBold: true,\n      physics: true,\n      scaling: {\n        min: [1, 0, 100, 1],\n        max: [15, 0, 100, 1],\n        label: {\n          enabled: true,\n          min: [14, 0, 200, 1],\n          max: [30, 0, 200, 1],\n          maxVisible: [30, 0, 200, 1],\n          drawThreshold: [5, 0, 20, 1]\n        }\n      },\n      selectionWidth: [1.5, 0, 5, 0.1],\n      selfReferenceSize: [20, 0, 200, 1],\n      shadow: {\n        enabled: false,\n        color: 'rgba(0,0,0,0.5)',\n        size: [10, 0, 20, 1],\n        x: [5, -30, 30, 1],\n        y: [5, -30, 30, 1]\n      },\n      smooth: {\n        enabled: true,\n        type: ['dynamic', 'continuous', 'discrete', 'diagonalCross', 'straightCross', 'horizontal', 'vertical', 'curvedCW', 'curvedCCW', 'cubicBezier'],\n        forceDirection: ['horizontal', 'vertical', 'none'],\n        roundness: [0.5, 0, 1, 0.05]\n      },\n      width: [1, 0, 30, 1]\n    },\n    layout: {\n      //randomSeed: [0, 0, 500, 1],\n      //improvedLayout: true,\n      hierarchical: {\n        enabled: false,\n        levelSeparation: [150, 20, 500, 5],\n        nodeSpacing: [100, 20, 500, 5],\n        treeSpacing: [200, 20, 500, 5],\n        blockShifting: true,\n        edgeMinimization: true,\n        direction: ['UD', 'DU', 'LR', 'RL'], // UD, DU, LR, RL\n        sortMethod: ['hubsize', 'directed'] // hubsize, directed\n      }\n    },\n    interaction: {\n      dragNodes: true,\n      dragView: true,\n      hideEdgesOnDrag: false,\n      hideNodesOnDrag: false,\n      hover: false,\n      keyboard: {\n        enabled: false,\n        speed: { x: [10, 0, 40, 1], y: [10, 0, 40, 1], zoom: [0.02, 0, 0.1, 0.005] },\n        bindToWindow: true\n      },\n      multiselect: false,\n      navigationButtons: false,\n      selectable: true,\n      selectConnectedEdges: true,\n      hoverConnectedEdges: true,\n      tooltipDelay: [300, 0, 1000, 25],\n      zoomView: true\n    },\n    manipulation: {\n      enabled: false,\n      initiallyActive: false\n    },\n    physics: {\n      enabled: true,\n      barnesHut: {\n        //theta: [0.5, 0.1, 1, 0.05],\n        gravitationalConstant: [-2000, -30000, 0, 50],\n        centralGravity: [0.3, 0, 10, 0.05],\n        springLength: [95, 0, 500, 5],\n        springConstant: [0.04, 0, 1.2, 0.005],\n        damping: [0.09, 0, 1, 0.01],\n        avoidOverlap: [0, 0, 1, 0.01]\n      },\n      forceAtlas2Based: {\n        //theta: [0.5, 0.1, 1, 0.05],\n        gravitationalConstant: [-50, -500, 0, 1],\n        centralGravity: [0.01, 0, 1, 0.005],\n        springLength: [95, 0, 500, 5],\n        springConstant: [0.08, 0, 1.2, 0.005],\n        damping: [0.4, 0, 1, 0.01],\n        avoidOverlap: [0, 0, 1, 0.01]\n      },\n      repulsion: {\n        centralGravity: [0.2, 0, 10, 0.05],\n        springLength: [200, 0, 500, 5],\n        springConstant: [0.05, 0, 1.2, 0.005],\n        nodeDistance: [100, 0, 500, 5],\n        damping: [0.09, 0, 1, 0.01]\n      },\n      hierarchicalRepulsion: {\n        centralGravity: [0.2, 0, 10, 0.05],\n        springLength: [100, 0, 500, 5],\n        springConstant: [0.01, 0, 1.2, 0.005],\n        nodeDistance: [120, 0, 500, 5],\n        damping: [0.09, 0, 1, 0.01]\n      },\n      maxVelocity: [50, 0, 150, 1],\n      minVelocity: [0.1, 0.01, 0.5, 0.01],\n      solver: ['barnesHut', 'forceAtlas2Based', 'repulsion', 'hierarchicalRepulsion'],\n      timestep: [0.5, 0.01, 1, 0.01]\n    },\n    //adaptiveTimestep: true\n    global: {\n      locale: ['en', 'nl']\n    }\n  };\n\n  exports.allOptions = allOptions;\n  exports.configureOptions = configureOptions;\n\n/***/ },\n/* 111 */\n/***/ function(module, exports, __webpack_require__) {\n\n  // distance finding algorithm\n  \&quot;use strict\&quot;;\n\n  Object.defineProperty(exports, \&quot;__esModule\&quot;, {\n    value: true\n  });\n\n  var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i &amp;&amp; _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n &amp;&amp; _i[\&quot;return\&quot;]) _i[\&quot;return\&quot;](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\&quot;Invalid attempt to destructure non-iterable instance\&quot;); } }; })();\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\&quot;value\&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { \&quot;default\&quot;: obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\&quot;Cannot call a class as a function\&quot;); } }\n\n  var _componentsAlgorithmsFloydWarshallJs = __webpack_require__(112);\n\n  var _componentsAlgorithmsFloydWarshallJs2 = _interopRequireDefault(_componentsAlgorithmsFloydWarshallJs);\n\n  /**\n   * KamadaKawai positions the nodes initially based on\n   *\n   * \&quot;AN ALGORITHM FOR DRAWING GENERAL UNDIRECTED GRAPHS\&quot;\n   * -- Tomihisa KAMADA and Satoru KAWAI in 1989\n   *\n   * Possible optimizations in the distance calculation can be implemented.\n   */\n\n  var KamadaKawai = (function () {\n    function KamadaKawai(body, edgeLength, edgeStrength) {\n      _classCallCheck(this, KamadaKawai);\n\n      this.body = body;\n      this.springLength = edgeLength;\n      this.springConstant = edgeStrength;\n      this.distanceSolver = new _componentsAlgorithmsFloydWarshallJs2[\&quot;default\&quot;]();\n    }\n\n    /**\n     * Not sure if needed but can be used to update the spring length and spring constant\n     * @param options\n     */\n\n    _createClass(KamadaKawai, [{\n      key: \&quot;setOptions\&quot;,\n      value: function setOptions(options) {\n        if (options) {\n          if (options.springLength) {\n            this.springLength = options.springLength;\n          }\n          if (options.springConstant) {\n            this.springConstant = options.springConstant;\n          }\n        }\n      }\n\n      /**\n       * Position the system\n       * @param nodesArray\n       * @param edgesArray\n       */\n    }, {\n      key: \&quot;solve\&quot;,\n      value: function solve(nodesArray, edgesArray) {\n        var ignoreClusters = arguments.length &lt;= 2 || arguments[2] === undefined ? false : arguments[2];\n\n        // get distance matrix\n        var D_matrix = this.distanceSolver.getDistances(this.body, nodesArray, edgesArray); // distance matrix\n\n        // get the L Matrix\n        this._createL_matrix(D_matrix);\n\n        // get the K Matrix\n        this._createK_matrix(D_matrix);\n\n        // calculate positions\n        var threshold = 0.01;\n        var innerThreshold = 1;\n        var iterations = 0;\n        var maxIterations = Math.max(1000, Math.min(10 * this.body.nodeIndices.length, 6000));\n        var maxInnerIterations = 5;\n\n        var maxEnergy = 1e9;\n        var highE_nodeId = 0,\n            dE_dx = 0,\n            dE_dy = 0,\n            delta_m = 0,\n            subIterations = 0;\n\n        while (maxEnergy &gt; threshold &amp;&amp; iterations &lt; maxIterations) {\n          iterations += 1;\n\n          var _getHighestEnergyNode2 = this._getHighestEnergyNode(ignoreClusters);\n\n          var _getHighestEnergyNode22 = _slicedToArray(_getHighestEnergyNode2, 4);\n\n          highE_nodeId = _getHighestEnergyNode22[0];\n          maxEnergy = _getHighestEnergyNode22[1];\n          dE_dx = _getHighestEnergyNode22[2];\n          dE_dy = _getHighestEnergyNode22[3];\n\n          delta_m = maxEnergy;\n          subIterations = 0;\n          while (delta_m &gt; innerThreshold &amp;&amp; subIterations &lt; maxInnerIterations) {\n            subIterations += 1;\n            this._moveNode(highE_nodeId, dE_dx, dE_dy);\n\n            var _getEnergy2 = this._getEnergy(highE_nodeId);\n\n            var _getEnergy22 = _slicedToArray(_getEnergy2, 3);\n\n            delta_m = _getEnergy22[0];\n            dE_dx = _getEnergy22[1];\n            dE_dy = _getEnergy22[2];\n          }\n        }\n      }\n\n      /**\n       * get the node with the highest energy\n       * @returns {*[]}\n       * @private\n       */\n    }, {\n      key: \&quot;_getHighestEnergyNode\&quot;,\n      value: function _getHighestEnergyNode(ignoreClusters) {\n        var nodesArray = this.body.nodeIndices;\n        var nodes = this.body.nodes;\n        var maxEnergy = 0;\n        var maxEnergyNodeId = nodesArray[0];\n        var dE_dx_max = 0,\n            dE_dy_max = 0;\n\n        for (var nodeIdx = 0; nodeIdx &lt; nodesArray.length; nodeIdx++) {\n          var m = nodesArray[nodeIdx];\n          // by not evaluating nodes with predefined positions we should only move nodes that have no positions.\n          if (nodes[m].predefinedPosition === false || nodes[m].isCluster === true &amp;&amp; ignoreClusters === true || nodes[m].options.fixed.x === true || nodes[m].options.fixed.y === true) {\n            var _getEnergy3 = this._getEnergy(m);\n\n            var _getEnergy32 = _slicedToArray(_getEnergy3, 3);\n\n            var delta_m = _getEnergy32[0];\n            var dE_dx = _getEnergy32[1];\n            var dE_dy = _getEnergy32[2];\n\n            if (maxEnergy &lt; delta_m) {\n              maxEnergy = delta_m;\n              maxEnergyNodeId = m;\n              dE_dx_max = dE_dx;\n              dE_dy_max = dE_dy;\n            }\n          }\n        }\n\n        return [maxEnergyNodeId, maxEnergy, dE_dx_max, dE_dy_max];\n      }\n\n      /**\n       * calculate the energy of a single node\n       * @param m\n       * @returns {*[]}\n       * @private\n       */\n    }, {\n      key: \&quot;_getEnergy\&quot;,\n      value: function _getEnergy(m) {\n        var nodesArray = this.body.nodeIndices;\n        var nodes = this.body.nodes;\n\n        var x_m = nodes[m].x;\n        var y_m = nodes[m].y;\n        var dE_dx = 0;\n        var dE_dy = 0;\n        for (var iIdx = 0; iIdx &lt; nodesArray.length; iIdx++) {\n          var i = nodesArray[iIdx];\n          if (i !== m) {\n            var x_i = nodes[i].x;\n            var y_i = nodes[i].y;\n            var denominator = 1.0 / Math.sqrt(Math.pow(x_m - x_i, 2) + Math.pow(y_m - y_i, 2));\n            dE_dx += this.K_matrix[m][i] * (x_m - x_i - this.L_matrix[m][i] * (x_m - x_i) * denominator);\n            dE_dy += this.K_matrix[m][i] * (y_m - y_i - this.L_matrix[m][i] * (y_m - y_i) * denominator);\n          }\n        }\n\n        var delta_m = Math.sqrt(Math.pow(dE_dx, 2) + Math.pow(dE_dy, 2));\n        return [delta_m, dE_dx, dE_dy];\n      }\n\n      /**\n       * move the node based on it's energy\n       * the dx and dy are calculated from the linear system proposed by Kamada and Kawai\n       * @param m\n       * @param dE_dx\n       * @param dE_dy\n       * @private\n       */\n    }, {\n      key: \&quot;_moveNode\&quot;,\n      value: function _moveNode(m, dE_dx, dE_dy) {\n        var nodesArray = this.body.nodeIndices;\n        var nodes = this.body.nodes;\n        var d2E_dx2 = 0;\n        var d2E_dxdy = 0;\n        var d2E_dy2 = 0;\n\n        var x_m = nodes[m].x;\n        var y_m = nodes[m].y;\n        for (var iIdx = 0; iIdx &lt; nodesArray.length; iIdx++) {\n          var i = nodesArray[iIdx];\n          if (i !== m) {\n            var x_i = nodes[i].x;\n            var y_i = nodes[i].y;\n            var denominator = 1.0 / Math.pow(Math.pow(x_m - x_i, 2) + Math.pow(y_m - y_i, 2), 1.5);\n            d2E_dx2 += this.K_matrix[m][i] * (1 - this.L_matrix[m][i] * Math.pow(y_m - y_i, 2) * denominator);\n            d2E_dxdy += this.K_matrix[m][i] * (this.L_matrix[m][i] * (x_m - x_i) * (y_m - y_i) * denominator);\n            d2E_dy2 += this.K_matrix[m][i] * (1 - this.L_matrix[m][i] * Math.pow(x_m - x_i, 2) * denominator);\n          }\n        }\n        // make the variable names easier to make the solving of the linear system easier to read\n        var A = d2E_dx2,\n            B = d2E_dxdy,\n            C = dE_dx,\n            D = d2E_dy2,\n            E = dE_dy;\n\n        // solve the linear system for dx and dy\n        var dy = (C / A + E / B) / (B / A - D / B);\n        var dx = -(B * dy + C) / A;\n\n        // move the node\n        nodes[m].x += dx;\n        nodes[m].y += dy;\n      }\n\n      /**\n       * Create the L matrix: edge length times shortest path\n       * @param D_matrix\n       * @private\n       */\n    }, {\n      key: \&quot;_createL_matrix\&quot;,\n      value: function _createL_matrix(D_matrix) {\n        var nodesArray = this.body.nodeIndices;\n        var edgeLength = this.springLength;\n\n        this.L_matrix = [];\n        for (var i = 0; i &lt; nodesArray.length; i++) {\n          this.L_matrix[nodesArray[i]] = {};\n          for (var j = 0; j &lt; nodesArray.length; j++) {\n            this.L_matrix[nodesArray[i]][nodesArray[j]] = edgeLength * D_matrix[nodesArray[i]][nodesArray[j]];\n          }\n        }\n      }\n\n      /**\n       * Create the K matrix: spring constants times shortest path\n       * @param D_matrix\n       * @private\n       */\n    }, {\n      key: \&quot;_createK_matrix\&quot;,\n      value: function _createK_matrix(D_matrix) {\n        var nodesArray = this.body.nodeIndices;\n        var edgeStrength = this.springConstant;\n\n        this.K_matrix = [];\n        for (var i = 0; i &lt; nodesArray.length; i++) {\n          this.K_matrix[nodesArray[i]] = {};\n          for (var j = 0; j &lt; nodesArray.length; j++) {\n            this.K_matrix[nodesArray[i]][nodesArray[j]] = edgeStrength * Math.pow(D_matrix[nodesArray[i]][nodesArray[j]], -2);\n          }\n        }\n      }\n    }]);\n\n    return KamadaKawai;\n  })();\n\n  exports[\&quot;default\&quot;] = KamadaKawai;\n  module.exports = exports[\&quot;default\&quot;];\n\n/***/ },\n/* 112 */\n/***/ function(module, exports) {\n\n  /**\n   * Created by Alex on 10-Aug-15.\n   */\n\n  \&quot;use strict\&quot;;\n\n  Object.defineProperty(exports, \&quot;__esModule\&quot;, {\n    value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\&quot;value\&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\&quot;Cannot call a class as a function\&quot;); } }\n\n  var FloydWarshall = (function () {\n    function FloydWarshall() {\n      _classCallCheck(this, FloydWarshall);\n    }\n\n    _createClass(FloydWarshall, [{\n      key: \&quot;getDistances\&quot;,\n      value: function getDistances(body, nodesArray, edgesArray) {\n        var D_matrix = {};\n        var edges = body.edges;\n\n        // prepare matrix with large numbers\n        for (var i = 0; i &lt; nodesArray.length; i++) {\n          D_matrix[nodesArray[i]] = {};\n          D_matrix[nodesArray[i]] = {};\n          for (var j = 0; j &lt; nodesArray.length; j++) {\n            D_matrix[nodesArray[i]][nodesArray[j]] = i == j ? 0 : 1e9;\n            D_matrix[nodesArray[i]][nodesArray[j]] = i == j ? 0 : 1e9;\n          }\n        }\n\n        // put the weights for the edges in. This assumes unidirectionality.\n        for (var i = 0; i &lt; edgesArray.length; i++) {\n          var edge = edges[edgesArray[i]];\n          // edge has to be connected if it counts to the distances. If it is connected to inner clusters it will crash so we also check if it is in the D_matrix\n          if (edge.connected === true &amp;&amp; D_matrix[edge.fromId] !== undefined &amp;&amp; D_matrix[edge.toId] !== undefined) {\n            D_matrix[edge.fromId][edge.toId] = 1;\n            D_matrix[edge.toId][edge.fromId] = 1;\n          }\n        }\n\n        var nodeCount = nodesArray.length;\n\n        // Adapted FloydWarshall based on unidirectionality to greatly reduce complexity.\n        for (var k = 0; k &lt; nodeCount; k++) {\n          for (var i = 0; i &lt; nodeCount - 1; i++) {\n            for (var j = i + 1; j &lt; nodeCount; j++) {\n              D_matrix[nodesArray[i]][nodesArray[j]] = Math.min(D_matrix[nodesArray[i]][nodesArray[j]], D_matrix[nodesArray[i]][nodesArray[k]] + D_matrix[nodesArray[k]][nodesArray[j]]);\n              D_matrix[nodesArray[j]][nodesArray[i]] = D_matrix[nodesArray[i]][nodesArray[j]];\n            }\n          }\n        }\n\n        return D_matrix;\n      }\n    }]);\n\n    return FloydWarshall;\n  })();\n\n  exports[\&quot;default\&quot;] = FloydWarshall;\n  module.exports = exports[\&quot;default\&quot;];\n\n/***/ },\n/* 113 */\n/***/ function(module, exports) {\n\n  /**\n   * Canvas shapes used by Network\n   */\n  'use strict';\n\n  if (typeof CanvasRenderingContext2D !== 'undefined') {\n\n    /**\n     * Draw a circle shape\n     */\n    CanvasRenderingContext2D.prototype.circle = function (x, y, r) {\n      this.beginPath();\n      this.arc(x, y, r, 0, 2 * Math.PI, false);\n      this.closePath();\n    };\n\n    /**\n     * Draw a square shape\n     * @param {Number} x horizontal center\n     * @param {Number} y vertical center\n     * @param {Number} r   size, width and height of the square\n     */\n    CanvasRenderingContext2D.prototype.square = function (x, y, r) {\n      this.beginPath();\n      this.rect(x - r, y - r, r * 2, r * 2);\n      this.closePath();\n    };\n\n    /**\n     * Draw a triangle shape\n     * @param {Number} x horizontal center\n     * @param {Number} y vertical center\n     * @param {Number} r   radius, half the length of the sides of the triangle\n     */\n    CanvasRenderingContext2D.prototype.triangle = function (x, y, r) {\n      // http://en.wikipedia.org/wiki/Equilateral_triangle\n      this.beginPath();\n\n      // the change in radius and the offset is here to center the shape\n      r *= 1.15;\n      y += 0.275 * r;\n\n      var s = r * 2;\n      var s2 = s / 2;\n      var ir = Math.sqrt(3) / 6 * s; // radius of inner circle\n      var h = Math.sqrt(s * s - s2 * s2); // height\n\n      this.moveTo(x, y - (h - ir));\n      this.lineTo(x + s2, y + ir);\n      this.lineTo(x - s2, y + ir);\n      this.lineTo(x, y - (h - ir));\n      this.closePath();\n    };\n\n    /**\n     * Draw a triangle shape in downward orientation\n     * @param {Number} x horizontal center\n     * @param {Number} y vertical center\n     * @param {Number} r radius\n     */\n    CanvasRenderingContext2D.prototype.triangleDown = function (x, y, r) {\n      // http://en.wikipedia.org/wiki/Equilateral_triangle\n      this.beginPath();\n\n      // the change in radius and the offset is here to center the shape\n      r *= 1.15;\n      y -= 0.275 * r;\n\n      var s = r * 2;\n      var s2 = s / 2;\n      var ir = Math.sqrt(3) / 6 * s; // radius of inner circle\n      var h = Math.sqrt(s * s - s2 * s2); // height\n\n      this.moveTo(x, y + (h - ir));\n      this.lineTo(x + s2, y - ir);\n      this.lineTo(x - s2, y - ir);\n      this.lineTo(x, y + (h - ir));\n      this.closePath();\n    };\n\n    /**\n     * Draw a star shape, a star with 5 points\n     * @param {Number} x horizontal center\n     * @param {Number} y vertical center\n     * @param {Number} r   radius, half the length of the sides of the triangle\n     */\n    CanvasRenderingContext2D.prototype.star = function (x, y, r) {\n      // http://www.html5canvastutorials.com/labs/html5-canvas-star-spinner/\n      this.beginPath();\n\n      // the change in radius and the offset is here to center the shape\n      r *= 0.82;\n      y += 0.1 * r;\n\n      for (var n = 0; n &lt; 10; n++) {\n        var radius = n % 2 === 0 ? r * 1.3 : r * 0.5;\n        this.lineTo(x + radius * Math.sin(n * 2 * Math.PI / 10), y - radius * Math.cos(n * 2 * Math.PI / 10));\n      }\n\n      this.closePath();\n    };\n\n    /**\n     * Draw a Diamond shape\n     * @param {Number} x horizontal center\n     * @param {Number} y vertical center\n     * @param {Number} r   radius, half the length of the sides of the triangle\n     */\n    CanvasRenderingContext2D.prototype.diamond = function (x, y, r) {\n      // http://www.html5canvastutorials.com/labs/html5-canvas-star-spinner/\n      this.beginPath();\n\n      this.lineTo(x, y + r);\n      this.lineTo(x + r, y);\n      this.lineTo(x, y - r);\n      this.lineTo(x - r, y);\n\n      this.closePath();\n    };\n\n    /**\n     * http://stackoverflow.com/questions/1255512/how-to-draw-a-rounded-rectangle-on-html-canvas\n     */\n    CanvasRenderingContext2D.prototype.roundRect = function (x, y, w, h, r) {\n      var r2d = Math.PI / 180;\n      if (w - 2 * r &lt; 0) {\n        r = w / 2;\n      } //ensure that the radius isn't too large for x\n      if (h - 2 * r &lt; 0) {\n        r = h / 2;\n      } //ensure that the radius isn't too large for y\n      this.beginPath();\n      this.moveTo(x + r, y);\n      this.lineTo(x + w - r, y);\n      this.arc(x + w - r, y + r, r, r2d * 270, r2d * 360, false);\n      this.lineTo(x + w, y + h - r);\n      this.arc(x + w - r, y + h - r, r, 0, r2d * 90, false);\n      this.lineTo(x + r, y + h);\n      this.arc(x + r, y + h - r, r, r2d * 90, r2d * 180, false);\n      this.lineTo(x, y + r);\n      this.arc(x + r, y + r, r, r2d * 180, r2d * 270, false);\n      this.closePath();\n    };\n\n    /**\n     * http://stackoverflow.com/questions/2172798/how-to-draw-an-oval-in-html5-canvas\n     */\n    CanvasRenderingContext2D.prototype.ellipse = function (x, y, w, h) {\n      var kappa = .5522848,\n          ox = w / 2 * kappa,\n          // control point offset horizontal\n      oy = h / 2 * kappa,\n          // control point offset vertical\n      xe = x + w,\n          // x-end\n      ye = y + h,\n          // y-end\n      xm = x + w / 2,\n          // x-middle\n      ym = y + h / 2; // y-middle\n\n      this.beginPath();\n      this.moveTo(x, ym);\n      this.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);\n      this.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);\n      this.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);\n      this.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);\n      this.closePath();\n    };\n\n    /**\n     * http://stackoverflow.com/questions/2172798/how-to-draw-an-oval-in-html5-canvas\n     */\n    CanvasRenderingContext2D.prototype.database = function (x, y, w, h) {\n      var f = 1 / 3;\n      var wEllipse = w;\n      var hEllipse = h * f;\n\n      var kappa = .5522848,\n          ox = wEllipse / 2 * kappa,\n          // control point offset horizontal\n      oy = hEllipse / 2 * kappa,\n          // control point offset vertical\n      xe = x + wEllipse,\n          // x-end\n      ye = y + hEllipse,\n          // y-end\n      xm = x + wEllipse / 2,\n          // x-middle\n      ym = y + hEllipse / 2,\n          // y-middle\n      ymb = y + (h - hEllipse / 2),\n          // y-midlle, bottom ellipse\n      yeb = y + h; // y-end, bottom ellipse\n\n      this.beginPath();\n      this.moveTo(xe, ym);\n\n      this.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);\n      this.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);\n\n      this.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);\n      this.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);\n\n      this.lineTo(xe, ymb);\n\n      this.bezierCurveTo(xe, ymb + oy, xm + ox, yeb, xm, yeb);\n      this.bezierCurveTo(xm - ox, yeb, x, ymb + oy, x, ymb);\n\n      this.lineTo(x, ym);\n    };\n\n    /**\n     * Draw an arrow point (no line)\n     */\n    CanvasRenderingContext2D.prototype.arrow = function (x, y, angle, length) {\n      // tail\n      var xt = x - length * Math.cos(angle);\n      var yt = y - length * Math.sin(angle);\n\n      // inner tail\n      var xi = x - length * 0.9 * Math.cos(angle);\n      var yi = y - length * 0.9 * Math.sin(angle);\n\n      // left\n      var xl = xt + length / 3 * Math.cos(angle + 0.5 * Math.PI);\n      var yl = yt + length / 3 * Math.sin(angle + 0.5 * Math.PI);\n\n      // right\n      var xr = xt + length / 3 * Math.cos(angle - 0.5 * Math.PI);\n      var yr = yt + length / 3 * Math.sin(angle - 0.5 * Math.PI);\n\n      this.beginPath();\n      this.moveTo(x, y);\n      this.lineTo(xl, yl);\n      this.lineTo(xi, yi);\n      this.lineTo(xr, yr);\n      this.closePath();\n    };\n\n    /**\n     * Sets up the dashedLine functionality for drawing\n     * Original code came from http://stackoverflow.com/questions/4576724/dotted-stroke-in-canvas\n     * @author David Jordan\n     * @date 2012-08-08\n     */\n    CanvasRenderingContext2D.prototype.dashedLine = function (x, y, x2, y2, pattern) {\n      this.beginPath();\n      this.moveTo(x, y);\n\n      var patternLength = pattern.length;\n      var dx = x2 - x;\n      var dy = y2 - y;\n      var slope = dy / dx;\n      var distRemaining = Math.sqrt(dx * dx + dy * dy);\n      var patternIndex = 0;\n      var draw = true;\n      var xStep = 0;\n      var dashLength = pattern[0];\n\n      while (distRemaining &gt;= 0.1) {\n        dashLength = pattern[patternIndex++ % patternLength];\n        if (dashLength &gt; distRemaining) {\n          dashLength = distRemaining;\n        }\n\n        xStep = Math.sqrt(dashLength * dashLength / (1 + slope * slope));\n        xStep = dx &lt; 0 ? -xStep : xStep;\n        x += xStep;\n        y += slope * xStep;\n\n        if (draw === true) {\n          this.lineTo(x, y);\n        } else {\n          this.moveTo(x, y);\n        }\n\n        distRemaining -= dashLength;\n        draw = !draw;\n      }\n    };\n  }\n\n/***/ },\n/* 114 */\n/***/ function(module, exports) {\n\n  /**\n   * Parse a text source containing data in DOT language into a JSON object.\n   * The object contains two lists: one with nodes and one with edges.\n   *\n   * DOT language reference: http://www.graphviz.org/doc/info/lang.html\n   *\n   * DOT language attributes: http://graphviz.org/content/attrs\n   *\n   * @param {String} data     Text containing a graph in DOT-notation\n   * @return {Object} graph   An object containing two parameters:\n   *                          {Object[]} nodes\n   *                          {Object[]} edges\n   */\n  'use strict';\n\n  function parseDOT(data) {\n    dot = data;\n    return parseGraph();\n  }\n\n  // mapping of attributes from DOT (the keys) to vis.js (the values)\n  var NODE_ATTR_MAPPING = {\n    'fontsize': 'font.size',\n    'fontcolor': 'font.color',\n    'labelfontcolor': 'font.color',\n    'fontname': 'font.face',\n    'color': ['color.border', 'color.background'],\n    'fillcolor': 'color.background',\n    'tooltip': 'title',\n    'labeltooltip': 'title'\n  };\n  var EDGE_ATTR_MAPPING = Object.create(NODE_ATTR_MAPPING);\n  EDGE_ATTR_MAPPING.color = 'color.color';\n\n  // token types enumeration\n  var TOKENTYPE = {\n    NULL: 0,\n    DELIMITER: 1,\n    IDENTIFIER: 2,\n    UNKNOWN: 3\n  };\n\n  // map with all delimiters\n  var DELIMITERS = {\n    '{': true,\n    '}': true,\n    '[': true,\n    ']': true,\n    ';': true,\n    '=': true,\n    ',': true,\n\n    '-&gt;': true,\n    '--': true\n  };\n\n  var dot = ''; // current dot file\n  var index = 0; // current index in dot file\n  var c = ''; // current token character in expr\n  var token = ''; // current token\n  var tokenType = TOKENTYPE.NULL; // type of the token\n\n  /**\n   * Get the first character from the dot file.\n   * The character is stored into the char c. If the end of the dot file is\n   * reached, the function puts an empty string in c.\n   */\n  function first() {\n    index = 0;\n    c = dot.charAt(0);\n  }\n\n  /**\n   * Get the next character from the dot file.\n   * The character is stored into the char c. If the end of the dot file is\n   * reached, the function puts an empty string in c.\n   */\n  function next() {\n    index++;\n    c = dot.charAt(index);\n  }\n\n  /**\n   * Preview the next character from the dot file.\n   * @return {String} cNext\n   */\n  function nextPreview() {\n    return dot.charAt(index + 1);\n  }\n\n  /**\n   * Test whether given character is alphabetic or numeric\n   * @param {String} c\n   * @return {Boolean} isAlphaNumeric\n   */\n  var regexAlphaNumeric = /[a-zA-Z_0-9.:#]/;\n  function isAlphaNumeric(c) {\n    return regexAlphaNumeric.test(c);\n  }\n\n  /**\n   * Merge all options of object b into object b\n   * @param {Object} a\n   * @param {Object} b\n   * @return {Object} a\n   */\n  function merge(a, b) {\n    if (!a) {\n      a = {};\n    }\n\n    if (b) {\n      for (var name in b) {\n        if (b.hasOwnProperty(name)) {\n          a[name] = b[name];\n        }\n      }\n    }\n    return a;\n  }\n\n  /**\n   * Set a value in an object, where the provided parameter name can be a\n   * path with nested parameters. For example:\n   *\n   *     var obj = {a: 2};\n   *     setValue(obj, 'b.c', 3);     // obj = {a: 2, b: {c: 3}}\n   *\n   * @param {Object} obj\n   * @param {String} path  A parameter name or dot-separated parameter path,\n   *                      like \&quot;color.highlight.border\&quot;.\n   * @param {*} value\n   */\n  function setValue(obj, path, value) {\n    var keys = path.split('.');\n    var o = obj;\n    while (keys.length) {\n      var key = keys.shift();\n      if (keys.length) {\n        // this isn't the end point\n        if (!o[key]) {\n          o[key] = {};\n        }\n        o = o[key];\n      } else {\n        // this is the end point\n        o[key] = value;\n      }\n    }\n  }\n\n  /**\n   * Add a node to a graph object. If there is already a node with\n   * the same id, their attributes will be merged.\n   * @param {Object} graph\n   * @param {Object} node\n   */\n  function addNode(graph, node) {\n    var i, len;\n    var current = null;\n\n    // find root graph (in case of subgraph)\n    var graphs = [graph]; // list with all graphs from current graph to root graph\n    var root = graph;\n    while (root.parent) {\n      graphs.push(root.parent);\n      root = root.parent;\n    }\n\n    // find existing node (at root level) by its id\n    if (root.nodes) {\n      for (i = 0, len = root.nodes.length; i &lt; len; i++) {\n        if (node.id === root.nodes[i].id) {\n          current = root.nodes[i];\n          break;\n        }\n      }\n    }\n\n    if (!current) {\n      // this is a new node\n      current = {\n        id: node.id\n      };\n      if (graph.node) {\n        // clone default attributes\n        current.attr = merge(current.attr, graph.node);\n      }\n    }\n\n    // add node to this (sub)graph and all its parent graphs\n    for (i = graphs.length - 1; i &gt;= 0; i--) {\n      var g = graphs[i];\n\n      if (!g.nodes) {\n        g.nodes = [];\n      }\n      if (g.nodes.indexOf(current) === -1) {\n        g.nodes.push(current);\n      }\n    }\n\n    // merge attributes\n    if (node.attr) {\n      current.attr = merge(current.attr, node.attr);\n    }\n  }\n\n  /**\n   * Add an edge to a graph object\n   * @param {Object} graph\n   * @param {Object} edge\n   */\n  function addEdge(graph, edge) {\n    if (!graph.edges) {\n      graph.edges = [];\n    }\n    graph.edges.push(edge);\n    if (graph.edge) {\n      var attr = merge({}, graph.edge); // clone default attributes\n      edge.attr = merge(attr, edge.attr); // merge attributes\n    }\n  }\n\n  /**\n   * Create an edge to a graph object\n   * @param {Object} graph\n   * @param {String | Number | Object} from\n   * @param {String | Number | Object} to\n   * @param {String} type\n   * @param {Object | null} attr\n   * @return {Object} edge\n   */\n  function createEdge(graph, from, to, type, attr) {\n    var edge = {\n      from: from,\n      to: to,\n      type: type\n    };\n\n    if (graph.edge) {\n      edge.attr = merge({}, graph.edge); // clone default attributes\n    }\n    edge.attr = merge(edge.attr || {}, attr); // merge attributes\n\n    return edge;\n  }\n\n  /**\n   * Get next token in the current dot file.\n   * The token and token type are available as token and tokenType\n   */\n  function getToken() {\n    tokenType = TOKENTYPE.NULL;\n    token = '';\n\n    // skip over whitespaces\n    while (c === ' ' || c === '\\t' || c === '\\n' || c === '\\r') {\n      // space, tab, enter\n      next();\n    }\n\n    do {\n      var isComment = false;\n\n      // skip comment\n      if (c === '#') {\n        // find the previous non-space character\n        var i = index - 1;\n        while (dot.charAt(i) === ' ' || dot.charAt(i) === '\\t') {\n          i--;\n        }\n        if (dot.charAt(i) === '\\n' || dot.charAt(i) === '') {\n          // the # is at the start of a line, this is indeed a line comment\n          while (c != '' &amp;&amp; c != '\\n') {\n            next();\n          }\n          isComment = true;\n        }\n      }\n      if (c === '/' &amp;&amp; nextPreview() === '/') {\n        // skip line comment\n        while (c != '' &amp;&amp; c != '\\n') {\n          next();\n        }\n        isComment = true;\n      }\n      if (c === '/' &amp;&amp; nextPreview() === '*') {\n        // skip block comment\n        while (c != '') {\n          if (c === '*' &amp;&amp; nextPreview() === '/') {\n            // end of block comment found. skip these last two characters\n            next();\n            next();\n            break;\n          } else {\n            next();\n          }\n        }\n        isComment = true;\n      }\n\n      // skip over whitespaces\n      while (c === ' ' || c === '\\t' || c === '\\n' || c === '\\r') {\n        // space, tab, enter\n        next();\n      }\n    } while (isComment);\n\n    // check for end of dot file\n    if (c === '') {\n      // token is still empty\n      tokenType = TOKENTYPE.DELIMITER;\n      return;\n    }\n\n    // check for delimiters consisting of 2 characters\n    var c2 = c + nextPreview();\n    if (DELIMITERS[c2]) {\n      tokenType = TOKENTYPE.DELIMITER;\n      token = c2;\n      next();\n      next();\n      return;\n    }\n\n    // check for delimiters consisting of 1 character\n    if (DELIMITERS[c]) {\n      tokenType = TOKENTYPE.DELIMITER;\n      token = c;\n      next();\n      return;\n    }\n\n    // check for an identifier (number or string)\n    // TODO: more precise parsing of numbers/strings (and the port separator ':')\n    if (isAlphaNumeric(c) || c === '-') {\n      token += c;\n      next();\n\n      while (isAlphaNumeric(c)) {\n        token += c;\n        next();\n      }\n      if (token === 'false') {\n        token = false; // convert to boolean\n      } else if (token === 'true') {\n          token = true; // convert to boolean\n        } else if (!isNaN(Number(token))) {\n            token = Number(token); // convert to number\n          }\n      tokenType = TOKENTYPE.IDENTIFIER;\n      return;\n    }\n\n    // check for a string enclosed by double quotes\n    if (c === '\&quot;') {\n      next();\n      while (c != '' &amp;&amp; (c != '\&quot;' || c === '\&quot;' &amp;&amp; nextPreview() === '\&quot;')) {\n        token += c;\n        if (c === '\&quot;') {\n          // skip the escape character\n          next();\n        }\n        next();\n      }\n      if (c != '\&quot;') {\n        throw newSyntaxError('End of string \&quot; expected');\n      }\n      next();\n      tokenType = TOKENTYPE.IDENTIFIER;\n      return;\n    }\n\n    // something unknown is found, wrong characters, a syntax error\n    tokenType = TOKENTYPE.UNKNOWN;\n    while (c != '') {\n      token += c;\n      next();\n    }\n    throw new SyntaxError('Syntax error in part \&quot;' + chop(token, 30) + '\&quot;');\n  }\n\n  /**\n   * Parse a graph.\n   * @returns {Object} graph\n   */\n  function parseGraph() {\n    var graph = {};\n\n    first();\n    getToken();\n\n    // optional strict keyword\n    if (token === 'strict') {\n      graph.strict = true;\n      getToken();\n    }\n\n    // graph or digraph keyword\n    if (token === 'graph' || token === 'digraph') {\n      graph.type = token;\n      getToken();\n    }\n\n    // optional graph id\n    if (tokenType === TOKENTYPE.IDENTIFIER) {\n      graph.id = token;\n      getToken();\n    }\n\n    // open angle bracket\n    if (token != '{') {\n      throw newSyntaxError('Angle bracket { expected');\n    }\n    getToken();\n\n    // statements\n    parseStatements(graph);\n\n    // close angle bracket\n    if (token != '}') {\n      throw newSyntaxError('Angle bracket } expected');\n    }\n    getToken();\n\n    // end of file\n    if (token !== '') {\n      throw newSyntaxError('End of file expected');\n    }\n    getToken();\n\n    // remove temporary default options\n    delete graph.node;\n    delete graph.edge;\n    delete graph.graph;\n\n    return graph;\n  }\n\n  /**\n   * Parse a list with statements.\n   * @param {Object} graph\n   */\n  function parseStatements(graph) {\n    while (token !== '' &amp;&amp; token != '}') {\n      parseStatement(graph);\n      if (token === ';') {\n        getToken();\n      }\n    }\n  }\n\n  /**\n   * Parse a single statement. Can be a an attribute statement, node\n   * statement, a series of node statements and edge statements, or a\n   * parameter.\n   * @param {Object} graph\n   */\n  function parseStatement(graph) {\n    // parse subgraph\n    var subgraph = parseSubgraph(graph);\n    if (subgraph) {\n      // edge statements\n      parseEdge(graph, subgraph);\n\n      return;\n    }\n\n    // parse an attribute statement\n    var attr = parseAttributeStatement(graph);\n    if (attr) {\n      return;\n    }\n\n    // parse node\n    if (tokenType != TOKENTYPE.IDENTIFIER) {\n      throw newSyntaxError('Identifier expected');\n    }\n    var id = token; // id can be a string or a number\n    getToken();\n\n    if (token === '=') {\n      // id statement\n      getToken();\n      if (tokenType != TOKENTYPE.IDENTIFIER) {\n        throw newSyntaxError('Identifier expected');\n      }\n      graph[id] = token;\n      getToken();\n      // TODO: implement comma separated list with \&quot;a_list: ID=ID [','] [a_list] \&quot;\n    } else {\n        parseNodeStatement(graph, id);\n      }\n  }\n\n  /**\n   * Parse a subgraph\n   * @param {Object} graph    parent graph object\n   * @return {Object | null} subgraph\n   */\n  function parseSubgraph(graph) {\n    var subgraph = null;\n\n    // optional subgraph keyword\n    if (token === 'subgraph') {\n      subgraph = {};\n      subgraph.type = 'subgraph';\n      getToken();\n\n      // optional graph id\n      if (tokenType === TOKENTYPE.IDENTIFIER) {\n        subgraph.id = token;\n        getToken();\n      }\n    }\n\n    // open angle bracket\n    if (token === '{') {\n      getToken();\n\n      if (!subgraph) {\n        subgraph = {};\n      }\n      subgraph.parent = graph;\n      subgraph.node = graph.node;\n      subgraph.edge = graph.edge;\n      subgraph.graph = graph.graph;\n\n      // statements\n      parseStatements(subgraph);\n\n      // close angle bracket\n      if (token != '}') {\n        throw newSyntaxError('Angle bracket } expected');\n      }\n      getToken();\n\n      // remove temporary default options\n      delete subgraph.node;\n      delete subgraph.edge;\n      delete subgraph.graph;\n      delete subgraph.parent;\n\n      // register at the parent graph\n      if (!graph.subgraphs) {\n        graph.subgraphs = [];\n      }\n      graph.subgraphs.push(subgraph);\n    }\n\n    return subgraph;\n  }\n\n  /**\n   * parse an attribute statement like \&quot;node [shape=circle fontSize=16]\&quot;.\n   * Available keywords are 'node', 'edge', 'graph'.\n   * The previous list with default attributes will be replaced\n   * @param {Object} graph\n   * @returns {String | null} keyword Returns the name of the parsed attribute\n   *                                  (node, edge, graph), or null if nothing\n   *                                  is parsed.\n   */\n  function parseAttributeStatement(graph) {\n    // attribute statements\n    if (token === 'node') {\n      getToken();\n\n      // node attributes\n      graph.node = parseAttributeList();\n      return 'node';\n    } else if (token === 'edge') {\n      getToken();\n\n      // edge attributes\n      graph.edge = parseAttributeList();\n      return 'edge';\n    } else if (token === 'graph') {\n      getToken();\n\n      // graph attributes\n      graph.graph = parseAttributeList();\n      return 'graph';\n    }\n\n    return null;\n  }\n\n  /**\n   * parse a node statement\n   * @param {Object} graph\n   * @param {String | Number} id\n   */\n  function parseNodeStatement(graph, id) {\n    // node statement\n    var node = {\n      id: id\n    };\n    var attr = parseAttributeList();\n    if (attr) {\n      node.attr = attr;\n    }\n    addNode(graph, node);\n\n    // edge statements\n    parseEdge(graph, id);\n  }\n\n  /**\n   * Parse an edge or a series of edges\n   * @param {Object} graph\n   * @param {String | Number} from        Id of the from node\n   */\n  function parseEdge(graph, from) {\n    while (token === '-&gt;' || token === '--') {\n      var to;\n      var type = token;\n      getToken();\n\n      var subgraph = parseSubgraph(graph);\n      if (subgraph) {\n        to = subgraph;\n      } else {\n        if (tokenType != TOKENTYPE.IDENTIFIER) {\n          throw newSyntaxError('Identifier or subgraph expected');\n        }\n        to = token;\n        addNode(graph, {\n          id: to\n        });\n        getToken();\n      }\n\n      // parse edge attributes\n      var attr = parseAttributeList();\n\n      // create edge\n      var edge = createEdge(graph, from, to, type, attr);\n      addEdge(graph, edge);\n\n      from = to;\n    }\n  }\n\n  /**\n   * Parse a set with attributes,\n   * for example [label=\&quot;1.000\&quot;, shape=solid]\n   * @return {Object | null} attr\n   */\n  function parseAttributeList() {\n    var attr = null;\n\n    while (token === '[') {\n      getToken();\n      attr = {};\n      while (token !== '' &amp;&amp; token != ']') {\n        if (tokenType != TOKENTYPE.IDENTIFIER) {\n          throw newSyntaxError('Attribute name expected');\n        }\n        var name = token;\n\n        getToken();\n        if (token != '=') {\n          throw newSyntaxError('Equal sign = expected');\n        }\n        getToken();\n\n        if (tokenType != TOKENTYPE.IDENTIFIER) {\n          throw newSyntaxError('Attribute value expected');\n        }\n        var value = token;\n        setValue(attr, name, value); // name can be a path\n\n        getToken();\n        if (token == ',') {\n          getToken();\n        }\n      }\n\n      if (token != ']') {\n        throw newSyntaxError('Bracket ] expected');\n      }\n      getToken();\n    }\n\n    return attr;\n  }\n\n  /**\n   * Create a syntax error with extra information on current token and index.\n   * @param {String} message\n   * @returns {SyntaxError} err\n   */\n  function newSyntaxError(message) {\n    return new SyntaxError(message + ', got \&quot;' + chop(token, 30) + '\&quot; (char ' + index + ')');\n  }\n\n  /**\n   * Chop off text after a maximum length\n   * @param {String} text\n   * @param {Number} maxLength\n   * @returns {String}\n   */\n  function chop(text, maxLength) {\n    return text.length &lt;= maxLength ? text : text.substr(0, 27) + '...';\n  }\n\n  /**\n   * Execute a function fn for each pair of elements in two arrays\n   * @param {Array | *} array1\n   * @param {Array | *} array2\n   * @param {function} fn\n   */\n  function forEach2(array1, array2, fn) {\n    if (Array.isArray(array1)) {\n      array1.forEach(function (elem1) {\n        if (Array.isArray(array2)) {\n          array2.forEach(function (elem2) {\n            fn(elem1, elem2);\n          });\n        } else {\n          fn(elem1, array2);\n        }\n      });\n    } else {\n      if (Array.isArray(array2)) {\n        array2.forEach(function (elem2) {\n          fn(array1, elem2);\n        });\n      } else {\n        fn(array1, array2);\n      }\n    }\n  }\n\n  /**\n   * Set a nested property on an object\n   * When nested objects are missing, they will be created.\n   * For example setProp({}, 'font.color', 'red') will return {font: {color: 'red'}}\n   * @param {Object} object\n   * @param {string} path   A dot separated string like 'font.color'\n   * @param {*} value       Value for the property\n   * @return {Object} Returns the original object, allows for chaining.\n   */\n  function setProp(object, path, value) {\n    var names = path.split('.');\n    var prop = names.pop();\n\n    // traverse over the nested objects\n    var obj = object;\n    for (var i = 0; i &lt; names.length; i++) {\n      var name = names[i];\n      if (!(name in obj)) {\n        obj[name] = {};\n      }\n      obj = obj[name];\n    }\n\n    // set the property value\n    obj[prop] = value;\n\n    return object;\n  }\n\n  /**\n   * Convert an object with DOT attributes to their vis.js equivalents.\n   * @param {Object} attr     Object with DOT attributes\n   * @param {Object} mapping\n   * @return {Object}         Returns an object with vis.js attributes\n   */\n  function convertAttr(attr, mapping) {\n    var converted = {};\n\n    for (var prop in attr) {\n      if (attr.hasOwnProperty(prop)) {\n        var visProp = mapping[prop];\n        if (Array.isArray(visProp)) {\n          visProp.forEach(function (visPropI) {\n            setProp(converted, visPropI, attr[prop]);\n          });\n        } else if (typeof visProp === 'string') {\n          setProp(converted, visProp, attr[prop]);\n        } else {\n          setProp(converted, prop, attr[prop]);\n        }\n      }\n    }\n\n    return converted;\n  }\n\n  /**\n   * Convert a string containing a graph in DOT language into a map containing\n   * with nodes and edges in the format of graph.\n   * @param {String} data         Text containing a graph in DOT-notation\n   * @return {Object} graphData\n   */\n  function DOTToGraph(data) {\n    // parse the DOT file\n    var dotData = parseDOT(data);\n    var graphData = {\n      nodes: [],\n      edges: [],\n      options: {}\n    };\n\n    // copy the nodes\n    if (dotData.nodes) {\n      dotData.nodes.forEach(function (dotNode) {\n        var graphNode = {\n          id: dotNode.id,\n          label: String(dotNode.label || dotNode.id)\n        };\n        merge(graphNode, convertAttr(dotNode.attr, NODE_ATTR_MAPPING));\n        if (graphNode.image) {\n          graphNode.shape = 'image';\n        }\n        graphData.nodes.push(graphNode);\n      });\n    }\n\n    // copy the edges\n    if (dotData.edges) {\n      /**\n       * Convert an edge in DOT format to an edge with VisGraph format\n       * @param {Object} dotEdge\n       * @returns {Object} graphEdge\n       */\n      var convertEdge = function convertEdge(dotEdge) {\n        var graphEdge = {\n          from: dotEdge.from,\n          to: dotEdge.to\n        };\n        merge(graphEdge, convertAttr(dotEdge.attr, EDGE_ATTR_MAPPING));\n        graphEdge.arrows = dotEdge.type === '-&gt;' ? 'to' : undefined;\n\n        return graphEdge;\n      };\n\n      dotData.edges.forEach(function (dotEdge) {\n        var from, to;\n        if (dotEdge.from instanceof Object) {\n          from = dotEdge.from.nodes;\n        } else {\n          from = {\n            id: dotEdge.from\n          };\n        }\n\n        // TODO: support of solid/dotted/dashed edges (attr = 'style')\n        // TODO: support for attributes 'dir' and 'arrowhead' (edge arrows)\n\n        if (dotEdge.to instanceof Object) {\n          to = dotEdge.to.nodes;\n        } else {\n          to = {\n            id: dotEdge.to\n          };\n        }\n\n        if (dotEdge.from instanceof Object &amp;&amp; dotEdge.from.edges) {\n          dotEdge.from.edges.forEach(function (subEdge) {\n            var graphEdge = convertEdge(subEdge);\n            graphData.edges.push(graphEdge);\n          });\n        }\n\n        forEach2(from, to, function (from, to) {\n          var subEdge = createEdge(graphData, from.id, to.id, dotEdge.type, dotEdge.attr);\n          var graphEdge = convertEdge(subEdge);\n          graphData.edges.push(graphEdge);\n        });\n\n        if (dotEdge.to instanceof Object &amp;&amp; dotEdge.to.edges) {\n          dotEdge.to.edges.forEach(function (subEdge) {\n            var graphEdge = convertEdge(subEdge);\n            graphData.edges.push(graphEdge);\n          });\n        }\n      });\n    }\n\n    // copy the options\n    if (dotData.attr) {\n      graphData.options = dotData.attr;\n    }\n\n    return graphData;\n  }\n\n  // exports\n  exports.parseDOT = parseDOT;\n  exports.DOTToGraph = DOTToGraph;\n\n/***/ },\n/* 115 */\n/***/ function(module, exports) {\n\n  'use strict';\n\n  function parseGephi(gephiJSON, optionsObj) {\n    var edges = [];\n    var nodes = [];\n    var options = {\n      edges: {\n        inheritColor: false\n      },\n      nodes: {\n        fixed: false,\n        parseColor: false\n      }\n    };\n\n    if (optionsObj !== undefined) {\n      if (optionsObj.fixed !== undefined) {\n        options.nodes.fixed = optionsObj.fixed;\n      }\n      if (optionsObj.parseColor !== undefined) {\n        options.nodes.parseColor = optionsObj.parseColor;\n      }\n      if (optionsObj.inheritColor !== undefined) {\n        options.edges.inheritColor = optionsObj.inheritColor;\n      }\n    }\n\n    var gEdges = gephiJSON.edges;\n    var gNodes = gephiJSON.nodes;\n    for (var i = 0; i &lt; gEdges.length; i++) {\n      var edge = {};\n      var gEdge = gEdges[i];\n      edge['id'] = gEdge.id;\n      edge['from'] = gEdge.source;\n      edge['to'] = gEdge.target;\n      edge['attributes'] = gEdge.attributes;\n      edge['label'] = gEdge.label;\n      edge['title'] = gEdge.attributes !== undefined ? gEdge.attributes.title : undefined;\n      if (gEdge['type'] === 'Directed') {\n        edge['arrows'] = 'to';\n      }\n      //    edge['value'] = gEdge.attributes !== undefined ? gEdge.attributes.Weight : undefined;\n      //    edge['width'] = edge['value'] !== undefined ? undefined : edgegEdge.size;\n      if (gEdge.color &amp;&amp; options.inheritColor === false) {\n        edge['color'] = gEdge.color;\n      }\n      edges.push(edge);\n    }\n\n    for (var i = 0; i &lt; gNodes.length; i++) {\n      var node = {};\n      var gNode = gNodes[i];\n      node['id'] = gNode.id;\n      node['attributes'] = gNode.attributes;\n      node['title'] = gNode.title;\n      node['x'] = gNode.x;\n      node['y'] = gNode.y;\n      node['label'] = gNode.label;\n      node['title'] = gNode.attributes !== undefined ? gNode.attributes.title : undefined;\n      if (options.nodes.parseColor === true) {\n        node['color'] = gNode.color;\n      } else {\n        node['color'] = gNode.color !== undefined ? { background: gNode.color, border: gNode.color, highlight: { background: gNode.color, border: gNode.color }, hover: { background: gNode.color, border: gNode.color } } : undefined;\n      }\n      node['size'] = gNode.size;\n      node['fixed'] = options.nodes.fixed &amp;&amp; gNode.x !== undefined &amp;&amp; gNode.y !== undefined;\n      nodes.push(node);\n    }\n\n    return { nodes: nodes, edges: edges };\n  }\n\n  exports.parseGephi = parseGephi;\n\n/***/ },\n/* 116 */\n/***/ function(module, exports) {\n\n  /**\n   * @class Images\n   * This class loads images and keeps them stored.\n   */\n  \&quot;use strict\&quot;;\n\n  Object.defineProperty(exports, \&quot;__esModule\&quot;, {\n      value: true\n  });\n\n  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\&quot;value\&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\&quot;Cannot call a class as a function\&quot;); } }\n\n  var Images = (function () {\n      function Images(callback) {\n          _classCallCheck(this, Images);\n\n          this.images = {};\n          this.imageBroken = {};\n          this.callback = callback;\n      }\n\n      /**\n       * @param {string} url                      The Url to cache the image as \n        * @return {Image} imageToLoadBrokenUrlOn  The image object\n       */\n\n      _createClass(Images, [{\n          key: \&quot;_addImageToCache\&quot;,\n          value: function _addImageToCache(url, imageToCache) {\n              // IE11 fix -- thanks dponch!\n              if (imageToCache.width === 0) {\n                  document.body.appendChild(imageToCache);\n                  imageToCache.width = imageToCache.offsetWidth;\n                  imageToCache.height = imageToCache.offsetHeight;\n                  document.body.removeChild(imageToCache);\n              }\n\n              this.images[url] = imageToCache;\n          }\n\n          /**\n           * @param {string} url                      The original Url that failed to load, if the broken image is successfully loaded it will be added to the cache using this Url as the key so that subsequent requests for this Url will return the broken image\n           * @param {string} brokenUrl                Url the broken image to try and load\n           * @return {Image} imageToLoadBrokenUrlOn   The image object\n           */\n      }, {\n          key: \&quot;_tryloadBrokenUrl\&quot;,\n          value: function _tryloadBrokenUrl(url, brokenUrl, imageToLoadBrokenUrlOn) {\n              var _this = this;\n\n              //If any of the parameters aren't specified then exit the function because nothing constructive can be done\n              if (url === undefined || brokenUrl === undefined || imageToLoadBrokenUrlOn === undefined) return;\n\n              //Clear the old subscription to the error event and put a new in place that only handle errors in loading the brokenImageUrl\n              imageToLoadBrokenUrlOn.onerror = function () {\n                  console.error(\&quot;Could not load brokenImage:\&quot;, brokenUrl);\n                  //Add an empty image to the cache so that when subsequent load calls are made for the url we don't try load the image and broken image again\n                  _this._addImageToCache(url, new Image());\n              };\n\n              //Set the source of the image to the brokenUrl, this is actually what kicks off the loading of the broken image\n              imageToLoadBrokenUrlOn.src = brokenUrl;\n          }\n\n          /**\n           * @return {Image} imageToRedrawWith The images that will be passed to the callback when it is invoked\n           */\n      }, {\n          key: \&quot;_redrawWithImage\&quot;,\n          value: function _redrawWithImage(imageToRedrawWith) {\n              if (this.callback) {\n                  this.callback(imageToRedrawWith);\n              }\n          }\n\n          /**\n           * @param {string} url          Url of the image\n           * @param {string} brokenUrl    Url of an image to use if the url image is not found\n           * @return {Image} img          The image object\n           */\n      }, {\n          key: \&quot;load\&quot;,\n          value: function load(url, brokenUrl, id) {\n              var _this2 = this;\n\n              //Try and get the image from the cache, if successful then return the cached image  \n              var cachedImage = this.images[url];\n              if (cachedImage) return cachedImage;\n\n              //Create a new image\n              var img = new Image();\n\n              //Subscribe to the event that is raised if the image loads successfully\n              img.onload = function () {\n                  //Add the image to the cache and then request a redraw\n                  _this2._addImageToCache(url, img);\n                  _this2._redrawWithImage(img);\n              };\n\n              //Subscribe to the event that is raised if the image fails to load\n              img.onerror = function () {\n                  console.error(\&quot;Could not load image:\&quot;, url);\n                  //Try and load the image specified by the brokenUrl using\n                  _this2._tryloadBrokenUrl(url, brokenUrl, img);\n              };\n\n              //Set the source of the image to the url, this is actuall what kicks off the loading of the image\n              img.src = url;\n\n              //Return the new image\n              return img;\n          }\n      }]);\n\n      return Images;\n  })();\n\n  exports[\&quot;default\&quot;] = Images;\n  module.exports = exports[\&quot;default\&quot;];\n\n/***/ },\n/* 117 */\n/***/ function(module, exports) {\n\n  // English\n  'use strict';\n\n  exports['en'] = {\n    edit: 'Edit',\n    del: 'Delete selected',\n    back: 'Back',\n    addNode: 'Add Node',\n    addEdge: 'Add Edge',\n    editNode: 'Edit Node',\n    editEdge: 'Edit Edge',\n    addDescription: 'Click in an empty space to place a new node.',\n    edgeDescription: 'Click on a node and drag the edge to another node to connect them.',\n    editEdgeDescription: 'Click on the control points and drag them to a node to connect to it.',\n    createEdgeError: 'Cannot link edges to a cluster.',\n    deleteClusterError: 'Clusters cannot be deleted.',\n    editClusterError: 'Clusters cannot be edited.'\n  };\n  exports['en_EN'] = exports['en'];\n  exports['en_US'] = exports['en'];\n\n  // German\n  exports['de'] = {\n    edit: 'Editieren',\n    del: 'Lösche Auswahl',\n    back: 'Zurück',\n    addNode: 'Knoten hinzufügen',\n    addEdge: 'Kante hinzufügen',\n    editNode: 'Knoten editieren',\n    editEdge: 'Kante editieren',\n    addDescription: 'Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.',\n    edgeDescription: 'Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.',\n    editEdgeDescription: 'Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.',\n    createEdgeError: 'Es ist nicht möglich, Kanten mit Clustern zu verbinden.',\n    deleteClusterError: 'Cluster können nicht gelöscht werden.',\n    editClusterError: 'Cluster können nicht editiert werden.'\n  };\n  exports['de_DE'] = exports['de'];\n\n  // Spanish\n  exports['es'] = {\n    edit: 'Editar',\n    del: 'Eliminar selección',\n    back: 'Átras',\n    addNode: 'Añadir nodo',\n    addEdge: 'Añadir arista',\n    editNode: 'Editar nodo',\n    editEdge: 'Editar arista',\n    addDescription: 'Haga clic en un lugar vacío para colocar un nuevo nodo.',\n    edgeDescription: 'Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.',\n    editEdgeDescription: 'Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.',\n    createEdgeError: 'No se puede conectar una arista a un grupo.',\n    deleteClusterError: 'No es posible eliminar grupos.',\n    editClusterError: 'No es posible editar grupos.'\n  };\n  exports['es_ES'] = exports['es'];\n\n  // Dutch\n  exports['nl'] = {\n    edit: 'Wijzigen',\n    del: 'Selectie verwijderen',\n    back: 'Terug',\n    addNode: 'Node toevoegen',\n    addEdge: 'Link toevoegen',\n    editNode: 'Node wijzigen',\n    editEdge: 'Link wijzigen',\n    addDescription: 'Klik op een leeg gebied om een nieuwe node te maken.',\n    edgeDescription: 'Klik op een node en sleep de link naar een andere node om ze te verbinden.',\n    editEdgeDescription: 'Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.',\n    createEdgeError: 'Kan geen link maken naar een cluster.',\n    deleteClusterError: 'Clusters kunnen niet worden verwijderd.',\n    editClusterError: 'Clusters kunnen niet worden aangepast.'\n  };\n  exports['nl_NL'] = exports['nl'];\n  exports['nl_BE'] = exports['nl'];\n\n/***/ }\n/******/ ])\n});\n;\n&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/vis/vis.js&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        }
    }
}</pre>
</div>
<div created="20160218070450945" modified="20160220200113265" title="$:/SiteSubtitle">
<pre>Karen Krause-Munson | IDT 599: Thesis/Project | Spring 2016</pre>
</div>
<div created="20160218070421169" modified="20160218070444990" title="$:/SiteTitle">
<pre>Folksonomy affordances of utilizing a hypertext platform to create a tag-rich photo repository</pre>
</div>
<div created="20160213182838233" modified="20160325214825813" title="$:/state/showeditpreview">
<pre>yes</pre>
</div>
<div created="20160218075631075" modified="20160326164655306" title="$:/state/tab--1963855381">
<pre>$:/themes/tiddlywiki/vanilla/themetweaks</pre>
</div>
<div created="20160326164611330" modified="20160326164611330" title="$:/state/tab--2112689675">
<pre>$:/core/ui/ControlPanel/Advanced</pre>
</div>
<div created="20160326164614584" modified="20160326164633706" title="$:/state/tab--959111941">
<pre>$:/core/ui/ControlPanel/TiddlerFields</pre>
</div>
<div created="20160218075521958" modified="20160326164703425" title="$:/state/tab-1749438307">
<pre>$:/core/ui/ControlPanel/Settings</pre>
</div>
<div created="20160319154617907" modified="20160326164421439" title="$:/state/tab/moresidebar-401116514">
<pre>$:/core/ui/MoreSideBar/Drafts</pre>
</div>
<div created="20160306202129836" modified="20160326164918513" title="$:/state/tab/sidebar--1835078512">
<pre>Contents</pre>
</div>
<div created="20160218075713405" modified="20160326164645888" title="$:/state/tabs/controlpanel/toolbars-1345989671">
<pre>$:/core/ui/ControlPanel/Toolbars/ViewToolbar</pre>
</div>
<div created="20160326162607489" modified="20160326162616248" title="$:/state/toc/Contents-Abstract-209360082">
<pre>open</pre>
</div>
<div created="20160325211857108" modified="20160326190536642" title="$:/state/toc/Contents-Literature Review-209360082">
<pre>close</pre>
</div>
<div created="20160325200147605" modified="20160325200153071" title="$:/state/toc/Contents-Reference-209360082">
<pre>close</pre>
</div>
<div created="20160307152920077" modified="20160307152921516" title="$:/state/toc/Thesis-Abstract-952405645">
<pre>close</pre>
</div>
<div created="20160307152922451" modified="20160307152928436" title="$:/state/toc/Thesis-Approach-952405645">
<pre>close</pre>
</div>
<div created="20160307152931124" modified="20160307152932525" title="$:/state/toc/Thesis-Bibliography-952405645">
<pre>close</pre>
</div>
<div created="20160319154359540" modified="20160326171238008" title="$:/state/toc/TOC-Abstract-1679107817">
<pre>close</pre>
</div>
<div created="20160319154406227" modified="20160319154408203" title="$:/state/toc/TOC-Approach  phase 1-1679107817">
<pre>close</pre>
</div>
<div created="20160319185713299" modified="20160319185714067" title="$:/state/toc/TOC-Conclusion-1679107817">
<pre>close</pre>
</div>
<div created="20160319154402987" modified="20160319185723450" title="$:/state/toc/TOC-Literature Review-1679107817">
<pre>close</pre>
</div>
<div created="20160319154532038" modified="20160319154538966" title="$:/state/toc/TOC-Reference-1679107817">
<pre>close</pre>
</div>
<div created="20160319154415603" modified="20160319154500523" title="$:/state/toc/TOC-References-1679107817">
<pre>close</pre>
</div>
<div created="20160319154409171" modified="20160319185716956" title="$:/state/toc/TOC-Themes-1679107817">
<pre>close</pre>
</div>
<div created="20160319154413363" modified="20160321183419120" title="$:/state/toc/TOC-Understandings-1679107817">
<pre>close</pre>
</div>
<div list="[[Draft of 'Tag Recommendation']] [[Literature Review]]" title="$:/StoryList">
<pre></pre>
</div>
<div modified="20160326171931029" title="$:/temp/focussedTiddler">
<pre>Welcome!</pre>
</div>
<div plugin-type="info" title="$:/temp/info-plugin" type="application/json">
<pre>{
    &quot;tiddlers&quot;: {
        &quot;$:/info/browser&quot;: {
            &quot;title&quot;: &quot;$:/info/browser&quot;,
            &quot;text&quot;: &quot;yes&quot;
        },
        &quot;$:/info/node&quot;: {
            &quot;title&quot;: &quot;$:/info/node&quot;,
            &quot;text&quot;: &quot;no&quot;
        }
    }
}</pre>
</div>
<div created="20160317174946245" modified="20160326173852884" title="$:/temp/RenameTags/replace">
<pre>TiddlyWiki</pre>
</div>
<div created="20160317174940916" modified="20160326173849904" title="$:/temp/RenameTags/search">
<pre>Tiddlywiki</pre>
</div>
<div created="20160315235852501" modified="20160326215715702" title="$:/temp/search">
<pre>defi</pre>
</div>
<div title="$:/temp/tmap/currentTiddler">
<pre>Draft of 'Tag Recommendation'</pre>
</div>
<div author="JeremyRuston" core-version="&gt;=5.0.0" dependents="$:/themes/tiddlywiki/vanilla" description="Emphasises individual tiddlers" name="Snow White" plugin-type="theme" title="$:/themes/tiddlywiki/snowwhite" type="application/json" version="5.1.10">
<pre>{
    &quot;tiddlers&quot;: {
        &quot;$:/themes/tiddlywiki/snowwhite/base&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/snowwhite/base&quot;,
            &quot;tags&quot;: &quot;[[$:/tags/Stylesheet]]&quot;,
            &quot;text&quot;: &quot;\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline\n\n.tc-sidebar-header {\n\ttext-shadow: 0 1px 0 &lt;&lt;colour sidebar-foreground-shadow&gt;&gt;;\n}\n\n.tc-tiddler-info {\n\t&lt;&lt;box-shadow \&quot;inset 1px 2px 3px rgba(0,0,0,0.1)\&quot;&gt;&gt;\n}\n\n@media screen {\n\t.tc-tiddler-frame {\n\t\t&lt;&lt;box-shadow \&quot;1px 1px 5px rgba(0, 0, 0, 0.3)\&quot;&gt;&gt;\n\t}\n}\n\n@media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n\t.tc-tiddler-frame {\n\t\t&lt;&lt;box-shadow none&gt;&gt;\n\t}\n}\n\n.tc-page-controls button svg, .tc-tiddler-controls button svg, .tc-topbar button svg {\n\t&lt;&lt;transition \&quot;fill 150ms ease-in-out\&quot;&gt;&gt;\n}\n\n.tc-tiddler-controls button.tc-selected,\n.tc-page-controls button.tc-selected {\n\t&lt;&lt;filter \&quot;drop-shadow(0px -1px 2px rgba(0,0,0,0.25))\&quot;&gt;&gt;\n}\n\n.tc-tiddler-frame input.tc-edit-texteditor {\n\t&lt;&lt;box-shadow \&quot;inset 0 1px 8px rgba(0, 0, 0, 0.15)\&quot;&gt;&gt;\n}\n\n.tc-edit-tags {\n\t&lt;&lt;box-shadow \&quot;inset 0 1px 8px rgba(0, 0, 0, 0.15)\&quot;&gt;&gt;\n}\n\n.tc-tiddler-frame .tc-edit-tags input.tc-edit-texteditor {\n\t&lt;&lt;box-shadow \&quot;none\&quot;&gt;&gt;\n\tborder: none;\n\toutline: none;\n}\n\ncanvas.tc-edit-bitmapeditor  {\n\t&lt;&lt;box-shadow \&quot;2px 2px 5px rgba(0, 0, 0, 0.5)\&quot;&gt;&gt;\n}\n\n.tc-drop-down {\n\tborder-radius: 4px;\n\t&lt;&lt;box-shadow \&quot;2px 2px 10px rgba(0, 0, 0, 0.5)\&quot;&gt;&gt;\n}\n\n.tc-block-dropdown {\n\tborder-radius: 4px;\n\t&lt;&lt;box-shadow \&quot;2px 2px 10px rgba(0, 0, 0, 0.5)\&quot;&gt;&gt;\n}\n\n.tc-modal {\n\tborder-radius: 6px;\n\t&lt;&lt;box-shadow \&quot;0 3px 7px rgba(0,0,0,0.3)\&quot;&gt;&gt;\n}\n\n.tc-modal-footer {\n\tborder-radius: 0 0 6px 6px;\n\t&lt;&lt;box-shadow \&quot;inset 0 1px 0 #fff\&quot;&gt;&gt;;\n}\n\n\n.tc-alert {\n\tborder-radius: 6px;\n\t&lt;&lt;box-shadow \&quot;0 3px 7px rgba(0,0,0,0.6)\&quot;&gt;&gt;\n}\n\n.tc-notification {\n\tborder-radius: 6px;\n\t&lt;&lt;box-shadow \&quot;0 3px 7px rgba(0,0,0,0.3)\&quot;&gt;&gt;\n\ttext-shadow: 0 1px 0 rgba(255,255,255, 0.8);\n}\n\n.tc-sidebar-lists .tc-tab-set .tc-tab-divider {\n\tborder-top: none;\n\theight: 1px;\n\t&lt;&lt;background-linear-gradient \&quot;left, rgba(0,0,0,0.15) 0%, rgba(0,0,0,0.0) 100%\&quot;&gt;&gt;\n}\n\n.tc-more-sidebar .tc-tab-buttons button {\n\t&lt;&lt;background-linear-gradient \&quot;left, rgba(0,0,0,0.01) 0%, rgba(0,0,0,0.1) 100%\&quot;&gt;&gt;\n}\n\n.tc-more-sidebar .tc-tab-buttons button.tc-tab-selected {\n\t&lt;&lt;background-linear-gradient \&quot;left, rgba(0,0,0,0.05) 0%, rgba(255,255,255,0.05) 100%\&quot;&gt;&gt;\n}\n\n.tc-message-box img {\n\t&lt;&lt;box-shadow \&quot;1px 1px 3px rgba(0,0,0,0.5)\&quot;&gt;&gt;\n}\n\n.tc-plugin-info {\n\t&lt;&lt;box-shadow \&quot;1px 1px 3px rgba(0,0,0,0.5)\&quot;&gt;&gt;\n}\n&quot;
        }
    }
}</pre>
</div>
<div author="JeremyRuston" core-version="&gt;=5.0.0" dependents="" description="Basic theme" name="Vanilla" plugin-type="theme" title="$:/themes/tiddlywiki/vanilla" type="application/json" version="5.1.10">
<pre>{
    &quot;tiddlers&quot;: {
        &quot;$:/themes/tiddlywiki/vanilla/themetweaks&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/themetweaks&quot;,
            &quot;tags&quot;: &quot;$:/tags/ControlPanel/Appearance&quot;,
            &quot;caption&quot;: &quot;Theme Tweaks&quot;,
            &quot;text&quot;: &quot;\\define backgroundimage-dropdown()\n&lt;div class=\&quot;tc-drop-down-wrapper\&quot;&gt;\n&lt;$button popup=&lt;&lt;qualify \&quot;$:/state/popup/themetweaks/backgroundimage\&quot;&gt;&gt; class=\&quot;tc-btn-invisible tc-btn-dropdown\&quot;&gt;{{$:/core/images/down-arrow}}&lt;/$button&gt;\n&lt;$reveal state=&lt;&lt;qualify \&quot;$:/state/popup/themetweaks/backgroundimage\&quot;&gt;&gt; type=\&quot;popup\&quot; position=\&quot;belowleft\&quot; text=\&quot;\&quot; default=\&quot;\&quot;&gt;\n&lt;div class=\&quot;tc-drop-down\&quot;&gt;\n&lt;$linkcatcher to=\&quot;$:/themes/tiddlywiki/vanilla/settings/backgroundimage\&quot;&gt;\n&lt;$link to=\&quot;\&quot;&gt;\n(none)\n&lt;/$link&gt;\n&lt;hr&gt;\n&lt;$list filter=\&quot;[all[shadows+tiddlers]is[image]] -[type[application/pdf]] +[sort[title]]\&quot;&gt;\n&lt;$link to={{!!title}}&gt;\n&lt;$transclude/&gt; &lt;$view field=\&quot;title\&quot;/&gt;\n&lt;/$link&gt;\n&lt;/$list&gt;\n&lt;/$linkcatcher&gt;\n&lt;/div&gt;\n&lt;/$reveal&gt;\n&lt;/div&gt;\n\\end\n\n\\define backgroundimageattachment-dropdown()\n&lt;$select tiddler=\&quot;$:/themes/tiddlywiki/vanilla/settings/backgroundimageattachment\&quot; default=\&quot;scroll\&quot;&gt;\n&lt;option value=\&quot;scroll\&quot;&gt;Scroll with tiddlers&lt;/option&gt;\n&lt;option value=\&quot;fixed\&quot;&gt;Fixed to window&lt;/option&gt;\n&lt;/$select&gt;\n\\end\n\n\\define backgroundimagesize-dropdown()\n&lt;$select tiddler=\&quot;$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize\&quot; default=\&quot;scroll\&quot;&gt;\n&lt;option value=\&quot;auto\&quot;&gt;Auto&lt;/option&gt;\n&lt;option value=\&quot;cover\&quot;&gt;Cover&lt;/option&gt;\n&lt;option value=\&quot;contain\&quot;&gt;Contain&lt;/option&gt;\n&lt;/$select&gt;\n\\end\n\nYou can tweak certain aspects of the ''Vanilla'' theme.\n\n! Options\n\n|[[Sidebar layout|$:/themes/tiddlywiki/vanilla/options/sidebarlayout]] |&lt;$select tiddler=\&quot;$:/themes/tiddlywiki/vanilla/options/sidebarlayout\&quot;&gt;&lt;option value=\&quot;fixed-fluid\&quot;&gt;Fixed story, fluid sidebar&lt;/option&gt;&lt;option value=\&quot;fluid-fixed\&quot;&gt;Fluid story, fixed sidebar&lt;/option&gt;&lt;/$select&gt; |\n|[[Sticky titles|$:/themes/tiddlywiki/vanilla/options/stickytitles]]&lt;br&gt;//Causes tiddler titles to \&quot;stick\&quot; to the top of the browser window. Caution: Does not work at all with Chrome, and causes some layout issues in Firefox// |&lt;$select tiddler=\&quot;$:/themes/tiddlywiki/vanilla/options/stickytitles\&quot;&gt;&lt;option value=\&quot;no\&quot;&gt;No&lt;/option&gt;&lt;option value=\&quot;yes\&quot;&gt;Yes&lt;/option&gt;&lt;/$select&gt; |\n\n! Settings\n\n|[[Font family|$:/themes/tiddlywiki/vanilla/settings/fontfamily]] |&lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/settings/fontfamily\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; | |\n|[[Code font family|$:/themes/tiddlywiki/vanilla/settings/codefontfamily]] |&lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/settings/codefontfamily\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; | |\n|[[Page background image|$:/themes/tiddlywiki/vanilla/settings/backgroundimage]] |&lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/settings/backgroundimage\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |&lt;&lt;backgroundimage-dropdown&gt;&gt; |\n|[[Page background image attachment |$:/themes/tiddlywiki/vanilla/settings/backgroundimageattachment]] |&lt;&lt;backgroundimageattachment-dropdown&gt;&gt; | |\n|[[Page background image size |$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize]] |&lt;&lt;backgroundimagesize-dropdown&gt;&gt; | |\n\n! Sizes\n\n|[[Font size|$:/themes/tiddlywiki/vanilla/metrics/fontsize]] |&lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/metrics/fontsize\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|[[Line height|$:/themes/tiddlywiki/vanilla/metrics/lineheight]] |&lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/metrics/lineheight\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|[[Font size for tiddler body|$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize]] |&lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|[[Line height for tiddler body|$:/themes/tiddlywiki/vanilla/metrics/bodylineheight]] |&lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/metrics/bodylineheight\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|[[Story left position|$:/themes/tiddlywiki/vanilla/metrics/storyleft]]&lt;br&gt;//how far the left margin of the story river&lt;br&gt;(tiddler area) is from the left of the page// |^&lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/metrics/storyleft\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|[[Story top position|$:/themes/tiddlywiki/vanilla/metrics/storytop]]&lt;br&gt;//how far the top margin of the story river&lt;br&gt;is from the top of the page// |^&lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/metrics/storytop\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|[[Story right|$:/themes/tiddlywiki/vanilla/metrics/storyright]]&lt;br&gt;//how far the left margin of the sidebar &lt;br&gt;is from the left of the page// |^&lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/metrics/storyright\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|[[Story width|$:/themes/tiddlywiki/vanilla/metrics/storywidth]]&lt;br&gt;//the overall width of the story river// |^&lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/metrics/storywidth\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|[[Tiddler width|$:/themes/tiddlywiki/vanilla/metrics/tiddlerwidth]]&lt;br&gt;//within the story river//&lt;br&gt; |^&lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/metrics/tiddlerwidth\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|[[Sidebar breakpoint|$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint]]&lt;br&gt;//the minimum page width at which the story&lt;br&gt;river and sidebar will appear side by side// |^&lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n|[[Sidebar width|$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth]]&lt;br&gt;//the width of the sidebar in fluid-fixed layout// |^&lt;$edit-text tiddler=\&quot;$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth\&quot; default=\&quot;\&quot; tag=\&quot;input\&quot;/&gt; |\n&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/base&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/base&quot;,
            &quot;tags&quot;: &quot;[[$:/tags/Stylesheet]]&quot;,
            &quot;text&quot;: &quot;\\define custom-background-datauri()\n&lt;$set name=\&quot;background\&quot; value={{$:/themes/tiddlywiki/vanilla/settings/backgroundimage}}&gt;\n&lt;$list filter=\&quot;[&lt;background&gt;is[image]]\&quot;&gt;\n`background: url(`\n&lt;$list filter=\&quot;[&lt;background&gt;!has[_canonical_uri]]\&quot;&gt;\n&lt;$macrocall $name=\&quot;datauri\&quot; title={{$:/themes/tiddlywiki/vanilla/settings/backgroundimage}}/&gt;\n&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;background&gt;has[_canonical_uri]]\&quot;&gt;\n&lt;$view tiddler={{$:/themes/tiddlywiki/vanilla/settings/backgroundimage}} field=\&quot;_canonical_uri\&quot;/&gt;\n&lt;/$list&gt;\n`) center center;`\n`background-attachment: `{{$:/themes/tiddlywiki/vanilla/settings/backgroundimageattachment}}`;\n-webkit-background-size:` {{$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize}}`;\n-moz-background-size:` {{$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize}}`;\n-o-background-size:` {{$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize}}`;\nbackground-size:` {{$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize}}`;`\n&lt;/$list&gt;\n&lt;/$set&gt;\n\\end\n\n\\define if-fluid-fixed(text,hiddenSidebarText)\n&lt;$reveal state=\&quot;$:/themes/tiddlywiki/vanilla/options/sidebarlayout\&quot; type=\&quot;match\&quot; text=\&quot;fluid-fixed\&quot;&gt;\n$text$\n&lt;$reveal state=\&quot;$:/state/sidebar\&quot; type=\&quot;nomatch\&quot; text=\&quot;yes\&quot; default=\&quot;yes\&quot;&gt;\n$hiddenSidebarText$\n&lt;/$reveal&gt;\n&lt;/$reveal&gt;\n\\end\n\n\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline macrocallblock\n\n/*\n** Start with the normalize CSS reset, and then belay some of its effects\n*/\n\n{{$:/themes/tiddlywiki/vanilla/reset}}\n\n*, input[type=\&quot;search\&quot;] {\n\tbox-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\t-webkit-box-sizing: border-box;\n}\n\nhtml button {\n\tline-height: 1.2;\n\tcolor: &lt;&lt;colour button-foreground&gt;&gt;;\n\tbackground: &lt;&lt;colour button-background&gt;&gt;;\n\tborder-color: &lt;&lt;colour button-border&gt;&gt;;\n}\n\n/*\n** Basic element styles\n*/\n\nhtml {\n\tfont-family: {{$:/themes/tiddlywiki/vanilla/settings/fontfamily}};\n\ttext-rendering: optimizeLegibility; /* Enables kerning and ligatures etc. */\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n}\n\nhtml:-webkit-full-screen {\n\tbackground-color: &lt;&lt;colour page-background&gt;&gt;;\n}\n\nbody.tc-body {\n\tfont-size: {{$:/themes/tiddlywiki/vanilla/metrics/fontsize}};\n\tline-height: {{$:/themes/tiddlywiki/vanilla/metrics/lineheight}};\n\tcolor: &lt;&lt;colour foreground&gt;&gt;;\n\tbackground-color: &lt;&lt;colour page-background&gt;&gt;;\n\tfill: &lt;&lt;colour foreground&gt;&gt;;\n\tword-wrap: break-word;\n\t&lt;&lt;custom-background-datauri&gt;&gt;\n}\n\nh1, h2, h3, h4, h5, h6 {\n\tline-height: 1.2;\n\tfont-weight: 300;\n}\n\npre {\n\tdisplay: block;\n\tpadding: 14px;\n\tmargin-top: 1em;\n\tmargin-bottom: 1em;\n\tword-break: normal;\n\tword-wrap: break-word;\n\twhite-space: pre;\n\twhite-space: pre-wrap;\n\tbackground-color: &lt;&lt;colour pre-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour pre-border&gt;&gt;;\n\tpadding: 0 3px 2px;\n\tborder-radius: 3px;\n\tfont-family: {{$:/themes/tiddlywiki/vanilla/settings/codefontfamily}};\n}\n\ncode {\n\tcolor: &lt;&lt;colour code-foreground&gt;&gt;;\n\tbackground-color: &lt;&lt;colour code-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour code-border&gt;&gt;;\n    white-space: pre-wrap;\n\tpadding: 0 3px 2px;\n\tborder-radius: 3px;\n\tfont-family: {{$:/themes/tiddlywiki/vanilla/settings/codefontfamily}};\n}\n\nblockquote {\n\tborder-left: 5px solid &lt;&lt;colour blockquote-bar&gt;&gt;;\n\tmargin-left: 25px;\n\tpadding-left: 10px;\n}\n\ndl dt {\n\tfont-weight: bold;\n\tmargin-top: 6px;\n}\n\ntextarea,\ninput[type=text],\ninput[type=search],\ninput[type=\&quot;\&quot;],\ninput:not([type]) {\n\tcolor: &lt;&lt;colour foreground&gt;&gt;;\n\tbackground: &lt;&lt;colour background&gt;&gt;;\n}\n\n.tc-muted {\n\tcolor: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\nsvg.tc-image-button {\n\tpadding: 0px 1px 1px 0px;\n}\n\nkbd {\n\tdisplay: inline-block;\n\tpadding: 3px 5px;\n\tfont-size: 0.8em;\n\tline-height: 1.2;\n\tcolor: &lt;&lt;colour foreground&gt;&gt;;\n\tvertical-align: middle;\n\tbackground-color: &lt;&lt;colour background&gt;&gt;;\n\tborder: solid 1px &lt;&lt;colour muted-foreground&gt;&gt;;\n\tborder-bottom-color: &lt;&lt;colour muted-foreground&gt;&gt;;\n\tborder-radius: 3px;\n\tbox-shadow: inset 0 -1px 0 &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n/*\nMarkdown likes putting code elements inside pre elements\n*/\npre &gt; code {\n\tpadding: 0;\n\tborder: none;\n\tbackground-color: inherit;\n\tcolor: inherit;\n}\n\ntable {\n\tborder: 1px solid &lt;&lt;colour table-border&gt;&gt;;\n\twidth: auto;\n\tmax-width: 100%;\n\tcaption-side: bottom;\n\tmargin-top: 1em;\n\tmargin-bottom: 1em;\n}\n\ntable th, table td {\n\tpadding: 0 7px 0 7px;\n\tborder-top: 1px solid &lt;&lt;colour table-border&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour table-border&gt;&gt;;\n}\n\ntable thead tr td, table th {\n\tbackground-color: &lt;&lt;colour table-header-background&gt;&gt;;\n\tfont-weight: bold;\n}\n\ntable tfoot tr td {\n\tbackground-color: &lt;&lt;colour table-footer-background&gt;&gt;;\n}\n\n.tc-csv-table {\n\twhite-space: nowrap;\n}\n\n.tc-tiddler-frame img,\n.tc-tiddler-frame svg,\n.tc-tiddler-frame canvas,\n.tc-tiddler-frame embed,\n.tc-tiddler-frame iframe {\n\tmax-width: 100%;\n}\n\n.tc-tiddler-body &gt; embed,\n.tc-tiddler-body &gt; iframe {\n\twidth: 100%;\n\theight: 600px;\n}\n\n/*\n** Links\n*/\n\nbutton.tc-tiddlylink,\na.tc-tiddlylink {\n\ttext-decoration: none;\n\tfont-weight: normal;\n\tcolor: &lt;&lt;colour tiddler-link-foreground&gt;&gt;;\n\t-webkit-user-select: inherit; /* Otherwise the draggable attribute makes links impossible to select */\n}\n\n.tc-sidebar-lists a.tc-tiddlylink {\n\tcolor: &lt;&lt;colour sidebar-tiddler-link-foreground&gt;&gt;;\n}\n\n.tc-sidebar-lists a.tc-tiddlylink:hover {\n\tcolor: &lt;&lt;colour sidebar-tiddler-link-foreground-hover&gt;&gt;;\n}\n\nbutton.tc-tiddlylink:hover,\na.tc-tiddlylink:hover {\n\ttext-decoration: underline;\n}\n\na.tc-tiddlylink-resolves {\n}\n\na.tc-tiddlylink-shadow {\n\tfont-weight: bold;\n}\n\na.tc-tiddlylink-shadow.tc-tiddlylink-resolves {\n\tfont-weight: normal;\n}\n\na.tc-tiddlylink-missing {\n\tfont-style: italic;\n}\n\na.tc-tiddlylink-external {\n\ttext-decoration: underline;\n\tcolor: &lt;&lt;colour external-link-foreground&gt;&gt;;\n\tbackground-color: &lt;&lt;colour external-link-background&gt;&gt;;\n}\n\na.tc-tiddlylink-external:visited {\n\tcolor: &lt;&lt;colour external-link-foreground-visited&gt;&gt;;\n\tbackground-color: &lt;&lt;colour external-link-background-visited&gt;&gt;;\n}\n\na.tc-tiddlylink-external:hover {\n\tcolor: &lt;&lt;colour external-link-foreground-hover&gt;&gt;;\n\tbackground-color: &lt;&lt;colour external-link-background-hover&gt;&gt;;\n}\n\n/*\n** Drag and drop styles\n*/\n\n.tc-tiddler-dragger {\n\tposition: relative;\n\tz-index: -10000;\n}\n\n.tc-tiddler-dragger-inner {\n\tposition: absolute;\n\tdisplay: inline-block;\n\tpadding: 8px 20px;\n\tfont-size: 16.9px;\n\tfont-weight: bold;\n\tline-height: 20px;\n\tcolor: &lt;&lt;colour dragger-foreground&gt;&gt;;\n\ttext-shadow: 0 1px 0 rgba(0, 0, 0, 1);\n\twhite-space: nowrap;\n\tvertical-align: baseline;\n\tbackground-color: &lt;&lt;colour dragger-background&gt;&gt;;\n\tborder-radius: 20px;\n}\n\n.tc-tiddler-dragger-cover {\n\tposition: absolute;\n\tbackground-color: &lt;&lt;colour page-background&gt;&gt;;\n}\n\n.tc-dropzone {\n\tposition: relative;\n}\n\n.tc-dropzone.tc-dragover:before {\n\tz-index: 10000;\n\tdisplay: block;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbackground: &lt;&lt;colour dropzone-background&gt;&gt;;\n\ttext-align: center;\n\tcontent: \&quot;&lt;&lt;lingo DropMessage&gt;&gt;\&quot;;\n}\n\n/*\n** Plugin reload warning\n*/\n\n.tc-plugin-reload-warning {\n\tz-index: 1000;\n\tdisplay: block;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbackground: &lt;&lt;colour alert-background&gt;&gt;;\n\ttext-align: center;\n}\n\n/*\n** Buttons\n*/\n\nbutton svg, button img {\n\tvertical-align: middle;\n}\n\n.tc-btn-invisible {\n\tpadding: 0;\n\tmargin: 0;\n\tbackground: none;\n\tborder: none;\n}\n\n.tc-btn-boxed {\n\tfont-size: 0.6em;\n\tpadding: 0.2em;\n\tmargin: 1px;\n\tbackground: none;\n\tborder: 1px solid &lt;&lt;colour tiddler-controls-foreground&gt;&gt;;\n\tborder-radius: 0.25em;\n}\n\nhtml body.tc-body .tc-btn-boxed svg {\n\tfont-size: 1.6666em;\n}\n\n.tc-btn-boxed:hover {\n\tbackground: &lt;&lt;colour muted-foreground&gt;&gt;;\n\tcolor: &lt;&lt;colour background&gt;&gt;;\n}\n\nhtml body.tc-body .tc-btn-boxed:hover svg {\n\tfill: &lt;&lt;colour background&gt;&gt;;\n}\n\n.tc-btn-rounded {\n\tfont-size: 0.5em;\n\tline-height: 2;\n\tpadding: 0em 0.3em 0.2em 0.4em;\n\tmargin: 1px;\n\tborder: 1px solid &lt;&lt;colour muted-foreground&gt;&gt;;\n\tbackground: &lt;&lt;colour muted-foreground&gt;&gt;;\n\tcolor: &lt;&lt;colour background&gt;&gt;;\n\tborder-radius: 2em;\n}\n\nhtml body.tc-body .tc-btn-rounded svg {\n\tfont-size: 1.6666em;\n\tfill: &lt;&lt;colour background&gt;&gt;;\n}\n\n.tc-btn-rounded:hover {\n\tborder: 1px solid &lt;&lt;colour muted-foreground&gt;&gt;;\n\tbackground: &lt;&lt;colour background&gt;&gt;;\n\tcolor: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\nhtml body.tc-body .tc-btn-rounded:hover svg {\n\tfill: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tc-btn-icon svg {\n\theight: 1em;\n\twidth: 1em;\n\tfill: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tc-btn-text {\n\tpadding: 0;\n\tmargin: 0;\n}\n\n.tc-btn-big-green {\n\tdisplay: inline-block;\n\tpadding: 8px;\n\tmargin: 4px 8px 4px 8px;\n\tbackground: &lt;&lt;colour download-background&gt;&gt;;\n\tcolor: &lt;&lt;colour download-foreground&gt;&gt;;\n\tfill: &lt;&lt;colour download-foreground&gt;&gt;;\n\tborder: none;\n\tfont-size: 1.2em;\n\tline-height: 1.4em;\n\ttext-decoration: none;\n}\n\n.tc-btn-big-green svg,\n.tc-btn-big-green img {\n\theight: 2em;\n\twidth: 2em;\n\tvertical-align: middle;\n\tfill: &lt;&lt;colour download-foreground&gt;&gt;;\n}\n\n.tc-sidebar-lists input {\n\tcolor: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n.tc-sidebar-lists button {\n\tcolor: &lt;&lt;colour sidebar-button-foreground&gt;&gt;;\n\tfill: &lt;&lt;colour sidebar-button-foreground&gt;&gt;;\n}\n\n.tc-sidebar-lists button.tc-btn-mini {\n\tcolor: &lt;&lt;colour sidebar-muted-foreground&gt;&gt;;\n}\n\n.tc-sidebar-lists button.tc-btn-mini:hover {\n\tcolor: &lt;&lt;colour sidebar-muted-foreground-hover&gt;&gt;;\n}\n\nbutton svg.tc-image-button, button .tc-image-button img {\n\theight: 1em;\n\twidth: 1em;\n}\n\n.tc-unfold-banner {\n\tposition: absolute;\n\tpadding: 0;\n\tmargin: 0;\n\tbackground: none;\n\tborder: none;\n\twidth: 100%;\n    width: calc(100% + 2px);\n    margin-left: -43px;\n\ttext-align: center;\n\tborder-top: 2px solid &lt;&lt;colour tiddler-info-background&gt;&gt;;\n\tmargin-top: 4px;\n}\n\n.tc-unfold-banner:hover {\n\tbackground: &lt;&lt;colour tiddler-info-background&gt;&gt;;\n\tborder-top: 2px solid &lt;&lt;colour tiddler-info-border&gt;&gt;;\n}\n\n.tc-unfold-banner svg, .tc-fold-banner svg {\n\theight: 0.75em;\n\tfill: &lt;&lt;colour tiddler-controls-foreground&gt;&gt;;\n}\n\n.tc-unfold-banner:hover svg, .tc-fold-banner:hover svg {\n\tfill: &lt;&lt;colour tiddler-controls-foreground-hover&gt;&gt;;\n}\n\n.tc-fold-banner {\n\tposition: absolute;\n\tpadding: 0;\n\tmargin: 0;\n\tbackground: none;\n\tborder: none;\n\twidth: 23px;\n\ttext-align: center;\n\tmargin-left: -35px;\n    top: 6px;\n    bottom: 6px;\n}\n\n.tc-fold-banner:hover {\n\tbackground: &lt;&lt;colour tiddler-info-background&gt;&gt;;\n}\n\n@media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n\t\n\t.tc-unfold-banner {\n\t\tposition: static;\n\t    width: calc(100% + 59px);\n    }\n\n\t.tc-fold-banner {\n\t\twidth: 16px;\n\t\tmargin-left: -16px;\n\t    font-size: 0.75em;\n\t}\n\n}\n\n/*\n** Tags and missing tiddlers\n*/\n\n.tc-tag-list-item {\n\tposition: relative;\n\tdisplay: inline-block;\n\tmargin-right: 7px;\n}\n\n.tc-tags-wrapper {\n\tmargin: 4px 0 14px 0;\n}\n\n.tc-missing-tiddler-label {\n\tfont-style: italic;\n\tfont-weight: normal;\n\tdisplay: inline-block;\n\tfont-size: 11.844px;\n\tline-height: 14px;\n\twhite-space: nowrap;\n\tvertical-align: baseline;\n}\n\nbutton.tc-tag-label, span.tc-tag-label {\n\tdisplay: inline-block;\n\tpadding: 0.16em 0.7em;\n\tfont-size: 0.9em;\n\tfont-weight: 300;\n\tline-height: 1.2em;\n\tcolor: &lt;&lt;colour tag-foreground&gt;&gt;;\n\twhite-space: nowrap;\n\tvertical-align: baseline;\n\tbackground-color: &lt;&lt;colour tag-background&gt;&gt;;\n\tborder-radius: 1em;\n}\n\n.tc-untagged-separator {\n\twidth: 10em;\n\tleft: 0;\n\tmargin-left: 0;\n\tborder: 0;\n\theight: 1px;\n\tbackground: &lt;&lt;colour tab-divider&gt;&gt;;\n}\n\nbutton.tc-untagged-label {\n\tbackground-color: &lt;&lt;colour untagged-background&gt;&gt;;\n}\n\n.tc-tag-label svg, .tc-tag-label img {\n\theight: 1em;\n\twidth: 1em;\n\tfill: &lt;&lt;colour tag-foreground&gt;&gt;;\n}\n\n.tc-tag-manager-table .tc-tag-label {\n\twhite-space: normal;\n}\n\n.tc-tag-manager-tag {\n\twidth: 100%;\n}\n\n/*\n** Page layout\n*/\n\n.tc-topbar {\n\tposition: fixed;\n\tz-index: 1200;\n}\n\n.tc-topbar-left {\n\tleft: 29px;\n\ttop: 5px;\n}\n\n.tc-topbar-right {\n\ttop: 5px;\n\tright: 29px;\n}\n\n.tc-topbar button {\n\tpadding: 8px;\n}\n\n.tc-topbar svg {\n\tfill: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tc-topbar button:hover svg {\n\tfill: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n.tc-sidebar-header {\n\tcolor: &lt;&lt;colour sidebar-foreground&gt;&gt;;\n\tfill: &lt;&lt;colour sidebar-foreground&gt;&gt;;\n}\n\n.tc-sidebar-header .tc-title a.tc-tiddlylink-resolves {\n\tfont-weight: 300;\n}\n\n.tc-sidebar-header .tc-sidebar-lists p {\n\tmargin-top: 3px;\n\tmargin-bottom: 3px;\n}\n\n.tc-sidebar-header .tc-missing-tiddler-label {\n\tcolor: &lt;&lt;colour sidebar-foreground&gt;&gt;;\n}\n\n.tc-advanced-search input {\n\twidth: 60%;\n}\n\n.tc-search a svg {\n\twidth: 1.2em;\n\theight: 1.2em;\n\tvertical-align: middle;\n}\n\n.tc-page-controls {\n\tmargin-top: 14px;\n\tfont-size: 1.5em;\n}\n\n.tc-page-controls button {\n\tmargin-right: 0.5em;\n}\n\n.tc-page-controls a.tc-tiddlylink:hover {\n\ttext-decoration: none;\n}\n\n.tc-page-controls img {\n\twidth: 1em;\n}\n\n.tc-page-controls svg {\n\tfill: &lt;&lt;colour sidebar-controls-foreground&gt;&gt;;\n}\n\n.tc-page-controls button:hover svg, .tc-page-controls a:hover svg {\n\tfill: &lt;&lt;colour sidebar-controls-foreground-hover&gt;&gt;;\n}\n\n.tc-menu-list-item {\n\twhite-space: nowrap;\n}\n\n.tc-menu-list-count {\n\tfont-weight: bold;\n}\n\n.tc-menu-list-subitem {\n\tpadding-left: 7px;\n}\n\n.tc-story-river {\n\tposition: relative;\n}\n\n@media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n\n\t.tc-sidebar-header {\n\t\tpadding: 14px;\n\t\tmin-height: 32px;\n\t\tmargin-top: {{$:/themes/tiddlywiki/vanilla/metrics/storytop}};\n\t}\n\n\t.tc-story-river {\n\t\tposition: relative;\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n\n\t.tc-message-box {\n\t\tmargin: 21px -21px 21px -21px;\n\t}\n\n\t.tc-sidebar-scrollable {\n\t\tposition: fixed;\n\t\ttop: {{$:/themes/tiddlywiki/vanilla/metrics/storytop}};\n\t\tleft: {{$:/themes/tiddlywiki/vanilla/metrics/storyright}};\n\t\tbottom: 0;\n\t\tright: 0;\n\t\toverflow-y: auto;\n\t\toverflow-x: auto;\n\t\t-webkit-overflow-scrolling: touch;\n\t\tmargin: 0 0 0 -42px;\n\t\tpadding: 71px 0 28px 42px;\n\t}\n\n\t.tc-story-river {\n\t\tposition: relative;\n\t\tleft: {{$:/themes/tiddlywiki/vanilla/metrics/storyleft}};\n\t\ttop: {{$:/themes/tiddlywiki/vanilla/metrics/storytop}};\n\t\twidth: {{$:/themes/tiddlywiki/vanilla/metrics/storywidth}};\n\t\tpadding: 42px 42px 42px 42px;\n\t}\n\n&lt;&lt;if-no-sidebar \&quot;\n\n\t.tc-story-river {\n\t\twidth: auto;\n\t}\n\n\&quot;&gt;&gt;\n\n}\n\n@media print {\n\n\tbody.tc-body {\n\t\tbackground-color: transparent;\n\t}\n\n\t.tc-sidebar-header, .tc-topbar {\n\t\tdisplay: none;\n\t}\n\n\t.tc-story-river {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\n\t.tc-story-river .tc-tiddler-frame {\n\t\tmargin: 0;\n\t\tborder: none;\n\t\tpadding: 28px;\n\t}\n}\n\n/*\n** Tiddler styles\n*/\n\n.tc-tiddler-frame {\n\tposition: relative;\n\tmargin-bottom: 28px;\n\tbackground-color: &lt;&lt;colour tiddler-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour tiddler-border&gt;&gt;;\n}\n\n{{$:/themes/tiddlywiki/vanilla/sticky}}\n\n.tc-tiddler-info {\n\tpadding: 14px 42px 14px 42px;\n\tbackground-color: &lt;&lt;colour tiddler-info-background&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour tiddler-info-border&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tiddler-info-border&gt;&gt;;\n}\n\n.tc-tiddler-info p {\n\tmargin-top: 3px;\n\tmargin-bottom: 3px;\n}\n\n.tc-tiddler-info .tc-tab-buttons button.tc-tab-selected {\n\tbackground-color: &lt;&lt;colour tiddler-info-tab-background&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tiddler-info-tab-background&gt;&gt;;\n}\n\n.tc-view-field-table {\n\twidth: 100%;\n}\n\n.tc-view-field-name {\n\twidth: 1%; /* Makes this column be as narrow as possible */\n\ttext-align: right;\n\tfont-style: italic;\n\tfont-weight: 200;\n}\n\n.tc-view-field-value {\n}\n\n@media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n\t.tc-tiddler-frame {\n\t\tpadding: 14px 14px 14px 14px;\n\t}\n\n\t.tc-tiddler-info {\n\t\tmargin: 0 -14px 0 -14px;\n\t}\n}\n\n@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n\t.tc-tiddler-frame {\n\t\tpadding: 28px 42px 42px 42px;\n\t\twidth: {{$:/themes/tiddlywiki/vanilla/metrics/tiddlerwidth}};\n\t\tborder-radius: 2px;\n\t}\n\n&lt;&lt;if-no-sidebar \&quot;\n\n\t.tc-tiddler-frame {\n\t\twidth: 100%;\n\t}\n\n\&quot;&gt;&gt;\n\n\t.tc-tiddler-info {\n\t\tmargin: 0 -42px 0 -42px;\n\t}\n}\n\n.tc-site-title,\n.tc-titlebar {\n\tfont-weight: 300;\n\tfont-size: 2.35em;\n\tline-height: 1.2em;\n\tcolor: &lt;&lt;colour tiddler-title-foreground&gt;&gt;;\n\tmargin: 0;\n}\n\n.tc-site-title {\n\tcolor: &lt;&lt;colour site-title-foreground&gt;&gt;;\n}\n\n.tc-tiddler-title-icon {\n\tvertical-align: middle;\n}\n\n.tc-system-title-prefix {\n\tcolor: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tc-titlebar h2 {\n\tfont-size: 1em;\n\tdisplay: inline;\n}\n\n.tc-titlebar img {\n\theight: 1em;\n}\n\n.tc-subtitle {\n\tfont-size: 0.9em;\n\tcolor: &lt;&lt;colour tiddler-subtitle-foreground&gt;&gt;;\n\tfont-weight: 300;\n}\n\n.tc-tiddler-missing .tc-title {\n  font-style: italic;\n  font-weight: normal;\n}\n\n.tc-tiddler-frame .tc-tiddler-controls {\n\tfloat: right;\n}\n\n.tc-tiddler-controls .tc-drop-down {\n\tfont-size: 0.6em;\n}\n\n.tc-tiddler-controls .tc-drop-down .tc-drop-down {\n\tfont-size: 1em;\n}\n\n.tc-tiddler-controls &gt; span &gt; button {\n\tvertical-align: baseline;\n\tmargin-left:5px;\n}\n\n.tc-tiddler-controls button svg, .tc-tiddler-controls button img,\n.tc-search button svg, .tc-search a svg {\n\theight: 0.75em;\n\tfill: &lt;&lt;colour tiddler-controls-foreground&gt;&gt;;\n}\n\n.tc-tiddler-controls button.tc-selected svg,\n.tc-page-controls button.tc-selected svg  {\n\tfill: &lt;&lt;colour tiddler-controls-foreground-selected&gt;&gt;;\n}\n\n.tc-tiddler-controls button.tc-btn-invisible:hover svg,\n.tc-search button:hover svg, .tc-search a:hover svg {\n\tfill: &lt;&lt;colour tiddler-controls-foreground-hover&gt;&gt;;\n}\n\n@media print {\n\t.tc-tiddler-controls {\n\t\tdisplay: none;\n\t}\n}\n\n.tc-tiddler-help { /* Help prompts within tiddler template */\n\tcolor: &lt;&lt;colour muted-foreground&gt;&gt;;\n\tmargin-top: 14px;\n}\n\n.tc-tiddler-help a.tc-tiddlylink {\n\tcolor: &lt;&lt;colour very-muted-foreground&gt;&gt;;\n}\n\n.tc-tiddler-frame input.tc-edit-texteditor, .tc-tiddler-frame textarea.tc-edit-texteditor {\n\twidth: 100%;\n\tpadding: 3px 3px 3px 3px;\n\tborder: 1px solid &lt;&lt;colour tiddler-editor-border&gt;&gt;;\n\tline-height: 1.3em;\n\t-webkit-appearance: none;\n\tmargin: 4px 0 4px 0;\n}\n\n.tc-tiddler-frame .tc-binary-warning {\n\twidth: 100%;\n\theight: 5em;\n\ttext-align: center;\n\tpadding: 3em 3em 6em 3em;\n\tbackground: &lt;&lt;colour alert-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour alert-border&gt;&gt;;\n}\n\n.tc-tiddler-frame input.tc-edit-texteditor {\n\tbackground-color: &lt;&lt;colour tiddler-editor-background&gt;&gt;;\n}\n\ncanvas.tc-edit-bitmapeditor  {\n\tborder: 6px solid &lt;&lt;colour tiddler-editor-border-image&gt;&gt;;\n\tcursor: crosshair;\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tmargin-top: 6px;\n\tmargin-bottom: 6px;\n}\n\n.tc-edit-bitmapeditor-width {\n\tdisplay: block;\n}\n\n.tc-edit-bitmapeditor-height {\n\tdisplay: block;\n}\n\n.tc-tiddler-body {\n\tclear: both;\n}\n\n.tc-tiddler-frame .tc-tiddler-body {\n\tfont-size: {{$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize}};\n\tline-height: {{$:/themes/tiddlywiki/vanilla/metrics/bodylineheight}};\n}\n\n.tc-titlebar, .tc-tiddler-edit-title {\n\toverflow: hidden; /* https://github.com/Jermolene/TiddlyWiki5/issues/282 */\n}\n\nhtml body.tc-body.tc-single-tiddler-window {\n\tmargin: 1em;\n\tbackground: &lt;&lt;colour tiddler-background&gt;&gt;;\n}\n\n.tc-single-tiddler-window img,\n.tc-single-tiddler-window svg,\n.tc-single-tiddler-window canvas,\n.tc-single-tiddler-window embed,\n.tc-single-tiddler-window iframe {\n\tmax-width: 100%;\n}\n\n/*\n** Adjustments for fluid-fixed mode\n*/\n\n@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n\n&lt;&lt;if-fluid-fixed text:\&quot;\&quot;\&quot;\n\n\t.tc-story-river {\n\t\tpadding-right: 0;\n\t\tposition: relative;\n\t\twidth: auto;\n\t\tleft: 0;\n\t\tmargin-left: {{$:/themes/tiddlywiki/vanilla/metrics/storyleft}};\n\t\tmargin-right: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth}};\n\t}\n\n\t.tc-tiddler-frame {\n\t\twidth: 100%;\n\t}\n\n\t.tc-sidebar-scrollable {\n\t\tleft: auto;\n\t\tbottom: 0;\n\t\tright: 0;\n\t\twidth: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth}};\n\t}\n\n\tbody.tc-body .tc-storyview-zoomin-tiddler {\n\t\twidth: 100%;\n\t\twidth: calc(100% - 42px);\n\t}\n\n\&quot;\&quot;\&quot; hiddenSidebarText:\&quot;\&quot;\&quot;\n\n\t.tc-story-river {\n\t\tpadding-right: 3em;\n\t\tmargin-right: 0;\n\t}\n\n\tbody.tc-body .tc-storyview-zoomin-tiddler {\n\t\twidth: 100%;\n\t\twidth: calc(100% - 84px);\n\t}\n\n\&quot;\&quot;\&quot;&gt;&gt;\n\n}\n\n/*\n** Toolbar buttons\n*/\n\n.tc-page-controls svg.tc-image-new-button {\n  fill: &lt;&lt;colour toolbar-new-button&gt;&gt;;\n}\n\n.tc-page-controls svg.tc-image-options-button {\n  fill: &lt;&lt;colour toolbar-options-button&gt;&gt;;\n}\n\n.tc-page-controls svg.tc-image-save-button {\n  fill: &lt;&lt;colour toolbar-save-button&gt;&gt;;\n}\n\n.tc-tiddler-controls button svg.tc-image-info-button {\n  fill: &lt;&lt;colour toolbar-info-button&gt;&gt;;\n}\n\n.tc-tiddler-controls button svg.tc-image-edit-button {\n  fill: &lt;&lt;colour toolbar-edit-button&gt;&gt;;\n}\n\n.tc-tiddler-controls button svg.tc-image-close-button {\n  fill: &lt;&lt;colour toolbar-close-button&gt;&gt;;\n}\n\n.tc-tiddler-controls button svg.tc-image-delete-button {\n  fill: &lt;&lt;colour toolbar-delete-button&gt;&gt;;\n}\n\n.tc-tiddler-controls button svg.tc-image-cancel-button {\n  fill: &lt;&lt;colour toolbar-cancel-button&gt;&gt;;\n}\n\n.tc-tiddler-controls button svg.tc-image-done-button {\n  fill: &lt;&lt;colour toolbar-done-button&gt;&gt;;\n}\n\n/*\n** Tiddler edit mode\n*/\n\n.tc-tiddler-edit-frame em.tc-edit {\n\tcolor: &lt;&lt;colour muted-foreground&gt;&gt;;\n\tfont-style: normal;\n}\n\n.tc-edit-type-dropdown a.tc-tiddlylink-missing {\n\tfont-style: normal;\n}\n\n.tc-edit-tags {\n\tborder: 1px solid &lt;&lt;colour tiddler-editor-border&gt;&gt;;\n\tpadding: 4px 8px 4px 8px;\n}\n\n.tc-edit-add-tag {\n\tdisplay: inline-block;\n}\n\n.tc-edit-add-tag .tc-add-tag-name input {\n\twidth: 50%;\n}\n\n.tc-edit-tags .tc-tag-label {\n\tdisplay: inline-block;\n}\n\n.tc-edit-tags-list {\n\tmargin: 14px 0 14px 0;\n}\n\n.tc-remove-tag-button {\n\tpadding-left: 4px;\n}\n\n.tc-tiddler-preview {\n\toverflow: auto;\n}\n\n.tc-tiddler-preview-preview {\n\tfloat: right;\n\twidth: 48%;\n\tborder: 1px solid &lt;&lt;colour tiddler-editor-border&gt;&gt;;\n\tmargin: 4px 3px 3px 3px;\n\tpadding: 3px 3px 3px 3px;\n}\n\n.tc-tiddler-preview-edit {\n\twidth: 48%;\n}\n\n.tc-edit-fields {\n\twidth: 100%;\n}\n\n\n.tc-edit-fields table, .tc-edit-fields tr, .tc-edit-fields td {\n\tborder: none;\n\tpadding: 4px;\n}\n\n.tc-edit-fields &gt; tbody &gt; .tc-edit-field:nth-child(odd) {\n\tbackground-color: &lt;&lt;colour tiddler-editor-fields-odd&gt;&gt;;\n}\n\n.tc-edit-fields &gt; tbody &gt; .tc-edit-field:nth-child(even) {\n\tbackground-color: &lt;&lt;colour tiddler-editor-fields-even&gt;&gt;;\n}\n\n.tc-edit-field-name {\n\ttext-align: right;\n}\n\n.tc-edit-field-value input {\n\twidth: 100%;\n}\n\n.tc-edit-field-remove {\n}\n\n.tc-edit-field-remove svg {\n\theight: 1em;\n\twidth: 1em;\n\tfill: &lt;&lt;colour muted-foreground&gt;&gt;;\n\tvertical-align: middle;\n}\n\n.tc-edit-field-add-name {\n\tdisplay: inline-block;\n\twidth: 15%;\n}\n\n.tc-edit-field-add-value {\n\tdisplay: inline-block;\n\twidth: 40%;\n}\n\n.tc-edit-field-add-button {\n\tdisplay: inline-block;\n\twidth: 10%;\n}\n\n/*\n** Storyview Classes\n*/\n\n.tc-storyview-zoomin-tiddler {\n\tposition: absolute;\n\tdisplay: block;\n\twidth: 100%;\n}\n\n@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n\n\t.tc-storyview-zoomin-tiddler {\n\t\twidth: calc(100% - 84px);\n\t}\n\n}\n\n/*\n** Dropdowns\n*/\n\n.tc-btn-dropdown {\n\ttext-align: left;\n}\n\n.tc-btn-dropdown svg, .tc-btn-dropdown img {\n\theight: 1em;\n\twidth: 1em;\n\tfill: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tc-drop-down-wrapper {\n\tposition: relative;\n}\n\n.tc-drop-down {\n\tmin-width: 380px;\n\tborder: 1px solid &lt;&lt;colour dropdown-border&gt;&gt;;\n\tbackground-color: &lt;&lt;colour dropdown-background&gt;&gt;;\n\tpadding: 7px 0 7px 0;\n\tmargin: 4px 0 0 0;\n\twhite-space: nowrap;\n\ttext-shadow: none;\n\tline-height: 1.4;\n}\n\n.tc-drop-down .tc-drop-down {\n\tmargin-left: 14px;\n}\n\n.tc-drop-down button svg, .tc-drop-down a svg  {\n\tfill: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n.tc-drop-down button.tc-btn-invisible:hover svg {\n\tfill: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n.tc-drop-down p {\n\tpadding: 0 14px 0 14px;\n}\n\n.tc-drop-down svg {\n\twidth: 1em;\n\theight: 1em;\n}\n\n.tc-drop-down img {\n\twidth: 1em;\n}\n\n.tc-drop-down-language-chooser img {\n\twidth: 2em;\n\tvertical-align: baseline;\n}\n\n.tc-drop-down a, .tc-drop-down button {\n\tdisplay: block;\n\tpadding: 0 14px 0 14px;\n\twidth: 100%;\n\ttext-align: left;\n\tcolor: &lt;&lt;colour foreground&gt;&gt;;\n\tline-height: 1.4;\n}\n\n.tc-drop-down .tc-prompt {\n\tpadding: 0 14px;\t\n}\n\n.tc-drop-down .tc-chooser {\n\tborder: none;\n}\n\n.tc-drop-down .tc-chooser .tc-swatches-horiz {\n\tfont-size: 0.4em;\n\tpadding-left: 1.2em;\n}\n\n.tc-drop-down .tc-file-input-wrapper {\n\twidth: 100%;\n}\n\n.tc-drop-down .tc-file-input-wrapper button {\n\tcolor: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n.tc-drop-down a:hover, .tc-drop-down button:hover, .tc-drop-down .tc-file-input-wrapper:hover button {\n\tcolor: &lt;&lt;colour tiddler-link-background&gt;&gt;;\n\tbackground-color: &lt;&lt;colour tiddler-link-foreground&gt;&gt;;\n\ttext-decoration: none;\n}\n\n.tc-drop-down .tc-tab-buttons button {\n\tbackground-color: &lt;&lt;colour dropdown-tab-background&gt;&gt;;\n}\n\n.tc-drop-down .tc-tab-buttons button.tc-tab-selected {\n\tbackground-color: &lt;&lt;colour dropdown-tab-background-selected&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour dropdown-tab-background-selected&gt;&gt;;\n}\n\n.tc-drop-down-bullet {\n\tdisplay: inline-block;\n\twidth: 0.5em;\n}\n\n.tc-drop-down .tc-tab-contents a {\n\tpadding: 0 0.5em 0 0.5em;\n}\n\n.tc-block-dropdown-wrapper {\n\tposition: relative;\n}\n\n.tc-block-dropdown {\n\tposition: absolute;\n\tmin-width: 220px;\n\tborder: 1px solid &lt;&lt;colour dropdown-border&gt;&gt;;\n\tbackground-color: &lt;&lt;colour dropdown-background&gt;&gt;;\n\tpadding: 7px 0;\n\tmargin: 4px 0 0 0;\n\twhite-space: nowrap;\n\tz-index: 1000;\n\ttext-shadow: none;\n}\n\n.tc-block-dropdown.tc-search-drop-down {\n\tmargin-left: -12px;\n}\n\n.tc-block-dropdown a {\n\tdisplay: block;\n\tpadding: 4px 14px 4px 14px;\n}\n\n.tc-block-dropdown.tc-search-drop-down a {\n\tdisplay: block;\n\tpadding: 0px 10px 0px 10px;\n}\n\n.tc-drop-down .tc-dropdown-item,\n.tc-block-dropdown .tc-dropdown-item {\n\tpadding: 4px 14px 4px 7px;\n\tcolor: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tc-block-dropdown a:hover {\n\tcolor: &lt;&lt;colour tiddler-link-background&gt;&gt;;\n\tbackground-color: &lt;&lt;colour tiddler-link-foreground&gt;&gt;;\n\ttext-decoration: none;\n}\n\n.tc-search-results {\n    padding: 0 7px 0 7px;\n}\n\n/*\n** Modals\n*/\n\n.tc-modal-wrapper {\n\tposition: fixed;\n\toverflow: auto;\n\toverflow-y: scroll;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n}\n\n.tc-modal-backdrop {\n\tposition: fixed;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n\tz-index: 1000;\n\tbackground-color: &lt;&lt;colour modal-backdrop&gt;&gt;;\n}\n\n.tc-modal {\n\tz-index: 1100;\n\tbackground-color: &lt;&lt;colour modal-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour modal-border&gt;&gt;;\n}\n\n@media (max-width: 55em) {\n\t.tc-modal {\n\t\tposition: fixed;\n\t\ttop: 1em;\n\t\tleft: 1em;\n\t\tright: 1em;\n\t}\n\n\t.tc-modal-body {\n\t\toverflow-y: auto;\n\t\tmax-height: 400px;\n\t\tmax-height: 60vh;\n\t}\n}\n\n@media (min-width: 55em) {\n\t.tc-modal {\n\t\tposition: fixed;\n\t\ttop: 2em;\n\t\tleft: 25%;\n\t\twidth: 50%;\n\t}\n\n\t.tc-modal-body {\n\t\toverflow-y: auto;\n\t\tmax-height: 400px;\n\t\tmax-height: 60vh;\n\t}\n}\n\n.tc-modal-header {\n\tpadding: 9px 15px;\n\tborder-bottom: 1px solid &lt;&lt;colour modal-header-border&gt;&gt;;\n}\n\n.tc-modal-header h3 {\n\tmargin: 0;\n\tline-height: 30px;\n}\n\n.tc-modal-header img, .tc-modal-header svg {\n\twidth: 1em;\n\theight: 1em;\n}\n\n.tc-modal-body {\n\tpadding: 15px;\n}\n\n.tc-modal-footer {\n\tpadding: 14px 15px 15px;\n\tmargin-bottom: 0;\n\ttext-align: right;\n\tbackground-color: &lt;&lt;colour modal-footer-background&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour modal-footer-border&gt;&gt;;\n}\n\n/*\n** Notifications\n*/\n\n.tc-notification {\n\tposition: fixed;\n\ttop: 14px;\n\tright: 42px;\n\tz-index: 1300;\n\tmax-width: 280px;\n\tpadding: 0 14px 0 14px;\n\tbackground-color: &lt;&lt;colour notification-background&gt;&gt;;\n\tborder: 1px solid &lt;&lt;colour notification-border&gt;&gt;;\n}\n\n/*\n** Tabs\n*/\n\n.tc-tab-set.tc-vertical {\n\tdisplay: -webkit-flex;\n\tdisplay: flex;\n}\n\n.tc-tab-buttons {\n\tfont-size: 0.85em;\n\tpadding-top: 1em;\n\tmargin-bottom: -2px;\n}\n\n.tc-tab-buttons.tc-vertical  {\n\tz-index: 100;\n\tdisplay: block;\n\tpadding-top: 14px;\n\tvertical-align: top;\n\ttext-align: right;\n\tmargin-bottom: inherit;\n\tmargin-right: -1px;\n\tmax-width: 33%;\n\t-webkit-flex: 0 0 auto;\n\tflex: 0 0 auto;\n}\n\n.tc-tab-buttons button.tc-tab-selected {\n\tcolor: &lt;&lt;colour tab-foreground-selected&gt;&gt;;\n\tbackground-color: &lt;&lt;colour tab-background-selected&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-border-selected&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour tab-border-selected&gt;&gt;;\n\tborder-right: 1px solid &lt;&lt;colour tab-border-selected&gt;&gt;;\n}\n\n.tc-tab-buttons button {\n\tcolor: &lt;&lt;colour tab-foreground&gt;&gt;;\n\tpadding: 3px 5px 3px 5px;\n\tmargin-right: 0.3em;\n\tfont-weight: 300;\n\tborder: none;\n\tbackground: inherit;\n\tbackground-color: &lt;&lt;colour tab-background&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-right: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-top-left-radius: 2px;\n\tborder-top-right-radius: 2px;\n}\n\n.tc-tab-buttons.tc-vertical button {\n\tdisplay: block;\n\twidth: 100%;\n\tmargin-top: 3px;\n\tmargin-right: 0;\n\ttext-align: right;\n\tbackground-color: &lt;&lt;colour tab-background&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-right: none;\n\tborder-top-left-radius: 2px;\n\tborder-bottom-left-radius: 2px;\n}\n\n.tc-tab-buttons.tc-vertical button.tc-tab-selected {\n\tbackground-color: &lt;&lt;colour tab-background-selected&gt;&gt;;\n\tborder-right: 1px solid &lt;&lt;colour tab-background-selected&gt;&gt;;\n}\n\n.tc-tab-divider {\n\tborder-top: 1px solid &lt;&lt;colour tab-divider&gt;&gt;;\n}\n\n.tc-tab-divider.tc-vertical  {\n\tdisplay: none;\n}\n\n.tc-tab-content {\n\tmargin-top: 14px;\n}\n\n.tc-tab-content.tc-vertical  {\n\tdisplay: inline-block;\n\tvertical-align: top;\n\tpadding-top: 0;\n\tpadding-left: 14px;\n\tborder-left: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\t-webkit-flex: 1 0 70%;\n\tflex: 1 0 70%;\n}\n\n.tc-sidebar-lists .tc-tab-buttons {\n\tmargin-bottom: -1px;\n}\n\n.tc-sidebar-lists .tc-tab-buttons button.tc-tab-selected {\n\tbackground-color: &lt;&lt;colour sidebar-tab-background-selected&gt;&gt;;\n\tcolor: &lt;&lt;colour sidebar-tab-foreground-selected&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour sidebar-tab-border-selected&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour sidebar-tab-border-selected&gt;&gt;;\n\tborder-right: 1px solid &lt;&lt;colour sidebar-tab-border-selected&gt;&gt;;\n}\n\n.tc-sidebar-lists .tc-tab-buttons button {\n\tdisplay: inline;\n\twidth: auto;\n\tbackground-color: &lt;&lt;colour sidebar-tab-background&gt;&gt;;\n\tcolor: &lt;&lt;colour sidebar-tab-foreground&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour sidebar-tab-border&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour sidebar-tab-border&gt;&gt;;\n\tborder-right: 1px solid &lt;&lt;colour sidebar-tab-border&gt;&gt;;\n}\n\n.tc-sidebar-lists .tc-tab-divider {\n\tborder-top: 1px solid &lt;&lt;colour sidebar-tab-divider&gt;&gt;;\n}\n\n.tc-more-sidebar .tc-tab-buttons button {\n\tdisplay: block;\n\twidth: 100%;\n\tbackground-color: &lt;&lt;colour sidebar-tab-background&gt;&gt;;\n\tborder-top: none;\n\tborder-left: none;\n\tborder-bottom: none;\n\tborder-right: 1px solid #ccc;\n\tmargin-bottom: inherit;\n}\n\n.tc-more-sidebar .tc-tab-buttons button.tc-tab-selected {\n\tbackground-color: &lt;&lt;colour sidebar-tab-background-selected&gt;&gt;;\n\tborder: none;\n}\n\n/*\n** Alerts\n*/\n\n.tc-alerts {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tmax-width: 500px;\n\tz-index: 20000;\n}\n\n.tc-alert {\n\tposition: relative;\n\tmargin: 28px;\n\tpadding: 14px 14px 14px 14px;\n\tborder: 2px solid &lt;&lt;colour alert-border&gt;&gt;;\n\tbackground-color: &lt;&lt;colour alert-background&gt;&gt;;\n}\n\n.tc-alert-toolbar {\n\tposition: absolute;\n\ttop: 14px;\n\tright: 14px;\n}\n\n.tc-alert-toolbar svg {\n\tfill: &lt;&lt;colour alert-muted-foreground&gt;&gt;;\n}\n\n.tc-alert-subtitle {\n\tcolor: &lt;&lt;colour alert-muted-foreground&gt;&gt;;\n\tfont-weight: bold;\n}\n\n.tc-alert-highlight {\n\tcolor: &lt;&lt;colour alert-highlight&gt;&gt;;\n}\n\n@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}) {\n\n\t.tc-static-alert {\n\t\tposition: relative;\n\t}\n\n\t.tc-static-alert-inner {\n\t\tposition: absolute;\n\t\tz-index: 100;\n\t}\n\n}\n\n.tc-static-alert-inner {\n\tpadding: 0 2px 2px 42px;\n\tcolor: &lt;&lt;colour static-alert-foreground&gt;&gt;;\n}\n\n/*\n** Control panel\n*/\n\n.tc-control-panel td {\n\tpadding: 4px;\n}\n\n.tc-control-panel table, .tc-control-panel table input, .tc-control-panel table textarea {\n\twidth: 100%;\n}\n\n.tc-plugin-info {\n\tdisplay: block;\n\tborder: 1px solid &lt;&lt;colour muted-foreground&gt;&gt;;\n\tbackground-colour: &lt;&lt;colour background&gt;&gt;;\n\tmargin: 0.5em 0 0.5em 0;\n\tpadding: 4px;\n}\n\n.tc-plugin-info-disabled {\n\tbackground: -webkit-repeating-linear-gradient(45deg, #ff0, #ff0 10px, #eee 10px, #eee 20px);\n\tbackground: repeating-linear-gradient(45deg, #ff0, #ff0 10px, #eee 10px, #eee 20px);\n}\n\n.tc-plugin-info-disabled:hover {\n\tbackground: -webkit-repeating-linear-gradient(45deg, #aa0, #aa0 10px, #888 10px, #888 20px);\n\tbackground: repeating-linear-gradient(45deg, #aa0, #aa0 10px, #888 10px, #888 20px);\n}\n\na.tc-tiddlylink.tc-plugin-info:hover {\n\ttext-decoration: none;\n\tbackground-color: &lt;&lt;colour primary&gt;&gt;;\n\tcolor: &lt;&lt;colour background&gt;&gt;;\n\tfill: &lt;&lt;colour foreground&gt;&gt;;\n}\n\na.tc-tiddlylink.tc-plugin-info:hover .tc-plugin-info &gt; .tc-plugin-info-chunk &gt; svg {\n\tfill: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n.tc-plugin-info-chunk {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n}\n\n.tc-plugin-info-chunk h1 {\n\tfont-size: 1em;\n\tmargin: 2px 0 2px 0;\n}\n\n.tc-plugin-info-chunk h2 {\n\tfont-size: 0.8em;\n\tmargin: 2px 0 2px 0;\n}\n\n.tc-plugin-info-chunk div {\n\tfont-size: 0.7em;\n\tmargin: 2px 0 2px 0;\n}\n\n.tc-plugin-info:hover &gt; .tc-plugin-info-chunk &gt; img, .tc-plugin-info:hover &gt; .tc-plugin-info-chunk &gt; svg {\n\twidth: 2em;\n\theight: 2em;\n\tfill: &lt;&lt;colour foreground&gt;&gt;;\n}\n\n.tc-plugin-info &gt; .tc-plugin-info-chunk &gt; img, .tc-plugin-info &gt; .tc-plugin-info-chunk &gt; svg {\n\twidth: 2em;\n\theight: 2em;\n\tfill: &lt;&lt;colour muted-foreground&gt;&gt;;\n}\n\n.tc-plugin-info.tc-small-icon &gt; .tc-plugin-info-chunk &gt; img, .tc-plugin-info.tc-small-icon &gt; .tc-plugin-info-chunk &gt; svg {\n\twidth: 1em;\n\theight: 1em;\n}\n\n.tc-plugin-info-dropdown {\n\tborder: 1px solid &lt;&lt;colour muted-foreground&gt;&gt;;\n\tmargin-top: -8px;\n}\n\n.tc-plugin-info-dropdown-message {\n\tbackground: &lt;&lt;colour message-background&gt;&gt;;\n\tpadding: 0.5em 1em 0.5em 1em;\n\tfont-weight: bold;\n\tfont-size: 0.8em;\n}\n\n.tc-plugin-info-dropdown-body {\n\tpadding: 1em 1em 1em 1em;\n}\n\n/*\n** Message boxes\n*/\n\n.tc-message-box {\n\tborder: 1px solid &lt;&lt;colour message-border&gt;&gt;;\n\tbackground: &lt;&lt;colour message-background&gt;&gt;;\n\tpadding: 0px 21px 0px 21px;\n\tfont-size: 12px;\n\tline-height: 18px;\n\tcolor: &lt;&lt;colour message-foreground&gt;&gt;;\n}\n\n/*\n** Pictures\n*/\n\n.tc-bordered-image {\n\tborder: 1px solid &lt;&lt;colour muted-foreground&gt;&gt;;\n\tpadding: 5px;\n\tmargin: 5px;\n}\n\n/*\n** Floats\n*/\n\n.tc-float-right {\n\tfloat: right;\n}\n\n/*\n** Chooser\n*/\n\n.tc-chooser {\n\tborder: 1px solid &lt;&lt;colour table-border&gt;&gt;;\n}\n\n.tc-chooser-item {\n\tborder: 8px;\n\tpadding: 2px 4px;\n}\n\n.tc-chooser-item a.tc-tiddlylink {\n\tdisplay: block;\n\ttext-decoration: none;\n\tcolor: &lt;&lt;colour tiddler-link-foreground&gt;&gt;;\n\tbackground-color: &lt;&lt;colour tiddler-link-background&gt;&gt;;\n}\n\n.tc-chooser-item a.tc-tiddlylink:hover {\n\ttext-decoration: none;\n\tcolor: &lt;&lt;colour tiddler-link-background&gt;&gt;;\n\tbackground-color: &lt;&lt;colour tiddler-link-foreground&gt;&gt;;\n}\n\n/*\n** Palette swatches\n*/\n\n.tc-swatches-horiz {\n}\n\n.tc-swatches-horiz .tc-swatch {\n\tdisplay: inline-block;\n}\n\n.tc-swatch {\n\twidth: 2em;\n\theight: 2em;\n\tmargin: 0.4em;\n\tborder: 1px solid #888;\n}\n\n/*\n** Table of contents\n*/\n\n.tc-sidebar-lists .tc-table-of-contents {\n\twhite-space: nowrap;\n}\n\n.tc-table-of-contents button {\n\tcolor: &lt;&lt;colour sidebar-foreground&gt;&gt;;\n}\n\n.tc-table-of-contents svg {\n\twidth: 0.7em;\n\theight: 0.7em;\n\tvertical-align: middle;\n\tfill: &lt;&lt;colour sidebar-foreground&gt;&gt;;\n}\n\n.tc-table-of-contents ol {\n\tlist-style-type: none;\n\tpadding-left: 0;\n}\n\n.tc-table-of-contents ol ol {\n\tpadding-left: 1em;\n}\n\n.tc-table-of-contents li {\n\tfont-size: 1.0em;\n\tfont-weight: bold;\n}\n\n.tc-table-of-contents li a {\n\tfont-weight: bold;\n}\n\n.tc-table-of-contents li li {\n\tfont-size: 0.95em;\n\tfont-weight: normal;\n\tline-height: 1.4;\n}\n\n.tc-table-of-contents li li a {\n\tfont-weight: normal;\n}\n\n.tc-table-of-contents li li li {\n\tfont-size: 0.95em;\n\tfont-weight: 200;\n\tline-height: 1.5;\n}\n\n.tc-table-of-contents li li li a {\n\tfont-weight: bold;\n}\n\n.tc-table-of-contents li li li li {\n\tfont-size: 0.95em;\n\tfont-weight: 200;\n}\n\n.tc-tabbed-table-of-contents {\n\tdisplay: -webkit-flex;\n\tdisplay: flex;\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents {\n\tz-index: 100;\n\tdisplay: inline-block;\n\tpadding-left: 1em;\n\tmax-width: 50%;\n\t-webkit-flex: 0 0 auto;\n\tflex: 0 0 auto;\n\tbackground: &lt;&lt;colour tab-background&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-top: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item &gt; a,\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item-selected &gt; a {\n\tdisplay: block;\n\tpadding: 0.12em 1em 0.12em 0.25em;\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item &gt; a {\n\tborder-top: 1px solid &lt;&lt;colour tab-background&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-background&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tab-background&gt;&gt;;\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item &gt; a:hover {\n\ttext-decoration: none;\n\tborder-top: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tbackground: &lt;&lt;colour tab-border&gt;&gt;;\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item-selected &gt; a {\n\tborder-top: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-left: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tborder-bottom: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\tbackground: &lt;&lt;colour background&gt;&gt;;\n\tmargin-right: -1px;\n}\n\n.tc-tabbed-table-of-contents .tc-table-of-contents .toc-item-selected &gt; a:hover {\n\ttext-decoration: none;\n}\n\n.tc-tabbed-table-of-contents .tc-tabbed-table-of-contents-content {\n\tdisplay: inline-block;\n\tvertical-align: top;\n\tpadding-left: 1.5em;\n\tpadding-right: 1.5em;\n\tborder: 1px solid &lt;&lt;colour tab-border&gt;&gt;;\n\t-webkit-flex: 1 0 50%;\n\tflex: 1 0 50%;\n}\n\n/*\n** Dirty indicator\n*/\n\nbody.tc-dirty span.tc-dirty-indicator, body.tc-dirty span.tc-dirty-indicator svg {\n\tfill: &lt;&lt;colour dirty-indicator&gt;&gt;;\n\tcolor: &lt;&lt;colour dirty-indicator&gt;&gt;;\n}\n\n/*\n** File inputs\n*/\n\n.tc-file-input-wrapper {\n\tposition: relative;\n\toverflow: hidden;\n\tdisplay: inline-block;\n\tvertical-align: middle;\n}\n\n.tc-file-input-wrapper input[type=file] {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tfont-size: 999px;\n\tmax-width: 100%;\n\tmax-height: 100%;\n\tfilter: alpha(opacity=0);\n\topacity: 0;\n\toutline: none;\n\tbackground: white;\n\tcursor: pointer;\n\tdisplay: inline-block;\n}\n\n/*\n** Thumbnail macros\n*/\n\n.tc-thumbnail-wrapper {\n\tposition: relative;\n\tdisplay: inline-block;\n\tmargin: 6px;\n\tvertical-align: top;\n}\n\n.tc-thumbnail-right-wrapper {\n\tfloat:right;\n\tmargin: 0.5em 0 0.5em 0.5em;\n}\n\n.tc-thumbnail-image {\n    text-align: center;\n\toverflow: hidden;\n\tborder-radius: 3px;\n}\n\n.tc-thumbnail-image svg,\n.tc-thumbnail-image img {\n\tfilter: alpha(opacity=1);\n\topacity: 1;\n    min-width: 100%;\n    min-height: 100%;\n    max-width: 100%;\n}\n\n.tc-thumbnail-wrapper:hover .tc-thumbnail-image svg,\n.tc-thumbnail-wrapper:hover .tc-thumbnail-image img {\n\tfilter: alpha(opacity=0.8);\n\topacity: 0.8;\n}\n\n.tc-thumbnail-background {\n\tposition: absolute;\n\tborder-radius: 3px;\n}\n\n.tc-thumbnail-icon svg,\n.tc-thumbnail-icon img {\n\twidth: 3em;\n\theight: 3em;\n\t&lt;&lt;filter \&quot;drop-shadow(2px 2px 4px rgba(0,0,0,0.3))\&quot;&gt;&gt;\n}\n\n.tc-thumbnail-wrapper:hover .tc-thumbnail-icon svg,\n.tc-thumbnail-wrapper:hover .tc-thumbnail-icon img {\n\tfill: #fff;\n\t&lt;&lt;filter \&quot;drop-shadow(3px 3px 4px rgba(0,0,0,0.6))\&quot;&gt;&gt;\n}\n\n.tc-thumbnail-icon {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tdisplay: -webkit-flex;\n\t-webkit-align-items: center;\n\t-webkit-justify-content: center;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.tc-thumbnail-caption {\n\tposition: absolute;\n\tbackground-color: #777;\n\tcolor: #fff;\n\ttext-align: center;\n\tbottom: 0;\n\twidth: 100%;\n\tfilter: alpha(opacity=0.9);\n\topacity: 0.9;\n\tline-height: 1.4;\n\tborder-bottom-left-radius: 3px;\n\tborder-bottom-right-radius: 3px;\n}\n\n.tc-thumbnail-wrapper:hover .tc-thumbnail-caption {\n\tfilter: alpha(opacity=1);\n\topacity: 1;\n}\n\n/*\n** Errors\n*/\n\n.tc-error {\n\tbackground: #f00;\n\tcolor: #fff;\n}\n&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/metrics/bodyfontsize&quot;,
            &quot;text&quot;: &quot;15px&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/metrics/bodylineheight&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/metrics/bodylineheight&quot;,
            &quot;text&quot;: &quot;22px&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/metrics/fontsize&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/metrics/fontsize&quot;,
            &quot;text&quot;: &quot;14px&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/metrics/lineheight&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/metrics/lineheight&quot;,
            &quot;text&quot;: &quot;20px&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/metrics/storyleft&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/metrics/storyleft&quot;,
            &quot;text&quot;: &quot;0px&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/metrics/storytop&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/metrics/storytop&quot;,
            &quot;text&quot;: &quot;0px&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/metrics/storyright&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/metrics/storyright&quot;,
            &quot;text&quot;: &quot;770px&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/metrics/storywidth&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/metrics/storywidth&quot;,
            &quot;text&quot;: &quot;770px&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/metrics/tiddlerwidth&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/metrics/tiddlerwidth&quot;,
            &quot;text&quot;: &quot;686px&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint&quot;,
            &quot;text&quot;: &quot;960px&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth&quot;,
            &quot;text&quot;: &quot;350px&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/options/stickytitles&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/options/stickytitles&quot;,
            &quot;text&quot;: &quot;no&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/options/sidebarlayout&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/options/sidebarlayout&quot;,
            &quot;text&quot;: &quot;fixed-fluid&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/reset&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/reset&quot;,
            &quot;type&quot;: &quot;text/plain&quot;,
            &quot;text&quot;: &quot;/*! normalize.css v3.0.0 | MIT License | git.io/normalize */\n\n/**\n * 1. Set default font family to sans-serif.\n * 2. Prevent iOS text size adjust after orientation change, without disabling\n *    user zoom.\n */\n\nhtml {\n  font-family: sans-serif; /* 1 */\n  -ms-text-size-adjust: 100%; /* 2 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n}\n\n/**\n * Remove default margin.\n */\n\nbody {\n  margin: 0;\n}\n\n/* HTML5 display definitions\n   ========================================================================== */\n\n/**\n * Correct `block` display not defined in IE 8/9.\n */\n\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmain,\nnav,\nsection,\nsummary {\n  display: block;\n}\n\n/**\n * 1. Correct `inline-block` display not defined in IE 8/9.\n * 2. Normalize vertical alignment of `progress` in Chrome, Firefox, and Opera.\n */\n\naudio,\ncanvas,\nprogress,\nvideo {\n  display: inline-block; /* 1 */\n  vertical-align: baseline; /* 2 */\n}\n\n/**\n * Prevent modern browsers from displaying `audio` without controls.\n * Remove excess height in iOS 5 devices.\n */\n\naudio:not([controls]) {\n  display: none;\n  height: 0;\n}\n\n/**\n * Address `[hidden]` styling not present in IE 8/9.\n * Hide the `template` element in IE, Safari, and Firefox &lt; 22.\n */\n\n[hidden],\ntemplate {\n  display: none;\n}\n\n/* Links\n   ========================================================================== */\n\n/**\n * Remove the gray background color from active links in IE 10.\n */\n\na {\n  background: transparent;\n}\n\n/**\n * Improve readability when focused and also mouse hovered in all browsers.\n */\n\na:active,\na:hover {\n  outline: 0;\n}\n\n/* Text-level semantics\n   ========================================================================== */\n\n/**\n * Address styling not present in IE 8/9, Safari 5, and Chrome.\n */\n\nabbr[title] {\n  border-bottom: 1px dotted;\n}\n\n/**\n * Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome.\n */\n\nb,\nstrong {\n  font-weight: bold;\n}\n\n/**\n * Address styling not present in Safari 5 and Chrome.\n */\n\ndfn {\n  font-style: italic;\n}\n\n/**\n * Address variable `h1` font-size and margin within `section` and `article`\n * contexts in Firefox 4+, Safari 5, and Chrome.\n */\n\nh1 {\n  font-size: 2em;\n  margin: 0.67em 0;\n}\n\n/**\n * Address styling not present in IE 8/9.\n */\n\nmark {\n  background: #ff0;\n  color: #000;\n}\n\n/**\n * Address inconsistent and variable font size in all browsers.\n */\n\nsmall {\n  font-size: 80%;\n}\n\n/**\n * Prevent `sub` and `sup` affecting `line-height` in all browsers.\n */\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsup {\n  top: -0.5em;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\n/* Embedded content\n   ========================================================================== */\n\n/**\n * Remove border when inside `a` element in IE 8/9.\n */\n\nimg {\n  border: 0;\n}\n\n/**\n * Correct overflow displayed oddly in IE 9.\n */\n\nsvg:not(:root) {\n  overflow: hidden;\n}\n\n/* Grouping content\n   ========================================================================== */\n\n/**\n * Address margin not present in IE 8/9 and Safari 5.\n */\n\nfigure {\n  margin: 1em 40px;\n}\n\n/**\n * Address differences between Firefox and other browsers.\n */\n\nhr {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n  height: 0;\n}\n\n/**\n * Contain overflow in all browsers.\n */\n\npre {\n  overflow: auto;\n}\n\n/**\n * Address odd `em`-unit font size rendering in all browsers.\n */\n\ncode,\nkbd,\npre,\nsamp {\n  font-family: monospace, monospace;\n  font-size: 1em;\n}\n\n/* Forms\n   ========================================================================== */\n\n/**\n * Known limitation: by default, Chrome and Safari on OS X allow very limited\n * styling of `select`, unless a `border` property is set.\n */\n\n/**\n * 1. Correct color not being inherited.\n *    Known issue: affects color of disabled elements.\n * 2. Correct font properties not being inherited.\n * 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome.\n */\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  color: inherit; /* 1 */\n  font: inherit; /* 2 */\n  margin: 0; /* 3 */\n}\n\n/**\n * Address `overflow` set to `hidden` in IE 8/9/10.\n */\n\nbutton {\n  overflow: visible;\n}\n\n/**\n * Address inconsistent `text-transform` inheritance for `button` and `select`.\n * All other form control elements do not inherit `text-transform` values.\n * Correct `button` style inheritance in Firefox, IE 8+, and Opera\n * Correct `select` style inheritance in Firefox.\n */\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n/**\n * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`\n *    and `video` controls.\n * 2. Correct inability to style clickable `input` types in iOS.\n * 3. Improve usability and consistency of cursor style between image-type\n *    `input` and others.\n */\n\nbutton,\nhtml input[type=\&quot;button\&quot;], /* 1 */\ninput[type=\&quot;reset\&quot;],\ninput[type=\&quot;submit\&quot;] {\n  -webkit-appearance: button; /* 2 */\n  cursor: pointer; /* 3 */\n}\n\n/**\n * Re-set default cursor for disabled elements.\n */\n\nbutton[disabled],\nhtml input[disabled] {\n  cursor: default;\n}\n\n/**\n * Remove inner padding and border in Firefox 4+.\n */\n\nbutton::-moz-focus-inner,\ninput::-moz-focus-inner {\n  border: 0;\n  padding: 0;\n}\n\n/**\n * Address Firefox 4+ setting `line-height` on `input` using `!important` in\n * the UA stylesheet.\n */\n\ninput {\n  line-height: normal;\n}\n\n/**\n * It's recommended that you don't attempt to style these elements.\n * Firefox's implementation doesn't respect box-sizing, padding, or width.\n *\n * 1. Address box sizing set to `content-box` in IE 8/9/10.\n * 2. Remove excess padding in IE 8/9/10.\n */\n\ninput[type=\&quot;checkbox\&quot;],\ninput[type=\&quot;radio\&quot;] {\n  box-sizing: border-box; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n * Fix the cursor style for Chrome's increment/decrement buttons. For certain\n * `font-size` values of the `input`, it causes the cursor style of the\n * decrement button to change from `default` to `text`.\n */\n\ninput[type=\&quot;number\&quot;]::-webkit-inner-spin-button,\ninput[type=\&quot;number\&quot;]::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/**\n * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.\n * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome\n *    (include `-moz` to future-proof).\n */\n\ninput[type=\&quot;search\&quot;] {\n  -webkit-appearance: textfield; /* 1 */\n  -moz-box-sizing: content-box;\n  -webkit-box-sizing: content-box; /* 2 */\n  box-sizing: content-box;\n}\n\n/**\n * Remove inner padding and search cancel button in Safari and Chrome on OS X.\n * Safari (but not Chrome) clips the cancel button when the search input has\n * padding (and `textfield` appearance).\n */\n\ninput[type=\&quot;search\&quot;]::-webkit-search-cancel-button,\ninput[type=\&quot;search\&quot;]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/**\n * Define consistent border, margin, and padding.\n */\n\nfieldset {\n  border: 1px solid #c0c0c0;\n  margin: 0 2px;\n  padding: 0.35em 0.625em 0.75em;\n}\n\n/**\n * 1. Correct `color` not being inherited in IE 8/9.\n * 2. Remove padding so people aren't caught out if they zero out fieldsets.\n */\n\nlegend {\n  border: 0; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n * Remove default vertical scrollbar in IE 8/9.\n */\n\ntextarea {\n  overflow: auto;\n}\n\n/**\n * Don't inherit the `font-weight` (applied by a rule above).\n * NOTE: the default cannot safely be changed in Chrome and Safari on OS X.\n */\n\noptgroup {\n  font-weight: bold;\n}\n\n/* Tables\n   ========================================================================== */\n\n/**\n * Remove most spacing between table cells.\n */\n\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n\ntd,\nth {\n  padding: 0;\n}\n&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/settings/fontfamily&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/settings/fontfamily&quot;,
            &quot;text&quot;: &quot;\&quot;Helvetica Neue\&quot;, Helvetica, Arial, \&quot;Lucida Grande\&quot;, \&quot;DejaVu Sans\&quot;, sans-serif&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/settings/codefontfamily&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/settings/codefontfamily&quot;,
            &quot;text&quot;: &quot;Monaco, Consolas, \&quot;Lucida Console\&quot;, \&quot;DejaVu Sans Mono\&quot;, monospace&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/settings/backgroundimageattachment&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/settings/backgroundimageattachment&quot;,
            &quot;text&quot;: &quot;fixed&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/settings/backgroundimagesize&quot;,
            &quot;text&quot;: &quot;auto&quot;
        },
        &quot;$:/themes/tiddlywiki/vanilla/sticky&quot;: {
            &quot;title&quot;: &quot;$:/themes/tiddlywiki/vanilla/sticky&quot;,
            &quot;text&quot;: &quot;&lt;$reveal state=\&quot;$:/themes/tiddlywiki/vanilla/options/stickytitles\&quot; type=\&quot;match\&quot; text=\&quot;yes\&quot;&gt;\n``\n.tc-tiddler-title {\n\tposition: -webkit-sticky;\n\tposition: -moz-sticky;\n\tposition: -o-sticky;\n\tposition: -ms-sticky;\n\tposition: sticky;\n\ttop: 0px;\n\tbackground: ``&lt;&lt;colour tiddler-background&gt;&gt;``;\n\tz-index: 500;\n}\n``\n&lt;/$reveal&gt;\n&quot;
        }
    }
}</pre>
</div>
<div title="$:/view">
<pre>top</pre>
</div>
<div created="20160306202841604" description="Go back to [[Spring 2016 - Slight change of focus]]" modified="20160306202911924" tags="Explanation Thesis" title="About TiddlySpace" tmap.id="2a1a2f7b-8655-42f4-93f7-1c90e3cc70f5">
<pre>[[TiddlyWiki|http://tiddlywiki.com/]] is considered to be an electronic, multi-linear notebook with the ability to add, delete, sort and filter the information within.

[[TiddlySpace|http://tiddlyspace.com/]] is ~TiddlyWiki //plus// the ability to work collaboratively with others; the main content is housed in a repository (~GitHub, Dropbox, one's personal drive, etc.) yet others can add, delete, sort and filter the information within.

~TiddlySpace has a username and password security feature, should the users wish to incorporate it.

For the sake of this project, the username and password is publicized both in the introduction screen and in the video tutorial.  However, only those working on this project have access to the username and password, meaning a high level of confidence exists that the content of this project is taken seriously.

!!{{!!description}}</pre>
</div>
<div color="#ffff66" created="20160321183211597" modified="20160326171053587" tags="Thesis TOC Contents" title="Abstract" tmap.id="67896f11-0c48-4367-b095-d95471d9ad60">
<pre>What an incredible time we live in; the advent of [[Web 2.0|Web 2.0 Influences]] has made the ability to [[store, edit, manage and share information|Hypertext]] easier than ever.  For the refugee population residing in Utica, NY, this is of special importance, as their personal histories have been, and continue to be, documented //via photographs//.  Yet finding a reliable platform to host these photos //and// to be able to retrieve them based on [[user-defined tags|Tagging]] has been a arduous task, until now. [[With a sampling of images|http://stamphoto-sunypoly.tiddlyspot.com/#]] being hosted in the [[TiddlyWiki]] platform, and with volunteer student taggers having been teamed up with the refugee population (here forward called [[Utica Community Members]]) to add tags to the photographs, a ''[[living folksonomy|Folksonomy]]'' of the Utica Community Members' lives in the United States has been created.</pre>
</div>
<div created="20160306203005175" description="Go back to [[Spring 2016 - Integrating PopUp Tagger]]" modified="20160319141349200" tags="Explanation Thesis Understandings" title="Additional tags created" tmap.id="5c27428a-1fd4-410c-8012-1e732303c8f6">
<pre>Student volunteers took ownership of this project and created additional child tags:

''Ethnicity''

* Burmese
*Latino

''Activity''

*Sticking Tongue Out
*Wedding

''Location''

*2015
*Fort Stanwix
*Front Lawn
*Soccer Tournament

!!{{!!description}}</pre>
</div>
<div color="#008040" created="20160316233417432" modified="20160326175054189" tags="Contents Thesis TOC" title="Approach" tmap.id="23284650-cea8-4885-aa32-3e17d1760357">
<pre>Phase 1: &lt;&lt;list-links &quot;[tag[Approach Phase 1]]&quot;&gt;&gt;

Phase 2: &lt;&lt;list-links &quot;[tag[Approach Phase 2]]&quot;&gt;&gt;

Phase 3: &lt;&lt;list-links &quot;[tag[Approach Phase 3]]&quot;&gt;&gt;</pre>
</div>
<div color="#00ff80" created="20160321183304870" list="[[Fall 2015 - Intro to Project]] [[Fall 2015 - Questions to Consider]] [[Winer break 2016]]" modified="20160326173936673" tags="Thesis Approach" title="Approach Phase 1" tmap.id="233e908a-d1f5-4113-bb96-797ac1e2e7b2">
<pre>&lt;&lt;list-links &quot;[tag[Approach Phase 1]]&quot;&gt;&gt;

</pre>
</div>
<div color="#00ff80" created="20160326162516764" modified="20160326173944001" tags="Approach Thesis" title="Approach Phase 2" tmap.id="a3230eac-6fed-444e-984e-85e4dafb7c40">
<pre>&lt;&lt;list-links &quot;[tag[Approach Phase 2]]&quot;&gt;&gt;</pre>
</div>
<div created="20160326162537060" modified="20160326162556524" tags="Approach Thesis" title="Approach Phase 3" tmap.id="3db114f0-aa3b-48b8-82d3-cae8a966960c">
<pre>&lt;&lt;list-links &quot;[tag[Approach Phase 3]]&quot;&gt;&gt;</pre>
</div>
<div created="20160220215820243" modified="20160220224230708" tags="thoughts" title="argument of narrative project vs database project" tmap.id="388a7e5e-2b16-45a7-b6a8-6e12e2230932">
<pre>From [[New media and cultural form]]:

# This is currently the ultimate argument of this project; is the project a database or a narrative?
#My initial thoughts is that it is a database- a &quot;collection of data organized to maximise fast search and retrieval&quot;
# could these photos be used as a cultural education?... depends on who is tagging the photos
#use of hypertext as users &quot;make their own connections and produce their own meanings&quot;
#About databases:&quot;Instead of a constructed narrative, the user is presented with a database of texts that can be navigated in a variety of ways.&quot;
#&quot;If new elements are being added over time, the result is a collection, not a story&quot; - ''absolutely crucial to determining if this is a multi-linear narrative vs. a photo repository''
#databases are used &quot;as collections of items.. they perform various operations- view, navigate, search&quot;
#&quot;database represents an independent cultural form&quot;
!!best of all
#&quot;a database an support narrative, but there is nothing in the logic of the form itself that would foster the generation of narrative&quot;
#&quot;the user of a narrative is traversing a database, following links between its records as established by the database's creator&quot;</pre>
</div>
<div title="asas$:/plugins/felixhayashi/tiddlymap" tmap.id="8d962e34-74bf-4077-8452-7c6992b884b2">
<pre>{
    &quot;tiddlers&quot;: {
        &quot;$:/plugins/felixhayashi/tiddlymap/layout&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/layout&quot;,
            &quot;type&quot;: &quot;text/vnd.tiddlywiki&quot;,
            &quot;tags&quot;: [
                &quot;$:/tags/Stylesheet&quot;
            ],
            &quot;text&quot;: &quot;\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline \n\n﻿.tc-page-container-wrapper.tc-modal-displayed{-webkit-filter:inherit;-moz-filter:inherit;filter:inherit}.tc-modal-wrapper{z-index:1010}.tc-modal-wrapper .tc-modal-header svg{vertical-align:sub}.tc-modal-wrapper .tc-modal-header h3{line-height:10px}.tc-modal-wrapper .tc-modal-body{min-height:250px;max-height:70vh;padding-top:0px;padding-bottom:0px;overflow:auto}.tc-modal-wrapper .tc-modal-footer{padding:8px}.tc-modal-wrapper .tc-modal-footer .tmap-dialog-button{font-weight:bold}.tc-modal-wrapper .tc-modal-footer .tmap-hidden-close-button{display:none}table.tmap-table tr:nth-child(odd),.tc-modal-body table.tmap-config-table tr:nth-child(odd){background-color:#F0F0F0}table.tmap-table tr:nth-child(even),.tc-modal-body table.tmap-config-table tr:nth-child(even){background-color:#FFFFFF}.tmap-save-canvas-preview{text-align:center}.tmap-save-canvas-preview img{background-color:white;border:1px solid lightgray;max-width:100%;max-height:100px}.tmap-list-separator{display:block;background-color:#efefef;margin:10px 0 5px 0;cursor:default;border-bottom:1px dotted gray;font-weight:bold;font-size:0.8em}.tmap-unicode-icon{width:1em;display:inline-block;text-align:center;color:black}html .tmap-link{color:#5778D8}html .tmap-link:hover{color:white;background:#5778D8}html .tmap-small-list,html .tmap-smaller-list,html .tmap-very-small-list{overflow:auto;min-height:2em;max-height:9em;display:block}html .tmap-smaller-list{max-height:7em}html .tmap-very-small-list{max-height:5empx}html .tc-tiddler-controls button.tmap-active-button svg{fill:#888888}html #tmap-node-filter-dialog #tmap-filter-tips{font-size:0.8em}html #tmap-node-filter-dialog textarea{height:100px;max-height:300px;overflow:auto;width:100%;font-size:11px;font-family:\&quot;Courier New\&quot;, Courier, monospace}@media (max-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}){.tc-sidebar-scrollable .tmap-desktop-editor .tmap-widget:not(.tmap-fullscreen){display:none}}@media (min-width: {{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}){.tc-sidebar-scrollable .tmap-mobile-editor{display:none}.tc-modal-wrapper{z-index:1010}.tc-modal-wrapper .tc-modal{boder:1px solid #999999;left:calc(50% - 400px);width:802px}.tc-modal-wrapper .tc-modal-body{left:calc(50% - 400px);width:800px}}@-o-keyframes fadein-keyframes{0%{opacity:0}100%{opacity:1}}@-moz-keyframes fadein-keyframes{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadein-keyframes{0%{opacity:0}100%{opacity:1}}@keyframes flash fadein-keyframes{0%{opacity:0}100%{opacity:1}}@-o-keyframes fadeout-keyframes{0%{opacity:1}100%{opacity:0}}@-moz-keyframes fadeout-keyframes{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes fadeout-keyframes{0%{opacity:1}100%{opacity:0}}@keyframes flash fadeout-keyframes{0%{opacity:1}100%{opacity:0}}.tmap-config-widget{background:#F0F0F0;padding:5px;margin:5px 0;box-sizing:border-box;display:block}.tmap-config-widget .vis-network{display:none}.tmap-config-widget .vis-configuration-wrapper{width:100%}.tmap-config-widget .vis-configuration-wrapper .vis-config-rangeinput{height:inherit;margin-left:4px}.tmap-config-widget .vis-configuration-wrapper .vis-configuration.vis-config-item{width:100%;height:inherit;background:none;padding-left:0px;left:0}.tmap-config-widget .vis-configuration-wrapper .vis-configuration.vis-config-item.tmap-vis-config-item-active .vis-config-label::after{content:\&quot;(inherited)\&quot;;position:absolute;display:inline-block;margin-left:10px;-o-animation:fadein-keyframes 1s;-moz-animation:fadein-keyframes 1s;-webkit-animation:fadein-keyframes 1s;animation:fadein-keyframes 1s;content:\&quot;✔\&quot;;color:green;font-weight:bold;font-size:15px}.tmap-config-widget .vis-configuration-wrapper .vis-configuration.vis-config-item button.tmap-config-item-reset{vertical-align:top;margin-left:5px}.tmap-config-widget .vis-configuration-wrapper .vis-configuration.vis-config-item .vis-config-range{width:150px}.tmap-config-widget .vis-configuration-wrapper .vis-configuration.vis-config-item .vis-config-range::-moz-range-track{width:150px !important}.tmap-config-widget .vis-configuration-wrapper .vis-configuration.vis-config-item .vis-config-label{width:150px}.tmap-config-widget::after{clear:both;content:\&quot;\&quot;;display:block}.tmap-flash-message{border:1px solid lightgray;padding:5px;margin:6px 0;display:block;color:#333333}.tmap-flash-message.tmap-info,.tmap-flash-message.tmap-plain,.tmap-flash-message.tmap-neutral{background:#F0F0F0}.tmap-flash-message.tmap-info::before,.tmap-flash-message.tmap-plain::before,.tmap-flash-message.tmap-neutral::before{content:\&quot;i\&quot;;display:inline-block;border-radius:50%;width:0.8em;border:2px solid;font-family:serif;text-align:center;height:0.8em;font-weight:bold;line-height:0.8em;vertical-align:text-top;margin-right:2px}.tmap-flash-message.tmap-valid,.tmap-flash-message.tmap-success{background:#D1EED4}.tmap-flash-message.tmap-valid::before,.tmap-flash-message.tmap-success::before{content:\&quot;i\&quot;;display:inline-block;border-radius:50%;width:0.8em;border:2px solid;font-family:serif;text-align:center;height:0.8em;font-weight:bold;line-height:0.8em;vertical-align:text-top;margin-right:2px}.tmap-flash-message.tmap-warning{background:#FFF6D1}.tmap-flash-message.tmap-warning::before{content:\&quot;\&quot;;display:inline-block;background:url(&lt;&lt;tmap \&quot;datauri\&quot; \&quot;$:/core/images/warning\&quot; \&quot;\&quot;&gt;&gt;);display:inline-block;width:1em;height:1em;background-size:100% 100%;vertical-align:text-top;margin-right:2px}.tmap-flash-message.tmap-malformed,.tmap-flash-message.tmap-invalid,.tmap-flash-message.tmap-danger{background:#EED5D1}.tmap-flash-message.tmap-malformed::before,.tmap-flash-message.tmap-invalid::before,.tmap-flash-message.tmap-danger::before{content:\&quot;\&quot;;display:inline-block;background:url(&lt;&lt;tmap \&quot;datauri\&quot; \&quot;$:/core/images/warning\&quot; \&quot;\&quot;&gt;&gt;);display:inline-block;width:1em;height:1em;background-size:100% 100%;vertical-align:text-top;margin-right:2px}.tmap-widget{background:#FFFFFF;width:auto;position:relative;border:1px dotted lightgray;padding:2px;color:#666;display:block}.tmap-widget.tmap-click-to-use:not(.tmap-fullscreen) .vis-network:not(.vis-active){cursor:pointer}.tmap-widget.tmap-click-to-use:not(.tmap-fullscreen) .vis-network:not(.vis-active) .vis-navigation{display:none}.tmap-widget.tmap-click-to-use:not(.tmap-fullscreen) .vis-network:not(.vis-active):hover:before{color:gray;background:white;content:\&quot;Click to use\&quot;;font-size:14px;font-weight:bold;right:calc(50% - 65px - 5px);position:absolute;text-align:center;top:calc(50% - 14px - 5px);width:130px;z-index:2000;padding:5px;pointer-events:none;background-color:rgba(255,255,255,0.3)}.tmap-widget .tmap-loading-bar{display:none;position:absolute;text-align:center;font-size:2em;padding:10px;top:50%;background:rgba(245,245,245,0.5);z-index:1;width:250px;margin:auto;left:0px;right:0px}.tmap-widget .tmap-vis-graph{height:calc(100% - 35px)}.tmap-widget.tmap-no-buttons .vis-navigation{display:none}.tmap-widget.tmap-advanced-editor .tmap-topbar{background:#d6d9d8}.tmap-widget.tmap-advanced-editor .tmap-topbar .tmap-active-button{color:#488DCD}.tmap-widget.tmap-advanced-editor .tmap-topbar .tmap-active-button svg{fill:#488DCD}.tmap-widget.tmap-advanced-editor .tmap-topbar .tmap-neigh-scope-button{font-size:1.5em;vertical-align:bottom}.tmap-widget .tmap-menu-bar{width:100%}.tmap-widget .tmap-topbar{background:#F5F5F5;border-bottom:1px solid lightgray;padding:3px 5px;height:35px;position:relative}.tmap-widget .tmap-topbar .tmap-view-label{width:100%;text-align:center;font-weight:bold;padding-top:3px}.tmap-widget .tmap-topbar .tmap-focus-button{position:absolute;right:10px}.tmap-widget .tmap-topbar .tmap-focus-button input{width:140px}.tmap-widget .tmap-topbar .tmap-search-dropdown{position:relative}.tmap-widget .tmap-topbar .tmap-search-dropdown .tc-drop-down{position:absolute;z-index:999;right:0px}.tmap-widget .tmap-topbar .tc-drop-down{background-color:#F3F3F3;min-width:170px;max-width:210px;padding:5px;margin:5px 0}.tmap-widget .tmap-topbar .tc-drop-down button,.tmap-widget .tmap-topbar .tc-drop-down a{padding:0px;text-decoration:none}.tmap-widget .tmap-topbar .tc-drop-down button:hover,.tmap-widget .tmap-topbar .tc-drop-down a:hover{color:#ffffff}.tmap-widget .tmap-topbar .tc-drop-down button svg,.tmap-widget .tmap-topbar .tc-drop-down a svg{vertical-align:middle}.tmap-widget .tmap-topbar [hidden]{display:none}.tmap-widget .tmap-topbar .tc-block-dropdown{width:370px;min-width:370px;padding:5px;margin:15px 0 0 -370px}.tmap-widget .tmap-topbar .tc-block-dropdown a{display:inline;padding:0px}.tmap-widget .tmap-topbar select{width:30%;max-width:200px;word-wrap:initial;padding:0px}.tmap-widget .tmap-topbar button{line-height:inherit;color:#666}.tmap-widget .tmap-topbar&gt;*{display:inline-block}.tmap-widget .tmap-topbar .tmap-separator:after{color:#bdbdbd;margin:3px;content:\&quot; | \&quot;}.tmap-widget .tmap-topbar .tc-edit-add-tag .tc-add-tag-name input{width:70%}.tmap-widget .tmap-topbar .tc-sidebar-header{text-shadow:none}.tmap-widget .tmap-topbar .tc-edit-tags{border:none;padding:inherit;box-shadow:none}.tmap-widget.tmap-static-mode .tmap-topbar{height:initial}.tmap-widget.tmap-static-mode .tmap-vis-graph{text-align:center;cursor:not-allowed}.tmap-widget.tmap-static-mode .tmap-vis-graph:not(.tmap-graph-placeholder):hover::before{box-shadow:10px 10px 5px lightgray;color:gray;background:white;content:\&quot;Static\&quot;;font-size:18px;font-weight:bold;left:50%;margin-left:-100px;position:absolute;text-align:center;top:50px;width:200px;z-index:2000;padding:5px;pointer-events:none}.tmap-widget.tmap-static-mode .tmap-vis-graph.tmap-graph-placeholder::before{content:\&quot;No Preview\&quot;;display:block;text-align:center;padding:20px}.tmap-widget.tmap-plain-design{border:none;padding:0px}.tmap-widget.tmap-plain-design .tmap-topbar{display:none}.tc-sidebar-scrollable .tmap-widget{position:absolute;min-height:350px}.tmap-widget div.vis-network .vis-edit-mode{height:26px}.tmap-widget div.vis-network .vis-manipulation{height:34px;border-top:1px solid #d6d9d8;background:rgba(245,245,245,0.7)}.tmap-widget div.vis-network .vis-navigation .vis-button.tmap-button-enabled{right:15px}.tmap-widget div.vis-network .vis-navigation .vis-button.tmap-button-enabled.tmap-fullscreen-button{bottom:90px;background-image:url(&lt;&lt;tmap \&quot;datauri\&quot; \&quot;$:/plugins/felixhayashi/tiddlymap/media/fullscreen.png\&quot; \&quot;\&quot;&gt;&gt;)}.tmap-widget div.vis-network .vis-navigation .vis-button.tmap-button-enabled.tmap-halfscreen-button{bottom:130px;background-image:url(&lt;&lt;tmap \&quot;datauri\&quot; \&quot;$:/plugins/felixhayashi/tiddlymap/media/halfscreen.png\&quot; \&quot;\&quot;&gt;&gt;)}.tmap-widget div.vis-network .vis-navigation .vis-button:hover{box-shadow:0 0 3px 3px rgba(75,75,75,0.3)}.tmap-widget div.vis-network .vis-navigation .vis-button:hover:before{background:beige;display:block;color:black;padding:3px;position:relative;border:1px solid lightgray;width:80px;left:-100px;top:-50px;z-index:1000;text-align:center}.tmap-widget div.vis-network .vis-navigation .vis-button:hover.vis-up:before{left:30px;content:\&quot;Scroll up\&quot;}.tmap-widget div.vis-network .vis-navigation .vis-button:hover.vis-down:before{left:30px;content:\&quot;Scroll down\&quot;}.tmap-widget div.vis-network .vis-navigation .vis-button:hover.vis-right:before{left:30px;content:\&quot;Scroll right\&quot;}.tmap-widget div.vis-network .vis-navigation .vis-button:hover.vis-left:before{left:30px;content:\&quot;Scroll left\&quot;}.tmap-widget div.vis-network .vis-navigation .vis-button:hover.vis-zoomOut:before{content:\&quot;Zoom out\&quot;}.tmap-widget div.vis-network .vis-navigation .vis-button:hover.vis-zoomIn:before{content:\&quot;Zoom in\&quot;}.tmap-widget div.vis-network .vis-navigation .vis-button:hover.vis-zoomExtends:before{content:\&quot;Fit whole graph\&quot;}.tmap-widget div.vis-network .vis-navigation .vis-button:hover.tmap-fullscreen-button:before{content:\&quot;Toggle Fullscreen\&quot;}.tmap-widget div.vis-network .vis-navigation .vis-button:hover.tmap-halfscreen-button:before{content:\&quot;Toggle Halfscreen\&quot;}.tc-dropzone&gt;.tc-story-river .tmap-widget .vis-navigation .tmap-halfscreen-button{display:none}.tc-dropzone&gt;.tc-story-river .tmap-widget:not(.tmap-fullscreen) .vis-navigation .vis-button{display:none}.tc-dropzone&gt;.tc-story-river .tmap-widget:hover .vis-navigation .vis-button.tmap-fullscreen-button{display:block}.tc-dropzone&gt;.tc-story-river .tmap-widget:hover .vis-navigation .vis-button.vis-zoomExtends{display:block}body.tmap-has-fullscreen-widget{overflow:hidden}body.tmap-has-fullscreen-widget .tmap-widget.tmap-fullscreen{background:white !important;height:100% !important;width:100% !important;position:fixed !important;top:0 !important;right:0 !important;bottom:0 !important;left:0 !important;z-index:999 !important;border:none !important;margin:0 !important}body.tmap-has-fullscreen-widget .tc-dropzone&gt;*.tmap-has-fullscreen-widget{background:white !important;height:100% !important;width:100% !important;position:fixed !important;top:0 !important;right:0 !important;bottom:0 !important;left:0 !important;z-index:999 !important;border:none !important;margin:0 !important}body.tmap-has-fullscreen-widget .tc-dropzone&gt;*:not(.tmap-has-fullscreen-widget){display:none}body.tmap-has-halfscreen-widget .tmap-widget.tmap-halfscreen{background:white !important;height:100% !important;width:100% !important;position:fixed !important;top:0 !important;right:0 !important;bottom:0 !important;left:0 !important;z-index:999 !important;border:none !important;margin:0 !important;position:absolute !important;border-left:1px solid lightgray !important}.tc-modal-footer .tmap-hidden-close-button{display:none}.tmap-modal-content{position:relative;padding:1em 0;padding-top:0}.tmap-modal-content table tr td{vertical-align:top}.tmap-modal-content :not(pre)&gt;code{padding:1px;font-size:0.9em;position:relative;top:-1px}.tmap-modal-content :not(pre)&gt;code{color:#666}.tmap-modal-content .tc-tab-set .tc-tab-content{margin-top:0.5em}.tmap-modal-content .tc-image-button{font-size:14px}.tmap-modal-content fieldset{margin:0px}.tmap-modal-content fieldset legend{font-weight:bold}.tc-modal-body .tmap-modal-editor&gt;p{margin:0px}.tc-modal-body .tmap-modal-editor .tmap-template-select select{width:50%}.tc-modal-body .tmap-modal-editor .tc-tiddler-frame{margin:auto;width:auto}.tc-modal-body .tmap-modal-editor .tc-tiddler-frame .tc-tiddler-controls{display:none}.tc-modal-body .tmap-modal-editor .tc-tiddler-frame .tc-tiddler-title{display:none}.tc-modal-body table{margin:6px 0;border:none;width:100%}.tc-modal-body table td,.tc-modal-body table th{border:1px solid lightgray}.tc-modal-body table.tmap-key-value-table th{width:30%;background-color:#F0F0F0}.tc-modal-body table.tmap-config-table.tmap-large-input tr td:last-child{width:20%}.tc-modal-body table.tmap-config-table.tmap-small-input tr td:last-child{width:60%}.tc-modal-body table.tmap-config-table tr td{border:none;vertical-align:top;padding:5px}.tc-modal-body table.tmap-config-table tr td:first-child{width:15%}.tc-modal-body table.tmap-config-table tr td:last-child{width:40%}.tc-modal-body table.tmap-config-table tr td input:not([type=radio]),.tc-modal-body table.tmap-config-table tr td textarea,.tc-modal-body table.tmap-config-table tr td select{width:100%;word-wrap:normal}.tc-modal-body table.tmap-config-table tr td textarea{height:100%}.tc-modal-body table.tmap-config-table tr td .tmap-no-stretch input,.tc-modal-body table.tmap-config-table tr td .tmap-no-stretch textarea,.tc-modal-body table.tmap-config-table tr td .tmap-no-stretch select{width:auto}.tc-modal-body table.tmap-config-table tr td div.tmap-button-wrapper{text-align:center}.tc-modal-body table.tmap-config-table tr td .tmap-note{margin-top:0.5em}.tc-modal-body table.tmap-config-table tr td .tmap-description{font-style:italic}#tmap-element-type-manager&gt;div:first-child{height:50vh;float:left;width:21%;background:linear-gradient(90deg, #f5f5f5 0%, #fff 50%)}#tmap-element-type-manager&gt;div:first-child .tmap-searchbar{padding:1em 0 0 0}#tmap-element-type-manager&gt;div:first-child .tmap-searchbar input{width:calc(100% - 36px)}#tmap-element-type-manager&gt;div:first-child .tmap-searchbar button{width:30px;float:right}#tmap-element-type-manager&gt;div:first-child ul{height:calc(100% - 65px);overflow:auto;margin-top:1em;padding:0}#tmap-element-type-manager&gt;div:first-child ul.no-bullets li{list-style:none}#tmap-element-type-manager&gt;div:first-child ul li{white-space:nowrap}#tmap-element-type-manager&gt;div:first-child ul li .tmap-ranking{width:30px;display:inline-block}#tmap-element-type-manager&gt;div:last-child{height:100%;width:calc(79% - 15px);float:right}#tmap-element-type-manager&gt;div:last-child .tc-tab-set .tc-tab-content{overflow:auto;height:50vh}.tmap-manage-node-types .tmap-edge-type-specific{display:none !important}.tmap-manage-edge-types .tmap-node-type-specific{display:none !important}.tmap-modal-fullscreen-editor .tc-tab-content p{margin:1em 0}.tmap-has-pending-template{background-color:#C1EDC4}#tmap-search-table td{border:none;padding-left:0px}#tmap-search-table td:first-child{width:30px}#tmap-search-table b{display:inline-block;width:40px;text-align:right}#tmap-search-table ul{padding-left:20px;margin:1em 0 0 0}#tmap-search-table ul li{list-style:inherit}#tmap-search-table ul button{text-align:left}button.tmap-go-back{margin-bottom:1em;font-weight:bold}.tmap-badges&gt;span,.tmap-badge{background:gray;font-size:11px;color:white;padding:3px 4px;display:inline-block;font-weight:bold;border-radius:2px;line-height:1em;cursor:help}.tmap-badges&gt;span.tmap-red-flag,.tmap-badge.tmap-red-flag{background:red}.tmap-popup{display:none;position:absolute;opacity:0;cursor:auto;min-width:100px;min-height:50px;max-width:&lt;&lt;tmap option config.sys.popups.width&gt;&gt;;max-height:&lt;&lt;tmap option config.sys.popups.height&gt;&gt;;padding:5px;resize:both;overflow:auto;font-family:verdana;font-size:14px;background-color:#f5f4ed;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;border:1px solid #808074;box-shadow:3px 3px 10px rgba(0,0,0,0.2);transition:opacity 0.3s ease}.tmap-popup[style*=\&quot;height\&quot;]{max-height:none !important}.tmap-popup[style*=\&quot;width\&quot;]{max-width:none !important}.tmap-popup.tmap-popup-active{opacity:1}.tmap-quick-connect{font-size:0.7em}.tmap-quick-connect p{padding-left:0;padding-right:0}.tmap-quick-connect .tc-drop-down{padding:5px;width:250px;white-space:normal;line-height:1em;position:absolute;z-index:1000;right:50px;background:linear-gradient(45deg, #f5f5f5 0%, #fff 50%, #f5f5f5 100%)}.tmap-quick-connect .tc-drop-down:first-child{padding-top:0;margin-top:0}.tmap-quick-connect .tc-drop-down .title{margin:1.5em 0 0.5em 0;font-weight:bold;color:gray}.tmap-quick-connect .tc-drop-down select{width:80px;word-wrap:initial}.tmap-quick-connect .tc-drop-down table{width:100%;border:none;margin:0.5em 0}.tmap-quick-connect .tc-drop-down table td,.tmap-quick-connect .tc-drop-down table th{padding:3px 3px 3px 0;vertical-align:middle;font-weight:normal;border:none}.tmap-quick-connect .tc-drop-down table td table,.tmap-quick-connect .tc-drop-down table th table{margin:0}.tmap-quick-connect .tc-drop-down .tmap-quick-connect-search-bar,.tmap-quick-connect .tc-drop-down .tmap-quick-connect-existing-bar{background:#F1F1F1;margin-top:0;border-bottom:1px solid #D5D5D5;border-top:1px solid #D5D5D5}.tmap-quick-connect .tc-drop-down table.tmap-quick-connect-search-bar td,.tmap-quick-connect .tc-drop-down th{padding:5px}.tmap-quick-connect .tc-drop-down .tmap-quick-connect-existing-bar{padding:5px}.tmap-quick-connect .tc-drop-down .tmap-connection-table th,.tmap-quick-connect .tc-drop-down .tmap-connection-table td{text-align:left;padding:1px 1px 1px 0}.tmap-quick-connect .tc-drop-down .tmap-connection-table button{width:20px;padding:0px}.tmap-quick-connect .tc-drop-down .tmap-scroll-table{height:120px;overflow:auto;display:block}.tmap-quick-connect .tc-drop-down hr{border:0;height:0;border-top:1px solid rgba(0,0,0,0.1);border-bottom:1px solid rgba(255,255,255,0.3)}.tmap-quick-connect .tc-drop-down a{display:inline;padding:0;color:#5778d8;background:transparent}.tmap-quick-connect .tc-drop-down a:hover{background:transparent;color:#5778d8;text-decoration:underline}.tmap-quick-connect .tc-drop-down button{display:inline-block;padding:0px 3px;text-align:center;color:#333333;line-height:1.0}.tmap-quick-connect .tc-drop-down button:hover{color:#ffffff}.tmap-quick-connect .tc-drop-down button svg{fill:inherit}.tmap-quick-connect .tc-drop-down button svg:hover{fill:#ffffff}\n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/Adapter&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/Adapter\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports=Adapter;var ViewAbstraction=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/ViewAbstraction\&quot;);var EdgeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/EdgeType\&quot;);var NodeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/NodeType\&quot;);var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);var vis=require(\&quot;$:/plugins/felixhayashi/vis/vis.js\&quot;);var getContrastColour=require(\&quot;$:/core/modules/macros/contrastcolour.js\&quot;).run;function Adapter(){this.visShapesWithTextInside=utils.getLookupTable([\&quot;ellipse\&quot;,\&quot;circle\&quot;,\&quot;database\&quot;,\&quot;box\&quot;,\&quot;text\&quot;]);this.isTransTypeEnabled=typeof $tw.wiki.getTiddlerTranscludes===\&quot;function\&quot;}Adapter.prototype.deleteEdge=function(e){return this._processEdge(e,\&quot;delete\&quot;)};Adapter.prototype.deleteEdges=function(e){e=utils.convert(e,\&quot;array\&quot;);for(var t=e.length;t--;){this.deleteEdge(e[t])}};Adapter.prototype.insertEdge=function(e){return this._processEdge(e,\&quot;insert\&quot;)};Adapter.prototype._processEdge=function(e,t){$tm.logger(\&quot;debug\&quot;,\&quot;Edge\&quot;,t,e);if(typeof e!==\&quot;object\&quot;||!t||!e.from)return;if(t===\&quot;insert\&quot;&amp;&amp;!e.to)return;var i=$tm.indeces.tById[e.from];if(!i||!utils.tiddlerExists(i))return;var r=new EdgeType(e.type);var s=utils.getTiddler(i);var a=r.namespace;if(a===\&quot;tw-list\&quot;){if(!e.to)return;return this._processListEdge(s,e,r,t)}else if(a===\&quot;tw-field\&quot;){if(!e.to)return;return this._processFieldEdge(s,e,r,t)}else if(a===\&quot;tw-body\&quot;){return null}else{return this._processTmapEdge(s,e,r,t)}return e};Adapter.prototype._processTmapEdge=function(e,t,i,r){if(r===\&quot;delete\&quot;&amp;&amp;!t.id)return;var s=utils.parseFieldData(e,\&quot;tmap.edges\&quot;,{});if(r===\&quot;insert\&quot;){t.id=t.id||utils.genUUID();s[t.id]={to:t.to,type:i.id};if(!i.exists()){i.save()}}else{delete s[t.id]}utils.writeFieldData(e,\&quot;tmap.edges\&quot;,s);return t};Adapter.prototype._processListEdge=function(e,t,i,r){var s=i.name;var a=utils.getTiddler(e);var o=$tw.utils.parseStringArray(e.fields[s]);o=(o||[]).slice();var d=$tm.indeces.tById[t.to];if(r===\&quot;insert\&quot;){o.push(d);if(!i.exists()){i.save()}}else{var n=o.indexOf(d);if(n&gt;-1){o.splice(n,1)}}utils.setField(a,s,$tw.utils.stringifyList(o));return t};Adapter.prototype._processFieldEdge=function(e,t,i,r){var s=$tm.indeces.tById[t.to];if(s==null)return;var a=r===\&quot;insert\&quot;?s:\&quot;\&quot;;utils.setField(e,i.name,a);if(!i.exists()){i.save()}return t};Adapter.prototype.getAdjacencyList=function(e,t){$tm.start(\&quot;Creating adjacency list\&quot;);t=t||{};if(!t.edges){var i=utils.getMatches($tm.selector.allPotentialNodes);t.edges=this.getEdgesForSet(i,t.toWL,t.typeWL)}var r=utils.groupByProperty(t.edges,e||\&quot;to\&quot;);$tm.stop(\&quot;Creating adjacency list\&quot;);return r};Adapter.prototype.getNeighbours=function(e,t){$tm.start(\&quot;Get neighbours\&quot;);t=t||{};var i=utils.getArrayValuesAsHashmapKeys(e);var r=new ViewAbstraction(t.view);var s=t.addProperties;var a=utils.makeHashMap();var o=$tm.indeces.allETy;var d=utils.makeHashMap();var n=t.toWL;var l=t.typeWL;var p=$tm.indeces.tById;var u=$tm.indeces.idByT;var f=parseInt(t.steps)&gt;0?t.steps:1;var g=t.direction||r.exists()&amp;&amp;r.getConfig(\&quot;neighbourhood_directions\&quot;);var c=!g||g===\&quot;both\&quot;;var v=c||g===\&quot;in\&quot;;var y=c||g===\&quot;out\&quot;;var h=this.getAdjacencyList(\&quot;to\&quot;,t);var m=function(e,t){a[e.id]=e;var r=p[e[t]];if(!i[r]){i[r]=true;var o=this.makeNode(r,s);if(o){d[o.id]=o;A.push(r)}}}.bind(this);for(var w=0;w&lt;f&amp;&amp;e.length;w++){var A=[];for(var b=e.length;b--;){if(utils.isSystemOrDraft(e[b])){continue}var T=this.getEdges(e[b],n,l);for(var $ in T){var E=o[T[$].type];if(c||y&amp;&amp;E.toArrow||v&amp;&amp;E.invertedArrow){m(T[$],\&quot;to\&quot;)}}var N=h[u[e[b]]];if(!N)continue;for(var x=N.length;x--;){var E=o[N[x].type];if(c||v&amp;&amp;E.toArrow||y&amp;&amp;E.invertedArrow){m(N[x],\&quot;from\&quot;)}}}e=A}var k={nodes:d,edges:a};$tm.logger(\&quot;debug\&quot;,\&quot;Retrieved neighbourhood\&quot;,k,\&quot;steps\&quot;,w);$tm.stop(\&quot;Get neighbours\&quot;);return k};Adapter.prototype.getGraph=function(e){$tm.start(\&quot;Assembling Graph\&quot;);e=e||{};var t=new ViewAbstraction(e.view);var i=utils.getMatches(e.filter||t.exists()&amp;&amp;t.getNodeFilter(\&quot;compiled\&quot;));var r=utils.getArrayValuesAsHashmapKeys(i);var s=e.edgeTypeWL||t.exists()&amp;&amp;t.getEdgeTypeFilter(\&quot;whitelist\&quot;);var a=parseInt(e.neighbourhoodScope||t.exists()&amp;&amp;t.getConfig(\&quot;neighbourhood_scope\&quot;));var o={edges:this.getEdgesForSet(i,r,s),nodes:this.selectNodesByReferences(i,{view:t,outputType:\&quot;hashmap\&quot;})};if(a){var d=this.getNeighbours(i,{steps:a,view:t,typeWL:s,addProperties:{group:\&quot;tmap:neighbour\&quot;}});utils.merge(o,d);if(t.exists()&amp;&amp;t.isEnabled(\&quot;show_inter_neighbour_edges\&quot;)){var n=this.getTiddlersById(d.nodes);var r=utils.getArrayValuesAsHashmapKeys(n);$tw.utils.extend(o.edges,this.getEdgesForSet(n,r))}}this._removeObsoleteViewData(o.nodes,t);this.attachStylesToNodes(o.nodes,t);$tm.stop(\&quot;Assembling Graph\&quot;);$tm.logger(\&quot;debug\&quot;,\&quot;Assembled graph:\&quot;,o);return o};Adapter.prototype.getEdges=function(e,t,i){var r=utils.getTiddler(e);if(!r||utils.isSystemOrDraft(r))return;var s=utils.makeHashMap();this._addTmapEdges(s,r,t,i);this._addBodyAndFieldEdges(s,r,t,i);return s};Adapter.prototype._addBodyAndFieldEdges=function(e,t,i,r){var s=t.fields;var a=utils.getTiddlerRef(t);var o=$tm.indeces;var d=o.maETyFiNa;var n=utils.makeHashMap();if(!r||r[\&quot;tw-body:link\&quot;]){n[\&quot;tw-body:link\&quot;]=$tw.wiki.getTiddlerLinks(a)}if(this.isTransTypeEnabled&amp;&amp;(!r||r[\&quot;tw-body:transclude\&quot;])){n[\&quot;tw-body:transclude\&quot;]=$tw.wiki.getTiddlerTranscludes(a)}for(var l in s){var p=d[l];if(!p||r&amp;&amp;!r[p.id])continue;if(p.namespace===\&quot;tw-field\&quot;){n[p.id]=[s[l]]}else if(p.namespace===\&quot;tw-list\&quot;){n[p.id]=$tw.utils.parseStringArray(s[l])}else if(p.namespace===\&quot;tw-filter\&quot;){var u=s[l];n[p.id]=utils.getMatches(u,i)}}if(!n)return;var f=t.fields[\&quot;tmap.id\&quot;];var g=o.idByT;var c=o.allETy;for(var v in n){var y=n[v];if(!y)continue;var p=c[v];for(var h=y.length;h--;){var m=y[h];if(!m||!$tw.wiki.tiddlerExists(m)||utils.isSystemOrDraft(m)||i&amp;&amp;!i[m])continue;var w=p.id+$tw.utils.hashString(a+m);var A=this.makeEdge(f,g[m],p,w);if(A){e[A.id]=A}}}};Adapter.prototype._addTmapEdges=function(e,t,i,r){var s=utils.parseFieldData(t,\&quot;tmap.edges\&quot;);if(!s)return;var a=$tm.indeces.tById;var o=t.fields[\&quot;tmap.id\&quot;];for(var d in s){var n=s[d];var l=a[n.to];if(l&amp;&amp;(!i||i[l])&amp;&amp;(!r||r[n.type])){var p=this.makeEdge(o,n.to,n.type,d);if(p){e[d]=p}}}};Adapter.prototype.getEdgesForSet=function(e,t,i){var r=utils.makeHashMap();for(var s=e.length;s--;){$tw.utils.extend(r,this.getEdges(e[s],t,i))}return r};Adapter.prototype.selectEdgesByType=function(e){var t=utils.makeHashMap();t[new EdgeType(e).id]=true;return this.getEdgesForSet(this.getAllPotentialNodes(),null,t)};Adapter.prototype.getAllPotentialNodes=function(){return utils.getMatches($tm.selector.allPotentialNodes)};Adapter.prototype._processEdgesWithType=function(e,t){e=new EdgeType(e);$tm.logger(\&quot;debug\&quot;,\&quot;Processing edges\&quot;,e,t);var i=this.selectEdgesByType(e);if(t.action===\&quot;rename\&quot;){var r=new EdgeType(t.newName);r.load(e);r.save()}for(var s in i){this._processEdge(i[s],\&quot;delete\&quot;);if(t.action===\&quot;rename\&quot;){i[s].type=t.newName;this._processEdge(i[s],\&quot;insert\&quot;)}}$tw.wiki.deleteTiddler(e.fullPath)};Adapter.prototype.selectNodesByFilter=function(e,t){var i=utils.getMatches(e);return this.selectNodesByReferences(i,t)};Adapter.prototype.selectNodesByReferences=function(e,t){t=t||{};var i=t.addProperties;var r=utils.makeHashMap();var s=Object.keys(e);for(var a=s.length;a--;){var o=this.makeNode(e[s[a]],i);if(o){r[o.id]=o}}return utils.convert(r,t.outputType)};Adapter.prototype.selectNodesByIds=function(e,t){var i=this.getTiddlersById(e);return this.selectNodesByReferences(i,t)};Adapter.prototype.selectNodeById=function(e,t){t=utils.merge(t,{outputType:\&quot;hashmap\&quot;});var i=this.selectNodesByIds([e],t);return i[e]};Adapter.prototype.makeEdge=function(e,t,i,r){if(!e||!t)return;if(e instanceof $tw.Tiddler){e=e.fields[\&quot;tmap.id\&quot;]}else if(typeof e===\&quot;object\&quot;){e=e.id}i=$tm.indeces.allETy[i]||new EdgeType(i);var s=i.getLabel();var a={id:r||utils.genUUID(),from:e,to:t,type:i.id};if(utils.isTrue(i[\&quot;show-label\&quot;],true)){a.label=s}a=$tw.utils.extend(a,i.style);return a};Adapter.prototype.removeNodeType=function(e){var e=new NodeType(e);$tw.wiki.deleteTiddler(e.fullPath)};Adapter.prototype.makeNode=function(e,t){var i=utils.getTiddler(e);if(!i||utils.isSystemOrDraft(i))return;var r=utils.merge({},t);r.id=this.assignId(i);var s=i.fields[$tm.field.nodeLabel];r.label=s&amp;&amp;$tm.field.nodeLabel!==\&quot;title\&quot;?$tw.wiki.renderText(\&quot;text/plain\&quot;,\&quot;text/vnd-tiddlywiki\&quot;,s):i.fields.title;return r};Adapter.prototype.getInheritedNodeStyles=function(e){var t=this.getTiddlersById(e);var i={};var r=$tm.indeces.glNTy;for(var s=r.length;s--;){var a=r[s];if(a.id===\&quot;tmap:neighbour\&quot;){var o=$tm.indeces.tById;var d=[];for(var n in e){if(e[n].group===\&quot;tmap:neighbour\&quot;){d.push(o[n])}}}else{var d=a.getInheritors(t)}for(var l=d.length;l--;){var p=d[l];var u=i[p]=i[p]||{};u.style=utils.merge(u.style||{},a.style);if(a[\&quot;fa-icon\&quot;]){u[\&quot;fa-icon\&quot;]=a[\&quot;fa-icon\&quot;]}else if(a[\&quot;tw-icon\&quot;]){u[\&quot;tw-icon\&quot;]=a[\&quot;tw-icon\&quot;]}}}return i};Adapter.prototype.attachStylesToEdges=function(e,t){};Adapter.prototype._removeObsoleteViewData=function(e,t){t=new ViewAbstraction(t);if(!t.exists()||!e)return;var i=t.getNodeData();var r=0;for(var s in i){if(e[s]===undefined&amp;&amp;i[s]!=null){i[s]=undefined;r++}}if(r){$tm.logger(\&quot;debug\&quot;,\&quot;[Cleanup]\&quot;,\&quot;Removed obsolete node data:\&quot;,t.getLabel(),r);t.saveNodeData(i)}};Adapter.prototype.attachStylesToNodes=function(e,t){t=new ViewAbstraction(t);var i=this.getInheritedNodeStyles(e);var r=t.exists()?t.getNodeData():utils.makeHashMap();var s=t.exists()&amp;&amp;!t.isEnabled(\&quot;physics_mode\&quot;);var a=$tm.field.nodeIcon;var o=$tm.indeces.tById;for(var d in e){var n=o[d];var l=$tw.wiki.getTiddler(n);var p=l.fields;var u=e[d];var f=null;var g=null;if(i[n]){if(i[n].style){utils.merge(u,i[n].style)}f=i[n][\&quot;fa-icon\&quot;];g=i[n][\&quot;tw-icon\&quot;]}if(p.color){u.color=p.color}if(p[\&quot;tmap.style\&quot;]){utils.merge(u,utils.parseJSON(p[\&quot;tmap.style\&quot;]))}f=p[\&quot;tmap.fa-icon\&quot;]||f;g=p[\&quot;icon\&quot;]||g;if(r[d]){utils.merge(u,r[d]);if(s){u.fixed={x:u.x!=null,y:u.y!=null}}f=r[d][\&quot;fa-icon\&quot;]||f;g=r[d][\&quot;tw-icon\&quot;]||g}var c=u.color!==null&amp;&amp;typeof u.color===\&quot;object\&quot;;var v=c?u.color.background:u.color;u.color={background:v,border:c?u.color.border:undefined};this._addNodeIcon(u,f,g);u.font=u.font||{};if(u.shape&amp;&amp;!this.visShapesWithTextInside[u.shape]){u.font.color=\&quot;black\&quot;}else if(!u.font.color&amp;&amp;v){u.font.color=getContrastColour(v,v,\&quot;black\&quot;,\&quot;white\&quot;)}if(u.shape===\&quot;icon\&quot;&amp;&amp;typeof u.icon===\&quot;object\&quot;){u.icon.color=v}}};Adapter.prototype.deleteNode=function(e){if(!e)return;var t=typeof e===\&quot;object\&quot;?e.id:e;var i=$tm.indeces.tById[t];if(i){utils.deleteTiddlers([i])}var r=utils.getMatches($tm.selector.allViews);for(var s=r.length;s--;){var a=new ViewAbstraction(r[s]);a.removeNode(t);if(a.getNodeData(t)){a.saveNodeData(t,null)}}var o=this.getNeighbours([i]);this.deleteEdges(o.edges)};Adapter.prototype.deleteNodes=function(e){e=utils.convert(e,\&quot;array\&quot;);for(var t=e.length;t--;){this.deleteNode(e[t])}};Adapter.prototype.storePositions=function(e,t){t=new ViewAbstraction(t);if(!t.exists())return;t.saveNodeData(e)};Adapter.prototype.assignId=function(e,t){var i=utils.getTiddler(e,true);if(!i)return;var r=i.fields[\&quot;tmap.id\&quot;];if(!r||t){r=utils.genUUID();utils.setField(i,\&quot;tmap.id\&quot;,r);$tm.logger(\&quot;info\&quot;,\&quot;Assigning new id to\&quot;,i.fields.title)}$tm.indeces.tById[r]=i.fields.title;$tm.indeces.idByT[i.fields.title]=r;return r};Adapter.prototype.insertNode=function(e,t,i){i=i||{};e=e||{};var r={\&quot;tmap.id\&quot;:null};if(!i.fields||!i.fields.text){r.text=\&quot;\&quot;}var s=$tw.wiki.generateNewTitle(e.label||utils.getRandomLabel());e.label=r.title=s;var a=new $tw.Tiddler(i.fields,r,$tw.wiki.getModificationFields(),$tw.wiki.getCreationFields());$tw.wiki.addTiddler(a);e=this.makeNode(a,e);var t=new ViewAbstraction(t);if(t.exists()){t.addNode(e)}return e};Adapter.prototype._getFAdigits=function(e){return e.length===4?e:e.substr(3,4)};Adapter.prototype.getTiddlersById=function(e){if(Array.isArray(e)){e=utils.getArrayValuesAsHashmapKeys(e)}else if(e instanceof vis.DataSet){e=utils.getLookupTable(e,\&quot;id\&quot;)}var t=[];var i=$tm.indeces.tById;for(var r in e){if(i[r])t.push(i[r])}return t};Adapter.prototype.getId=function(e){return $tm.indeces.idByT[utils.getTiddlerRef(e)]};Adapter.prototype._addNodeIcon=function(e,t,i){if(t){e.shape=\&quot;icon\&quot;;e.icon={shape:\&quot;icon\&quot;,face:\&quot;FontAwesome\&quot;,color:e.color,code:String.fromCharCode(\&quot;0x\&quot;+this._getFAdigits(t))};return}if(!i)return;var r=utils.getTiddler(i);if(!r)return;if(r.fields[\&quot;_canonical_uri\&quot;]){e.image=r.fields[\&quot;_canonical_uri\&quot;];e.shape=\&quot;image\&quot;;return}if(r.fields.text){e.image=utils.getDataUri(r);e.shape=\&quot;image\&quot;;return}};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/Adapter&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/CallbackManager&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/CallbackManager\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports=CallbackManager;var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);function CallbackManager(){this.callbacks=utils.makeHashMap()}CallbackManager.prototype.add=function(e,a,l){$tm.logger(\&quot;debug\&quot;,'A callback was registered for changes of \&quot;'+e+'\&quot;');this.callbacks[e]={execute:a,isDeleteOnCall:typeof l===\&quot;boolean\&quot;?l:true}};CallbackManager.prototype.remove=function(e){if(!e)return;if(typeof e===\&quot;string\&quot;){e=[e]}for(var a=e.length;a--;){var l=e[a];if(this.callbacks[l]){$tm.logger(\&quot;debug\&quot;,'A callback for \&quot;'+l+'\&quot; will be deleted');delete this.callbacks[l]}}};CallbackManager.prototype.handleChanges=function(e){if(this.callbacks.length==0)return;for(var a in e){if(!this.callbacks[a])continue;if($tw.wiki.getTiddler(a)){$tm.logger(\&quot;debug\&quot;,\&quot;Executing a callback for: \&quot;+a);this.callbacks[a].execute(a);if(!this.callbacks.isDeleteOnCall)continue}this.remove(a)}};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/CallbackManager&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/DialogManager&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/DialogManager\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports=DialogManager;var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);var CallbackManager=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/CallbackManager\&quot;);function DialogManager(t,e){this.callbackManager=t;if(e){this.context=e}}DialogManager.prototype.open=function(t,e,i){if(utils.isTrue($tm.config.sys.suppressedDialogs[t],false)){$tm.logger(\&quot;warning\&quot;,\&quot;Suppressed dialog\&quot;,t);return}e=e||{};$tm.logger(\&quot;debug\&quot;,\&quot;Dialog param object\&quot;,e);if(typeof i===\&quot;function\&quot;&amp;&amp;this.context){i=i.bind(this.context)}var a=$tm.path.tempRoot+\&quot;/dialog-\&quot;+utils.genUUID();var l=utils.getTiddler($tm.path.dialogs+\&quot;/\&quot;+t);var r={title:a,buttons:l.fields[\&quot;buttons\&quot;]||\&quot;ok_cancel\&quot;,classes:\&quot;tmap-modal-content \&quot;+l.fields[\&quot;classes\&quot;],output:a+\&quot;/output\&quot;,result:a+\&quot;/result\&quot;,temp:a+\&quot;/temp\&quot;,template:l.fields.title,templateId:t,currentTiddler:a+\&quot;/output\&quot;,text:utils.getText($tm.path.dialogs)};if(e.dialog){if(e.dialog.preselects){$tw.wiki.addTiddler(new $tw.Tiddler({title:r.output},utils.flatten(e.dialog.preselects)));delete e.dialog.preselects}utils.merge(r,e.dialog)}r.footer=utils.getText($tm.path.footers);r=utils.flatten(r);e=utils.flatten(e);var s=function(t){this.getElement(\&quot;hidden-close-button\&quot;).click();var e=$tw.wiki.getTiddler(t);var l=e.fields.text;if(l){var s=$tw.wiki.getTiddler(r.output)}else{var s=null;$tm.notify(\&quot;operation cancelled\&quot;)}if(typeof i===\&quot;function\&quot;){i(l,s)}utils.deleteByPrefix(a)}.bind(this);this.callbackManager.add(r.result,s,true);var n=new $tw.Tiddler(l,e,r);$tw.wiki.addTiddler(n);$tm.logger(\&quot;debug\&quot;,\&quot;Opening dialog\&quot;,n);$tw.rootWidget.dispatchEvent({type:\&quot;tm-modal\&quot;,param:n.fields.title,paramObject:n.fields});this.addKeyBindings();return n};DialogManager.prototype.getElement=function(t){return utils.getFirstElementByClassName(\&quot;tmap-\&quot;+t)};DialogManager.prototype.addKeyBindings=function(){var t=$tm.keycharm({container:utils.getFirstElementByClassName(\&quot;tc-modal\&quot;)});var e=/tmap-triggers-(.+?)-on-(.+?)(?:\\s|$)/;var i=document.getElementsByClassName(\&quot;tmap-trigger-field\&quot;);for(var a=i.length;a--;){var l=i[a].className.split(\&quot; \&quot;);for(var r=l.length;r--;){var s=l[r].match(e);if(!s){continue}var n=s[1];var o=s[2];var d=this.getElement(n);if(!d)continue;t.bind(o,function(){this.click()}.bind(d))}}};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/DialogManager&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/exception&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/exception\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports={};var exception=module.exports;exception.EnvironmentError=function(e){this.name=\&quot;EnvironmentError\&quot;;this.message=\&quot;Critical parts of the underlying system changed: \&quot;+e};exception.DependencyError=function(e){this.name=\&quot;DependencyError\&quot;;this.message=\&quot;TiddlyMap cannot run without: \&quot;+e};for(var ex in exception){exception[ex].prototype=Object.create(Error.prototype);exception[ex].constructor=exception[ex]}&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/exception&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/fixer&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/fixer\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports={};var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);var Adapter=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/Adapter\&quot;);var ViewAbstraction=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/ViewAbstraction\&quot;);var EdgeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/EdgeType\&quot;);var moveEdges=function(e,t){var r=utils.getTiddlersByPrefix(e);for(var i=0;i&lt;r.length;i++){var a=utils.getBasename(r[i]);if(a===\&quot;__noname__\&quot;){a=\&quot;tmap:unknown\&quot;}a=new EdgeType(a);if(!a.exists())a.save();var s=$tw.wiki.getTiddlerData(r[i]);for(var u=0;u&lt;s.length;u++){s[u].type=(t?t+\&quot;:\&quot;:\&quot;\&quot;)+a.id;$tm.adapter.insertEdge(s[u])}$tw.wiki.deleteTiddler(r[i])}};var executeUpgrade=function(e,t,r){if(!utils.isLeftVersionGreater(e,t))return;$tm.logger(\&quot;debug\&quot;,\&quot;Upgrading data structure to \&quot;+e);var i=r();utils.setEntry($tm.ref.sysMeta,\&quot;dataStructureState\&quot;,e);return i};var fixer=module.exports;fixer.fixId=function(){var e=$tw.wiki.getTiddlerData($tm.ref.sysMeta,{});var t={before:\&quot;0.9.0\&quot;,after:\&quot;0.9.2\&quot;};executeUpgrade(\&quot;0.9.2\&quot;,e.dataStructureState,function(){if(utils.isLeftVersionGreater(\&quot;0.9.2\&quot;,e.originalVersion)){var t=\&quot;$:/plugins/felixhayashi/tiddlymap/config/sys/user\&quot;;var r=utils.getEntry(t,\&quot;field.nodeId\&quot;,\&quot;tmap.id\&quot;);utils.moveFieldValues(r,\&quot;tmap.id\&quot;,true,false)}})};fixer.fix=function(){var e=$tw.wiki.getTiddlerData($tm.ref.sysMeta,{});$tm.logger(\&quot;debug\&quot;,\&quot;Fixer is started\&quot;);$tm.logger(\&quot;debug\&quot;,\&quot;Data-structure currently in use: \&quot;,e.dataStructureState);executeUpgrade(\&quot;0.7.0\&quot;,e.dataStructureState,function(){moveEdges(\&quot;$:/plugins/felixhayashi/tiddlymap/graph/edges\&quot;,null);var e=$tm.selector.allViews;var t=utils.getMatches(e);for(var r=0;r&lt;t.length;r++){var i=new ViewAbstraction(t[r]);moveEdges(i.getRoot()+\&quot;/graph/edges\&quot;,i)}});executeUpgrade(\&quot;0.7.32\&quot;,e.dataStructureState,function(){var e=new $tm.ViewAbstraction(\&quot;Live View\&quot;);if(!e.exists())return;e.setNodeFilter(\&quot;[field:title{$:/temp/tmap/currentTiddler}]\&quot;,true);e.setConfig({\&quot;refresh-trigger\&quot;:null,\&quot;refresh-triggers\&quot;:$tw.utils.stringifyList([\&quot;$:/temp/tmap/currentTiddler\&quot;])})});executeUpgrade(\&quot;0.9.0\&quot;,e.dataStructureState,function(){var e=$tm.ref.visUserConf;var t=utils.unflatten($tw.wiki.getTiddlerData(e,{}));if(typeof t.groups===\&quot;object\&quot;){var r=new $tm.NodeType(\&quot;tmap:neighbour\&quot;);r.setStyle(t.groups[\&quot;neighbours\&quot;]);r.save();delete t.groups;$tw.wiki.setTiddlerData(e,t)}});fixer.fixId();executeUpgrade(\&quot;0.9.16\&quot;,e.dataStructureState,function(){var e=$tm.indeces.glNTy;for(var t=e.length;t--;){e[t].save(null,true)}});executeUpgrade(\&quot;0.10.3\&quot;,e.dataStructureState,function(){var e=$tm.ref.liveTab;if(utils.getTiddler(e).hasTag(\&quot;$:/tags/SideBar\&quot;)){$tw.wiki.deleteTiddler(e);utils.setField(e,\&quot;tags\&quot;,\&quot;$:/tags/SideBar\&quot;)}});executeUpgrade(\&quot;0.11.0\&quot;,e.dataStructureState,function(){var e=utils.getMatches($tm.selector.allViews);for(var t=e.length;t--;){var r=new ViewAbstraction(e[t]);var i=r.getEdgeTypeFilter(\&quot;raw\&quot;);var a=\&quot;edge_type_namespace\&quot;;r.setConfig(a,r.getConfig(a));if(i){var s=$tm.path.edgeTypes;i=utils.replaceAll(i,\&quot;\&quot;,[s,s+\&quot;/\&quot;,\&quot;[prefix[\&quot;+s+\&quot;]]\&quot;,\&quot;[prefix[\&quot;+s+\&quot;/]]\&quot;,[\&quot;[suffix[tw-body:link]]\&quot;,\&quot;[[tw-body:link]]\&quot;],[\&quot;[suffix[tw-list:tags]]\&quot;,\&quot;[[tw-list:tags]]\&quot;],[\&quot;[suffix[tw-list:list]]\&quot;,\&quot;[[tw-body:list]]\&quot;],[\&quot;[suffix[tmap:unknown]]\&quot;,\&quot;[[tmap:unknown]]\&quot;],[\&quot;[suffix[unknown]]\&quot;,\&quot;[[tmap:unknown]]\&quot;]]);var u=\&quot;-[prefix[_]] \&quot;+i}else{var u=$tm.filter.defaultEdgeTypeFilter}r.setEdgeTypeFilter(u)}})};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/fixer&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/EdgeType&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/EdgeType\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports=EdgeType;var MapElementType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/MapElementType\&quot;);var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);function EdgeType(e,t,r){if(e instanceof EdgeType)return e;r=r||{};this.root=$tm.path.edgeTypes;var i=EdgeType._getIdParts(e,this.root);if(!i.name)return new EdgeType(\&quot;tmap:unknown\&quot;);this.marker=i.marker;this.name=i.name;this.namespace=i.namespace;this.id=EdgeType._getId(this.marker,this.namespace,this.name);if(!this.namespace&amp;&amp;r.namespace){if(!new EdgeType(this.id).exists()){return new EdgeType(r.namespace+\&quot;:\&quot;+this.name)}}MapElementType.call(this,this.id,this.root,EdgeType._fieldMeta,t);var s=this.style&amp;&amp;this.style.arrows;if(s){this.invertedArrow=this._isArrow(s,\&quot;from\&quot;);this.toArrow=this._isArrow(s,\&quot;to\&quot;)||this._isArrow(s,\&quot;middle\&quot;);this.biArrow=this.invertedArrow===this.toArrow;if(this.biArrow)this.toArrow=this.invertedArrow=true}else{this.toArrow=true}}EdgeType.prototype=Object.create(MapElementType.prototype);EdgeType._fieldMeta=$tw.utils.extend({},MapElementType._fieldMeta,{label:{},\&quot;show-label\&quot;:{}});EdgeType.edgeTypeRegexStr=\&quot;^(_?)([^:_][^:]*):?([^:]*)\&quot;;EdgeType.edgeTypeRegex=new RegExp(EdgeType.edgeTypeRegexStr);EdgeType._getIdParts=function(e,t){e=utils.getWithoutPrefix(e||\&quot;\&quot;,t+\&quot;/\&quot;);var r=e.match(EdgeType.edgeTypeRegex)||[];return{marker:r[1]||\&quot;\&quot;,namespace:r[3]&amp;&amp;r[2]||\&quot;\&quot;,name:r[3]||r[2]||\&quot;\&quot;}};EdgeType._getId=function(e,t,r){return e+t+(t?\&quot;:\&quot;:\&quot;\&quot;)+r};EdgeType.prototype.getLabel=function(){return this.label||this.name};EdgeType.prototype._isArrow=function(e,t){var r=e[t];return t===\&quot;to\&quot;&amp;&amp;r==null||r===true||typeof r===\&quot;object\&quot;&amp;&amp;r.enabled!==false};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/EdgeType&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/MapElementType&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/MapElementType\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports=MapElementType;var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);function MapElementType(t,i,e,s){this.id=t;this.root=i;this._fieldMeta=e;this.fullPath=this.root+\&quot;/\&quot;+this.id;this.isShipped=$tw.wiki.getSubTiddler($tm.path.pluginRoot,this.fullPath);this.load(s||this.fullPath)}MapElementType._fieldMeta={description:{},style:{parse:utils.parseJSON,stringify:JSON.stringify},modified:{},created:{}};MapElementType.prototype.load=function(t){if(!t)return;if(typeof t===\&quot;string\&quot;){var i=utils.startsWith(t,this.root);var e=i?t:this.root+\&quot;/\&quot;+t;this.loadFromTiddler(e)}else if(t instanceof $tw.Tiddler){this.loadFromTiddler(t)}else if(typeof t===\&quot;object\&quot;){for(var s in this._fieldMeta){this[s]=t[s]}}};MapElementType.prototype.loadFromTiddler=function(t){var i=utils.getTiddler(t);if(!i)return;var e=$tw.wiki.getSubTiddler($tm.path.pluginRoot,this.fullPath)||{};var s=$tw.utils.extend({},e.fields,i.fields);for(var l in this._fieldMeta){var r=this._fieldMeta[l].parse;var a=s[l];this[l]=r?r.call(this,a):a}};MapElementType.prototype.exists=function(){return utils.tiddlerExists(this.fullPath)};MapElementType.prototype.setStyle=function(t,i){if(typeof t===\&quot;string\&quot;){t=utils.parseJSON(t)}if(typeof t===\&quot;object\&quot;){if(i){utils.merge(this.style,t)}else{this.style=t}}};MapElementType.prototype.save=function(t,i){if(!t){t=this.fullPath}else if(typeof t!==\&quot;string\&quot;){return}var e={title:t,text:\&quot;\&quot;};if(!utils.startsWith(t,this.root)){e.id=this.id}if(i!==true){this.modified=new Date}if(!this.exists()){this.created=this.modified}for(var s in this._fieldMeta){var l=this._fieldMeta[s].stringify;e[s]=l?l.call(this,this[s]):this[s]}$tw.wiki.addTiddler(new $tw.Tiddler(e))};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/MapElementType&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/NodeType&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/NodeType\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports=NodeType;var MapElementType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/MapElementType\&quot;);var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);function NodeType(e,t){if(e instanceof NodeType){return e}e=typeof e===\&quot;string\&quot;?utils.getWithoutPrefix(e,$tm.path.nodeTypes+\&quot;/\&quot;):\&quot;tmap:unknown\&quot;;MapElementType.call(this,e,$tm.path.nodeTypes,NodeType._fieldMeta,t)}NodeType.prototype=Object.create(MapElementType.prototype);NodeType._fieldMeta=$tw.utils.extend({},MapElementType._fieldMeta,{view:{},priority:{parse:function(e){return isNaN(e)?1:parseInt(e)},stringify:function(e){return utils.isInteger(e)?e.toString():\&quot;1\&quot;}},scope:{stringify:utils.getWithoutNewLines},\&quot;fa-icon\&quot;:{},\&quot;tw-icon\&quot;:{}});NodeType.prototype.getInheritors=function(e){var t=this.scope;return t?utils.getMatches(t,e||$tw.wiki.allTitles()):[]};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/NodeType&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/Popup&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/Popup\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports=Popup;var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);function Popup(t,e){e=e||{};this._parentDomNode=t;this._domNode=document.createElement(\&quot;div\&quot;);this._domNode.style.display=\&quot;none\&quot;;this._domNode.className=\&quot;tmap-popup\&quot;;this._parentDomNode.appendChild(this._domNode);$tw.utils.addClass(this._domNode,e.className);this._isEnabled=true;this._isPreventShowOrHide=false;this._timeoutShow=null;this._timeoutHide=null;this._signature=null;this._isDisplayNoneAfterAnimation=true;this._hideDelayLeavingPopup=200;this._hideDelay=utils.isInteger(parseInt(e.hideDelay))?parseInt(e.hideDelay):200;this._showDelay=utils.isInteger(parseInt(e.showDelay))?parseInt(e.showDelay):200;utils.bind(this,[\&quot;_show\&quot;,\&quot;_hide\&quot;,\&quot;_handleEnter\&quot;,\&quot;_handleLeave\&quot;,\&quot;_handleAnimationEnd\&quot;]);this._listeners={mouseenter:this._handleEnter,mouseleave:this._handleLeave};var i=this._handleAnimationEnd;this._listeners[$tw.utils.convertEventName(\&quot;animationEnd\&quot;)]=i;this._listeners[$tw.utils.convertEventName(\&quot;transitionEnd\&quot;)]=i;utils.setDomListeners(\&quot;add\&quot;,this._domNode,this._listeners,false)}Popup.prototype._handleEnter=function(t){this._isPreventShowOrHide=true};Popup.prototype._handleLeave=function(t){this._isPreventShowOrHide=false;this.hide(this._hideDelayLeavingPopup)};Popup.prototype._handleAnimationEnd=function(){if(this._isDisplayNoneAfterAnimation){this._domNode.style.display=\&quot;none\&quot;}};Popup.prototype._hide=function(t){if(!t&amp;&amp;this._isPreventShowOrHide)return;this._signature=null;this._isDisplayNoneAfterAnimation=true;$tw.utils.removeClass(this._domNode,\&quot;tmap-popup-active\&quot;)};Popup.prototype._show=function(t,e){if(this._isPreventShowOrHide||$tm.mouse.ctrlKey||!this._isEnabled){return}this._domNode.style.display=\&quot;none\&quot;;$tw.utils.removeClass(this._domNode,\&quot;tmap-popup-active\&quot;);this._domNode.removeAttribute(\&quot;style\&quot;);utils.removeDOMChildNodes(this._domNode);var i=this._domNode.appendChild(document.createElement(\&quot;div\&quot;));if(typeof e===\&quot;function\&quot;){e(t,i)}else{i.innerHTML=e}if(!i.childNodes.length)return;var s=this._parentDomNode.getBoundingClientRect();var o=$tm.mouse.clientX;var n=$tm.mouse.clientY;var h=s.left&lt;o&amp;&amp;o&lt;s.right&amp;&amp;s.top&lt;n&amp;&amp;n&lt;s.bottom;if(!h)return;this._signature=t;this._domNode.style.display=\&quot;block\&quot;;var d=this._domNode.getBoundingClientRect();var a=s.right-(o+d.width);var l=o-d.width-s.left;var r=a&gt;l;var p=s.bottom-(n+d.height);var u=n-d.height-s.top;var m=p&gt;u;var _=r?-15:d.width+15;var v=m?-15:d.height+15;this._domNode.style.left=o-s.left-_+\&quot;px\&quot;;this._domNode.style.top=n-s.top-v+\&quot;px\&quot;;this._isDisplayNoneAfterAnimation=false;$tw.utils.addClass(this._domNode,\&quot;tmap-popup-active\&quot;)};Popup.prototype.show=function(t,e,i){this._clearTimeouts();i=utils.isInteger(i)?i:this._showDelay;this._timeoutShow=window.setTimeout(this._show,i,t,e)};Popup.prototype.hide=function(t,e){this._clearTimeouts();t=utils.isInteger(t)?t:this._hideDelay;if(e||t===0){this._hide(e)}else{this._timeoutHide=window.setTimeout(this._hide,t,e)}};Popup.prototype.setEnabled=function(t){this._isEnabled=t};Popup.prototype._clearTimeouts=function(){window.clearTimeout(this._timeoutShow);window.clearTimeout(this._timeoutHide);this._timeoutShow=undefined;this._timeoutHide=undefined};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/Popup&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/URL&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/URL\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports=Url;/**\n * &lt;&lt;&lt;\n * Lightweight URL manipulation with JavaScript. This library is \n * independent of any other libraries and has pretty simple interface\n * and lightweight code-base. Some ideas of query string parsing \n * had been taken from Jan Wolter.\&quot;\n * \n * @see http://unixpapa.com/js/querystring.html\n * @license MIT\n * @author Mykhailo Stadnyk &lt;mikhus@gmail.com&gt;\n * &lt;&lt;&lt; https://github.com/Mikhus/jsurl\n * \n * @class\n * @param {string} url\n */\nfunction Url(t){this.paths=function(t){var e=\&quot;\&quot;,r=0,o;if(t&amp;&amp;t.length&amp;&amp;t+\&quot;\&quot;!==t){if(this.isAbsolute()){e=\&quot;/\&quot;}for(o=t.length;r&lt;o;r++){t[r]=encode(t[r])}this.path=e+t.join(\&quot;/\&quot;)}t=(this.path.charAt(0)===\&quot;/\&quot;?this.path.slice(1):this.path).split(\&quot;/\&quot;);for(r=0,o=t.length;r&lt;o;r++){t[r]=decode(t[r])}return t};this.encode=encode;this.decode=decode;this.isAbsolute=function(){return this.protocol||this.path.charAt(0)===\&quot;/\&quot;};this.toString=function(){return(this.protocol&amp;&amp;this.protocol+\&quot;://\&quot;)+(this.user&amp;&amp;encode(this.user)+(this.pass&amp;&amp;\&quot;:\&quot;+encode(this.pass))+\&quot;@\&quot;)+(this.host&amp;&amp;this.host)+(this.port&amp;&amp;\&quot;:\&quot;+this.port)+(this.path&amp;&amp;this.path)+(this.query.toString()&amp;&amp;\&quot;?\&quot;+this.query)+(this.hash&amp;&amp;\&quot;#\&quot;+encode(this.hash))};parse(this,t)}var map={protocol:\&quot;protocol\&quot;,host:\&quot;hostname\&quot;,port:\&quot;port\&quot;,path:\&quot;pathname\&quot;,query:\&quot;search\&quot;,hash:\&quot;hash\&quot;},defaultPorts={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},parse=function(t,e){var r=document,o=r.createElement(\&quot;a\&quot;),e=e||r.location.href,s=e.match(/\\/\\/(.*?)(?::(.*?))?@/)||[],i;o.href=e;for(i in map){t[i]=o[map[i]]||\&quot;\&quot;}t.protocol=t.protocol.replace(/:$/,\&quot;\&quot;);t.query=t.query.replace(/^\\?/,\&quot;\&quot;);t.hash=decode(t.hash.replace(/^#/,\&quot;\&quot;));t.user=decode(s[1]||\&quot;\&quot;);t.pass=decode(s[2]||\&quot;\&quot;);t.port=defaultPorts[t.protocol]==t.port||t.port==0?\&quot;\&quot;:t.port;if(!t.protocol&amp;&amp;!/^([a-z]+:)?\\/\\//.test(e)){var h=new Url(r.location.href.match(/(.*\\/)/)[0]),n=h.path.split(\&quot;/\&quot;),a=t.path.split(\&quot;/\&quot;),c=[\&quot;protocol\&quot;,\&quot;user\&quot;,\&quot;pass\&quot;,\&quot;host\&quot;,\&quot;port\&quot;],p=c.length;n.pop();for(i=0;i&lt;p;i++){t[c[i]]=h[c[i]]}while(a[0]==\&quot;..\&quot;){n.pop();a.shift()}t.path=(e.charAt(0)!=\&quot;/\&quot;?n.join(\&quot;/\&quot;):\&quot;\&quot;)+\&quot;/\&quot;+a.join(\&quot;/\&quot;)}else{t.path=t.path.replace(/^\\/?/,\&quot;/\&quot;)}t.paths((t.path.charAt(0)==\&quot;/\&quot;?t.path.slice(1):t.path).split(\&quot;/\&quot;));parseQs(t)},encode=function(t){return encodeURIComponent(t).replace(/'/g,\&quot;%27\&quot;)},decode=function(t){t=t.replace(/\\+/g,\&quot; \&quot;);t=t.replace(/%([ef][0-9a-f])%([89ab][0-9a-f])%([89ab][0-9a-f])/gi,function(t,e,r,o){var s=parseInt(e,16)-224,i=parseInt(r,16)-128;if(s==0&amp;&amp;i&lt;32){return t}var h=parseInt(o,16)-128,n=(s&lt;&lt;12)+(i&lt;&lt;6)+h;if(n&gt;65535){return t}return String.fromCharCode(n)});t=t.replace(/%([cd][0-9a-f])%([89ab][0-9a-f])/gi,function(t,e,r){var o=parseInt(e,16)-192;if(o&lt;2){return t}var s=parseInt(r,16)-128;return String.fromCharCode((o&lt;&lt;6)+s)});t=t.replace(/%([0-7][0-9a-f])/gi,function(t,e){return String.fromCharCode(parseInt(e,16))});return t},parseQs=function(t){var e=t.query;t.query=new function(t){var e=/([^=&amp;]+)(=([^&amp;]*))?/g,r;while(r=e.exec(t)){var o=decodeURIComponent(r[1].replace(/\\+/g,\&quot; \&quot;)),s=r[3]?decode(r[3]):\&quot;\&quot;;if(this[o]!=null){if(!(this[o]instanceof Array)){this[o]=[this[o]]}this[o].push(s)}else{this[o]=s}}this.clear=function(){for(var t in this){if(!(this[t]instanceof Function)){delete this[t]}}};this.count=function(){var t=0,e;for(e in this){if(!(this[e]instanceof Function)){t++}}return t};this.isEmpty=function(){return this.count()===0};this.toString=function(){var t=\&quot;\&quot;,e=encode,r,o;for(r in this){if(this[r]instanceof Function){continue}if(this[r]instanceof Array){var s=this[r].length;if(s){for(o=0;o&lt;s;o++){t+=t?\&quot;&amp;\&quot;:\&quot;\&quot;;t+=e(r)+\&quot;=\&quot;+e(this[r][o])}}else{t+=(t?\&quot;&amp;\&quot;:\&quot;\&quot;)+e(r)+\&quot;=\&quot;}}else{t+=t?\&quot;&amp;\&quot;:\&quot;\&quot;;t+=e(r)+\&quot;=\&quot;+e(this[r])}}return t}}(e)};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/URL&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/utils&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/utils\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports={};var vis=require(\&quot;$:/plugins/felixhayashi/vis/vis.js\&quot;);var exception=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/exception\&quot;);var URL=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/URL\&quot;);var utils=module.exports;utils.deleteTiddlers=function(e){var t=Object.keys(e);var i=$tw.wiki.getTiddlerList(\&quot;$:/StoryList\&quot;);for(var r=t.length;r--;){var n=utils.getTiddlerRef(e[t[r]]);if(!$tw.wiki.tiddlerExists(e[t[r]])){continue}var l=i.indexOf(n);if(l!==-1){i.splice(l,1);utils.setField(\&quot;$:/StoryList\&quot;,\&quot;list\&quot;,i)}$tw.wiki.deleteTiddler(n)}};utils.moveFieldValues=function(e,t,i,r,n){if(e===t)return;var l=n||$tw.wiki.allTitles();for(var s=l.length;s--;){var u=utils.getTiddler(l[s]);if(u.isDraft()||!u.fields[e]||!r&amp;&amp;$tw.wiki.isSystemTiddler(l[s])){continue}var a={};a[t]=u.fields[e];if(i){a[e]=undefined}$tw.wiki.addTiddler(new $tw.Tiddler(u,a))}};utils.getLabel=function(e,t){var i=utils.getTiddler(e);return i&amp;&amp;i.fields[t]?i.fields[t]:i.fields.title};utils.ucFirst=function(e){return e&amp;&amp;e[0].toUpperCase()+e.slice(1)};utils.convert=function(e,t){if(typeof e!==\&quot;object\&quot;)return;switch(t){case\&quot;array\&quot;:return utils.getValues(e);case\&quot;hashmap\&quot;:case\&quot;object\&quot;:if(e instanceof vis.DataSet){return e.get({returnType:\&quot;Object\&quot;})}else{return e}case\&quot;dataset\&quot;:default:if(e instanceof vis.DataSet){return e}if(!Array.isArray(e)){e=utils.getValues(e)}return new vis.DataSet(e)}};utils.getValues=function(e){if(Array.isArray(e)){return e}else if(e instanceof vis.DataSet){return e.get({returnType:\&quot;Array\&quot;})}var t=[];var i=Object.keys(e);for(var r=i.length;r--;){t.push(e[i[r]])}return t};utils.getDataUri=function(e,t,i){var r=utils.getTiddler(e);var t=t||r.fields.type||\&quot;image/svg+xml\&quot;;var n=r.fields.text;var l=$tw.config.contentTypeInfo[t].encoding;if(t===\&quot;image/svg+xml\&quot;){n=n.replace(/\\r?\\n|\\r/g,\&quot; \&quot;);if(!utils.hasSubString(\&quot;xmlns\&quot;,n)){n=n.replace(/&lt;svg/,'&lt;svg xmlns=\&quot;http://www.w3.org/2000/svg\&quot;')}}if(i&amp;&amp;l!==\&quot;base64\&quot;){l=\&quot;base64\&quot;;n=window.btoa(n)}return\&quot;data:\&quot;+t+\&quot;;\&quot;+l+\&quot;,\&quot;+n};utils.hasOwnProp=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};utils.makeHashMap=function(){var e=Object.create(null);Object.defineProperty(e,\&quot;hasOwnProperty\&quot;,{enumerable:false,configurable:false,writable:false,value:Object.prototype.hasOwnProperty.bind(e)});return e};utils.getMatches=function(e,t){var i=undefined;if(typeof e===\&quot;string\&quot;){e=$tw.wiki.compileFilter(e)}if(t!=null&amp;&amp;typeof t===\&quot;object\&quot;){var r=$tw.wiki;if(!Array.isArray(t)){t=Object.keys(t)}i=function(e){for(var i=t.length;i--;){var n=r.getTiddler(t[i]);e(n,t[i])}}}return e.call($tw.wiki,i)};var eTyFiltAutoPrefix=\&quot;[all[]] \&quot;;utils.getEdgeTypeMatches=function(e,t){if(!t){var i=$tm.path.edgeTypes+\&quot;/\&quot;;t=utils.getTiddlersByPrefix(i,{iterator:\&quot;eachTiddlerPlusShadows\&quot;,removePrefix:true})}if(t!=null&amp;&amp;!Array.isArray(t)){t=Object.keys(t)}return utils.getMatches(eTyFiltAutoPrefix+(e||\&quot;\&quot;),t)};utils.isEdgeTypeMatch=function(e,t){return utils.isMatch(e,eTyFiltAutoPrefix+(t||\&quot;\&quot;))};utils.isMatch=function(e,t){var i=utils.getTiddlerRef(e);var r=utils.getMatches(t,[i]);return i===r[0]};utils.isInteger=Number.isInteger||function(e){return typeof e===\&quot;number\&quot;&amp;&amp;isFinite(e)&amp;&amp;Math.floor(e)===e};utils.escapeRegex=function(e){return e.replace(/[-$^?.+*[\\]\\\\(){}|]/g,\&quot;\\\\$&amp;\&quot;)};utils.replaceAll=function(e,t,i){t=t||\&quot;\&quot;;for(var r=i.length;r--;){var n=i[r];var l=t;if(Array.isArray(n)){l=n[1];n=n[0]}e=e.replace(n,l)}return e};utils.isTrue=function(e,t){if(e==null){return!!t}else if(typeof e===\&quot;string\&quot;){var i=parseInt(e);return isNaN(i)?e===\&quot;true\&quot;:i!==0}else if(typeof e===\&quot;boolean\&quot;){return e}else if(typeof e===\&quot;number\&quot;){return i!==0}return false};utils.getTiddlerRef=function(e){if(e instanceof $tw.Tiddler){return e.fields.title}else if(typeof e===\&quot;string\&quot;){return e}};utils.getTiddler=function(e,t){if(e instanceof $tw.Tiddler){if(!t){return e}e=e.fields.title}return $tw.wiki.getTiddler(e)};utils.getBasename=function(e){return e.substring(e.lastIndexOf(\&quot;/\&quot;)+1)};utils.notify=function(e){var t=\&quot;$:/temp/tiddlymap/notify\&quot;;$tw.wiki.addTiddler(new $tw.Tiddler({title:t,text:e}));$tw.notifier.display(t)};utils.tiddlerExists=function(e){var t=utils.getTiddlerRef(e);return t&amp;&amp;($tw.wiki.tiddlerExists(t)||$tw.wiki.isShadowTiddler(t))};utils.isPreviewed=function(e){if(e){if(e.getVariable(\&quot;tv-tiddler-preview\&quot;)){return true}else{var t=\&quot;tc-tiddler-preview-preview\&quot;;return!!utils.getAncestorWithClass(e.parentDomNode,t)}}return false};utils.getAncestorWithClass=function(e,t){if(typeof e!==\&quot;object\&quot;||typeof t!==\&quot;string\&quot;)return;while(e.parentNode){e=e.parentNode;if($tw.utils.hasClass(e,t)){return e}}};utils.getPropertiesByPrefix=function(e,t,i){var r=utils.makeHashMap();for(var n in e){if(utils.startsWith(n,t)){r[i?n.substr(t.length):n]=e[n]}}return r};utils.getWithoutPrefix=function(e,t){return utils.startsWith(e,t)?e.substr(t.length):e};utils.hasKeyWithPrefix=function(e,t){for(var i in e){if(utils.startsWith(i,t)){return true}}return false};utils.startsWith=function(e,t){return e.substring(0,t.length)===t};utils.hasElements=function(e){return Object.keys(e).length&gt;0};utils.groupByProperty=function(e,t){e=utils.getIterableCollection(e);var i=utils.makeHashMap();var r=Object.keys(e);for(var n in r){var l=e[r[n]];var s=l[t];if(s==null){throw\&quot;Cannot group by property \&quot;+t}else{if(!Array.isArray(i[s])){i[s]=[]}i[s].push(l)}}return i};utils.findAndRemoveClassNames=function(e){for(var t=e.length;t--;){var i=document.getElementsByClassName(e[t]);for(var r=i.length;r--;){$tw.utils.removeClass(i[r],e[t])}}};utils.parseFieldData=function(e,t,i){var r=utils.getTiddler(e);if(!r)return i;if(!t)t=\&quot;text\&quot;;return utils.parseJSON(r.fields[t],i)};utils.getImgFromWeb=function(e,t){if(!e||typeof t!==\&quot;function\&quot;)return;var i=new XMLHttpRequest;i.open(\&quot;GET\&quot;,e,true);i.responseType=\&quot;blob\&quot;;i.onerror=function(e){console.log(e)};i.onload=function(e){if(this.readyState===4&amp;&amp;this.status===200){var i=this.response;t(window.URL.createObjectURL(i))}};try{i.send()}catch(r){console.log(r)}};utils.parseJSON=function(e,t){try{return JSON.parse(e)}catch(i){return t}};utils.writeFieldData=function(e,t,i){if(typeof i===\&quot;object\&quot;){utils.setField(e,t,JSON.stringify(i))}};utils.getPrettyFilter=function(e){e=e.trim().replace(\&quot;][\&quot;,\&quot;] [\&quot;);var t=/[\\+\\-]?\\[.+?[\\]\\}\\&gt;]\\]/g;var i=e.match(t);e=e.replace(t,\&quot; [] \&quot;).trim();var r=e.split(/\\s+/);var n=0;var l=[];for(var s=0;s&lt;r.length;s++){l[s]=r[s]===\&quot;[]\&quot;?i[n++]:r[s]}return l.join(\&quot;\\n\&quot;)};utils.setField=function(e,t,i){if(!e||!t)return;var r=utils.getTiddlerRef(e);var n={title:r};n[t]=i;var l=$tw.wiki.getTiddler(r,true);if(t!==\&quot;text\&quot;&amp;&amp;l&amp;&amp;!l.fields.text){n.text=\&quot;\&quot;}var l=new $tw.Tiddler(l,n);$tw.wiki.addTiddler(l);return l};utils.clone=function(e,t){utils.setField(e,\&quot;title\&quot;,t)};utils.setEntry=function(e,t,i){$tw.wiki.setText(utils.getTiddlerRef(e),null,t,i)};utils.getEntry=function(e,t,i){var r=$tw.wiki.getTiddlerData(utils.getTiddlerRef(e),{});return r[t]==null?i:r[t]};utils.isLeftVersionGreater=function(e,t){return e!==t&amp;&amp;$tw.utils.checkVersions(e,t)};utils.getField=function(e,t,i){var r=utils.getTiddler(e);return!r?i||\&quot;\&quot;:r.fields[t]||i||\&quot;\&quot;};utils.getText=function(e,t){return utils.getField(e,\&quot;text\&quot;,t)};utils.setText=function(e,t){utils.setField(e,\&quot;text\&quot;,t)};utils.getFirstElementByClassName=function(e,t,i){var r=(t||document).getElementsByClassName(e)[0];if(!r&amp;&amp;(typeof i===\&quot;boolean\&quot;?i:true)){var n=\&quot;Missing element with class \&quot;+e+\&quot; inside \&quot;+t;throw new utils.exception.EnvironmentError(n)}return r};utils.isDraft=function(e){var t=utils.getTiddler(e);return t&amp;&amp;t.isDraft()};utils.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e)+e)};utils.pickRandom=function(e){return e[utils.getRandomInt(0,e.length-1)]};utils.getRandomLabel=function(e){e=e||{};var t=[\&quot;exciting\&quot;,\&quot;notable\&quot;,\&quot;epic\&quot;,\&quot;new\&quot;,\&quot;fancy\&quot;,\&quot;great\&quot;,\&quot;cool\&quot;,\&quot;fresh\&quot;,\&quot;funky\&quot;,\&quot;clever\&quot;];var i=[\&quot;concept\&quot;,\&quot;idea\&quot;,\&quot;thought\&quot;,\&quot;topic\&quot;,\&quot;subject\&quot;];return\&quot;My\&quot;+\&quot; \&quot;+utils.pickRandom(t)+\&quot; \&quot;+(e.object||utils.pickRandom(i))+(e.plural?\&quot;s\&quot;:\&quot;\&quot;)};utils.merge=function(){var e=function(t,i){if(typeof t!==\&quot;object\&quot;){t={}}for(var r in i){if(i.hasOwnProperty(r)){if(i[r]!=null){t[r]=typeof i[r]===\&quot;object\&quot;?e(t[r],i[r]):i[r]}}}return t};return function(t){for(var i=1,r=arguments.length;i&lt;r;i++){var n=arguments[i];if(n!=null&amp;&amp;typeof n===\&quot;object\&quot;){t=e(t,n)}}return t}}();utils.drawRaster=function(e,t,i,r,n){var r=parseInt(r)||10;var l=e.canvas;var s=l.width/t;var u=l.width/t;var a=i.x-s/2;var f=i.y-u/2;for(var o=a;o&lt;s;o+=r){e.moveTo(o,f);e.lineTo(o,u)}for(var d=f;d&lt;u;d+=r){e.moveTo(a,d);e.lineTo(s,d)}e.strokeStyle=n||\&quot;#D9D9D9\&quot;;e.stroke()};utils.isSystemOrDraft=function(e){if($tw.wiki.isSystemTiddler(utils.getTiddlerRef(e))){return true}var t=utils.getTiddler(e);return t&amp;&amp;t.isDraft()};utils.getMergedTiddlers=function(e,t){if(!Array.isArray(e))return;for(var i=e.length;i--;){e[i]=utils.getTiddler(e[i])}if(!e.length)return;e.push({title:t||e[0].fields.title},$tw.wiki.getModificationFields(),$tw.wiki.getCreationFields());e.unshift(null);return new(Function.prototype.bind.apply($tw.Tiddler,e))};utils.getChildWidgetByProperty=function(e,t,i){var r=e.children;for(var n=r.length;n--;){var l=r[n];if(l[t]===i){return l}else{l=utils.getChildWidgetByProperty(l,t,i);if(l){return l}}}};utils.setDomListeners=function(e,t,i,r){r=typeof r===\&quot;boolean\&quot;?r:false;e=e+\&quot;EventListener\&quot;;for(var n in i){var l=i[n];if(typeof l===\&quot;function\&quot;){t[e](n,l,r)}else{t[e](n,l[0],typeof l[1]===\&quot;boolean\&quot;?l[1]:r)}}};utils.removeArrayElement=function(e,t){var i=e.indexOf(t);if(i&gt;-1){return e.splice(i,1)[0]}};utils.removeDOMChildNodes=function(e){for(var t=e.childNodes.length;t--;){e.removeChild(e.childNodes[t])}};utils.addTWlisteners=function(e,t,i){for(var r in e){t.addEventListener(r,e[r].bind(i))}};utils.bind=function(e,t){if(typeof t===\&quot;string\&quot;){t=[t]}else{for(var i=t.length;i--;){var r=e[t[i]];if(typeof r===\&quot;function\&quot;){e[t[i]]=r.bind(e)}}}};utils.mv=function(e,t,i,r){if(e===t||!e||!t)return;i=typeof i===\&quot;boolean\&quot;?i:false;r=typeof r===\&quot;boolean\&quot;?r:true;var n=utils.getTiddlersByPrefix(e);var l=utils.makeHashMap();for(var s=n.length;s--;){var u=n[s];var a=u.replace(e,t);if($tw.wiki.tiddlerExists(a)&amp;&amp;!i){return}l[u]=a}for(var u in l){utils.setField(u,\&quot;title\&quot;,l[u]);if(r)$tw.wiki.deleteTiddler(u)}return l};utils.cp=function(e,t,i){return utils.mv(e,t,i,false)};utils.inArray=function(e,t){return t.indexOf(e)!==-1};utils.hasSubString=function(e,t){return e.indexOf(t)!==-1};utils.joinAndWrap=function(e,t,i,r){if(!r)r=\&quot; \&quot;;return t+e.join(i+r+t)+i};utils.keysOfItemsWithProperty=function(e,t,i,r){e=utils.getIterableCollection(e);var n=Object.keys(e);var l=[];var r=typeof r===\&quot;number\&quot;?r:n.length;for(var s=0,u=n.length;s&lt;u;s++){var a=n[s];if(typeof e[a]===\&quot;object\&quot;&amp;&amp;e[a][t]){if(!i||e[a][t]===i){l.push(a);if(l.length===r){break}}}}return l};utils.keyOfItemWithProperty=function(e,t,i){var r=utils.keysOfItemsWithProperty(e,t,i,1);return r.length?r[0]:undefined};utils.deleteByPrefix=function(e,t){if(!e)return;t=t||$tw.wiki.allTitles();var i=[];for(var r=t.length;r--;){if(utils.startsWith(t[r],e)){$tw.wiki.deleteTiddler(t[r]);i.push(i[r])}}return i};utils.getIterableCollection=function(e){return e instanceof vis.DataSet?e.get():e};utils.getLookupTable=function(e,t){e=utils.getIterableCollection(e);var i=utils.makeHashMap();var r=Object.keys(e);for(var n=0,l=r.length;n&lt;l;n++){var s=r[n];var u=t?e[s][t]:e[s];var a=typeof u;if(a===\&quot;string\&quot;&amp;&amp;u!==\&quot;\&quot;||a===\&quot;number\&quot;){if(!i[u]){i[u]=t?e[s]:true;continue}}throw'TiddlyMap: Cannot use \&quot;'+ltIndex+'\&quot; as lookup table index'}return i};utils.getWithoutNewLines=function(e){if(typeof e===\&quot;string\&quot;){return e.replace(/[\\n\\r]/g,\&quot; \&quot;)}};utils.getArrayValuesAsHashmapKeys=function(e){return utils.getLookupTable(e)};utils.getTiddlersWithField=function(e,t,i){if(!i||typeof i!==\&quot;object\&quot;)i={};var r=i.tiddlers||$tw.wiki.allTitles();var n=i.limit||0;var l=i.isIncludeDrafts===true;var s=utils.makeHashMap();var u=Object.keys(r);var a=$tw.utils.hop;for(var f=u.length;f--;){var o=utils.getTiddler(r[u[f]]);var d=o.fields;if(a(d,e)&amp;&amp;(!a(d,\&quot;draft.of\&quot;)||l)){if(!t||d[e]===t){s[d.title]=o;if(--n===0)break}}}return s};utils.getTiddlerWithField=function(e,t){var i=utils.getTiddlersWithField(e,t,{limit:1});return Object.keys(i)[0]};utils.getTiddlersByPrefix=function(e,t){t=t||{};var i=t.removePrefix===true;var r=[];$tw.wiki[t.iterator||\&quot;each\&quot;](function(t,n){if(utils.startsWith(n,e)){r.push(i?utils.getWithoutPrefix(n,e):n)}});return r};utils.addTiddler=function(e,t){var i=utils.getTiddler(e);if(!t&amp;&amp;i)return i;i=new $tw.Tiddler({title:e,text:\&quot;\&quot;},$tw.wiki.getModificationFields(),$tw.wiki.getCreationFields());$tw.wiki.addTiddler(i);return i};utils.getSnapshotTitle=function(e,t){return\&quot;Snapshot – \&quot;+e+\&quot; (\&quot;+(new Date).toDateString()+\&quot;)\&quot;+\&quot;.\&quot;+(t||\&quot;png\&quot;)};utils.exception=exception;utils.URL=URL;utils.makeDraftTiddler=function(e){var t=$tw.wiki.findDraft(e);if(t){return $tw.wiki.getTiddler(t)}var i=$tw.wiki.getTiddler(e);t=utils.generateDraftTitle(e);var r=new $tw.Tiddler(i,{title:t,\&quot;draft.title\&quot;:e,\&quot;draft.of\&quot;:e},$tw.wiki.getModificationFields());$tw.wiki.addTiddler(r);return r};utils.generateDraftTitle=function(e){var t=0,i;do{i=\&quot;Draft \&quot;+(t?t+1+\&quot; \&quot;:\&quot;\&quot;)+\&quot;of '\&quot;+e+\&quot;'\&quot;;t++}while($tw.wiki.tiddlerExists(i));return i};utils.touch=function(e){utils.setField(e,\&quot;modified\&quot;,new Date)};utils.getFullScreenApis=function(){var e=document,t=e.body,i={_requestFullscreen:t.webkitRequestFullscreen!==undefined?\&quot;webkitRequestFullscreen\&quot;:t.mozRequestFullScreen!==undefined?\&quot;mozRequestFullScreen\&quot;:t.msRequestFullscreen!==undefined?\&quot;msRequestFullscreen\&quot;:t.requestFullscreen!==undefined?\&quot;requestFullscreen\&quot;:\&quot;\&quot;,_exitFullscreen:e.webkitExitFullscreen!==undefined?\&quot;webkitExitFullscreen\&quot;:e.mozCancelFullScreen!==undefined?\&quot;mozCancelFullScreen\&quot;:e.msExitFullscreen!==undefined?\&quot;msExitFullscreen\&quot;:e.exitFullscreen!==undefined?\&quot;exitFullscreen\&quot;:\&quot;\&quot;,_fullscreenElement:e.webkitFullscreenElement!==undefined?\&quot;webkitFullscreenElement\&quot;:e.mozFullScreenElement!==undefined?\&quot;mozFullScreenElement\&quot;:e.msFullscreenElement!==undefined?\&quot;msFullscreenElement\&quot;:e.fullscreenElement!==undefined?\&quot;fullscreenElement\&quot;:\&quot;\&quot;,_fullscreenChange:e.webkitFullscreenElement!==undefined?\&quot;webkitfullscreenchange\&quot;:e.mozFullScreenElement!==undefined?\&quot;mozfullscreenchange\&quot;:e.msFullscreenElement!==undefined?\&quot;MSFullscreenChange\&quot;:e.fullscreenElement!==undefined?\&quot;fullscreenchange\&quot;:\&quot;\&quot;};if(!i._requestFullscreen||!i._exitFullscreen||!i._fullscreenElement){return null}else{return i}};utils.flatten=function(e,t){t=t||{};var i=t.delimiter||\&quot;.\&quot;;var r=t.prefix||\&quot;\&quot;;var n={};function l(e,s){Object.keys(e).forEach(function(u){var a=e[u];var f=t.safe&amp;&amp;Array.isArray(a);var o=Object.prototype.toString.call(a);var d=o===\&quot;[object Object]\&quot;||o===\&quot;[object Array]\&quot;;var c=s?s+i+u:r+u;if(!f&amp;&amp;d){return l(a,c)}n[c]=a})}l(e);return n};utils.unflatten=function(e,t){t=t||{};var i=t.delimiter||\&quot;.\&quot;;var r={};if(Object.prototype.toString.call(e)!==\&quot;[object Object]\&quot;){return e}function n(e){var t=Number(e);return isNaN(t)||e.indexOf(\&quot;.\&quot;)!==-1?e:t}Object.keys(e).forEach(function(l){var s=l.split(i);var u=n(s.shift());var a=n(s[0]);var f=r;while(a!==undefined){if(f[u]===undefined){f[u]=typeof a===\&quot;number\&quot;&amp;&amp;!t.object?[]:{}}f=f[u];if(s.length&gt;0){u=n(s.shift());a=n(s[0])}}f[u]=utils.unflatten(e[l],t)});return r};utils.genUUID=function(){var e=\&quot;0123456789abcdefghijklmnopqrstuvwxyz\&quot;.split(\&quot;\&quot;);return function(){var t=e,i=new Array(36);var r=0,n;for(var l=0;l&lt;36;l++){if(l==8||l==13||l==18||l==23){i[l]=\&quot;-\&quot;}else if(l==14){i[l]=\&quot;4\&quot;}else{if(r&lt;=2)r=33554432+Math.random()*16777216|0;n=r&amp;15;r=r&gt;&gt;4;i[l]=t[l==19?n&amp;3|8:n]}}return i.join(\&quot;\&quot;)}}();&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/utils&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/ViewAbstraction&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/ViewAbstraction\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports=ViewAbstraction;var EdgeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/EdgeType\&quot;);var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);function ViewAbstraction(t,e){e=e||{};this._edgeTypePath=$tm.path.edgeTypes;if(t instanceof ViewAbstraction){return t}this._registerPaths(t,e.isCreate);if(e.isCreate){this._createView(e)}else if(!this.exists()){return{exists:function(){return false}}}this.rebuildCache()}ViewAbstraction.prototype._noNeedToRebuildCache=false;ViewAbstraction.prototype._registerPaths=function(t,e){this.comp=this.comp||utils.makeHashMap();this.comp.config=this._getConfigPath(t,e);this.comp.map=this.comp.config+\&quot;/map\&quot;;this.comp.nodeFilter=this.comp.config+\&quot;/filter/nodes\&quot;;this.comp.edgeTypeFilter=this.comp.config+\&quot;/filter/edges\&quot;};ViewAbstraction.prototype._getConfigPath=function(t,e){if(t instanceof $tw.Tiddler){return t.fields.title}if(typeof t===\&quot;string\&quot;){t=utils.getWithoutPrefix(t,$tm.path.views+\&quot;/\&quot;);if(t&amp;&amp;!utils.hasSubString(t,\&quot;/\&quot;)){return $tm.path.views+\&quot;/\&quot;+t}}if(e){var i=$tm.path.views+\&quot;/\&quot;+utils.getRandomLabel({plural:true});return $tw.wiki.generateNewTitle(i)}};ViewAbstraction.prototype.getPaths=function(){return this.comp};ViewAbstraction.prototype._createView=function(t){if(this.exists()){if(!t.isForce)return;this.destroy()}var e=new ViewAbstraction(t.protoView);if(e.exists()){var i=utils.cp(e.getRoot(),this.comp.config,true)}var r={};r.title=this.comp.config;if(!t.isHidden){r[$tm.field.viewMarker]=true}r.id=utils.genUUID();$tw.wiki.addTiddler(new $tw.Tiddler(utils.getTiddler(this.comp.config),r));this.setEdgeTypeFilter($tm.filter.defaultEdgeTypeFilter)};ViewAbstraction.prototype.isLocked=function(){return $tw.wiki.isShadowTiddler(this.comp.config)};ViewAbstraction.prototype.update=function(t){var e=t.changedTiddlers;if(t[$tm.path.edgeTypes]||utils.hasKeyWithPrefix(e,this.comp.config)){this.rebuildCache();return true}};ViewAbstraction.prototype.rebuildCache=function(t){if(!t&amp;&amp;this._noNeedToRebuildCache){this._noNeedToRebuildCache=false;return}this.config=this.getConfig(null,true);this.nodeData=this.getNodeData(null,true);this.nodeFilter=this.getNodeFilter(null,true);this.edgeTypeFilter=this.getEdgeTypeFilter(null,true)};ViewAbstraction.prototype.addPlaceholder=function(t){utils.cp(t,this.getRoot()+\&quot;/snapshot\&quot;,true)};ViewAbstraction.prototype.exists=function(){return utils.tiddlerExists(this.comp.config)};ViewAbstraction.prototype.getRoot=function(){return this.comp.config};ViewAbstraction.prototype.getCreationDate=function(t){var e=$tw.wiki.getTiddler(this.comp.config).fields[\&quot;created\&quot;];if(t){return e instanceof Date?$tw.utils.formatDateString(e,\&quot;DDth MMM YYYY\&quot;):\&quot;\&quot;}return e};ViewAbstraction.prototype.getLabel=function(){return utils.getBasename(this.comp.config)};ViewAbstraction.prototype.destroy=function(){var t=\&quot;[prefix[\&quot;+this.getRoot()+\&quot;]]\&quot;;utils.deleteTiddlers(utils.getMatches(t))};ViewAbstraction.prototype.getOccurrences=function(){var t=\&quot;[regexp:text[&lt;\\\\$(tiddlymap|tmap).*?view=.\&quot;+this.getLabel()+\&quot;..*?&gt;]]\&quot;;return utils.getMatches(t)};ViewAbstraction.prototype.rename=function(t){if(typeof t!==\&quot;string\&quot;)return false;if(utils.inArray(\&quot;/\&quot;,t)){$tm.notify('A view name must not contain any \&quot;/\&quot;');return false}var e=this.getLabel();var i=$tm.path.views+\&quot;/\&quot;+t;var r=this.getRoot();var o=utils.mv(r,i,true);if($tm.config.sys.defaultView===e){utils.setEntry($tm.ref.sysUserConf,\&quot;defaultView\&quot;,t)}if($tm.config.sys.liveTab.fallbackView===e){utils.setEntry($tm.ref.sysUserConf,\&quot;liveTab.fallbackView\&quot;,t)}$tw.wiki.each(function(i,r){if(i.fields[\&quot;tmap.open-view\&quot;]===e){utils.setField(r,\&quot;tmap.open-view\&quot;,t)}else if(utils.startsWith(r,$tm.path.views)){var o=new ViewAbstraction(r);if(!o.exists())return;var s=o.getNodeData();for(var n in s){if(s[n][\&quot;open-view\&quot;]===e){s[n][\&quot;open-view\&quot;]=t}}o.saveNodeData(s)}});this._registerPaths(t);this.rebuildCache()};ViewAbstraction.prototype.isEnabled=function(t){return utils.isTrue(this.getConfig(t),false)};ViewAbstraction.prototype.getConfig=function(t,e,i){if(!e&amp;&amp;this.config){var r=this.config}else{var o=$tw.wiki.getTiddler(this.comp.config).fields;var r=utils.getPropertiesByPrefix(o,\&quot;config.\&quot;)}return t?r[utils.startsWith(t,\&quot;config.\&quot;)?t:\&quot;config.\&quot;+t]:r};ViewAbstraction.prototype.getHierarchyEdgeTypes=function(){if(this.getConfig(\&quot;layout.active\&quot;)!==\&quot;hierarchical\&quot;)return[];var t=utils.getPropertiesByPrefix(this.getConfig(),\&quot;config.layout.hierarchical.order-by-\&quot;,true);var e=utils.makeHashMap();for(var i in t){if(t[i]===\&quot;true\&quot;){var r=utils.getTiddler($tm.indeces.tById[i]);if(r){e[utils.getBasename(r.fields.title)]=true}}}return e};ViewAbstraction.prototype.setConfig=function(){var t=arguments;if(t[0]==null)return;if(t.length===1&amp;&amp;typeof t[0]===\&quot;object\&quot;){for(var e in t[0]){this.setConfig(e,t[0][e])}}else if(t.length===2&amp;&amp;typeof t[0]===\&quot;string\&quot;){var e=utils.getWithoutPrefix(t[0],\&quot;config.\&quot;);var i=t[1];if(i===undefined)return;if(i===null){$tm.logger(\&quot;debug\&quot;,\&quot;Removing config\&quot;,e);delete this.config[\&quot;config.\&quot;+e]}else{if(e===\&quot;edge_type_namespace\&quot;){var r=i.match(/[^:]+/);i=r?r[0]:\&quot;\&quot;}}$tm.logger(\&quot;log\&quot;,\&quot;Setting config\&quot;,e,i);this.config[\&quot;config.\&quot;+e]=i}else{return}$tw.wiki.addTiddler(new $tw.Tiddler($tw.wiki.getTiddler(this.comp.config),this.config));this._noNeedToRebuildCache=true};ViewAbstraction.prototype.isExplicitNode=function(t){var e=$tw.utils.escapeRegExp(this._getAddNodeFilterPart(t));return this.getNodeFilter(\&quot;raw\&quot;).match(e)};ViewAbstraction.prototype.isLiveView=function(){return this.getLabel()===$tm.misc.liveViewLabel};ViewAbstraction.prototype._getAddNodeFilterPart=function(t){if(!t){throw\&quot;Supplied param is not a node!\&quot;}var e=typeof t===\&quot;object\&quot;?t.id:t;return\&quot;[field:tmap.id[\&quot;+e+\&quot;]]\&quot;};ViewAbstraction.prototype.setNodeFilter=function(t,e){t=t.replace(/[\\n\\r]/g,\&quot; \&quot;);if(this.getNodeFilter(\&quot;raw\&quot;)===t){return}if(this.isLiveView()&amp;&amp;!e){var i=\&quot;You must not change the live view's node filter!\&quot;;$tm.notify(i);return}utils.setField(this.comp.nodeFilter,\&quot;filter\&quot;,t);$tm.logger(\&quot;debug\&quot;,\&quot;Node filter set to\&quot;,t);this.nodeFilter=this.getNodeFilter(null,true);this._noNeedToRebuildCache=true};ViewAbstraction.prototype.setEdgeTypeFilter=function(t){t=t.replace(/[\\n\\r]/g,\&quot; \&quot;);if(this.getEdgeTypeFilter(\&quot;raw\&quot;)===t){return}utils.setField(this.comp.edgeTypeFilter,\&quot;filter\&quot;,t);$tm.logger(\&quot;debug\&quot;,\&quot;Edge filter set to\&quot;,t);this.edgeTypeFilter=this.getEdgeTypeFilter(null,true);this._noNeedToRebuildCache=true};ViewAbstraction.prototype.addNode=function(t){if(this.isExplicitNode(t))return false;var e=this._getAddNodeFilterPart(t);this.setNodeFilter(this.getNodeFilter(\&quot;raw\&quot;)+\&quot; \&quot;+e);this.saveNodePosition(t)};ViewAbstraction.prototype.removeNode=function(t){if(!this.isExplicitNode(t))return false;var e=this._getAddNodeFilterPart(t);var i=this.getNodeFilter(\&quot;raw\&quot;).replace(e,\&quot;\&quot;);this.setNodeFilter(i);return true};ViewAbstraction.prototype.getEdgeTypeFilter=function(t,e){if(!e&amp;&amp;this.edgeTypeFilter){var i=this.edgeTypeFilter}else{var i=utils.makeHashMap();var r=$tm.indeces.allETy;var o=Object.keys(r);var s=$tw.wiki.getTiddler(this.comp.edgeTypeFilter);i.raw=s&amp;&amp;s.fields.filter||\&quot;\&quot;;i.pretty=utils.getPrettyFilter(i.raw);i.matches=utils.getEdgeTypeMatches(i.raw,r);i.whitelist=utils.getLookupTable(i.matches)}return t?i[t]:i};ViewAbstraction.prototype.isEdgeTypeVisible=function(t){var e={namespace:this.getConfig(\&quot;edge_type_namespace\&quot;)};var t=new EdgeType(t,null,e);return utils.isEdgeTypeMatch(t.id,this.edgeTypeFilter.raw)};ViewAbstraction.prototype.getNodeFilter=function(t,e){if(!e&amp;&amp;this.nodeFilter){var i=this.nodeFilter}else{var i=utils.makeHashMap();var r=$tw.wiki.getTiddler(this.comp.nodeFilter);i.raw=r&amp;&amp;r.fields.filter||\&quot;\&quot;;i.pretty=utils.getPrettyFilter(i.raw);i.compiled=$tw.wiki.compileFilter(i.raw)}return t?i[t]:i};ViewAbstraction.prototype.getNodeData=function(t,e){var i=!e&amp;&amp;this.nodeData?this.nodeData:utils.parseFieldData(this.comp.map,\&quot;text\&quot;,{});return t?i[t]:i};ViewAbstraction.prototype.equals=function(t){if(t===this)return true;var t=new ViewAbstraction(t);return t.exists()&amp;&amp;this.getRoot()===t.getRoot()};ViewAbstraction.prototype.saveNodeData=function(){var t=arguments;var e=this.getNodeData();if(t.length===2){if(typeof t[1]===\&quot;object\&quot;){if(t[1]===null){e[t[0]]=undefined}else{e[t[0]]=$tw.utils.extend(e[t[0]]||{},t[1])}}}else if(t.length===1&amp;&amp;typeof t[0]===\&quot;object\&quot;){$tm.logger(\&quot;log\&quot;,\&quot;Storing data in\&quot;,this.comp.map);$tw.utils.extend(e,t[0])}else{return}utils.writeFieldData(this.comp.map,\&quot;text\&quot;,e);this.nodeData=e;this._noNeedToRebuildCache=true};ViewAbstraction.prototype.saveNodePosition=function(t){if(t.id&amp;&amp;t.x&amp;&amp;t.y){this.saveNodeData(t.id,{x:t.x,y:t.y})}};ViewAbstraction.prototype.saveNodeStyle=function(t,e){var i=this.getNodeData()[t];if(i){for(var r in i){if(r!==\&quot;x\&quot;&amp;&amp;r!==\&quot;y\&quot;)i[r]=undefined}}this.saveNodeData(t,e)};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/ViewAbstraction&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/config/vis&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/config/vis\ntype: application/javascript\nmodule-type: library\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;module.exports={locale:\&quot;en_EN\&quot;,clickToUse:false,autoResize:false,height:\&quot;100%\&quot;,width:\&quot;100%\&quot;,configure:{enabled:false},interaction:{dragNodes:true,dragView:true,hideEdgesOnDrag:false,hideNodesOnDrag:false,hover:true,navigationButtons:true,multiselect:true,selectable:true,selectConnectedEdges:true,tooltipDelay:600,zoomView:false,keyboard:{enabled:false,speed:{x:10,y:10,zoom:.02},bindToWindow:false}},manipulation:{initiallyActive:true},nodes:{shape:\&quot;box\&quot;,shadow:{enabled:false},color:{border:\&quot;#2B7CE9\&quot;,background:\&quot;#97C2FC\&quot;}},edges:{smooth:{enabled:true},color:{color:\&quot;#848484\&quot;,inherit:false},arrows:{to:{enabled:true}}},physics:{forceAtlas2Based:{gravitationalConstant:-300,springLength:0,springConstant:.2,centralGravity:.015,damping:.4},solver:\&quot;forceAtlas2Based\&quot;,stabilization:{enabled:true,iterations:1e3,updateInterval:10,onlyDynamicEdges:false,fit:false}}};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/config/vis&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;library&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/macro/tmap&quot;: {
            &quot;text&quot;: &quot;/*\\\ntitle: $:/plugins/felixhayashi/tiddlymap/js/macro/tmap\ntype: application/javascript\nmodule-type: macro\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;exports.name=\&quot;tmap\&quot;;exports.params=getParamSlots(5);exports.run=run;var EdgeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/EdgeType\&quot;);var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);var ViewAbstraction=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/ViewAbstraction\&quot;);function run(){this.substVarRefs=this.substituteVariableReferences;var r=command[arguments[0]];var t=null;if(typeof r===\&quot;function\&quot;){var e=Array.prototype.slice.call(arguments,1);var t=r.apply(this,e)}return typeof t===\&quot;string\&quot;?t:\&quot;\&quot;}function getParamSlots(r){var t=[];for(var e=0;e&lt;r;e++){t.push({name:\&quot;arg\&quot;+e})}return t}var command=utils.makeHashMap();command.basename=function(r){var t=r||this.getVariable(\&quot;currentTiddler\&quot;);return utils.getBasename(t)};command.datauri=function(r,t){return utils.getDataUri(r,t,true)};command.testJSON=function(r){var t=$tw.wiki.getTiddler(this.getVariable(\&quot;currentTiddler\&quot;));try{JSON.parse(t.fields[r]);return\&quot;valid\&quot;}catch(e){return\&quot;malformed\&quot;}};command.splitAndSelect=function(r,t){var e=this.getVariable(\&quot;currentTiddler\&quot;);var a=e.split(r)[t];return a!=null?a:e};command.concat=function(){var r=\&quot;\&quot;;for(var t=1,e=arguments.length;t&lt;e;t++){r+=arguments[t]}return r};command.uuid=function(){return utils.genUUID()};command.regRepl=function(){var r=this.substVarRefs(arguments[0]);var t=arguments[1];var e=this.substVarRefs(arguments[2]);var a=this.substVarRefs(arguments[4]);return r.replace(new RegExp(t,a),e)};command.halfOfString=function(){var r=this.substVarRefs(arguments[0]);if(!r)return\&quot;\&quot;;return r.substr(0,Math.ceil(r.length/2))};command.isETyVisible=function(r,t,e){e=command.getETyId.call(this,r,e);return\&quot;\&quot;+utils.isEdgeTypeMatch(e,t)};command.getETyId=function(r,t){t=t||this.getVariable(\&quot;currentTiddler\&quot;);return new EdgeType(t,null,{namespace:r}).id};command.scale=function(){var r=\&quot;\&quot;;for(var t=1,e=parseInt(arguments[0]);t&lt;e;t++){r+=\&quot;[[\&quot;+t+\&quot;]]\&quot;}return r};command.mergeFields=function(){var r=utils.getTiddler(arguments[0]);var t=arguments[1];var e=arguments[2]||\&quot; \&quot;;if(!r)return;var a=utils.getPropertiesByPrefix(r.fields,t);var n=\&quot;\&quot;;for(var i in a){if(typeof a[i]===\&quot;string\&quot;){n+=a[i]+e}}return n};command.option=function(r,t){var e=$tm;var a=r.split(\&quot;.\&quot;);for(var n=0;n&lt;a.length;n++){if(typeof e==\&quot;object\&quot;&amp;&amp;e[a[n]]){e=e[a[n]]}}if(t&amp;&amp;typeof e===\&quot;string\&quot;&amp;&amp;utils.hasSubString(t)&amp;&amp;e.lastIndexOf(t)+t.length===e.length){e=e+t}return e};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/macro/tmap&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;macro&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/startup/caretaker&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/startup/caretaker\ntype: application/javascript\nmodule-type: startup\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;exports.name=\&quot;tmap.caretaker\&quot;;exports.platforms=[\&quot;browser\&quot;];exports.after=[\&quot;startup\&quot;,\&quot;tmap.environment\&quot;];exports.before=[\&quot;rootwidget\&quot;];exports.synchronous=true;exports.startup=startup;var visConfig=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/config/vis\&quot;);var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);var fixer=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/fixer\&quot;);var Adapter=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/Adapter\&quot;);var DialogManager=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/DialogManager\&quot;);var CallbackManager=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/CallbackManager\&quot;);var ViewAbstraction=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/ViewAbstraction\&quot;);var EdgeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/EdgeType\&quot;);var NodeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/NodeType\&quot;);var vis=require(\&quot;$:/plugins/felixhayashi/vis/vis.js\&quot;);function startup(){$tm.utils=utils;$tm.keycharm=vis.keycharm;$tm.NodeType=NodeType;$tm.EdgeType=EdgeType;$tm.ViewAbstraction=ViewAbstraction;$tm.url=new $tm.utils.URL(window.location.href);updateGlobals();createMetaFile();cleanup();attachIndeces($tm);$tm.updateTree=updateTree;setDefaults();$tm.adapter=new Adapter;fixer.fix();$tm.callbackManager=new CallbackManager;$tm.dialogManager=new DialogManager($tm.callbackManager);$tm.registry=[];window.setInterval(routineCheck,5e3);registerChangeListener($tm.callbackManager);registerMousemoveListener();registerClickListener();maybePrepareForFullscreenStart($tm.url);$tm.logger(\&quot;warn\&quot;,\&quot;TiddlyMap's caretaker successfully started\&quot;)}var attachOptions=function(e){var t=e;if(!t.config)t.config=utils.makeHashMap();t.config.sys=utils.merge(t.config.sys,utils.unflatten($tw.wiki.getTiddlerData(t.ref.sysUserConf)));t.config.vis=utils.merge({},visConfig,utils.parseFieldData(t.ref.visUserConf));if(!t.field)t.field=utils.makeHashMap();$tw.utils.extend(t.field,t.config.sys.field)};var attachIndeces=function(e){$tm.start(\&quot;Attaching Indeces\&quot;);if(!e.indeces){e.indeces={};var t=$tm.path.pluginRoot;e.indeces.tmapTiddlers=$tw.wiki.getPluginInfo(t).tiddlers}var i=$tw.wiki.allTitles();updateTiddlerVsIdIndeces(e.indeces,i);updateNodeTypesIndeces(e.indeces);updateEdgeTypesIndeces(e.indeces);$tm.stop(\&quot;Attaching Indeces\&quot;)};var updateTiddlerVsIdIndeces=function(e,t){e=e||$tm.indeces;t=t||$tw.wiki.allTitles();fixer.fixId();var i=e.tById={};var a=e.idByT={};$tw.wiki.each(function(e,t){if(utils.isSystemOrDraft(e))return;var r=e.fields[\&quot;tmap.id\&quot;];if(!r){r=utils.genUUID();utils.setField(e,\&quot;tmap.id\&quot;,r)}i[r]=t;a[t]=r})};var updateNodeTypesIndeces=function(e){e=e||$tm.indeces;var t=$tm.path.nodeTypes;var i=e.glNTy=[];$tw.wiki.eachTiddlerPlusShadows(function(e,a){if(utils.startsWith(a,t)){i.push(new NodeType(a))}});i.sort(function(e,t){return e.priority-t.priority})};var updateEdgeTypesIndeces=function(e){e=e||$tm.indeces;var t=$tm.path.edgeTypes;var i=e.allETy=utils.makeHashMap();var a=e.maETyFiNa=utils.makeHashMap();var r=utils.getLookupTable($tm.misc.magicETyNamespaces);$tw.wiki.eachTiddlerPlusShadows(function(e,s){if(utils.startsWith(s,t)){var n=new EdgeType(s);i[n.id]=n;if(r[n.namespace]){a[n.name]=n}}})};var updateAdjacencyList=function(e){};var attachFunctions=function(e){var t=e;var i=function(){};if(utils.isTrue($tm.config.sys.debug,false)&amp;&amp;console){t.logger=function(){if(arguments.length&lt;2)return;var e=Array.prototype.slice.call(arguments);var t=e.shift(e);var i=console.hasOwnProperty(t)?t:\&quot;debug\&quot;;console[i].apply(console,e)};t.start=function(e){console.time(\&quot;[timer] \&quot;+e)};t.stop=function(e){console.timeEnd(\&quot;[timer] \&quot;+e)}}else{t.logger=t.start=t.stop=i}t.notify=utils.isTrue($tm.config.sys.notifications)?utils.notify:i};var routineCheck=function(){for(var e=$tm.registry.length;e--;){var t=$tm.registry[e];if(!t.destruct||!t.isZombieWidget)return;if(t.isZombieWidget()){$tm.logger(\&quot;warn\&quot;,\&quot;a widget will be removed\&quot;);$tm.registry.splice(e,1);t.destruct()}}};var dispatchUpdates=function(e){var t=$tm.registry;for(var i=t.length;i--;){var a=t[i];if(!a.destruct||!a.isZombieWidget)return;if(a.update&amp;&amp;!a.isZombieWidget()){a.update(e)}}};var checkForDublicates=function(e){var t=e.fields[\&quot;tmap.id\&quot;];if(!t)return;var i=$tm;var a=utils.getTiddlersWithField(\&quot;tmap.id\&quot;,t,{limit:2});delete a[e.fields.title];var r=Object.keys(a)[0];if(r){var s={param:{changedTiddler:e.fields.title,existingTiddler:r,id:t}};$tm.dialogManager.open(\&quot;dublicateIdInfo\&quot;,s)}if(r){utils.setField(e,\&quot;tmap.edges\&quot;,undefined);$tm.adapter.assignId(e,true)}};var updateGlobals=function(e){attachOptions($tm);attachFunctions($tm);$tm.logger(\&quot;warn\&quot;,\&quot;Rebuilt globals\&quot;)};var lastCurrentTiddler=null;var updateLiveViewTrigger=function(e){if(e[\&quot;$:/HistoryList\&quot;]){var t=utils.getField(\&quot;$:/HistoryList\&quot;,\&quot;current-tiddler\&quot;)}else if(e[\&quot;$:/temp/focussedTiddler\&quot;]){var t=utils.getField(\&quot;$:/temp/focussedTiddler\&quot;,\&quot;text\&quot;)}if(t!=null&amp;&amp;lastCurrentTiddler!==t){lastCurrentTiddler=t;utils.setField(\&quot;$:/temp/tmap/currentTiddler\&quot;,\&quot;text\&quot;,t)}};var printChanges=function(e,t){if(!utils.isTrue($tm.config.sys.debug,false))return;$tm.logger(\&quot;warn\&quot;,\&quot;=== Refresh \&quot;+t+\&quot; ===\&quot;);for(var i in e){var a=e[i].deleted?\&quot;[Deleted]\&quot;:\&quot;[Modified]\&quot;;$tm.logger(\&quot;warn\&quot;,a,i,$tw.wiki.getTiddler(i))}};var registerMousemoveListener=function(){$tm.mouse={};var e=function(e){$tm.mouse=e};window.addEventListener(\&quot;mousemove\&quot;,e,false)};var registerClickListener=function(){var e=$tm.path.tempPopups;window.addEventListener(\&quot;click\&quot;,function(t){var i=utils.getTiddlersByPrefix(e);for(var a=i.length;a--;){if(utils.getText(i[a]))break}if(a===-1)return;if(!$tw.utils.hasClass(t.target,\&quot;tc-drop-down\&quot;)&amp;&amp;!utils.getAncestorWithClass(t.target,\&quot;tc-drop-down\&quot;)){for(var a=i.length;a--;){utils.setText(i[a],\&quot;\&quot;)}}},false)};var updateTree=function(){updateGlobals();updateNodeTypesIndeces();updateEdgeTypesIndeces()};var registerChangeListener=function(e){var t=0;var i={};i[$tm.path.options]=updateGlobals;i[$tm.path.nodeTypes]=updateNodeTypesIndeces;i[$tm.path.edgeTypes]=updateEdgeTypesIndeces;$tw.wiki.addEventListener(\&quot;change\&quot;,function(a){$tm.start(\&quot;Caretaker handling changes\&quot;);printChanges(a,t++);e.handleChanges(a);var r={changedTiddlers:a};for(var s in a){var n=utils.getTiddler(s);if(n&amp;&amp;n.isDraft())continue;if($tw.wiki.isSystemTiddler(s)){handleSysTidChanges(s,n,r,i)}else{handleTidChanges(s,n,r)}}dispatchUpdates(r);updateLiveViewTrigger(a);$tm.stop(\&quot;Caretaker handling changes\&quot;)})};var handleSysTidChanges=function(e,t,i,a){var r=$tm.path;for(var s in a){if(utils.startsWith(e,s)&amp;&amp;!i[s]){$tm.logger(\&quot;warn\&quot;,\&quot;[System change]\&quot;,s);a[s]();i[s]=true;return}}};var handleTidChanges=function(e,t,i){if(t){checkForDublicates(t);$tm.adapter.assignId(t)}else{var a=$tm.indeces.idByT[e];if(!a)return;var r=utils.getTiddlerWithField(\&quot;tmap.id\&quot;,a);if(r){$tm.logger(\&quot;warn\&quot;,\&quot;[Renamed]\&quot;,e,\&quot;into\&quot;,r)}else{$tm.adapter.deleteNode(a)}}};var cleanup=function(){utils.deleteByPrefix(\&quot;$:/temp/felixhayashi\&quot;);utils.deleteByPrefix(\&quot;$:/temp/tiddlymap\&quot;);utils.deleteByPrefix(\&quot;$:/temp/tmap\&quot;)};var setDefaults=function(){var e=$tm.config.sys.defaultView;if(!e)return;utils.setField($tm.ref.defaultViewHolder,\&quot;text\&quot;,e)};var maybePrepareForFullscreenStart=function(e){if(!e.query[\&quot;tmap-enlarged\&quot;])return;var t=$tm.ref;var i=utils.getTiddlersByPrefix(\&quot;$:/state/tab/sidebar-\&quot;)[0];utils.setText(i,t.mainEditor);var a=new ViewAbstraction(e.query[\&quot;tmap-view\&quot;]);if(a.exists()){utils.setField(t.defaultViewHolder,\&quot;text\&quot;,a.getLabel())}};var createMetaFile=function(){if(utils.tiddlerExists($tm.ref.sysMeta))return;$tm.logger(\&quot;warn\&quot;,\&quot;Creating meta file\&quot;);var e=$tw.wiki.getTiddler($tm.path.pluginRoot);$tw.wiki.setTiddlerData($tm.ref.sysMeta,{originalVersion:e.fields.version,dataStructureState:\&quot;0.6.9\&quot;,showWelcomeMessage:true})};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/startup/caretaker&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/startup/environment&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/startup/environment\ntype: application/javascript\nmodule-type: startup\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;exports.name=\&quot;tmap.environment\&quot;;exports.platforms=[\&quot;browser\&quot;];exports.after=[\&quot;startup\&quot;];exports.before=[\&quot;tmap.caretaker\&quot;];exports.synchronous=true;exports.startup=run;function run(e){window.$tm={};$tm.path={pluginRoot:\&quot;$:/plugins/felixhayashi/tiddlymap\&quot;,edgeTypes:\&quot;$:/plugins/felixhayashi/tiddlymap/graph/edgeTypes\&quot;,nodeTypes:\&quot;$:/plugins/felixhayashi/tiddlymap/graph/nodeTypes\&quot;,views:\&quot;$:/plugins/felixhayashi/tiddlymap/graph/views\&quot;,options:\&quot;$:/plugins/felixhayashi/tiddlymap/config\&quot;,dialogs:\&quot;$:/plugins/felixhayashi/tiddlymap/dialog\&quot;,footers:\&quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter\&quot;,tempRoot:\&quot;$:/temp/tmap\&quot;,tempStates:\&quot;$:/temp/tmap/state\&quot;,tempPopups:\&quot;$:/temp/tmap/state/popup\&quot;,localHolders:\&quot;$:/temp/tmap/holders\&quot;};$tm.ref={defaultViewHolder:\&quot;$:/plugins/felixhayashi/tiddlymap/misc/defaultViewHolder\&quot;,graphBar:\&quot;$:/plugins/felixhayashi/tiddlymap/misc/advancedEditorBar\&quot;,sysUserConf:\&quot;$:/plugins/felixhayashi/tiddlymap/config/sys/user\&quot;,visUserConf:\&quot;$:/plugins/felixhayashi/tiddlymap/config/vis/user\&quot;,welcomeFlag:\&quot;$:/plugins/felixhayashi/tiddlymap/flag/welcome\&quot;,focusButton:\&quot;$:/plugins/felixhayashi/tiddlymap/misc/focusButton\&quot;,sysMeta:\&quot;$:/plugins/felixhayashi/tiddlymap/misc/meta\&quot;,liveTab:\&quot;$:/plugins/felixhayashi/tiddlymap/hook/liveTab\&quot;,mainEditor:\&quot;$:/plugins/felixhayashi/tiddlymap/hook/editor\&quot;,sidebarBreakpoint:\&quot;$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint\&quot;};$tm.misc={unknownEdgeLabel:\&quot;tmap:undefined\&quot;,liveViewLabel:\&quot;Live View\&quot;,defaultViewLabel:\&quot;Default\&quot;,mainEditorId:\&quot;main_editor\&quot;,arrows:{\&quot;in\&quot;:\&quot;⇦\&quot;,out:\&quot;➡\&quot;,bi:\&quot;⇄\&quot;},magicETyNamespaces:[\&quot;tw-list\&quot;,\&quot;tw-field\&quot;,\&quot;tw-filter\&quot;]};$tm.config={sys:{field:{nodeLabel:\&quot;caption\&quot;,nodeIcon:\&quot;icon\&quot;,nodeInfo:\&quot;description\&quot;,viewMarker:\&quot;isview\&quot;},liveTab:{fallbackView:$tm.misc.liveViewLabel},suppressedDialogs:{},edgeClickBehaviour:\&quot;manager\&quot;,debug:\&quot;false\&quot;,notifications:\&quot;true\&quot;,popups:{enabled:\&quot;true\&quot;,delay:\&quot;600\&quot;,width:\&quot;240px\&quot;,height:\&quot;140px\&quot;},editNodeOnCreate:\&quot;false\&quot;,singleClickMode:\&quot;false\&quot;,editorMenuBar:{showNeighScopeButton:\&quot;true\&quot;,showScreenshotButton:\&quot;true\&quot;}}};$tm.filter={nodeTypes:\&quot;[prefix[\&quot;+$tm.path.nodeTypes+\&quot;]]\&quot;,edgeTypes:\&quot;[prefix[\&quot;+$tm.path.edgeTypes+\&quot;]]\&quot;,views:\&quot;[\&quot;+$tm.config.sys.field.viewMarker+\&quot;[true]]\&quot;};$tm.filter.defaultEdgeTypeFilter=\&quot; -[prefix[_]]\&quot;+\&quot; -[[tw-body:link]]\&quot;+\&quot; -[[tw-list:tags]]\&quot;+\&quot; -[[tw-list:list]]\&quot;;var i=$tm.selector={};var a=\&quot;[all[tiddlers+shadows]!has[draft.of]]\&quot;;i.allEdgeTypes=a+\&quot; +\&quot;+$tm.filter.edgeTypes;i.allEdgeTypesById=i.allEdgeTypes+\&quot; +[removeprefix[\&quot;+$tm.path.edgeTypes+\&quot;/]]\&quot;;i.allNodeTypes=a+\&quot; +\&quot;+$tm.filter.nodeTypes;i.allNodeTypesById=i.allNodeTypes+\&quot; +[removeprefix[\&quot;+$tm.path.nodeTypes+\&quot;/]]\&quot;;i.allViews=a+\&quot; +\&quot;+$tm.filter.views;i.allViewsByLabel=i.allViews+\&quot;+[removeprefix[\&quot;+$tm.path.views+\&quot;/]]\&quot;;i.allPotentialNodes=\&quot;[all[tiddlers]!is[system]!has[draft.of]]\&quot;}&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/startup/environment&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/startup/listener&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/startup/listener\ntype: application/javascript\nmodule-type: startup\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;exports.name=\&quot;tmap.listener\&quot;;exports.platforms=[\&quot;browser\&quot;];exports.after=[\&quot;rootwidget\&quot;,\&quot;tmap.caretaker\&quot;];exports.before=[\&quot;story\&quot;];exports.synchronous=true;exports.startup=function(){new GlobalListener};var NodeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/NodeType\&quot;);var EdgeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/EdgeType\&quot;);var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);var visDefConf=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/config/vis\&quot;);function GlobalListener(){this.wiki=$tw.wiki;utils.addTWlisteners({\&quot;tmap:tm-remove-edge\&quot;:this.handleRemoveEdge,\&quot;tmap:tm-load-type-form\&quot;:this.handleLoadTypeForm,\&quot;tmap:tm-save-type-form\&quot;:this.handleSaveTypeForm,\&quot;tmap:tm-create-type\&quot;:this.handleCreateType,\&quot;tmap:tm-create-edge\&quot;:this.handleCreateEdge,\&quot;tmap:tm-suppress-dialog\&quot;:this.handleSuppressDialog,\&quot;tmap:tm-generate-widget\&quot;:this.handleGenerateWidget,\&quot;tmap:tm-download-graph\&quot;:this.handleDownloadGraph,\&quot;tmap:tm-configure-system\&quot;:this.handleConfigureSystem,\&quot;tmap:tm-manage-edge-types\&quot;:this.handleOpenTypeManager,\&quot;tmap:tm-manage-node-types\&quot;:this.handleOpenTypeManager,\&quot;tmap:tm-cancel-dialog\&quot;:this.handleCancelDialog,\&quot;tmap:tm-clear-tiddler\&quot;:this.handleClearTiddler,\&quot;tmap:tm-merge-tiddlers\&quot;:this.handleMixTiddlers,\&quot;tmap:tm-confirm-dialog\&quot;:this.handleConfirmDialog},$tw.rootWidget,this)}GlobalListener.prototype.handleCancelDialog=function(e){utils.setField(e.param,\&quot;text\&quot;,\&quot;\&quot;)};GlobalListener.prototype.handleClearTiddler=function(e){var t=e.paramObject;if(!t||!t.title)return;var a=utils.getTiddler(t.title);var i=a?a.fields:{};var r=t.keep?t.keep.split():[];var d={title:t.title,text:\&quot;\&quot;};for(var l=r.length;l--;){var s=r[l];d[s]=i[s]}$tw.wiki.deleteTiddler(t.title);$tw.wiki.addTiddler(new $tw.Tiddler(d))};GlobalListener.prototype.handleMixTiddlers=function(e){var t=e.paramObject;if(!t||!t.tiddlers)return;var a=$tw.utils.parseStringArray(t.tiddlers);var i=utils.getMergedTiddlers(a,t.output);$tw.wiki.addTiddler(i)};GlobalListener.prototype.handleConfirmDialog=function(e){utils.setField(e.param,\&quot;text\&quot;,\&quot;1\&quot;)};GlobalListener.prototype.handleSuppressDialog=function(e){if(utils.isTrue(e.paramObject.suppress,false)){utils.setEntry($tm.ref.sysUserConf,\&quot;suppressedDialogs.\&quot;+e.paramObject.dialog,true)}};GlobalListener.prototype.handleDownloadGraph=function(e){var t=$tm.adapter.getGraph({view:e.paramObject.view});t.nodes=utils.convert(t.nodes,\&quot;array\&quot;);t.edges=utils.convert(t.edges,\&quot;array\&quot;);var a=\&quot;$:/temp/tmap/export\&quot;;utils.setField(a,\&quot;text\&quot;,JSON.stringify(t,null,2));$tw.rootWidget.dispatchEvent({type:\&quot;tm-download-file\&quot;,param:a,paramObject:{filename:e.paramObject.view+\&quot;.json\&quot;}})};GlobalListener.prototype.handleConfigureSystem=function(){var e=$tm.adapter.getAllPotentialNodes();var t=$tm.adapter.getEdgesForSet(e);var a=$tw.wiki.getTiddler($tm.path.pluginRoot).fields;var i=$tw.wiki.getTiddlerData($tm.ref.sysMeta);var r=utils.getTiddler($tm.ref.liveTab).hasTag(\&quot;$:/tags/SideBar\&quot;);var d={numberOfNodes:\&quot;\&quot;+e.length,numberOfEdges:\&quot;\&quot;+Object.keys(t).length,pluginVersion:\&quot;v\&quot;+a.version,dataStructureVersion:\&quot;v\&quot;+i.dataStructureState,dialog:{preselects:{liveTab:\&quot;\&quot;+r,\&quot;vis-inherited\&quot;:JSON.stringify(visDefConf),\&quot;config.vis\&quot;:utils.getText($tm.ref.visUserConf),\&quot;config.sys\&quot;:$tm.config.sys}}};var l=\&quot;globalConfig\&quot;;$tm.dialogManager.open(l,d,function(e,t){if(!e)return;var a=utils.getPropertiesByPrefix(t.fields,\&quot;config.sys.\&quot;,true);$tw.wiki.setTiddlerData($tm.ref.sysUserConf,a);if(utils.isTrue(t.fields.liveTab,false)){utils.setField($tm.ref.liveTab,\&quot;tags\&quot;,\&quot;$:/tags/SideBar\&quot;)}else{$tw.wiki.deleteTiddler($tm.ref.liveTab)}utils.setField($tm.ref.visUserConf,\&quot;text\&quot;,t.fields[\&quot;config.vis\&quot;])}.bind(this))};GlobalListener.prototype.handleGenerateWidget=function(e){if(!e.paramObject)e.paramObject={};var t={dialog:{preselects:{view:e.paramObject.view||$tm.misc.defaultViewLabel}}};$tm.dialogManager.open(\&quot;widgetCodeGenerator\&quot;,t)};GlobalListener.prototype.handleRemoveEdge=function(e){$tm.adapter.deleteEdge(e.paramObject)};GlobalListener.prototype.handleCreateEdge=function(e){var t=e.paramObject.from;var a=e.paramObject.to;var i=e.paramObject.force;if(!t||!a)return;if(utils.tiddlerExists(t)&amp;&amp;utils.tiddlerExists(a)||i){utils.addTiddler(a);utils.addTiddler(t);var r={from:$tm.adapter.makeNode(t).id,to:$tm.adapter.makeNode(a).id,type:e.paramObject.label,id:e.paramObject.id};$tm.adapter.insertEdge(r);$tm.notify(\&quot;Edge inserted\&quot;)}};GlobalListener.prototype.handleOpenTypeManager=function(e){if(!e.paramObject)e.paramObject={};var t=e.type.match(/tmap:tm-(.*)/)[1];if(t===\&quot;manage-edge-types\&quot;){var a=\&quot;Edge-Type Manager\&quot;;var i=$tm.selector.allEdgeTypes;var r=$tm.path.edgeTypes}else{var a=\&quot;Node-Type Manager\&quot;;var i=$tm.selector.allNodeTypes;var r=$tm.path.nodeTypes}var d={mode:t,topic:a,searchSelector:i,typeRootPath:r};var l=$tm.dialogManager.open(\&quot;MapElementTypeManager\&quot;,d);if(e.paramObject.type){this.handleLoadTypeForm({paramObject:{mode:t,id:e.paramObject.type,output:l.fields[\&quot;output\&quot;]}})}};GlobalListener.prototype.handleLoadTypeForm=function(e){var t=e.paramObject.output;var a=e.paramObject.mode===\&quot;manage-edge-types\&quot;?new EdgeType(e.paramObject.id):new NodeType(e.paramObject.id);a.save(t);if(e.paramObject.mode===\&quot;manage-edge-types\&quot;){var i=$tm.adapter.selectEdgesByType(a);var r=Object.keys(i).length;utils.setField(t,\&quot;temp.usageCount\&quot;,r)}$tw.wiki.addTiddler(new $tw.Tiddler(utils.getTiddler(t),{typeTRef:a.fullPath,\&quot;temp.idImmutable\&quot;:a.isShipped?\&quot;true\&quot;:\&quot;\&quot;,\&quot;temp.newId\&quot;:a.id,\&quot;vis-inherited\&quot;:JSON.stringify($tm.config.vis)}));utils.deleteByPrefix(\&quot;$:/state/tabs/MapElementTypeManager\&quot;)};GlobalListener.prototype.handleSaveTypeForm=function(e){var t=utils.getTiddler(e.paramObject.output);if(!t)return;var a=e.paramObject.mode;var i=a===\&quot;manage-edge-types\&quot;?new EdgeType(t.fields.id):new NodeType(t.fields.id);if(utils.isTrue(t.fields[\&quot;temp.deleteType\&quot;],false)){this.deleteType(a,i,t)}else{this.saveType(a,i,t)}};GlobalListener.prototype.deleteType=function(e,t,a){$tm.logger(\&quot;debug\&quot;,\&quot;Deleting type\&quot;,t);if(e===\&quot;manage-edge-types\&quot;){$tm.adapter._processEdgesWithType(t,{action:\&quot;delete\&quot;})}else{$tm.adapter.removeNodeType(t)}this.wiki.addTiddler(new $tw.Tiddler({title:utils.getTiddlerRef(a)}));$tm.notify(\&quot;Deleted type\&quot;)};GlobalListener.prototype.saveType=function(e,t,a){var i=utils.getTiddler(a);t.loadFromTiddler(i);t.save();var r=i.fields[\&quot;temp.newId\&quot;];if(r&amp;&amp;r!==i.fields[\&quot;id\&quot;]){if(e===\&quot;manage-edge-types\&quot;){$tm.adapter._processEdgesWithType(t,{action:\&quot;rename\&quot;,newName:r})}else{var d=new NodeType(r);d.load(t);d.save();$tw.wiki.deleteTiddler(t.fullPath)}utils.setField(i,\&quot;id\&quot;,r)}$tm.notify(\&quot;Saved type data\&quot;)};GlobalListener.prototype.handleCreateType=function(e){var t=e.paramObject.id||\&quot;New type\&quot;;var a=e.paramObject.mode===\&quot;manage-edge-types\&quot;?new EdgeType(t):new NodeType(t);a.save();this.handleLoadTypeForm({paramObject:{id:a.id,mode:e.paramObject.mode,output:e.paramObject.output}})};GlobalListener.prototype.getTypeFromEvent=function(e){return e.paramObject.mode===\&quot;manage-edge-types\&quot;?new EdgeType(e.paramObject.id):new NodeType(e.paramObject.id)};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/startup/listener&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;startup&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/widget/MapConfigWidget&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/widget/MapConfigWidget\ntype: application/javascript\nmodule-type: widget\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;exports[\&quot;tmap-config\&quot;]=MapConfigWidget;var ViewAbstraction=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/ViewAbstraction\&quot;);var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);var vis=require(\&quot;$:/plugins/felixhayashi/vis/vis.js\&quot;);var Widget=require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;function MapConfigWidget(e,t){Widget.call(this);this.initialise(e,t);this.computeAttributes()}MapConfigWidget.prototype=Object.create(Widget.prototype);MapConfigWidget.prototype.render=function(e,t){this.parentDomNode=e;if(!this.domNode){this.domNode=this.document.createElement(\&quot;div\&quot;);$tw.utils.addClass(this.domNode,\&quot;tmap-config-widget\&quot;);e.insertBefore(this.domNode,t)}if(this.network){this.network.destroy()}this.networkContainer=document.createElement(\&quot;div\&quot;);this.domNode.appendChild(this.networkContainer);this.refreshTrigger=this.getAttribute(\&quot;refresh-trigger\&quot;);this.pipeTRef=this.getVariable(\&quot;currentTiddler\&quot;);this.inheritedFields=$tw.utils.parseStringArray(this.getAttribute(\&quot;inherited\&quot;));this.extensionTField=this.getAttribute(\&quot;extension\&quot;);this.mode=this.getAttribute(\&quot;mode\&quot;);for(var i=0;i&lt;this.inheritedFields.length;i++){var s=this.inheritedFields[i];var n=utils.parseFieldData(this.pipeTRef,s,{});if(this.mode===\&quot;manage-edge-types\&quot;){if(!n.edges){n={edges:n}}}else if(this.mode===\&quot;manage-node-types\&quot;){if(!n.nodes){n={nodes:n}}}this.inherited=utils.merge(this.inherited,n)}this.extension=utils.parseFieldData(this.pipeTRef,this.extensionTField,{});if(this.mode===\&quot;manage-edge-types\&quot;){if(!this.extension.edges){this.extension={edges:this.extension}}}else if(this.mode===\&quot;manage-node-types\&quot;){if(!this.extension.nodes){this.extension={nodes:this.extension}}}var r=utils.isTrue(this.getAttribute(\&quot;save-only-changes\&quot;));this.changes=r?{}:this.extension;var a={nodes:[],edges:[]};var o=utils.merge({},this.inherited,this.extension);$tw.utils.extend(o,{configure:{enabled:true,showButton:false,filter:this.getOptionFilter(this.mode)}});this.network=new vis.Network(this.networkContainer,a,o);this.network.on(\&quot;configChange\&quot;,this.handleConfigChange.bind(this));var h=this.parentDomNode.getBoundingClientRect().height;this.parentDomNode.style[\&quot;height\&quot;]=h+\&quot;px\&quot;;var l=this.handleResetEvent.bind(this);this.networkContainer.addEventListener(\&quot;reset\&quot;,l,false);$tm.registry.push(this);this.enhanceConfigurator()};MapConfigWidget.prototype.handleResetEvent=function(e){var t={};t[e.detail.trigger.path]=null;this.handleConfigChange(t)};MapConfigWidget.prototype.handleConfigChange=function(e){var t=utils.flatten(this.changes);var i=utils.flatten(e);var s=Object.keys(utils.flatten(e))[0];var n=i[s]===null;if(n){t[s]=undefined;this.changes=utils.unflatten(t)}else{this.changes=utils.merge(this.changes,e)}var r=utils.merge({},this.changes);if(this.mode===\&quot;manage-node-types\&quot;){r=r[\&quot;nodes\&quot;]}if(this.mode===\&quot;manage-edge-types\&quot;){r=r[\&quot;edges\&quot;]}utils.writeFieldData(this.pipeTRef,this.extensionTField,r);var a=\&quot;vis-configuration-wrapper\&quot;;var o=this.networkContainer.getElementsByClassName(a)[0];o.style.height=o.getBoundingClientRect().height+\&quot;px\&quot;;if(n){window.setTimeout(this.refresh.bind(this),0)}else{window.setTimeout(this.enhanceConfigurator.bind(this),50)}};MapConfigWidget.prototype.enhanceConfigurator=function(){var e=\&quot;vis-configuration-wrapper\&quot;;var t=this.networkContainer.getElementsByClassName(e)[0].children;var i=[];var s=utils.flatten(this.changes);for(var n=0;n&lt;t.length;n++){if(!t[n].classList.contains(\&quot;vis-config-item\&quot;))continue;var r=new VisConfElement(t[n],i,n);i.push(r);if(r.level===0)continue;r.setActive(!!s[r.path])}};function VisConfElement(e,t,i){var s=\&quot;getElementsByClassName\&quot;;var n=\&quot;getElementsByTagName\&quot;;this.isActive=false;this.pos=i;this.el=e;this.inputEl=e[s](\&quot;vis-config-colorBlock\&quot;)[0]||e[n](\&quot;input\&quot;)[0];this.labelEl=e[s](\&quot;vis-config-label\&quot;)[0]||e[s](\&quot;vis-config-header\&quot;)[0]||e;var r=this.labelEl.innerText||this.labelEl.textContent;this.label=r&amp;&amp;r.match(/([a-zA-Z0-9]+)/)[1];this.level=parseInt(e.className.match(/.*vis-config-s(.).*/)[1])||0;this.path=this.label;if(this.level&gt;0){for(var a=i;a--;){var o=t[a];if(o.level&lt;this.level){this.path=o.path+\&quot;.\&quot;+this.path;break}}}}VisConfElement.prototype.setActive=function(e){if(!e)return;var t=\&quot;tmap-vis-config-item-\&quot;+(e?\&quot;active\&quot;:\&quot;inactive\&quot;);$tw.utils.addClass(this.el,t);if(e){var i=document.createElement(\&quot;button\&quot;);i.innerHTML=\&quot;reset\&quot;;i.className=\&quot;tmap-config-item-reset\&quot;;var s=this;i.addEventListener(\&quot;click\&quot;,function(e){e.currentTarget.dispatchEvent(new CustomEvent(\&quot;reset\&quot;,{detail:{trigger:s},bubbles:true,cancelable:true}))},false);this.el.appendChild(i)}};MapConfigWidget.prototype.getOptionFilter=function(e){var t={nodes:{borderWidth:true,borderWidthSelected:true,color:{background:true,border:true},font:{color:true,size:true},icon:true,labelHighlightBold:false,shadow:true,shape:true,shapeProperties:{borderDashes:true},size:true},edges:{arrows:true,color:true,dashes:true,font:true,labelHighlightBold:false,length:true,selfReferenceSize:false,shadow:true,smooth:true,width:true},interaction:{hideEdgesOnDrag:true,hideNodesOnDrag:true,tooltipDelay:true},layout:{hierarchical:false},manipulation:{initiallyActive:true},physics:{forceAtlas2Based:{gravitationalConstant:true,springLength:true,springConstant:true,damping:true,centralGravity:true}}};if(e===\&quot;manage-edge-types\&quot;){t={edges:t.edges}}else if(e===\&quot;manage-node-types\&quot;){t={nodes:t.nodes}}else{t.edges.arrows=false}return function(e,i){i=i.concat([e]);var s=t;for(var n=0,r=i.length;n&lt;r;n++){if(s[i[n]]===true){return true}else if(s[i[n]]==null){return false}s=s[i[n]]}return false}};MapConfigWidget.prototype.isZombieWidget=function(){return!document.body.contains(this.parentDomNode)};MapConfigWidget.prototype.destruct=function(){if(this.network){this.network.destroy()}};MapConfigWidget.prototype.refresh=function(e){if(this.isZombieWidget()||!this.network)return;if(!e||e[this.refreshTrigger]){this.refreshSelf();return true}};MapConfigWidget.prototype.setNull=function(e){for(var t in e){if(typeof e[t]==\&quot;object\&quot;){this.setNull(e[t])}else{e[t]=undefined}}};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/widget/MapConfigWidget&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/widget/connections&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/widget/connections\ntype: application/javascript\nmodule-type: widget\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;exports[\&quot;tmap-edgelistitem\&quot;]=EdgeListItemWidget;exports[\&quot;tmap-connections\&quot;]=EdgeListWidget;var Widget=require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;var EdgeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/EdgeType\&quot;);var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);function EdgeListWidget(e,t){Widget.call(this,e,t)}EdgeListWidget.prototype=Object.create(Widget.prototype);EdgeListWidget.prototype.render=function(e,t){this.parentDomNode=e;this.computeAttributes();this.execute();this.renderChildren(e,t)};EdgeListWidget.prototype.execute=function(){var e=[this.getVariable(\&quot;currentTiddler\&quot;)];var t=this.getAttribute(\&quot;filter\&quot;,\&quot;\&quot;);var i=this.getAttribute(\&quot;direction\&quot;,\&quot;both\&quot;);var r=$tm.indeces.allETy;var s=utils.getEdgeTypeMatches(t,r);var d={typeWL:utils.getLookupTable(s),direction:i};var o=$tm.adapter.getNeighbours(e,d);var a=o.nodes;var g=o.edges;var n=[];for(var h in g){var p=g[h];var l=a[p.to]||a[p.from];if(!l)continue;n.push({type:\&quot;tmap-edgelistitem\&quot;,edge:p,typeWL:d.typeWL,neighbour:l,children:this.parseTreeNode.children})}if(!n.length){this.wasEmpty=true;n=this.getEmptyMessage()}else if(this.wasEmpty){this.removeChildDomNodes()}this.makeChildWidgets(n)};EdgeListWidget.prototype.getEmptyMessage=function(){var e=this.wiki.parseText(\&quot;text/vnd.tiddlywiki\&quot;,this.getAttribute(\&quot;emptyMessage\&quot;,\&quot;\&quot;),{parseAsInline:true});return e?e.tree:[]};EdgeListWidget.prototype.refresh=function(e){var t=this.computeAttributes();var i=Object.keys(t).length;if(i){this.refreshSelf();return true}for(var r in e){if(!utils.isSystemOrDraft(r)){this.refreshSelf();return true}}return this.refreshChildren(e)};function EdgeListItemWidget(e,t){Widget.call(this,e,t);this.arrows=$tm.misc.arrows}EdgeListItemWidget.prototype=Object.create(Widget.prototype);EdgeListItemWidget.prototype.execute=function(){var e=this.parseTreeNode;var t=$tm.indeces.tById[e.neighbour.id];var i=utils.flatten(e.edge);for(var r in i){if(typeof i[r]===\&quot;string\&quot;){this.setVariable(\&quot;edge.\&quot;+r,i[r])}}this.setVariable(\&quot;currentTiddler\&quot;,t);this.setVariable(\&quot;neighbour\&quot;,t);var s=$tm.indeces.allETy[i.type];var d=i.to===e.neighbour.id?\&quot;to\&quot;:\&quot;from\&quot;;var o=d;if(s.biArrow){o=\&quot;bi\&quot;}else{if(d===\&quot;to\&quot;&amp;&amp;s.invertedArrow){o=\&quot;from\&quot;}else if(d===\&quot;from\&quot;&amp;&amp;s.invertedArrow){o=\&quot;to\&quot;}}this.setVariable(\&quot;direction\&quot;,o);this.setVariable(\&quot;directionSymbol\&quot;,o===\&quot;bi\&quot;?this.arrows.bi:o===\&quot;from\&quot;?this.arrows.in:this.arrows.out);this.makeChildWidgets()};EdgeListItemWidget.prototype.refresh=function(e){return this.refreshChildren(e)};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/widget/connections&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/js/widget/MapWidget&quot;: {
            &quot;text&quot;: &quot;/*\\\n\ntitle: $:/plugins/felixhayashi/tiddlymap/js/widget/MapWidget\ntype: application/javascript\nmodule-type: widget\n\n@preserve\n\n\\*/\n\&quot;use strict\&quot;;exports.tiddlymap=MapWidget;exports.tmap=MapWidget;var utils=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/utils\&quot;);var DialogManager=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/DialogManager\&quot;);var CallbackManager=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/CallbackManager\&quot;);var ViewAbstraction=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/ViewAbstraction\&quot;);var EdgeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/EdgeType\&quot;);var NodeType=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/NodeType\&quot;);var Popup=require(\&quot;$:/plugins/felixhayashi/tiddlymap/js/Popup\&quot;);var vis=require(\&quot;$:/plugins/felixhayashi/vis/vis.js\&quot;);var Widget=require(\&quot;$:/core/modules/widgets/widget.js\&quot;).widget;function MapWidget(e,t){Widget.call(this,e,t);this.getAttr=this.getAttribute;this.isDebug=utils.isTrue($tm.config.sys.debug,false);utils.bind(this,[\&quot;constructTooltip\&quot;,\&quot;handleResizeEvent\&quot;,\&quot;handleClickEvent\&quot;,\&quot;handleCanvasKeyup\&quot;,\&quot;handleCanvasKeydown\&quot;,\&quot;handleCanvasScroll\&quot;,\&quot;handleWidgetKeyup\&quot;,\&quot;handleWidgetKeydown\&quot;,\&quot;handleTriggeredRefresh\&quot;]);this.callbackManager=new CallbackManager;this.dialogManager=new DialogManager(this.callbackManager,this);this.computeAttributes();this.editorMode=this.getAttr(\&quot;editor\&quot;);this.clickToUse=utils.isTrue(this.getAttr(\&quot;click-to-use\&quot;),false);this.id=this.getAttr(\&quot;object-id\&quot;)||this.getStateQualifier();this.widgetTempStatePath=$tm.path.tempStates+\&quot;/\&quot;+this.id;this.widgetPopupsPath=$tm.path.tempPopups+\&quot;/\&quot;+this.id;if(this.editorMode){utils.addTWlisteners({\&quot;tmap:tm-create-view\&quot;:this.handleCreateView,\&quot;tmap:tm-rename-view\&quot;:this.handleRenameView,\&quot;tmap:tm-delete-view\&quot;:this.handleDeleteView,\&quot;tmap:tm-edit-view\&quot;:this.handleEditView,\&quot;tmap:tm-store-position\&quot;:this.handleStorePositions,\&quot;tmap:tm-generate-widget\&quot;:this.handleGenerateWidget,\&quot;tmap:tm-save-canvas\&quot;:this.handleSaveCanvas},this,this)}utils.addTWlisteners({\&quot;tmap:tm-focus-node\&quot;:this.handleFocusNode,\&quot;tmap:tm-reset-focus\&quot;:this.repaintGraph},this,this);this.visListeners={click:this.handleVisSingleClickEvent,doubleClick:this.handleVisDoubleClickEvent,stabilized:this.handleVisStabilizedEvent,selectNode:this.handleVisSelectNode,deselectNode:this.handleVisDeselectNode,dragStart:this.handleVisDragStart,dragEnd:this.handleVisDragEnd,hoverNode:this.handleVisHoverElement,hoverEdge:this.handleVisHoverElement,blurNode:this.handleVisBlurElement,blurEdge:this.handleVisBlurElement,oncontext:this.handleVisOnContext,beforeDrawing:this.handleVisBeforeDrawing,stabilizationProgress:this.handleVisLoading,stabilizationIterationsDone:this.handleVisLoadingDone};this.windowDomListeners={resize:[this.handleResizeEvent,false],click:[this.handleClickEvent,false]};this.canvasDomListeners={keyup:[this.handleCanvasKeyup,true],keydown:[this.handleCanvasKeydown,true],mousewheel:[this.handleCanvasScroll,true]};this.widgetDomListeners={keyup:[this.handleWidgetKeyup,true],keydown:[this.handleWidgetKeydown,true]}}MapWidget.prototype=Object.create(Widget.prototype);MapWidget.prototype.handleConnectionEvent=function(e,t){var i=this.view.getEdgeTypeFilter();var s={fromLabel:$tm.adapter.selectNodeById(e.from).label,toLabel:$tm.adapter.selectNodeById(e.to).label,viewNS:this.view.getConfig(\&quot;edge_type_namespace\&quot;),eTyFilter:i.raw};var a=\&quot;getEdgeType\&quot;;this.dialogManager.open(a,s,function(s,a){if(s){var r=utils.getText(a);var o={namespace:this.view.getConfig(\&quot;edge_type_namespace\&quot;)};var r=new EdgeType(r,null,o);if(!r.exists())r.save();e.type=r.id;$tm.adapter.insertEdge(e);if(!this.view.isEdgeTypeVisible(r.id)){var n={type:r.id,view:this.view.getLabel(),eTyFilter:i.pretty};this.dialogManager.open(\&quot;edgeNotVisible\&quot;,n)}this.preventFitAfterRebuild=true}if(typeof t===\&quot;function\&quot;){t(s)}})};MapWidget.prototype.checkForFreshInstall=function(){var e=$tm.ref.sysMeta;if(!utils.getEntry(e,\&quot;showWelcomeMessage\&quot;,true))return;utils.setEntry(e,\&quot;showWelcomeMessage\&quot;,false);var t={};var i=\&quot;welcome\&quot;;this.dialogManager.open(i,t,function(e,t){if(utils.tiddlerExists(\&quot;$:/plugins/felixhayashi/topstoryview\&quot;)){utils.setText(\&quot;$:/view\&quot;,\&quot;top\&quot;);utils.setText(\&quot;$:/config/Navigation/openLinkFromInsideRiver\&quot;,\&quot;above\&quot;);utils.setText(\&quot;$:/config/Navigation/openLinkFromOutsideRiver\&quot;,\&quot;top\&quot;);utils.touch(\&quot;$:/plugins/felixhayashi/topstoryview\&quot;)}var i=$tm.misc.defaultViewLabel;var s={label:\&quot;Have fun with\&quot;,x:0,y:0};var a=$tm.adapter.insertNode(s,i);var s={label:\&quot;TiddlyMap!!\&quot;,x:100,y:100};var r=$tm.adapter.insertNode(s,i);$tm.adapter.insertEdge({from:a.id,to:r.id})})};MapWidget.prototype.openStandardConfirmDialog=function(e,t){var i={message:t};this.dialogManager.open(\&quot;getConfirmation\&quot;,i,e)};MapWidget.prototype.logger=function(e,t){if(this.isDebug){var i=Array.prototype.slice.call(arguments,1);i.unshift(\&quot;@\&quot;+this.id);i.unshift(e);$tm.logger.apply(this,i)}};MapWidget.prototype.render=function(e,t){this.parentDomNode=e;this.domNode=this.document.createElement(\&quot;div\&quot;);e.insertBefore(this.domNode,t);this.registerClassNames(this.domNode);this.viewHolderRef=this.getViewHolderRef();this.view=this.getView();this.graphBarDomNode=this.document.createElement(\&quot;div\&quot;);$tw.utils.addClass(this.graphBarDomNode,\&quot;tmap-topbar\&quot;);this.domNode.appendChild(this.graphBarDomNode);this.graphDomNode=this.document.createElement(\&quot;div\&quot;);this.domNode.appendChild(this.graphDomNode);$tw.utils.addClass(this.graphDomNode,\&quot;tmap-vis-graph\&quot;);if(utils.isPreviewed(this)||this.domNode.isTiddlyWikiFakeDom){$tw.utils.addClass(this.domNode,\&quot;tmap-static-mode\&quot;);this.renderPreview(this.graphBarDomNode,this.graphDomNode)}else{this.renderFullWidget(this.domNode,this.graphBarDomNode,this.graphDomNode)}};MapWidget.prototype.renderPreview=function(e,t){var i=this.view.getRoot()+\&quot;/snapshot\&quot;;var s=utils.getTiddler(i);var a=this.document.createElement(\&quot;span\&quot;);a.innerHTML=this.view.getLabel();a.className=\&quot;tmap-view-label\&quot;;e.appendChild(a);if(s){var r=this.makeChildWidget({type:\&quot;transclude\&quot;,attributes:{tiddler:{type:\&quot;string\&quot;,value:i}}});r.renderChildren(t,null)}else{$tw.utils.addClass(t,\&quot;tmap-graph-placeholder\&quot;)}};MapWidget.prototype.renderFullWidget=function(e,t,i){utils.setDomListeners(\&quot;add\&quot;,window,this.windowDomListeners);utils.setDomListeners(\&quot;add\&quot;,e,this.widgetDomListeners);this.addLoadingBar(this.domNode);var s={showDelay:$tm.config.sys.popups.delay};this.visTooltip=new Popup(this.domNode,s);this.sidebar=utils.getFirstElementByClassName(\&quot;tc-sidebar-scrollable\&quot;);this.isInSidebar=this.sidebar&amp;&amp;!this.domNode.isTiddlyWikiFakeDom&amp;&amp;this.sidebar.contains(this.domNode);this.doFitAfterStabilize=true;this.preventFitAfterRebuild=false;this.initAndRenderEditorBar(t);this.initAndRenderGraph(i);$tm.registry.push(this);this.reloadRefreshTriggers();this.checkForFreshInstall();if(this.id===$tm.misc.mainEditorId){var a=$tm.url;if(a&amp;&amp;a.query[\&quot;tmap-enlarged\&quot;]){this.toggleEnlargedMode(a.query[\&quot;tmap-enlarged\&quot;])}}};MapWidget.prototype.registerClassNames=function(e){var t=$tw.utils.addClass;t(e,\&quot;tmap-widget\&quot;);if(this.clickToUse){t(e,\&quot;tmap-click-to-use\&quot;)}if(this.getAttr(\&quot;editor\&quot;)===\&quot;advanced\&quot;){t(e,\&quot;tmap-advanced-editor\&quot;)}if(this.getAttr(\&quot;design\&quot;)===\&quot;plain\&quot;){t(e,\&quot;tmap-plain-design\&quot;)}if(!utils.isTrue(this.getAttr(\&quot;show-buttons\&quot;),true)){t(e,\&quot;tmap-no-buttons\&quot;)}if(this.getAttr(\&quot;class\&quot;)){t(e,this.getAttr(\&quot;class\&quot;))}};MapWidget.prototype.addLoadingBar=function(e){this.graphLoadingBarDomNode=this.document.createElement(\&quot;progress\&quot;);$tw.utils.addClass(this.graphLoadingBarDomNode,\&quot;tmap-loading-bar\&quot;);e.appendChild(this.graphLoadingBarDomNode)};MapWidget.prototype.initAndRenderEditorBar=function(e){this.rebuildEditorBar()};MapWidget.prototype.rebuildEditorBar=function(){var e=this.view;var t={widgetQualifier:this.getStateQualifier(),widgetTempPath:this.widgetTempPath,widgetPopupsPath:this.widgetPopupsPath,isViewBound:String(this.isViewBound()),viewRoot:e.getRoot(),viewLabel:e.getLabel(),viewHolder:this.getViewHolderRef(),edgeTypeFilter:e.getPaths().edgeTypeFilter,allEdgesFilter:$tm.selector.allEdgeTypes,neighScopeBtnClass:\&quot;tmap-neigh-scope-button\&quot;+(e.isEnabled(\&quot;neighbourhood_scope\&quot;)?\&quot; \&quot;+\&quot;tmap-active-button\&quot;:\&quot;\&quot;)};for(var i in t){this.setVariable(i,t[i])}var s={type:\&quot;tiddler\&quot;,attributes:{tiddler:{type:\&quot;string\&quot;,value:e.getRoot()}},children:[]};if(this.editorMode===\&quot;advanced\&quot;){s.children.push({type:\&quot;transclude\&quot;,attributes:{tiddler:{type:\&quot;string\&quot;,value:$tm.ref.graphBar}}})}else{s.children.push({type:\&quot;element\&quot;,tag:\&quot;span\&quot;,attributes:{\&quot;class\&quot;:{type:\&quot;string\&quot;,value:\&quot;tmap-view-label\&quot;}},children:[{type:\&quot;text\&quot;,text:e.getLabel()}]})}s.children.push({type:\&quot;transclude\&quot;,attributes:{tiddler:{type:\&quot;string\&quot;,value:$tm.ref.focusButton}}});this.makeChildWidgets([s]);this.renderChildren(this.graphBarDomNode,this.graphBarDomNode.firstChild)};MapWidget.prototype.refresh=function(e){return false};MapWidget.prototype.update=function(e){if(!this.network||this.isZombieWidget()||utils.isPreviewed(this)){return}var t=e.changedTiddlers;var i=false;var s=false;var a=false;var r={};this.callbackManager.handleChanges(t);if(this.isViewSwitched(t)||this.hasChangedAttributes()||e[$tm.path.options]||e[$tm.path.nodeTypes]||t[this.view.getRoot()]){this.logger(\&quot;warn\&quot;,\&quot;View switched (or main config change)\&quot;);this.view=this.getView(true);this.reloadRefreshTriggers();i=true;a=true}else{var o=this.view.update(e);if(o&amp;&amp;!this.ignoreNextViewModification){this.logger(\&quot;warn\&quot;,\&quot;View components modified\&quot;);this.reloadBackgroundImage();i=true;s=true;r.resetEdgeTypeWL=true;if(!this.preventFitAfterRebuild){r.resetFocus={delay:0,duration:0}}}else{if(e[$tm.path.nodeTypes]){s=true}else if(this.hasChangedElements(t)){s=true}}}if(a){this.initAndRenderGraph(this.graphDomNode);this.visTooltip.hide(0,true)}else if(s){this.rebuildGraph(r);this.visTooltip.hide(0,true)}if(i){this.removeChildDomNodes();this.rebuildEditorBar()}else{this.refreshChildren(t)}this.ignoreNextViewModification=false};MapWidget.prototype.reloadRefreshTriggers=function(){this.callbackManager.remove(this.refreshTriggers);var e=this.getAttr(\&quot;refresh-triggers\&quot;)||this.view.getConfig(\&quot;refresh-triggers\&quot;);this.refreshTriggers=$tw.utils.parseStringArray(e)||[];this.logger(\&quot;debug\&quot;,\&quot;Registering refresh trigger\&quot;,this.refreshTriggers);for(var t=this.refreshTriggers.length;t--;){this.callbackManager.add(this.refreshTriggers[t],this.handleTriggeredRefresh,false)}};MapWidget.prototype.rebuildGraph=function(e){if(utils.isPreviewed(this))return;this.logger(\&quot;debug\&quot;,\&quot;Rebuilding graph\&quot;);e=e||{};this.hasNetworkStabilized=false;if(e.resetData){this.graphData.edges.clear();this.graphData.nodes.clear();this.graphData.edgesById=null;this.graphData.nodesById=null}if(!this.view.isEnabled(\&quot;physics_mode\&quot;)){var t=this.visOptions.physics;t[t.solver].centralGravity=.015}if(!e.resetFocus){this.doFitAfterStabilize=false}this.rebuildGraphData();if(!utils.hasElements(this.graphData.nodesById)){return}this.network.stabilize();if(e.resetFocus&amp;&amp;!this.preventFitAfterRebuild){this.doFitAfterStabilize=true;this.fitGraph(e.resetFocus.delay,e.resetFocus.duration)}this.preventFitAfterRebuild=false};MapWidget.prototype.getContainer=function(){return this.domNode};MapWidget.prototype.rebuildGraphData=function(e){$tm.start(\&quot;Reloading Network\&quot;);e=e||{};var t=$tm.adapter.getGraph({view:this.view});var i=t.nodes;var s=t.edges;this.graphData.nodes=this.getRefreshedDataSet(i,this.graphData.nodesById,this.graphData.nodes);this.graphData.edges=this.getRefreshedDataSet(s,this.graphData.edgesById,this.graphData.edges);this.graphData.nodesById=i;this.graphData.edgesById=s;utils.setField(\&quot;$:/temp/tmap/nodes/\&quot;+this.view.getLabel(),\&quot;list\&quot;,$tm.adapter.getTiddlersById(i));$tm.stop(\&quot;Reloading Network\&quot;);return this.graphData};MapWidget.prototype.isViewBound=function(){return utils.startsWith(this.getViewHolderRef(),$tm.path.localHolders)};MapWidget.prototype.isViewSwitched=function(e){return e[this.getViewHolderRef()]};MapWidget.prototype.hasChangedAttributes=function(){return Object.keys(this.computeAttributes()).length};MapWidget.prototype.hasChangedElements=function(e){var t=[];var i=this.graphData.nodesById;var s=this.view.isEnabled(\&quot;neighbourhood_scope\&quot;);var a=this.view.getEdgeTypeFilter(\&quot;whitelist\&quot;);for(var r in e){if(utils.isSystemOrDraft(r))continue;if(i[$tm.adapter.getId(r)]||s){return true}if(e[r].modified){t.push(r)}}if(t.length){var o=this.view.getNodeFilter(\&quot;compiled\&quot;);var n=utils.getMatches(o,t);return!!n.length}};MapWidget.prototype.initAndRenderGraph=function(e){if(this.network)this._destructVis();this.logger(\&quot;info\&quot;,\&quot;Initializing and rendering the graph\&quot;);if(!this.isInSidebar){this.callbackManager.add(\&quot;$:/state/sidebar\&quot;,this.handleResizeEvent)}this.visOptions=this.getVisOptions();this.graphData={nodes:new vis.DataSet,edges:new vis.DataSet,nodesById:utils.makeHashMap(),edgesById:utils.makeHashMap()};this.visTooltip.setEnabled(utils.isTrue($tm.config.sys.popups.enabled,true));this.network=new vis.Network(e,this.graphData,this.visOptions);this.canvas=e.getElementsByTagName(\&quot;canvas\&quot;)[0];this.canvas.tabIndex=0;for(var t in this.visListeners){this.network.on(t,this.visListeners[t].bind(this))}this.addGraphButtons({\&quot;fullscreen-button\&quot;:function(){this.toggleEnlargedMode(\&quot;fullscreen\&quot;)},\&quot;halfscreen-button\&quot;:function(){this.toggleEnlargedMode(\&quot;halfscreen\&quot;)}});utils.setDomListeners(\&quot;add\&quot;,this.canvas,this.canvasDomListeners);this.reloadBackgroundImage();this.rebuildGraph({resetFocus:{delay:0,duration:0}});this.handleResizeEvent();this.canvas.focus()};MapWidget.prototype.handleCanvasKeyup=function(){var e={from:null,to:null};return function(t){var i=this.network.getSelectedNodes();if(t.ctrlKey){t.preventDefault();if(t.keyCode===88){if(this.editorMode){this.handleAddNodesToClipboard(\&quot;move\&quot;)}else{$tm.notify(\&quot;Map is read only!\&quot;)}}else if(t.keyCode===67){this.handleAddNodesToClipboard(\&quot;copy\&quot;)}else if(t.keyCode===86){this.handlePasteNodesFromClipboard()}else if(t.keyCode===65){var s=Object.keys(this.graphData.nodesById);this.network.selectNodes(s)}else if(t.keyCode===49||t.keyCode===50){if(i.length!==1)return;var a=t.keyCode===49?\&quot;from\&quot;:\&quot;to\&quot;;$tm.notify(utils.ucFirst(a)+\&quot;-part selected\&quot;);e[a]=i[0];if(e.from&amp;&amp;e.to){this.handleConnectionEvent(e,function(){e={from:null,to:null}})}}}else if(t.keyCode===13){if(i.length!==1)return;this.openTiddlerWithId(i[0])}}}();MapWidget.prototype.handleCanvasKeydown=function(e){if(e.keyCode===46){e.preventDefault();this.handleRemoveElements(this.network.getSelection())}};MapWidget.prototype.handleCanvasScroll=function(e){var t=!!(e.ctrlKey||this.isInSidebar||this.enlargedMode);if(t){e.preventDefault()}if(t!==this.visOptions.interaction.zoomView){e.preventDefault();e.stopPropagation();this.visOptions.interaction.zoomView=t;this.network.setOptions({interaction:{zoomView:t}});return false}};MapWidget.prototype.handleWidgetKeyup=function(e){};MapWidget.prototype.handleWidgetKeydown=function(e){if(e.ctrlKey){e.preventDefault();if(e.keyCode===70){e.preventDefault();var t=this.widgetPopupsPath+\&quot;/focus\&quot;;utils.setText(t,utils.getText(t)?\&quot;\&quot;:\&quot;1\&quot;)}else{return}}else if(e.keyCode===120){e.preventDefault();this.toggleEnlargedMode(\&quot;halfscreen\&quot;)}else if(e.keyCode===121){e.preventDefault();this.toggleEnlargedMode(\&quot;fullscreen\&quot;)}else if(e.keyCode===27){e.preventDefault();utils.deleteByPrefix(this.widgetPopupsPath)}else{return}this.canvas.focus()};MapWidget.prototype.handlePasteNodesFromClipboard=function(){if(!this.editorMode||this.view.isLiveView()){$tm.notify(\&quot;Map is read only!\&quot;);return}if($tm.clipBoard){if($tm.clipBoard.type===\&quot;nodes\&quot;){var e=$tm.clipBoard.nodes;var t=Object.keys(e);if(t.length){for(var i in e){if(this.graphData.nodesById[i])continue;this.view.addNode(e[i]);this.graphData.nodes.update({id:i})}this.network.selectNodes(t);$tm.notify(\&quot;pasted \&quot;+t.length+\&quot; nodes into map.\&quot;)}return}}$tm.notify(\&quot;TiddlyMap clipboad is empty!\&quot;)};MapWidget.prototype.handleAddNodesToClipboard=function(e){var t=this.network.getSelectedNodes();if(!t.length)return;$tm.clipBoard={type:\&quot;nodes\&quot;,nodes:this.graphData.nodes.get(t,{returnType:\&quot;Object\&quot;})};$tm.notify(\&quot;Copied \&quot;+t.length+\&quot; nodes to clipboard\&quot;);if(e===\&quot;move\&quot;){for(var i=t.length;i--;){this.view.removeNode(t[i])}}};MapWidget.prototype.isMobileMode=function(){var e=utils.getText($tm.ref.sidebarBreakpoint,960);return window.innerWidth&lt;=parseInt(e)};MapWidget.prototype.getVisOptions=function(){var e=$tm.config.vis;var t=utils.parseJSON(this.view.getConfig(\&quot;vis\&quot;));var i=utils.merge({},e,t);i.clickToUse=this.clickToUse;i.manipulation.enabled=!!this.editorMode;i.manipulation.deleteNode=function(e,t){this.handleRemoveElements(e);this.resetVisManipulationBar(t)}.bind(this);i.manipulation.deleteEdge=function(e,t){this.handleRemoveElements(e);this.resetVisManipulationBar(t)}.bind(this);i.manipulation.addEdge=function(e,t){this.handleConnectionEvent(e);this.resetVisManipulationBar(t)}.bind(this);i.manipulation.addNode=function(e,t){this.handleInsertNode(e);this.resetVisManipulationBar(t)}.bind(this);i.manipulation.editNode=function(e,t){this.handleEditNode(e);this.resetVisManipulationBar(t)}.bind(this);i.interaction.zoomView=!!(this.isInSidebar||this.enlargedMode);i.manipulation.editEdge=false;var s=i.physics;s[s.solver]=s[s.solver]||{};s.stabilization.iterations=1e3;this.logger(\&quot;debug\&quot;,\&quot;Loaded graph options\&quot;,i);return i};MapWidget.prototype.resetVisManipulationBar=function(e){if(e)e(null);this.network.disableEditMode();this.network.enableEditMode()};MapWidget.prototype.isVisInEditMode=function(){var e=\&quot;vis-button vis-back\&quot;;return this.graphDomNode.getElementsByClassName(e).length&gt;0};MapWidget.prototype.handleCreateView=function(){var e={view:this.view.getLabel()};var t=\&quot;createView\&quot;;this.dialogManager.open(t,e,function(e,t){if(!e)return;var i=utils.getField(t,\&quot;name\&quot;);var s=utils.getField(t,\&quot;clone\&quot;,false);var a=new ViewAbstraction(i);if(a.exists()){$tm.notify(\&quot;Forbidden! View already exists!\&quot;);return}if(s&amp;&amp;this.view.isLiveView()){$tm.notify(\&quot;Forbidden to clone the live view!\&quot;);return}a=new ViewAbstraction(i,{isCreate:true,protoView:s?this.view:null});this.setView(a)})};MapWidget.prototype.handleRenameView=function(){if(this.view.isLocked()){$tm.notify(\&quot;Forbidden!\&quot;);return}var e=this.view.getOccurrences();var t={count:e.length.toString(),filter:utils.joinAndWrap(e,\&quot;[[\&quot;,\&quot;]]\&quot;)};var i=\&quot;renameView\&quot;;this.dialogManager.open(i,t,function(e,t){if(e){var i=utils.getText(t);var s=new ViewAbstraction(i);if(!i){$tm.notify(\&quot;Invalid name!\&quot;)}else if(s.exists()){$tm.notify(\&quot;Forbidden! View already exists!\&quot;)}else{this.view.rename(i);this.setView(this.view)}}})};MapWidget.prototype.handleEditView=function(){var e=JSON.stringify($tm.config.vis);var t=this.graphData;var i=this.view.getConfig();var s={\&quot;filter.prettyNodeFltr\&quot;:this.view.getNodeFilter(\&quot;pretty\&quot;),\&quot;filter.prettyEdgeFltr\&quot;:this.view.getEdgeTypeFilter(\&quot;pretty\&quot;),\&quot;vis-inherited\&quot;:e};var a={view:this.view.getLabel(),createdOn:this.view.getCreationDate(true),numberOfNodes:Object.keys(t.nodesById).length.toString(),numberOfEdges:Object.keys(t.edgesById).length.toString(),dialog:{preselects:$tw.utils.extend({},i,s)}};var r=\&quot;configureView\&quot;;this.dialogManager.open(r,a,function(e,t){if(!e)return;var i=utils.getPropertiesByPrefix(t.fields,\&quot;config.\&quot;,true);var s=this.view.getConfig(\&quot;background_image\&quot;);this.view.setConfig(i);if(i[\&quot;physics_mode\&quot;]&amp;&amp;!this.view.isEnabled(\&quot;physics_mode\&quot;)){this.handleStorePositions()}var a=this.view.getConfig(\&quot;background_image\&quot;);if(a&amp;&amp;a!==s){$tm.notify(\&quot;Background changed! You may need to zoom out a bit.\&quot;)}var r=utils.getField(t,\&quot;filter.prettyNodeFltr\&quot;,\&quot;\&quot;);var o=utils.getField(t,\&quot;filter.prettyEdgeFltr\&quot;,\&quot;\&quot;);this.view.setNodeFilter(r);this.view.setEdgeTypeFilter(o)})};MapWidget.prototype.handleSaveCanvas=function(){var e=\&quot;$:/temp/tmap/snapshot\&quot;;var t=this.createAndSaveSnapshot(e);var i=utils.getSnapshotTitle(this.view.getLabel(),\&quot;png\&quot;);var s={dialog:{snapshot:e,width:this.canvas.width.toString(),height:this.canvas.height.toString(),preselects:{name:i,action:\&quot;download\&quot;}}};var a=\&quot;saveCanvas\&quot;;this.dialogManager.open(a,s,function(t,s){if(!t)return;i=s.fields.name||i;var a=s.fields.action;if(a===\&quot;download\&quot;){this.handleDownloadSnapshot(i)}else if(a===\&quot;wiki\&quot;){utils.cp(e,i,true);this.dispatchEvent({type:\&quot;tm-navigate\&quot;,navigateTo:i})}else if(a===\&quot;placeholder\&quot;){this.view.addPlaceholder(e)}$tw.wiki.deleteTiddler(\&quot;$:/temp/tmap/snapshot\&quot;)})};MapWidget.prototype.handleDownloadSnapshot=function(e){var t=this.document.createElement(\&quot;a\&quot;);var i=this.view.getLabel();t.download=e||utils.getSnapshotTitle(i,\&quot;png\&quot;);t.href=this.getSnapshot();var s=new MouseEvent(\&quot;click\&quot;);t.dispatchEvent(s)};MapWidget.prototype.createAndSaveSnapshot=function(e){var t=this.view.getLabel();var i=e||this.view.getRoot()+\&quot;/snapshot\&quot;;$tw.wiki.addTiddler(new $tw.Tiddler({title:i,type:\&quot;image/png\&quot;,text:this.getSnapshot(true),modified:new Date}));return i};MapWidget.prototype.getSnapshot=function(e){var t=this.canvas.toDataURL(\&quot;image/png\&quot;);return e?utils.getWithoutPrefix(t,\&quot;data:image/png;base64,\&quot;):t};MapWidget.prototype.handleDeleteView=function(){var e=this.view.getLabel();if(this.view.isLocked()){$tm.notify(\&quot;Forbidden!\&quot;);return}var t=this.view.getOccurrences();if(t.length){var i={count:t.length.toString(),filter:utils.joinAndWrap(t,\&quot;[[\&quot;,\&quot;]]\&quot;)};this.dialogManager.open(\&quot;cannotDeleteViewDialog\&quot;,i);return}var s=\&quot;You are about to delete the view \&quot;+\&quot;''\&quot;+e+\&quot;'' (no tiddler currently references this view).\&quot;;this.openStandardConfirmDialog(function(t){if(t){this.view.destroy();this.setView($tm.misc.defaultViewLabel);this.logger(\&quot;debug\&quot;,'view \&quot;'+e+'\&quot; deleted ');$tm.notify('view \&quot;'+e+'\&quot; deleted ')}},s)};MapWidget.prototype.handleTriggeredRefresh=function(e){this.logger(\&quot;log\&quot;,e,\&quot;Triggered a refresh\&quot;);if(this.id===\&quot;live_tab\&quot;){var t=utils.getTiddler(utils.getText(e));if(t){var i=t.fields[\&quot;tmap.open-view\&quot;]||$tm.config.sys.liveTab.fallbackView;if(i&amp;&amp;i!==this.view.getLabel()){this.setView(i);return}}}this.rebuildGraph({resetFocus:{delay:1e3,duration:1e3}})};MapWidget.prototype.handleRemoveElements=function(e){if(e.nodes.length){this.handleRemoveNodes(e.nodes)}else if(e.edges.length){this.handleRemoveEdges(e.edges)}this.resetVisManipulationBar()};MapWidget.prototype.handleRemoveEdges=function(e){$tm.adapter.deleteEdges(this.graphData.edges.get(e));$tm.notify(\&quot;edge\&quot;+(e.length&gt;1?\&quot;s\&quot;:\&quot;\&quot;)+\&quot; removed\&quot;);this.preventFitAfterRebuild=true};MapWidget.prototype.handleRemoveNodes=function(e){var t=$tm.adapter.getTiddlersById(e);var i={count:e.length.toString(),tiddlers:$tw.utils.stringifyList(t),dialog:{preselects:{\&quot;delete-from\&quot;:\&quot;filter\&quot;}}};var s=\&quot;deleteNodeDialog\&quot;;this.dialogManager.open(s,i,function(t,i){if(!t)return;if(i.fields[\&quot;delete-from\&quot;]===\&quot;system\&quot;){$tm.adapter.deleteNodes(e);var s=e.length}else{var s=0;for(var a=e.length;a--;){var r=this.view.removeNode(e[a]);if(r)s++}}this.preventFitAfterRebuild=true;$tm.notify(\&quot;Removed \&quot;+s+\&quot; of \&quot;+e.length+\&quot; from \&quot;+i.fields[\&quot;delete-from\&quot;])})};MapWidget.prototype.toggleEnlargedMode=function(e){if(!this.isInSidebar&amp;&amp;e===\&quot;halfscreen\&quot;)return;this.logger(\&quot;log\&quot;,\&quot;Toggled graph enlargement\&quot;);var t=this.enlargedMode;if(t){this.network.setOptions({clickToUse:this.clickToUse});utils.findAndRemoveClassNames([\&quot;tmap-has-\&quot;+t+\&quot;-widget\&quot;,\&quot;tmap-\&quot;+t]);this.enlargedMode=null;document.body.scrollTop=this.scrollTop}if(!t||t!==e&amp;&amp;(e===\&quot;fullscreen\&quot;||e===\&quot;halfscreen\&quot;&amp;&amp;!this.isInSidebar)){var i=document.documentElement;this.scrollTop=document.body.scrollTop;this.enlargedMode=e;var s=this.isInSidebar?this.sidebar:utils.getFirstElementByClassName(\&quot;tc-story-river\&quot;);$tw.utils.addClass(this.document.body,\&quot;tmap-has-\&quot;+e+\&quot;-widget\&quot;);$tw.utils.addClass(s,\&quot;tmap-has-\&quot;+e+\&quot;-widget\&quot;);$tw.utils.addClass(this.domNode,\&quot;tmap-\&quot;+e);this.network.setOptions({clickToUse:false});$tm.notify(\&quot;Toggled \&quot;+e+\&quot; mode\&quot;)}this.handleResizeEvent()};MapWidget.prototype.handleGenerateWidget=function(e){$tw.rootWidget.dispatchEvent({type:\&quot;tmap:tm-generate-widget\&quot;,paramObject:{view:this.view.getLabel()}})};MapWidget.prototype.handleStorePositions=function(e){var t=this.view.getNodeData();var i=this.network.getPositions();for(var s in i){t[s]=t[s]||{};t[s].x=i[s].x;t[s].y=i[s].y}this.view.saveNodeData(t);this.ignoreNextViewModification=true;if(e){$tm.notify(\&quot;positions stored\&quot;)}};MapWidget.prototype.handleVisStabilizedEvent=function(e){if(this.hasNetworkStabilized)return;this.hasNetworkStabilized=true;this.logger(\&quot;log\&quot;,\&quot;Network stabilized after\&quot;,e.iterations,\&quot;iterations\&quot;);if(!this.view.isEnabled(\&quot;physics_mode\&quot;)){var t=this.graphData.nodesById;var i=[];for(var s in t){if(!t[s].x){i.push(s)}}if(i.length){this.setNodesMoveable(i,false);$tm.notify(i.length+\&quot; nodes were added to the graph\&quot;);this.doFitAfterStabilize=true}var a=this.visOptions.physics;a[a.solver].centralGravity=0;this.network.setOptions(this.visOptions)}if(this.doFitAfterStabilize){this.doFitAfterStabilize=false;this.fitGraph(1e3,1e3)}};MapWidget.prototype.handleFocusNode=function(e){this.network.focus($tm.adapter.getId(e.param),{scale:1.5,animation:true})};MapWidget.prototype.isZombieWidget=function(){if(this.domNode.isTiddlyWikiFakeDom===true){return true}else{return!this.document.body.contains(this.getContainer())}};MapWidget.prototype.fitGraph=function(e,t){window.clearTimeout(this.activeFitTimeout);t=t||0;e=e||0;var i=function(){if(this.isZombieWidget())return;this.network.redraw();this.network.fit({animation:{duration:t,easingFunction:\&quot;easeOutQuart\&quot;}})};this.activeFitTimeout=window.setTimeout(i.bind(this),e)};MapWidget.prototype.handleInsertNode=function(e){var t=\&quot;addNodeToMap\&quot;;this.dialogManager.open(t,null,function(t,i){if(!t)return;var s=utils.getField(i,\&quot;draft.title\&quot;);if(utils.tiddlerExists(s)){if(utils.isMatch(s,this.view.getNodeFilter(\&quot;compiled\&quot;))){$tm.notify(\&quot;Node already exists\&quot;);return}else{e=$tm.adapter.makeNode(s,e);this.view.addNode(e)}}else{var a=new $tw.Tiddler(i,{\&quot;draft.title\&quot;:null});e.label=s;$tm.adapter.insertNode(e,this.view,a)}this.preventFitAfterRebuild=true})};MapWidget.prototype.handleEditNode=function(e){var t=$tm.indeces.tById[e.id];var i=utils.getTiddler(t);var s=JSON.stringify($tm.config.vis);var a=this.view.getConfig(\&quot;vis\&quot;);var r={};r[e.id]=e;var o=$tm.adapter.getInheritedNodeStyles(r);var n=JSON.stringify(o[t]);var d=JSON.stringify(utils.merge({},{color:i.fields[\&quot;color\&quot;]},utils.parseJSON(i.fields[\&quot;tmap.style\&quot;])));var l=this.view.getLabel();var h={id:e.id};var g=this.view.getNodeData(e.id,true)||{};delete g.x;delete g.y;var p={view:l,tiddler:i.fields.title,tidColor:i.fields[\&quot;color\&quot;],tidIcon:i.fields[$tm.field.nodeIcon]||i.fields[\&quot;tmap.fa-icon\&quot;],tidLabelField:\&quot;global.\&quot;+$tm.field.nodeLabel,tidIconField:\&quot;global.\&quot;+$tm.field.nodeIcon,dialog:{preselects:{\&quot;inherited-global-default-style\&quot;:s,\&quot;inherited-local-default-style\&quot;:a,\&quot;inherited-group-styles\&quot;:n,\&quot;global.tmap.style\&quot;:d,\&quot;local-node-style\&quot;:JSON.stringify(g)}}};var u=function(e,t,i){for(var s=i.length;s--;){p.dialog.preselects[e+\&quot;.\&quot;+i[s]]=t[i[s]]||\&quot;\&quot;}};u(\&quot;local\&quot;,g,[\&quot;label\&quot;,\&quot;tw-icon\&quot;,\&quot;fa-icon\&quot;,\&quot;open-view\&quot;]);u(\&quot;global\&quot;,i.fields,[$tm.field.nodeLabel,$tm.field.nodeIcon,\&quot;tmap.fa-icon\&quot;,\&quot;tmap.open-view\&quot;]);this.dialogManager.open(\&quot;editNode\&quot;,p,function(i,s){if(!i)return;var a=s.fields;var r=utils.getPropertiesByPrefix(a,\&quot;global.\&quot;,true);for(var o in r){utils.setField(t,o,r[o]||undefined)}var n=utils.getPropertiesByPrefix(a,\&quot;local.\&quot;,true);var d=utils.parseJSON(a[\&quot;local-node-style\&quot;],{});for(var o in n){d[o]=n[o]||undefined}this.view.saveNodeStyle(e.id,d);this.preventFitAfterRebuild=true})};MapWidget.prototype.handleVisSingleClickEvent=function(e){var t=utils.isTrue($tm.config.sys.singleClickMode);if(t&amp;&amp;!this.editorMode){this.handleOpenMapElementEvent(e)}};MapWidget.prototype.handleVisDoubleClickEvent=function(e){if(e.nodes.length||e.edges.length){if(this.editorMode||!utils.isTrue($tm.config.sys.singleClickMode)){this.handleOpenMapElementEvent(e)}}else{if(this.editorMode){this.handleInsertNode(e.pointer.canvas)}}};MapWidget.prototype.handleOpenMapElementEvent=function(e){if(e.nodes.length){var t=this.graphData.nodesById[e.nodes[0]];if(t[\&quot;open-view\&quot;]){$tm.notify(\&quot;Switching view\&quot;);this.setView(t[\&quot;open-view\&quot;])}else{this.openTiddlerWithId(e.nodes[0])}}else if(e.edges.length){this.logger(\&quot;debug\&quot;,\&quot;Clicked on an Edge\&quot;);var i=this.graphData.edgesById[e.edges[0]].type;this.handleEditEdgeType(i)}else{return}this.visTooltip.hide(0,true)};MapWidget.prototype.handleEditEdgeType=function(e){if(!this.editorMode)return;var t=$tm.config.sys.edgeClickBehaviour;if(t!==\&quot;manager\&quot;)return;$tw.rootWidget.dispatchEvent({type:\&quot;tmap:tm-manage-edge-types\&quot;,paramObject:{type:e}})};MapWidget.prototype.handleResizeEvent=function(e){if(this.isZombieWidget())return;var t=this.getAttr(\&quot;height\&quot;);var i=this.getAttr(\&quot;width\&quot;);if(this.isInSidebar){var s=this.domNode.getBoundingClientRect();var a=15;i=document.body.clientWidth-s.left-a+\&quot;px\&quot;;var r=parseInt(this.getAttr(\&quot;bottom-spacing\&quot;))||15;var o=window.innerHeight-s.top;t=o-r+\&quot;px\&quot;}this.domNode.style.height=t||\&quot;300px\&quot;;this.domNode.style.width=i;this.repaintGraph()};MapWidget.prototype.handleClickEvent=function(e){if(this.isZombieWidget()||!this.network)return;if(!this.graphDomNode.contains(e.target)){var t=this.network.getSelection();if(t.nodes.length||t.edges.length){this.logger(\&quot;debug\&quot;,\&quot;Clicked outside; deselecting nodes/edges\&quot;);this.network.selectNodes([]);this.resetVisManipulationBar()}}else{this.canvas.focus()}};MapWidget.prototype.handleVisOnContext=function(e){};MapWidget.prototype.handleVisSelectNode=function(e){this.assignActiveStyle(e.nodes)};MapWidget.prototype.assignActiveStyle=function(e){if(!Array.isArray(e))e=[e];var t=this.visOptions.nodes.color;for(var i=e.length;i--;){var s=e[i];var a=this.graphData.nodesById[s];var r=utils.merge({},t,a.color);this.graphData.nodes.update({id:s,color:{highlight:r,hover:r}})}};MapWidget.prototype.handleVisDeselectNode=function(e){};MapWidget.prototype.handleVisDragEnd=function(e){if(!e.nodes.length)return;this.setNodesMoveable(e.nodes,false)};MapWidget.prototype.handleVisBeforeDrawing=function(e){if(this.backgroundImage){e.drawImage(this.backgroundImage,0,0)}};MapWidget.prototype.constructTooltip=function(e,t){var i=utils.parseJSON(e);var s=i.node||i.edge;var a=null;var r=\&quot;text/html\&quot;;var o=\&quot;text/vnd-tiddlywiki\&quot;;if(i.node){var n=$tm.indeces.tById[s];var d=utils.getTiddler(n);var l=d.fields[$tm.field.nodeInfo];if(l){t.innerHTML=$tw.wiki.renderText(r,o,l)}else if(d.fields.text){var h={type:\&quot;tiddler\&quot;,attributes:{tiddler:{type:\&quot;string\&quot;,value:n}},children:[{type:\&quot;transclude\&quot;,attributes:{},isBlock:true}]};utils.removeArrayElement(this.children,this.tmpTooltipWidget);this.tmpTooltipWidget=this.makeChildWidget(h);this.tmpTooltipWidget.setVariable(\&quot;tv-tiddler-preview\&quot;,\&quot;yes\&quot;);this.tmpTooltipWidget.render(t,null);this.children.push(this.tmpTooltipWidget);return}else{t.innerHTML=n}}else{var g=this.graphData.edgesById[s];var p=$tm.indeces.allETy[g.type];if(p.description){a=$tw.wiki.renderText(r,o,p.description)}t.innerHTML=a||p.label||p.id}};MapWidget.prototype.handleVisHoverElement=function(e){if($tm.mouse.buttons)return;var t=e.node||e.edge;var i=JSON.stringify(e);if(e.node){this.assignActiveStyle(t)}if(!this.isVisInEditMode()){var s=this.constructTooltip;var i=JSON.stringify(e);this.visTooltip.show(i,s)}};MapWidget.prototype.handleVisBlurElement=function(e){this.visTooltip.hide()};MapWidget.prototype.handleVisLoading=function(e){this.graphLoadingBarDomNode.style.display=\&quot;block\&quot;;this.graphLoadingBarDomNode.setAttribute(\&quot;max\&quot;,e.total);this.graphLoadingBarDomNode.setAttribute(\&quot;value\&quot;,e.iterations)};MapWidget.prototype.handleVisLoadingDone=function(e){this.graphLoadingBarDomNode.style.display=\&quot;none\&quot;};MapWidget.prototype.handleVisDragStart=function(e){if(e.nodes.length){this.visTooltip.hide(0,true);this.assignActiveStyle(e.nodes);this.setNodesMoveable(e.nodes,true)}};MapWidget.prototype.destruct=function(){utils.setDomListeners(\&quot;remove\&quot;,window,this.windowDomListeners);utils.setDomListeners(\&quot;remove\&quot;,this.domNode,this.widgetDomListeners);this._destructVis()};MapWidget.prototype._destructVis=function(){if(!this.network)return;utils.setDomListeners(\&quot;remove\&quot;,this.canvas,this.canvasDomListeners);this.network.destroy();this.network=null};MapWidget.prototype.openTiddlerWithId=function(e){var t=$tm.indeces.tById[e];this.logger(\&quot;debug\&quot;,\&quot;Opening tiddler\&quot;,t,\&quot;with id\&quot;,e);if(this.enlargedMode===\&quot;fullscreen\&quot;){var i=this.wiki.findDraft(t);var s=!!i;if(!s){var a=\&quot;tm-edit-tiddler\&quot;;this.dispatchEvent({type:a,tiddlerTitle:t});i=this.wiki.findDraft(t)}var r={\ndraftTRef:i,originalTRef:t};var o=\&quot;fullscreenTiddlerEditor\&quot;;this.dialogManager.open(o,r,function(e,a){if(e){var r=\&quot;tm-save-tiddler\&quot;;this.dispatchEvent({type:r,tiddlerTitle:i})}else if(!s){utils.deleteTiddlers([i])}var r=\&quot;tm-close-tiddler\&quot;;this.dispatchEvent({type:r,tiddlerTitle:t})})}else{var n=this.domNode.getBoundingClientRect();this.dispatchEvent({type:\&quot;tm-navigate\&quot;,navigateTo:t,navigateFromTitle:this.getVariable(\&quot;storyTiddler\&quot;),navigateFromNode:this,navigateFromClientRect:{top:n.top,left:n.left,width:n.width,right:n.right,bottom:n.bottom,height:n.height}})}};MapWidget.prototype.getViewHolderRef=function(){if(this.viewHolderRef){return this.viewHolderRef}this.logger(\&quot;info\&quot;,\&quot;Retrieving or generating the view holder reference\&quot;);var e=this.getAttr(\&quot;view\&quot;);if(e){this.logger(\&quot;log\&quot;,'User wants to bind view \&quot;'+e+'\&quot; to graph');var t=$tm.path.views+\&quot;/\&quot;+e;if(this.wiki.getTiddler(t)){var i=$tm.path.localHolders+\&quot;/\&quot;+utils.genUUID();this.logger(\&quot;log\&quot;,'Created an independent temporary view holder \&quot;'+i+'\&quot;');utils.setText(i,t);this.logger(\&quot;log\&quot;,'View \&quot;'+t+'\&quot; inserted into independend holder')}else{this.logger(\&quot;log\&quot;,'View \&quot;'+e+'\&quot; does not exist')}}if(typeof i===\&quot;undefined\&quot;){this.logger(\&quot;log\&quot;,\&quot;Using default (global) view holder\&quot;);var i=$tm.ref.defaultViewHolder}return i};MapWidget.prototype.setView=function(e,t){e=new ViewAbstraction(e);if(!e.exists())return;var i=e.getLabel();t=t||this.viewHolderRef;this.logger(\&quot;info\&quot;,\&quot;Inserting view '\&quot;+i+\&quot;' into holder '\&quot;+t+\&quot;'\&quot;);this.wiki.addTiddler(new $tw.Tiddler({title:t,text:i}))};MapWidget.prototype.getView=function(e){if(!e&amp;&amp;this.view){return this.view}var t=this.getViewHolderRef();var i=utils.getText(t);var s=new ViewAbstraction(i);this.logger(\&quot;debug\&quot;,\&quot;Retrieved view from holder\&quot;);if(!s.exists()){this.logger(\&quot;debug\&quot;,'Warning: View \&quot;'+i+\&quot;\\\&quot; doesn't exist. Default is used instead.\&quot;);s=new ViewAbstraction(\&quot;Default\&quot;)}return s};MapWidget.prototype.reloadBackgroundImage=function(e){this.backgroundImage=null;var t=this.view.getConfig(\&quot;background_image\&quot;);var i=utils.getTiddler(t);if(!i&amp;&amp;!t)return;var s=new Image;var a=function(e){s.src=e};s.onload=function(){this.backgroundImage=s;this.repaintGraph();if(e){$tm.notify(e)}}.bind(this);if(i){var r=i.fields[\&quot;_canonical_uri\&quot;];if(r){utils.getImgFromWeb(r,a)}else if(i.fields.text){var o=$tw.utils.makeDataUri(i.fields.text,i.fields.type);s.src=o}}else if(t){utils.getImgFromWeb(t,a)}};MapWidget.prototype.getRefreshedDataSet=function(e,t,i){if(!i){return new vis.DataSet(utils.getValues(e))}if(t)i.remove(Object.keys(t));i.update(utils.getValues(e));return i};MapWidget.prototype.repaintGraph=function(){var e=$tw.utils.hasClass(this.document.body,\&quot;tmap-has-fullscreen-widget\&quot;);if(this.network&amp;&amp;(!e||e&amp;&amp;this.enlargedMode)){this.logger(\&quot;info\&quot;,\&quot;Repainting the whole graph\&quot;);this.network.redraw();this.fitGraph(0,1e3)}};MapWidget.prototype.setGraphButtonEnabled=function(e,t){var i=\&quot;vis-button\&quot;+\&quot; \&quot;+\&quot;tmap-\&quot;+e;var s=utils.getFirstElementByClassName(i,this.domNode);$tw.utils.toggleClass(s,\&quot;tmap-button-enabled\&quot;,t)};MapWidget.prototype.dialogPostProcessor=function(){this.network.selectNodes([]);this.resetVisManipulationBar()};MapWidget.prototype.setNodesMoveable=function(e,t){if(!e||!e.length||this.view.isEnabled(\&quot;physics_mode\&quot;)){return}var i=[];var s=!t;for(var a=e.length;a--;){i.push({id:e[a],fixed:{x:s,y:s}})}this.graphData.nodes.update(i);if(s){this.logger(\&quot;debug\&quot;,\&quot;Fixing\&quot;,i.length,\&quot;nodes\&quot;);this.handleStorePositions()}};MapWidget.prototype.addGraphButtons=function(e){var t=utils.getFirstElementByClassName(\&quot;vis-navigation\&quot;,this.domNode);for(var i in e){var s=this.document.createElement(\&quot;div\&quot;);s.className=\&quot;vis-button \&quot;+\&quot; \&quot;+\&quot;tmap-\&quot;+i;s.addEventListener(\&quot;click\&quot;,e[i].bind(this),false);t.appendChild(s);this.setGraphButtonEnabled(i,true)}};&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/js/widget/MapWidget&quot;,
            &quot;type&quot;: &quot;application/javascript&quot;,
            &quot;module-type&quot;: &quot;widget&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/license&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/license&quot;,
            &quot;subtitle&quot;: &quot;License&quot;,
            &quot;caption&quot;: &quot;License&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n!! TiddlyMap\n\nCopyright (c) 2014, Felix Küppers\nAll rights reserved.\n\nTiddlyMap is licensed under the [[BSD 2-Clause License|http://opensource.org/licenses/BSD-2-Clause]]. For the exact license terms, please visit [[https://github.com/felixhayashi/TW5-TiddlyMap/blob/master/LICENSE]]. \n\n!! TiddlyWiki\n\nCreated by Jeremy Ruston, (jeremy [at] jermolene [dot] com)\n\nCopyright © Jeremy Ruston 2004-2007 Copyright © UnaMesa Association 2007-2014\n\nPublished under the following [licenses](https://github.com/Jermolene/TiddlyWiki5/tree/master/licenses):\n\n# BSD 3-clause \&quot;New\&quot; or \&quot;Revised\&quot; License (including any right to adopt any future version of a license if permitted)\n# Creative Commons Attribution 3.0 (including any right to adopt any future version of a license if permitted)\n\n!! Vis.js\n\nCopyright (c) 2014 [Almende B.V.](https://github.com/almende/vis)\n\nPublished under the following licenses:\n\n# Apache License Version 2.0, January 2004 http://www.apache.org/licenses/\n# MIT License (MIT)\n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/readme&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/readme&quot;,
            &quot;text&quot;: &quot;* Please refer to the project-readme hosted at [[https://github.com/felixhayashi/TW5-TiddlyMap]].\n* A demo with several examples and explanations can be found at [[http://tiddlymap.org]].&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/edgeTypes/tmap:unknown&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/edgeTypes/tmap:unknown&quot;,
            &quot;description&quot;: &quot;Automatically assigned to an edge that does not have a type assigned&quot;,
            &quot;style&quot;: &quot;{\&quot;color\&quot;:\&quot;gray\&quot;}&quot;,
            &quot;show-label&quot;: &quot;false&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/edgeTypes/tw-body:link&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/edgeTypes/tw-body:link&quot;,
            &quot;description&quot;: &quot;A link that is contained in the tiddler's body pointing to another resource.&quot;,
            &quot;style&quot;: &quot;{\&quot;color\&quot;:\&quot;orange\&quot;, \&quot;dashes\&quot;:true}&quot;,
            &quot;label&quot;: &quot;links to&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/edgeTypes/tw-list:list&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/edgeTypes/tw-list:list&quot;,
            &quot;description&quot;: &quot;Contained in a list of this tiddler&quot;,
            &quot;style&quot;: &quot;{ \&quot;color\&quot;: \&quot;red\&quot;, \&quot;dashes\&quot;:true}&quot;,
            &quot;label&quot;: &quot;listed in&quot;,
            &quot;text&quot;: &quot;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/edgeTypes/tw-list:tags&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/edgeTypes/tw-list:tags&quot;,
            &quot;description&quot;: &quot;A tag that refers to a tiddler of the same name.&quot;,
            &quot;style&quot;: &quot;{ \&quot;color\&quot;: \&quot;DarkSlateGray\&quot;, \&quot;dashes\&quot;:true}&quot;,
            &quot;label&quot;: &quot;tagged with&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/default&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/default&quot;,
            &quot;caption&quot;: &quot;Overview&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;div class=\&quot;tmap-flash-message tmap-plain\&quot;&gt;\n  Please visit the [[online docs|http://tiddlymap.org/Documentation]]\n  for more information about the available global options.\n&lt;/div&gt;\n&lt;table class=\&quot;tmap-key-value-table\&quot;&gt;\n  &lt;tr&gt;\n    &lt;th align=\&quot;left\&quot;&gt;Plugin version&lt;/th&gt;\n    &lt;td&gt;&lt;&lt;pluginVersion&gt;&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;!--\n  &lt;tr&gt;\n    &lt;th align=\&quot;left\&quot;&gt;Datastructure version&lt;/th&gt;\n    &lt;td&gt;&lt;&lt;dataStructureVersion&gt;&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n--&gt;\n  &lt;tr&gt;\n    &lt;th align=\&quot;left\&quot;&gt;Nodes in system&lt;/th&gt;\n    &lt;td&gt;&lt;&lt;numberOfNodes&gt;&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;th align=\&quot;left\&quot;&gt;Edges in system&lt;/th&gt;\n    &lt;td&gt;&lt;&lt;numberOfEdges&gt;&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/editor&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/editor&quot;,
            &quot;caption&quot;: &quot;Editor&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;table class=\&quot;tmap-config-table\&quot;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n      title:\&quot;Show Neighbour&amp;shy;hood button\&quot;\n      field:\&quot;config.sys.editorMenuBar.showNeighScopeButton\&quot; \n      descr:\&quot;Show or hide the neighbourhood scope button from the menu.\&quot;&gt;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n      title:\&quot;Show Screen&amp;shy;shot button\&quot;\n      field:\&quot;config.sys.editorMenuBar.showScreenshotButton\&quot; \n      descr:\&quot;Show or hide the screenshot button.\&quot;&gt;&gt;\n&lt;/table&gt;   \n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/fields&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/fields&quot;,
            &quot;caption&quot;: &quot;Field settings&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;table class=\&quot;tmap-config-table\&quot;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n      title:\&quot;Node-icon field\&quot;\n      field:\&quot;config.sys.field.nodeIcon\&quot; \n      descr:\&quot;Local image used as node image in the graphs.\&quot;&gt;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n      title:\&quot;Node-label field\&quot;\n      field:\&quot;config.sys.field.nodeLabel\&quot; \n      descr:\&quot;Alternative node label to use instead of the title.\&quot;&gt;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n      title:\&quot;Node-info field\&quot;\n      field:\&quot;config.sys.field.nodeInfo\&quot; \n      descr:\&quot;Field used as tooltip when hovering over a node in a graph.\&quot;\n      note:\&quot;It is prohibited to use the text field here.\&quot;&gt;&gt;\n&lt;/table&gt;   \n\n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/interaction&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/interaction&quot;,
            &quot;caption&quot;: &quot;Interaction &amp; behaviour&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;table class=\&quot;tmap-config-table\&quot;&gt;\n&lt;!--\n  &lt;&lt;tmap-row type:\&quot;input-select\&quot;\n      title:\&quot;Default node tooltip\&quot;\n      field:\&quot;config.sys.defaultNodeTooltip\&quot; \n      descr:\&quot;What to show when hovering over a node.\&quot;\n      nochoice:\&quot;No\&quot;\n      selectFilter:\&quot;[[nothing|Nothing]]\n                    [[manager|Open edge-type manager]]\&quot;&gt;&gt;\n--&gt;\n  &lt;$macrocall type=\&quot;input-select\&quot;\n        $name=\&quot;tmap-row\&quot;\n        title=\&quot;Default startup view\&quot;\n        field=\&quot;config.sys.defaultView\&quot;\n        nochoice=\&quot;Last view used at startup\&quot;\n        selectFilter=&lt;&lt;tmap \&quot;option\&quot; \&quot;selector.allViewsByLabel\&quot;&gt;&gt;\n        descr=\&quot;The view to display at startup\&quot; /&gt;\n  &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n      title:\&quot;Show popups\&quot;\n      field:\&quot;config.sys.popups.enabled\&quot; \n      descr:\&quot;Set this to true if you want to see automatic\n             popups in the map.\&quot;&gt;&gt;\n  &lt;$list filter=\&quot;[config.sys.popups.enabled[true]]\&quot;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n      title:\&quot;Popup delay\&quot;\n      field:\&quot;config.sys.popups.delay\&quot;\n      descr:\&quot;The time in miliseconds that needs to pass after\n             a tooltip is triggered.\&quot;&gt;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n      title:\&quot;Popup width\&quot;\n      field:\&quot;config.sys.popups.width\&quot;\n      descr:\&quot;The default max-width of the popup.\&quot;\n      note:\&quot;Make sure you added the desired unit (e.g. `px`).\n            Requires a wiki refresh.\&quot;&gt;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n      title:\&quot;Popup height\&quot;\n      field:\&quot;config.sys.popups.height\&quot;\n      descr:\&quot;The default max-height of the popup.\&quot;\n      note:\&quot;Make sure you added desired the unit (e.g.  `px`).\n            Requires a wiki refresh.\&quot;&gt;&gt;\n  &lt;/$list&gt;\n  &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n      title:\&quot;Allow single click mode\&quot;\n      field:\&quot;config.sys.singleClickMode\&quot; \n      descr:\&quot;A single click on a node is sufficient to open the\n             corresponding tiddler.\&quot;\n      note:\&quot;Drag and drop will still work and does not cause a\n            tiddler to be opened. Single click is never active in\n            the map editor.\&quot;&gt;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-select\&quot;\n      title:\&quot;Edge click behaviour\&quot;\n      field:\&quot;config.sys.edgeClickBehaviour\&quot; \n      selectFilter:\&quot;[[nothing|Nothing]]\n                    [[manager|Open edge-type manager]]\&quot;\n      descr:\&quot;What should happen when you click on an edge?\&quot;&gt;&gt;\n&lt;/table&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/liveTab&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/liveTab&quot;,
            &quot;caption&quot;: &quot;Live tab&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;table class=\&quot;tmap-config-table\&quot;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n      title:\&quot;Show Live tab\&quot;\n      field:\&quot;liveTab\&quot; \n      descr:\&quot;Show or hide the live tab in the sidebar.\&quot;&gt;&gt;\n  &lt;$macrocall type=\&quot;input-select\&quot;\n      $name=\&quot;tmap-row\&quot;\n      title=\&quot;Fallback view\&quot;\n      field=\&quot;config.sys.liveTab.fallbackView\&quot; \n      selectFilter=&lt;&lt;tmap \&quot;option\&quot; \&quot;selector.allViewsByLabel\&quot;&gt;&gt;\n      descr=\&quot;The view to display in the sidebar's live tab in\n             case the current tiddler did not specify a view\n             to open.\&quot; /&gt;\n&lt;/table&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/options-button}} Global configuration of TiddlyMap&quot;,
            &quot;classes&quot;: &quot;tmap-remove-top-space&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;$macrocall $name=\&quot;tabs\&quot;\n  default=&lt;&lt;concat \&quot;$(template)$/default\&quot;&gt;&gt;\n  tabsList=\&quot;[all[shadows]prefix&lt;template&gt;] -[&lt;template&gt;]\&quot;\n/&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/verbosity&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/verbosity&quot;,
            &quot;caption&quot;: &quot;Verbosity&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;div class=\&quot;tmap-flash-message tmap-plain\&quot;&gt;\n  Here you can restrict the system's talkativeness.\n&lt;/div&gt;\n\n&lt;table class=\&quot;tmap-config-table\&quot;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n      title:\&quot;Debug output\&quot;\n      field:\&quot;config.sys.debug\&quot; \n      descr:\&quot;Set this to true if you want debug information to be\n             displayed in the browser console.\&quot;&gt;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n      title:\&quot;Show notifications\&quot;\n      field:\&quot;config.sys.notifications\&quot; \n      descr:\&quot;Set this to true if you want to receive fade-out\n             notifications for important events.\&quot;&gt;&gt;\n&lt;/table&gt; &quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/vis&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/globalConfig/vis&quot;,
            &quot;classes&quot;: &quot;tmap-remove-top-space&quot;,
            &quot;caption&quot;: &quot;Graph&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n  The global vis configurations will affect all views and their\n  elements (nodes and edges) unless they are overridden on a lower\n  level. All options below are documented at\n  [[vis.js.org|http://visjs.org/docs/network]].\n&lt;/div&gt;\n&lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n  Only config items that you actually changed have an effect on\n  the graph. Other options are visible, yet, inactive.\n&lt;/div&gt;\n&lt;$tmap-config\n    mode=\&quot;manage-config\&quot;\n    inherited=\&quot;vis-inherited\&quot;\n    extension=\&quot;config.vis\&quot; /&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView/default&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView/default&quot;,
            &quot;caption&quot;: &quot;Overview&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n   All configurations __only__ affect this view.\n&lt;/div&gt;\n\n&lt;table class=\&quot;tmap-key-value-table\&quot;&gt;\n  &lt;tr&gt;\n    &lt;th align=\&quot;left\&quot;&gt;Created on&lt;/th&gt;\n    &lt;td&gt;&lt;&lt;createdOn&gt;&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;th align=\&quot;left\&quot;&gt;Nodes contained in graph&lt;/th&gt;\n    &lt;td&gt;&lt;&lt;numberOfNodes&gt;&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;th align=\&quot;left\&quot;&gt;Edges contained in graph&lt;/th&gt;\n    &lt;td&gt;&lt;&lt;numberOfEdges&gt;&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView/editFilters&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView/editFilters&quot;,
            &quot;caption&quot;: &quot;Edit filters&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n  Completely new to filters? Please read\n  [[Introduction to filter notation|http://tiddlywiki.com/#Introduction%20to%20filter%20notation]]\n  first.\n&lt;/div&gt;\n\n&lt;fieldset&gt;\n  &lt;legend&gt;Filters &lt;sup&gt;[1]&lt;/sup&gt;&lt;/legend&gt;\n  &lt;table class=\&quot;tmap-config-table tmap-large-input\&quot;&gt;\n    &lt;&lt;tmap-row type:\&quot;input-textarea\&quot;\n        title:\&quot;Node filter\&quot;\n        field:\&quot;filter.prettyNodeFltr\&quot;\n        descr:\&quot;In the map, only those tiddlers that match this filter\n               are shown. Drafts and system tiddlers are automatically\n               excluded.\&quot;&gt;&gt;\n    &lt;&lt;tmap-row type:\&quot;input-textarea\&quot;\n        title:\&quot;Edge-type filter\&quot;\n        field:\&quot;filter.prettyEdgeFltr\&quot; \n        descr:\&quot;Only edges with a type that matches the filter are shown.\&quot;&gt;&gt;\n  &lt;/table&gt;   \n&lt;/fieldset&gt;\n\n---\n\n&lt;sup&gt;[1]&lt;/sup&gt; In the editors above, a new line is equivalent to a space symbol.&lt;br /&gt;\n&lt;sup&gt;[2]&lt;/sup&gt; It is suggested to read\n[[Node and edge-type filters|http://tiddlymap.org#Node%20and%20edge-type%20filters]]\nand [[Edge-type namespaces|http://tiddlymap.org#Node%20and%20edge-type%20filters]]\nbefore using Tiddlymap's filter editor.&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView/layout&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView/layout&quot;,
            &quot;caption&quot;: &quot;Layout&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;table class=\&quot;tmap-config-table\&quot;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n      title:\&quot;Floating nodes\&quot;\n      field:\&quot;config.physics_mode\&quot; \n      descr:\&quot;Set this to true if you want your nodes to freely\n             swirl around.\&quot;&gt;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n      title:\&quot;Background image\&quot;\n      field:\&quot;config.background_image\&quot; \n      descr:\&quot;The title of an image tiddler to be used as background\n             in the view.\&quot;\n      note:\&quot;You can also use an image url directly, however, the\n            image needs be stored under the same domain as your wiki.\n            Otherwise, it won't be displayed!\&quot;&gt;&gt;\n&lt;/table&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView/namespace&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView/namespace&quot;,
            &quot;caption&quot;: &quot;Namespace&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;table class=\&quot;tmap-config-table tmap-small-input\&quot;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n      title:\&quot;Edge-type namespace\&quot;\n      field:\&quot;config.edge_type_namespace\&quot; \n      descr:\&quot;A namespace (like `foaf` in `foaf:knows`) that will be\n             automatically added to all edge types you create in\n             this view. The namespace is only added if the types\n             do not exist yet and do not have a namespace assigned yet.\n             Namespaces are always hidden in the graph.\&quot;\n      note:\&quot;Most likely, you don't want the edges created with this\n            namespace to leak into other views, moreover, you don't\n            want edges that do not possess the namespace ever to be\n            shown here. In this case, use a private marker (`_`)\n            in front of your namespace, e.g. `_mynamespace` and use\n            an appropriate edge type filter, i.e. `+[prefix[_mynamespace]]`\n            For further information see:\n            \n            * [[Edge-type namespaces|http://tiddlymap.org/#Edge-type%20namespaces]]\n            * [[Private edge types|http://tiddlymap.org/#Private%20edge%20types]]\n            \&quot;&gt;&gt;\n&lt;/table&gt;\n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/options-button}} View configuration -- &lt;&lt;view&gt;&gt;&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define privateEdgeTypes() [[private edge-types|http://tiddlymap.org/#Private%20edge%20types]]\n\n&lt;$macrocall $name=\&quot;tabs\&quot;\n  default=&lt;&lt;concat \&quot;$(template)$/default\&quot;&gt;&gt;\n  tabsList=\&quot;[all[shadows]prefix&lt;template&gt;] -[&lt;template&gt;]\&quot;\n/&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView/vis&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/configureView/vis&quot;,
            &quot;caption&quot;: &quot;Graph&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n   The local vis configurations will affect all\n   elements (nodes and edges) of this view, unless they are\n   overridden on a lower level. All options below are documented at\n   [[vis.js.org|http://visjs.org/docs/network]].\n&lt;/div&gt;\n&lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n  Only config items that you actually changed have an effect on the\n  graph. Other options are visible, yet, inactive.\n&lt;/div&gt;\n&lt;$tmap-config\n    mode=\&quot;manage-config\&quot;\n    inherited=\&quot;vis-inherited\&quot;\n    extension=\&quot;config.vis\&quot; /&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/cannotDeleteViewDialog&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/cannotDeleteViewDialog&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/locked-padlock}} You cannot delete this view!&quot;,
            &quot;buttons&quot;: &quot;ok&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\nIt is not possible to delete the current view as ''&lt;&lt;count&gt;&gt;'' tiddlers\nare referencing it. To delete the view you must first remove the tiddlymap\nwidgets in the tiddlers listed below or change their view attributes.\n\n''References''\n\n&lt;ul&gt;\n&lt;$list filter=&lt;&lt;filter&gt;&gt; variable=\&quot;item\&quot;&gt;\n  &lt;li&gt;&lt;$link&gt;&lt;&lt;item&gt;&gt;&lt;/$link&gt;&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n\nAfter the references are removed, you may delete the view.&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/getConfirmation&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/getConfirmation&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/import-button}} You must confirm in order to proceed!&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;&lt;message&gt;&gt;\n\n''Are you really sure you want to do this?''&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/createView&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/createView&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/new-button}} Creating a new view&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;table class=\&quot;tmap-config-table\&quot;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n      title:\&quot;View name\&quot;\n      field:\&quot;name\&quot; \n      descr:\&quot;The name for the new view. If no name is entered,\n             the program will invent one for you.\&quot;\n      note:\&quot;You cannot override an existing view. In this case,\n            you need to delete the old view first! You must no use\n            slashes (`/`) in the name.\&quot;&gt;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n      title:\&quot;Clone view\&quot;\n      field:\&quot;clone\&quot; \n      descr:\&quot;Use the view that is currently displayed in the\n             editor as blueprint. The view will be an __exact__\n             clone of the current one, only with a different \n             name.\&quot;&gt;&gt;\n&lt;/table&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/deleteNodeDialog&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/deleteNodeDialog&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/delete-button}} You are about to delete &lt;&lt;count&gt;&gt; nodes&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n''Please choose an option or abort:''\n\n&lt;$radio tiddler=&lt;&lt;output&gt;&gt; field=\&quot;delete-from\&quot; value=\&quot;system\&quot;&gt;\n  Delete nodes from system &lt;sup&gt;[1]&lt;/sup&gt;\n&lt;/$radio&gt;&lt;br /&gt;\n&lt;$radio tiddler=&lt;&lt;output&gt;&gt; field=\&quot;delete-from\&quot; value=\&quot;filter\&quot;&gt;\n  Delete nodes from graph's filter &lt;sup&gt;[2]&lt;/sup&gt;\n&lt;/$radio&gt;\n\nThe following nodes will be deleted:\n\n&lt;ul&gt;\n&lt;$list filter=&lt;&lt;tiddlers&gt;&gt;&gt;\n  &lt;li&gt;&lt;$view tiddler={{!!title}} field=\&quot;title\&quot; /&gt;&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n\n---\n\n&lt;sup&gt;[1]&lt;/sup&gt;\n&lt;small&gt;This will delete all nodes, their corresponding tiddlers and all connected edges.&lt;/small&gt;&lt;br/&gt;\n&lt;sup&gt;[2]&lt;/sup&gt;\n&lt;small&gt;''Important:'' Removing a node from the graph's filter only works, if the node has been added in the map editor per double click or via \&quot;Add Node\&quot;. If the node hasn't been added as mentioned above, you need to change the underlying tiddler in a way that it doesn't match your filter anymore, if you don't want it to be displayed in the graph.&lt;/small&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/dublicateIdInfo&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/dublicateIdInfo&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/info-button}} Dublicate id detected&quot;,
            &quot;buttons&quot;: &quot;ok_suppress&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\nTiddlyMap requires the value of the id field (\&quot;tmap.id\&quot;) to be\nunique in order to correctly identify nodes and tiddlers.\n\nThe tiddler \&quot;&lt;&lt;param.changedTiddler&gt;&gt;\&quot; had the same id as the\ntiddler \&quot;&lt;&lt;param.existingTiddler&gt;&gt;\&quot;.\n\nTherefore TiddlyMap\n\n* assigned a new id to tiddler \&quot;&lt;&lt;param.changedTiddler&gt;&gt;\&quot;\n* removed all edges from \&quot;&lt;&lt;param.changedTiddler&gt;&gt;\&quot;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/edgeNotVisible&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/edgeNotVisible&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/info-button}} Edge will not be visible in view \&quot;&lt;&lt;view&gt;&gt;\&quot;&quot;,
            &quot;buttons&quot;: &quot;ok_suppress&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\nYou just created an edge of type\n&lt;code&gt;&lt;$text text=&lt;&lt;type&gt;&gt; /&gt;&lt;/code&gt; that will not be\nvisible in this view because it doesn't match your\nedge-type filter settings.\n\nThe current edge-type filter of view \&quot;&lt;&lt;view&gt;&gt;\&quot; looks like this:\n\n&lt;pre&gt;&lt;code&gt;&lt;$text text=&lt;&lt;eTyFilter&gt;&gt; /&gt;&lt;/code&gt;&lt;/pre&gt;\n\nTo have the newly added type displayed in your view, adjust your\nedge-type filter accordingly. \n\nSome suggestions:\n\n&lt;ul&gt;\n  &lt;li&gt;\n    Explicitly add the type to the filter:\n    &lt;code&gt;&lt;$text text=\&quot;[[\&quot; /&gt;&lt;$text text=&lt;&lt;type&gt;&gt; /&gt;&lt;$text text=\&quot;]]\&quot; /&gt;&lt;/code&gt;\n  &lt;/li&gt;\n  &lt;li&gt;\n  &lt;$set\n      filter=\&quot;[&lt;type&gt;regexp[:]splitbefore[:]]\&quot;\n      name=\&quot;prefix\&quot;\n      emptyValue=&lt;&lt;tmap halfOfString \&quot;$(type)$\&quot;&gt;&gt;&gt;\n  Add a filter rule (e.g. a prefix filter) that will match\n  your type: &lt;code&gt;[prefix[&lt;&lt;prefix&gt;&gt;]]&lt;/code&gt;\n  &lt;/$set&gt;\n  &lt;/li&gt;\n  &lt;li&gt;Make your current view-filter less restrictive.&lt;/li&gt;\n&lt;/ul&gt;\n\nFor further information, please see:\n[[Node and edge-type filters|http://tiddlymap.org#Node%20and%20edge-type%20filters]].&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/editNode/default&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/editNode/default&quot;,
            &quot;caption&quot;: &quot;Global node style&quot;,
            &quot;classes&quot;: &quot;tmap-remove-top-space&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n  A node's ''global configuration''\n  (also referred to as //global individual config//) defines its\n  individual appearance and behaviour in all views.\n&lt;/div&gt;\n&lt;&lt;maybeShowTidColorWarning&gt;&gt;\n    \n&lt;$macrocall $name=\&quot;sharedSettings\&quot;\n    twIconField=&lt;&lt;tidIconField&gt;&gt;\n    faIconField=\&quot;global.tmap.fa-icon\&quot;\n    labelField=&lt;&lt;tidLabelField&gt;&gt; /&gt;\n\n&lt;$macrocall $name=\&quot;visConfiguration\&quot;\n    mode=\&quot;manage-node-types\&quot;\n    extensionField=\&quot;global.tmap.style\&quot;\n    styleName=\&quot;node's global style\&quot;\n    inheritedList=\&quot;[[inherited-global-default-style]]\n                   [[inherited-local-default-style]]\n                   [[inherited-group-styles]]\&quot; /&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/editNode/local&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/editNode/local&quot;,
            &quot;caption&quot;: &quot;Local node style&quot;,
            &quot;classes&quot;: &quot;tmap-remove-top-space&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n    \n&lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n  The ''local node configuration'' \n  (also referred to as //view-specific node configuration//)\n  overrides the //global individual configuration// and only affects\n  the node's appearance and behaviour in the current view.\n&lt;/div&gt;\n&lt;&lt;maybeShowTidColorWarning&gt;&gt;\n\n&lt;fieldset&gt;\n  &lt;legend&gt;Behaviour&lt;/legend&gt;\n  &lt;table class=\&quot;tmap-config-table\&quot;&gt;\n    &lt;$macrocall type=\&quot;input-select\&quot;\n        $name=\&quot;tmap-row\&quot;\n        title=\&quot;Open view\&quot;\n        field=\&quot;local.open-view\&quot;\n        nochoice=\&quot;Disabled\&quot;\n        selectFilter=&lt;&lt;tmap \&quot;option\&quot; \&quot;selector.allViewsByLabel\&quot;&gt;&gt;\n        descr=\&quot;Clicking on this node will open the specified\n               view instead of the tiddler represented by this node.\&quot; /&gt;\n  &lt;/table&gt;\n&lt;/fieldset&gt;\n\n&lt;$macrocall $name=\&quot;sharedSettings\&quot;\n    twIconField=\&quot;local.tw-icon\&quot;\n    faIconField=\&quot;local.fa-icon\&quot;\n    labelField=\&quot;local.label\&quot; /&gt;\n                         \n&lt;$macrocall $name=\&quot;visConfiguration\&quot;\n    mode=\&quot;manage-node-types\&quot;\n    extensionField=\&quot;local-node-style\&quot;\n    styleName=\&quot;node's local style\&quot;\n    inheritedList=\&quot;[[inherited-global-default-style]]\n                   [[inherited-local-default-style]]\n                   [[inherited-group-styles]]\n                   [[global.tmap.style]]\&quot; /&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/editNode&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/editNode&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/edit-button}} Editing style of node \&quot;&lt;&lt;tiddler&gt;&gt;\&quot;&quot;,
            &quot;classes&quot;: &quot;tmap-remove-top-space&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define maybeShowTidColorWarning()\n  &lt;$list filter=\&quot;[&lt;tidColor&gt;regexp[.+]]\&quot;&gt;\n  &lt;div class=\&quot;tmap-flash-message tmap-warning\&quot;&gt;\n    You have set the tiddler's color\n    field to \&quot;&lt;&lt;tidColor&gt;&gt;\&quot;. This value will be completely ignored\n    when you change node's color properties in the vis editor below.\n  &lt;/div&gt;\n  &lt;/$list&gt;\n\\end\n\n\\define iconSettings(twIconField, faIconField)\n  &lt;fieldset&gt;\n    &lt;legend&gt;Icon Settings&lt;/legend&gt;\n    &lt;table class=\&quot;tmap-config-table\&quot;&gt;\n      &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n          title:\&quot;TW-icon\&quot;\n          field:\&quot;$twIconField$\&quot;\n          descr:\&quot;A tiddlywiki image reference.\n                 For example '$:/core/icon' for Movotun Jack.\&quot;&gt;&gt;\n      &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n          title:\&quot;FA-icon\&quot;\n          field:\&quot;$faIconField$\&quot;\n          descr:\&quot;A Font Awesome icon code.\n                 For example 'f206' for the bicycle symbol.\&quot;&gt;&gt;\n    &lt;/table&gt;\n  &lt;/fieldset&gt;\n\\end\n\n\\define sharedSettings(twIconField, faIconField, labelField)\n  &lt;fieldset&gt;\n    &lt;legend&gt;General Settings&lt;/legend&gt;\n    &lt;table class=\&quot;tmap-config-table\&quot;&gt;\n      &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n          title:\&quot;Label\&quot;\n          field:\&quot;$labelField$\&quot;\n          descr:\&quot;Use this value as node label.\&quot;&gt;&gt;\n    &lt;/table&gt;\n  &lt;/fieldset&gt;\n  &lt;!-- display icon fieldset --&gt;\n  &lt;&lt;iconSettings \&quot;$twIconField$\&quot; \&quot;$faIconField$\&quot;&gt;&gt;  \n\\end\n\n&lt;$macrocall\n  $name=\&quot;tabs\&quot;\n  default=&lt;&lt;concat \&quot;$(template)$/default\&quot;&gt;&gt;\n  tabsList=\&quot;[all[shadows]prefix&lt;template&gt;] -[&lt;template&gt;]\&quot;\n/&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/fullscreenTiddlerEditor/draft&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/fullscreenTiddlerEditor/draft&quot;,
            &quot;caption&quot;: &quot;Draft&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;div class=\&quot;tmap-modal-editor\&quot;&gt;\n  &lt;$importvariables filter=\&quot;[all[tiddlers+shadows]prefix[$:/core/macros/]]\&quot;&gt;\n    &lt;$set name=\&quot;currentTiddler\&quot; value=&lt;&lt;draftTRef&gt;&gt; &gt;\n      &lt;$transclude tiddler=\&quot;$:/core/ui/EditTemplate\&quot; field=\&quot;text\&quot; mode=\&quot;block\&quot; /&gt;\n    &lt;/$set&gt;\n  &lt;/$importvariables&gt;\n&lt;/div&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/fullscreenTiddlerEditor/original&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/fullscreenTiddlerEditor/original&quot;,
            &quot;caption&quot;: &quot;Preview&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;div class=\&quot;tmap-modal-editor\&quot;&gt;\n  &lt;$importvariables filter=\&quot;[all[tiddlers+shadows]prefix[$:/core/macros/]]\&quot;&gt;\n    &lt;$set name=\&quot;currentTiddler\&quot; value=&lt;&lt;draftTRef&gt;&gt; &gt;\n      &lt;$transclude tiddler=\&quot;$:/core/ui/ViewTemplate\&quot; field=\&quot;text\&quot; mode=\&quot;block\&quot; /&gt;\n    &lt;/$set&gt;\n  &lt;/$importvariables&gt;\n&lt;/div&gt;\n\n&lt;!--\n&lt;$set name=\&quot;currentTiddler\&quot; value=&lt;&lt;draftTRef&gt;&gt; &gt;\n  &lt;$transclude tiddler=\&quot;$:/core/ui/ViewTemplate\&quot; field=\&quot;text\&quot; mode=\&quot;block\&quot; /&gt;\n&lt;/$set&gt;--&gt;\n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/fullscreenTiddlerEditor&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/fullscreenTiddlerEditor&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/edit-button}} &lt;&lt;originalTRef&gt;&gt;&quot;,
            &quot;classes&quot;: &quot;tmap-modal-fullscreen-editor tmap-remove-top-space&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define defaultTab() $:/plugins/felixhayashi/tiddlymap/dialog/fullscreenTiddlerEditor/original\n\n&lt;$macrocall $name=\&quot;tabs\&quot;\n    default=&lt;&lt;defaultTab&gt;&gt;\n    tabsList=\&quot;[all[shadows]prefix[$:/plugins/felixhayashi/tiddlymap/dialog/fullscreenTiddlerEditor/]]\&quot; /&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/fieldChanged&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/fieldChanged&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/info-button}} The field \&quot;&lt;&lt;name&gt;&gt;\&quot; changed&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\nYou changed the field \&quot;&lt;&lt;name&gt;&gt;\&quot; from \&quot;&lt;&lt;oldValue&gt;&gt;\&quot; to \&quot;&lt;&lt;newValue&gt;&gt;\&quot;.\n\nIt is recommended to let TiddlyMap copy all values from the former field \&quot;&lt;&lt;oldValue&gt;&gt;\&quot; to the new field \&quot;&lt;&lt;newValue&gt;&gt;\&quot; so the data stored in \&quot;&lt;&lt;oldValue&gt;&gt;\&quot; is not lost. This operation has to be done now or never.\n\nDo you want to move each tiddler's existing \&quot;&lt;&lt;oldValue&gt;&gt;\&quot; value to \&quot;&lt;&lt;newValue&gt;&gt;\&quot;? Please note that any value currently stored in \&quot;&lt;&lt;newValue&gt;&gt;\&quot; would consequently be overridden and the old field \&quot;&lt;&lt;oldValue&gt;&gt;\&quot; would be eventually removed!&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/fullscreenNotSupported&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/fullscreenNotSupported&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/info-button}} Your machine does not support fullscreen&quot;,
            &quot;buttons&quot;: &quot;ok_suppress&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\nPlease have a look [[here|http://caniuse.com/#feat=fullscreen]] to see a list of supported devices/browsers.\n\nSorry for this :(&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/addNodeToMap&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/addNodeToMap&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/tag-button}} Add node&quot;,
            &quot;classes&quot;: &quot;tmap-modal-add-node&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define backButtonText() back to list\n\\define outputAndTemplate() [[$(output)$]] [[$(template)$]]\n\n\\define editor()\n  &lt;$button class=\&quot;tmap-go-back tc-btn-invisible\&quot;&gt;\n    {{$:/core/images/chevron-left}} &lt;&lt;backButtonText&gt;&gt;\n    &lt;$action-deletefield $tiddler=&lt;&lt;temp&gt;&gt; more template /&gt;\n    &lt;$action-sendmessage\n        $message=\&quot;tmap:tm-clear-tiddler\&quot;\n        keep=\&quot;draft.title\&quot;\n        title=&lt;&lt;output&gt;&gt; /&gt;\n  &lt;/$button&gt;\n  \n  &lt;$list filter=\&quot;[&lt;output&gt;get[draft.title]is[tiddler]]\&quot;&gt;\n  &lt;div class=\&quot;tmap-flash-message tmap-warning\&quot;&gt;\n   Tiddler already exists! Use another title or click\n   \&quot;&lt;&lt;backButtonText&gt;&gt;\&quot; to cancel your edit.\n  &lt;/div&gt;\n  &lt;/$list&gt;\n  \n  &lt;div class=\&quot;tmap-modal-editor\&quot;&gt;\n    &lt;table class=\&quot;tmap-config-table\&quot;&gt;\n      &lt;tr class=\&quot;tmap-template-select\&quot;&gt;\n        &lt;td&gt;Template&lt;/td&gt;\n        &lt;td&gt;\n          &lt;$select\n              tiddler=&lt;&lt;temp&gt;&gt;\n              field=\&quot;template\&quot;&gt;\n            &lt;option value=\&quot;\&quot;&gt;&lt;/option&gt;\n            &lt;$list filter=&lt;&lt;tmap \&quot;option\&quot; \&quot;selector.allPotentialNodes\&quot;&gt;&gt;&gt;\n            &lt;option&gt;&lt;$view field=\&quot;title\&quot; /&gt;&lt;/option&gt;\n            &lt;/$list&gt; \n          &lt;/$select&gt;\n          &lt;$button&gt;Load\n            &lt;$action-sendmessage\n                $message=\&quot;tmap:tm-clear-tiddler\&quot;\n                keep=\&quot;draft.title\&quot;\n                title=&lt;&lt;output&gt;&gt; /&gt;\n            &lt;$list filter=\&quot;[&lt;temp&gt;get[template]]\&quot; variable=\&quot;template\&quot;&gt;\n            &lt;$action-sendmessage\n                $message=\&quot;tmap:tm-merge-tiddlers\&quot;\n                tiddlers=&lt;&lt;outputAndTemplate&gt;&gt;\n                output=&lt;&lt;output&gt;&gt; /&gt;\n            &lt;$action-deletefield $tiddler=&lt;&lt;output&gt;&gt; tmap.id tmap.edges /&gt;\n            &lt;/$list&gt;\n          &lt;/$button&gt;\n       &lt;/td&gt;\n       &lt;td&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/table&gt;\n    &lt;$importvariables filter=\&quot;[all[tiddlers+shadows]prefix[$:/core/macros/]]\&quot;&gt;\n      &lt;$set name=\&quot;currentTiddler\&quot; value=&lt;&lt;output&gt;&gt;&gt;\n        &lt;$transclude tiddler=\&quot;$:/core/ui/EditTemplate\&quot; mode=\&quot;block\&quot; /&gt;\n      &lt;/$set&gt;\n    &lt;/$importvariables&gt;\n  &lt;/div&gt;\n\\end\n\n\\define search()\n&lt;p&gt;Add an existing tiddler to the map or create a new one.&lt;/p&gt;\n&lt;table id=\&quot;tmap-search-table\&quot;&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;b&gt;Title:&lt;/b&gt;&lt;/td&gt;\n    &lt;td&gt;\n      &lt;$edit-text\n          tiddler=&lt;&lt;output&gt;&gt;\n          field=\&quot;draft.title\&quot;\n          focus=\&quot;true\&quot;\n          type=\&quot;text\&quot;\n          tag=\&quot;input\&quot;\n          default=\&quot;\&quot; /&gt;\n      &lt;$list filter=\&quot;[&lt;output&gt;get[draft.title]!is[tiddler]]\&quot;&gt;\n      &lt;$button\n          tooltip=\&quot;The tiddler does not exist yet and you may edit it\n                   before it is added to the map\&quot;&gt;\n        {{$:/core/images/edit-button}}\n        &lt;$action-setfield $tiddler=&lt;&lt;temp&gt;&gt; more=\&quot;true\&quot; /&gt;\n      &lt;/$button&gt; &lt;sup&gt;[1]&lt;/sup&gt;\n      &lt;/$list&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;\n      &lt;$set name=\&quot;term\&quot; value={{!!draft.title}}&gt;\n      &lt;ul class=\&quot;tmap-small-list\&quot;&gt;\n        &lt;$list filter=\&quot;[search:title&lt;term&gt;!is[system]!has[draft.of]]\&quot;&gt;\n        &lt;li&gt;\n          &lt;$button class=\&quot;tc-btn-invisible tmap-link\&quot;&gt;\n            &lt;$view field=\&quot;title\&quot; /&gt;\n            &lt;$action-setfield $tiddler=&lt;&lt;output&gt;&gt; draft.title={{!!title}} /&gt;\n          &lt;/$button&gt;\n        &lt;/li&gt;\n        &lt;/$list&gt;\n      &lt;/ul&gt;\n      &lt;/$set&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n\n&lt;$list filter=\&quot;[&lt;output&gt;get[draft.title]!is[tiddler]]\&quot;&gt;\n&lt;hr /&gt;\n&lt;sup&gt;[1]&lt;/sup&gt;\n&lt;small&gt;\n  The tiddler does not exist yet and you may edit it\n  before it is added to the map\n&lt;/small&gt;\n&lt;/$list&gt;\n\\end\n\n&lt;$list filter=\&quot;[&lt;temp&gt;!has[more]]\&quot; variable=\&quot;item\&quot;&gt;&lt;&lt;search&gt;&gt;&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;temp&gt;has[more]]\&quot; variable=\&quot;item\&quot;&gt;&lt;&lt;editor&gt;&gt;&lt;/$list&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/renameView&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/renameView&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/tag-button}} Please specify a view name&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n''Name:''\n&lt;$edit-text focus=\&quot;true\&quot; tiddler=&lt;&lt;output&gt;&gt; field=\&quot;text\&quot; type=\&quot;text\&quot; tag=\&quot;input\&quot; default=\&quot;\&quot;\n            class=\&quot;tmap-trigger-field tmap-triggers-ok-button-on-enter\&quot; /&gt;\n\nNote that ''&lt;&lt;count&gt;&gt;'' tiddlers are referencing this view.\n\n&lt;$reveal type=\&quot;nomatch\&quot; text=\&quot;0\&quot; default=&lt;&lt;count&gt;&gt;&gt;\n  \nRenaming the view will cause the reference to be invalid.\nIt is recommended to first remove the tiddlymap widgets in\nthe tiddlers listed below or change their view attributes\naccordingly.\n\n''References''\n\n&lt;ul&gt;\n&lt;$list filter=&lt;&lt;filter&gt;&gt; variable=\&quot;item\&quot;&gt;\n  &lt;li&gt;&lt;$text text=&lt;&lt;item&gt;&gt; /&gt;&lt;/li&gt;\n&lt;/$list&gt;\n&lt;/ul&gt;\n  \n&lt;/$reveal&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/saveCanvas&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/saveCanvas&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/options-button}} Save a snapshot image of view \&quot;&lt;&lt;view&gt;&gt;\&quot;&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define preview()\n&lt;div class=\&quot;tmap-save-canvas-preview\&quot;&gt;\n  &lt;$transclude tiddler=&lt;&lt;snapshot&gt;&gt; /&gt;&lt;br /&gt;\n  Measures: &lt;&lt;width&gt;&gt; × &lt;&lt;height&gt;&gt;\n&lt;/div&gt;\n\\end\n\n&lt;table class=\&quot;tmap-config-table\&quot;&gt;\n&lt;!--\n  &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n      title:\&quot;Name\&quot;\n      field:\&quot;name\&quot;&gt;\n--&gt;\n&lt;$macrocall $name=\&quot;tmap-row\&quot;\n    type=\&quot;input-text\&quot;\n    title=\&quot;Name\&quot;\n    field=\&quot;name\&quot;\n    descr=&lt;&lt;preview&gt;&gt; /&gt;\n&lt;/table&gt;\n\n&lt;fieldset&gt;&lt;legend&gt;Options&lt;/legend&gt;\n  &lt;table class=\&quot;tmap-config-table\&quot;&gt;\n    &lt;&lt;tmap-row type:\&quot;input-radio\&quot;\n        title:\&quot;Action\&quot;\n        field:\&quot;action\&quot; \n        selectFilter:\&quot;[[download|Download]]\n                      [[wiki|Save in wiki]]\n                      [[placeholder|Use as placeholder for this view]]\&quot;\n        descr:\&quot;Save the image by downloading it to your computer or\n               save it as a tiddler in your wiki.&lt;br /&gt;&lt;br /&gt;\n               A third option is to make TiddlyMap use this image as\n               placeholder for the current view. Placeholders are used\n               when tiddlers are exported in form of static html\n               or when editing a tiddler while having the preview\n               shown. In this case the title input is ignored.\&quot;&gt;&gt;\n  &lt;/table&gt;\n&lt;/fieldset&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/getEdgeType&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/getEdgeType&quot;,
            &quot;subtitle&quot;: &quot;{{$:/plugins/felixhayashi/tiddlymap/icon}} Edge type specification&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\\rules except underscore\n\n\\define filter() $(allEdgeTypes)$ +[search:title[$(term)$]]\n\n\\define badge(color, label, tooltip)\n&lt;span style=\&quot;background: $color$\&quot; title=\&quot;$tooltip$\&quot;&gt;$label$&lt;/span&gt;\n\\end\n\n\\define badges()\n&lt;$tiddler tiddler={{!!text}}&gt;\n&lt;$set name=\&quot;id\&quot; value=&lt;&lt;tmap \&quot;getETyId\&quot; \&quot;$(viewNS)$\&quot;&gt;&gt;&gt;\n&lt;$set name=\&quot;isVisible\&quot; value=&lt;&lt;tmap \&quot;isETyVisible\&quot; \&quot;$(viewNS)$\&quot; \&quot;$(eTyFilter)$\&quot;&gt;&gt;&gt;\n&lt;div class=\&quot;tmap-badges\&quot;&gt;\n  &lt;span\n      style=\&quot;background: darkslategray\&quot;\n      title=\&quot;Your input translates into this id.\&quot;&gt;\n  &lt;&lt;id&gt;&gt;\n  &lt;/span&gt;\n  &lt;$list filter=\&quot;[&lt;isVisible&gt;regexp[true]]\&quot;&gt;\n    &lt;&lt;badge \&quot;green\&quot; \&quot;visible\&quot; \&quot;Matches your view's filter\&quot;&gt;&gt;\n  &lt;/$list&gt;\n  &lt;$list filter=\&quot;[&lt;isVisible&gt;regexp[false]]\&quot;&gt;\n    &lt;&lt;badge \&quot;red\&quot; \&quot;not visible\&quot; \&quot;Doesn't match your view's filter\&quot;&gt;&gt;\n  &lt;/$list&gt;\n  &lt;$list filter=\&quot;[&lt;id&gt;!regexp[^tmap:unknown$]]\&quot; variable=\&quot;item\&quot;&gt;\n    &lt;$list filter=\&quot;[&lt;id&gt;regexp[^_]]\&quot;&gt;\n      &lt;&lt;badge \&quot;purple\&quot; \&quot;private\&quot; \&quot;Not shown in other views per default\&quot;&gt;&gt;\n    &lt;/$list&gt;\n    &lt;$list filter=\&quot;[&lt;id&gt;regexp[.+:.+]]\&quot;&gt;\n      &lt;&lt;badge \&quot;orange\&quot; \&quot;namespace\&quot; \&quot;This type is prefixed with a proper namespace\&quot;&gt;&gt;\n    &lt;/$list&gt;\n  &lt;/$list&gt;  \n&lt;/div&gt;\n&lt;/$set&gt;\n&lt;/$set&gt;\n&lt;/$tiddler&gt;\n\\end\n\n\\define search()\n&lt;p&gt;\n  You are about to connect \&quot;&lt;$text text=\&quot;$(fromLabel)$\&quot; /&gt;\&quot;\n  with \&quot;&lt;$text text=\&quot;$(toLabel)$\&quot; /&gt;\&quot;. Please specify a type.\n&lt;/p&gt;\n&lt;table id=\&quot;tmap-search-table\&quot;&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;b&gt;Type:&lt;/b&gt;&lt;/td&gt;\n    &lt;td&gt;\n      &lt;$edit-text\n          focus=\&quot;true\&quot;\n          field=\&quot;text\&quot;\n          type=\&quot;text\&quot;\n          tag=\&quot;input\&quot;\n          default=\&quot;\&quot;\n          class=\&quot;tmap-trigger-field tmap-triggers-ok-button-on-enter\&quot; /&gt;\n      &lt;&lt;badges&gt;&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;\n      &lt;$set name=\&quot;term\&quot; value={{!!text}}&gt;\n      &lt;$set name=\&quot;allEdgeTypes\&quot; value=&lt;&lt;tmap \&quot;option\&quot; \&quot;selector.allEdgeTypesById\&quot;&gt;&gt;&gt;\n      &lt;ul class=\&quot;tmap-small-list\&quot;&gt;\n        &lt;$list filter=&lt;&lt;filter&gt;&gt;&gt;\n        &lt;li&gt;\n          &lt;$button class=\&quot;tc-btn-invisible tmap-link\&quot;&gt;\n            &lt;$view field=\&quot;title\&quot; /&gt;\n            &lt;$action-setfield $tiddler=&lt;&lt;output&gt;&gt; text={{!!title}} /&gt;\n          &lt;/$button&gt;\n        &lt;/li&gt;\n        &lt;/$list&gt;\n      &lt;/ul&gt;\n      &lt;/$set&gt;\n      &lt;/$set&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n\\end\n\n&lt;$list filter=\&quot;[&lt;temp&gt;!has[more]]\&quot; variable=\&quot;item\&quot;&gt;&lt;&lt;search&gt;&gt;&lt;/$list&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;div class=&lt;&lt;classes&gt;&gt;&gt;\n&lt;$importvariables\n    filter=\&quot;[[$:/plugins/felixhayashi/tiddlymap/misc/macros]]\n            [[$:/core/macros/tabs]]\&quot;&gt;\n&lt;$transclude tiddler=&lt;&lt;template&gt;&gt; mode=\&quot;block\&quot; /&gt;\n&lt;/$importvariables&gt;\n&lt;/div&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/welcome&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/welcome&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/info-button }} Welcome&quot;,
            &quot;buttons&quot;: &quot;ok&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;$list filter=\&quot;[[$:/plugins/felixhayashi/topstoryview]]\&quot;&gt;\n&lt;div class=\&quot;tmap-flash-message tmap-success\&quot;&gt;\n  TiddlyMap configured your wiki for optimal use. Please save &amp;amp;\n  restart after closing this dialog.\n&lt;/div&gt;\n&lt;/$list&gt;\n\nIt seems that you freshly installed TiddlyMap.\n\n* In case you need any help, please consult the [[online docs|http://tiddlymap.org#Documentation]] first.\n* You are welcome to create an [[issue|https://github.com/felixhayashi/TW5-TiddlyMap/issues]] at GitHub for any bug you discover.\n* Make sure to revisit the [[demo site|http://tiddlymap.org]] to see whether your version is up-to-date.\n* If you like TiddlyMap, please give it a star at [[GitHub|https://github.com/felixhayashi/TW5-TiddlyMap]] or tell your friends about it :)\n\nHave a great time.\n\n---\n\n''Please note:'' TiddlyMap is distributed under the [[BSD 2-Clause License|http://opensource.org/licenses/BSD-2-Clause]], which belongs to the same license family, as the license used by TiddlyWiki. By using this plugin you agree to the product's [[License Terms|https://github.com/felixhayashi/TW5-TiddlyMap/blob/master/LICENSE]].&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/widgetCodeGenerator&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/widgetCodeGenerator&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/permalink-button}} Widget Code Generator&quot;,
            &quot;buttons&quot;: &quot;close&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n  Use the code below to embed a view in a tiddler.\n&lt;/div&gt;\n\n&lt;pre style=\&quot;white-space: normal;\&quot;&gt;\n&amp;lt;$tmap\n\n&lt;$list filter=\&quot;[&lt;output&gt;has[var.view]]\&quot;&gt;\n  view=\&quot;&lt;$view field='var.view' /&gt;\&quot;&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;output&gt;field:var.click-to-use[true]]\&quot;&gt;\n  click-to-use=\&quot;true\&quot;&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;output&gt;has[var.editor]]\&quot;&gt;\n  editor=\&quot;&lt;$view field='var.editor' /&gt;\&quot;&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;output&gt;has[var.width]]\&quot;&gt;\n  width=\&quot;&lt;$view field='var.width' /&gt;\&quot;&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;output&gt;has[var.height]]\&quot;&gt;\n  height=\&quot;&lt;$view field='var.height' /&gt;\&quot;&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;output&gt;has[var.class]]\&quot;&gt;\n  class=\&quot;&lt;$view field='var.class' /&gt;\&quot;&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;output&gt;field:var.show-buttons[false]]\&quot;&gt;\n  show-buttons=\&quot;false\&quot;&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;output&gt;has[var.design]]\&quot;&gt;\n  design=\&quot;&lt;$view field='var.design' /&gt;\&quot;&lt;/$list&gt;&amp;gt;&amp;lt;/$tmap&amp;gt;\n&lt;/pre&gt;\n\n&lt;fieldset&gt;\n  &lt;legend&gt;Parameters&lt;/legend&gt; \n  &lt;table class=\&quot;tmap-config-table\&quot;&gt;\n      &lt;$macrocall type=\&quot;input-select\&quot;\n          $name=\&quot;tmap-row\&quot;\n          title=\&quot;View\&quot;\n          field=\&quot;var.view\&quot;\n          nochoice=\&quot; \&quot;\n          selectFilter=&lt;&lt;tmap \&quot;option\&quot; \&quot;selector.allViewsByLabel\&quot;&gt;&gt;\n          descr=\&quot;The view to bind the wiedget to\&quot; /&gt;\n      &lt;&lt;tmap-row type:\&quot;input-select\&quot;\n          title:\&quot;Editor bar\&quot;\n          field:\&quot;var.editor\&quot;\n          selectFilter:\&quot;[[|Hidden]]\n                        [[vis|Simple]]\n                        [[advanced|Advanced]]\&quot;\n          descr:\&quot;Whether the widget should act as an editor or not.\&quot;&gt;&gt;\n      &lt;&lt;tmap-row type:\&quot;input-select\&quot;\n          title:\&quot;Design\&quot;\n          field:\&quot;var.design\&quot;\n          selectFilter:\&quot;[[|Normal]]\n                        [[plain|Plain]]\&quot;\n          descr:\&quot;Usually a header is displayed and borders. Plain\n                 design will only show the mere graph.\&quot;&gt;&gt;\n      &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n          title:\&quot;Height\&quot;\n          field:\&quot;var.height\&quot;\n          descr:\&quot;Graph's height in css units. Defaults to '300px'.\&quot;&gt;&gt;\n      &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n          title:\&quot;Width\&quot;\n          field:\&quot;var.width\&quot;\n          descr:\&quot;Graph's width in css units. Defaults to '100%'.\&quot;&gt;&gt;\n      &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n          title:\&quot;Class\&quot;\n          field:\&quot;var.class\&quot;\n          descr:\&quot;A custom class to apply your own css.\&quot;&gt;&gt;\n      &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n          title:\&quot;Click to use\&quot;\n          field:\&quot;var.click-to-use\&quot;\n          default:\&quot;false\&quot;\n          descr:\&quot;A click is needed to enable the graph.\&quot;&gt;&gt;\n      &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n          title:\&quot;Show buttons\&quot;\n          field:\&quot;var.show-buttons\&quot;\n          default:\&quot;true\&quot;\n          descr:\&quot;Show or hide the graph's navigation buttons.\&quot;&gt;&gt;\n  &lt;/table&gt;\n&lt;/fieldset&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter/close&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter/close&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;$button class=\&quot;tmap-dialog-button tmap-close-button\&quot; tooltip=\&quot;Close this dialog\&quot;&gt;Close\n\n  &lt;!-- trigger dialog callback --&gt;\n  &lt;$action-setfield $tiddler=&lt;&lt;result&gt;&gt; text=\&quot;1\&quot; /&gt;\n                       \n&lt;/$button&gt;\n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter/ok&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter/ok&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;$button class=\&quot;tmap-dialog-button tmap-ok-button\&quot; tooltip=\&quot;Confirm dialog\&quot;&gt;OK\n\n  &lt;!-- trigger dialog callback --&gt;\n  &lt;$action-setfield $tiddler=&lt;&lt;result&gt;&gt; text=\&quot;1\&quot; /&gt;\n                       \n&lt;/$button&gt;\n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter/ok_cancel&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter/ok_cancel&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;$transclude tiddler=\&quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter/ok\&quot; mode=\&quot;inline\&quot; /&gt;\n&lt;$button class=\&quot;tmap-dialog-button tmap-cancel-button\&quot; tooltip=\&quot;Close dialog without saving\&quot;&gt;Cancel\n  &lt;!-- trigger dialog callback --&gt;\n  &lt;$action-setfield $tiddler=&lt;&lt;result&gt;&gt; text=\&quot;\&quot; /&gt;\n&lt;/$button&gt;\n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter/ok_suppress&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter/ok_suppress&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;$set name=\&quot;currentTiddler\&quot; value=&lt;&lt;title&gt;&gt; &gt;\n\n&lt;$checkbox field=\&quot;suppress\&quot; checked=\&quot;1\&quot; unchecked=\&quot;0\&quot; default=\&quot;0\&quot;&gt; Do not show this dialog again&lt;/$checkbox&gt;\n&lt;$button class=\&quot;tmap-dialog-button tmap-ok-button\&quot; tooltip=\&quot;Confirm this dialog\&quot;&gt;OK\n\n  &lt;!-- trigger dialog callback --&gt;\n  &lt;$action-setfield $tiddler=&lt;&lt;result&gt;&gt; text=\&quot;1\&quot; /&gt;\n  \n  &lt;!-- suppress dialog in the future --&gt;\n  &lt;$action-sendmessage $message=\&quot;tmap:tm-suppress-dialog\&quot;\n                       dialog=&lt;&lt;templateId&gt;&gt;\n                       suppress={{!!suppress}} /&gt;\n                       \n&lt;/$button&gt;\n\n&lt;/$set&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define footer() $:/plugins/felixhayashi/tiddlymap/dialogFooter/$(buttons)$\n\n&lt;$transclude tiddler=&lt;&lt;footer&gt;&gt; /&gt;\n\n&lt;!-- we need this button to be able to close a tiddler from outside programmatically --&gt;\n&lt;$button class=\&quot;tmap-hidden-close-button\&quot; message=\&quot;tm-close-tiddler\&quot; /&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter/element_type_manager&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialogFooter/element_type_manager&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n&lt;$button\n    class=\&quot;tmap-dialog-button tmap-save-button\&quot;\n    tooltip=\&quot;Save the current changes\&quot;&gt;Save\n  &lt;$action-sendmessage\n      $message=\&quot;tmap:tm-save-type-form\&quot;\n      mode=&lt;&lt;mode&gt;&gt;\n      output=&lt;&lt;output&gt;&gt; /&gt;\n&lt;/$button&gt;\n&lt;$button\n    class=\&quot;tmap-dialog-button tmap-cancel-button\&quot;\n    tooltip=\&quot;Cancel the most resent changes and exit\&quot;&gt;Quit\n  &lt;$action-setfield $tiddler=&lt;&lt;result&gt;&gt; text=\&quot;1\&quot; /&gt;\n&lt;/$button&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/deleteType&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/deleteType&quot;,
            &quot;caption&quot;: &quot;Removal&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define manage-edge-types()\n  &lt;$macrocall $name=\&quot;tmap-row\&quot;\n      type=\&quot;input-checkbox\&quot;\n      title=\&quot;Delete type\&quot;\n      field=\&quot;temp.deleteType\&quot;\n      default={{!id}}\n      readonly={{!!temp.idImmutable}}\n      descr=\&quot;If you want to delete this type, set this to true\n             and click the save button afterwards. Predefined system\n             types cannot be deleted.\&quot; note=\&quot;Consequently, all edges\n             of this type will be deleted.\&quot; /&gt;\n\\end\n\n\\define manage-node-types()\n  &lt;$macrocall $name=\&quot;tmap-row\&quot;\n      type=\&quot;input-checkbox\&quot;\n      title=\&quot;Delete type\&quot;\n      field=\&quot;temp.deleteType\&quot;\n      default={{!id}}\n      readonly={{!!temp.idImmutable}}\n      descr=\&quot;If you want to delete this type, set this to true and\n             click the save button afterwards. Predefined system\n             types cannot be deleted.\&quot; /&gt;\n\\end\n\n&lt;table class=\&quot;tmap-config-table\&quot;&gt;&lt;$macrocall $name=&lt;&lt;mode&gt;&gt; /&gt;&lt;/table&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/description&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/description&quot;,
            &quot;caption&quot;: &quot;Description&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define manage-edge-types()\n  &lt;&lt;tmap-row type:\&quot;input-textarea\&quot;\n      title:\&quot;Description\&quot;\n      field:\&quot;description\&quot;\n      descr:\&quot;An optional description for this type. The\n             description will be displayed as tooltip when\n             moving the mouse over an edge of this type.\&quot;&gt;&gt;\n\\end\n\n\\define manage-node-types()\n  &lt;&lt;tmap-row type:\&quot;input-textarea\&quot;\n      title:\&quot;Description\&quot;\n      field:\&quot;description\&quot; \n      descr:\&quot;An optional description for this type.\&quot;&gt;&gt;\n\\end\n\n&lt;table class=\&quot;tmap-config-table\&quot;&gt;\n  &lt;$macrocall $name=&lt;&lt;mode&gt;&gt; /&gt;\n&lt;/table&gt;\n\n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/generalSettings&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/generalSettings&quot;,
            &quot;caption&quot;: &quot;General&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define manage-edge-types()\n  &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n      title:\&quot;Label\&quot;\n      field:\&quot;label\&quot; \n      descr:\&quot;An optional alias used as edge-label.\&quot;&gt;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-checkbox\&quot;\n      title:\&quot;Show label\&quot;\n      field:\&quot;show-label\&quot;\n      default:\&quot;true\&quot;\n      descr:\&quot;If unchecked, no edge label will be displayed.\&quot;&gt;&gt;\n\\end\n\\define manage-node-types()\n  &lt;$list filter=\&quot;[&lt;currentTiddler&gt;!field:id[tmap:neighbour]]\&quot;&gt;\n  &lt;&lt;tmap-row type:\&quot;input-textarea\&quot;\n      title:\&quot;Scope\&quot;\n      field:\&quot;scope\&quot; \n      descr:\&quot;A filter expression that defines, which nodes inherit\n             this node-type and its style.\&quot;&gt;&gt;\n  &lt;/$list&gt;\n  &lt;$macrocall type=\&quot;input-select\&quot;\n      $name=\&quot;tmap-row\&quot; \n      title=\&quot;Priority\&quot;\n      field=\&quot;priority\&quot;\n      selectFilter=&lt;&lt;tmap \&quot;scale\&quot; \&quot;100\&quot;&gt;&gt;\n      descr=\&quot;When a type has a a higher priority than another type,\n             its style will override the other style\&quot; /&gt;\n\\end\n\n&lt;table class=\&quot;tmap-config-table\&quot;&gt;\n  &lt;$macrocall\n    $name=\&quot;tmap-row\&quot;\n    title=\&quot;Identifier\&quot;\n    field=\&quot;temp.newId\&quot;\n    type=\&quot;input-text\&quot;\n    default={{!!id}}\n    readonly={{!!temp.idImmutable}}\n    descr=\&quot;A unique identifier\&quot;\n  /&gt;\n  &lt;$macrocall $name=&lt;&lt;mode&gt;&gt; /&gt;\n&lt;/table&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/overview&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/overview&quot;,
            &quot;caption&quot;: &quot;Overview&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define date(f) &lt;$view field=$f$ format=\&quot;date\&quot; template=\&quot;DDth mmm hh:mm:ss\&quot;/&gt;\n\n! &lt;$link to={{!!typeTRef}}&gt;&lt;$view field=\&quot;id\&quot; /&gt;&lt;/$link&gt;\n\n&lt;table class=\&quot;tmap-key-value-table\&quot;&gt;\n  &lt;tr&gt;\n    &lt;th align=\&quot;left\&quot;&gt;Created on&lt;/th&gt;\n    &lt;td&gt;\n      &lt;&lt;date \&quot;created\&quot;&gt;&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;th align=\&quot;left\&quot;&gt;Modified on&lt;/th&gt;\n    &lt;td&gt;&lt;&lt;date \&quot;modified\&quot;&gt;&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;th align=\&quot;left\&quot;&gt;Usage count&lt;/th&gt;\n    &lt;td&gt;\n      &lt;span class=\&quot;tmap-edge-type-specific\&quot;&gt;\n        &lt;$view field=\&quot;temp.usageCount\&quot; /&gt;\n      &lt;/span&gt;\n      &lt;span class=\&quot;tmap-node-type-specific\&quot;&gt;\n        &lt;$count filter={{!!scope}}&gt;0&lt;/$count&gt;\n      &lt;/span&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n\n&lt;$view field=\&quot;description\&quot;&gt;//No description available//&lt;/$view&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/styling&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/styling&quot;,
            &quot;caption&quot;: &quot;Styling&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define url()\n  &lt;$set\n      filter=\&quot;[&lt;mode&gt;prefix[manage-edge-types]]\&quot;\n      name=\&quot;module\&quot;\n      value=\&quot;edges\&quot;\n      emptyValue=\&quot;nodes\&quot;&gt;\n    [[visjs.org|http://visjs.org/docs/network/$(module)$]]\n  &lt;/$set&gt;\n\\end\n\n&lt;fieldset class=\&quot;tmap-node-type-specific\&quot;&gt;\n  &lt;legend&gt;Icon Settings&lt;/legend&gt;\n  &lt;table class=\&quot;tmap-config-table\&quot;&gt;\n    &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n        title:\&quot;TW-icon\&quot;\n        field:\&quot;tw-icon\&quot;\n        descr:\&quot;A tiddlywiki image reference.\n               For example '$:/core/icon' for Movotun Jack.\&quot;&gt;&gt;\n    &lt;&lt;tmap-row type:\&quot;input-text\&quot;\n        title:\&quot;FA-icon\&quot;\n        field:\&quot;fa-icon\&quot;\n        descr:\&quot;A Font Awesome icon code.\n               For example 'f206' for the bicycle symbol.\&quot;&gt;&gt;\n  &lt;/table&gt;\n&lt;/fieldset&gt;\n\n&lt;fieldset&gt;&lt;legend&gt;Visjs styles&lt;/legend&gt;\n  &lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n     All visjs options below are documented at &lt;&lt;url&gt;&gt;.\n  &lt;/div&gt;\n  &lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n     Only config items that you actually changed have an effect on\n     the graph. Other options are visible, yet, inactive.\n  &lt;/div&gt;\n  &lt;$tmap-config\n      mode=&lt;&lt;mode&gt;&gt;\n      inherited=\&quot;vis-inherited\&quot;\n      extension=\&quot;style\&quot; /&gt;\n&lt;/fieldset&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager&quot;,
            &quot;subtitle&quot;: &quot;{{$:/core/images/tag-button}} &lt;&lt;topic&gt;&gt;&quot;,
            &quot;buttons&quot;: &quot;element_type_manager&quot;,
            &quot;classes&quot;: &quot;tmap-remove-top-space&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\n\\define defaultTab() \n$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/overview\n\\end\n\n\\define settingsTab()\n$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/generalSettings\n\\end\n\n\\define tabsFilter()\n[all[shadows]prefix[$:/plugins/felixhayashi/tiddlymap/dialog/MapElementTypeManager/]]\n\\end\n\n\\define searchFilter()\n$(searchSelector)$\n+[sort[title]nsort[priority]]\n+[removeprefix&lt;typeRootPath&gt;removeprefix[/]]\n+[search:title{$:/temp/tmap/MapElementTypeSearch}]\n\\end\n\n\\define managerClass() tmap-$(mode)$\n\n\\define typePath() $(typeRootPath)$/$(id)$\n\n&lt;div id=\&quot;tmap-element-type-manager\&quot; class=&lt;&lt;managerClass&gt;&gt;&gt;\n  &lt;div&gt;\n    &lt;div class=\&quot;tmap-searchbar\&quot;&gt;\n      &lt;$edit-text\n          focus=\&quot;true\&quot;\n          tiddler=\&quot;$:/temp/tmap/MapElementTypeSearch\&quot;\n          type=\&quot;text\&quot;\n          tag=\&quot;input\&quot;\n          default=\&quot;\&quot; /&gt;\n      &lt;$list filter=\&quot;[{$:/temp/tmap/MapElementTypeSearch}regexp[.+]]\n                     +[addprefix[/]]\n                     +[addprefix&lt;typeRootPath&gt;]\n                     +[!is[tiddler]!is[shadow]]\&quot;&gt;\n      &lt;$button tooltip=\&quot;Create a new type of this name\&quot;&gt;\n      {{$:/core/images/new-button}}\n        &lt;$action-setfield $tiddler=\&quot;$:/temp/tmap/MapElementTypeSearch\&quot; text=\&quot;\&quot; /&gt;\n        &lt;$action-sendmessage\n            $message=\&quot;tmap:tm-create-type\&quot;\n            mode=&lt;&lt;mode&gt;&gt; id={{$:/temp/tmap/MapElementTypeSearch}}\n            output=&lt;&lt;output&gt;&gt; /&gt;\n      &lt;/$button&gt;\n      &lt;/$list&gt;\n          \n    &lt;/div&gt;\n    &lt;ul&gt;\n      &lt;$list\n          filter=&lt;&lt;searchFilter&gt;&gt;\n          emptyMessage=&lt;&lt;noTypeFound&gt;&gt;\n          variable=\&quot;id\&quot;&gt;\n      &lt;li&gt;\n        &lt;span class=\&quot;tmap-ranking tmap-node-type-specific\&quot;&gt;\n          # &lt;$view tiddler=&lt;&lt;typePath&gt;&gt; field=\&quot;priority\&quot;&gt;1&lt;/$view&gt;\n        &lt;/span&gt;\n        &lt;$button class=\&quot;tc-btn-invisible tmap-link\&quot;&gt;&lt;&lt;id&gt;&gt;\n          &lt;$action-setfield\n              $tiddler=&lt;&lt;qualify \&quot;$:/state/tabs/MapElementTypeManager\&quot;&gt;&gt;\n              text=&lt;&lt;defaultTab&gt;&gt; /&gt;\n          &lt;$action-sendmessage\n              $message=\&quot;tmap:tm-load-type-form\&quot;\n              id=&lt;&lt;id&gt;&gt;\n              mode=&lt;&lt;mode&gt;&gt;\n              output=&lt;&lt;output&gt;&gt; /&gt;\n        &lt;/$button&gt;\n      &lt;/li&gt;\n      &lt;/$list&gt;\n    &lt;/ul&gt;\n  &lt;/div&gt;\n  &lt;div&gt;\n    &lt;$reveal type=\&quot;nomatch\&quot; text=\&quot;\&quot; default={{!!id}} &gt;\n      &lt;$macrocall\n          $name=\&quot;tabs\&quot;\n          default=&lt;&lt;defaultTab&gt;&gt;\n          state=\&quot;$:/state/tabs/MapElementTypeManager\&quot;\n          tabsList=&lt;&lt;tabsFilter&gt;&gt; /&gt;\n    &lt;/$reveal&gt;\n    &lt;$reveal type=\&quot;match\&quot; text=\&quot;\&quot; default={{!!id}} &gt;\n      &lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n        Please select a type from the list or create a new one by\n        entering the type name in the search field on the left.\n      &lt;/div&gt;\n      &lt;div class=\&quot;tmap-flash-message tmap-info tmap-node-type-specific\&quot;&gt;\n        The number next to the node-type label represents it's priority.\n      &lt;/div&gt;\n    &lt;/$reveal&gt;\n  &lt;/div&gt;\n&lt;/div&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/misc/advancedEditorBar&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/misc/advancedEditorBar&quot;,
            &quot;text&quot;: &quot;\\rules except wikilink\n\\define showEdgeField() show-$(curEdgeId)$\n\n&lt;!-- === View Switcher ========================================== --&gt;\n\n&lt;div class=\&quot;tmap-menu-bar\&quot;&gt;\n  View:\n  &lt;$reveal type=\&quot;match\&quot; text=\&quot;false\&quot; default=&lt;&lt;isViewBound&gt;&gt; &gt;\n    &lt;$select\n        tiddler=&lt;&lt;viewHolder&gt;&gt;\n        field=\&quot;text\&quot;\n        default=&lt;&lt;viewLabel&gt;&gt; &gt;\n      &lt;$list filter=&lt;&lt;tmap \&quot;option\&quot; \&quot;selector.allViewsByLabel\&quot;&gt;&gt; &gt;\n        &lt;option value={{!!title}}&gt;\n          &lt;$view tiddler={{!!title}} field=\&quot;title\&quot; /&gt;\n        &lt;/option&gt;\n      &lt;/$list&gt;\n    &lt;/$select&gt;\n  &lt;/$reveal&gt;\n  &lt;$reveal type=\&quot;match\&quot; text=\&quot;true\&quot; default=&lt;&lt;isViewBound&gt;&gt; &gt;\n    &lt;b&gt;&lt;&lt;viewLabel&gt;&gt;&lt;/b&gt;\n  &lt;/$reveal&gt;\n\n&lt;!-- === Menu =================================================== --&gt;\n\n  &lt;$button\n      popup=&lt;&lt;qualify \&quot;$:/temp/menu\&quot;&gt;&gt;\n      tooltip=\&quot;Open the Menu\&quot;&gt;{{$:/core/images/menu-button}}\n  &lt;/$button&gt;\n  \n  &lt;$reveal type=\&quot;popup\&quot; position=\&quot;below\&quot; state=&lt;&lt;qualify \&quot;$:/temp/menu\&quot;&gt;&gt; &gt;\n    &lt;div class=\&quot;tc-drop-down\&quot;&gt;\n      &lt;a href=\&quot;http://tiddlymap.org#Documentation\&quot; target=\&quot;_blank\&quot;&gt;\n        {{$:/core/images/info-button}} Open online help\n      &lt;/a&gt;\n      &lt;$button class=\&quot;tc-btn-invisible\&quot; message=\&quot;tmap:tm-create-view\&quot;&gt;\n        {{$:/core/images/new-button}} Create new view\n      &lt;/$button&gt;\n      &lt;$button class=\&quot;tc-btn-invisible\&quot; message=\&quot;tmap:tm-generate-widget\&quot;&gt;\n        {{$:/core/images/permalink-button}} Grab widget code\n      &lt;/$button&gt;\n      &lt;div class=\&quot;tmap-list-separator\&quot;&gt;Global configurations:&lt;/div&gt;\n      &lt;$button class=\&quot;tc-btn-invisible\&quot; message=\&quot;tmap:tm-configure-system\&quot;&gt;\n        {{$:/core/images/options-button}} Configure TiddlyMap\n      &lt;/$button&gt;\n      &lt;$button class=\&quot;tc-btn-invisible\&quot; message=\&quot;tmap:tm-manage-edge-types\&quot;&gt;\n        &lt;span class=\&quot;tmap-unicode-icon\&quot;&gt;◭&lt;/span&gt; Manage edge-types\n      &lt;/$button&gt;\n      &lt;$button class=\&quot;tc-btn-invisible\&quot; message=\&quot;tmap:tm-manage-node-types\&quot;&gt;\n        &lt;span class=\&quot;tmap-unicode-icon\&quot;&gt;▢&lt;/span&gt; Manage node-types\n      &lt;/$button&gt;\n      &lt;div class=\&quot;tmap-view-actions\&quot;&gt;\n        &lt;div class=\&quot;tmap-list-separator\&quot;&gt;Actions for this view:&lt;/div&gt;\n        &lt;$button class=\&quot;tc-btn-invisible\&quot; message=\&quot;tmap:tm-edit-view\&quot;&gt;\n          {{$:/core/images/options-button}} Configure view\n        &lt;/$button&gt;\n        &lt;$button class=\&quot;tc-btn-invisible\&quot; message=\&quot;tmap:tm-store-position\&quot;&gt;\n          {{$:/core/images/globe}} Save positions\n        &lt;/$button&gt;\n        &lt;$button class=\&quot;tc-btn-invisible\&quot; message=\&quot;tmap:tm-rename-view\&quot;&gt;\n          {{$:/core/images/tag-button}} Rename view\n        &lt;/$button&gt;\n        &lt;$button class=\&quot;tc-btn-invisible\&quot; message=\&quot;tmap:tm-delete-view\&quot;&gt;\n          {{$:/core/images/delete-button}} Delete view\n        &lt;/$button&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/$reveal&gt;\n  \n&lt;!-- === Neighbourhood menu ===================================== --&gt;\n\n  &lt;$reveal\n      type=\&quot;match\&quot;\n      text=\&quot;true\&quot;\n      default=&lt;&lt;tmap \&quot;option\&quot;\n                     \&quot;config.sys.editorMenuBar.showNeighScopeButton\&quot;&gt;&gt;&gt;\n    &lt;$button\n        class=&lt;&lt;neighScopeBtnClass&gt;&gt;\n        tooltip=\&quot;Change the neighbourhood scope\&quot;\n        popup=&lt;&lt;qualify \&quot;$:/temp/neighScope\&quot;&gt;&gt;&gt;☀\n    &lt;/$button&gt;\n  &lt;/$reveal&gt;\n  \n  &lt;$reveal type=\&quot;popup\&quot; position=\&quot;below\&quot; state=&lt;&lt;qualify \&quot;$:/temp/neighScope\&quot;&gt;&gt; &gt;\n    &lt;div class=\&quot;tc-drop-down\&quot;&gt;\n      &lt;div class=\&quot;tmap-list-separator\&quot;&gt;Neighbourhood scope&lt;/div&gt;\n      &lt;$button class=\&quot;tc-btn-invisible\&quot;&gt;None\n        &lt;$action-setfield\n            $tiddler=&lt;&lt;viewRoot&gt;&gt;\n            config.neighbourhood_scope=\&quot;\&quot; /&gt;\n      &lt;/$button&gt;\n      &lt;$list filter=\&quot;[[1|1 step distance]]\n                     [[2|2 step distance]]\n                     [[3|3 step distance]]\n                     [[4|4 step distance]]\n                     [[5|5 step distance]]\&quot;&gt;\n        &lt;$button class=\&quot;tc-btn-invisible\&quot;&gt;\n          &lt;&lt;tmap \&quot;splitAndSelect\&quot; \&quot;|\&quot; \&quot;1\&quot;&gt;&gt;\n          &lt;$action-setfield\n              $tiddler=&lt;&lt;viewRoot&gt;&gt;\n              config.neighbourhood_scope=&lt;&lt;tmap \&quot;splitAndSelect\&quot; \&quot;|\&quot; \&quot;0\&quot;&gt;&gt; /&gt;\n        &lt;/$button&gt;\n      &lt;/$list&gt;\n      &lt;$button class=\&quot;tc-btn-invisible\&quot;&gt;No limit\n        &lt;$action-setfield\n            $tiddler=&lt;&lt;viewRoot&gt;&gt;\n            config.neighbourhood_scope=\&quot;100\&quot; /&gt;\n      &lt;/$button&gt;\n      &lt;div class=\&quot;tmap-list-separator\&quot;&gt;Neighbourhood traversal&lt;/div&gt;\n      &lt;$radio field=\&quot;config.neighbourhood_directions\&quot; value=\&quot;in\&quot;&gt; Incoming&lt;/$radio&gt;&lt;br /&gt;\n      &lt;$radio field=\&quot;config.neighbourhood_directions\&quot; value=\&quot;out\&quot;&gt; Outgoing&lt;/$radio&gt;&lt;br /&gt;\n      &lt;$radio field=\&quot;config.neighbourhood_directions\&quot; value=\&quot;\&quot;&gt; Both&lt;/$radio&gt;\n      &lt;div class=\&quot;tmap-list-separator\&quot;&gt;Other&lt;/div&gt;\n      &lt;$checkbox field=\&quot;config.show_inter_neighbour_edges\&quot;\n          checked=\&quot;true\&quot; unchecked=\&quot;false\&quot;&gt; Inter-neighbour edges&lt;/$checkbox&gt;\n      \n    &lt;/div&gt;\n  &lt;/$reveal&gt;\n  \n&lt;!-- === Export menu ============================================ --&gt;\n  \n  &lt;$reveal\n      type=\&quot;match\&quot;\n      text=\&quot;true\&quot;\n      default=&lt;&lt;tmap \&quot;option\&quot;\n                     \&quot;config.sys.editorMenuBar.showScreenshotButton\&quot;&gt;&gt;&gt;\n    &lt;$button\n        tooltip=\&quot;Open the map-export menu\&quot;\n        popup=&lt;&lt;qualify \&quot;$:/temp/mapExport\&quot;&gt;&gt;&gt;\n      {{$:/core/images/download-button}}\n    &lt;/$button&gt;\n  &lt;/$reveal&gt;\n  \n  &lt;$reveal\n      type=\&quot;popup\&quot;\n      position=\&quot;below\&quot;\n      state=&lt;&lt;qualify \&quot;$:/temp/mapExport\&quot;&gt;&gt;&gt;\n    &lt;div class=\&quot;tc-drop-down\&quot;&gt;\n    &lt;$button\n        class=\&quot;tc-btn-invisible\&quot;\n        tooltip=\&quot;Export the graph and all its elements\n                 in form of a JSON file\&quot;&gt;\n        {{$:/core/images/permalink-button}} Save as JSON file\n      &lt;$action-sendmessage\n          $message=\&quot;tmap:tm-download-graph\&quot;\n          view=&lt;&lt;viewLabel&gt;&gt; /&gt;\n    &lt;/$button&gt;\n    &lt;$button\n        class=\&quot;tc-btn-invisible\&quot;\n        tooltip=\&quot;Create a png image to download or save it\n                 as image or view-placeholder in your wiki\&quot;&gt;\n        {{$:/core/images/palette}} Save as png image\n      &lt;$action-sendmessage $message=\&quot;tmap:tm-save-canvas\&quot; /&gt;\n    &lt;/$button&gt;\n    &lt;/div&gt;\n  &lt;/$reveal&gt;\n    \n&lt;/div&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/misc/focusButton&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/misc/focusButton&quot;,
            &quot;text&quot;: &quot;\\define filter() [list[$:/temp/tmap/nodes/$(viewLabel)$]search:title{$:/temp/tmap/bar/search}]\n\\define concat(str) $str$\n\n\\define state() $(widgetPopupsPath)$/focus\n\n&lt;div class=\&quot;tmap-focus-button\&quot;&gt;\n  &lt;$reveal type=\&quot;match\&quot; state=&lt;&lt;state&gt;&gt; text=\&quot;\&quot;&gt;\n    &lt;$button\n        tooltip=\&quot;Zoom on a specific node\&quot;\n        class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;{{$:/core/images/advanced-search-button}}\n     &lt;$action-setfield $tiddler=\&quot;$:/temp/tmap/bar/search\&quot; text=\&quot;\&quot; /&gt;\n     &lt;$action-setfield $tiddler=&lt;&lt;state&gt;&gt; text=\&quot;1\&quot; /&gt;\n    &lt;/$button&gt;\n  &lt;/$reveal&gt;\n  &lt;$reveal type=\&quot;nomatch\&quot; state=&lt;&lt;state&gt;&gt; text=\&quot;\&quot;&gt;\n    &lt;$button\n        tooltip=\&quot;Close zoom popup\&quot;\n        class=&lt;&lt;tv-config-toolbar-class&gt;&gt;&gt;{{$:/core/images/advanced-search-button}}\n     &lt;$action-setfield $tiddler=&lt;&lt;state&gt;&gt; text=\&quot;\&quot; /&gt;\n    &lt;/$button&gt;\n    &lt;div class=\&quot;tmap-search-dropdown\&quot;&gt;\n      &lt;div class=\&quot;tc-drop-down\&quot;&gt;\n        &lt;$edit-text\n            focus=\&quot;true\&quot;\n            tiddler=\&quot;$:/temp/tmap/bar/search\&quot;\n            field=\&quot;text\&quot;\n            type=\&quot;text\&quot;\n            tag=\&quot;input\&quot;\n            default=\&quot;\&quot; /&gt;\n        &lt;small&gt;&lt;$count filter=&lt;&lt;filter&gt;&gt; /&gt; results&lt;/small&gt;\n        &lt;hr /&gt;\n        &lt;div class=\&quot;tmap-very-small-list\&quot;&gt;\n          &lt;$list filter=&lt;&lt;filter&gt;&gt;\n              variable=\&quot;item\&quot;\n              emptyMessage=\&quot;//No results//\&quot;&gt;\n            &lt;$button\n                class=\&quot;tc-btn-invisible\&quot;\n                message=\&quot;tmap:tm-focus-node\&quot;\n                param=&lt;&lt;item&gt;&gt;&gt;\n              &lt;$view tiddler=&lt;&lt;item&gt;&gt; field=\&quot;title\&quot; /&gt;\n            &lt;/$button&gt;\n          &lt;/$list&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/$reveal&gt;\n&lt;/div&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/hook/editor&quot;: {
            &quot;caption&quot;: &quot;Map&quot;,
            &quot;tags&quot;: &quot;$:/tags/SideBar&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/hook/editor&quot;,
            &quot;text&quot;: &quot;\\define width() calc(100% - 15px)\n\n&lt;div class=\&quot;tmap-mobile-editor\&quot;&gt;\n  &lt;div class=\&quot;tmap-flash-message tmap-warning\&quot;&gt;\n    The editor is not displayed in mobile mode.\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\&quot;tmap-desktop-editor\&quot;&gt;\n  &lt;$tiddlymap\n    class=\&quot;tmap-sidebar-map-editor\&quot;\n    editor=\&quot;advanced\&quot;\n    object-id=\&quot;main_editor\&quot;\n    click-to-use=\&quot;false\&quot;&gt;\n  &lt;/$tiddlymap&gt;\n&lt;/div&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/hook/liveTab&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/hook/liveTab&quot;,
            &quot;caption&quot;: &quot;Live&quot;,
            &quot;text&quot;: &quot;\\define width() calc(100% - 15px)\n\n&lt;div class=\&quot;tmap-mobile-editor\&quot;&gt;\n  &lt;div class=\&quot;tmap-flash-message tmap-warning\&quot;&gt;\n    The live tab is not displayed in mobile mode.\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\&quot;tmap-desktop-editor\&quot;&gt;\n  &lt;$set name=\&quot;view\&quot;\n      filter=\&quot;[{$:/temp/tmap/currentTiddler}get[tmap.open-view]]\&quot;\n      emptyValue=&lt;&lt;tmap \&quot;option\&quot; \&quot;config.sys.liveTab.fallbackView\&quot;&gt;&gt;&gt;\n  &lt;div&gt;\n    &lt;$tiddlymap\n        view=&lt;&lt;view&gt;&gt;\n        click-to-use=\&quot;false\&quot;\n        refresh-triggers=\&quot;$:/temp/tmap/currentTiddler\&quot;\n        object-id=\&quot;live_tab\&quot;&gt;\n    &lt;/$tiddlymap&gt;\n  &lt;/div&gt;\n  &lt;/$set&gt; \n&lt;/div&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/misc/quickConnectButton&quot;: {
            &quot;tags&quot;: &quot;$:/tags/ViewToolbar&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/misc/quickConnectButton&quot;,
            &quot;description&quot;: &quot;{{$:/language/Buttons/TiddlyMap/Hint}}&quot;,
            &quot;caption&quot;: &quot;{{$:/plugins/felixhayashi/tiddlymap/icon}} {{$:/language/Buttons/TiddlyMap/Caption}}&quot;,
            &quot;text&quot;: &quot;\\define buttonClass() $(tv-config-toolbar-class)$ $(additional-classes)$\n\n\\define nonExistentItem()\n&lt;&lt;item&gt;&gt; &lt;span style=\&quot;color: #9E9E9E\&quot;&gt;(will be created)&lt;/span&gt;\n\\end\n\n\\define noConnectionsMsg()\n&lt;tr&gt;&lt;td colspan=\&quot;4\&quot;&gt;//No connections found!//&lt;/td&gt;&lt;/tr&gt;\n\\end\n\n\\define normalSearchFilter()\n[!is[system]!has[draft.of]search:title{$:/temp/quickConnectSearch}sortcs[title]limit[50]]\n\\end\n\n\\define regexSearchFilter()\n[!is[system]!has[draft.of]regexp{$:/temp/quickConnectSearch}sortcs[title]limit[50]]\n\\end\n\n\\define showButton(state)\n&lt;$button set=\&quot;$:/temp/tmap/state/popup/quickConnect\&quot;\n         setTo=\&quot;$state$\&quot; tooltip={{$:/language/Buttons/TiddlyMap/Hint}} \n         aria-label={{$:/language/Buttons/TiddlyMap/Caption}}\n         class=&lt;&lt;buttonClass&gt;&gt;&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-icons&gt;prefix[yes]]\&quot;&gt;{{$:/plugins/felixhayashi/tiddlymap/icon}}&lt;/$list&gt;\n&lt;$list filter=\&quot;[&lt;tv-config-toolbar-text&gt;prefix[yes]]\&quot;&gt;\n&lt;span class=\&quot;tc-btn-text\&quot;&gt;&lt;$text text={{$:/language/Buttons/TiddlyMap/Caption}}/&gt;&lt;/span&gt;\n&lt;/$list&gt;\n&lt;/$button&gt;\n\\end\n\n\\define searchResults()\n&lt;td&gt;\n  &lt;$button tooltip=\&quot;Create incoming edge\&quot;&gt;\n    &lt;&lt;tmap \&quot;option\&quot; \&quot;misc.arrows.in\&quot;&gt;&gt;\n    &lt;$action-sendmessage $message=\&quot;tmap:tm-create-edge\&quot;\n                         from=&lt;&lt;item&gt;&gt;\n                         to=&lt;&lt;currentTiddler&gt;&gt;\n                         force=\&quot;true\&quot;\n                         label={{$:/temp/quickConnectSearch/type}}\n                         view={{$:/temp/quickConnectSearch/view}} /&gt;\n  &lt;/$button&gt;\n&lt;/td&gt;\n&lt;td&gt;\n  &lt;$button tooltip=\&quot;Create outgoing edge\&quot;&gt;\n    &lt;&lt;tmap \&quot;option\&quot; \&quot;misc.arrows.out\&quot;&gt;&gt;\n    &lt;$action-sendmessage $message=\&quot;tmap:tm-create-edge\&quot;\n                         from=&lt;&lt;currentTiddler&gt;&gt;\n                         to=&lt;&lt;item&gt;&gt;\n                         force=\&quot;true\&quot;\n                         label={{$:/temp/quickConnectSearch/type}}\n                         view={{$:/temp/quickConnectSearch/view}} /&gt;\n  &lt;/$button&gt;\n&lt;/td&gt;\n&lt;td&gt;\n  &lt;$list\n      filter=\&quot;[&lt;item&gt;is[tiddler]]\&quot;\n      emptyMessage=&lt;&lt;nonExistentItem&gt;&gt;&gt;\n    &lt;$view tiddler=&lt;&lt;item&gt;&gt; field=\&quot;title\&quot; /&gt;\n  &lt;/$list&gt;\n&lt;/td&gt;\n\\end\n\n\\define hidePopup()\n&lt;$macrocall $name=\&quot;showButton\&quot; state=&lt;&lt;qualify&gt;&gt; /&gt;\n\\end\n\n\\define showPopup()\n&lt;$set name=\&quot;additional-classes\&quot; value=\&quot;tmap-active-button\&quot;&gt;\n  &lt;$macrocall $name=\&quot;showButton\&quot; state=\&quot;\&quot; /&gt;\n&lt;/$set&gt;\n&lt;$set\n    name=\&quot;searchFilter\&quot;\n    filter=\&quot;[field:title[$:/state/tmap/tid-toolbar]has[re-filter]]\&quot;\n    value=&lt;&lt;regexSearchFilter&gt;&gt;\n    emptyValue=&lt;&lt;normalSearchFilter&gt;&gt;&gt;\n&lt;div class=\&quot;tmap-quick-connect tc-reveal tc-popup\&quot;&gt;\n  &lt;div class=\&quot;tc-drop-down\&quot;&gt;\n    &lt;div class=\&quot;title\&quot;&gt;Create connection&lt;/div&gt;\n    &lt;table class=\&quot;tmap-quick-connect-search-bar\&quot;&gt;\n      &lt;tr&gt;\n        &lt;td&gt;Type:&lt;/td&gt;\n        &lt;td&gt;\n          &lt;$edit-text\n              tiddler=\&quot;$:/temp/quickConnectSearch/type\&quot;\n              field=\&quot;text\&quot;\n              type=\&quot;text\&quot;\n              tag=\&quot;input\&quot;\n              default=\&quot;\&quot; /&gt;\n          &lt;$select tiddler=\&quot;$:/temp/quickConnectSearch/type\&quot; default=\&quot;\&quot;&gt;\n            &lt;option&gt;&lt;/option&gt;\n            &lt;$list filter=&lt;&lt;tmap \&quot;option\&quot; \&quot;selector.allEdgeTypesById\&quot;&gt;&gt;&gt;\n              &lt;option&gt;{{!!title}}&lt;/option&gt;\n            &lt;/$list&gt;\n          &lt;/$select&gt;\n        &lt;/td&gt;\n      &lt;/tr&gt;\n      &lt;tr&gt;\n        &lt;td&gt;Search:&lt;/td&gt;\n        &lt;td&gt;\n          &lt;$edit-text tiddler=\&quot;$:/temp/quickConnectSearch\&quot; type=\&quot;text\&quot; tag=\&quot;input\&quot; default=\&quot;\&quot;&gt;&lt;/$edit-text&gt;\n          &lt;$checkbox\n              tiddler=\&quot;$:/state/tmap/tid-toolbar\&quot;\n              field=\&quot;re-filter\&quot;\n              checked=\&quot;1\&quot;\n              unchecked=\&quot;\&quot;\n              default=\&quot;\&quot;&gt; regexp\n          &lt;/$checkbox&gt;\n&lt;!--\n          &lt;small&gt;(&lt;$count filter=&lt;&lt;searchFilter&gt;&gt; /&gt; results)&lt;/small&gt;\n--&gt;\n        &lt;/td&gt;\n      &lt;/tr&gt;\n      &lt;/table&gt;\n      &lt;table class=\&quot;tmap-create-connection-table\&quot;&gt;\n      &lt;tr&gt;\n        &lt;td colspan=\&quot;2\&quot;&gt;\n          &lt;table class=\&quot;tmap-very-small-list\&quot;&gt;\n            &lt;$list\n                filter=&lt;&lt;searchFilter&gt;&gt;\n                variable=\&quot;item\&quot;&gt;\n            &lt;tr&gt;&lt;&lt;searchResults&gt;&gt;&lt;/tr&gt;\n            &lt;/$list&gt;\n            &lt;tr&gt;\n            &lt;$list filter=\&quot;[{$:/temp/quickConnectSearch}regexp[.+]] -[is[tiddler]]\&quot; variable=\&quot;item\&quot;&gt;\n              &lt;&lt;searchResults&gt;&gt;\n            &lt;/$list&gt;\n            &lt;/tr&gt;\n          &lt;/table&gt;\n        &lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/table&gt;\n    &lt;div class=\&quot;title\&quot;&gt;Existing Connections&lt;/div&gt;\n    &lt;div class=\&quot;tmap-quick-connect-existing-bar\&quot;&gt;\n      &lt;$select\n          tiddler=\&quot;$:/state/tmap/tid-toolbar\&quot;\n          field=\&quot;direction\&quot;\n          default=\&quot;both\&quot;&gt;\n          &lt;option value=\&quot;both\&quot;&gt;both&lt;/option&gt;\n          &lt;option value=\&quot;in\&quot;&gt;incoming&lt;/option&gt;\n          &lt;option value=\&quot;out\&quot;&gt;outgoing&lt;/option&gt;\n      &lt;/$select&gt;\n      &lt;$checkbox\n          tiddler=\&quot;$:/state/tmap/tid-toolbar\&quot;\n          field=\&quot;filter.links\&quot;\n          checked=\&quot;-[[tw-body:link]]\&quot;\n          unchecked=\&quot;\&quot;\n          default=\&quot;\&quot;&gt; hide links\n      &lt;/$checkbox&gt;\n    &lt;/div&gt;\n    &lt;table class=\&quot;tmap-connection-table\&quot;&gt;\n&lt;!--\n    &lt;tr&gt;\n      &lt;th&gt;&lt;/th&gt;\n      &lt;th&gt;Tiddler&lt;/th&gt;\n      &lt;th&gt;Type&lt;/th&gt;\n      &lt;th&gt;&lt;/th&gt;\n    &lt;/tr&gt;\n--&gt;\n    \n    &lt;$tmap-connections\n        filter=&lt;&lt;tmap mergeFields \&quot;$:/state/tmap/tid-toolbar\&quot; \&quot;filter.\&quot;&gt;&gt;\n        direction={{$:/state/tmap/tid-toolbar!!direction}}\n        emptyMessage=&lt;&lt;noConnectionsMsg&gt;&gt;&gt;\n      &lt;tr&gt;\n        &lt;td title=&lt;&lt;direction&gt;&gt;&gt;&lt;&lt;directionSymbol&gt;&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;$link to=&lt;&lt;neighbour&gt;&gt;&gt;&lt;$view field=\&quot;title\&quot; /&gt;&lt;/$link&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;&lt;edge.type&gt;&gt;&lt;/td&gt;\n        &lt;td&gt;\n          &lt;$button\n              tooltip=\&quot;Delete this connection\&quot;\n              class=\&quot;tc-btn-invisible\&quot;&gt;{{$:/core/images/close-button}}\n            &lt;$action-sendmessage $message=\&quot;tmap:tm-remove-edge\&quot;\n                id=&lt;&lt;edge.id&gt;&gt;\n                from=&lt;&lt;edge.from&gt;&gt;\n                to=&lt;&lt;edge.to&gt;&gt;\n                type=&lt;&lt;edge.type&gt;&gt; /&gt;\n          &lt;/$button&gt;\n        &lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/$tmap-connections&gt;\n    &lt;/table&gt;   \n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;/$set&gt;\n\\end\n\n&lt;$list filter=\&quot;[all[current]is[tiddler]]\&quot;&gt;&lt;$list filter=\&quot;[{$:/temp/tmap/state/popup/quickConnect}prefix&lt;qualify&gt;]\&quot; variable=\&quot;item\&quot; emptyMessage=&lt;&lt;hidePopup&gt;&gt;&gt;&lt;&lt;showPopup&gt;&gt;&lt;/$list&gt;&lt;/$list&gt;&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/media/fullscreen.png&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/media/fullscreen.png&quot;,
            &quot;type&quot;: &quot;image/png&quot;,
            &quot;text&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQffARwOKQxPfTsHAAAEcUlEQVRIx72XX0xTZxjGn+c9JcYQ50qM5RjKkOOG1NQEQiMV1tkLIbLsypCahsTojIkX6kgBr7aG7Wo6ou7STHbnjdGb/Ymb2ABODdiIxKR/IdoeR1PIKJAZdZntLnZq0CEWtHtuzjk57/l+3/e9J8/7fkQB8vv9DIfDHyqK8nEul2sSkS0AzABAMkNyAsBNAD9qmna9t7c397oxudzLXbt2icVi+YxkH0mQ/4YvdRWRxZ/6EonEmcHBweyKwR6P5wCAfhEBSWzatClls9mS27ZtS1dVVc1v3LgxAwDT09PmBw8erI9Go5ZIJFKZSqVUEUE2mwXJg/39/d8XDN63b9+XAD4nie3bt0dbWlpC9fX1eiFpGR8ftwYCAVsoFKoxdumrc+fOffFynLIE9AyAHpLYvXv3yNGjR4dUVV1AgSovL19wOp2Tjx49QiKRqCD5kcPhMAeDwSuvBHs8nq9FxEcSXq93wOPx3MUqZbfbf1+zZs2f0Wi0mmSjw+EoDQaDV/8D9ng8B0ieFBHs37//17a2tjDeUJqmzZSWls6HQiFNUZQmh8ORvH379t3nOW5vb1dMJtPfJLFnz56bHR0dQQDwer3HlhrwwoUL3y5+fl3cpUuXGoaHh3cCQCqVMl28ePGZAICiKMdJwm63R/PQt6m9e/cGbTZbhCRUVT0OACa/3894PN4HAK2traFCVriaHXC5XKFYLLYVQJ/f7z8tsVjMBQBWqzVVV1eno0iqra19qKpqSkSwsLDgEpJtJFFbW5tEkaVpWlJEUFJS0iYkdxrgdLHB1dXVacNenSaS75NEVVXV/EpzW2jO87JarfOGp39gImkWEeS9t5gqKyvLGGCzKV8E/i/lq5jkcrkMSUxPT5uLDZ2dnTWLCEQkIyISFxEkk8n1Lwd6vd5jr3Kl5fSq76amptYbFSsmInKLJOLxuKXYK9Z13WKAbwnJnwAgGo1WFhucTCYrFUUBgJ+loqJimCTS6bR67969imJBJyYmKmZnZ1URgcvlum7q7e3NHT582Aegb3Bw0Ga32x8ulbPVVKfFunPnjk1EkMvlfG63OysAkMlkzhrbvfXy5csNb3u1gUCg4f79+1sB4MmTJ2df6LmOHDlyUETOK4qC9vb2X5qbm6NvAzo2NlYzMDDQShLZbPbQiRMnzr/QgQSDwbEdO3aUkmyKRCJb1q1bN1dZWfnHm0IDgUCr8Sef6unpOblkzzU6Onq1sbHRTLIxEolsefr06bOampqp1UCHhoYabty44Tbyerarq8u3bJc5MjJyxel0liqK0qTrulXX9XfXrl3714YNGwrqNCcnJ63Xrl1zhsPhOsMeT/l8Pl/BDX13d/enAL4zLA4WiyWlaVpi8+bNaVVVF8rKyjJ5G5yZmXknkUhYdF1/b25uTs2fOkge6uzsPL/iI4zf75fHjx93KoryjclkgtGfgSQMI0B+YovvSXbV19efdrvdKz/CvDyBbDbbTPITkjtFRBOR54ZPclJEbgL4weFw/LYcMK9/AFcdm7xTEIntAAAAAElFTkSuQmCC&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/media/halfscreen.png&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/media/halfscreen.png&quot;,
            &quot;type&quot;: &quot;image/png&quot;,
            &quot;text&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQffBAgRIDS2XJMlAAAEdklEQVRIx72XX2xTZRjGn+f9TiAEGHYhlMIObut0dGTAQlP2R2e9GUmNN0vYRrkgICEhIeDSdXeaE70SJIKXZNM7bkjmhX+CMgZVM3BpGIHM9nQOtlO0ac3oSiRkxlEvPF0AYXaw+lydnO/L+X3v95687/MSRcgwDMZisdeVUm/l8/kWkjUAHCRBMgvgF5LDAL5yu90/GIaR/69vcqFFv98vTqfzXRE5CQDkP9tF5LF9IjK/Zis0NTV16vLlyw8XDe7s7NxP8jM7KmzcuDHl8XisLVu2pCsrK3Pr1q3LAkAmk3FMTk6uMU3TaZrmplQq5SKJfD4Pkgf6+/s/Lxq8Z8+eDwC8BwDbtm0z29rafm5oaEgWk5YbN27oQ0NDdWNjY7X2zXx45syZ95/cp5580dXVdYpkLwC0tbX9dOTIkYjL5bqHIuV0Ou81NjZO3L9/H5OTkxUk3/D5fI5oNHr+meCurq6PSIYAIBgMDnZ0dFzHc6q+vv7X5cuX/5FIJKpJNnq93pXRaPTCv8CdnZ37ReQ4Sezbt++7QCAQwwvK7Xb/vmrVqtzY2JhbKdXi8/mskZGR6/M53r17t9I07S+SCAQCw3v37o0uBhAMBo8+7f3Zs2c/BYCBgQFvJBJpBoBUKqWdO3duTgBA07RjJLF161ZzsdBi1N7eHq2rq4uLCDZs2HAMAGgYBhOJxEMACIfDX2zfvj35oqDCDRQiBoBYLFbR19fXDgBlZWUipmm2AoCu66mlgD5LHo/njsvlSimlkMvlWkVEAiICj8djocSqqamxSGLZsmUBIdlsnyhdanBVVVVaRCAiTRqAV0QElZWVuaUCPJrbR6Xres6u6a9qIuIgiULtLaXKy8uzSikAcGiFJvB/ab7DAciKCDKZjKPU0Lt37zrsHGeF5DhJWJa1ZqkAwWDw6NOqWSqVWmPfcEJE5ApJjI+PO0sdcTKZdNoRXxGSX5OEaZqbSg22LGuT3aO/EV3XvyeJdDrtunnzZkWpoBMTExXT09MuEUFra+sPmmEY+UOHDoVInoxEInX19fV3nrc2L6Rr167ViQjy+XzI7/c/FADIZrOnASAej28eGBjwLnW0Q0ND3tu3b28midnZ2dOPea7Dhw8fEJF+pRQ6Ojq+bWlpMZcCOjo6Wjs4OLjLNoAHe3t7+x9zINFodHTnzp0rRaQlHo/XrF69ekbX9ekXhV66dGmXbX9PhMPh40/1XCMjIxeampocJBvj8XjN7OzsXG1t7W/PA41EIt7h4eE37UhP9/T0hBZ0mVevXj3f3Ny8UinVYlmWnkwmX1qxYsWfa9euLcpp3rp1S7948WJTPB5vsMvjiVAoFCra0IfD4XdI9hWmhPXr16eqq6unqqqq0i6X6155eXnW/jEdmUymzLIsZzKZfHlmZsZVqMkkD3Z3d/cveoQxDEMePHjQLSIfa5oGkrArz/wYU3guNBu7+/Ts2LHjE7/fv/gR5skDzM3NvSYibwNoVkq5STqUUiCZJTmhlBrO5/Nf+ny+HxcCFvQ3ae6MHdgDqpkAAAAASUVORK5CYII=&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/icon&quot;: {
            &quot;tags&quot;: &quot;$:/tags/Image&quot;,
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/icon&quot;,
            &quot;text&quot;: &quot;&lt;svg\n   xmlns:dc=\&quot;http://purl.org/dc/elements/1.1/\&quot;\n   xmlns:cc=\&quot;http://creativecommons.org/ns#\&quot;\n   xmlns:rdf=\&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#\&quot;\n   xmlns:svg=\&quot;http://www.w3.org/2000/svg\&quot;\n   xmlns=\&quot;http://www.w3.org/2000/svg\&quot;\n   xmlns:inkscape=\&quot;http://www.inkscape.org/namespaces/inkscape\&quot;\n   class=\&quot;tc-image-tiddlymap-button tc-image-button\&quot;\n   version=\&quot;1.1\&quot;\n   width=\&quot;22pt\&quot;\n   height=\&quot;22pt\&quot;\n   viewBox=\&quot;0 0 128 128\&quot;&gt;\n  &lt;defs\n     id=\&quot;defs4\&quot;&gt;\n    &lt;marker\n       refX=\&quot;0\&quot;\n       refY=\&quot;0\&quot;\n       orient=\&quot;auto\&quot;\n       id=\&quot;Arrow1Lend\&quot;\n       style=\&quot;overflow:visible\&quot;&gt;\n      &lt;path\n         d=\&quot;M 0,0 5,-5 -12.5,0 5,5 0,0 z\&quot;\n         transform=\&quot;matrix(-0.8,0,0,-0.8,-10,0)\&quot;\n         id=\&quot;path3850\&quot;\n         style=\&quot;fill-rule:evenodd;stroke:#000000;stroke-width:1pt\&quot; /&gt;\n    &lt;/marker&gt;\n    &lt;marker\n       refX=\&quot;0\&quot;\n       refY=\&quot;0\&quot;\n       orient=\&quot;auto\&quot;\n       id=\&quot;Arrow1Lstart\&quot;\n       style=\&quot;overflow:visible\&quot;&gt;\n      &lt;path\n         d=\&quot;M 0,0 5,-5 -12.5,0 5,5 0,0 z\&quot;\n         transform=\&quot;matrix(0.8,0,0,0.8,10,0)\&quot;\n         id=\&quot;path3847\&quot;\n         style=\&quot;fill-rule:evenodd;stroke:#000000;stroke-width:1pt\&quot; /&gt;\n    &lt;/marker&gt;\n    &lt;inkscape:path-effect\n       effect=\&quot;skeletal\&quot;\n       id=\&quot;path-effect4329\&quot; /&gt;\n    &lt;inkscape:path-effect\n       effect=\&quot;skeletal\&quot;\n       id=\&quot;path-effect4321\&quot; /&gt;\n    &lt;inkscape:path-effect\n       effect=\&quot;skeletal\&quot;\n       id=\&quot;path-effect4315\&quot; /&gt;\n    &lt;inkscape:path-effect\n       effect=\&quot;skeletal\&quot;\n       id=\&quot;path-effect4307\&quot; /&gt;\n    &lt;inkscape:path-effect\n       effect=\&quot;skeletal\&quot;\n       id=\&quot;path-effect4299\&quot; /&gt;\n    &lt;inkscape:path-effect\n       effect=\&quot;skeletal\&quot;\n       id=\&quot;path-effect4293\&quot; /&gt;\n  &lt;/defs&gt;\n  &lt;g\n     transform=\&quot;translate(0,-1024.5289)\&quot;\n     id=\&quot;layer1\&quot;&gt;\n    &lt;path\n       d=\&quot;m 17.867073,4.5821643 a 3.7249374,3.7249374 0 1 1 -7.449875,0 3.7249374,3.7249374 0 1 1 7.449875,0 z\&quot;\n       transform=\&quot;matrix(-6.3328802,0,0,6.2775831,193.9581,1100.3667)\&quot;\n       id=\&quot;path4139-1-14\&quot;\n       style=\&quot;fill-opacity:1;fill-rule:nonzero\&quot; /&gt;\n    &lt;path\n       d=\&quot;M 77.450496,1064.5069 C 58.849552,1025.9634 15.704158,1023.3858 2.8821873e-7,1034.558 L 0.02388589,1035.2674 C 24.502636,1022.2072 44.810725,1042.1507 60.163934,1074.112 z\&quot;\n       id=\&quot;path4337\&quot;\n       style=\&quot;fill-opacity:1;stroke-width:0.58181816;stroke-miterlimit:4;stroke-dasharray:none;marker-start:none;marker-end:none\&quot; /&gt;\n    &lt;path\n       d=\&quot;m 12.878637,11.280739 4.75937,-2.7478243 4.759371,-2.7478236 0,5.4956479 0,5.495648 -4.759371,-2.747824 z\&quot;\n       transform=\&quot;matrix(4.6545455,0,0,4.6545455,-13.580429,1027.7638)\&quot;\n       id=\&quot;path3004\&quot;\n       style=\&quot;fill-opacity:1;fill-rule:nonzero\&quot; /&gt;\n  &lt;/g&gt;\n  &lt;metadata\n     id=\&quot;metadata3772\&quot;&gt;\n    &lt;rdf:RDF&gt;\n      &lt;cc:Work\n         rdf:about=\&quot;\&quot;&gt;\n        &lt;dc:title&gt;&lt;/dc:title&gt;\n        &lt;dc:format&gt;image/svg+xml&lt;/dc:format&gt;\n        &lt;dc:type\n           rdf:resource=\&quot;http://purl.org/dc/dcmitype/StillImage\&quot; /&gt;\n      &lt;/cc:Work&gt;\n    &lt;/rdf:RDF&gt;\n  &lt;/metadata&gt;\n&lt;/svg&gt;\n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/media/surface.png&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/media/surface.png&quot;,
            &quot;type&quot;: &quot;image/png&quot;,
            &quot;text&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAGYktHRAAmALMAAQfdEQQAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfeDBYVBDLiNMeiAAAFvUlEQVRIx7WXbUxTZxTH/+c8VwQLlAKuEotF2mJRlMFEqeCUiMzojH7YEjMSlM1EY2Z04vbBbUrcZqbOTZfFOKMOcWRuZMyoS4xUN16EMUVUMkAFJ6VQkdFSoOIL9O5DBREFX/l/vOf+z+88z715znkITyMZZMjDTLfEC0iWE0hAD0DlZhkC7HCDagWoxA0cvzq/uwgE+UkpachoJjhiCta6mXYwATLfN7AnM923MzGIuC8hARn/lN3ZiUy4nxlsyEM6QAcgPECdb6TNFDTbMn10UnOkMsap9dE5AMDSVaeqdlYoz9qL1WftReOuuS6HMDHcshsEfrdyXscPTw3W/cabieRPmYAEdcrltLD3q2ar32x4mq9S2HIi9LBl78QzracnMDEI9FlFin3jE8G6PN5JLK9hAt4Zv6ps0+TvyvAc+rLmo+m5DfungwhEvKs8uWVt/7h4CPorb2VJzmACPpy01bzO+MUFPKcSg+c2+kijOs85zoQTKF6TplA0ZrvyHwEb8pAOgW0kgE8m7zyZHr6uGi+o6IDpLQEjAp1/tZ7WMUkJY5f6WRqzOy48AP8CETSCylkAS3VrS1YbNl7CS9IkZcx/rm5XT1XHxVBBvCh+gfPzqlzIDAD6kVgDBhJGp1z+OPLrc3jJWhOx6ZwpKKmGiGEL1q4BAIYMYqYdBCBt/OoqDJPeGpteJZEEiUfsgAxi/TG8DgAG/yjb7FcWNAwXOD5oljVcMcEmSELSH/rXmYjngwnTgmZZHmeIPaFcPlTCJ8UH/GwWIoYkjZzPRDSDQJgWNKt54Is513drb3W7vIdK5uru9BkslnN9t3amWZPaB/aPaxYQYBImBsFAxJiojHEONB6u/z5mpPC+N1jihQXRi72Fz92hCrPfaQnIub5bCwB6/ygnEYNBEczEKiLGuPtnb3/dvN2o8mbvQRO33WtVyPLgjWhP7ZbEcF9jY74tzwAAY701DokkCJJU7KmAHzEtK01OjvR/tcFLeN/trXjganUKY7PSS9X5uPiMk2PSetzdYol2RUWdq0b94JD2dDKGDAcRw9pVp+pvAoAsk9m8Ur+heE/tlsSB367tXqsiy2Q26xTG5t4V9fdH+EU1laTcyE4NW1Xffq/Nd2FB9GLbbatKIgFBwiEJ4qtMrK5uv6TU+OgcM82aVIPfpKYsk9kMAKlhq+pTw1bVx55QLldIfl06hbG5zlWjLkq25vQWN9OsSV1YEL14iXZFRb4tzxDhF9XnB4CYgPg6ALjmqlF61oorDOZSAqPcUaoGgJX6DcUHTafMA7fu/DznvpX6DcUyZPRCe1WUbM0J9Aru3FO7JVGGjP7Q3uKyTGZzVUelmjxbXUqTT/rOkmTpT51vpC13RkkuhlHrK5e93XCrPkR298zmyrmdhTIR/r1VG3KmJV8zXNCKtjJNU5c1RJDAJNOcIgZBJlAGg/Czdf/E4QKbbx6dyCQgwBmZlOn2dKc2+y4AOGsvMn57ZfPUlw3NseydeslZbiQQ7tQH7Orrx1W5kEPTfBuIeFF158XQwJHBbUa/6NaXAT118/iEvKZDSUwCIHn5TylHyx+aQBoPuSpC05QKJk4osxfqVV7BbUa/Ka0vCs1p2PsGEwPg7dlxv2977MxlzW7PH7dMpSJQ/Fl7of5Wj6snLjCx6Xmgh60Hph5pykliYshw78qKO5Yx6LAHAJaDbSfC0gMVTFJCTcel0MsdlQF+kv/dsT7a9qcBXnT+HfqjZY+pzF4Q4xlvsf3A1IehQw70cwoi3yPQPkECRIzxowy2aOW0+skBsc3higntY7w1DgC4cbtRZem65l/dflFd01GpvXnHFkIgeMZaWr4v9sj+Z77CZMrg0sKoD4jFV17sBYAgSAITQ5Dk2TLP2QuA+p4TaP2412K/yaTMZ7/CDCzgfElcIhEvJNAMiSQdEasESSBiB4PrBIsSctOx8XHTiocC9up/PG8QrAaKLngAAAAASUVORK5CYII=&quot;
        },
        &quot;$:/language/Buttons/TiddlyMap/Caption&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/TiddlyMap/Caption&quot;,
            &quot;text&quot;: &quot;tiddlymap&quot;
        },
        &quot;$:/language/Buttons/TiddlyMap/Hint&quot;: {
            &quot;title&quot;: &quot;$:/language/Buttons/TiddlyMap/Hint&quot;,
            &quot;text&quot;: &quot;Toggle TiddlyMap actions&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/misc/macros&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/misc/macros&quot;,
            &quot;text&quot;: &quot;\\define concat(str) $str$\n\n\\define input-text(field, index, default, readonly)\n  &lt;$reveal type=\&quot;match\&quot; text=\&quot;\&quot; default=\&quot;$readonly$\&quot;&gt;\n    &lt;$edit-text tiddler=&lt;&lt;output&gt;&gt; field=\&quot;$field$\&quot; index=\&quot;$index$\&quot; type=\&quot;text\&quot; tag=\&quot;input\&quot; default=\&quot;$default$\&quot; /&gt;\n  &lt;/$reveal&gt;\n  &lt;$reveal type=\&quot;nomatch\&quot; text=\&quot;\&quot; default=\&quot;$readonly$\&quot;&gt;\n    &lt;input type=\&quot;text\&quot; value=\&quot;$default$\&quot; readonly=\&quot;true\&quot; disabled=\&quot;true\&quot; /&gt;\n  &lt;/$reveal&gt;\n\\end\n\n\\define input-button(field, index, default, default, label:\&quot;Proceed\&quot;)\n  &lt;div class=\&quot;tmap-button-wrapper\&quot;&gt;\n  &lt;$button&gt;$label$\n    &lt;$action-setfield $tiddler=&lt;&lt;output&gt;&gt; $field=\&quot;$field$\&quot; index=\&quot;$index$\&quot; $value=\&quot;$default$\&quot; /&gt;\n  &lt;/$button&gt;\n  &lt;/div&gt;\n\\end\n\n\\define input-textarea(field, index, default, default)\n  &lt;$edit-text tiddler=&lt;&lt;output&gt;&gt; field=\&quot;$field$\&quot; index=\&quot;$index$\&quot; autoHeight=\&quot;no\&quot; type=\&quot;text\&quot; tag=\&quot;textarea\&quot; default=\&quot;$default$\&quot; /&gt;\n\\end\n\n\\define input-checkbox(field, index, readonly, default)\n  &lt;$reveal type=\&quot;match\&quot; text=\&quot;\&quot; default=\&quot;$readonly$\&quot;&gt;\n    &lt;$checkbox\n        tiddler=&lt;&lt;output&gt;&gt;\n        field=\&quot;$field$\&quot;\n        index=\&quot;$index$\&quot;\n        checked=\&quot;true\&quot;\n        unchecked=\&quot;false\&quot;\n        default=\&quot;$default$\&quot; /&gt;\n  &lt;/$reveal&gt;\n  &lt;$reveal type=\&quot;nomatch\&quot; text=\&quot;\&quot; default=\&quot;$readonly$\&quot;&gt;\n    &lt;input type=\&quot;checkbox\&quot; value=\&quot;$default$\&quot; readonly=\&quot;true\&quot; disabled=\&quot;true\&quot; /&gt;\n  &lt;/$reveal&gt;\n\\end\n\n\\define input-multi-checkbox(selectFilter, invert:\&quot;no\&quot;, default)\n  &lt;div class=\&quot;tmap-no-stretch\&quot;&gt;\n  &lt;$list\n      filter=\&quot;$selectFilter$\&quot;\n      emptyMessage=\&quot;– This list contains no items –\&quot;&gt;\n    &lt;$checkbox\n        tiddler=&lt;&lt;output&gt;&gt;\n        tag=&lt;&lt;tmap \&quot;splitAndSelect\&quot; \&quot;|\&quot; \&quot;0\&quot;&gt;&gt;&gt;\n      &lt;$view\n          tiddler=&lt;&lt;tmap \&quot;splitAndSelect\&quot; \&quot;|\&quot; \&quot;1\&quot;&gt;&gt;\n          field=\&quot;title\&quot; /&gt;\n    &lt;/$checkbox&gt;&lt;br /&gt;\n  &lt;/$list&gt;\n  &lt;/div&gt;\n\\end\n\n\\define input-select(field, index, selectFilter, default, nochoice)\n  &lt;$select\n      tiddler=&lt;&lt;output&gt;&gt;\n      field=\&quot;$field$\&quot;\n      index=\&quot;$index$\&quot;\n      default=\&quot;$default$\&quot;&gt;\n    &lt;$set name=\&quot;nochoice\&quot; value=\&quot;$nochoice$\&quot;&gt;\n      &lt;$list filter=\&quot;[&lt;nochoice&gt;regexp[.+]]\&quot;&gt;\n        &lt;option value=\&quot;\&quot;&gt;&lt;b&gt;&lt;&lt;nochoice&gt;&gt;&lt;/b&gt;&lt;/option&gt;\n      &lt;/$list&gt;\n    &lt;/$set&gt;\n    &lt;$list filter=\&quot;$selectFilter$\&quot;&gt;\n      &lt;option value=&lt;&lt;tmap \&quot;splitAndSelect\&quot; \&quot;|\&quot; \&quot;0\&quot;&gt;&gt; &gt;\n        &lt;$view tiddler=&lt;&lt;tmap \&quot;splitAndSelect\&quot; \&quot;|\&quot; \&quot;1\&quot;&gt;&gt; field=\&quot;title\&quot; /&gt;   \n      &lt;/option&gt;\n    &lt;/$list&gt; \n  &lt;/$select&gt;\n\\end\n\n\\define input-radio(field, index, selectFilter, default)\n  &lt;$list filter=\&quot;$selectFilter$\&quot;&gt;\n    &lt;$radio\n        tiddler=&lt;&lt;output&gt;&gt;\n        field=\&quot;$field$\&quot;\n        index=\&quot;$index$\&quot;\n        value=&lt;&lt;tmap \&quot;splitAndSelect\&quot; \&quot;|\&quot; \&quot;0\&quot;&gt;&gt;&gt;\n      &lt;&lt;tmap \&quot;splitAndSelect\&quot; \&quot;|\&quot; \&quot;1\&quot;&gt;&gt;\n    &lt;/$radio&gt;&lt;br /&gt;\n  &lt;/$list&gt;\n\\end\n\n\\define tmap-row(title, field, index, type, descr, note, label, default, readonly, reset, selectFilter, nochoice, invert)\n  &lt;tr&gt;\n    &lt;td class=\&quot;tmap-title\&quot;&gt;$title$:&lt;/td&gt;\n    &lt;td&gt;\n        &lt;&lt;$type$\n          field:\&quot;$field$\&quot;\n          index:\&quot;$index$\&quot;\n          readonly:\&quot;$readonly$\&quot;\n          default:\&quot;$default$\&quot;\n          label:\&quot;$label$\&quot;\n          invert:\&quot;$invert$\&quot;\n          selectFilter:\&quot;$selectFilter$\&quot;\n          nochoice:\&quot;$nochoice$\&quot; &gt;&gt;\n        &lt;$reveal type=\&quot;match\&quot; text=\&quot;true\&quot; default=\&quot;$reset$\&quot;&gt;\n          &lt;$button&gt;reset\n            &lt;$action-setfield $tiddler=&lt;&lt;output&gt;&gt; $field=\&quot;$field$\&quot; $index=\&quot;$index$\&quot; $value=\&quot;$default$\&quot; /&gt;\n          &lt;/$button&gt;\n        &lt;/$reveal&gt;\n    &lt;/td&gt;\n    &lt;td&gt;\n      &lt;span class=\&quot;tmap-description\&quot;&gt;$descr$&lt;/span&gt;\n      &lt;$reveal type=\&quot;nomatch\&quot; text=\&quot;\&quot; default=\&quot;$note$\&quot;&gt;\n        &lt;div class=\&quot;tmap-note\&quot;&gt;''Note:'' $note$&lt;/div&gt;\n      &lt;/$reveal&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt;\n\\end\n\n\\define visConfiguration(inheritedList,\n                         extensionField,\n                         styleName:\&quot;style\&quot;)\n                         \n  &lt;fieldset&gt;&lt;legend&gt;Visjs configurations ($styleName$)&lt;/legend&gt;\n    &lt;div class=\&quot;tmap-flash-message tmap-info\&quot;&gt;\n      Only config items that you actually changed have an effect on\n      the graph. Other options are visible, yet, inactive.\n    &lt;/div&gt;\n    &lt;$tmap-config\n        mode=\&quot;manage-node-types\&quot;\n        inherited=\&quot;$inheritedList$\&quot;\n        extension=\&quot;$extensionField$\&quot;\n    /&gt;\n  &lt;/fieldset&gt;\n\\end&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/misc/defaultViewHolder&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/misc/defaultViewHolder&quot;,
            &quot;text&quot;: &quot;Default&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/nodeTypes/tmap:neighbour&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/nodeTypes/tmap:neighbour&quot;,
            &quot;description&quot;: &quot;Neighbours are all nodes that are not part of the original set of nodes (\&quot;matches\&quot;) but are connected (either outgoing or incoming) to a node of the original set.&quot;,
            &quot;style&quot;: &quot;{\&quot;color\&quot;:\&quot;#565656\&quot;}&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Default/filter/edges&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Default/filter/edges&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Default/filter/nodes&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Default/filter/nodes&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Default&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Default&quot;,
            &quot;config.physics_mode&quot;: &quot;false&quot;,
            &quot;isview&quot;: &quot;true&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Live View/filter/edges&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Live View/filter/edges&quot;,
            &quot;filter&quot;: &quot;[prefix[$:/plugins/felixhayashi/tiddlymap/graph/edgeTypes]]&quot;,
            &quot;text&quot;: &quot;\n\n&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Live View/filter/nodes&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Live View/filter/nodes&quot;,
            &quot;filter&quot;: &quot;[field:title{$:/temp/tmap/currentTiddler}]&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Live View&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Live View&quot;,
            &quot;config.neighbourhood_scope&quot;: &quot;1&quot;,
            &quot;config.refresh-triggers&quot;: &quot;$:/temp/tmap/currentTiddler&quot;,
            &quot;config.physics_mode&quot;: &quot;true&quot;,
            &quot;config.vis&quot;: &quot;{\&quot;physics\&quot;:{\&quot;forceAtlas2Based\&quot;:{\&quot;springLength\&quot;:0,\&quot;springConstant\&quot;:0.09}}}&quot;,
            &quot;isview&quot;: &quot;true&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Graph search/filter/nodes&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Graph search/filter/nodes&quot;,
            &quot;filter&quot;: &quot;[!is[system]search{$:/temp/search}] [!is[system]search:tags{$:/temp/search}] [!is[system]search:text{$:/temp/search}limit[10]]&quot;
        },
        &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Graph search&quot;: {
            &quot;title&quot;: &quot;$:/plugins/felixhayashi/tiddlymap/graph/views/Graph search&quot;,
            &quot;config.refresh-triggers&quot;: &quot;$:/temp/search&quot;,
            &quot;config.neighbourhood_scope&quot;: &quot;1&quot;,
            &quot;config.physics_mode&quot;: &quot;true&quot;
        }
    }
}</pre>
</div>
<div color="#66ccff" created="20160213170405913" description="Cai, Y., Li, Q., Xie, H., Min, H. (2014).  Exploring personalized searches using tag-based user profiles and resource profiles in folksonomy.  Neural Networks, 58, 98-110." modified="20160325210848991" tags="Reference Thesis" title="Cai2014Exploring" tmap.id="5bba0e28-56d3-413c-8286-2c8c03cab5b2">
<pre>Cai, Y., Li, Q., Xie, H., Min, H. (2014).  Exploring personalized searches using tag-based user profiles and resource profiles in folksonomy.  Neural Networks, 58, 98-110.

!!!{{description!!}}</pre>
</div>
<div color="#66ccff" created="20160214163218559" description="Cantador, I., Konstas, I., Jose, J. (2011). Categorising social tags to improve folksonomy-based recommendations.   Web Semantics: Science, Services and Agents on the World Wide Web 9, 1-15." modified="20160325210500444" tags="Reference Thesis" title="Cantador2011Categorising" tmap.id="7244c17d-3d8e-4143-89b2-33d0600b6c18">
<pre>Cantador, I., Konstas, I., Jose, J. (2011). Categorising social tags to improve folksonomy-based recommendations.   Web Semantics: Science, Services and Agents on the World Wide Web 9, 1-15.

!!!{{description!!}}</pre>
</div>
<div created="20160321183402192" modified="20160321185326370" tags="Thesis TOC Contents" title="Conclusion" tmap.id="67926c8e-facf-4534-8c84-2a69844bc315">
<pre>Although this project creates a solid foundation of ideal practices, strongly rooted in hypertext theory, much work still needs to be done.

This project incorporated a small sampling of roughly 200 photos, from a larger database of 20,000.  Thousands of photos have yet to be imported and tagged.

The ~TiddlyWiki community develops new tools and techniques on a daily basis; en throughout the course of this project, three huge techniques here introduced (PopUp Tagger, Filters, and Hegert's photos to be tagged/photos tagged.)  Active involvement in the ~TiddlyWiki community could mean better and better filters, coding techniques and ways to manipulate data (the photos.)

Research illuminates many authors building algorithms based on tagging structures; ~TiddlyWiki offers a lot of that (almost unknowingly) already

Tagging users' preferences would be fascinating to study as well.  [[Strohmaier2012TaggingMotivation]] was a gold mine of collecting //quantitative data// pertaining to user's tagging behaviors; studying ethnographical approaches, how the student volunteer taggers and community members work together, would be a remarkable study as well.

Stemming beyond users' tagging motivations, [[Strohmaier2012TaggingMotivation]] also introduces the concept of generating //tag clouds// based on each user's tagging vocabulary.  From an ethnographical perspective, as student taggers are teamed up with community members, this would be interesting to create visuals based on how community members describe themselves.
</pre>
</div>
<div color="#000000" created="20160321184559340" list="Welcome! [[Thesis Statement &amp; Questions]] Abstract [[The Project Space]] [[Signature - Title Page]] Introduction [[Literature Review]] Themes [[Approach  phase 1]] Understandings Conclusion Reference" list-before="$:/core/ui/SideBar/Open" modified="20160325211010086" tags="$:/tags/SideBar" title="Contents" tmap.id="51111e6c-fb12-46af-af24-e1bc83cbdb14">
<pre>&lt;&lt;toc-selective-expandable 'Contents'&gt;&gt;</pre>
</div>
<div created="20160320132912705" modified="20160320140055665" tags="deFigueiredo2015ContextContent Thesis [[Literature Review]] Tagging [[Image Retrieval]]" title="deFigueiredo et all's view of image retrieval" tmap.id="2e7cde22-2969-4354-9bc5-29ede6a90cb2">
<pre>[[deFigueiredo2015ContextContent]] cites the importance of //context// yet again, in regards to image retrieval:

&gt;In the domain of photography, the context in which a given photographic image was taken is very important for searching a collection of photographs. Examples of such context include the geographic location, date and time of capture, events, contact network and user preferences.

Currently, the tags (based on ''ethnicity,'' ''location'' and ''activity'') are how users navigate through the photo project.

The authors of this article, and other authors, cite the importance of incorporating an image's metadata as additional tagging options.  The reason for this is clear: the more information a user has to navigate a repository with, the greater chances the user will retrieve the information desired.

For this project, it truly depends &quot;how far down the rabbit hole&quot; one chooses to venture, as far as incorporating additional information, i.e.; metadata, as additional pieces of information to include and tag.</pre>
</div>
<div created="20160320132649711" modified="20160320134738131" tags="deFigueiredo2015ContextContent Thesis [[Literature Review]] Tagging [[Tag Recommendation]] [[Utica Community Members]]" title="deFigueiredo et all's view of tag recommendation" tmap.id="5f352a7c-924f-4774-9536-5d86c42ef574">
<pre>[[deFigueiredo2015ContextContent]] statement of importance of //context// in which a photo is tagged takes an ethnographical approach: 

&gt;Studies show that the annotation of information about the context in which a photograph was taken helps to retrieve it.  In particular, identifying people who are present in the scene is considered to be the most important information that can enable a person to remember a photograph.

Although the authors are discussing a photo sharing site, such as Flickr, above, the same holds true for this photo project.  

Currently, &quot;only&quot; ethnic groups are being identified in the photos, yet the ~PopUp Tagger tool could be modified to include names of individuals in the photos.

This has significant impacts for [[Utica Community Members]]; their personal histories are being recorded and preserved, with the ability to be saved and shared with not only their current generation, but with future generations as well.

Additionally, this has wonderful impacts on the volunteer taggers, as they are learning about the community members' histories, cultures and stories; their own personal educations and perspectives are expanding and they are garnering a more global perspective than what they had before working with the community members.</pre>
</div>
<div color="#66ccff" created="20160214164138149" description="de Figueiredo, H., de Souza Baptista, C., Casanova, M., da Silva, T., de Paiva, A.  (2015).  Semi-automatic photograph tagging by combining context with content-based information.  Expert Systems with Applications, 42, 203-211." modified="20160325195209343" tags="Reference Thesis" title="deFigueiredo2015ContextContent" tmap.id="8bce806a-e4e8-484d-b7a2-2142b77ee8c5">
<pre>de Figueiredo, H., de Souza Baptista, C., Casanova, M., da Silva, T., de Paiva, A.  (2015).  Semi-automatic photograph tagging by combining context with content-based information.  Expert Systems with Applications, 42, 203-211.


!!!{{description!!}}</pre>
</div>
<div color="#ff6fcf" created="20160319183919639" modified="20160319183919639" title="Defining Folksonomies" tmap.id="84196119-49c8-4164-8905-47951198f4c2">
<pre></pre>
</div>
<div color="#ff6fcf" created="20160316232321687" modified="20160326215232894" tags="[[Literature Review]] Thesis Folksonomy [[Wikipedia: Folksonomy]]" title="Defining Folksonomy" tmap.id="0d40042a-a265-4312-9e41-25ddf2b23c33">
<pre>
zheng2011: And create they did!  (See [[Additional tags created]]).  Taggers were paired with community members to tag the ''activity,'' ''location'' and ''ethnicity'' of those within each photo.  On their own, Taggers could tag items that were obvious in photos; with the help of community members, Taggers could tag specifics that only the community members would know.

The community members shared their //background knowledge// of the photos, //sharing// this information with the Taggers, who by tagging the photos are sharing the information with anyone who has access to the project wiki.  Customs, themes and memories are //recovered// by community members who recall instances within the photos, and //discovered// for the first time by the Taggers.

The first step is to clearly define what a folksonomy is.  For this, we turn to Wikipedia;

&gt;A folksonomy is a system in which users apply public tags to online items, typically to aid them in re-finding those items. This can give rise to a classification system based on those tags and their frequencies, in contrast to a taxonomic classification specified by the owners of the content when it is published. This practice is also known as collaborative tagging, social classification, social indexing, and social tagging. However, these terms have slightly different meanings than folksonomy. 

&gt;Folksonomy was originally “the result of personal free tagging of information [...] for one’s own retrieval.”. Social tagging is the application of tags in an open online environment where the tags of other users are available to others. Collaborative tagging (also known as group tagging) is tagging performed by a group of users. This type of folksonomy is commonly used in cooperative and collaborative projects such as research, content repositories, and social bookmarking.  [[Wikipedia: Folksonomy]]


[[Nocera2011SocialFolksonomy]] cites folksonomies being used:

&gt;to denote a classification system obtained by collaboratively creating and managing tags to annotate a set of resources.  A folksonomy allows for both the categorization and the retrieval of available resources.

This is indeed a collaborative project: Dr. Stam shared the photos of the community members of whom are the subject of said photos; I built the ~TiddlyWiki platform; Dr. Schneider has incorporated systemic ways of adding and filtering the information within the project platform; volunteer student taggers work with community members to appropriately tag the photos.

&gt;...what becomes more important in a folksonomy is the &quot;flexible communal referencing&quot; rather than the meaning //stricto sensu// of a particular object.  [[Hirsu2015TagWriting]]

</pre>
</div>
<div modified="20160319152754477" title="Draft of 'Literature Review'" tmap.id="57a5e95b-149e-438c-84f4-fa66c1e1c007">
<pre></pre>
</div>
<div color="#ff6fcf" created="20160319192616052" draft.of="Tag Recommendation" draft.title="Tag Recommendation" modified="20160326221040778" tags="[[Literature Review]] Thesis Tagging Hypertext" title="Draft of 'Tag Recommendation'" tmap.id="4b665751-1966-4241-be76-f77294b01fd0">
<pre>&gt;Tag writing may seem to be a convenient way of (re)arranging digital information; however, tagging is more that a form of structural language.  This practice creates content and builds cultural discourses.HIRSU2015

The vast majority of authors created complex algorithms to define, as they see it, the most efficient way to tag photos.

&lt;&lt;list-links &quot;[tag[Tag Recommendation]]&quot;&gt;&gt;</pre>
</div>
<div created="20160317001225016" modified="20160319142148829" tags="Thesis [[Literature Review]] Lee2010TagRefinement Folksonomy Tagging [[Utica Community Members]]" title="Elements within a folksonomy" tmap.id="4dc01137-ba6f-4814-9eb1-94d1c6a8bce5">
<pre>Before we look at how hypertext can greatly enhance a folksonomy, we should be mindful of what elements create a folksonomy.

&gt;... an image folksonomy consists of three fundamental elements: users, images, and tags.  Starting from these elements, six different relations can be identified: the image-tag relation, the image-user relation, the user-tag relation, the image-image relation, the user-user relation, and the tag-tag relation.

&gt;The image-image relation is typically characterized by making use of the visual similarity between images.

&gt;The tag-tag relation represents the correlation between tags in a folksonomy.  [[Lee2010TagRefinement]]

The &lt;&lt;tag &quot;tagging&quot;&gt;&gt; affordances that hypertext offers is what makes it such a valuable tool for enhancing a digital photo repository!

For the purposes of this project, the ''users'' are the volunteer student taggers who are working with Utica community members to identify the //activity, ethnicity// and //location// of the photos; the ''images'' are literally the photos; the ''tags'' are the defined ethnic groups, the activities the people in the picture are &quot;doing&quot; at the time of the photo being taken and the location is the place where the photo was taken.</pre>
</div>
<div color="#ccff66" created="20160306203221187" modified="20160320000428271" title="Explanation" tmap.id="1ba87731-4ba2-4302-97d2-dd2bc226b652">
<pre></pre>
</div>
<div created="20160306202317569" modified="20160326162010335" tags="Approach Thesis [[Approach Phase 1]]" title="Fall 2015 - Intro to Project" tmap.id="89549a08-6d10-4708-b374-7199e60422e6">
<pre>During the fall semester of 2015, Dr. Stam shared nearly 200 photos in Google Drive from her //Resettled Refugees in Utica// collection, and asked for my methodology in creating a photo repository.

She presented me with a series of thought-provoking [[questions|Fall 2015 - Questions to Consider]] before I began inputting photos.</pre>
</div>
<div created="20160306202405572" modified="20160326162006896" tags="Approach Thesis [[Approach Phase 1]]" title="Fall 2015 - Questions to Consider" tmap.id="605f2b3b-3f44-44e5-a3c6-03ede4ea8a02">
<pre>The following are questions via email Dr. Stam asked me to consider when viewing and uploading photos:

&gt;There are more than 100...(not sure exactly) so how would you narrow them down? For ex., would you remove the blurry ones? or the ones from the newspaper? Or the tiffs? On what would you base your decisions about that? 

&gt;Then, I put in a bunch that are similar...one person's arm might have moved. So what do you do with those? How can you tell if they are &quot;valuable&quot; or not?

&gt;And there are some portraits, some candids, some FB photos taken by people at home...some events. some at a local community center.some selfies.

&gt;How can you tell what cultures and events they are from? Does it matter for our purposes?

&gt;(By the way, many of them are Karen- from Burma, but they don't like to be called Burmese. Some are Bhutanese-Nepali. Some are Somali-Bantu. How would we train another project member to be able to tell the difference?</pre>
</div>
<div color="#cc66ff" created="20160319134210106" modified="20160319141248006" tags="Themes Thesis" title="Folksonomy" tmap.id="20622131-2a15-433a-9406-a3d327e2f385">
<pre>Relating directly to this project, a //folksonomy// is defined as the story that is being created through the act of [[tagging]] images.  Once the tags are in place, users may sort images by tags, hence creating a visual story based on a common theme(s).

&lt;&lt;list-links &quot;[tag[Folksonomy]]&quot;&gt;&gt;</pre>
</div>
<div color="#000080" created="20160317002705133" modified="20160317002705133" title="folksonomy" tmap.id="0968cd9b-da03-40d3-bcc5-23596023dfb1">
<pre></pre>
</div>
<div color="#ff6fcf" created="20160319193310785" modified="20160326185153569" tags="Thesis [[Literature Review]] Folksonomy Hypertext Cantador2011Categorising Kim2012FolksonomySearch Nocera2011SocialFolksonomy Xie2016IncorporatingSentiment Snyder2004NewMedia Ley2015HumanCategorization Wu2015ItemRecomendation Hirsu2015TagWriting Tagging" title="Folksonomy Database Structure" tmap.id="2aa92a06-3f86-48aa-8565-27cb4706d388">
<pre>The type of platform that houses a folksonomy is crucially important; the foundation greatly impacts the inputs, outputs and ability to manipulate data.

[[Snyder2004NewMedia]] cites a database as:

&gt;...any large collection of cultural data.  A database appears to users as a collection of items to view, navigate and search, no matter how it is organized.

Utilizing a [[hypertext|Hypertext]] platform then aligns itself nicely for this project. An affordance of using a hypertext platform is that information can be, &quot;viewed, navigated and searched&quot; in any matter, as long as a strong linking structure exists.  

This linking structure is embedded in the database, and realized through the creation and use of tags; //the number// of unique tags that correspond to a particular piece of information, and// how many times that same tag is used// to describe other pieces of information, the higher the efficiences are when users sort and filter the information.  ([[Kim2012FolksonomySearch]], [[Wu2015ItemRecommendation]], [[Hirsu2015TagWriting]], [[Snyder2004NewMedia]], [[Nocera2011SocialFolksonomy]])

 //Flexibility// in a database structure is a common theme, abundant throughout the authors' writings. Specifically, flexibility in [[how a user tags|How Users Tag]], who is permitted to tag and [[how the information is retrieved|Image Retrieval]] makes the biggest difference in a folksonomy's creation and upkeep.  Yet it has to start within the depths of the database's structure; how sharing and editing privileges are assigned, how tags are incorporated within the information and what kind of information creates the folksonomy (i.e. photos, text, video, etc.)



At this stage of tagging in the project space (as of this writing in March 2016), [[Nocera2011SocialFolksonomy]] would concur that &quot;low structural cohesion&quot; exists; limited users have committed updates to the photos, incorporating tags within the predefined parameters of ''ethnicity,'' ''activity'' and ''location''.  This, of course, could shift to &quot;high structural cohesion&quot; with a higher number of volunteer taggers (users) adding tags to the photos, working with a larger net of community members (resources).  The tagging structure could be expanded upon to include themes beyond the predefined  ''ethnicity,'' ''activity'' and ''location.''</pre>
</div>
<div color="#66ccff" created="20160325200317008" description="Gruber, T.  (2008).  Collective knowledge systems: Where the Social Web meets the Semantic Web.  Web Semantics: Science, Services and Agents on the World Wide Web, 6, 4-13." modified="20160325210854383" tags="Reference Thesis" title="Gruber2008CollectiveKnowledge" tmap.id="3813f7f2-a474-4762-8225-454fb3c30872">
<pre>Gruber, T.  (2008).  Collective knowledge systems: Where the Social Web meets the Semantic Web.  Web Semantics: Science, Services and Agents on the World Wide Web, 6, 4-13.

!!!{{description!!}}</pre>
</div>
<div created="20160323105811608" modified="20160323105811608" title="Have fun with" tmap.edges="{&quot;234fda04-786c-4344-bdc6-4f33941164b6&quot;:{&quot;to&quot;:&quot;20237575-a86c-4729-83a8-68f961a0e335&quot;,&quot;type&quot;:&quot;tmap:unknown&quot;}}" tmap.id="11c9ce2c-8cb1-489a-b8f3-d7cf84eefc60">
<pre></pre>
</div>
<div color="#66ccff" created="20160214163329416" description="Hirsu, L. (2015).  Tag Writing, Search Engines, and Cultural Scripts.  Computers and Composition, 35, 30-40." modified="20160326175040983" tags="Reference Thesis" title="Hirsu2015TagWriting" tmap.id="0235530f-8180-442e-8d41-0c8d4844fd14">
<pre>Hirsu, L. (2015).  Tag Writing, Search Engines, and Cultural Scripts.  Computers and Composition, 35, 30-40.


!!!{{description!!}}</pre>
</div>
<div color="#ff6fcf" created="20160319192750529" modified="20160326220920921" tags="Tagging [[Literature Review]] Thesis Hypertext Cantador2011Categorising Strohmaier2012TaggingMotivation Zhang2013SocialImageTagging Kim2012FolksonomySearch deFigueiredo2015ContextContent Qian2013Vocabularies Zheng2011RecommenderSystem Xie2016IncorporatingSentiment Snyder2004NewMedia Ley2015HumanCategorization Hirsu2015TagWriting Lee2010TagRefinement Cai2014Exploring TiddlyWiki" title="How Users Tag" tmap.id="2aac4b87-a2a7-489d-aaf8-dfb7d3381ac5">
<pre>The majority of the authors weighed in on the topic of //how users tag//, and while each article was presented with its own theory, many theories have substantial overlapping ideals. 

The authors consistently agree that a user's vocabulary is his or hers personal and best tool for creating their own individual mark in a folksonomy.  [[Lee2010TagRefinement]], [[Strohmaier2012TaggingMotivation]], [[Kim2012FolksonomySearch]] call an individual user's vocabulary a ''personomy''.

Currently (March 2016), those individuals in the photos are not physically tagging themselves; volunteer taggers are working with community members to correctly tag images.  The community members' vocabularies are being used to create tags, and in certain instances, the volunteer taggers tag photos with their own vocabularies based on obvious features in the photo (ex: &lt;&lt;tag &quot;Sticking Tongue Out&quot;&gt;&gt; of Photo 100.)


For example, here is an example shared from [[Lee2010TagRefinement]]'s scholarly work:

{{Lee2010Tag Image}}

The images above are examples of individual personomies at play.  What the authors did not share, however, were how many times any one of these tags were applied by different users to the same image.

Here we realize another affordance of utilizing ~TiddlyWiki for this photo project; although multiple users have the ability to tag the photos, any single tag may only be used //once// per photo, //unless// a user applied an-almost identical tag with different punctuation, or upper/lower case spelling from the initial tag.

The authors also discuss the concept of //noisy tags//; these are tags that were applied to describe an image, yet the tag does not correlate with any visual marker within the picture.

As of this writing (March 2016), we do not see the concept of &quot;noisy tags&quot; taking place in the photo project.  It appears the volunteer taggers are tagging photos with a precision and attention to detail which is quite uncommon for a standard folksonomy.  However, it has been determined that this photo project is //not// a standard folksonomy because of its cultural and historical importance.  (Also, only a selected few volunteer taggers have been solicited for help with this project; if this project had a wide audience (such as seen with folksonomies built in Flickr, for example) then the tendency for //noisy tag presence// would escalate quickly.

[[deFigueiredo2015ContextContent]] dives a bit deeper into the technical &quot;how&quot; a user tags:

&gt;(1) manually, where the user performs the photo annotations himself; 
&gt;(2) semi-automatically, where an application helps the user to annotate the photograph; and 
&gt;(3) automatically, where an application annotates the photographs, perhaps with the help of external sources and content-based techniques.

What deFigueiredo et al are presenting are the current (in 2016) standard procedures for photo tagging; they are not offering a new discovery or technique in how users tag, here.  

By using ~TiddlyWIki, volunteer taggers hover between (1) and (2), above.  By using [[PopUp Tagger|Spring 2016 - Integrating PopUp Tagger]], volunteer taggers are presented with a few preset tag options, and through a video tutorial, are shown how to create additional tags.  The ~PopUp Tagger //is// the application that helps volunteer taggers tag the photos.

Option (3) is one of interest as well; this is moving into the realm of building algorithms (akin to the photo tagging tool of Facebook); at this time, such a tool does not exist in the ~TiddlyWiki platform... but the beauty of using ~TiddlyWiki is that this could be an option in the future!</pre>
</div>
<div color="#cc66ff" created="20160319140826400" modified="20160319142055197" tags="Thesis Themes" title="Hypertext" tmap.id="5348ee18-a736-4661-a100-4c84d4563e47">
<pre>//Hypertext// is the ability to link words, images and media to other words, images and media.

In practice, while reading this, //hypertext// enables readers to either continue reading this, or [[jump to this instead|Themes]].

Depending on the linking structure, one can navigate a hypertext linearly (one hypertext node to another hypertext node) or multi-linearly (one hypertext node to many hypertext nodes, etc.)

&lt;&lt;list-links &quot;[tag[Hypertext]]&quot;&gt;&gt;</pre>
</div>
<div color="#ff6fcf" created="20160319192955968" modified="20160320000255406" tags="Tagging [[Literature Review]] Thesis Hypertext" title="Image Retrieval" tmap.id="8b1aa31d-069c-4226-a383-463560eeb314">
<pre>The ability to successfully and efficiently retrieve information (images) is directly related to the quality of how the photos are tagged...

&lt;&lt;list-links &quot;[tag[Image Retrieval]]&quot;&gt;&gt;</pre>
</div>
<div created="20160319131215116" modified="20160319131244740" tags="thoughts Lee2010MAP" title="images...more images" tmap.id="824f9551-1bb0-43e1-b374-b5e507a2b752">
<pre>*argument of &quot;ever-increasing amount of user-generated images, manually adding tags can be considered infeasible.  Moreover, users experience manual annotation as time-consuming and cumbersome.&quot; - for this project, not currently relevant as we're only working with a small subset of past photos, but if new photos are added to the repository, that may change.</pre>
</div>
<div created="20160321183235677" modified="20160326171627195" tags="Thesis TOC Contents" title="Introduction" tmap.id="50544454-2e5b-4034-a563-0bcee5e8ded6">
<pre>I was first introduced to the concept of this project during Summer term of 2015; Dr. Kathryn Stam expressed a need of having a large quantity of photos housed in one area, where they could be tagged and sorted.  That summer, another IDT student worked on uploading pictures and tagging them in Flickr.  Flickr, however, only provides a means of tagging photos, it does not offer the capabilities of //sorting// or //filtering// photos by tag.

During the Summer and Fall terms of 2015, I learned the basics of Tiddlywiki from Dr. Steven Schneider, from work on a [[children's e-book project|https://dl.dropboxusercontent.com/s/nyh5op5qv1tykbj/krausek.html?dl=0]] and an [[independent study|http://krausek.github.io/karen-indstudy/hypertext.html]].

Fast-forward to October of 2015, Dr. Stam joined Dr. Schneider on the IDT Hangout weekly Zoom sessions.  She expressed again her desire to have these photographs uploaded in a manner that would allow them to be tagged richly and easily filtered.

Eureeka!  [[This project|http://stamphoto-sunypoly.tiddlyspot.com/#]] is a sampling of the photos Dr. Stam shared with me: nearly 200 out of her mass repository of 20,000+, richly tagged with filtering capabilities to allow users to sort by themes of &quot;ethnicity, activity and location&quot;, and by user-defined tags.
</pre>
</div>
<div created="20160320190838188" modified="20160320235250034" tags="Thesis [[Literature Review]] Kim2012FolksonomySearch Tagging [[Image Retrieval]] Understandings Folksonomy Hypertext" title="Kim et all's view of image retrieval" tmap.id="080ef111-8863-4415-b700-e8fc90db22a2">
<pre>&gt;Although social tagging presents promising possibilities for facilitating better search results, personalized searches incorporating social tagging encounter serious limitations regarding quality evaluation.  [[Kim2012FolksonomySearch]]

As other authors have lamented, the credibility of image retrieval in a folksonomy is only as good as the tags that have been incorporated into the folksonomy.

As of this writing (March 2016), the current issue presented is not the quality of tags, but the amount of photos that have been tagged.  The above mentioned statement //could// be a concern based on how many volunteer taggers work on this project and what they choose to tag to each photo.  However, the credibility of the volunteer taggers remains high; this is still important to consider if this project continues to evolve.</pre>
</div>
<div color="#66ccff" created="20160214163544145" description="Kim, H., Rawashdeh, M., Alghamdi, A., Saddik, A. (2012).  Folksonomy-based personalized search and ranking in social media services. Information Systems, 37, 61-76." modified="20160325195301333" tags="Reference Thesis" title="Kim2012FolksonomySearch" tmap.id="6ee3290d-aeb2-4683-a458-580b1277a405">
<pre>Kim, H., Rawashdeh, M., Alghamdi, A., Saddik, A. (2012).  Folksonomy-based personalized search and ranking in social media services. Information Systems, 37, 61-76.

!!!{{description!!}}</pre>
</div>
<div color="#66ccff" created="20160213184546144" description="Lee, S., De Neve, W., Plataniotis, K., Ro, Y. (2010).  MAP-based image tag recommendation using a visual folksonomy.  Pattern Recognition Letters, 31, 976-982." modified="20160325195325448" tags="Reference Thesis" title="Lee2010MAP" tmap.id="08fa8636-a9bb-47f8-b435-58c734905f19">
<pre>Lee, S., De Neve, W., Plataniotis, K., Ro, Y. (2010).  MAP-based image tag recommendation using a visual folksonomy.  Pattern Recognition Letters, 31, 976-982.

!!!{{description!!}}</pre>
</div>
<div created="20160326205519359" modified="20160326210320244" tags="Thesis Image" title="Lee2010Tag Image" tmap.id="98b9db8b-5e63-492a-9489-6f2a3cbe78dc">
<pre>[img width=500 [https://raw.githubusercontent.com/krausek/karen-indstudy/gh-pages/idt_thesis_2016_images/Lee2010%20Image.jpg]]</pre>
</div>
<div color="#66ccff" created="20160214163057392" description="Lee, S., De Neve, W., Ro, Y. (2010).  Tag refinement in an image folksonomy using visual similarity and tag co-ocurrence statistics.  Signal Processing: //Image Communication//, 25, 761-773." modified="20160325195348106" tags="Reference Thesis" title="Lee2010TagRefinement" tmap.id="3bb6e57f-848a-47ce-a483-0e59636fbbb0">
<pre>Lee, S., De Neve, W., Ro, Y. (2010).  Tag refinement in an image folksonomy using visual similarity and tag co-ocurrence statistics.  Signal Processing: //Image Communication//, 25, 761-773.

!!!{{description!!}}</pre>
</div>
<div color="#66ccff" created="20160214164256677" description="Ley, T., Seitlinger, P.  (2015).  Dynamics of human categorization in a collaborative tagging system: How social processes of semantic stabilization shape individual sensemaking.  Computers in Human Behavior, 51, 140-151." modified="20160325195412207" tags="Reference Thesis" title="Ley2015HumanCategorization" tmap.id="08649666-2244-4482-9f27-2611c58a8888">
<pre>Ley, T., Seitlinger, P.  (2015).  Dynamics of human categorization in a collaborative tagging system: How social processes of semantic stabilization shape individual sensemaking.  Computers in Human Behavior, 51, 140-151.

!!!{{description!!}}</pre>
</div>
<div color="#ff0080" created="20160319182759861" description="Go back to [[Welcome!]]" modified="20160326215625335" tags="Thesis TOC Contents" title="Literature Review" tmap.id="88284646-c02a-41ee-8442-84b2a2a1e583">
<pre>There are multiple ways that one can review the literature:

#  By &lt;&lt;tag &quot;Themes&quot;&gt;&gt;

# By &lt;&lt;tag &quot;Literature Review&quot;&gt;&gt;

# By content area:

&lt;&lt;list-links &quot;[tag[Literature Review]]&quot;&gt;&gt;
</pre>
</div>
<div color="#66ccff" created="20160323222558581" description="Mika, P.  (2007).  Ontologies are us: A unified model of social networks and semantics.  Web Semantics: Science, Services and Agents on the World Wide Web, 5, 5-15." modified="20160325210900247" tags="Reference Thesis" title="Mika2007OntologiesAreUs" tmap.id="f4dafd9f-f5b4-4963-a555-109d13251c3a">
<pre>Mika, P.  (2007).  Ontologies are us: A unified model of social networks and semantics.  Web Semantics: Science, Services and Agents on the World Wide Web, 5, 5-15.

!!!{{description!!}}</pre>
</div>
<div color="#66ccff" created="20160319133322775" description="Nelson, T.H. (1987). Literary Machines.  South Bend, Indiana: The Distributors." modified="20160325195435998" tags="Reference Thesis" title="Nelson1987LiteraryMachines" tmap.id="8b7c701a-684f-43bc-b3c2-6274337c6033">
<pre>Nelson, T.H. (1987). Literary Machines.  South Bend, Indiana: The Distributors.


!!!{{description!!}}</pre>
</div>
<div created="20160319192244079" modified="20160319200035041" tags="Nocera2011SocialFolksonomy Thesis [[Literature Review]] Tagging [[Tag Recommendation]] Folksonomy" title="Nocera et all's view of tag recommendation" tmap.id="5977fc2a-73a5-4618-ad90-76e073977962">
<pre>[[Nocera2011SocialFolksonomy]] presents the following regarding effective usage and implementation of tags:

&gt;An important issue that must be faced in a folksonomy context is the possible presence of tag synonymies and homonymies.  A tag synonymy indicates that two tags represent the same concept.  A tag homonymy denotes that the same tag represents different concepts in different situations.

At the time of this writing (March 2016), tag synonyms and homonyms are not prevalent in the project space.  A rather weak example of an existing tag synonym is the author's choice of &quot;Sporting Event&quot; as a tag choice and the volunteer tagger's creation and choice of &quot;Soccer Tournament.&quot;  &quot;Sporting Event&quot; has not been used at this time, while &quot;Soccer Tournament&quot; has; &quot;Soccer Tournament&quot; is much more descriptive of the activities taking place in the photos than &quot;Sporting Event.&quot;  Just the same, &quot;Sporting Event&quot; still remains an optional tag to be used.  (This would be an actual example of a tag synonym if both &quot;Sporting Event&quot; and &quot;Soccer Tournament&quot; were used to tag the same photo.)

Many author's cite inconsistencies with the vocabulary of user's image tags; for example, users will tag a photo with the sun in it: &quot;sun,&quot; &quot;sunrise,&quot; &quot;sunset,&quot; &quot;Sunny;&quot; &quot;SUNSHINE,&quot; etc., with inconsistent spelling and capitalization.

</pre>
</div>
<div color="#66ccff" created="20160214163420784" description="Nocera, A., Ursino, D. (2011).  An approach to providing a user of a &quot;social folksonomy&quot; with recommendations of similar users and potentially interesting resources.  Knowledge-Based Systems, 24, 1277-1296." modified="20160325195506803" tags="Reference Thesis" title="Nocera2011SocialFolksonomy" tmap.id="5dae293f-8077-4894-8872-55ce47aeee48">
<pre>Nocera, A., Ursino, D. (2011).  An approach to providing a user of a &quot;social folksonomy&quot; with recommendations of similar users and potentially interesting resources.  Knowledge-Based Systems, 24, 1277-1296.

!!!{{description!!}}</pre>
</div>
<div created="20160306202640582" description="Go back to [[Why more than one webpage?]]" modified="20160306202703563" tags="Explanation Thesis" title="Parent and child tags" tmap.id="6a954854-5346-44e3-9f55-92f12203ed21">
<pre>A ''Parent'' tag is considered a tag of an overarching theme, while a ''child'' tag is a descriptor of the parent tag.


In the instance of this project, //Parent// tags include:

*Activity
*Location
*Ethnicity

While //child// tags include:

''Activity''

* Dancing
*Eating-Drinking
*Playing

''Location''

*Community Center
*Festival
*Home 

''Ethnicity''

*Bhutanese-Nepali
*Mixed Ethnic Groups
*Somali-Bantu

These are just a few examples of the many tags that have been used in this project.


!!{{!!description}}</pre>
</div>
<div created="20160320140150469" modified="20160320155828727" tags="Thesis [[Literature Review]] Qian2013Vocabularies [[Image Retrieval]] Tagging" title="Qian et all's view of image retrieval" tmap.id="41f63230-3f9d-42db-99b7-1013210ad7b7">
<pre>&gt;Online social image share websites...allow users to manually annotate their images with their own words, which can be used to facilitating image retrieval. ...Tags are of great significance to image retrieval and image understanding.  [[Qian2013Vocabularies]] 

It is reasonable to presume that photos tagged with one's own vernacular would result in speedier retrieval.  What one may not fully comprehend in an image may be supplemented through written tags.

In the photo project, there are photos that the ''activity'' and ''location'' can be ascertained by basic reference points within the image.  However, the finer details of what a specific event is, what the actions are, etc. may not be as readily identifiable based on visual cues alone.  Precise and accurate tag language helps users unfamiliar with the photos facilitate a broader awareness of the actions taking place and who is involved.  It also serves as a reminder to those in the tags of the activity, and may even influence additional tags of greater precision of the activities, location and persons involved.</pre>
</div>
<div created="20160320141118100" modified="20160320160742935" tags="Thesis [[Literature Review]] Qian2013Vocabularies Tagging [[Tag Recommendation]]" title="Qian et all's view of tag recommendation" tmap.id="19ed4674-376f-407c-9a44-6e1cb5f62684">
<pre>&gt;It is easily recognized and accepted that visually similar images captured in the same place or in the same period of time may be also relevant in contents.  [[Qian2013Vocabularies]] 

We see other authors arriving at the same conclusion; a group of photos taken at the same geographical location, or, depending on the activity, within a few hours of each other, will share similarities that can be easily identified through the integration of quality tags.

For the photo project, this is true of the photos leading up to the &lt;&lt;tag &quot;Festival&quot;&gt;&gt;; a series of photos are taken indoors before the festivities start, and a series of photos are taken during the festival.  The tags produced from the pre- and during- festival would satisfy Qian et all's statement, as they have relevance because of being taken at the same location and in a specific time duration.
</pre>
</div>
<div color="#66ccff" created="20160214164359726" description="Qian, X., Liu, X., Zheng, C., Du, Youtian, Hou, X.  (2013).  Tagging photos using users' vocabularies.  Neurocomputing, 111, 144-153." modified="20160325195529230" tags="Reference Thesis" title="Qian2013Vocabularies" tmap.id="7065f282-8be1-47d5-90b6-1c4403e415a6">
<pre>Qian, X., Liu, X., Zheng, C., Du, Youtian, Hou, X.  (2013).  Tagging photos using users' vocabularies.  Neurocomputing, 111, 144-153.


!!!{{description!!}}</pre>
</div>
<div created="20160220200702025" modified="20160220224246076" tags="thoughts" title="questions" tmap.id="42ad4713-6fbb-445e-b670-d0fbb6111cf5">
<pre># research says &quot;tags are social cues&quot;; but how does this differentiate in an academic setting?

# do we care about the tags- what I create for others to use vs. what others make up on their own?

#would this be considered a social tagging system?

#is this project the sake of a having an easily-usable and sortable tagging repository, or is it to be used as a multi-linear tagging structure? - 
!! BINGO</pre>
</div>
<div color="#0000ff" created="20160321183343872" modified="20160326215543439" tags="Thesis TOC Contents" title="Reference" tmap.id="5314ff39-5b46-4446-9fa3-2b59c18134f3">
<pre>&lt;dl&gt;{{{ [tag[Reference]] || tocEntry }}}&lt;/dl&gt;

</pre>
</div>
<div created="20151007000337735" modified="20151009185022999" tags="TW5" title="RenameTags" tmap.id="77099d3f-e1d9-45bc-8b17-bf22711bcdf2">
<pre>This great trick was shown to the tiddlywiki google group by [[Alberto Molina|https://groups.google.com/forum/#!topic/tiddlywiki/OCntQ79DuwM]]. I enhanced it a bit.

|!Search tag: | &lt;$edit-text tiddler=&quot;$:/temp/RenameTags/search&quot; tag=&quot;input&quot; type=&quot;text&quot;/&gt; |
|!Replace by: | &lt;$edit-text tiddler=&quot;$:/temp/RenameTags/replace&quot; tag=&quot;input&quot; type=&quot;text&quot;/&gt; |

---
&lt;$reveal type=&quot;nomatch&quot; text=&quot;&quot; state=&quot;$:/temp/RenameTags/replace&quot;&gt;

!First step
!!//Apply the tag &lt;$tiddler tiddler={{$:/temp/RenameTags/replace}}&gt;&lt;$transclude tiddler=&quot;$:/core/ui/TagTemplate&quot;/&gt;&lt;/$tiddler&gt; to the following tiddlers//
&lt;$list filter=&quot;[!has[draft.of]tag{$:/temp/RenameTags/search}!tag{$:/temp/RenameTags/replace}sort[created]]&quot;&gt;
&lt;$checkbox tag={{$:/temp/RenameTags/replace}}&gt; &lt;$link to={{!!title}}&gt;&lt;$view field=&quot;title&quot;/&gt;&lt;/$link&gt;&lt;/$checkbox&gt;&lt;br/&gt;
&lt;/$list&gt;
&lt;/$reveal&gt;

&lt;$reveal type=&quot;nomatch&quot; text=&quot;&quot; state=&quot;$:/temp/RenameTags/search&quot;&gt;

!Second step
!!//Remove the tag &lt;$tiddler tiddler={{$:/temp/RenameTags/search}}&gt;&lt;$transclude tiddler=&quot;$:/core/ui/TagTemplate&quot;/&gt;&lt;/$tiddler&gt; from the following tiddlers//
&lt;$list filter=&quot;[!has[draft.of]tag{$:/temp/RenameTags/search}tag{$:/temp/RenameTags/replace}sort[created]]&quot;&gt;
&lt;$checkbox tag={{$:/temp/RenameTags/search}}&gt; ~~&lt;$link to={{!!title}}&gt;&lt;$view field=&quot;title&quot;/&gt;&lt;/$link&gt;~~&lt;/$checkbox&gt;&lt;br/&gt;
&lt;/$list&gt;
&lt;/$reveal&gt;</pre>
</div>
<div created="20160326162716842" modified="20160326164910465" tags="Welcome! Thesis" title="Reviewing this thesis" tmap.id="b8d1b787-6417-4f6f-9f68-942da52b71c5">
<pre>!!!Hello!  Is this your first time navigating through at ~TiddlyWiki?  The joy of reading in a hypertext platform is the path of discovery a user chooses to take... yet it can also be quite confusing.

Please note the sidebar on the ''RIGHT'' side of the screen; this thesis is linked so that it may be viewed in a &quot;regular,&quot; chronological order.

Clicking on the carrots &quot;''&gt;''&quot; between a number and title will produce a drop-down menu with other boxes of information tagged to the title.  These boxes of information are called &quot;tiddlers.&quot;

For additional ease in navigation, you'll also notice &quot;first previous [[Welcome!]] next last&quot; at the bottom of every tiddler; clicking on any of these will direct you to the first tiddler in the series, the previous one you were just viewing, taking you back to the [[Welcome!]] tiddler, taking you to the next sequential tiddler, or taking you to the last tiddler in the series.

[[Words that you see in blue|Welcome!]] are hyperlinked to another tiddler; this has been done as a way of linking ideas across different sections.

Every tiddler has been has some level of &lt;&lt;tag &quot;Tagging&quot;&gt;&gt;.  By clicking this button, a drop down menu will populate with every other tiddler sharing this same tag.

After you've finished reading a tiddler and you want to close it, please click on &quot;close&quot; //within// the tiddler.

If you find yourself getting buried in tiddlers and want to start afresh, click &quot;close all&quot; on the ''RIGHT'' to close every tiddler, then click on &quot;home&quot; to open up the [[Welcome!]] tiddler.

!!Enjoy! :)</pre>
</div>
<div color="#66ccff" created="20160316235135787" description="TiddlyWiki. (n.d.). Retrived March 16, 2016 from http://tiddlywiki.com/" modified="20160325195605431" tags="Reference Thesis" title="Ruston2016TiddlyWiki" tmap.id="0d0f9e24-38f1-4491-a091-7017779cd783">
<pre>~TiddlyWiki. (n.d.). Retrived March 16, 2016 from http://tiddlywiki.com/

!!!{{description!!}}</pre>
</div>
<div created="20160321141345040" modified="20160325202342554" tags="TOC Thesis Contents" title="Signature - Title Page" tmap.id="0f47c426-2745-4892-9235-131bc5a759f7">
<pre>[img [https://raw.githubusercontent.com/krausek/karen-indstudy/gh-pages/idt_thesis_2016_images/FOLKSONOMY%20AFFORDANCES%20OF%20UTILIZING%20A%20HYPERTEXT%20PLATFORM%20TO%20CREATE%20A%20TAG.jpg]]</pre>
</div>
<div color="#66ccff" created="20160214164544805" description="Snyder, I.  (2004).  New media and cultural form: narrative versus database.  In A.Adams &amp; S. Brindley (Eds.), Teaching English with ICT (pp. 67-79).  London, England: Open University Press &amp; ~McGraw Hill." modified="20160325210905550" tags="Reference Thesis" title="Snyder2004NewMedia" tmap.id="699f7b79-80ea-408f-b164-652ae527a498">
<pre>Snyder, I.  (2004).  New media and cultural form: narrative versus database.  In A.Adams &amp; S. Brindley (Eds.), Teaching English with ICT (pp. 67-79).  London, England: Open University Press &amp; ~McGraw Hill.

!!!{{description!!}}</pre>
</div>
<div created="20160306203130470" modified="20160326162428402" tags="Approach Thesis [[Approach Phase 2]]" title="Spring 2016 - Integrating PopUp Tagger" tmap.id="816fff2d-3952-4487-84d8-d14c91f77446">
<pre>As described [[here|Why more than one webpage?]], ~PopUp Tagger was presented as a powerful tool.

Since other students would be coming on board to help with tagging, using ~PopUp Tagger would greatly simplify the tagging process; [[choosing from a dropdown listing of tags or easily creating more|What tags were included at the start?]].

After releasing the second incarnation of the project, students began playing in the new project space and responded with:

&gt;It's great!  So easy to use!  I think we're going to get a lot done quickly! 

Event better, students [[developed their own tags|Additional tags created]].</pre>
</div>
<div created="20160306202934007" modified="20160326162440716" tags="Approach Thesis [[Approach Phase 2]]" title="Spring 2016 - Slight change of focus" tmap.id="8f312d1f-61b5-457d-8a01-237107cbfc12">
<pre>The initial plan was that I would travel from my hometown of Oneonta to Utica to work with the residents who could identify the ''ethnicity, location'' and ''activity'' within each picture.

Dr. Stam identified students from other institutions who were willing, able and interested in assisting with this project.

Instead, Dr. Stam asked that I create instructions on how to use the website so that her students could work with community members to tag the photos, so that it was no longer necessary that I travel.

A new question arose; how could the ~TiddlyWiki be modified so that anyone (with a username and password, of course!) be able to add tags, modify pictures and save?

Lightbulb moment!  [[TiddlySpace|About TiddlySpace]].</pre>
</div>
<div color="#66ccff" created="20160214163827060" description="Strohmaier, M., Korner, C., Kern, R.  (2012).  Understanding why users tag: A survey of tagging motivation literature and results from an empiracal study.  We Semantics: Science, Services and Agents on the World Wide Web, 17, 1-11." modified="20160326190329850" tags="Reference Thesis" title="Strohmaier2012TaggingMotivation" tmap.id="14ce8d75-f027-46d8-a414-7a75c7e596d1">
<pre>Strohmaier, M., Korner, C., Kern, R.  (2012).  Understanding why users tag: A survey of tagging motivation literature and results from an empiracal study.  We Semantics: Science, Services and Agents on the World Wide Web, 17, 1-11.

!!!{{description!!}}</pre>
</div>
<div color="#ff6fcf" created="20160319192616052" modified="20160326213207742" tags="[[Literature Review]] Thesis Tagging Hypertext" title="Tag Recommendation" tmap.id="4b665751-1966-4241-be76-f77294b01fd0">
<pre>Tag writing may seem to be a convenient way of (re)arranging digital information; however, tagging is more that a form of structural language.  This practice creates content and builds cultural discourses.HIRSU2015

The vast majority of authors created complex algorithms to define, as they see it, the most efficient way to tag photos.

&lt;&lt;list-links &quot;[tag[Tag Recommendation]]&quot;&gt;&gt;</pre>
</div>
<div color="#ff6fcf" created="20160326185401605" modified="20160326192359415" tags="Thesis [[Literature Review]] Cantador2011Categorising Nocera2011SocialFolksonomy Xie2016IncorporatingSentiment Hirsu2015TagWriting Strohmaier2012TaggingMotivation Tagging Hypertext Folksonomy [[Utica Community Members]]" title="Tag Types" tmap.id="bd146fe8-7829-4c6e-8a00-6340175966e6">
<pre>The conscious choices of [[how a user decides to tag information|How Users Tag]] differs from //how tags are categorized.//

For example, [[Cantador2011Categorising]] views tags as fitting into four distinct areas:

&gt;# ''content-based'', that describe the content of the items;
&gt;# ''context-based'', that provide contextual information about the items;
&gt;# ''subjective'', that express opinions and qualities of the items;
&gt;# ''organisational'', that define personal usages and tasks, or indicate self-references

As of this writing (March 2016), the volunteer taggers have created tags that fit into the ''content-based'' and  ''context-based'' areas of the aforementioned.

Similarly, [[Strohmaier2012TaggingMotivation]] views tags as fitting into, &quot;''organizational''&quot; and &quot;''social''&quot; themes.

//Here we uncover &lt;&lt;tag &quot;Understandings&quot;&gt;&gt; from the project.//

As this photo project is a folksonomy of historical photos of [[Utica Community Members]] lives, the current tagging structure is set up to be &quot;''organizational''&quot;; the present goal (as of this writing, March 2016) is to have a demonstrative database that could potentially and eventually house all 20,000 photographs.  Once the basics of ''ethnicity, activity'' and ''location'' are tagged to the photos, the tagging structure could be expanded upon to include ''&quot;social&quot;'' themes.

Yet, regardless of the labels that the authors have created to identify types of tags ([[Cantador2011Categorising]], [[Hirsu2015TagWriting]], [[Strohmaier2012TaggingMotivation]], [[Xie2016IncorporatingSentiment]]) , the authors agree that users will tag information in a folksonomy for two distinct purposes of &quot;resource labeling and resource retrieval,&quot; ([[Nocera2011SocialFolksonomy]].)  This is, ultimately, the number one goal of this photo project as well; creating and executing reliable means to tag and recover photographs.
</pre>
</div>
<div color="#000080" created="20160317002402875" modified="20160317002402875" title="tagging" tmap.id="323f1834-6f35-45d8-9908-602585ced016">
<pre></pre>
</div>
<div color="#cc66ff" created="20160319134032122" modified="20160319141253326" tags="Thesis Themes" title="Tagging" tmap.id="52d24c88-9c42-422b-b823-e87ce8279b64">
<pre>For the sake of this project, //tagging// is defined as the literal act of attaching descriptor words to an image.

&lt;&lt;list-links &quot;[tag[Tagging]]&quot;&gt;&gt;</pre>
</div>
<div color="#000000" created="20160325210916094" modified="20160325210916094" title="template" tmap.id="c80ee7e3-ef7e-4ea9-8d6f-31a33a02ce57">
<pre></pre>
</div>
<div created="20160321141142261" modified="20160325204629642" tags="Thesis TOC Contents" title="The Project Space" tmap.id="012eab59-1dd7-435a-a047-ab53410c3f76">
<pre>Here's an iframe of the website (you can scroll up and down!):
&lt;html&gt;
&lt;iframe src=&quot;http://stamphoto-sunypoly.tiddlyspot.com/&quot;
  width=&quot;600&quot; height=&quot;800&quot; frameborder=&quot;100&quot; allowfullscreen/&gt;
&lt;/html&gt;

[[Visit the project space!|http://stamphoto-sunypoly.tiddlyspot.com/#]]

When you click on the link above, you'll be transported to the project space; a collection of nearly 200 photos, instructions and video tutorials of how to tag photos, and, by clicking on any of the tags, a means to filter the photos.

</pre>
</div>
<div color="#400080" created="20160317002451485" modified="20160321185355058" tags="Thesis TOC Contents" title="Themes" tmap.id="81950654-0f18-4704-9688-80a7e2e7db25">
<pre># [[Tagging]]
# [[Folksonomy]]
# [[Hypertext]]
# [[TiddlyWiki]]
# [[Utica Community Members]]</pre>
</div>
<div color="#999999" created="20160220213022200" modified="20160220213022200" title="Thesis" tmap.id="2654b86c-610d-4950-a542-a845a56f6226">
<pre></pre>
</div>
<div created="20160218072351714" description="Go back to [[Welcome!]]" modified="20160326174028377" tags="Thesis Contents" title="Thesis Statement &amp; Questions" tmap.id="0c680e66-4d21-4056-a947-ad10a0622924">
<pre>!!Folksonomy affordances of utilizing a hypertext platform to create a tag-rich photo repository

Questions:

# [[How can the integration of hypertext enhance a digital photo repository?|Elements within a folksonomy]]
## [[What is hypertext?]]
## [[Why a folksonomy approach?|Defining Folksonomy]]
#[[What would make Tiddlywiki an ideal platform for a project such as this instead of other popular photo repository programs (such as Flickr, Google Images, etc.)?|TiddlyWiki]]

!!{{!!description}}</pre>
</div>
<div created="20160203042416240" creator="stevesunypoly" modified="20160321140334156" modifier="stevesunypoly" tags="$:/tags/ViewTemplate" title="Thesis Template" tmap.id="5928af5d-0583-409d-bea1-8d919499a6c7">
<pre>&lt;$list filter=&quot;[is[current]tag[TOC]]&quot;&gt;
first previous [[Welcome!]] next last
&lt;hr&gt; template:[[Thesis Template]] 
</pre>
</div>
<div color="#ff8000" created="20160319185347475" modified="20160319185354147" title="thoughts" tmap.id="0ff22163-92f0-48ac-a7c6-8898e2e19665">
<pre></pre>
</div>
<div created="20160220213226473" modified="20160220214658671" tags="thoughts" title="thoughts from readings combined" tmap.id="47d00406-ea4b-41f0-b1b3-d0f5e54da667">
<pre>&lt;&lt;list-links &quot;[tag[thoughts]]&quot;&gt;&gt;</pre>
</div>
<div created="20160323105811609" modified="20160323105811609" title="TiddlyMap!!" tmap.id="20237575-a86c-4729-83a8-68f961a0e335">
<pre></pre>
</div>
<div color="#cc66ff" created="20160319134750002" modified="20160326173916640" tags="Themes Thesis" title="TiddlyWiki" tmap.id="670a2214-9d30-4182-9f06-0201c1c42ff5">
<pre>//~TiddlyWiki// is the platform for both the photo project and this written thesis.  The affordances of using this project are plentiful; from the easy-to-use tagging structure, to the unique filters and sorting mechanisms, //~TiddlyWiki// is a photo ethnographers dream!

!!!Please see also [[Ruston2016TiddlyWiki]]


&lt;&lt;list-links &quot;[tag[TiddlyWiki]]&quot;&gt;&gt;</pre>
</div>
<div color="#cc66ff" created="20160319141258006" modified="20160319141258006" title="Tiddlywiki" tmap.id="7a84b02c-6f8b-4731-a556-f9d085a1d6f6">
<pre></pre>
</div>
<div created="20160316235239095" modified="20160326173903114" tags="Thesis [[Literature Review]] TiddlyWiki" title="Tiddlywiki's evolution" tmap.id="4ef4c034-6912-41a2-b7c1-807b86836fa7">
<pre>[[Jeremy Ruston|https://en.wikipedia.org/wiki/TiddlyWiki]] is the brains behind ~TiddlyWiki.

*~TiddlyWiki has undergone numerous incantations.  It was launched in 2004, growing and evolving into what you see before you now, ~TiddlyWiki5.

*~TiddlyWiki has a devoted team of volunteer developers (see [[http://tiddlywiki.com]], and search for the &quot;Community&quot; tiddler for more information.)

*~TiddlyWiki is an open-sourced wiki; meaning everything pertaining to it is shared within the community and searchable (or just ask the gurus through the ~TiddlyWiki Google Group!)

*An exciting new module is in the works as well!  Check out [[TiddlyMap|http://tiddlymap.org/]].</pre>
</div>
<div color="#000000" created="20160316233406215" list="Abstract [[The Project Space]] [[Signature - Title Page]] Introduction [[Literature Review]] Themes Approach Understandings Conclusion Reference" modified="20160326171901162" title="TOC" tmap.id="b700ce9d-e93b-49e4-8bba-fbd3d199e8f1">
<pre>&lt;&lt;list-links filter:&quot;[tag{!!title}]&quot;&gt;&gt; </pre>
</div>
<div created="20140116120024371" creator="Stephan Hradek" description="Displays a tiddler's title alongside with its description." modified="20140116124643498" modifier="Stephan Hradek" tags="template" title="tocEntry" tmap.id="4aa2abcc-e682-4769-9111-f4db461875f7">
<pre>&lt;dt&gt;&lt;$link&gt;&lt;$view field=&quot;title&quot;/&gt;&lt;/$link&gt;&lt;/dt&gt;&lt;dd&gt;&lt;$transclude field=&quot;description&quot;/&gt;&lt;/dd&gt;</pre>
</div>
<div color="#000000" created="20160319154602499" modified="20160319154602499" title="TW5" tmap.id="76206d41-c4d3-4116-b481-6342d31f7667">
<pre></pre>
</div>
<div created="20160317000221942" modified="20160319133748512" tags="[[Literature Review]] Thesis Lee2010TagRefinement Tagging" title="Types of tags" tmap.id="305b2c8c-96aa-442f-a462-2dd8e5ad0747">
<pre>In the Phase 2 of the project, and with the implementation of the [[PopUp Tagger Tool|Spring 2016 - Integrating PopUp Tagger]], tag types are defined as ''ethnicity'', ''activity'' and ''location''.

As defined below, the majority of the tags created and utilized in this project are ''objective tags.''  Examples of such tags utilized in this project include &lt;&lt;tag &quot;Burmese&quot;&gt;&gt;, &lt;&lt;tag &quot;dancing&quot;&gt;&gt; or &lt;&lt;tag &quot;Home&quot;&gt;&gt;.

&gt;Objective tags are assigned to images because of organizational incentives, providing an answer to the intuitive questions of “who,” “what,” “where,” and “when.”    

&gt;Subjective tags are assigned because of social incentives, providing an answer to the question of ‘how.’  

&gt;To guarantee effective retrieval of user-contributed images from social media applications, it should be clear that images have to be annotated with objective tags.  [[Lee2010TagRefinement]]

An example of ''subjective tags'' being introduced in this project //could// be the  &lt;&lt;tag &quot;Sticking Out Tongue&quot;&gt;&gt;, because it's defining an action; however an argument could be made that even this is an ''objective tag'' because it's identifying the &quot;what&quot; in the various photos this tag is used.</pre>
</div>
<div color="#80ff00" created="20160321183327198" modified="20160325220016077" tags="Thesis TOC Contents" title="Understandings" tmap.id="6caa0c04-bfaf-4874-ab64-8d4af7f081a7">
<pre>&lt;&lt;list-links &quot;[tag[Understandings]]&quot;&gt;&gt;

Although this project does not look at the ehnographical approaches of the volunteer taggers, the fact that this area of interest can be studied and even exists is because of the power of living in the Web 2.0 era.

For example: Utica community members are linked together through their commonality of immigrating to Utica and having their American history documented pictorially.  Volunteer taggers are linked by working with community members to tag the photos provided.  Without having met the community members in person, even I am linked to them through the creation of this project.


</pre>
</div>
<div created="20160220212226166" modified="20160319154953146" tags="thoughts Ley2015HumanCategorization Thesis" title="university setting and tagging experiment" tmap.id="064c998d-757e-424b-8d27-aadb420953e5">
<pre>!!!How exciting to read a study in a university setting with a tagging experiment!


See [[Ley2015HumanCategorization]] for:

# collaborative tagging at a university setting
#a level of understanding for the topic will increase with time; however this may be altered if students of refugee families vs. refugees vs. 'regular' students are the ones conducting the tagging
#different levels of understanding if tags are provided to start vs. students creating their own tags vs. a hybrid of both
# basic vs. super vs. subordinate categories (plant/tree/fir example)
# in group settings, &quot;effectiveness of shared representation&quot; was more impt than time (150)
</pre>
</div>
<div title="Untitled" tmap.id="00c83555-5c0d-4132-a946-e60d76badc74">
<pre>&lt;span class=&quot;tc-tiddler-controls&quot;&gt;
&lt;span class=&quot; tc-reveal&quot;&gt;

    

&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tc-tiddler-controls&quot;&gt;&lt;span class=&quot; tc-reveal&quot;&gt;&lt;/span&gt;&lt;span class=&quot; tc-reveal&quot;&gt;

    
        
        
    

&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tc-tiddler-controls&quot;&gt;&lt;span class=&quot; tc-reveal&quot;&gt;

    
        
    

&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;tc-tiddler-controls&quot;&gt;
&lt;/span&gt;

&lt;span&gt;

&lt;span style=&quot;fill:;&quot; class=&quot;tc-tiddler-title-icon&quot;&gt;

&lt;/span&gt;



&lt;h2 class=&quot;tc-title&quot;&gt;
Fall 2015 - Intro to Project
&lt;/h2&gt;

&lt;/span&gt;

</pre>
</div>
<div color="#cc66ff" created="20160319140207553" modified="20160319141904959" tags="Thesis Themes" title="Utica Community Members" tmap.id="63646c66-8d4e-4823-b040-0d84e8e8d287">
<pre> //Utica Community Members// are those who have immigrated to Utica from other countries, including but not limited to those from; Bhutan, Nepal, Burma, Somailia and other countries.

This project is a thesis project; developing a photo repository and tagging structure for the photos of the Community Members' life in America.  

From the author's viewpoint, this is more than just a thesis project; it is learning and discovering best practices rooted in hypertext theory  to preserve unique histories and cultural identities. 

&lt;&lt;list-links &quot;[tag[Utica Community Members]]&quot;&gt;&gt;</pre>
</div>
<div created="20160316233825009" modified="20160326173901899" tags="Thesis [[Literature Review]] Lee2010TagRefinement TiddlyWiki" title="Utilizing TiddlyWiki as the project platform" tmap.id="20b33a0a-7778-424a-8ce5-65fbf43ffe37">
<pre>&gt;Tagging of personal images mainly serves two purposes… organizational incentives (for future retrieval) [and]...social incentives (to express opinions and beliefs).  [[Lee2010TagRefinement]]

~TiddlyWiki is an excellent platform for this project; as a &quot;non-linear notebook&quot; (http://tiddlywiki.com), ideas may be organized in a multitude of ways.

In this project, each photo is a &quot;tiddler;&quot; consider a &quot;tiddler&quot; as an independent &quot;entry&quot; within the wiki, or as a piece of information, contributing to the whole of the ~TiddlyWiki.

The beauty in utilizing ~TiddlyWiki is that each tiddler (photo) may have (a seemingly) infinite number of tags!

Tags may be color coded (as seen in this write up) and identical tags link to one another.

Try it out!  Click on this tag: &lt;&lt;tag &quot;Literature Review&quot;&gt;&gt; ; every tiddler in this wiki tagged with &quot;Literature Review&quot; populates in a drop down box under the tag!

!![[Here is a brief history of TiddlyWiki.|Tiddlywiki's evolution]]</pre>
</div>
<div created="20160214164447653" description="Van Laere, O., Schockaert, S., Dhoedt, B.  (2013).  Georeferencing Flickr resources based on textual meta-data.  Information Sciences, 238, 52-74." modified="20160325195745815" tags="Reference Thesis" title="VanLaere2013Georeferencing" tmap.id="5993cc7a-d610-40c7-ba98-19d2a8847692">
<pre>Van Laere, O., Schockaert, S., Dhoedt, B.  (2013).  Georeferencing Flickr resources based on textual meta-data.  Information Sciences, 238, 52-74.

//Although I read this, I didn't find anything helpful pertaining to this project.  Perhaps if we were to look at image meta-data in the future could techniques that this paper provides be useful.//

!!!{{description!!}}</pre>
</div>
<div created="20160321141304049" modified="20160321141338918" tags="TOC Thesis" title="Video of my final presentation" tmap.id="686cdb2b-cc23-46dd-9f23-84f8747c68b8">
<pre>youtube stuff</pre>
</div>
<div color="#ff6fcf" created="20160319185443846" modified="20160326173903770" tags="Thesis [[Literature Review]] Hypertext Folksonomy [[Wikipedia: Web 2.0]] Tagging Cantador2011Categorising Cai2014Exploring Zhang2013SocialImageTagging Kim2012FolksonomySearch Zheng2011RecommenderSystem Nocera2011SocialFolksonomy Xie2016IncorporatingSentiment Snyder2004NewMedia Mika2007OntologiesAreUs Gruber2008CollectiveKnowledge [[Utica Community Members]] TiddlyWiki" title="Web 2.0 Influences" tmap.id="4ae4c12d-5abc-4022-8b58-1ed98765f8f3">
<pre>Wikipedia cites //Web 2.0// as the following:

&gt;Web 2.0 describes World Wide Web sites that emphasize user-generated content, usability, and interoperability.  [[Wikipedia: Web 2.0]]

The key word of this statement is ''user''; Web 2.0 is characterized by being user-centric.  Technology permits users to create their own information and share that information with a limited audience, or for the whole world to view.

In the case of folksonomies, this means that where one user produces and shares information, (depending on sharing privileges) other users may retrieve said information and add, or modify, the information based on //their view// of what is being presented.  The power of &lt;&lt;tag Hypertext&gt;&gt; makes this easy, as the act of &lt;&lt;tag Tagging&gt;&gt; is quite similar across multiple social platforms.

In general, when one thinks of the structure of such a social platform, the consensus is //because// it’s a social platform, it was always intended to take that form.  [[Kim2012FolksonomySearch]], however, makes an interesting observation; because of the influences of Web 2.0, folksonomies may be created //gradually//.  Sometimes, when information is uploaded to a social platform, the “owner” (synonymous in the literature with the generic term, “user”) of the information is sharing //for the sake of sharing.//  However, depending on the user’s online connections, other users may view and //intentionally tag// the information, with vocabularies that are unique to each users; voila!  A folksonomy emerges from a seemingly &quot;regular&quot; set of data.

Web 2.0 provides a vast array of affordances for users to interact, share and learn.  For example, [[Xie2016IncorporatingSentiment]] references social sharing networks such as Flickr and Del.icio.us, whose affordances are related to their informal, yet community-inspiring tagging capabilities.

Likewise, this photo project also offers similar affordances.  Although the photos are related to the [[Utica Community Members]], the &quot;community&quot; extends to those involved with this photo project- this author, the Professors, volunteer taggers, etc.  The community extends even further when taking into consideration those who view this in the future; picture a stone tossed into a pool.  The outward ripples are extensions of the stone- the initial community who developed the platform and who tagged the photos.

Of course, because of Web. 2.0, ~TiddlyWiki exists.  Affordances of utilizing ~TiddlyWiki as this photo project's platform have been discussed, yet it is important to mention again the tagging, editing and filtering capabilities that this program offers, supplying users with an ideal platform to explore and contribute to. 

~TiddlyWiki parallels may be drawn when compared to [[Zheng2011RecommenderSystem]];  typical social tagging systems are completely online platforms, with users adding and modifying information all over the world.  This project, of course, is much more unique in that the scope of those involved is much more limited, and this is intentional, for the privacy of those in the photos and as the scope of volunteer Taggers and community members assisting with this project are understandably limited.

&gt;...Web 2.0...transforms users from passive consumers to active producers of content.  [[Zheng2011RecommenderSystem]]

This is a powerful statement. Instead of passively viewing an online photo album, the technological advances that Web 2.0 has unleashed on our society enables users the ability to modify pre-existing content and add content of their own (if given permission to do so, of course!).  

The ability to modify and add content to something pre-existing makes these users content creators.  The pre-existing information could be dated; however with the addition of content, the information is refreshed, rejuvenated and new with the additional content added.


</pre>
</div>
<div color="#000000" created="20160218074459628" modified="20160326215530678" tags="Thesis Contents" title="Welcome!" tmap.id="49f77d6b-56b1-41b1-a5b0-5c3046a86993">
<pre>!!!Hello and Welcome to //Folksonomy affordances of utilizing a hypertext platform to create a tag-rich photo repository.//

First, please review: [[Thesis Statement &amp; Questions]].

&lt;&lt;toc-expandable &quot;TOC&quot;&gt;&gt;
&lt;hr&gt;

[[Visit the project space.|http://stamphoto-sunypoly.tiddlyspot.com/#]]</pre>
</div>
<div created="20160316230213449" description="Go back to [[Thesis Statement &amp; Questions]]" modified="20160326173722777" tags="Thesis [[Literature Review]] Nelson1987LiteraryMachines Hypertext" title="What is hypertext?" tmap.id="80f3fd8d-ee8c-452f-a722-e47234759505">
<pre>The short answer to this question is the following quote by &quot;The Godfather&quot; of hypertext is Theodore Nelson; 

&gt;Hypertext can include sequential text, and is thus the most general form of writing. Unrestricted by sequence, in hypertext we may create new forms of writing which better reflect the structure of what we are writing about; and readers, choosing a pathway, may follow their interests or current line of thought in a way heretofore considered impossible.  {Chapter 0, Page 3)  [[Nelson1987LiteraryMachines]]


Looking for a longer answer?  Check out  my [[fall 2015 independent study|http://krausek.github.io/karen-indstudy/hypertext.html]].

!!{{!!description}}
</pre>
</div>
<div created="20160306203005841" description="Go back to [[Spring 2016 - Integrating PopUp Tagger]]" modified="20160306203115571" tags="Explanation Thesis" title="What tags were included at the start?" tmap.id="601ae565-5205-48be-a748-e9bca8ec4d45">
<pre>A description of parent and child tags may be found [[here|Parent and child tags]].

Upon releasing the second iteration, seeing common themes I created the following child tags within each Parent category:


''Ethnicity'' (these were identified by Dr. Stam)

* Bhutanese-Nepali
*Karen 
* Mixed Ethnic Groups
*Somali-Bantu

''Activity''

* Dancing
*Eating-Drinking
*Exercising
*Playing
*Posing
*Relaxing
*Singing
*Traveling
*Working

''Location''

* Community Center
*Festival
*Home
*Indoors
*Outdoors
*Park
*School
*Sporting Event
*Stage


!!{{!!description}}
</pre>
</div>
<div created="20160306202504914" description="Go back to [[Winter break 2016]]" modified="20160306202532416" tags="Explanation Thesis" title="Why GitHub?" tmap.id="7bfce973-5bb2-42cd-8796-11adc0a587e3">
<pre> ~GitHub was chosen as the &quot;storage facility&quot; of photos over Dropbox as I used ~GitHub during the Fall 2015 semester for all of my ~TiddlyWiki projects, and ~GitHub is perceived as a professional tool for hosting webpages.

!!{{!!description}}</pre>
</div>
<div created="20160306202549031" description="Go back to [[Winter break 2016]]" modified="20160306202623372" tags="Explanation Thesis" title="Why more than one webpage?" tmap.id="282aef3f-64bb-43d1-a240-a18c20e802d6">
<pre>While teaching [[DesignWrite|https://dl.dropboxusercontent.com/s/tk91wqty552z6z1/designwrite.html?dl=0]] during the Spring 2016 semester, Dr. Schneider discovered a wonderful tool called [[PopUp Tagger|https://dl.dropboxusercontent.com/s/qk4f7h0410e1qqh/MultiSequentialNarrative.html?dl=0]].  This tool creates a dashboard within each tiddler, with a dropdown menu of [[Parent and child tags]].

~PopUp Tagger, however, wouldn't work in the original website.  Perhaps because of the way I uploaded photos into the original website, perhaps I used ~TiddlySpace as the website of choice over a regular ~TiddlyWiki, or perhaps because I missed a key code along the way... some of the joy of using ~TiddlyWiki is that sometimes, things just will not work.

After a few weeks of battle of reuploading tools without success, Dr. Schneider created the base of the second website that this project now resides in.

!!{{!!description}}</pre>
</div>
<div created="20160326215332962" modified="20160326220737427" tags="[[Literature Review]] Thesis Xie2016IncorporatingSentiment Zheng2011RecommenderSystem Hirsu2015TagWriting Strohmaier2012TaggingMotivation Tagging Hypertext Folksonomy Qian2013Vocabularies" title="Why Users Tag" tmap.id="1c189019-d703-4298-9fa2-94fdb45ea74b">
<pre>Overall, the authors also reach similar conclusions regarding //why// users tag; quite simply, it is because of //interest in the subject//.  Granted, the authors arrive at this realization after trolling data from sites such as Flickr or Del.icio.us; the scope of this photo project is more limited due to the images currently available to tag, and because it's in relation to a specific population within the Utica, NY community.  Yet it still remains important to cite this, as those who are voluntarily tagging the photos in this project have an interest in being a part of this folksonomy (although as of this writing (March 2016) inquiries into taggers' motivations were not discussed.)

[[Xie2016IncorporatingSentiment]] cites &quot;emotion and perception&quot; as being reasons for one to tag a piece of information.  Perception can be an interesting quality to study; what some users may find joy in others may find just the opposite.

As of this writing (March 2016), perceptions //are// being included in the tags of the photo project to a small degree; such perceptions include &lt;&lt;tag &quot;happy&quot;&gt;&gt; and &lt;&lt;tag &quot;upset&quot;&gt;&gt;.  The majority of the tags, however are informational.

As more photos are tagged, it will be interesting to see how users tag photos with emotional ties.  Perhaps users are feeling restricted with only being offered the tagging categories of ''activity,'' ''ethnicity'' and ''location.''  If emotion types are a desired trait that would add context to the photos, this category could be added in the future.

[[Qian2013Vocabularies]] finds a more basic reason for why users tag: it is because a set of photos were taken either within a specific time frame, or because they were taken at a specific geographic location (of which time may still be a factor.)

The photos within this project are in a collection housed by Dr. Stam.  Although we are not analyzing a photo's metadata at this time, which would provide &quot;geographical coordinates,&quot; volunteer taggers are tagging from quality, personal visual observation.  Many photos are tagged from the same geographic location, such as those taken at the &lt;&lt;tag &quot;Soccer Tournament&quot;&gt;&gt;, and others taken at the &lt;&lt;tag &quot;Festival&quot;&gt;&gt;.
</pre>
</div>
<div color="#66ccff" created="20160316232415238" description="Folksonomy. (n.d.). Retrived March 16, 2016 from https://en.wikipedia.org/wiki/Folksonomy" modified="20160325195812086" tags="Reference Thesis" title="Wikipedia: Folksonomy" tmap.id="13462812-05c6-4826-9337-f426315d8eb7">
<pre>Folksonomy. (n.d.). Retrived March 16, 2016 from https://en.wikipedia.org/wiki/Folksonomy

!!!{{description!!}}</pre>
</div>
<div color="#66ccff" created="20160319190218860" description="Web 2.0. (n.d.). Retrived March 19, 2016 from https://en.wikipedia.org/wiki/Folksonomy" modified="20160325195836335" tags="Reference Thesis" title="Wikipedia: Web 2.0" tmap.id="2c5c1b53-337d-427b-9717-3567c162bad4">
<pre>Web 2.0. (n.d.). Retrived March 19, 2016 from https://en.wikipedia.org/wiki/Folksonomy

!!!{{description!!}}</pre>
</div>
<div created="20160306202723615" modified="20160326162028103" tags="Approach Thesis [[Approach Phase 1]]" title="Winter break 2016" tmap.id="74c91860-5ea6-4167-9c45-8acb666b8376">
<pre>During winter break of 2016, I began uploading photos from Google Drive into [[GitHub|Why GitHub?]]. 

From there, I created the [[first|http://sunypoly.tiddlyspot.com/]] of two [[incarnations|Why more than one webpage?]] of this project. 

Without a way of being able to mass-import the photos into ~GitHub, each photo had to be opened, the file name copied and pasted into ~GitHub.  Images were then saved within my personal ~GitHub and shared to the SUNY Poly ~GitHub (created during the Fall 2015 semester.) 
</pre>
</div>
<div color="#66ccff" created="20160326175046704" modified="20160326175046705" title="Wu2015ItemRecomendation" tmap.id="d4c60dce-e35c-4671-9819-ab33d8d3fc75">
<pre></pre>
</div>
<div created="20160214164028893" description="Wu, H., Pei, Y., Li, B., Kang, Z., Liu, X., Li, H.  (2015).  Item recommendation in collaborative tagging systems via heuristic data fusion.  Knowledge-Based Systems, 75, 124-140." modified="20160325195900087" tags="Reference Thesis" title="Wu2015ItemRecommendation" tmap.id="64317018-04f4-4249-a235-bb60751121a3">
<pre>Wu, H., Pei, Y., Li, B., Kang, Z., Liu, X., Li, H.  (2015).  Item recommendation in collaborative tagging systems via heuristic data fusion.  Knowledge-Based Systems, 75, 124-140.

!!!{{description!!}}</pre>
</div>
<div created="20160320143427693" modified="20160326173905738" tags="Thesis [[Literature Review]] Tagging Xie2016IncorporatingSentiment [[Image Retrieval]] Understandings Hypertext TiddlyWiki" title="Xie et all's view of image retrieval" tmap.id="8c34639b-b093-45de-9616-7a13e700e192">
<pre>&gt;The aim of collaborative search is to improve the performance of information retrieval in the web by incorporating search behaviors of similar users.  [[Xie2016IncorporatingSentiment]]

At present (March 2016), this project does not take into account users' searching behaviors, however it is something that could be considered in the future if more photos are included in the project.

Many authors cite specific algorithms they created in order to achieve &quot;the best&quot; tagging structure, based on users' tagging preferences and search patterns.  (Again, based on data collected from Flickr, Del.icio.us, etc.)

If one were to incorporate this in ~TiddlyWiki, it would be a matter of building a program through code to achieve this, separate from a mathematical algorithm that these and authors describe.  Still, the fact remains that this could be accomplished if it were decided to be a preferred outcome in time.</pre>
</div>
<div color="#66ccff" created="20160213164241000" description="Xie, H., Li, X., Wang, T., Lau, R., Wong, T., Chen, L., Wang, F., Li, Q. (2016).  Incorporating sentiment into tag-based user profiles and resource profiles for personalized search in folksonomy.  Information Processing &amp; Management, 52, 61-72." modified="20160325195924727" tags="Reference Thesis" title="Xie2016IncorporatingSentiment" tmap.id="3218611d-0ea1-4173-8723-4892901be0c5">
<pre>Xie, H., Li, X., Wang, T., Lau, R., Wong, T., Chen, L., Wang, F., Li, Q. (2016).  Incorporating sentiment into tag-based user profiles and resource profiles for personalized search in folksonomy.  Information Processing &amp; Management, 52, 61-72.

!!!{{description!!}}</pre>
</div>
<div color="#66ccff" created="20160214163926397" description="Zhang, X., Zhao, Z., Li, Z., Xia, J., Jain, R., Chao, W.  (2013).  Social image tagging using graph-based reinforcement on multi-type interrelated objects.  Signal Processing, 93, 2178-2189." modified="20160325210911615" tags="Reference Thesis" title="Zhang2013SocialImageTagging" tmap.id="36728a1e-e784-4582-8a55-596ef251eff4">
<pre>Zhang, X., Zhao, Z., Li, Z., Xia, J., Jain, R., Chao, W.  (2013).  Social image tagging using graph-based reinforcement on multi-type interrelated objects.  Signal Processing, 93, 2178-2189.


!!!{{description!!}}</pre>
</div>
<div color="#66ccff" created="20160214163733955" description="Zheng, N., Li, Q.  (2011).  A recommender system based on tag and time information for social tagging systems.  Expert Systems with Applications, 38, 4575-4587." modified="20160325200010448" tags="Reference Thesis" title="Zheng2011RecommenderSystem" tmap.id="7a60424e-0cb8-42cb-bbc1-486d24a26746">
<pre>Zheng, N., Li, Q.  (2011).  A recommender system based on tag and time information for social tagging systems.  Expert Systems with Applications, 38, 4575-4587.

!!!{{description!!}}</pre>
</div>

</div>


<!--~~ Library modules ~~-->
<div id="libraryModules" style="display:none;">
<script data-tiddler-library="yes" data-tiddler-title="$:/library/sjcl.js" data-tiddler-type="application/javascript" type="text/javascript">"use strict";var sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return"CORRUPT: "+this.message};this.message=a},invalid:function(a){this.toString=function(){return"INVALID: "+this.message};this.message=a},bug:function(a){this.toString=function(){return"BUG: "+this.message};this.message=a},notReady:function(a){this.toString=function(){return"NOT READY: "+this.message};this.message=a}}};
if(typeof module!="undefined"&&module.exports)module.exports=sjcl;
sjcl.cipher.aes=function(a){this.h[0][0][0]||this.z();var b,c,d,e,f=this.h[0][4],g=this.h[1];b=a.length;var h=1;if(b!==4&&b!==6&&b!==8)throw new sjcl.exception.invalid("invalid aes key size");this.a=[d=a.slice(0),e=[]];for(a=b;a<4*b+28;a++){c=d[a-1];if(a%b===0||b===8&&a%b===4){c=f[c>>>24]<<24^f[c>>16&255]<<16^f[c>>8&255]<<8^f[c&255];if(a%b===0){c=c<<8^c>>>24^h<<24;h=h<<1^(h>>7)*283}}d[a]=d[a-b]^c}for(b=0;a;b++,a--){c=d[b&3?a:a-4];e[b]=a<=4||b<4?c:g[0][f[c>>>24]]^g[1][f[c>>16&255]]^g[2][f[c>>8&255]]^
g[3][f[c&255]]}};
sjcl.cipher.aes.prototype={encrypt:function(a){return this.I(a,0)},decrypt:function(a){return this.I(a,1)},h:[[[],[],[],[],[]],[[],[],[],[],[]]],z:function(){var a=this.h[0],b=this.h[1],c=a[4],d=b[4],e,f,g,h=[],i=[],k,j,l,m;for(e=0;e<0x100;e++)i[(h[e]=e<<1^(e>>7)*283)^e]=e;for(f=g=0;!c[f];f^=k||1,g=i[g]||1){l=g^g<<1^g<<2^g<<3^g<<4;l=l>>8^l&255^99;c[f]=l;d[l]=f;j=h[e=h[k=h[f]]];m=j*0x1010101^e*0x10001^k*0x101^f*0x1010100;j=h[l]*0x101^l*0x1010100;for(e=0;e<4;e++){a[e][f]=j=j<<24^j>>>8;b[e][l]=m=m<<24^m>>>8}}for(e=
0;e<5;e++){a[e]=a[e].slice(0);b[e]=b[e].slice(0)}},I:function(a,b){if(a.length!==4)throw new sjcl.exception.invalid("invalid aes block size");var c=this.a[b],d=a[0]^c[0],e=a[b?3:1]^c[1],f=a[2]^c[2];a=a[b?1:3]^c[3];var g,h,i,k=c.length/4-2,j,l=4,m=[0,0,0,0];g=this.h[b];var n=g[0],o=g[1],p=g[2],q=g[3],r=g[4];for(j=0;j<k;j++){g=n[d>>>24]^o[e>>16&255]^p[f>>8&255]^q[a&255]^c[l];h=n[e>>>24]^o[f>>16&255]^p[a>>8&255]^q[d&255]^c[l+1];i=n[f>>>24]^o[a>>16&255]^p[d>>8&255]^q[e&255]^c[l+2];a=n[a>>>24]^o[d>>16&
255]^p[e>>8&255]^q[f&255]^c[l+3];l+=4;d=g;e=h;f=i}for(j=0;j<4;j++){m[b?3&-j:j]=r[d>>>24]<<24^r[e>>16&255]<<16^r[f>>8&255]<<8^r[a&255]^c[l++];g=d;d=e;e=f;f=a;a=g}return m}};
sjcl.bitArray={bitSlice:function(a,b,c){a=sjcl.bitArray.P(a.slice(b/32),32-(b&31)).slice(1);return c===undefined?a:sjcl.bitArray.clamp(a,c-b)},extract:function(a,b,c){var d=Math.floor(-b-c&31);return((b+c-1^b)&-32?a[b/32|0]<<32-d^a[b/32+1|0]>>>d:a[b/32|0]>>>d)&(1<<c)-1},concat:function(a,b){if(a.length===0||b.length===0)return a.concat(b);var c=a[a.length-1],d=sjcl.bitArray.getPartial(c);return d===32?a.concat(b):sjcl.bitArray.P(b,d,c|0,a.slice(0,a.length-1))},bitLength:function(a){var b=a.length;
if(b===0)return 0;return(b-1)*32+sjcl.bitArray.getPartial(a[b-1])},clamp:function(a,b){if(a.length*32<b)return a;a=a.slice(0,Math.ceil(b/32));var c=a.length;b&=31;if(c>0&&b)a[c-1]=sjcl.bitArray.partial(b,a[c-1]&2147483648>>b-1,1);return a},partial:function(a,b,c){if(a===32)return b;return(c?b|0:b<<32-a)+a*0x10000000000},getPartial:function(a){return Math.round(a/0x10000000000)||32},equal:function(a,b){if(sjcl.bitArray.bitLength(a)!==sjcl.bitArray.bitLength(b))return false;var c=0,d;for(d=0;d<a.length;d++)c|=
a[d]^b[d];return c===0},P:function(a,b,c,d){var e;e=0;if(d===undefined)d=[];for(;b>=32;b-=32){d.push(c);c=0}if(b===0)return d.concat(a);for(e=0;e<a.length;e++){d.push(c|a[e]>>>b);c=a[e]<<32-b}e=a.length?a[a.length-1]:0;a=sjcl.bitArray.getPartial(e);d.push(sjcl.bitArray.partial(b+a&31,b+a>32?c:d.pop(),1));return d},k:function(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]}};
sjcl.codec.utf8String={fromBits:function(a){var b="",c=sjcl.bitArray.bitLength(a),d,e;for(d=0;d<c/8;d++){if((d&3)===0)e=a[d/4];b+=String.fromCharCode(e>>>24);e<<=8}return decodeURIComponent(escape(b))},toBits:function(a){a=unescape(encodeURIComponent(a));var b=[],c,d=0;for(c=0;c<a.length;c++){d=d<<8|a.charCodeAt(c);if((c&3)===3){b.push(d);d=0}}c&3&&b.push(sjcl.bitArray.partial(8*(c&3),d));return b}};
sjcl.codec.hex={fromBits:function(a){var b="",c;for(c=0;c<a.length;c++)b+=((a[c]|0)+0xf00000000000).toString(16).substr(4);return b.substr(0,sjcl.bitArray.bitLength(a)/4)},toBits:function(a){var b,c=[],d;a=a.replace(/\s|0x/g,"");d=a.length;a+="00000000";for(b=0;b<a.length;b+=8)c.push(parseInt(a.substr(b,8),16)^0);return sjcl.bitArray.clamp(c,d*4)}};
sjcl.codec.base64={F:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(a,b,c){var d="",e=0,f=sjcl.codec.base64.F,g=0,h=sjcl.bitArray.bitLength(a);if(c)f=f.substr(0,62)+"-_";for(c=0;d.length*6<h;){d+=f.charAt((g^a[c]>>>e)>>>26);if(e<6){g=a[c]<<6-e;e+=26;c++}else{g<<=6;e-=6}}for(;d.length&3&&!b;)d+="=";return d},toBits:function(a,b){a=a.replace(/\s|=/g,"");var c=[],d=0,e=sjcl.codec.base64.F,f=0,g;if(b)e=e.substr(0,62)+"-_";for(b=0;b<a.length;b++){g=e.indexOf(a.charAt(b));
if(g<0)throw new sjcl.exception.invalid("this isn't base64!");if(d>26){d-=26;c.push(f^g>>>d);f=g<<32-d}else{d+=6;f^=g<<32-d}}d&56&&c.push(sjcl.bitArray.partial(d&56,f,1));return c}};sjcl.codec.base64url={fromBits:function(a){return sjcl.codec.base64.fromBits(a,1,1)},toBits:function(a){return sjcl.codec.base64.toBits(a,1)}};sjcl.hash.sha256=function(a){this.a[0]||this.z();if(a){this.n=a.n.slice(0);this.i=a.i.slice(0);this.e=a.e}else this.reset()};sjcl.hash.sha256.hash=function(a){return(new sjcl.hash.sha256).update(a).finalize()};
sjcl.hash.sha256.prototype={blockSize:512,reset:function(){this.n=this.N.slice(0);this.i=[];this.e=0;return this},update:function(a){if(typeof a==="string")a=sjcl.codec.utf8String.toBits(a);var b,c=this.i=sjcl.bitArray.concat(this.i,a);b=this.e;a=this.e=b+sjcl.bitArray.bitLength(a);for(b=512+b&-512;b<=a;b+=512)this.D(c.splice(0,16));return this},finalize:function(){var a,b=this.i,c=this.n;b=sjcl.bitArray.concat(b,[sjcl.bitArray.partial(1,1)]);for(a=b.length+2;a&15;a++)b.push(0);b.push(Math.floor(this.e/
4294967296));for(b.push(this.e|0);b.length;)this.D(b.splice(0,16));this.reset();return c},N:[],a:[],z:function(){function a(e){return(e-Math.floor(e))*0x100000000|0}var b=0,c=2,d;a:for(;b<64;c++){for(d=2;d*d<=c;d++)if(c%d===0)continue a;if(b<8)this.N[b]=a(Math.pow(c,0.5));this.a[b]=a(Math.pow(c,1/3));b++}},D:function(a){var b,c,d=a.slice(0),e=this.n,f=this.a,g=e[0],h=e[1],i=e[2],k=e[3],j=e[4],l=e[5],m=e[6],n=e[7];for(a=0;a<64;a++){if(a<16)b=d[a];else{b=d[a+1&15];c=d[a+14&15];b=d[a&15]=(b>>>7^b>>>18^
b>>>3^b<<25^b<<14)+(c>>>17^c>>>19^c>>>10^c<<15^c<<13)+d[a&15]+d[a+9&15]|0}b=b+n+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(m^j&(l^m))+f[a];n=m;m=l;l=j;j=k+b|0;k=i;i=h;h=g;g=b+(h&i^k&(h^i))+(h>>>2^h>>>13^h>>>22^h<<30^h<<19^h<<10)|0}e[0]=e[0]+g|0;e[1]=e[1]+h|0;e[2]=e[2]+i|0;e[3]=e[3]+k|0;e[4]=e[4]+j|0;e[5]=e[5]+l|0;e[6]=e[6]+m|0;e[7]=e[7]+n|0}};
sjcl.mode.ccm={name:"ccm",encrypt:function(a,b,c,d,e){var f,g=b.slice(0),h=sjcl.bitArray,i=h.bitLength(c)/8,k=h.bitLength(g)/8;e=e||64;d=d||[];if(i<7)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(f=2;f<4&&k>>>8*f;f++);if(f<15-i)f=15-i;c=h.clamp(c,8*(15-f));b=sjcl.mode.ccm.H(a,b,c,d,e,f);g=sjcl.mode.ccm.J(a,g,c,b,e,f);return h.concat(g.data,g.tag)},decrypt:function(a,b,c,d,e){e=e||64;d=d||[];var f=sjcl.bitArray,g=f.bitLength(c)/8,h=f.bitLength(b),i=f.clamp(b,h-e),k=f.bitSlice(b,
h-e);h=(h-e)/8;if(g<7)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(b=2;b<4&&h>>>8*b;b++);if(b<15-g)b=15-g;c=f.clamp(c,8*(15-b));i=sjcl.mode.ccm.J(a,i,c,k,e,b);a=sjcl.mode.ccm.H(a,i.data,c,d,e,b);if(!f.equal(i.tag,a))throw new sjcl.exception.corrupt("ccm: tag doesn't match");return i.data},H:function(a,b,c,d,e,f){var g=[],h=sjcl.bitArray,i=h.k;e/=8;if(e%2||e<4||e>16)throw new sjcl.exception.invalid("ccm: invalid tag length");if(d.length>0xffffffff||b.length>0xffffffff)throw new sjcl.exception.bug("ccm: can't deal with 4GiB or more data");
f=[h.partial(8,(d.length?64:0)|e-2<<2|f-1)];f=h.concat(f,c);f[3]|=h.bitLength(b)/8;f=a.encrypt(f);if(d.length){c=h.bitLength(d)/8;if(c<=65279)g=[h.partial(16,c)];else if(c<=0xffffffff)g=h.concat([h.partial(16,65534)],[c]);g=h.concat(g,d);for(d=0;d<g.length;d+=4)f=a.encrypt(i(f,g.slice(d,d+4).concat([0,0,0])))}for(d=0;d<b.length;d+=4)f=a.encrypt(i(f,b.slice(d,d+4).concat([0,0,0])));return h.clamp(f,e*8)},J:function(a,b,c,d,e,f){var g,h=sjcl.bitArray;g=h.k;var i=b.length,k=h.bitLength(b);c=h.concat([h.partial(8,
f-1)],c).concat([0,0,0]).slice(0,4);d=h.bitSlice(g(d,a.encrypt(c)),0,e);if(!i)return{tag:d,data:[]};for(g=0;g<i;g+=4){c[3]++;e=a.encrypt(c);b[g]^=e[0];b[g+1]^=e[1];b[g+2]^=e[2];b[g+3]^=e[3]}return{tag:d,data:h.clamp(b,k)}}};
sjcl.mode.ocb2={name:"ocb2",encrypt:function(a,b,c,d,e,f){if(sjcl.bitArray.bitLength(c)!==128)throw new sjcl.exception.invalid("ocb iv must be 128 bits");var g,h=sjcl.mode.ocb2.B,i=sjcl.bitArray,k=i.k,j=[0,0,0,0];c=h(a.encrypt(c));var l,m=[];d=d||[];e=e||64;for(g=0;g+4<b.length;g+=4){l=b.slice(g,g+4);j=k(j,l);m=m.concat(k(c,a.encrypt(k(c,l))));c=h(c)}l=b.slice(g);b=i.bitLength(l);g=a.encrypt(k(c,[0,0,0,b]));l=i.clamp(k(l.concat([0,0,0]),g),b);j=k(j,k(l.concat([0,0,0]),g));j=a.encrypt(k(j,k(c,h(c))));
if(d.length)j=k(j,f?d:sjcl.mode.ocb2.pmac(a,d));return m.concat(i.concat(l,i.clamp(j,e)))},decrypt:function(a,b,c,d,e,f){if(sjcl.bitArray.bitLength(c)!==128)throw new sjcl.exception.invalid("ocb iv must be 128 bits");e=e||64;var g=sjcl.mode.ocb2.B,h=sjcl.bitArray,i=h.k,k=[0,0,0,0],j=g(a.encrypt(c)),l,m,n=sjcl.bitArray.bitLength(b)-e,o=[];d=d||[];for(c=0;c+4<n/32;c+=4){l=i(j,a.decrypt(i(j,b.slice(c,c+4))));k=i(k,l);o=o.concat(l);j=g(j)}m=n-c*32;l=a.encrypt(i(j,[0,0,0,m]));l=i(l,h.clamp(b.slice(c),
m).concat([0,0,0]));k=i(k,l);k=a.encrypt(i(k,i(j,g(j))));if(d.length)k=i(k,f?d:sjcl.mode.ocb2.pmac(a,d));if(!h.equal(h.clamp(k,e),h.bitSlice(b,n)))throw new sjcl.exception.corrupt("ocb: tag doesn't match");return o.concat(h.clamp(l,m))},pmac:function(a,b){var c,d=sjcl.mode.ocb2.B,e=sjcl.bitArray,f=e.k,g=[0,0,0,0],h=a.encrypt([0,0,0,0]);h=f(h,d(d(h)));for(c=0;c+4<b.length;c+=4){h=d(h);g=f(g,a.encrypt(f(h,b.slice(c,c+4))))}b=b.slice(c);if(e.bitLength(b)<128){h=f(h,d(h));b=e.concat(b,[2147483648|0,0,
0,0])}g=f(g,b);return a.encrypt(f(d(f(h,d(h))),g))},B:function(a){return[a[0]<<1^a[1]>>>31,a[1]<<1^a[2]>>>31,a[2]<<1^a[3]>>>31,a[3]<<1^(a[0]>>>31)*135]}};sjcl.misc.hmac=function(a,b){this.M=b=b||sjcl.hash.sha256;var c=[[],[]],d=b.prototype.blockSize/32;this.l=[new b,new b];if(a.length>d)a=b.hash(a);for(b=0;b<d;b++){c[0][b]=a[b]^909522486;c[1][b]=a[b]^1549556828}this.l[0].update(c[0]);this.l[1].update(c[1])};
sjcl.misc.hmac.prototype.encrypt=sjcl.misc.hmac.prototype.mac=function(a,b){a=(new this.M(this.l[0])).update(a,b).finalize();return(new this.M(this.l[1])).update(a).finalize()};
sjcl.misc.pbkdf2=function(a,b,c,d,e){c=c||1E3;if(d<0||c<0)throw sjcl.exception.invalid("invalid params to pbkdf2");if(typeof a==="string")a=sjcl.codec.utf8String.toBits(a);e=e||sjcl.misc.hmac;a=new e(a);var f,g,h,i,k=[],j=sjcl.bitArray;for(i=1;32*k.length<(d||1);i++){e=f=a.encrypt(j.concat(b,[i]));for(g=1;g<c;g++){f=a.encrypt(f);for(h=0;h<f.length;h++)e[h]^=f[h]}k=k.concat(e)}if(d)k=j.clamp(k,d);return k};
sjcl.random={randomWords:function(a,b){var c=[];b=this.isReady(b);var d;if(b===0)throw new sjcl.exception.notReady("generator isn't seeded");else b&2&&this.U(!(b&1));for(b=0;b<a;b+=4){(b+1)%0x10000===0&&this.L();d=this.w();c.push(d[0],d[1],d[2],d[3])}this.L();return c.slice(0,a)},setDefaultParanoia:function(a){this.t=a},addEntropy:function(a,b,c){c=c||"user";var d,e,f=(new Date).valueOf(),g=this.q[c],h=this.isReady(),i=0;d=this.G[c];if(d===undefined)d=this.G[c]=this.R++;if(g===undefined)g=this.q[c]=
0;this.q[c]=(this.q[c]+1)%this.b.length;switch(typeof a){case "number":if(b===undefined)b=1;this.b[g].update([d,this.u++,1,b,f,1,a|0]);break;case "object":c=Object.prototype.toString.call(a);if(c==="[object Uint32Array]"){e=[];for(c=0;c<a.length;c++)e.push(a[c]);a=e}else{if(c!=="[object Array]")i=1;for(c=0;c<a.length&&!i;c++)if(typeof a[c]!="number")i=1}if(!i){if(b===undefined)for(c=b=0;c<a.length;c++)for(e=a[c];e>0;){b++;e>>>=1}this.b[g].update([d,this.u++,2,b,f,a.length].concat(a))}break;case "string":if(b===
undefined)b=a.length;this.b[g].update([d,this.u++,3,b,f,a.length]);this.b[g].update(a);break;default:i=1}if(i)throw new sjcl.exception.bug("random: addEntropy only supports number, array of numbers or string");this.j[g]+=b;this.f+=b;if(h===0){this.isReady()!==0&&this.K("seeded",Math.max(this.g,this.f));this.K("progress",this.getProgress())}},isReady:function(a){a=this.C[a!==undefined?a:this.t];return this.g&&this.g>=a?this.j[0]>80&&(new Date).valueOf()>this.O?3:1:this.f>=a?2:0},getProgress:function(a){a=
this.C[a?a:this.t];return this.g>=a?1:this.f>a?1:this.f/a},startCollectors:function(){if(!this.m){if(window.addEventListener){window.addEventListener("load",this.o,false);window.addEventListener("mousemove",this.p,false)}else if(document.attachEvent){document.attachEvent("onload",this.o);document.attachEvent("onmousemove",this.p)}else throw new sjcl.exception.bug("can't attach event");this.m=true}},stopCollectors:function(){if(this.m){if(window.removeEventListener){window.removeEventListener("load",
this.o,false);window.removeEventListener("mousemove",this.p,false)}else if(window.detachEvent){window.detachEvent("onload",this.o);window.detachEvent("onmousemove",this.p)}this.m=false}},addEventListener:function(a,b){this.r[a][this.Q++]=b},removeEventListener:function(a,b){var c;a=this.r[a];var d=[];for(c in a)a.hasOwnProperty(c)&&a[c]===b&&d.push(c);for(b=0;b<d.length;b++){c=d[b];delete a[c]}},b:[new sjcl.hash.sha256],j:[0],A:0,q:{},u:0,G:{},R:0,g:0,f:0,O:0,a:[0,0,0,0,0,0,0,0],d:[0,0,0,0],s:undefined,
t:6,m:false,r:{progress:{},seeded:{}},Q:0,C:[0,48,64,96,128,192,0x100,384,512,768,1024],w:function(){for(var a=0;a<4;a++){this.d[a]=this.d[a]+1|0;if(this.d[a])break}return this.s.encrypt(this.d)},L:function(){this.a=this.w().concat(this.w());this.s=new sjcl.cipher.aes(this.a)},T:function(a){this.a=sjcl.hash.sha256.hash(this.a.concat(a));this.s=new sjcl.cipher.aes(this.a);for(a=0;a<4;a++){this.d[a]=this.d[a]+1|0;if(this.d[a])break}},U:function(a){var b=[],c=0,d;this.O=b[0]=(new Date).valueOf()+3E4;for(d=
0;d<16;d++)b.push(Math.random()*0x100000000|0);for(d=0;d<this.b.length;d++){b=b.concat(this.b[d].finalize());c+=this.j[d];this.j[d]=0;if(!a&&this.A&1<<d)break}if(this.A>=1<<this.b.length){this.b.push(new sjcl.hash.sha256);this.j.push(0)}this.f-=c;if(c>this.g)this.g=c;this.A++;this.T(b)},p:function(a){sjcl.random.addEntropy([a.x||a.clientX||a.offsetX||0,a.y||a.clientY||a.offsetY||0],2,"mouse")},o:function(){sjcl.random.addEntropy((new Date).valueOf(),2,"loadtime")},K:function(a,b){var c;a=sjcl.random.r[a];
var d=[];for(c in a)a.hasOwnProperty(c)&&d.push(a[c]);for(c=0;c<d.length;c++)d[c](b)}};try{var s=new Uint32Array(32);crypto.getRandomValues(s);sjcl.random.addEntropy(s,1024,"crypto['getRandomValues']")}catch(t){}
sjcl.json={defaults:{v:1,iter:1E3,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},encrypt:function(a,b,c,d){c=c||{};d=d||{};var e=sjcl.json,f=e.c({iv:sjcl.random.randomWords(4,0)},e.defaults),g;e.c(f,c);c=f.adata;if(typeof f.salt==="string")f.salt=sjcl.codec.base64.toBits(f.salt);if(typeof f.iv==="string")f.iv=sjcl.codec.base64.toBits(f.iv);if(!sjcl.mode[f.mode]||!sjcl.cipher[f.cipher]||typeof a==="string"&&f.iter<=100||f.ts!==64&&f.ts!==96&&f.ts!==128||f.ks!==128&&f.ks!==192&&f.ks!==0x100||f.iv.length<
2||f.iv.length>4)throw new sjcl.exception.invalid("json encrypt: invalid parameters");if(typeof a==="string"){g=sjcl.misc.cachedPbkdf2(a,f);a=g.key.slice(0,f.ks/32);f.salt=g.salt}if(typeof b==="string")b=sjcl.codec.utf8String.toBits(b);if(typeof c==="string")c=sjcl.codec.utf8String.toBits(c);g=new sjcl.cipher[f.cipher](a);e.c(d,f);d.key=a;f.ct=sjcl.mode[f.mode].encrypt(g,b,f.iv,c,f.ts);return e.encode(f)},decrypt:function(a,b,c,d){c=c||{};d=d||{};var e=sjcl.json;b=e.c(e.c(e.c({},e.defaults),e.decode(b)),
c,true);var f;c=b.adata;if(typeof b.salt==="string")b.salt=sjcl.codec.base64.toBits(b.salt);if(typeof b.iv==="string")b.iv=sjcl.codec.base64.toBits(b.iv);if(!sjcl.mode[b.mode]||!sjcl.cipher[b.cipher]||typeof a==="string"&&b.iter<=100||b.ts!==64&&b.ts!==96&&b.ts!==128||b.ks!==128&&b.ks!==192&&b.ks!==0x100||!b.iv||b.iv.length<2||b.iv.length>4)throw new sjcl.exception.invalid("json decrypt: invalid parameters");if(typeof a==="string"){f=sjcl.misc.cachedPbkdf2(a,b);a=f.key.slice(0,b.ks/32);b.salt=f.salt}if(typeof c===
"string")c=sjcl.codec.utf8String.toBits(c);f=new sjcl.cipher[b.cipher](a);c=sjcl.mode[b.mode].decrypt(f,b.ct,b.iv,c,b.ts);e.c(d,b);d.key=a;return sjcl.codec.utf8String.fromBits(c)},encode:function(a){var b,c="{",d="";for(b in a)if(a.hasOwnProperty(b)){if(!b.match(/^[a-z0-9]+$/i))throw new sjcl.exception.invalid("json encode: invalid property name");c+=d+'"'+b+'":';d=",";switch(typeof a[b]){case "number":case "boolean":c+=a[b];break;case "string":c+='"'+escape(a[b])+'"';break;case "object":c+='"'+
sjcl.codec.base64.fromBits(a[b],1)+'"';break;default:throw new sjcl.exception.bug("json encode: unsupported type");}}return c+"}"},decode:function(a){a=a.replace(/\s/g,"");if(!a.match(/^\{.*\}$/))throw new sjcl.exception.invalid("json decode: this isn't json!");a=a.replace(/^\{|\}$/g,"").split(/,/);var b={},c,d;for(c=0;c<a.length;c++){if(!(d=a[c].match(/^(?:(["']?)([a-z][a-z0-9]*)\1):(?:(\d+)|"([a-z0-9+\/%*_.@=\-]*)")$/i)))throw new sjcl.exception.invalid("json decode: this isn't json!");b[d[2]]=
d[3]?parseInt(d[3],10):d[2].match(/^(ct|salt|iv)$/)?sjcl.codec.base64.toBits(d[4]):unescape(d[4])}return b},c:function(a,b,c){if(a===undefined)a={};if(b===undefined)return a;var d;for(d in b)if(b.hasOwnProperty(d)){if(c&&a[d]!==undefined&&a[d]!==b[d])throw new sjcl.exception.invalid("required parameter overridden");a[d]=b[d]}return a},W:function(a,b){var c={},d;for(d in a)if(a.hasOwnProperty(d)&&a[d]!==b[d])c[d]=a[d];return c},V:function(a,b){var c={},d;for(d=0;d<b.length;d++)if(a[b[d]]!==undefined)c[b[d]]=
a[b[d]];return c}};sjcl.encrypt=sjcl.json.encrypt;sjcl.decrypt=sjcl.json.decrypt;sjcl.misc.S={};sjcl.misc.cachedPbkdf2=function(a,b){var c=sjcl.misc.S,d;b=b||{};d=b.iter||1E3;c=c[a]=c[a]||{};d=c[d]=c[d]||{firstSalt:b.salt&&b.salt.length?b.salt.slice(0):sjcl.random.randomWords(2,0)};c=b.salt===undefined?d.firstSalt:b.salt;d[c]=d[c]||sjcl.misc.pbkdf2(a,c,b.iter);return{key:d[c].slice(0),salt:c.slice(0)}};</script>
</div>
<!--~~ Boot kernel prologue ~~-->
<div id="bootKernelPrefix" style="display:none;">
<script data-tiddler-title="$:/boot/bootprefix.js" data-tiddler-type="application/javascript" type="text/javascript">/*\
title: $:/boot/bootprefix.js
type: application/javascript

This file sets up the globals that need to be available when JavaScript modules are executed in the browser. The overall sequence is:

# BootPrefix.js
# <module definitions>
# Boot.js

See Boot.js for further details of the boot process.

\*/

var _bootprefix = (function($tw) {

"use strict";

$tw = $tw || Object.create(null);
$tw.boot = $tw.boot || Object.create(null);

// Detect platforms
if(!("browser" in $tw)) {
  $tw.browser = typeof(window) !== "undefined" ? {} : null;
}
if(!("node" in $tw)) {
  $tw.node = typeof(process) === "object" ? {} : null;
}
if(!("nodeWebKit" in $tw)) {
  $tw.nodeWebKit = $tw.node && global.window && global.window.nwDispatcher ? {} : null;
}

// Set default boot tasks
$tw.boot.tasks = {
  trapErrors: !!($tw.browser && !$tw.node),
  readBrowserTiddlers: !!($tw.browser && !$tw.node)
};

/*
Information about each module is kept in an object with these members:
  moduleType: type of module
  definition: object, function or string defining the module; see below
  exports: exports of the module, filled in after execution

The `definition` can be of several types:

* An object can be used to directly specify the exports of the module
* A function with the arguments `module,require,exports` that returns `exports`
* A string function body with the same arguments

Each moduleInfo object is stored in two hashmaps: $tw.modules.titles and $tw.modules.types. The first is indexed by title and the second is indexed by type and then title
*/
$tw.modules = {
  titles: {}, // hashmap by module name of moduleInfo
  types: {} // hashmap by module type and then name of moduleInfo
};

/*
Define a JavaScript tiddler module for later execution
  moduleName: name of module being defined
  moduleType: type of module
  definition: module definition; see discussion above
*/
$tw.modules.define = function(moduleName,moduleType,definition) {
  // Create the moduleInfo
  var moduleInfo = {
    moduleType: moduleType,
    definition: definition,
    exports: undefined
  };
  // If the definition is already an object we can use it as the exports
  if(typeof moduleInfo.definition === "object") {
    moduleInfo.exports = definition;
  }
  // Store the module in the titles hashmap
  if(Object.prototype.hasOwnProperty.call($tw.modules.titles,moduleName)) {
    console.log("Warning: Redefined module - " + moduleName);
  }
  $tw.modules.titles[moduleName] = moduleInfo;
  // Store the module in the types hashmap
  if(!Object.prototype.hasOwnProperty.call($tw.modules.types,moduleType)) {
    $tw.modules.types[moduleType] = {};
  }
  if(Object.prototype.hasOwnProperty.call($tw.modules.types[moduleType],moduleName)) {
    console.log("Warning: Redefined module - " + moduleName);
  }
  $tw.modules.types[moduleType][moduleName] = moduleInfo;
};

/*
External JavaScript can populate this array before calling boot.js in order to preload tiddlers
*/
$tw.preloadTiddlers = $tw.preloadTiddlers || [];

/*
Convenience function for pushing a tiddler onto the preloading array
*/
$tw.preloadTiddler = function(fields) {
  $tw.preloadTiddlers.push(fields);
};

/*
Convenience function for pushing an array of tiddlers onto the preloading array
*/
$tw.preloadTiddlerArray = function(fieldsArray) {
  $tw.preloadTiddlers.push.apply($tw.preloadTiddlers,fieldsArray);
};

return $tw;

});

if(typeof(exports) === "undefined") {
  // Set up $tw global for the browser
  window.$tw = _bootprefix(window.$tw);
} else {
  // Export functionality as a module
  exports.bootprefix = _bootprefix;
}
</script>
</div>
<!--~~ Boot kernel ~~-->
<div id="bootKernel" style="display:none;">
<script data-tiddler-title="$:/boot/boot.js" data-tiddler-type="application/javascript" type="text/javascript">/*\
title: $:/boot/boot.js
type: application/javascript

The main boot kernel for TiddlyWiki. This single file creates a barebones TW environment that is just sufficient to bootstrap the modules containing the main logic of the application.

On the server this file is executed directly to boot TiddlyWiki. In the browser, this file is packed into a single HTML file.

\*/

var _boot = (function($tw) {

/*jslint node: true, browser: true */
/*global modules: false, $tw: false */
"use strict";

// Include bootprefix if we're not given module data
if(!$tw) {
  $tw = require("./bootprefix.js").bootprefix();
}

$tw.utils = $tw.utils || Object.create(null);

/////////////////////////// Standard node.js libraries

var fs, path, vm;
if($tw.node) {
  fs = require("fs");
  path = require("path");
  vm = require("vm");
}

/////////////////////////// Utility functions

$tw.boot.log = function(str) {
  $tw.boot.logMessages = $tw.boot.logMessages || [];
  $tw.boot.logMessages.push(str);
}

/*
Check if an object has a property
*/
$tw.utils.hop = function(object,property) {
  return object ? Object.prototype.hasOwnProperty.call(object,property) : false;
};

/*
Determine if a value is an array
*/
$tw.utils.isArray = function(value) {
  return Object.prototype.toString.call(value) == "[object Array]";
};

/*
Determine if a value is a date
*/
$tw.utils.isDate = function(value) {
  return Object.prototype.toString.call(value) === "[object Date]";
};

/*
Iterate through all the own properties of an object or array. Callback is invoked with (element,title,object)
*/
$tw.utils.each = function(object,callback) {
  var next,f,length;
  if(object) {
    if(Object.prototype.toString.call(object) == "[object Array]") {
      for (f=0, length=object.length; f<length; f++) {
        next = callback(object[f],f,object);
        if(next === false) {
          break;
        }
        }
    } else {
      var keys = Object.keys(object);
      for (f=0, length=keys.length; f<length; f++) {
        var key = keys[f];
        next = callback(object[key],key,object);
        if(next === false) {
          break;
        }
      }
    }
  }
};

/*
Helper for making DOM elements
tag: tag name
options: see below
Options include:
attributes: hashmap of attribute values
text: text to add as a child node
children: array of further child nodes
innerHTML: optional HTML for element
class: class name(s)
document: defaults to current document
eventListeners: array of event listeners (this option won't work until $tw.utils.addEventListeners() has been loaded)
*/
$tw.utils.domMaker = function(tag,options) {
  var doc = options.document || document;
  var element = doc.createElement(tag);
  if(options["class"]) {
    element.className = options["class"];
  }
  if(options.text) {
    element.appendChild(doc.createTextNode(options.text));
  }
  $tw.utils.each(options.children,function(child) {
    element.appendChild(child);
  });
  if(options.innerHTML) {
    element.innerHTML = options.innerHTML;
  }
  $tw.utils.each(options.attributes,function(attribute,name) {
    element.setAttribute(name,attribute);
  });
  if(options.eventListeners) {
    $tw.utils.addEventListeners(element,options.eventListeners);
  }
  return element;
};

/*
Display an error and exit
*/
$tw.utils.error = function(err) {
  // Prepare the error message
  var errHeading = ( $tw.language == undefined ? "Internal JavaScript Error" : $tw.language.getString("InternalJavaScriptError/Title") ),
    promptMsg = ( $tw.language == undefined ? "Well, this is embarrassing. It is recommended that you restart TiddlyWiki by refreshing your browser" : $tw.language.getString("InternalJavaScriptError/Hint") );
  // Log the error to the console
  console.error($tw.node ? "\x1b[1;31m" + err + "\x1b[0m" : err);
  if($tw.browser && !$tw.node) {
    // Display an error message to the user
    var dm = $tw.utils.domMaker,
      heading = dm("h1",{text: errHeading}),
      prompt = dm("div",{text: promptMsg, "class": "tc-error-prompt"}),
      message = dm("div",{text: err}),
      button = dm("button",{text: "close"}),
      form = dm("form",{children: [heading,prompt,message,button], "class": "tc-error-form"});
    document.body.insertBefore(form,document.body.firstChild);
    form.addEventListener("submit",function(event) {
      document.body.removeChild(form);
      event.preventDefault();
      return false;
    },true);
    return null;
  } else if(!$tw.browser) {
    // Exit if we're under node.js
    process.exit(1);
  }
};

/*
Use our custom error handler if we're in the browser
*/
if($tw.boot.tasks.trapErrors) {
  window.onerror = function(errorMsg,url,lineNumber) {
    $tw.utils.error(errorMsg);
    return false;
  };
}

/*
Extend an object with the properties from a list of source objects
*/
$tw.utils.extend = function(object /*, sourceObjectList */) {
  $tw.utils.each(Array.prototype.slice.call(arguments,1),function(source) {
    if(source) {
      for (var p in source) {
        object[p] = source[p];
      }
    }
  });
  return object;
};

/*
Fill in any null or undefined properties of an object with the properties from a list of source objects. Each property that is an object is called recursively
*/
$tw.utils.deepDefaults = function(object /*, sourceObjectList */) {
  $tw.utils.each(Array.prototype.slice.call(arguments,1),function(source) {
    if(source) {
      for (var p in source) {
        if(object[p] === null || object[p] === undefined) {
          object[p] = source[p];
        }
        if(typeof object[p] === "object" && typeof source[p] === "object") {
          $tw.utils.deepDefaults(object[p],source[p]);
        }
      }
    }
  });
  return object;
};

/*
Convert "&amp;" to &, "&nbsp;" to nbsp, "&lt;" to <, "&gt;" to > and "&quot;" to "
*/
$tw.utils.htmlDecode = function(s) {
  return s.toString().replace(/&lt;/mg,"<").replace(/&nbsp;/mg,"\xA0").replace(/&gt;/mg,">").replace(/&quot;/mg,"\"").replace(/&amp;/mg,"&");
};

/*
Get the browser location.hash. We don't use location.hash because of the way that Firefox auto-urldecodes it (see http://stackoverflow.com/questions/1703552/encoding-of-window-location-hash)
*/
$tw.utils.getLocationHash = function() {
  var parts = window.location.href.split('#');
  return "#" + (parts.length > 1 ? parts[1] : "");
};

/*
Pad a string to a given length with "0"s. Length defaults to 2
*/
$tw.utils.pad = function(value,length) {
  length = length || 2;
  var s = value.toString();
  if(s.length < length) {
    s = "000000000000000000000000000".substr(0,length - s.length) + s;
  }
  return s;
};

// Convert a date into UTC YYYYMMDDHHMMSSmmm format
$tw.utils.stringifyDate = function(value) {
  return value.getUTCFullYear() +
      $tw.utils.pad(value.getUTCMonth() + 1) +
      $tw.utils.pad(value.getUTCDate()) +
      $tw.utils.pad(value.getUTCHours()) +
      $tw.utils.pad(value.getUTCMinutes()) +
      $tw.utils.pad(value.getUTCSeconds()) +
      $tw.utils.pad(value.getUTCMilliseconds(),3);
};

// Parse a date from a UTC YYYYMMDDHHMMSSmmm format string
$tw.utils.parseDate = function(value) {
  if(typeof value === "string") {
    return new Date(Date.UTC(parseInt(value.substr(0,4),10),
        parseInt(value.substr(4,2),10)-1,
        parseInt(value.substr(6,2),10),
        parseInt(value.substr(8,2)||"00",10),
        parseInt(value.substr(10,2)||"00",10),
        parseInt(value.substr(12,2)||"00",10),
        parseInt(value.substr(14,3)||"000",10)));
  } else if($tw.utils.isDate(value)) {
    return value;
  } else {
    return null;
  }
};

// Stringify an array of tiddler titles into a list string
$tw.utils.stringifyList = function(value) {
  var result = [];
  for(var t=0; t<value.length; t++) {
    if(value[t].indexOf(" ") !== -1) {
      result.push("[[" + value[t] + "]]");
    } else {
      result.push(value[t]);
    }
  }
  return result.join(" ");
};

// Parse a string array from a bracketted list. For example "OneTiddler [[Another Tiddler]] LastOne"
$tw.utils.parseStringArray = function(value) {
  if(typeof value === "string") {
    var memberRegExp = /(?:^|[^\S\xA0])(?:\[\[(.*?)\]\])(?=[^\S\xA0]|$)|([\S\xA0]+)/mg,
      results = [],
      match;
    do {
      match = memberRegExp.exec(value);
      if(match) {
        var item = match[1] || match[2];
        if(item !== undefined && results.indexOf(item) === -1) {
          results.push(item);
        }
      }
    } while(match);
    return results;
  } else if($tw.utils.isArray(value)) {
    return value;
  } else {
    return null;
  }
};

// Parse a block of name:value fields. The `fields` object is used as the basis for the return value
$tw.utils.parseFields = function(text,fields) {
  fields = fields || Object.create(null);
  text.split(/\r?\n/mg).forEach(function(line) {
    if(line.charAt(0) !== "#") {
      var p = line.indexOf(":");
      if(p !== -1) {
        var field = line.substr(0, p).trim(),
          value = line.substr(p+1).trim();
        if(field) {
          fields[field] = value;
        }
      }
    }
  });
  return fields;
};

/*
Resolves a source filepath delimited with `/` relative to a specified absolute root filepath.
In relative paths, the special folder name `..` refers to immediate parent directory, and the
name `.` refers to the current directory
*/
$tw.utils.resolvePath = function(sourcepath,rootpath) {
  // If the source path starts with ./ or ../ then it is relative to the root
  if(sourcepath.substr(0,2) === "./" || sourcepath.substr(0,3) === "../" ) {
    var src = sourcepath.split("/"),
      root = rootpath.split("/");
    // Remove the filename part of the root
    root.splice(root.length-1,1);
    // Process the source path bit by bit onto the end of the root path
    while(src.length > 0) {
      var c = src.shift();
      if(c === "..") { // Slice off the last root entry for a double dot
        if(root.length > 0) {
          root.splice(root.length-1,1);
        }
      } else if(c !== ".") { // Ignore dots
        root.push(c); // Copy other elements across
      }
    }
    return root.join("/");
  } else {
    // If it isn't relative, just return the path
    if(rootpath) {
      var root = rootpath.split("/");
      // Remove the filename part of the root
      root.splice(root.length - 1, 1);
      return root.join("/") + "/" + sourcepath;
    } else {
      return sourcepath;
    }
  }
};

/*
Parse a semantic version string into its constituent parts
*/
$tw.utils.parseVersion = function(version) {
  var match = /^((\d+)\.(\d+)\.(\d+))(?:-([\dA-Za-z\-]+(?:\.[\dA-Za-z\-]+)*))?(?:\+([\dA-Za-z\-]+(?:\.[\dA-Za-z\-]+)*))?$/.exec(version);
  if(match) {
    return {
      version: match[1],
      major: parseInt(match[2],10),
      minor: parseInt(match[3],10),
      patch: parseInt(match[4],10),
      prerelease: match[5],
      build: match[6]
    };
  } else {
    return null;
  }
};

/*
Returns true if the version string A is greater than the version string B. Returns true if the versions are the same
*/
$tw.utils.checkVersions = function(versionStringA,versionStringB) {
  var defaultVersion = {
    major: 0,
    minor: 0,
    patch: 0
  },
  versionA = $tw.utils.parseVersion(versionStringA) || defaultVersion,
  versionB = $tw.utils.parseVersion(versionStringB) || defaultVersion,
  diff = [
    versionA.major - versionB.major,
    versionA.minor - versionB.minor,
    versionA.patch - versionB.patch
  ];
  return (diff[0] > 0) ||
    (diff[0] === 0 && diff[1] > 0) ||
    (diff[0] === 0 && diff[1] === 0 && diff[2] >= 0);
};

/*
Register file type information
options: {flags: flags,deserializerType: deserializerType}
  flags:"image" for image types
  deserializerType: defaults to type if not specified
*/
$tw.utils.registerFileType = function(type,encoding,extension,options) {
  options = options || {};
  if($tw.utils.isArray(extension)) {
    $tw.utils.each(extension,function(extension) {
      $tw.config.fileExtensionInfo[extension] = {type: type};
    });
    extension = extension[0];
  } else {
    $tw.config.fileExtensionInfo[extension] = {type: type};
  }
  $tw.config.contentTypeInfo[type] = {encoding: encoding, extension: extension, flags: options.flags || [], deserializerType: options.deserializerType || type};
};

/*
Given an extension, always access the $tw.config.fileExtensionInfo
using a lowercase extension only.
*/
$tw.utils.getFileExtensionInfo = function(ext) {
  return ext ? $tw.config.fileExtensionInfo[ext.toLowerCase()] : null;
}

/*
Given an extension, get the correct encoding for that file.
defaults to utf8
*/
$tw.utils.getTypeEncoding = function(ext) {
  var extensionInfo = $tw.utils.getFileExtensionInfo(ext),
    type = extensionInfo ? extensionInfo.type : null,
    typeInfo = type ? $tw.config.contentTypeInfo[type] : null;
  return typeInfo ? typeInfo.encoding : "utf8";
};

/*
Run code globally with specified context variables in scope
*/
$tw.utils.evalGlobal = function(code,context,filename) {
  var contextCopy = $tw.utils.extend(Object.create(null),context);
  // Get the context variables as a pair of arrays of names and values
  var contextNames = [], contextValues = [];
  $tw.utils.each(contextCopy,function(value,name) {
    contextNames.push(name);
    contextValues.push(value);
  });
  // Add the code prologue and epilogue
  code = "(function(" + contextNames.join(",") + ") {(function(){\n" + code + "\n;})();\nreturn exports;\n})\n";
  // Compile the code into a function
  var fn;
  if($tw.browser) {
    fn = window["eval"](code + "\n\n//# sourceURL=" + filename);
  } else {
    fn = vm.runInThisContext(code,filename);
  }
  // Call the function and return the exports
  return fn.apply(null,contextValues);
};

/*
Run code in a sandbox with only the specified context variables in scope
*/
$tw.utils.evalSandboxed = $tw.browser ? $tw.utils.evalGlobal : function(code,context,filename) {
  var sandbox = $tw.utils.extend(Object.create(null),context);
  vm.runInNewContext(code,sandbox,filename);
  return sandbox.exports;
};

/*
Creates a PasswordPrompt object
*/
$tw.utils.PasswordPrompt = function() {
  // Store of pending password prompts
  this.passwordPrompts = [];
  // Create the wrapper
  this.promptWrapper = $tw.utils.domMaker("div",{"class":"tc-password-wrapper"});
  document.body.appendChild(this.promptWrapper);
  // Hide the empty wrapper
  this.setWrapperDisplay();
};

/*
Hides or shows the wrapper depending on whether there are any outstanding prompts
*/
$tw.utils.PasswordPrompt.prototype.setWrapperDisplay = function() {
  if(this.passwordPrompts.length) {
    this.promptWrapper.style.display = "block";
  } else {
    this.promptWrapper.style.display = "none";
  }
};

/*
Adds a new password prompt. Options are:
submitText: text to use for submit button (defaults to "Login")
serviceName: text of the human readable service name
noUserName: set true to disable username prompt
canCancel: set true to enable a cancel button (callback called with null)
repeatPassword: set true to prompt for the password twice
callback: function to be called on submission with parameter of object {username:,password:}. Callback must return `true` to remove the password prompt
*/
$tw.utils.PasswordPrompt.prototype.createPrompt = function(options) {
  // Create and add the prompt to the DOM
  var self = this,
    submitText = options.submitText || "Login",
    dm = $tw.utils.domMaker,
    children = [dm("h1",{text: options.serviceName})];
  if(!options.noUserName) {
    children.push(dm("input",{
      attributes: {type: "text", name: "username", placeholder: $tw.language.getString("Encryption/Username")}
    }));
  }
  children.push(dm("input",{
    attributes: {
      type: "password",
      name: "password",
      placeholder: ( $tw.language == undefined ? "Password" : $tw.language.getString("Encryption/Password") )
    }
  }));
  if(options.repeatPassword) {
    children.push(dm("input",{
      attributes: {
        type: "password",
        name: "password2",
        placeholder: $tw.language.getString("Encryption/RepeatPassword")
      }
    }));
  }
  if(options.canCancel) {
    children.push(dm("button",{
      text: $tw.language.getString("Encryption/Cancel"),
      eventListeners: [{
          name: "click",
          handlerFunction: function(event) {
            self.removePrompt(promptInfo);
            options.callback(null);
          }
        }]
    }));
  }
  children.push(dm("button",{
    attributes: {type: "submit"},
    text: submitText
  }));
  var form = dm("form",{
    attributes: {autocomplete: "off"},
    children: children
  });
  this.promptWrapper.appendChild(form);
  window.setTimeout(function() {
    form.elements[0].focus();
  },10);
  // Add a submit event handler
  var self = this;
  form.addEventListener("submit",function(event) {
    // Collect the form data
    var data = {},t;
    $tw.utils.each(form.elements,function(element) {
      if(element.name && element.value) {
        data[element.name] = element.value;
      }
    });
    // Check that the passwords match
    if(options.repeatPassword && data.password !== data.password2) {
      alert($tw.language.getString("Encryption/PasswordNoMatch"));
    } else {
      // Call the callback
      if(options.callback(data)) {
        // Remove the prompt if the callback returned true
        self.removePrompt(promptInfo);
      } else {
        // Clear the password if the callback returned false
        $tw.utils.each(form.elements,function(element) {
          if(element.name === "password" || element.name === "password2") {
            element.value = "";
          }
        });
      }
    }
    event.preventDefault();
    return false;
  },true);
  // Add the prompt to the list
  var promptInfo = {
    serviceName: options.serviceName,
    callback: options.callback,
    form: form
  };
  this.passwordPrompts.push(promptInfo);
  // Make sure the wrapper is displayed
  this.setWrapperDisplay();
};

$tw.utils.PasswordPrompt.prototype.removePrompt = function(promptInfo) {
  var i = this.passwordPrompts.indexOf(promptInfo);
  if(i !== -1) {
    this.passwordPrompts.splice(i,1);
    promptInfo.form.parentNode.removeChild(promptInfo.form);
    this.setWrapperDisplay();
  }
}

/*
Crypto helper object for encrypted content. It maintains the password text in a closure, and provides methods to change
the password, and to encrypt/decrypt a block of text
*/
$tw.utils.Crypto = function() {
  var sjcl = $tw.node ? (global.sjcl || require("./sjcl.js")) : window.sjcl,
    currentPassword = null,
    callSjcl = function(method,inputText,password) {
      password = password || currentPassword;
      var outputText;
      try {
        if(password) {
          outputText = sjcl[method](password,inputText);
        }
      } catch(ex) {
        console.log("Crypto error:" + ex);
        outputText = null;
      }
      return outputText;
    };
  this.setPassword = function(newPassword) {
    currentPassword = newPassword;
    this.updateCryptoStateTiddler();
  };
  this.updateCryptoStateTiddler = function() {
    if($tw.wiki) {
      var state = currentPassword ? "yes" : "no",
        tiddler = $tw.wiki.getTiddler("$:/isEncrypted");
      if(!tiddler || tiddler.fields.text !== state) {
        $tw.wiki.addTiddler(new $tw.Tiddler({title: "$:/isEncrypted", text: state}));
      }
    }
  };
  this.hasPassword = function() {
    return !!currentPassword;
  }
  this.encrypt = function(text,password) {
    return callSjcl("encrypt",text,password);
  };
  this.decrypt = function(text,password) {
    return callSjcl("decrypt",text,password);
  };
};

/////////////////////////// Module mechanism

/*
Execute the module named 'moduleName'. The name can optionally be relative to the module named 'moduleRoot'
*/
$tw.modules.execute = function(moduleName,moduleRoot) {
  var name = moduleName[0] === "." ? $tw.utils.resolvePath(moduleName,moduleRoot) : moduleName,
    moduleInfo = $tw.modules.titles[name] || $tw.modules.titles[name + ".js"] || $tw.modules.titles[moduleName] || $tw.modules.titles[moduleName + ".js"] ,
    tiddler = $tw.wiki.getTiddler(name) || $tw.wiki.getTiddler(name + ".js") || $tw.wiki.getTiddler(moduleName) || $tw.wiki.getTiddler(moduleName + ".js") ,
    _exports = {},
    sandbox = {
      module: {exports: _exports},
      //moduleInfo: moduleInfo,
      exports: _exports,
      console: console,
      setInterval: setInterval,
      clearInterval: clearInterval,
      setTimeout: setTimeout,
      clearTimeout: clearTimeout,
      Buffer: $tw.browser ? {} : Buffer,
      $tw: $tw,
      require: function(title) {
        return $tw.modules.execute(title, name);
      }
    };

  Object.defineProperty(sandbox.module, "id", {
    value: name,
    writable: false,
    enumerable: true,
    configurable: false
  });

  if(!$tw.browser) {
    $tw.utils.extend(sandbox,{
      process: process
    });
  } else {
    /*
    CommonJS optional require.main property:
     In a browser we offer a fake main module which points back to the boot function
     (Theoretically, this may allow TW to eventually load itself as a module in the browser)
    */
    Object.defineProperty(sandbox.require, "main", {
      value: (typeof(require) !== "undefined") ? require.main : {TiddlyWiki: _boot},
      writable: false,
      enumerable: true,
      configurable: false
    });
  }
  if(!moduleInfo) {
    // We could not find the module on this path
    // Try to defer to browserify etc, or node
    var deferredModule;
    if($tw.browser) {
      if(window.require) {
        try {
          return window.require(moduleName);
        } catch(e) {}
      }
      throw "Cannot find module named '" + moduleName + "' required by module '" + moduleRoot + "', resolved to " + name;
    } else {
      // If we don't have a module with that name, let node.js try to find it
      return require(moduleName);
    }
  }
  // Execute the module if we haven't already done so
  if(!moduleInfo.exports) {
    try {
      // Check the type of the definition
      if(typeof moduleInfo.definition === "function") { // Function
        moduleInfo.exports = _exports;
        moduleInfo.definition(moduleInfo,moduleInfo.exports,sandbox.require);
      } else if(typeof moduleInfo.definition === "string") { // String
        moduleInfo.exports = _exports;
        $tw.utils.evalSandboxed(moduleInfo.definition,sandbox,tiddler.fields.title);
        if(sandbox.module.exports) {
          moduleInfo.exports = sandbox.module.exports; //more codemirror workaround
        }
      } else { // Object
        moduleInfo.exports = moduleInfo.definition;
      }
    } catch(e) {
      $tw.utils.error("Error executing boot module " + name + ":\n" + e.stack);
    }
  }
  // Return the exports of the module
  return moduleInfo.exports;
};

/*
Apply a callback to each module of a particular type
  moduleType: type of modules to enumerate
  callback: function called as callback(title,moduleExports) for each module
*/
$tw.modules.forEachModuleOfType = function(moduleType,callback) {
  var modules = $tw.modules.types[moduleType];
  $tw.utils.each(modules,function(element,title) {
    callback(title,$tw.modules.execute(title));
  });
};

/*
Get all the modules of a particular type in a hashmap by their `name` field
*/
$tw.modules.getModulesByTypeAsHashmap = function(moduleType,nameField) {
  nameField = nameField || "name";
  var results = Object.create(null);
  $tw.modules.forEachModuleOfType(moduleType,function(title,module) {
    results[module[nameField]] = module;
  });
  return results;
};

/*
Apply the exports of the modules of a particular type to a target object
*/
$tw.modules.applyMethods = function(moduleType,targetObject) {
  if(!targetObject) {
    targetObject = Object.create(null);
  }
  $tw.modules.forEachModuleOfType(moduleType,function(title,module) {
    $tw.utils.each(module,function(element,title,object) {
      targetObject[title] = module[title];
    });
  });
  return targetObject;
};

/*
Return an array of classes created from the modules of a specified type. Each module should export the properties to be added to those of the optional base class
*/
$tw.modules.createClassesFromModules = function(moduleType,subType,baseClass) {
  var classes = Object.create(null);
  $tw.modules.forEachModuleOfType(moduleType,function(title,moduleExports) {
    if(!subType || moduleExports.types[subType]) {
      var newClass = function() {};
      if(baseClass) {
        newClass.prototype = new baseClass();
        newClass.prototype.constructor = baseClass;
      }
      $tw.utils.extend(newClass.prototype,moduleExports);
      classes[moduleExports.name] = newClass;
    }
  });
  return classes;
};

/////////////////////////// Barebones tiddler object

/*
Construct a tiddler object from a hashmap of tiddler fields. If multiple hasmaps are provided they are merged,
taking precedence to the right
*/
$tw.Tiddler = function(/* [fields,] fields */) {
  this.fields = Object.create(null);
  for(var c=0; c<arguments.length; c++) {
    var arg = arguments[c],
      src = (arg instanceof $tw.Tiddler) ? arg.fields : arg;
    for(var t in src) {
      if(src[t] === undefined || src[t] === null) {
        if(t in this.fields) {
          delete this.fields[t]; // If we get a field that's undefined, delete any previous field value
        }
      } else {
        // Parse the field with the associated field module (if any)
        var fieldModule = $tw.Tiddler.fieldModules[t],
          value;
        if(fieldModule && fieldModule.parse) {
          value = fieldModule.parse.call(this,src[t]);
        } else {
          value = src[t];
        }
        // Freeze the field to keep it immutable
        if(value != null && typeof value === "object") {
          Object.freeze(value);
        }
        this.fields[t] = value;
      }
    }
  }
  // Freeze the tiddler against modification
  Object.freeze(this.fields);
};

$tw.Tiddler.prototype.hasField = function(field) {
  return $tw.utils.hop(this.fields,field);
};

/*
Register and install the built in tiddler field modules
*/
$tw.modules.define("$:/boot/tiddlerfields/modified","tiddlerfield",{
  name: "modified",
  parse: $tw.utils.parseDate,
  stringify: $tw.utils.stringifyDate
});
$tw.modules.define("$:/boot/tiddlerfields/created","tiddlerfield",{
  name: "created",
  parse: $tw.utils.parseDate,
  stringify: $tw.utils.stringifyDate
});
$tw.modules.define("$:/boot/tiddlerfields/color","tiddlerfield",{
  name: "color",
  editTag: "input",
  editType: "color"
});
$tw.modules.define("$:/boot/tiddlerfields/tags","tiddlerfield",{
  name: "tags",
  parse: $tw.utils.parseStringArray,
  stringify: $tw.utils.stringifyList
});
$tw.modules.define("$:/boot/tiddlerfields/list","tiddlerfield",{
  name: "list",
  parse: $tw.utils.parseStringArray,
  stringify: $tw.utils.stringifyList
});

/////////////////////////// Barebones wiki store

/*
Wiki constructor. State is stored in private members that only a small number of privileged accessor methods have direct access. Methods added via the prototype have to use these accessors and cannot access the state data directly.
options include:
shadowTiddlers: Array of shadow tiddlers to be added
*/
$tw.Wiki = function(options) {
  options = options || {};
  var self = this,
    tiddlers = Object.create(null), // Hashmap of tiddlers
    pluginTiddlers = [], // Array of tiddlers containing registered plugins, ordered by priority
    pluginInfo = Object.create(null), // Hashmap of parsed plugin content
    shadowTiddlers = options.shadowTiddlers || Object.create(null); // Hashmap by title of {source:, tiddler:}

  // Add a tiddler to the store
  this.addTiddler = function(tiddler) {
    if(!(tiddler instanceof $tw.Tiddler)) {
      tiddler = new $tw.Tiddler(tiddler);
    }
    // Save the tiddler
    if(tiddler) {
      var title = tiddler.fields.title;
      if(title) {
// Uncomment the following line for detailed logs of all tiddler writes
// console.log("Adding",title,tiddler)
        tiddlers[title] = tiddler;
        this.clearCache(title);
        this.clearGlobalCache();
        this.enqueueTiddlerEvent(title);
      }
    }
  };

  // Delete a tiddler
  this.deleteTiddler = function(title) {
// Uncomment the following line for detailed logs of all tiddler deletions
// console.log("Deleting",title,tiddler)
    if($tw.utils.hop(tiddlers,title)) {
      delete tiddlers[title];
      this.clearCache(title);
      this.clearGlobalCache();
      this.enqueueTiddlerEvent(title,true);
    }
  };

  // Get a tiddler from the store
  this.getTiddler = function(title) {
    var t = tiddlers[title];
    if(t instanceof $tw.Tiddler) {
      return t;
    } else if(title !== undefined && Object.prototype.hasOwnProperty.call(shadowTiddlers,title)) {
      return shadowTiddlers[title].tiddler;
    } else {
      return undefined;
    }
  };

  // Get an array of all tiddler titles
  this.allTitles = function() {
    return Object.keys(tiddlers);
  };

  // Iterate through all tiddler titles
  this.each = function(callback) {
    var titles = Object.keys(tiddlers),
      index,titlesLength,title;
    for(index = 0, titlesLength = titles.length; index < titlesLength; index++) {
      title = titles[index];
      callback(tiddlers[title],title);
    }
  };

  // Get an array of all shadow tiddler titles
  this.allShadowTitles = function() {
    return Object.keys(shadowTiddlers);
  };

  // Iterate through all shadow tiddler titles
  this.eachShadow = function(callback) {
    var titles = Object.keys(shadowTiddlers),
      index,titlesLength,title;
    for(index = 0, titlesLength = titles.length; index < titlesLength; index++) {
      title = titles[index];
      var shadowInfo = shadowTiddlers[title];
      callback(shadowInfo.tiddler,title);
    }
  };

  // Iterate through all tiddlers and then the shadows
  this.eachTiddlerPlusShadows = function(callback) {
    var titles = Object.keys(tiddlers),
      index,titlesLength,title;
    for(index = 0, titlesLength = titles.length; index < titlesLength; index++) {
      title = titles[index];
      callback(tiddlers[title],title);
    }
    titles = Object.keys(shadowTiddlers);
    for(index = 0, titlesLength = titles.length; index < titlesLength; index++) {
      title = titles[index];
      if(!Object.prototype.hasOwnProperty.call(tiddlers,title)) {
        var shadowInfo = shadowTiddlers[title];
        callback(shadowInfo.tiddler,title);
      }
    }
  };

  // Iterate through all the shadows and then the tiddlers
  this.eachShadowPlusTiddlers = function(callback) {
    var titles = Object.keys(shadowTiddlers),
      index,titlesLength,title;
    for(index = 0, titlesLength = titles.length; index < titlesLength; index++) {
      title = titles[index];
      if(Object.prototype.hasOwnProperty.call(tiddlers,title)) {
        callback(tiddlers[title],title);
      } else {
        var shadowInfo = shadowTiddlers[title];
        callback(shadowInfo.tiddler,title);
      }
    }
    titles = Object.keys(tiddlers);
    for(index = 0, titlesLength = titles.length; index < titlesLength; index++) {
      title = titles[index];
      if(!Object.prototype.hasOwnProperty.call(shadowTiddlers,title)) {
        callback(tiddlers[title],title);
      }
    }

  };

  // Test for the existence of a tiddler (excludes shadow tiddlers)
  this.tiddlerExists = function(title) {
    return !!$tw.utils.hop(tiddlers,title);
  };

  // Determines if a tiddler is a shadow tiddler, regardless of whether it has been overridden by a real tiddler
  this.isShadowTiddler = function(title) {
    return $tw.utils.hop(shadowTiddlers,title);
  };

  this.getShadowSource = function(title) {
    if($tw.utils.hop(shadowTiddlers,title)) {
      return shadowTiddlers[title].source;
    }
    return null;
  };

  // Read plugin info for all plugins
  this.readPluginInfo = function() {
    for(var title in tiddlers) {
      var tiddler = tiddlers[title];
      if(tiddler.fields.type === "application/json" && tiddler.hasField("plugin-type")) {
        pluginInfo[tiddler.fields.title] = JSON.parse(tiddler.fields.text);
      }

    }
  };

  // Get plugin info for a plugin
  this.getPluginInfo = function(title) {
    return pluginInfo[title];
  };

  // Register the plugin tiddlers of a particular type, optionally restricting registration to an array of tiddler titles. Return the array of titles affected
  this.registerPluginTiddlers = function(pluginType,titles) {
    var self = this,
      registeredTitles = [],
      checkTiddler = function(tiddler,title) {
        if(tiddler && tiddler.fields.type === "application/json" && tiddler.fields["plugin-type"] === pluginType) {
          var disablingTiddler = self.getTiddler("$:/config/Plugins/Disabled/" + title);
          if(title === "$:/core" || !disablingTiddler || (disablingTiddler.fields.text || "").trim() !== "yes") {
            pluginTiddlers.push(tiddler);
            registeredTitles.push(tiddler.fields.title);
          }
        }
      };
    if(titles) {
      $tw.utils.each(titles,function(title) {
        checkTiddler(self.getTiddler(title),title);
      });
    } else {
      this.each(function(tiddler,title) {
        checkTiddler(tiddler,title);
      });
    }
    return registeredTitles;
  };

  // Unregister the plugin tiddlers of a particular type, returning an array of the titles affected
  this.unregisterPluginTiddlers = function(pluginType) {
    var self = this,
      titles = [];
    // Remove any previous registered plugins of this type
    for(var t=pluginTiddlers.length-1; t>=0; t--) {
      var tiddler = pluginTiddlers[t];
      if(tiddler.fields["plugin-type"] === pluginType) {
        titles.push(tiddler.fields.title);
        pluginTiddlers.splice(t,1);
      }
    }
    return titles;
  };

  // Unpack the currently registered plugins, creating shadow tiddlers for their constituent tiddlers
  this.unpackPluginTiddlers = function() {
    var self = this;
    // Sort the plugin titles by the `plugin-priority` field
    pluginTiddlers.sort(function(a,b) {
      if("plugin-priority" in a.fields && "plugin-priority" in b.fields) {
        return a.fields["plugin-priority"] - b.fields["plugin-priority"];
      } else if("plugin-priority" in a.fields) {
        return -1;
      } else if("plugin-priority" in b.fields) {
        return +1;
      } else if(a.fields.title < b.fields.title) {
        return -1;
      } else if(a.fields.title === b.fields.title) {
        return 0;
      } else {
        return +1;
      }
    });
    // Now go through the plugins in ascending order and assign the shadows
    shadowTiddlers = Object.create(null);
    $tw.utils.each(pluginTiddlers,function(tiddler) {
      // Extract the constituent tiddlers
      if($tw.utils.hop(pluginInfo,tiddler.fields.title)) {
        $tw.utils.each(pluginInfo[tiddler.fields.title].tiddlers,function(constituentTiddler,constituentTitle) {
          // Save the tiddler object
          if(constituentTitle) {
            shadowTiddlers[constituentTitle] = {
              source: tiddler.fields.title,
              tiddler: new $tw.Tiddler(constituentTiddler,{title: constituentTitle})
            };
          }
        });
      }
    });
    this.clearCache(null);
    this.clearGlobalCache();
  };

};

// Dummy methods that will be filled in after boot
$tw.Wiki.prototype.clearCache =
$tw.Wiki.prototype.clearGlobalCache =
$tw.Wiki.prototype.enqueueTiddlerEvent = function() {};

// Add an array of tiddlers
$tw.Wiki.prototype.addTiddlers = function(tiddlers) {
  for(var t=0; t<tiddlers.length; t++) {
    this.addTiddler(tiddlers[t]);
  }
};

/*
Define all modules stored in ordinary tiddlers
*/
$tw.Wiki.prototype.defineTiddlerModules = function() {
  this.each(function(tiddler,title) {
    if(tiddler.hasField("module-type")) {
      switch (tiddler.fields.type) {
        case "application/javascript":
          // We only define modules that haven't already been defined, because in the browser modules in system tiddlers are defined in inline script
          if(!$tw.utils.hop($tw.modules.titles,tiddler.fields.title)) {
            $tw.modules.define(tiddler.fields.title,tiddler.fields["module-type"],tiddler.fields.text);
          }
          break;
        case "application/json":
          $tw.modules.define(tiddler.fields.title,tiddler.fields["module-type"],JSON.parse(tiddler.fields.text));
          break;
        case "application/x-tiddler-dictionary":
          $tw.modules.define(tiddler.fields.title,tiddler.fields["module-type"],$tw.utils.parseFields(tiddler.fields.text));
          break;
      }
    }
  });
};

/*
Register all the module tiddlers that have a module type
*/
$tw.Wiki.prototype.defineShadowModules = function() {
  var self = this;
  this.eachShadow(function(tiddler,title) {
    // Don't define the module if it is overidden by an ordinary tiddler
    if(!self.tiddlerExists(title) && tiddler.hasField("module-type")) {
      // Define the module
      $tw.modules.define(tiddler.fields.title,tiddler.fields["module-type"],tiddler.fields.text);
    }
  });
};

/*
Enable safe mode by deleting any tiddlers that override a shadow tiddler
*/
$tw.Wiki.prototype.processSafeMode = function() {
  var self = this,
    overrides = [];
  // Find the overriding tiddlers
  this.each(function(tiddler,title) {
    if(self.isShadowTiddler(title)) {
      console.log(title);
      overrides.push(title);
    }
  });
  // Assemble a report tiddler
  var titleReportTiddler = "TiddlyWiki Safe Mode",
    report = [];
  report.push("TiddlyWiki has been started in [[safe mode|http://tiddlywiki.com/static/SafeMode.html]]. All plugins are temporarily disabled. Most customisations have been disabled by renaming the following tiddlers:")
  // Delete the overrides
  overrides.forEach(function(title) {
    var tiddler = self.getTiddler(title),
      newTitle = "SAFE: " + title;
    self.deleteTiddler(title);
    self.addTiddler(new $tw.Tiddler(tiddler, {title: newTitle}));
    report.push("* [[" + title + "|" + newTitle + "]]");
  });
  report.push()
  this.addTiddler(new $tw.Tiddler({title: titleReportTiddler, text: report.join("\n\n")}));
  // Set $:/DefaultTiddlers to point to our report
  this.addTiddler(new $tw.Tiddler({title: "$:/DefaultTiddlers", text: "[[" + titleReportTiddler + "]]"}));
};

/*
Extracts tiddlers from a typed block of text, specifying default field values
*/
$tw.Wiki.prototype.deserializeTiddlers = function(type,text,srcFields) {
  srcFields = srcFields || Object.create(null);
  var deserializer = $tw.Wiki.tiddlerDeserializerModules[type],
    fields = Object.create(null);
  if(!deserializer && $tw.utils.getFileExtensionInfo(type)) {
    // If we didn't find the serializer, try converting it from an extension to a content type
    type = $tw.utils.getFileExtensionInfo(type).type;
    deserializer = $tw.Wiki.tiddlerDeserializerModules[type];
  }
  if(!deserializer && $tw.config.contentTypeInfo[type]) {
    // see if this type has a different deserializer registered with it
    type = $tw.config.contentTypeInfo[type].deserializerType;
    deserializer = $tw.Wiki.tiddlerDeserializerModules[type];
  }
  if(!deserializer) {
    // If we still don't have a deserializer, treat it as plain text
    deserializer = $tw.Wiki.tiddlerDeserializerModules["text/plain"];
  }
  for(var f in srcFields) {
    fields[f] = srcFields[f];
  }
  if(deserializer) {
    return deserializer.call(this,text,fields,type);
  } else {
    // Return a raw tiddler for unknown types
    fields.text = text;
    return [fields];
  }
};

/*
Register the built in tiddler deserializer modules
*/
$tw.modules.define("$:/boot/tiddlerdeserializer/js","tiddlerdeserializer",{
  "application/javascript": function(text,fields) {
    var headerCommentRegExp = new RegExp($tw.config.jsModuleHeaderRegExpString,"mg"),
      match = headerCommentRegExp.exec(text);
    fields.text = text;
    if(match) {
      fields = $tw.utils.parseFields(match[1].split(/\r?\n\r?\n/mg)[0],fields);
    }
    return [fields];
  }
});
$tw.modules.define("$:/boot/tiddlerdeserializer/tid","tiddlerdeserializer",{
  "application/x-tiddler": function(text,fields) {
    var split = text.split(/\r?\n\r?\n/mg);
    if(split.length >= 1) {
      fields = $tw.utils.parseFields(split[0],fields);
    }
    if(split.length >= 2) {
      fields.text = split.slice(1).join("\n\n");
    }
    return [fields];
  }
});
$tw.modules.define("$:/boot/tiddlerdeserializer/tids","tiddlerdeserializer",{
  "application/x-tiddlers": function(text,fields) {
    var titles = [],
      tiddlers = [],
      match = /\r?\n\r?\n/mg.exec(text);
    if(match) {
      fields = $tw.utils.parseFields(text.substr(0,match.index),fields);
      var lines = text.substr(match.index + match[0].length).split(/\r?\n/mg);
      for(var t=0; t<lines.length; t++) {
        var line = lines[t];
        if(line.charAt(0) !== "#") {
          var colonPos= line.indexOf(": ");
          if(colonPos !== -1) {
            var tiddler = $tw.utils.extend(Object.create(null),fields);
            tiddler.title = (tiddler.title || "") + line.substr(0,colonPos);
            if(titles.indexOf(tiddler.title) !== -1) {
              console.log("Warning: .multids file contains multiple definitions for " + tiddler.title);
            }
            titles.push(tiddler.title);
            tiddler.text = line.substr(colonPos + 2);
            tiddlers.push(tiddler);
          }
        }
      }
    }
    return tiddlers;
  }
});
$tw.modules.define("$:/boot/tiddlerdeserializer/txt","tiddlerdeserializer",{
  "text/plain": function(text,fields,type) {
    fields.text = text;
    fields.type = type || "text/plain";
    return [fields];
  }
});
$tw.modules.define("$:/boot/tiddlerdeserializer/html","tiddlerdeserializer",{
  "text/html": function(text,fields) {
    fields.text = text;
    fields.type = "text/html";
    return [fields];
  }
});
$tw.modules.define("$:/boot/tiddlerdeserializer/json","tiddlerdeserializer",{
  "application/json": function(text,fields) {
    var tiddlers = JSON.parse(text);
    return tiddlers;
  }
});

/////////////////////////// Browser definitions

if($tw.browser && !$tw.node) {

/*
Decrypt any tiddlers stored within the element with the ID "encryptedArea". The function is asynchronous to allow the user to be prompted for a password
  callback: function to be called the decryption is complete
*/
$tw.boot.decryptEncryptedTiddlers = function(callback) {
  var encryptedArea = document.getElementById("encryptedStoreArea");
  if(encryptedArea) {
    var encryptedText = encryptedArea.innerHTML,
      prompt = "Enter a password to decrypt this TiddlyWiki";
    // Prompt for the password
    if($tw.utils.hop($tw.boot,"encryptionPrompts")) {
      prompt = $tw.boot.encryptionPrompts.decrypt;
    }
    $tw.passwordPrompt.createPrompt({
      serviceName: prompt,
      noUserName: true,
      submitText: "Decrypt",
      callback: function(data) {
        // Attempt to decrypt the tiddlers
        $tw.crypto.setPassword(data.password);
        var decryptedText = $tw.crypto.decrypt(encryptedText);
        if(decryptedText) {
          var json = JSON.parse(decryptedText);
          for(var title in json) {
            $tw.preloadTiddler(json[title]);
          }
          // Call the callback
          callback();
          // Exit and remove the password prompt
          return true;
        } else {
          // We didn't decrypt everything, so continue to prompt for password
          return false;
        }
      }
    });
  } else {
    // Just invoke the callback straight away if there weren't any encrypted tiddlers
    callback();
  }
};

/*
Register a deserializer that can extract tiddlers from the DOM
*/
$tw.modules.define("$:/boot/tiddlerdeserializer/dom","tiddlerdeserializer",{
  "(DOM)": function(node) {
    var extractTextTiddlers = function(node) {
        var e = node.firstChild;
        while(e && e.nodeName.toLowerCase() !== "pre") {
          e = e.nextSibling;
        }
        var title = node.getAttribute ? node.getAttribute("title") : null;
        if(e && title) {
          var attrs = node.attributes,
            tiddler = {
              text: $tw.utils.htmlDecode(e.innerHTML)
            };
          for(var i=attrs.length-1; i >= 0; i--) {
            tiddler[attrs[i].name] = attrs[i].value;
          }
          return [tiddler];
        } else {
          return null;
        }
      },
      extractModuleTiddlers = function(node) {
        if(node.hasAttribute && node.hasAttribute("data-tiddler-title")) {
          var text = node.innerHTML,
            s = text.indexOf("{"),
            e = text.lastIndexOf("}");
          if(node.hasAttribute("data-module") && s !== -1 && e !== -1) {
            text = text.substring(s+1,e);
          }
          var fields = {text: text},
            attributes = node.attributes;
          for(var a=0; a<attributes.length; a++) {
            if(attributes[a].nodeName.substr(0,13) === "data-tiddler-") {
              fields[attributes[a].nodeName.substr(13)] = attributes[a].value;
            }
          }
          return [fields];
        } else {
          return null;
        }
      },
      t,result = [];
    if(node) {
      for(t = 0; t < node.childNodes.length; t++) {
          var childNode = node.childNodes[t],
            tiddlers = extractTextTiddlers(childNode);
          tiddlers = tiddlers || extractModuleTiddlers(childNode);
          if(tiddlers) {
            result.push.apply(result,tiddlers);
          }
      }
    }
    return result;
  }
});

$tw.loadTiddlersBrowser = function() {
  // In the browser, we load tiddlers from certain elements
  var containerIds = [
    "libraryModules",
    "modules",
    "bootKernelPrefix",
    "bootKernel",
    "styleArea",
    "storeArea",
    "systemArea"
  ];
  for(var t=0; t<containerIds.length; t++) {
    $tw.wiki.addTiddlers($tw.wiki.deserializeTiddlers("(DOM)",document.getElementById(containerIds[t])));
  }
};

} else {

/////////////////////////// Server definitions

/*
Get any encrypted tiddlers
*/
$tw.boot.decryptEncryptedTiddlers = function(callback) {
  // Storing encrypted tiddlers on the server isn't supported yet
  callback();
};

} // End of if($tw.browser && !$tw.node)

/////////////////////////// Node definitions

if($tw.node) {

/*
Load the tiddlers contained in a particular file (and optionally extract fields from the accompanying .meta file) returned as {filepath:,type:,tiddlers:[],hasMetaFile:}
*/
$tw.loadTiddlersFromFile = function(filepath,fields) {
  var ext = path.extname(filepath),
    extensionInfo = $tw.utils.getFileExtensionInfo(ext),
    type = extensionInfo ? extensionInfo.type : null,
    typeInfo = type ? $tw.config.contentTypeInfo[type] : null,
    data = fs.readFileSync(filepath,typeInfo ? typeInfo.encoding : "utf8"),
    tiddlers = $tw.wiki.deserializeTiddlers(ext,data,fields),
    metafile = filepath + ".meta",
    metadata;
  if(ext !== ".json" && tiddlers.length === 1 && fs.existsSync(metafile)) {
    metadata = fs.readFileSync(metafile,"utf8");
    if(metadata) {
      tiddlers = [$tw.utils.parseFields(metadata,tiddlers[0])];
    }
  }
  return {filepath: filepath, type: type, tiddlers: tiddlers, hasMetaFile: !!metadata};
};

/*
A default set of files for TiddlyWiki to ignore during load.
This matches what NPM ignores, and adds "*.meta" to ignore tiddler
metadata files.
*/
$tw.boot.excludeRegExp = /^\.DS_Store$|^.*\.meta$|^\..*\.swp$|^\._.*$|^\.git$|^\.hg$|^\.lock-wscript$|^\.svn$|^\.wafpickle-.*$|^CVS$|^npm-debug\.log$/;

/*
Load all the tiddlers recursively from a directory, including honouring `tiddlywiki.files` files for drawing in external files. Returns an array of {filepath:,type:,tiddlers: [{..fields...}],hasMetaFile:}. Note that no file information is returned for externally loaded tiddlers, just the `tiddlers` property.
*/
$tw.loadTiddlersFromPath = function(filepath,excludeRegExp) {
  excludeRegExp = excludeRegExp || $tw.boot.excludeRegExp;
  var tiddlers = [];
  if(fs.existsSync(filepath)) {
    var stat = fs.statSync(filepath);
    if(stat.isDirectory()) {
      var files = fs.readdirSync(filepath);
      // Look for a tiddlywiki.files file
      if(files.indexOf("tiddlywiki.files") !== -1) {
        // If so, process the files it describes
        var filesInfo = JSON.parse(fs.readFileSync(filepath + path.sep + "tiddlywiki.files","utf8"));
        // First the tiddlers
        $tw.utils.each(filesInfo.tiddlers,function(tidInfo) {
          var type = tidInfo.fields.type || "text/plain",
            typeInfo = $tw.config.contentTypeInfo[type],
            pathname = path.resolve(filepath,tidInfo.file),
            text = fs.readFileSync(pathname,typeInfo ? typeInfo.encoding : "utf8");
          if(tidInfo.isTiddlerFile) {
            var fileTiddlers = $tw.wiki.deserializeTiddlers(path.extname(pathname),text) || [];
            $tw.utils.each(fileTiddlers,function(tiddler) {
              $tw.utils.extend(tiddler,tidInfo.fields);
              if(tidInfo.prefix) {
                tiddler.text = tidInfo.prefix + tiddler.text;
              }
              if(tidInfo.suffix) {
                tiddler.text = tiddler.text + tidInfo.suffix;
              }
            });
            tiddlers.push({tiddlers: fileTiddlers});
          } else {
            if(tidInfo.prefix) {
              text = tidInfo.prefix + text;
            }
            if(tidInfo.suffix) {
              text = text + tidInfo.suffix;
            }
            tidInfo.fields.text = text;
            tiddlers.push({tiddlers: [tidInfo.fields]});
          }
        });
        // Then any recursive directories
        $tw.utils.each(filesInfo.directories,function(dirPath) {
          var pathname = path.resolve(filepath,dirPath);
          if(fs.existsSync(pathname) && fs.statSync(pathname).isDirectory()) {
            tiddlers.push.apply(tiddlers,$tw.loadTiddlersFromPath(pathname,excludeRegExp));
          }
        });
      } else {
        // If not, read all the files in the directory
        $tw.utils.each(files,function(file) {
          if(!excludeRegExp.test(file) && file !== "plugin.info") {
            tiddlers.push.apply(tiddlers,$tw.loadTiddlersFromPath(filepath + path.sep + file,excludeRegExp));
          }
        });
      }
    } else if(stat.isFile()) {
      tiddlers.push($tw.loadTiddlersFromFile(filepath));
    }
  }
  return tiddlers;
};

/*
Load the tiddlers from a plugin folder, and package them up into a proper JSON plugin tiddler
*/
$tw.loadPluginFolder = function(filepath,excludeRegExp) {
  excludeRegExp = excludeRegExp || $tw.boot.excludeRegExp;
  if(fs.existsSync(filepath) && fs.statSync(filepath).isDirectory()) {
    // Read the plugin information
    var pluginInfo = JSON.parse(fs.readFileSync(filepath + path.sep + "plugin.info","utf8"));
    // Read the plugin files
    var pluginFiles = $tw.loadTiddlersFromPath(filepath,excludeRegExp);
    // Save the plugin tiddlers into the plugin info
    pluginInfo.tiddlers = pluginInfo.tiddlers || Object.create(null);
    for(var f=0; f<pluginFiles.length; f++) {
      var tiddlers = pluginFiles[f].tiddlers;
      for(var t=0; t<tiddlers.length; t++) {
        var tiddler= tiddlers[t];
        if(tiddler.title) {
          pluginInfo.tiddlers[tiddler.title] = tiddler;
        }
      }
    }
    // Give the plugin the same version number as the core if it doesn't have one
    if(!("version" in pluginInfo)) {
      pluginInfo.version = $tw.packageInfo.version;
    }
    // Use "plugin" as the plugin-type if we don't have one
    if(!("plugin-type" in pluginInfo)) {
      pluginInfo["plugin-type"] = "plugin";
    }
    pluginInfo.dependents = pluginInfo.dependents || [];
    pluginInfo.type = "application/json";
    // Set plugin text
    pluginInfo.text = JSON.stringify({tiddlers: pluginInfo.tiddlers},null,4);
    delete pluginInfo.tiddlers;
    // Deserialise array fields (currently required for the dependents field)
    for(var field in pluginInfo) {
      if($tw.utils.isArray(pluginInfo[field])) {
        pluginInfo[field] = $tw.utils.stringifyList(pluginInfo[field]);
      }
    }
    return pluginInfo;
  } else {
      return null;
  }
};

/*
name: Name of the plugin to find
paths: array of file paths to search for it
Returns the path of the plugin folder
*/
$tw.findLibraryItem = function(name,paths) {
  var pathIndex = 0;
  do {
    var pluginPath = path.resolve(paths[pathIndex],"./" + name)
    if(fs.existsSync(pluginPath) && fs.statSync(pluginPath).isDirectory()) {
      return pluginPath;
    }
  } while(++pathIndex < paths.length);
  return null;
};

/*
name: Name of the plugin to load
paths: array of file paths to search for it
*/
$tw.loadPlugin = function(name,paths) {
  var pluginPath = $tw.findLibraryItem(name,paths);
  if(pluginPath) {
    var pluginFields = $tw.loadPluginFolder(pluginPath);
    if(pluginFields) {
      $tw.wiki.addTiddler(pluginFields);
    }
  }
};

/*
libraryPath: Path of library folder for these plugins (relative to core path)
envVar: Environment variable name for these plugins
Returns an array of search paths
*/
$tw.getLibraryItemSearchPaths = function(libraryPath,envVar) {
  var pluginPaths = [path.resolve($tw.boot.corePath,libraryPath)],
    env = process.env[envVar];
  if(env) {
    env.split(path.delimiter).map(function(item) {
      if(item) {
        pluginPaths.push(item)
      }
    });
  }
  return pluginPaths;
};

/*
plugins: Array of names of plugins (eg, "tiddlywiki/filesystemadaptor")
libraryPath: Path of library folder for these plugins (relative to core path)
envVar: Environment variable name for these plugins
*/
$tw.loadPlugins = function(plugins,libraryPath,envVar) {
  if(plugins) {
    var pluginPaths = $tw.getLibraryItemSearchPaths(libraryPath,envVar);
    for(var t=0; t<plugins.length; t++) {
      $tw.loadPlugin(plugins[t],pluginPaths);
    }
  }
};

/*
path: path of wiki directory
options:
  parentPaths: array of parent paths that we mustn't recurse into
  readOnly: true if the tiddler file paths should not be retained
*/
$tw.loadWikiTiddlers = function(wikiPath,options) {
  options = options || {};
  var parentPaths = options.parentPaths || [],
    wikiInfoPath = path.resolve(wikiPath,$tw.config.wikiInfo),
    wikiInfo,
    pluginFields;
  // Bail if we don't have a wiki info file
  if(fs.existsSync(wikiInfoPath)) {
    wikiInfo = JSON.parse(fs.readFileSync(wikiInfoPath,"utf8"));
  } else {
    return null;
  }
  // Load any parent wikis
  if(wikiInfo.includeWikis) {
    parentPaths = parentPaths.slice(0);
    parentPaths.push(wikiPath);
    $tw.utils.each(wikiInfo.includeWikis,function(info) {
      if(typeof info === "string") {
        info = {path: info};
      }
      var resolvedIncludedWikiPath = path.resolve(wikiPath,info.path);
      if(parentPaths.indexOf(resolvedIncludedWikiPath) === -1) {
        var subWikiInfo = $tw.loadWikiTiddlers(resolvedIncludedWikiPath,{
          parentPaths: parentPaths,
          readOnly: info["read-only"]
        });
        // Merge the build targets
        wikiInfo.build = $tw.utils.extend([],subWikiInfo.build,wikiInfo.build);
      } else {
        $tw.utils.error("Cannot recursively include wiki " + resolvedIncludedWikiPath);
      }
    });
  }
  // Load any plugins, themes and languages listed in the wiki info file
  $tw.loadPlugins(wikiInfo.plugins,$tw.config.pluginsPath,$tw.config.pluginsEnvVar);
  $tw.loadPlugins(wikiInfo.themes,$tw.config.themesPath,$tw.config.themesEnvVar);
  $tw.loadPlugins(wikiInfo.languages,$tw.config.languagesPath,$tw.config.languagesEnvVar);
  // Load the wiki files, registering them as writable
  var resolvedWikiPath = path.resolve(wikiPath,$tw.config.wikiTiddlersSubDir);
  $tw.utils.each($tw.loadTiddlersFromPath(resolvedWikiPath),function(tiddlerFile) {
    if(!options.readOnly && tiddlerFile.filepath) {
      $tw.utils.each(tiddlerFile.tiddlers,function(tiddler) {
        $tw.boot.files[tiddler.title] = {
          filepath: tiddlerFile.filepath,
          type: tiddlerFile.type,
          hasMetaFile: tiddlerFile.hasMetaFile
        };
      });
    }
    $tw.wiki.addTiddlers(tiddlerFile.tiddlers);
  });
  // Save the original tiddler file locations if requested
  var config = wikiInfo.config || {};
  if(config["retain-original-tiddler-path"]) {
    var output = {};
    for(var title in $tw.boot.files) {
      output[title] = path.relative(resolvedWikiPath,$tw.boot.files[title].filepath);
    }
    $tw.wiki.addTiddler({title: "$:/config/OriginalTiddlerPaths", type: "application/json", text: JSON.stringify(output)});
  }
  // Save the path to the tiddlers folder for the filesystemadaptor
  $tw.boot.wikiTiddlersPath = path.resolve($tw.boot.wikiPath,config["default-tiddler-location"] || $tw.config.wikiTiddlersSubDir);
  // Load any plugins within the wiki folder
  var wikiPluginsPath = path.resolve(wikiPath,$tw.config.wikiPluginsSubDir);
  if(fs.existsSync(wikiPluginsPath)) {
    var pluginFolders = fs.readdirSync(wikiPluginsPath);
    for(var t=0; t<pluginFolders.length; t++) {
      pluginFields = $tw.loadPluginFolder(path.resolve(wikiPluginsPath,"./" + pluginFolders[t]));
      if(pluginFields) {
        $tw.wiki.addTiddler(pluginFields);
      }
    }
  }
  // Load any themes within the wiki folder
  var wikiThemesPath = path.resolve(wikiPath,$tw.config.wikiThemesSubDir);
  if(fs.existsSync(wikiThemesPath)) {
    var themeFolders = fs.readdirSync(wikiThemesPath);
    for(var t=0; t<themeFolders.length; t++) {
      pluginFields = $tw.loadPluginFolder(path.resolve(wikiThemesPath,"./" + themeFolders[t]));
      if(pluginFields) {
        $tw.wiki.addTiddler(pluginFields);
      }
    }
  }
  // Load any languages within the wiki folder
  var wikiLanguagesPath = path.resolve(wikiPath,$tw.config.wikiLanguagesSubDir);
  if(fs.existsSync(wikiLanguagesPath)) {
    var languageFolders = fs.readdirSync(wikiLanguagesPath);
    for(var t=0; t<languageFolders.length; t++) {
      pluginFields = $tw.loadPluginFolder(path.resolve(wikiLanguagesPath,"./" + languageFolders[t]));
      if(pluginFields) {
        $tw.wiki.addTiddler(pluginFields);
      }
    }
  }
  return wikiInfo;
};

$tw.loadTiddlersNode = function() {
  // Load the boot tiddlers
  $tw.utils.each($tw.loadTiddlersFromPath($tw.boot.bootPath),function(tiddlerFile) {
    $tw.wiki.addTiddlers(tiddlerFile.tiddlers);
  });
  // Load the core tiddlers
  $tw.wiki.addTiddler($tw.loadPluginFolder($tw.boot.corePath));
  // Load the tiddlers from the wiki directory
  if($tw.boot.wikiPath) {
    $tw.boot.wikiInfo = $tw.loadWikiTiddlers($tw.boot.wikiPath);
  }
};

// End of if($tw.node)
}

/////////////////////////// Main startup function called once tiddlers have been decrypted

/*
Startup TiddlyWiki
*/
$tw.boot.startup = function(options) {
  options = options || {};
  // Get the URL hash and check for safe mode
  $tw.locationHash = "#";
  if($tw.browser && !$tw.node) {
    if(location.hash === "#:safe") {
      $tw.safeMode = true;
    } else {
      $tw.locationHash = $tw.utils.getLocationHash();
    }
  }
  // Initialise some more $tw properties
  $tw.utils.deepDefaults($tw,{
    modules: { // Information about each module
      titles: Object.create(null), // hashmap by module title of {fn:, exports:, moduleType:}
      types: {} // hashmap by module type of hashmap of exports
    },
    config: { // Configuration overridables
      pluginsPath: "../plugins/",
      themesPath: "../themes/",
      languagesPath: "../languages/",
      editionsPath: "../editions/",
      wikiInfo: "./tiddlywiki.info",
      wikiPluginsSubDir: "./plugins",
      wikiThemesSubDir: "./themes",
      wikiLanguagesSubDir: "./languages",
      wikiTiddlersSubDir: "./tiddlers",
      wikiOutputSubDir: "./output",
      jsModuleHeaderRegExpString: "^\\/\\*\\\\(?:\\r?\\n)((?:^[^\\r\\n]*(?:\\r?\\n))+?)(^\\\\\\*\\/$(?:\\r?\\n)?)",
      fileExtensionInfo: Object.create(null), // Map file extension to {type:}
      contentTypeInfo: Object.create(null), // Map type to {encoding:,extension:}
      pluginsEnvVar: "TIDDLYWIKI_PLUGIN_PATH",
      themesEnvVar: "TIDDLYWIKI_THEME_PATH",
      languagesEnvVar: "TIDDLYWIKI_LANGUAGE_PATH",
      editionsEnvVar: "TIDDLYWIKI_EDITION_PATH"
    },
    log: {}, // Log flags
    unloadTasks: []
  });
  if(!$tw.boot.tasks.readBrowserTiddlers) {
    // For writable tiddler files, a hashmap of title to {filepath:,type:,hasMetaFile:}
    $tw.boot.files = Object.create(null);
    // System paths and filenames
    $tw.boot.bootPath = path.dirname(module.filename);
    $tw.boot.corePath = path.resolve($tw.boot.bootPath,"../core");
    // If there's no arguments then default to `--help`
    if($tw.boot.argv.length === 0) {
      $tw.boot.argv = ["--help"];
    }
    // If the first command line argument doesn't start with `--` then we
    // interpret it as the path to the wiki folder, which will otherwise default
    // to the current folder
    if($tw.boot.argv[0] && $tw.boot.argv[0].indexOf("--") !== 0) {
      $tw.boot.wikiPath = $tw.boot.argv[0];
      $tw.boot.argv = $tw.boot.argv.slice(1);
    } else {
      $tw.boot.wikiPath = process.cwd();
    }
    // Read package info
    $tw.packageInfo = $tw.packageInfo || require("../package.json");
    // Check node version number
    if(!$tw.utils.checkVersions(process.version.substr(1),$tw.packageInfo.engines.node.substr(2))) {
      $tw.utils.error("TiddlyWiki5 requires node.js version " + $tw.packageInfo.engines.node);
    }
  }
  // Add file extension information
  $tw.utils.registerFileType("text/vnd.tiddlywiki","utf8",".tid");
  $tw.utils.registerFileType("application/x-tiddler","utf8",".tid");
  $tw.utils.registerFileType("application/x-tiddlers","utf8",".multids");
  $tw.utils.registerFileType("application/x-tiddler-html-div","utf8",".tiddler");
  $tw.utils.registerFileType("text/vnd.tiddlywiki2-recipe","utf8",".recipe");
  $tw.utils.registerFileType("text/plain","utf8",".txt");
  $tw.utils.registerFileType("text/css","utf8",".css");
  $tw.utils.registerFileType("text/html","utf8",[".html",".htm"]);
  $tw.utils.registerFileType("application/hta","utf16le",".hta",{deserializerType:"text/html"});
  $tw.utils.registerFileType("application/javascript","utf8",".js");
  $tw.utils.registerFileType("application/json","utf8",".json");
  $tw.utils.registerFileType("application/pdf","base64",".pdf",{flags:["image"]});
  $tw.utils.registerFileType("application/zip","base64",".zip");
  $tw.utils.registerFileType("image/jpeg","base64",[".jpg",".jpeg"],{flags:["image"]});
  $tw.utils.registerFileType("image/png","base64",".png",{flags:["image"]});
  $tw.utils.registerFileType("image/gif","base64",".gif",{flags:["image"]});
  $tw.utils.registerFileType("image/svg+xml","utf8",".svg",{flags:["image"]});
  $tw.utils.registerFileType("image/x-icon","base64",".ico",{flags:["image"]});
  $tw.utils.registerFileType("application/font-woff","base64",".woff");
  $tw.utils.registerFileType("audio/ogg","base64",".ogg");
  $tw.utils.registerFileType("video/mp4","base64",".mp4");
  $tw.utils.registerFileType("audio/mp3","base64",".mp3");
  $tw.utils.registerFileType("audio/mp4","base64",[".mp4",".m4a"]);
  $tw.utils.registerFileType("text/x-markdown","utf8",[".md",".markdown"]);
  // Create the wiki store for the app
  $tw.wiki = new $tw.Wiki();
  // Install built in tiddler fields modules
  $tw.Tiddler.fieldModules = $tw.modules.getModulesByTypeAsHashmap("tiddlerfield");
  // Install the tiddler deserializer modules
  $tw.Wiki.tiddlerDeserializerModules = Object.create(null);
  $tw.modules.applyMethods("tiddlerdeserializer",$tw.Wiki.tiddlerDeserializerModules);
  // Call unload handlers in the browser
  if($tw.browser) {
    window.onbeforeunload = function(event) {
      event = event || {};
      var result;
      $tw.utils.each($tw.unloadTasks,function(task) {
        var r = task(event);
        if(r) {
          result = r;
        }
      });
      return result;
    }
  }
  // Load tiddlers
  if($tw.boot.tasks.readBrowserTiddlers) {
    $tw.loadTiddlersBrowser();
  } else {
    $tw.loadTiddlersNode();
  }
  // Load any preloaded tiddlers
  if($tw.preloadTiddlers) {
    $tw.wiki.addTiddlers($tw.preloadTiddlers);
  }
  // Unpack plugin tiddlers
  $tw.wiki.readPluginInfo();
  $tw.wiki.registerPluginTiddlers("plugin",$tw.safeMode ? ["$:/core"] : undefined);
  $tw.wiki.unpackPluginTiddlers();
  // Process "safe mode"
  if($tw.safeMode) {
    $tw.wiki.processSafeMode();
  }
  // Register typed modules from the tiddlers we've just loaded
  $tw.wiki.defineTiddlerModules();
  // And any modules within plugins
  $tw.wiki.defineShadowModules();
  // Make sure the crypto state tiddler is up to date
  if($tw.crypto) {
    $tw.crypto.updateCryptoStateTiddler();
  }
  // Gather up any startup modules
  $tw.boot.remainingStartupModules = []; // Array of startup modules
  $tw.modules.forEachModuleOfType("startup",function(title,module) {
    if(module.startup) {
      $tw.boot.remainingStartupModules.push(module);
    }
  });
  // Keep track of the startup tasks that have been executed
  $tw.boot.executedStartupModules = Object.create(null);
  $tw.boot.disabledStartupModules = $tw.boot.disabledStartupModules || [];
  // Repeatedly execute the next eligible task
  $tw.boot.executeNextStartupTask();
};

/*
Add another unload task
*/
$tw.addUnloadTask = function(task) {
  if($tw.unloadTasks.indexOf(task) === -1) {
    $tw.unloadTasks.push(task);
  }
}

/*
Execute the remaining eligible startup tasks
*/
$tw.boot.executeNextStartupTask = function() {
  // Find the next eligible task
  var taskIndex = 0, task,
    asyncTaskCallback = function() {
      if(task.name) {
        $tw.boot.executedStartupModules[task.name] = true;
      }
      return $tw.boot.executeNextStartupTask();
    };
  while(taskIndex < $tw.boot.remainingStartupModules.length) {
    task = $tw.boot.remainingStartupModules[taskIndex];
    if($tw.boot.isStartupTaskEligible(task)) {
      // Remove this task from the list
      $tw.boot.remainingStartupModules.splice(taskIndex,1);
      // Assemble log message
      var s = ["Startup task:",task.name];
      if(task.platforms) {
        s.push("platforms:",task.platforms.join(","));
      }
      if(task.after) {
        s.push("after:",task.after.join(","));
      }
      if(task.before) {
        s.push("before:",task.before.join(","));
      }
      $tw.boot.log(s.join(" "));
      // Execute task
      if(!$tw.utils.hop(task,"synchronous") || task.synchronous) {
        task.startup();
        if(task.name) {
          $tw.boot.executedStartupModules[task.name] = true;
        }
        return $tw.boot.executeNextStartupTask();
      } else {
        task.startup(asyncTaskCallback);
        return true;
      }
    }
    taskIndex++;
  }
  return false;
};

/*
Returns true if we are running on one platforms specified in a task modules `platforms` array
*/
$tw.boot.doesTaskMatchPlatform = function(taskModule) {
  var platforms = taskModule.platforms;
  if(platforms) {
    for(var t=0; t<platforms.length; t++) {
      if((platforms[t] === "browser" && !$tw.browser) || (platforms[t] === "node" && !$tw.node)) {
        return false;
      }
    }
  }
  return true;
};

$tw.boot.isStartupTaskEligible = function(taskModule) {
  var t;
  // Check that the platform is correct
  if(!$tw.boot.doesTaskMatchPlatform(taskModule)) {
    return false;
  }
  var name = taskModule.name,
    remaining = $tw.boot.remainingStartupModules;
  if(name) {
    // Fail if this module is disabled
    if($tw.boot.disabledStartupModules.indexOf(name) !== -1) {
      return false;
    }
    // Check that no other outstanding tasks must be executed before this one
    for(t=0; t<remaining.length; t++) {
      var task = remaining[t];
      if(task.before && task.before.indexOf(name) !== -1) {
        if($tw.boot.doesTaskMatchPlatform(task) || (task.name && $tw.boot.disabledStartupModules.indexOf(name) !== -1)) {
          return false;
        }
      }
    }
  }
  // Check that all of the tasks that we must be performed after has been done
  var after = taskModule.after;
  if(after) {
    for(t=0; t<after.length; t++) {
      if(!$tw.boot.executedStartupModules[after[t]]) {
        return false;
      }
    }
  }
  return true;
};

/*
Global Hooks mechanism which allows plugins to modify default functionality
*/
$tw.hooks = $tw.hooks || { names: {}};

/*
Add hooks to the  hashmap
*/
$tw.hooks.addHook = function(hookName,definition) {
  if($tw.utils.hop($tw.hooks.names,hookName)) {
    $tw.hooks.names[hookName].push(definition);
  }
  else {
    $tw.hooks.names[hookName] = [definition];
  }
};

/*
Invoke the hook by key
*/
$tw.hooks.invokeHook = function(hookName, value) {
  if($tw.utils.hop($tw.hooks.names,hookName)) {
    for (var i = 0; i < $tw.hooks.names[hookName].length; i++) {
      value = $tw.hooks.names[hookName][i](value);
    }
  }
  return value;
};

/////////////////////////// Main boot function to decrypt tiddlers and then startup

$tw.boot.boot = function() {
  // Initialise crypto object
  $tw.crypto = new $tw.utils.Crypto();
  // Initialise password prompter
  if($tw.browser && !$tw.node) {
    $tw.passwordPrompt = new $tw.utils.PasswordPrompt();
  }
  // Preload any encrypted tiddlers
  $tw.boot.decryptEncryptedTiddlers(function() {
    // Startup
    $tw.boot.startup();
  });
};

/////////////////////////// Autoboot in the browser

if($tw.browser && !$tw.boot.suppressBoot) {
  $tw.boot.boot();
}

return $tw;

});

if(typeof(exports) !== "undefined") {
  exports.TiddlyWiki = _boot;
} else {
  _boot(window.$tw);
}
</script>
</div>
</body>
</html>
